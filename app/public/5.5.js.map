{"version":3,"sources":["webpack:///./node_modules/@bpmn-io/snarkdown/dist/snarkdown.es.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact-markup/dist/preact-markup.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@bpmn-io/form-js-viewer/node_modules/didi/dist/index.esm.js","webpack:///./node_modules/@bpmn-io/form-js-viewer/dist/index.es.js","webpack:///./node_modules/@bpmn-io/form-js-editor/dist/index.es.js","webpack:///./node_modules/@bpmn-io/form-js/dist/index.es.js","webpack:///./node_modules/@bpmn-io/form-js/dist/assets/dragula.css?eeea","webpack:///./node_modules/@bpmn-io/form-js/dist/assets/dragula.css","webpack:///./node_modules/@bpmn-io/form-js/dist/assets/form-js.css?e443","webpack:///./node_modules/@bpmn-io/form-js/dist/assets/form-js.css","webpack:///./node_modules/@bpmn-io/form-js/dist/assets/form-js-editor.css?6bec","webpack:///./node_modules/@bpmn-io/form-js/dist/assets/form-js-editor.css","webpack:///./node_modules/dragula/dragula.js","webpack:///./node_modules/contra/emitter.js","webpack:///./node_modules/atoa/atoa.js","webpack:///./node_modules/contra/debounce.js","webpack:///./node_modules/ticky/ticky-browser.js","webpack:///./node_modules/crossvent/src/crossvent.js","webpack:///./node_modules/custom-event/index.js","webpack:///./node_modules/crossvent/src/eventmap.js","webpack:///./node_modules/dragula/classes.js","webpack:///./node_modules/array-move/index.js","webpack:///./node_modules/codemirror/mode/javascript/javascript.js"],"names":["_","e","replace","RegExp","match","a","o","c","l","s","g","p","u","h","m","i","f","d","n","r","t","length","pop","push","$","toLowerCase","exec","substring","index","lastIndex","test","parentNode","removeChild","arguments","children","call","defaultProps","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","this","context","k","indexOf","base","__r","debounceRendering","sort","some","__P","j","__n","ownerSVGElement","z","v","b","w","A","Array","isArray","P","N","M","appendChild","nextSibling","insertBefore","setProperty","H","style","cssText","slice","addEventListener","T","I","removeEventListener","setAttribute","removeAttribute","event","y","x","contextType","value","__E","prototype","render","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","current","unmount","componentWillUnmount","S","firstChild","D","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","__source","__self","__H","F","shift","requestAnimationFrame","clearTimeout","cancelAnimationFrame","filter","textContent","nodeValue","options","trim","String","nodeName","allowScripts","allowEvents","Function","map","visitor","hasOwnProperty","Object","keys","reduce","toUpperCase","apply","__proto__","create","setReviver","wrap","markup","setComponents","components","reviver","onError","C","DOMParser","parseFromString","implementation","createHTMLDocument","body","contentWindow","open","write","close","getElementsByTagName","error","lastChild","Error","console","E","isPureReactComponent","__f","Symbol","for","__u","U","__R","__O","fallback","delete","revealOrder","size","W","get","Map","reverse","set","V","isReactComponent","defineProperty","configurable","writable","Z","Y","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","J","class","K","multiple","selected","defaultValue","className","enumerable","$$typeof","Q","CLASS_PATTERN","obj","toString","hasOwnProp","prop","annotate","args","fn","$inject","CONSTRUCTOR_ARGS","FN_ARGS","FN_ARG","parseAnnotations","isClass","split","arg","Module","providers","factory","iterator","Injector","modules","parent","strict","currentlyResolving","_providers","instances","_instances","self","injector","msg","stack","join","parts","pivot","fnDef","locals","dependencies","dep","instantiate","Type","def","concat","invoke","func","createPrivateInjectorFactory","privateChildInjector","factoryMap","module","arrayUnwrap","provider","__exports__","clonedModule","privateInjector","__modules__","getFromPrivateInjector","createChild","forceNewInstances","cacheIdx","privateChildInjectorFactory","fromParentModule","matchedScopes","privateInjectorsCache","privateChildInjectors","privateChildFactories","$scope","scope","unshift","createInjector","bootstrapModules","hasModule","includes","visit","__depends__","addModule","__init__","component","err","createFormContainer","prefix","container","classList","add","pathStringify","path","indices","generateIdForType","generateIndexForType","replacer","JSON","parse","stringify","EventBus","_listeners","on","_destroy","InternalEvent","events","priority","callback","that","actualCallback","_addListener","next","once","wrappedCallback","__isTomb","result","off","_removeListener","createEvent","init","fire","firstListener","returnValue","originalType","_invokeListeners","undefined","handleError","listener","_invokeListener","invokeFunction","stopPropagation","preventDefault","newListener","previousListener","_getListeners","_setListeners","nextListener","listenerCallback","eventBus","_eventBus","_formFields","clear","_ids","_keys","formField","id","values","getAll","formFieldRegistry","formFields","_formFieldRegistry","schema","warnings","importedSchema","importFormField","importData","parentId","_parent","assigned","claim","_path","importFormFields","importedData","emptyValue","ALLOWED_NODES","ALLOWED_ATTRIBUTES","ALLOWED_URI_PATTERN","ATTR_WHITESPACE_PATTERN","FORM_ELEMENT","sanitizeHTML","html","doc","normalize","element","sanitizeNode","node","remove","lcTag","tagName","attribute","lcName","isValidAttribute","getAttribute","XMLSerializer","serializeToString","formFieldClasses","errors","classes","prefixId","formId","safeMarkdown","markdown","line","markdownToHTML","Button","disabled","field","action","label","keyed","FormRenderContext","Empty","Children","Element","FormContext","getService","Description","description","Errors","Label","required","Checkbox","onChange","target","useService","noop$1","FormField","form","properties","_getState","FormFieldComponent","fieldErrors","findErrors","readOnly","Default","childField","Logo","xmlns","viewBox","width","height","fill","Lightbox","onClick","onBackdropClick","href","rel","Link","title","PoweredBy","setOpen","toggleOpen","noop","FormComponent","onSubmit","onReset","validate","onInput","parsedValue","parseInt","isNaN","Radio","Select","Text","text","Textfield","FormFields","register","config","App","formContext","_id","newState","update","_update","submit","reset","DebounceFactory","timeout","FieldFactory","attrs","applyDefaults","fieldDefinition","labelAttrs","_ensureId","_ensureKey","nextPrefixed","fieldFactory","_fieldFactory","fieldAttrs","importer","DragAndDropContext","drake","FormEditorContext","_extends$c","assign","source","_extends$b","_extends$a","_extends$9","_extends$8","_extends$7","_extends$6","_extends$5","_extends$4","iconsByType","button","styles","fillRule","checkbox","columns","number","radio","select","textfield","default","rx","types","Palette","Icon","textToLabel","INPUTS","CheckboxInput","useDebounce","debounce","flush","NumberInput","max","min","_onInput","validity","valid","option","Textarea","rows","spellcheck","TextInput","prevValue","usePrevious","cachedValue","setCachedValue","setError","CheckboxInputEntry","editField","NumberInputEntry","SelectEntry","TextareaEntry","TextInputEntry","_extends$3","CreateIcon","_extends$2","ListArrowIcon","_extends$1","ListDeleteIcon","_extends","SectionArrowIcon","CollapsibleEntry","removeEntry","collapsed","setCollapsed","Group","hasEntries","addEntry","ActionEntry","ColumnsEntry","DescriptionEntry","DefaultValueEntry","parseStringToBoolean","parseBooleanToString","DisabledEntry","IdEntry","idValue","SPACE_REGEX","containsSpace","ID_REGEX","QNAME_REGEX","validateId","KeyEntry","LabelEntry","TextEntry","ValueEntry","getValue","CustomValueEntry","getKey","updateValue","oldKey","newKey","entries","newProperties","entry","updateKey","GeneralGroup","CustomValuesGroup","validateFactory","removeKey","labelsByType","getGroups","groups","find","array","item","copy","arrayAdd$1","arrayRemove$1","ValuesGroup","ValidationGroup","PropertiesPanel","onFocusCapture","onBlurCapture","ContextPad","formEditor","modeling","selection","scrollIntoView","elementBounds","getBoundingClientRect","containerBounds","_container","top","bottom","isSelected","toggle","parentField","getFormFieldIndex","removeFormField","FormEditor$1","selectedFormField","setSelection","handleSelectionChanged","setDrake","dragAndDropContext","createDragulaInstance","dragulaInstance","isContainer","el","contains","accepts","slideFactorX","slideFactorY","sibling","targetFormField","dataset","siblingFormField","targetIndex","fieldType","addFormField","sourceFormField","sourceIndex","moveFormField","onDetach","destroy","onAttach","formRenderContext","editFormField","CreatePreview","fieldFormIndex","handleCloned","clone","original","renderConfig","compact","formEditorContext","renderer","newId","_validateId","EditorActions","_actions","_registerDefaultActions","editorActions","message","commandStack","zoomScroll","copyPaste","canvas","rules","keyboardMove","keyboardMoveSelection","undo","redo","selectedElements","paste","opts","stepZoom","zoom","removableElements","allowed","elements","removeElements","moveCanvas","moveSelection","direction","accelerated","trigger","actions","_registerAction","isRegistered","unregister","getActions","EditorActionsModule$1","FormEditorActions","super","EditorActionsModule","isCmd","altKey","ctrlKey","metaKey","isKey","keyCode","isShift","shiftKey","Keyboard","_config","_keydownHandler","_keyupHandler","_fire","unbind","bindTo","_keyHandler","_isEventIgnored","keyEvent","contentEditable","_isModifiedKeyIgnored","_getAllowedModifiers","modifierContainer","_node","getBinding","addListener","removeListener","hasModifier","KEYS_COPY","KEYS_PASTE","KEYS_REDO","KEYS_UNDO","KeyboardBindings","keyboard","registerBindings","KeyboardModule$1","keyboardBindings","FormEditorKeyboardBindings","KeyboardModule","arrayAdd","arrayRemove","updatePath","_formEditor","targetPath","_setState","EditFormFieldHandler","oldProperties","property","updateId","revert","sourcePath","UpdateIdClaimHandler","claiming","unclaim","UpdateKeyClaimHandler","_commandStack","registerHandlers","getHandlers","handler","registerHandler","execute","CommandInterceptor","hook","handlerFn","unwrap","fullEvent","command","unwrapEvent","IdBehavior","preExecute","unclaimId","claimId","KeyBehavior","unclaimKey","claimKey","behaviorModule","idBehavior","keyBehavior","CommandStack","_handlerMap","_stack","_stackIdx","_currentExecution","dirty","_injector","_uid","_pushAction","_internalExecute","_popAction","canExecute","_getHandler","emit","_getUndoAction","_internalUndo","_getRedoAction","_setHandler","handlerCls","canUndo","canRedo","_atomicDo","_markDirty","_revertedAction","qualifier","names","_createId","execution","atomic","_executedAction","postExecute","baseAction","stackIdx","ModelingModule","Selection","_selection","newSelection","SelectionBehavior","SelectionModule","selectionBehavior","exporter","_createInjector","_state","attachTo","_emit","_detach","reject","importSchema","getSchema","schemaVersion","exportDetails","exportSchema","detach","querySelector","additionalModules","_getModules","content","transform","exports","emitter","crossvent","documentElement","touchy","op","global","navigator","pointerEnabled","mouseup","mousedown","mousemove","msPointerEnabled","whichMouseButton","touches","which","buttons","getOffset","rect","left","getScroll","scrollProp","offsetProp","clientHeight","getElementBehindPoint","point","elementFromPoint","never","always","getRectWidth","right","getRectHeight","getParent","isInput","isEditable","nextEl","nextElementSibling","manually","getCoord","coord","host","targetTouches","changedTouches","getEventHost","missMap","pageX","pageY","initialContainers","_mirror","_source","_item","_offsetX","_offsetY","_moveX","_moveY","_initialSibling","_currentSibling","_copy","_renderTimer","len","_grabbed","_lastDropTarget","moves","invalid","invalidTarget","containers","copySortSource","revertOnSpill","removeOnSpill","ignoreInputTextSelection","mirrorContainer","start","manualStart","end","cancel","canMove","dragging","spillOver","spillOut","grab","release","eventualMovements","startBecauseMouseMoved","movements","preventGrabbed","clientX","clientY","canStart","focus","Math","abs","grabbed","offset","renderMirrorImage","drag","handle","isCopy","cloneNode","drop","ungrab","dropTarget","findDropTarget","isInitialPlacement","cleanup","reverts","initial","removeMirrorImage","rm","elementBehindCursor","accepted","immediate","getImmediateChild","reference","getReference","changed","moved","horizontal","inside","outside","after","atoa","thing","evt","_once","et","emitterSnapshot","ctx","throws","listen","async","ticky","tick","setImmediate","customEvent","eventmap","addEvent","capturing","removeEvent","hardCache","wrapper","attachEvent","originalEvent","srcElement","wrapperFactory","detachEvent","fabricate","model","detail","initEvent","createEventObject","makeClassicEvent","dispatchEvent","fireEvent","NativeCustomEvent","CustomEvent","foo","useNative","params","initCustomEvent","bubbles","cancelable","Boolean","eventname","ron","cache","lookupClass","cached","arrayMoveMutate","from","to","startIndex","endIndex","mutate","CodeMirror","defineMode","parserConfig","indentUnit","statementIndent","jsonldMode","jsonld","jsonMode","json","trackScope","isTS","typescript","wordRE","wordCharacters","keywords","kw","B","operator","atom","isOperatorChar","isJsonldKeyword","ret","tp","cont","tokenBase","stream","quote","ch","tokenize","escaped","peek","eat","tokenComment","skipToEnd","expressionAllowed","inSet","readRegexp","tokenQuasi","eatWhile","string","lexical","word","lastType","propertyIsEnumerable","maybeEnd","findFatArrow","fatArrowAt","arrow","depth","sawSomething","pos","charAt","bracket","atomicTypes","JSLexical","indented","column","align","prev","info","inScope","varname","localVars","cx","vars","parseJS","cc","marked","expression","statement","lex","pass","inList","list","block","newContext","registerVarScoped","inner","Context","Var","globalVars","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","indent","outer","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","pattern","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","targetNoComma","maybeTypeArgs","maybeTarget","me","expr","backUp","continueQuasi","getterSetter","afterprop","maybetype","what","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprops","typearg","maybeReturnType","quasiType","typeprop","functiondecl","continueQuasiType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","startState","basecolumn","token","sol","indentation","eatSpace","textAfter","Pass","firstChar","closing","isContinuedStatement","doubleIndentSwitch","electricInput","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","closeBrackets","helperType","skipExpression","StringStream","registerHelper","defineMIME","mod"],"mappings":"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","file":"5.5.js","sourcesContent":["var e={\"\":[\"<em>\",\"</em>\"],_:[\"<strong>\",\"</strong>\"],\"*\":[\"<strong>\",\"</strong>\"],\"~\":[\"<s>\",\"</s>\"],\"\\n\":[\"<br />\"],\" \":[\"<br />\"],\"-\":[\"<hr />\"]};function n(e){return e.replace(RegExp(\"^\"+(e.match(/^(\\t| )+/)||\"\")[0],\"gm\"),\"\")}function r(e){return(e+\"\").replace(/\"/g,\"&quot;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}export default function t(a,o){var c,l,s,g,p,u=/((?:^|\\n+)(?:\\n---+|\\* \\*(?: \\*)+)\\n)|(?:^``` *(\\w*)\\n([\\s\\S]*?)\\n```$)|((?:(?:^|\\n+)(?:\\t|  {2,}).+)+\\n*)|((?:(?:^|\\n)([>*+-]|\\d+\\.)\\s+.*)+)|(?:!\\[([^\\]]*?)\\]\\(([^)]+?)\\))|(\\[)|(\\](?:\\(([^)]+?)\\))?)|(?:(?:^|\\n+)([^\\s].*)\\n(-{3,}|={3,})(?:\\n+|$))|(?:(?:^|\\n+)(#{1,6})\\s*(.+)(?:\\n+|$))|(?:`([^`].*?)`)|(  \\n\\n*|\\n{2,}|__|\\*\\*|[_*]|~~)|<([^>]+)>/gm,h=[],m=\"\",i=o||{},f=0;function d(n){var r=e[n[1]||\"\"],t=h[h.length-1]==n;return r?r[1]?(t?h.pop():h.push(n),r[0|t]):r[0]:n}function $(){for(var e=\"\";h.length;)e+=d(h[h.length-1]);return e}for(a=a.replace(/^\\[(.+?)\\]:\\s*(.+)$/gm,function(e,n,r){return i[n.toLowerCase()]=r,\"\"}).replace(/^\\n+|\\n+$/g,\"\");s=u.exec(a);)l=a.substring(f,s.index),f=u.lastIndex,c=s[0],l.match(/[^\\\\](\\\\\\\\)*\\\\$/)||((p=s[3]||s[4])?c='<pre class=\"code '+(s[4]?\"poetry\":s[2].toLowerCase())+'\"><code'+(s[2]?' class=\"language-'+s[2].toLowerCase()+'\"':\"\")+\">\"+n(r(p).replace(/^\\n+|\\n+$/g,\"\"))+\"</code></pre>\":(p=s[6])?(p.match(/\\./)&&(s[5]=s[5].replace(/^\\d+/gm,\"\")),g=t(n(s[5].replace(/^\\s*[>*+.-]/gm,\"\"))),\">\"==p?p=\"blockquote\":(p=p.match(/\\./)?\"ol\":\"ul\",g=g.replace(/^(.*)(\\n|$)/gm,\"<li>$1</li>\")),c=\"<\"+p+\">\"+g+\"</\"+p+\">\"):s[8]?c='<img src=\"'+r(s[8])+'\" alt=\"'+r(s[7])+'\">':s[10]?(m=m.replace(\"<a>\",'<a href=\"'+r(s[11]||i[l.toLowerCase()])+'\">'),c=$()+\"</a>\"):s[18]&&/^(https?|mailto):/.test(s[18])?c='<a href=\"'+r(s[18])+'\">'+r(s[18])+\"</a>\":s[9]?c=\"<a>\":s[12]||s[14]?c=\"<\"+(p=\"h\"+(s[14]?s[14].length:s[13]>\"=\"?1:2))+\">\"+t(s[12]||s[15],i)+\"</\"+p+\">\":s[16]?c=\"<code>\"+r(s[16])+\"</code>\":(s[17]||s[1])&&(c=d(s[17]||\"--\"))),m+=l,m+=c;return(m+a.substring(f)+$()).replace(/^\\n+|\\n+$/g,\"\")}\n//# sourceMappingURL=snarkdown.es.js.map\n","var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as r,Fragment as _}from\"preact\";export{Fragment}from\"preact\";var o=0;function e(_,e,n,t,f){var l,s,u={};for(s in e)\"ref\"==s?l=e[s]:u[s]=e[s];var a={type:_,props:u,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--o,__source:t,__self:f};if(\"function\"==typeof _&&(l=_.defaultProps))for(s in l)void 0===u[s]&&(u[s]=l[s]);return r.vnode&&r.vnode(a),a}export{e as jsx,e as jsxs,e as jsxDEV};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){for(var t;t=i.shift();)if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{g(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{h as r,Component as t}from\"preact\";var e,o={};function n(r,t,e){if(3===r.nodeType){var o=\"textContent\"in r?r.textContent:r.nodeValue||\"\";if(!1!==n.options.trim){var a=0===t||t===e.length-1;if((!(o=o.match(/^[\\s\\n]+$/g)&&\"all\"!==n.options.trim?\" \":o.replace(/(^[\\s\\n]+|[\\s\\n]+$)/g,\"all\"===n.options.trim||a?\"\":\" \"))||\" \"===o)&&e.length>1&&a)return null}return o}if(1!==r.nodeType)return null;var p=String(r.nodeName).toLowerCase();if(\"script\"===p&&!n.options.allowScripts)return null;var l,s,u=n.h(p,function(r){var t=r&&r.length;if(!t)return null;for(var e={},o=0;o<t;o++){var a=r[o],i=a.name,p=a.value;\"on\"===i.substring(0,2)&&n.options.allowEvents&&(p=new Function(p)),e[i]=p}return e}(r.attributes),(s=(l=r.childNodes)&&Array.prototype.map.call(l,n).filter(i))&&s.length?s:null);return n.visitor&&n.visitor(u),u}var a,i=function(r){return r},p={};function l(r){var t=(r.type||\"\").toLowerCase(),e=l.map;e&&e.hasOwnProperty(t)?(r.type=e[t],r.props=Object.keys(r.props||{}).reduce(function(t,e){var o;return t[(o=e,o.replace(/-(.)/g,function(r,t){return t.toUpperCase()}))]=r.props[e],t},{})):r.type=t.replace(/[^a-z0-9-]/i,\"\")}export default(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.setReviver=function(r){a=r},i.prototype.shouldComponentUpdate=function(r){var t=this.props;return r.wrap!==t.wrap||r.type!==t.type||r.markup!==t.markup},i.prototype.setComponents=function(r){if(this.map={},r)for(var t in r)if(r.hasOwnProperty(t)){var e=t.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,\"$1$3-$2$4\").toLowerCase();this.map[e]=r[t]}},i.prototype.render=function(t){var i=t.wrap;void 0===i&&(i=!0);var s,u=t.type,c=t.markup,m=t.components,v=t.reviver,f=t.onError,d=t[\"allow-scripts\"],h=t[\"allow-events\"],y=t.trim,w=function(r,t){var e={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&-1===t.indexOf(o)&&(e[o]=r[o]);return e}(t,[\"wrap\",\"type\",\"markup\",\"components\",\"reviver\",\"onError\",\"allow-scripts\",\"allow-events\",\"trim\"]),C=v||this.reviver||this.constructor.prototype.reviver||a||r;this.setComponents(m);var g={allowScripts:d,allowEvents:h,trim:y};try{s=function(r,t,a,i,s){var u=function(r,t){var o,n,a,i,p=\"html\"===t?\"text/html\":\"application/xml\";\"html\"===t?(i=\"body\",a=\"<!DOCTYPE html>\\n<html><body>\"+r+\"</body></html>\"):(i=\"xml\",a='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<xml>'+r+\"</xml>\");try{o=(new DOMParser).parseFromString(a,p)}catch(r){n=r}if(o||\"html\"!==t||((o=e||(e=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument(\"\");var r=document.createElement(\"iframe\");return r.style.cssText=\"position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;\",r.setAttribute(\"sandbox\",\"allow-forms\"),document.body.appendChild(r),r.contentWindow.document}())).open(),o.write(a),o.close()),o){var l=o.getElementsByTagName(i)[0],s=l.firstChild;return r&&!s&&(l.error=\"Document parse failed.\"),s&&\"parsererror\"===String(s.nodeName).toLowerCase()&&(s.removeChild(s.firstChild),s.removeChild(s.lastChild),l.error=s.textContent||s.nodeValue||n||\"Unknown error\",l.removeChild(s)),l}}(r,t);if(u&&u.error)throw new Error(u.error);var c=u&&u.body||u;l.map=i||p;var m=c&&function(r,t,e,a){return n.visitor=t,n.h=e,n.options=a||o,n(r)}(c,l,a,s);return l.map=null,m&&m.props&&m.props.children||null}(c,u,C,this.map,g)}catch(r){f?f({error:r}):\"undefined\"!=typeof console&&console.error&&console.error(\"preact-markup: \"+r)}if(!1===i)return s||null;var x=w.hasOwnProperty(\"className\")?\"className\":\"class\",b=w[x];return b?b.splice?b.splice(0,0,\"markup\"):\"string\"==typeof b?w[x]+=\" markup\":\"object\"==typeof b&&(b.markup=!0):w[x]=\"markup\",C(\"div\",w,s||null)},i}(t));\n//# sourceMappingURL=preact-markup.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as c,useDebugValue as f}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as d,Fragment as v,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=C({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:d(d(n).map(t))},k={map:N,forEach:N,count:function(n){return n?d(n).length:0},only:function(n){var t=d(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:d},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=d(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=\"undefined\"!=typeof document,z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function B(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function $(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];V&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!z(e.type)?o=\"oninput\":/^onfocus$/i.test(o)?o=\"onfocusin\":/^onblur$/i.test(o)?o=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=d(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=d(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=j,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===j}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},cn=function(n,t){return n(t)},fn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:c,useDebugValue:f,version:\"17.0.2\",Children:k,render:B,hydrate:$,unmountComponentAtNode:un,createPortal:W,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:v,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:cn,unstable_batchedUpdates:ln,StrictMode:v,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{nn as version,k as Children,B as render,$ as hydrate,un as unmountComponentAtNode,W as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,x as forwardRef,cn as flushSync,ln as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","var CLASS_PATTERN = /^class /;\n\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nfunction annotate() {\n  var args = Array.prototype.slice.call(arguments);\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  var fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nvar CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARGS = /^(?:async )?(?:function\\s*)?[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\nfunction parseAnnotations(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error('Cannot annotate \"' + fn + '\". Expected a function!');\n  }\n\n  var match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  return match[1] && match[1].split(',').map(function(arg) {\n    match = arg.match(FN_ARG);\n    return match ? match[1].trim() : arg.trim();\n  }) || [];\n}\n\nfunction Module() {\n  var providers = [];\n\n  this.factory = function(name, factory) {\n    providers.push([name, 'factory', factory]);\n    return this;\n  };\n\n  this.value = function(name, value) {\n    providers.push([name, 'value', value]);\n    return this;\n  };\n\n  this.type = function(name, type) {\n    providers.push([name, 'type', type]);\n    return this;\n  };\n\n  this.forEach = function(iterator) {\n    providers.forEach(iterator);\n  };\n\n}\n\nfunction Injector(modules, parent) {\n  parent = parent || {\n    get: function(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error('No provider for \"' + name + '\"!');\n      }\n    }\n  };\n\n  var currentlyResolving = [];\n  var providers = this._providers = Object.create(parent._providers || null);\n  var instances = this._instances = Object.create(null);\n\n  var self = instances.injector = this;\n\n  var error = function(msg) {\n    var stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? msg + ' (Resolving: ' + stack + ')' : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {String} name\n   * @param {Boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {Object}\n   */\n  var get = function(name, strict) {\n    if (!providers[name] && name.indexOf('.') !== -1) {\n      var parts = name.split('.');\n      var pivot = get(parts.shift());\n\n      while (parts.length) {\n        pivot = pivot[parts.shift()];\n      }\n\n      return pivot;\n    }\n\n    if (hasOwnProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasOwnProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  };\n\n  var fnDef = function(fn, locals) {\n\n    if (typeof locals === 'undefined') {\n      locals = {};\n    }\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw new Error('Cannot invoke \"' + fn + '\". Expected a function!');\n      }\n    }\n\n    var inject = fn.$inject || parseAnnotations(fn);\n    var dependencies = inject.map(function(dep) {\n      if (hasOwnProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies: dependencies\n    };\n  };\n\n  var instantiate = function(Type) {\n    var def = fnDef(Type);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    // instantiate var args constructor\n    var Constructor = Function.prototype.bind.apply(fn, [ null ].concat(dependencies));\n\n    return new Constructor();\n  };\n\n  var invoke = function(func, context, locals) {\n    var def = fnDef(func, locals);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    return fn.apply(context, dependencies);\n  };\n\n\n  var createPrivateInjectorFactory = function(privateChildInjector) {\n    return annotate(function(key) {\n      return privateChildInjector.get(key);\n    });\n  };\n\n  var createChild = function(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      var fromParentModule = Object.create(null);\n      var matchedScopes = Object.create(null);\n\n      var privateInjectorsCache = [];\n      var privateChildInjectors = [];\n      var privateChildFactories = [];\n\n      var provider;\n      var cacheIdx;\n      var privateChildInjector;\n      var privateChildInjectorFactory;\n      for (var name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [privateChildInjectorFactory, name, 'private', privateChildInjector];\n            } else {\n              fromParentModule[name] = [privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx]];\n            }\n          } else {\n            fromParentModule[name] = [provider[2], provider[1]];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(function(scope) {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [provider[2], provider[1]];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(function(scope) {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  };\n\n  var factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function(value) {\n      return value;\n    }\n  };\n\n  modules.forEach(function(module) {\n\n    function arrayUnwrap(type, value) {\n      if (type !== 'value' && isArray(value)) {\n        value = annotate(value.slice());\n      }\n\n      return value;\n    }\n\n    // TODO(vojta): handle wrong inputs (modules)\n    if (module instanceof Module) {\n      module.forEach(function(provider) {\n        var name = provider[0];\n        var type = provider[1];\n        var value = provider[2];\n\n        providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n      });\n    } else if (typeof module === 'object') {\n      if (module.__exports__) {\n        var clonedModule = Object.keys(module).reduce(function(m, key) {\n          if (key.substring(0, 2) !== '__') {\n            m[key] = module[key];\n          }\n          return m;\n        }, Object.create(null));\n\n        var privateInjector = new Injector((module.__modules__ || []).concat([clonedModule]), self);\n        var getFromPrivateInjector = annotate(function(key) {\n          return privateInjector.get(key);\n        });\n        module.__exports__.forEach(function(key) {\n          providers[key] = [getFromPrivateInjector, key, 'private', privateInjector];\n        });\n      } else {\n        Object.keys(module).forEach(function(name) {\n          if (module[name][2] === 'private') {\n            providers[name] = module[name];\n            return;\n          }\n\n          var type = module[name][0];\n          var value = module[name][1];\n\n          providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n        });\n      }\n    }\n  });\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n}\n\nexport { annotate, parseAnnotations, Module, Injector };\n","import Ids from 'ids';\nimport { isArray, isFunction, isNumber, bind, assign, isNil, get, isUndefined, set, isString } from 'min-dash';\nimport snarkdown from '@bpmn-io/snarkdown';\nimport { jsx, jsxs } from 'preact/jsx-runtime';\nimport { useContext, useState, useCallback } from 'preact/hooks';\nimport { createContext, createElement, Fragment, render } from 'preact';\nimport Markup from 'preact-markup';\nimport { createPortal } from 'preact/compat';\nimport { Injector } from 'didi';\n\nfunction createInjector(bootstrapModules) {\n  const modules = [],\n        components = [];\n\n  function hasModule(module) {\n    return modules.includes(module);\n  }\n\n  function addModule(module) {\n    modules.push(module);\n  }\n\n  function visit(module) {\n    if (hasModule(module)) {\n      return;\n    }\n\n    (module.__depends__ || []).forEach(visit);\n\n    if (hasModule(module)) {\n      return;\n    }\n\n    addModule(module);\n    (module.__init__ || []).forEach(function (component) {\n      components.push(component);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n  const injector = new Injector(modules);\n  components.forEach(function (component) {\n    try {\n      injector[typeof component === 'string' ? 'get' : 'invoke'](component);\n    } catch (err) {\n      console.error('Failed to instantiate component');\n      console.error(err.stack);\n      throw err;\n    }\n  });\n  return injector;\n}\n\n/**\n * @param {string?} prefix\n *\n * @returns Element\n */\nfunction createFormContainer(prefix = 'fjs') {\n  const container = document.createElement('div');\n  container.classList.add(`${prefix}-container`);\n  return container;\n}\n\nfunction findErrors(errors, path) {\n  return errors[pathStringify(path)];\n}\nfunction isRequired(field) {\n  return field.required;\n}\nfunction pathParse(path) {\n  if (!path) {\n    return [];\n  }\n\n  return path.split('.').map(key => {\n    return isNaN(parseInt(key)) ? key : parseInt(key);\n  });\n}\nfunction pathsEqual(a, b) {\n  return a && b && a.length === b.length && a.every((value, index) => value === b[index]);\n}\nfunction pathStringify(path) {\n  if (!path) {\n    return '';\n  }\n\n  return path.join('.');\n}\nconst indices = {};\nfunction generateIndexForType(type) {\n  if (type in indices) {\n    indices[type]++;\n  } else {\n    indices[type] = 1;\n  }\n\n  return indices[type];\n}\nfunction generateIdForType(type) {\n  return `${type}${generateIndexForType(type)}`;\n}\n/**\n * @template T\n * @param {T} data\n * @param {(this: any, key: string, value: any) => any} [replacer]\n * @return {T}\n */\n\nfunction clone(data, replacer) {\n  return JSON.parse(JSON.stringify(data, replacer));\n}\n\nvar FN_REF = '__fn';\nvar DEFAULT_PRIORITY = 1000;\nvar slice = Array.prototype.slice;\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n */\n\nfunction EventBus() {\n  this._listeners = {}; // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @param {string|Array<string>} events\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback\n * @param {Object} [that] Pass context (`this`) to the callback\n */\n\nEventBus.prototype.on = function (events, priority, callback, that) {\n  events = isArray(events) ? events : [events];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that); // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n  events.forEach(function (e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n/**\n * Register an event listener that is executed only once.\n *\n * @param {string} event the event name to register for\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback the callback to execute\n * @param {Object} [that] Pass context (`this`) to the callback\n */\n\n\nEventBus.prototype.once = function (event, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n    var result = callback.apply(that, arguments);\n    self.off(event, wrappedCallback);\n    return result;\n  } // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n\n\n  wrappedCallback[FN_REF] = callback;\n  this.on(event, priority, wrappedCallback);\n};\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|Array<string>} events\n * @param {Function} [callback]\n */\n\n\nEventBus.prototype.off = function (events, callback) {\n  events = isArray(events) ? events : [events];\n  var self = this;\n  events.forEach(function (event) {\n    self._removeListener(event, callback);\n  });\n};\n/**\n * Create an EventBus event.\n *\n * @param {Object} data\n *\n * @return {Object} event, recognized by the eventBus\n */\n\n\nEventBus.prototype.createEvent = function (data) {\n  var event = new InternalEvent();\n  event.init(data);\n  return event;\n};\n/**\n * Fires a named event.\n *\n * @example\n *\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n *\n * @param {string} [name] the optional event name\n * @param {Object} [event] the event object\n * @param {...Object} additional arguments to be passed to the callback functions\n *\n * @return {boolean} the events return value, if specified or false if the\n *                   default action was prevented by listeners\n */\n\n\nEventBus.prototype.fire = function (type, data) {\n  var event, firstListener, returnValue, args;\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  } // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n\n\n  if (data instanceof InternalEvent) {\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  } // ensure we pass the event as the first parameter\n\n\n  args[0] = event; // original event type (in case we delegate)\n\n  var originalType = event.type; // update event type before delegation\n\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  } // set the return value to false if the event default\n  // got prevented and no other return value exists\n\n\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype.handleError = function (error) {\n  return this.fire('error', {\n    error: error\n  }) === false;\n};\n\nEventBus.prototype._destroy = function () {\n  this._listeners = {};\n};\n\nEventBus.prototype._invokeListeners = function (event, args, listener) {\n  var returnValue;\n\n  while (listener) {\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype._invokeListener = function (event, args, listener) {\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args); // stop propagation on return value\n\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    } // prevent default on return false\n\n\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n/*\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {Object} listener { priority, callback }\n */\n\n\nEventBus.prototype._addListener = function (event, newListener) {\n  var listener = this._getListeners(event),\n      previousListener; // no prior listeners\n\n\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  } // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n\n\n  while (listener) {\n    if (listener.priority < newListener.priority) {\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  } // add new listener to back\n\n\n  previousListener.next = newListener;\n};\n\nEventBus.prototype._getListeners = function (name) {\n  return this._listeners[name];\n};\n\nEventBus.prototype._setListeners = function (name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function (event, callback) {\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n    nextListener = listener.next;\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n/**\n * A event that is emitted via the event bus.\n */\n\n\nfunction InternalEvent() {}\n\nInternalEvent.prototype.stopPropagation = function () {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function () {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function (data) {\n  assign(this, data || {});\n};\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {Array<Object>} args\n *\n * @return {Any}\n */\n\n\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n\nclass Validator {\n  validateField(field, value) {\n    const {\n      validate\n    } = field;\n    let errors = [];\n\n    if (!validate) {\n      return errors;\n    }\n\n    if (validate.pattern && value && !new RegExp(validate.pattern).test(value)) {\n      errors = [...errors, `Field must match pattern ${validate.pattern}.`];\n    }\n\n    if (validate.required && (isNil(value) || value === '')) {\n      errors = [...errors, 'Field is required.'];\n    }\n\n    if ('min' in validate && value && value < validate.min) {\n      errors = [...errors, `Field must have minimum value of ${validate.min}.`];\n    }\n\n    if ('max' in validate && value && value > validate.max) {\n      errors = [...errors, `Field must have maximum value of ${validate.max}.`];\n    }\n\n    if ('minLength' in validate && value && value.trim().length < validate.minLength) {\n      errors = [...errors, `Field must have minimum length of ${validate.minLength}.`];\n    }\n\n    if ('maxLength' in validate && value && value.trim().length > validate.maxLength) {\n      errors = [...errors, `Field must have maximum length of ${validate.maxLength}.`];\n    }\n\n    return errors;\n  }\n\n}\n\nclass FormFieldRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._formFields = {};\n    eventBus.on('form.clear', () => this.clear());\n    this._ids = new Ids([32, 36, 1]);\n    this._keys = new Ids([32, 36, 1]);\n  }\n\n  add(formField) {\n    const {\n      id\n    } = formField;\n\n    if (this._formFields[id]) {\n      throw new Error(`form field with ID ${id} already exists`);\n    }\n\n    this._eventBus.fire('formField.add', {\n      formField\n    });\n\n    this._formFields[id] = formField;\n  }\n\n  remove(formField) {\n    const {\n      id\n    } = formField;\n\n    if (!this._formFields[id]) {\n      return;\n    }\n\n    this._eventBus.fire('formField.remove', {\n      formField\n    });\n\n    delete this._formFields[id];\n  }\n\n  get(id) {\n    return this._formFields[id];\n  }\n\n  getAll() {\n    return Object.values(this._formFields);\n  }\n\n  forEach(callback) {\n    this.getAll().forEach(formField => callback(formField));\n  }\n\n  clear() {\n    this._formFields = {};\n\n    this._ids.clear();\n\n    this._keys.clear();\n  }\n\n}\nFormFieldRegistry.$inject = ['eventBus'];\n\nclass Importer {\n  /**\n   * @constructor\n   * @param { import('../core').FormFieldRegistry } formFieldRegistry\n   * @param { import('../render/FormFields').default } formFields\n   */\n  constructor(formFieldRegistry, formFields) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n  }\n  /**\n   * Import schema adding `id`, `_parent` and `_path`\n   * information to each field and adding it to the\n   * form field registry.\n   *\n   * @param {any} schema\n   * @param {any} [data]\n   *\n   * @return { { warnings: Array<any>, schema: any, data: any } }\n   */\n\n\n  importSchema(schema, data = {}) {\n    // TODO: Add warnings\n    const warnings = [];\n\n    try {\n      const importedSchema = this.importFormField(clone(schema)),\n            importedData = this.importData(clone(data));\n      return {\n        warnings,\n        schema: importedSchema,\n        data: importedData\n      };\n    } catch (err) {\n      err.warnings = warnings;\n      throw err;\n    }\n  }\n  /**\n   * @param {any} formField\n   * @param {string} [parentId]\n   *\n   * @return {any} importedField\n   */\n\n\n  importFormField(formField, parentId) {\n    const {\n      components,\n      key,\n      type,\n      id = generateIdForType(type)\n    } = formField;\n\n    if (parentId) {\n      // set form field parent\n      formField._parent = parentId;\n    }\n\n    if (!this._formFields.get(type)) {\n      throw new Error(`form field of type <${type}> not supported`);\n    }\n\n    if (key) {\n      // validate <key> uniqueness\n      if (this._formFieldRegistry._keys.assigned(key)) {\n        throw new Error(`form field with key <${key}> already exists`);\n      }\n\n      this._formFieldRegistry._keys.claim(key, formField); // TODO: buttons should not have key\n\n\n      if (type !== 'button') {\n        // set form field path\n        formField._path = [key];\n      }\n    }\n\n    if (id) {\n      // validate <id> uniqueness\n      if (this._formFieldRegistry._ids.assigned(id)) {\n        throw new Error(`form field with id <${id}> already exists`);\n      }\n\n      this._formFieldRegistry._ids.claim(id, formField);\n    } // set form field ID\n\n\n    formField.id = id;\n\n    this._formFieldRegistry.add(formField);\n\n    if (components) {\n      this.importFormFields(components, id);\n    }\n\n    return formField;\n  }\n\n  importFormFields(components, parentId) {\n    components.forEach(component => {\n      this.importFormField(component, parentId);\n    });\n  }\n  /**\n   * @param {Object} data\n   *\n   * @return {Object} importedData\n   */\n\n\n  importData(data) {\n    return this._formFieldRegistry.getAll().reduce((importedData, formField) => {\n      const {\n        defaultValue,\n        _path,\n        type\n      } = formField;\n\n      if (!_path) {\n        return importedData;\n      } // (1) try to get value from data\n      // (2) try to get default value from form field\n      // (3) get empty value from form field\n\n\n      return { ...importedData,\n        [_path[0]]: get(data, _path, isUndefined(defaultValue) ? this._formFields.get(type).emptyValue : defaultValue)\n      };\n    }, {});\n  }\n\n}\nImporter.$inject = ['formFieldRegistry', 'formFields'];\n\nvar importModule = {\n  importer: ['type', Importer]\n};\n\nconst NODE_TYPE_TEXT = 3,\n      NODE_TYPE_ELEMENT = 1;\nconst ALLOWED_NODES = ['h1', 'h2', 'h3', 'h4', 'h5', 'span', 'em', 'a', 'p', 'div', 'ul', 'ol', 'li', 'hr', 'blockquote', 'img', 'pre', 'code', 'br', 'strong'];\nconst ALLOWED_ATTRIBUTES = ['align', 'alt', 'class', 'href', 'id', 'name', 'rel', 'target', 'src'];\nconst ALLOWED_URI_PATTERN = /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i; // eslint-disable-line no-useless-escape\n\nconst ATTR_WHITESPACE_PATTERN = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g; // eslint-disable-line no-control-regex\n\nconst FORM_ELEMENT = document.createElement('form');\n/**\n * Sanitize a HTML string and return the cleaned, safe version.\n *\n * @param {string} html\n * @return {string}\n */\n\nfunction sanitizeHTML(html) {\n  const doc = new DOMParser().parseFromString(`<!DOCTYPE html>\\n<html><body><div>${html}`, 'text/html');\n  doc.normalize();\n  const element = doc.body.firstChild;\n\n  if (element) {\n    sanitizeNode(\n    /** @type Element */\n    element);\n    return new XMLSerializer().serializeToString(element);\n  } else {\n    // handle the case that document parsing\n    // does not work at all, due to HTML gibberish\n    return '';\n  }\n}\n/**\n * Recursively sanitize a HTML node, potentially\n * removing it, its children or attributes.\n *\n * Inspired by https://github.com/developit/snarkdown/issues/70\n * and https://github.com/cure53/DOMPurify. Simplified\n * for our use-case.\n *\n * @param {Element} node\n */\n\nfunction sanitizeNode(node) {\n  // allow text nodes\n  if (node.nodeType === NODE_TYPE_TEXT) {\n    return;\n  } // disallow all other nodes but Element\n\n\n  if (node.nodeType !== NODE_TYPE_ELEMENT) {\n    return node.remove();\n  }\n\n  const lcTag = node.tagName.toLowerCase(); // disallow non-whitelisted tags\n\n  if (!ALLOWED_NODES.includes(lcTag)) {\n    return node.remove();\n  }\n\n  const attributes = node.attributes; // clean attributes\n\n  for (let i = attributes.length; i--;) {\n    const attribute = attributes[i];\n    const name = attribute.name;\n    const lcName = name.toLowerCase(); // normalize node value\n\n    const value = attribute.value.trim();\n    node.removeAttribute(name);\n    const valid = isValidAttribute(lcTag, lcName, value);\n\n    if (valid) {\n      node.setAttribute(name, value);\n    }\n  } // force noopener on target=\"_blank\" links\n\n\n  if (lcTag === 'a' && node.getAttribute('target') === '_blank' && node.getAttribute('rel') !== 'noopener') {\n    node.setAttribute('rel', 'noopener');\n  }\n\n  for (let i = node.childNodes.length; i--;) {\n    sanitizeNode(\n    /** @type Element */\n    node.childNodes[i]);\n  }\n}\n/**\n * Validates attributes for validity.\n *\n * @param {string} lcTag\n * @param {string} lcName\n * @param {string} value\n * @return {boolean}\n */\n\n\nfunction isValidAttribute(lcTag, lcName, value) {\n  // disallow most attributes based on whitelist\n  if (!ALLOWED_ATTRIBUTES.includes(lcName)) {\n    return false;\n  } // disallow \"DOM clobbering\" / polution of document and wrapping form elements\n\n\n  if ((lcName === 'id' || lcName === 'name') && (value in document || value in FORM_ELEMENT)) {\n    return false;\n  }\n\n  if (lcName === 'target' && value !== '_blank') {\n    return false;\n  } // allow valid url links only\n\n\n  if (lcName === 'href' && !ALLOWED_URI_PATTERN.test(value.replace(ATTR_WHITESPACE_PATTERN, ''))) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction formFieldClasses(type, errors = []) {\n  if (!type) {\n    throw new Error('type required');\n  }\n\n  const classes = ['fjs-form-field', `fjs-form-field-${type}`];\n\n  if (errors.length) {\n    classes.push('fjs-has-errors');\n  }\n\n  return classes.join(' ');\n}\nfunction prefixId(id, formId) {\n  if (formId) {\n    return `fjs-form-${formId}-${id}`;\n  }\n\n  return `fjs-form-${id}`;\n}\nfunction markdownToHTML(markdown) {\n  const htmls = markdown.split(/(?:\\r?\\n){2,}/).map(line => /^((\\d+.)|[><\\s#-*])/.test(line) ? snarkdown(line) : `<p>${snarkdown(line)}</p>`);\n  return htmls.join('\\n\\n');\n} // see https://github.com/developit/snarkdown/issues/70\n\nfunction safeMarkdown(markdown) {\n  const html = markdownToHTML(markdown);\n  return sanitizeHTML(html);\n}\n\nconst type$6 = 'button';\nfunction Button(props) {\n  const {\n    disabled,\n    field\n  } = props;\n  const {\n    action = 'submit'\n  } = field;\n  return jsx(\"div\", {\n    class: formFieldClasses(type$6),\n    children: jsx(\"button\", {\n      class: \"fjs-button\",\n      type: action,\n      disabled: disabled,\n      children: field.label\n    })\n  });\n}\n\nButton.create = function (options = {}) {\n  return {\n    action: 'submit',\n    ...options\n  };\n};\n\nButton.type = type$6;\nButton.label = 'Button';\nButton.keyed = true;\n\nconst FormRenderContext = createContext({\n  Empty: props => {\n    return null;\n  },\n  Children: props => {\n    return props.children;\n  },\n  Element: props => {\n    return props.children;\n  }\n});\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\n\nfunction getService(type, strict) {}\n\nconst FormContext = createContext({\n  getService,\n  formId: null\n});\n\nfunction Description(props) {\n  const {\n    description\n  } = props;\n\n  if (!description) {\n    return null;\n  }\n\n  return jsx(\"div\", {\n    class: \"fjs-form-field-description\",\n    children: description\n  });\n}\n\nfunction Errors(props) {\n  const {\n    errors\n  } = props;\n\n  if (!errors.length) {\n    return null;\n  }\n\n  return jsx(\"div\", {\n    class: \"fjs-form-field-error\",\n    children: jsx(\"ul\", {\n      children: errors.map(error => {\n        return jsx(\"li\", {\n          children: error\n        });\n      })\n    })\n  });\n}\n\nfunction Label(props) {\n  const {\n    id,\n    label,\n    required = false\n  } = props;\n  return jsxs(\"label\", {\n    for: id,\n    class: \"fjs-form-field-label\",\n    children: [props.children, label || '', required && jsx(\"span\", {\n      class: \"fjs-asterix\",\n      children: \"*\"\n    })]\n  });\n}\n\nconst type$5 = 'checkbox';\nfunction Checkbox(props) {\n  const {\n    disabled,\n    errors = [],\n    field,\n    value = false\n  } = props;\n  const {\n    description,\n    id,\n    label\n  } = field;\n\n  const onChange = ({\n    target\n  }) => {\n    props.onChange({\n      field,\n      value: target.checked\n    });\n  };\n\n  const {\n    formId\n  } = useContext(FormContext);\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$5, errors),\n    children: [jsx(Label, {\n      id: prefixId(id, formId),\n      label: label,\n      required: false,\n      children: jsx(\"input\", {\n        checked: value,\n        class: \"fjs-input\",\n        disabled: disabled,\n        id: prefixId(id, formId),\n        type: \"checkbox\",\n        onChange: onChange\n      })\n    }), jsx(Description, {\n      description: description\n    }), jsx(Errors, {\n      errors: errors\n    })]\n  });\n}\n\nCheckbox.create = function (options = {}) {\n  return { ...options\n  };\n};\n\nCheckbox.type = type$5;\nCheckbox.label = 'Checkbox';\nCheckbox.keyed = true;\nCheckbox.emptyValue = false;\n\nfunction useService (type, strict) {\n  const {\n    getService\n  } = useContext(FormContext);\n  return getService(type, strict);\n}\n\nconst noop$1 = () => false;\n\nfunction FormField(props) {\n  const {\n    field,\n    onChange\n  } = props;\n  const {\n    _path\n  } = field;\n  const formFields = useService('formFields'),\n        form = useService('form');\n\n  const {\n    data,\n    errors,\n    properties\n  } = form._getState();\n\n  const {\n    Element\n  } = useContext(FormRenderContext);\n  const FormFieldComponent = formFields.get(field.type);\n\n  if (!FormFieldComponent) {\n    throw new Error(`cannot render field <${field.type}>`);\n  }\n\n  const value = get(data, _path);\n  const fieldErrors = findErrors(errors, _path);\n  const disabled = properties.readOnly || field.disabled || false;\n  return jsx(Element, {\n    field: field,\n    children: jsx(FormFieldComponent, { ...props,\n      disabled: disabled,\n      errors: fieldErrors,\n      onChange: disabled ? noop$1 : onChange,\n      value: value\n    })\n  });\n}\n\nfunction Default(props) {\n  const {\n    Children,\n    Empty\n  } = useContext(FormRenderContext);\n  const {\n    field\n  } = props;\n  const {\n    components = []\n  } = field;\n  return jsxs(Children, {\n    class: \"fjs-vertical-layout\",\n    field: field,\n    children: [components.map(childField => {\n      return createElement(FormField, { ...props,\n        key: childField.id,\n        field: childField\n      });\n    }), components.length ? null : jsx(Empty, {})]\n  });\n}\n\nDefault.create = function (options = {}) {\n  return {\n    components: [],\n    ...options\n  };\n};\n\nDefault.type = 'default';\nDefault.keyed = false;\n\n/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\n\nfunction Logo() {\n  return jsxs(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 14.02 5.57\",\n    width: \"53\",\n    height: \"21\",\n    style: \"vertical-align:middle\",\n    children: [jsx(\"path\", {\n      fill: \"currentColor\",\n      d: \"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"\n    }), jsx(\"path\", {\n      fill: \"currentColor\",\n      d: \"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\"\n    })]\n  });\n}\n\nfunction Lightbox(props) {\n  const {\n    open\n  } = props;\n\n  if (!open) {\n    return null;\n  }\n\n  return jsxs(\"div\", {\n    class: \"fjs-powered-by-lightbox\",\n    style: \"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0\",\n    children: [jsx(\"div\", {\n      class: \"backdrop\",\n      style: \"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)\",\n      onClick: props.onBackdropClick\n    }), jsxs(\"div\", {\n      class: \"notice\",\n      style: \"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3\",\n      children: [jsx(\"a\", {\n        href: \"https://bpmn.io\",\n        target: \"_blank\",\n        rel: \"noopener\",\n        style: \"margin: 15px 20px 15px 10px; align-self: center; color: #404040\",\n        children: jsx(Logo, {})\n      }), jsxs(\"span\", {\n        children: [\"Web-based tooling for BPMN, DMN, and forms powered by \", jsx(\"a\", {\n          href: \"https://bpmn.io\",\n          target: \"_blank\",\n          rel: \"noopener\",\n          children: \"bpmn.io\"\n        }), \".\"]\n      })]\n    })]\n  });\n}\n\nfunction Link(props) {\n  return jsx(\"div\", {\n    class: \"fjs-powered-by fjs-form-field\",\n    style: \"text-align: right\",\n    children: jsx(\"a\", {\n      href: \"https://bpmn.io\",\n      target: \"_blank\",\n      rel: \"noopener\",\n      class: \"fjs-powered-by-link\",\n      title: \"Powered by bpmn.io\",\n      style: \"color: #404040\",\n      onClick: props.onClick,\n      children: jsx(Logo, {})\n    })\n  });\n}\n\nfunction PoweredBy(props) {\n  const [open, setOpen] = useState(false);\n\n  function toggleOpen(open) {\n    return event => {\n      event.preventDefault();\n      setOpen(open);\n    };\n  }\n\n  return jsxs(Fragment, {\n    children: [createPortal(jsx(Lightbox, {\n      open: open,\n      onBackdropClick: toggleOpen(false)\n    }), document.body), jsx(Link, {\n      onClick: toggleOpen(true)\n    })]\n  });\n}\n\nconst noop = () => {};\n\nfunction FormComponent(props) {\n  const form = useService('form');\n\n  const {\n    schema\n  } = form._getState();\n\n  const {\n    onSubmit = noop,\n    onReset = noop,\n    onChange = noop\n  } = props;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit();\n  };\n\n  const handleReset = event => {\n    event.preventDefault();\n    onReset();\n  };\n\n  return jsxs(\"form\", {\n    class: \"fjs-form\",\n    onSubmit: handleSubmit,\n    onReset: handleReset,\n    children: [jsx(FormField, {\n      field: schema,\n      onChange: onChange\n    }), jsx(PoweredBy, {})]\n  });\n}\n\nconst type$4 = 'number';\nfunction Number(props) {\n  const {\n    disabled,\n    errors = [],\n    field,\n    value\n  } = props;\n  const {\n    description,\n    id,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n\n  const onChange = ({\n    target\n  }) => {\n    const parsedValue = parseInt(target.value, 10);\n    props.onChange({\n      field,\n      value: isNaN(parsedValue) ? null : parsedValue\n    });\n  };\n\n  const {\n    formId\n  } = useContext(FormContext);\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$4, errors),\n    children: [jsx(Label, {\n      id: prefixId(id, formId),\n      label: label,\n      required: required\n    }), jsx(\"input\", {\n      class: \"fjs-input\",\n      disabled: disabled,\n      id: prefixId(id, formId),\n      onInput: onChange,\n      type: \"number\",\n      value: value || ''\n    }), jsx(Description, {\n      description: description\n    }), jsx(Errors, {\n      errors: errors\n    })]\n  });\n}\n\nNumber.create = function (options = {}) {\n  return { ...options\n  };\n};\n\nNumber.type = type$4;\nNumber.keyed = true;\nNumber.label = 'Number';\nNumber.emptyValue = null;\n\nconst type$3 = 'radio';\nfunction Radio(props) {\n  const {\n    disabled,\n    errors = [],\n    field,\n    value\n  } = props;\n  const {\n    description,\n    id,\n    label,\n    validate = {},\n    values\n  } = field;\n  const {\n    required\n  } = validate;\n\n  const onChange = v => {\n    props.onChange({\n      field,\n      value: v\n    });\n  };\n\n  const {\n    formId\n  } = useContext(FormContext);\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$3, errors),\n    children: [jsx(Label, {\n      label: label,\n      required: required\n    }), values.map((v, index) => {\n      return jsx(Label, {\n        id: prefixId(`${id}-${index}`, formId),\n        label: v.label,\n        required: false,\n        children: jsx(\"input\", {\n          checked: v.value === value,\n          class: \"fjs-input\",\n          disabled: disabled,\n          id: prefixId(`${id}-${index}`, formId),\n          type: \"radio\",\n          onClick: () => onChange(v.value)\n        })\n      }, `${id}-${index}`);\n    }), jsx(Description, {\n      description: description\n    }), jsx(Errors, {\n      errors: errors\n    })]\n  });\n}\n\nRadio.create = function (options = {}) {\n  return {\n    values: [{\n      label: 'Value',\n      value: 'value'\n    }],\n    ...options\n  };\n};\n\nRadio.type = type$3;\nRadio.label = 'Radio';\nRadio.keyed = true;\nRadio.emptyValue = null;\n\nconst type$2 = 'select';\nfunction Select(props) {\n  const {\n    disabled,\n    errors = [],\n    field,\n    value\n  } = props;\n  const {\n    description,\n    id,\n    label,\n    validate = {},\n    values\n  } = field;\n  const {\n    required\n  } = validate;\n\n  const onChange = ({\n    target\n  }) => {\n    props.onChange({\n      field,\n      value: target.value === '' ? null : target.value\n    });\n  };\n\n  const {\n    formId\n  } = useContext(FormContext);\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$2, errors),\n    children: [jsx(Label, {\n      id: prefixId(id, formId),\n      label: label,\n      required: required\n    }), jsxs(\"select\", {\n      class: \"fjs-select\",\n      disabled: disabled,\n      id: prefixId(id, formId),\n      onChange: onChange,\n      value: value || '',\n      children: [jsx(\"option\", {\n        value: \"\"\n      }), values.map((v, index) => {\n        return jsx(\"option\", {\n          value: v.value,\n          children: v.label\n        }, `${id}-${index}`);\n      })]\n    }), jsx(Description, {\n      description: description\n    }), jsx(Errors, {\n      errors: errors\n    })]\n  });\n}\n\nSelect.create = function (options = {}) {\n  return {\n    values: [{\n      label: 'Value',\n      value: 'value'\n    }],\n    ...options\n  };\n};\n\nSelect.type = type$2;\nSelect.label = 'Select';\nSelect.keyed = true;\nSelect.emptyValue = null;\n\nconst type$1 = 'text';\nfunction Text(props) {\n  const {\n    field\n  } = props;\n  const {\n    text = ''\n  } = field;\n  return jsx(\"div\", {\n    class: formFieldClasses(type$1),\n    children: jsx(Markup, {\n      markup: safeMarkdown(text),\n      trim: false\n    })\n  });\n}\n\nText.create = function (options = {}) {\n  return {\n    text: '# Text',\n    ...options\n  };\n};\n\nText.type = type$1;\nText.keyed = false;\n\nconst type = 'textfield';\nfunction Textfield(props) {\n  const {\n    disabled,\n    errors = [],\n    field,\n    value = ''\n  } = props;\n  const {\n    description,\n    id,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n\n  const onChange = ({\n    target\n  }) => {\n    props.onChange({\n      field,\n      value: target.value\n    });\n  };\n\n  const {\n    formId\n  } = useContext(FormContext);\n  return jsxs(\"div\", {\n    class: formFieldClasses(type, errors),\n    children: [jsx(Label, {\n      id: prefixId(id, formId),\n      label: label,\n      required: required\n    }), jsx(\"input\", {\n      class: \"fjs-input\",\n      disabled: disabled,\n      id: prefixId(id, formId),\n      onInput: onChange,\n      type: \"text\",\n      value: value\n    }), jsx(Description, {\n      description: description\n    }), jsx(Errors, {\n      errors: errors\n    })]\n  });\n}\n\nTextfield.create = function (options = {}) {\n  return { ...options\n  };\n};\n\nTextfield.type = type;\nTextfield.label = 'Text Field';\nTextfield.keyed = true;\nTextfield.emptyValue = '';\n\nconst formFields = [Button, Checkbox, Default, Number, Radio, Select, Text, Textfield];\n\nclass FormFields {\n  constructor() {\n    this._formFields = {};\n    formFields.forEach(formField => {\n      const {\n        type\n      } = formField;\n      this.register(type, formField);\n    });\n  }\n\n  register(type, formField) {\n    this._formFields[type] = formField;\n  }\n\n  get(type) {\n    return this._formFields[type];\n  }\n\n}\n\nfunction Renderer(config, eventBus, form, injector) {\n  const App = () => {\n    const [state, setState] = useState(form._getState());\n    const formContext = {\n      getService(type, strict = true) {\n        return injector.get(type, strict);\n      },\n\n      formId: form._id\n    };\n    eventBus.on('changed', newState => {\n      setState(newState);\n    });\n    const onChange = useCallback(update => form._update(update), [form]);\n    const {\n      properties\n    } = state;\n    const {\n      readOnly\n    } = properties;\n    const onSubmit = useCallback(() => {\n      if (!readOnly) {\n        form.submit();\n      }\n    }, [form, readOnly]);\n    const onReset = useCallback(() => form.reset(), [form]);\n    const {\n      schema\n    } = state;\n\n    if (!schema) {\n      return null;\n    }\n\n    return jsx(FormContext.Provider, {\n      value: formContext,\n      children: jsx(FormComponent, {\n        onChange: onChange,\n        onSubmit: onSubmit,\n        onReset: onReset\n      })\n    });\n  };\n\n  const {\n    container\n  } = config;\n  eventBus.on('form.init', () => {\n    render(jsx(App, {}), container);\n  });\n  eventBus.on('form.destroy', () => {\n    render(null, container);\n  });\n}\nRenderer.$inject = ['config.renderer', 'eventBus', 'form', 'injector'];\n\nvar renderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', FormFields],\n  renderer: ['type', Renderer]\n};\n\nvar core = {\n  __depends__: [importModule, renderModule],\n  eventBus: ['type', EventBus],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  validator: ['type', Validator]\n};\n\n/**\r\n * @typedef { import('./types').Injector } Injector\r\n * @typedef { import('./types').Data } Data\r\n * @typedef { import('./types').Errors } Errors\r\n * @typedef { import('./types').Schema } Schema\r\n * @typedef { import('./types').FormProperties } FormProperties\r\n * @typedef { import('./types').FormProperty } FormProperty\r\n * @typedef { import('./types').FormEvent } FormEvent\r\n * @typedef { import('./types').FormOptions } FormOptions\r\n *\r\n * @typedef { {\r\n *   data: Data,\r\n *   initialData: Data,\r\n *   errors: Errors,\r\n *   properties: FormProperties,\r\n *   schema: Schema\r\n * } } State\r\n */\n\nconst ids = new Ids([32, 36, 1]);\n/**\r\n * The form.\r\n */\n\nclass Form {\n  /**\r\n   * @constructor\r\n   * @param {FormOptions} options\r\n   */\n  constructor(options = {}) {\n    /**\r\n     * @public\r\n     * @type {String}\r\n     */\n    this._id = ids.next();\n    /**\r\n     * @private\r\n     * @type {Element}\r\n     */\n\n    this._container = createFormContainer();\n    const {\n      container,\n      injector = this._createInjector(options, this._container),\n      properties = {}\n    } = options;\n    /**\r\n     * @private\r\n     * @type {State}\r\n     */\n\n    this._state = {\n      initialData: null,\n      data: null,\n      properties,\n      errors: {},\n      schema: null\n    };\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('form.init');\n\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n\n  clear() {\n    // clear form services\n    this._emit('diagram.clear'); // clear diagram services (e.g. EventBus)\n\n\n    this._emit('form.clear');\n  }\n  /**\r\n   * Destroy the form, removing it from DOM,\r\n   * if attached.\r\n   */\n\n\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy'); // destroy diagram services (e.g. EventBus)\n\n    this.get('eventBus').fire('diagram.destroy');\n\n    this._detach(false);\n  }\n  /**\r\n   * Open a form schema with the given initial data.\r\n   *\r\n   * @param {Schema} schema\r\n   * @param {Data} [data]\r\n   *\r\n   * @return Promise<{ warnings: Array<any> }>\r\n   */\n\n\n  importSchema(schema, data = {}) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n        const {\n          schema: importedSchema,\n          data: importedData,\n          warnings\n        } = this.get('importer').importSchema(schema, data);\n\n        this._setState({\n          data: importedData,\n          errors: {},\n          schema: importedSchema,\n          initialData: clone(importedData)\n        });\n\n        this._emit('import.done', {\n          warnings\n        });\n\n        return resolve({\n          warnings\n        });\n      } catch (error) {\n        this._emit('import.done', {\n          error,\n          warnings: error.warnings || []\n        });\n\n        return reject(error);\n      }\n    });\n  }\n  /**\r\n   * Submit the form, triggering all field validations.\r\n   *\r\n   * @returns { { data: Data, errors: Errors } }\r\n   */\n\n\n  submit() {\n    const {\n      properties\n    } = this._getState();\n\n    if (properties.readOnly) {\n      throw new Error('form is read-only');\n    }\n\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const data = formFieldRegistry.getAll().reduce((data, field) => {\n      const {\n        disabled,\n        _path\n      } = field; // do not submit disabled form fields\n\n      if (disabled || !_path) {\n        return data;\n      }\n\n      const value = get(this._getState().data, _path);\n      return { ...data,\n        [_path[0]]: value\n      };\n    }, {});\n    const errors = this.validate();\n\n    this._emit('submit', {\n      data,\n      errors\n    });\n\n    return {\n      data,\n      errors\n    };\n  }\n\n  reset() {\n    this._emit('reset');\n\n    this._setState({\n      data: clone(this._state.initialData),\n      errors: {}\n    });\n  }\n  /**\r\n   * @returns {Errors}\r\n   */\n\n\n  validate() {\n    const formFieldRegistry = this.get('formFieldRegistry'),\n          validator = this.get('validator');\n\n    const {\n      data\n    } = this._getState();\n\n    const errors = formFieldRegistry.getAll().reduce((errors, field) => {\n      const {\n        disabled,\n        _path\n      } = field;\n\n      if (disabled) {\n        return errors;\n      }\n\n      const value = get(data, _path);\n      const fieldErrors = validator.validateField(field, value);\n      return set(errors, [pathStringify(_path)], fieldErrors.length ? fieldErrors : undefined);\n    },\n    /** @type {Errors} */\n    {});\n\n    this._setState({\n      errors\n    });\n\n    return errors;\n  }\n  /**\r\n   * @param {Element|string} parentNode\r\n   */\n\n\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n\n    this.detach();\n\n    if (isString(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n\n    const container = this._container;\n    parentNode.appendChild(container);\n\n    this._emit('attach');\n  }\n\n  detach() {\n    this._detach();\n  }\n  /**\r\n   * @private\r\n   *\r\n   * @param {boolean} [emit]\r\n   */\n\n\n  _detach(emit = true) {\n    const container = this._container,\n          parentNode = container.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    if (emit) {\n      this._emit('detach');\n    }\n\n    parentNode.removeChild(container);\n  }\n  /**\r\n   * @param {FormProperty} property\r\n   * @param {any} value\r\n   */\n\n\n  setProperty(property, value) {\n    const properties = set(this._getState().properties, [property], value);\n\n    this._setState({\n      properties\n    });\n  }\n  /**\r\n   * @param {FormEvent} type\r\n   * @param {number} priority\r\n   * @param {Function} handler\r\n   */\n\n\n  on(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n  /**\r\n   * @param {FormEvent} type\r\n   * @param {Function} handler\r\n   */\n\n\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n  /**\r\n   * @private\r\n   *\r\n   * @param {FormOptions} options\r\n   * @param {Element} container\r\n   *\r\n   * @returns {Injector}\r\n   */\n\n\n  _createInjector(options, container) {\n    const {\n      additionalModules = [],\n      modules = []\n    } = options;\n    const config = {\n      renderer: {\n        container\n      }\n    };\n    return createInjector([{\n      config: ['value', config]\n    }, {\n      form: ['value', this]\n    }, core, ...modules, ...additionalModules]);\n  }\n  /**\r\n   * @private\r\n   */\n\n\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n  /**\r\n   * @internal\r\n   *\r\n   * @param { { add?: boolean, field: any, remove?: number, value?: any } } update\r\n   */\n\n\n  _update(update) {\n    const {\n      field,\n      value\n    } = update;\n    const {\n      _path\n    } = field;\n\n    let {\n      data,\n      errors\n    } = this._getState();\n\n    const validator = this.get('validator');\n    const fieldErrors = validator.validateField(field, value);\n    set(data, _path, value);\n    set(errors, [pathStringify(_path)], fieldErrors.length ? fieldErrors : undefined);\n\n    this._setState({\n      data: clone(data),\n      errors: clone(errors)\n    });\n  }\n  /**\r\n   * @internal\r\n   */\n\n\n  _getState() {\n    return this._state;\n  }\n  /**\r\n   * @internal\r\n   */\n\n\n  _setState(state) {\n    this._state = { ...this._state,\n      ...state\n    };\n\n    this._emit('changed', this._getState());\n  }\n\n}\n\nconst schemaVersion = 4;\n/**\r\n * @typedef { import('./types').CreateFormOptions } CreateFormOptions\r\n */\n\n/**\r\n * Create a form.\r\n *\r\n * @param {CreateFormOptions} options\r\n *\r\n * @return {Promise<Form>}\r\n */\n\nfunction createForm(options) {\n  const {\n    data,\n    schema,\n    ...rest\n  } = options;\n  const form = new Form(rest);\n  return form.importSchema(schema, data).then(function () {\n    return form;\n  });\n}\n\nexport { Button, Checkbox, Default, Form, FormComponent, FormContext, FormFieldRegistry, FormFields, FormRenderContext, Number, Radio, Select, Text, Textfield, clone, createForm, createFormContainer, createInjector, findErrors, formFields, generateIdForType, generateIndexForType, isRequired, pathParse, pathStringify, pathsEqual, schemaVersion };\n//# sourceMappingURL=index.es.js.map\n","import Ids from 'ids';\nimport { isArray, isFunction, isNumber, bind, assign, debounce, get, isUndefined, set, has, forEach, isObject, uniqueBy, isString } from 'min-dash';\nimport { FormFieldRegistry as FormFieldRegistry$1, clone, Default, FormContext, FormRenderContext, FormComponent, FormFields, createFormContainer, createInjector, schemaVersion } from '@bpmn-io/form-js-viewer';\nexport { schemaVersion } from '@bpmn-io/form-js-viewer';\nimport { createContext, render } from 'preact';\nimport { useContext, useRef, useEffect, useMemo, useState, useCallback } from 'preact/hooks';\nimport React from 'preact/compat';\nimport { jsxs, jsx, Fragment } from 'preact/jsx-runtime';\nimport dragula from 'dragula';\nimport { matches, closest, event } from 'min-dom';\nimport { mutate } from 'array-move';\n\nvar FN_REF = '__fn';\nvar DEFAULT_PRIORITY$2 = 1000;\nvar slice = Array.prototype.slice;\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n */\n\nfunction EventBus() {\n  this._listeners = {}; // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @param {string|Array<string>} events\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback\n * @param {Object} [that] Pass context (`this`) to the callback\n */\n\nEventBus.prototype.on = function (events, priority, callback, that) {\n  events = isArray(events) ? events : [events];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY$2;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that); // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n  events.forEach(function (e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n/**\n * Register an event listener that is executed only once.\n *\n * @param {string} event the event name to register for\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback the callback to execute\n * @param {Object} [that] Pass context (`this`) to the callback\n */\n\n\nEventBus.prototype.once = function (event, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY$2;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n    var result = callback.apply(that, arguments);\n    self.off(event, wrappedCallback);\n    return result;\n  } // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n\n\n  wrappedCallback[FN_REF] = callback;\n  this.on(event, priority, wrappedCallback);\n};\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|Array<string>} events\n * @param {Function} [callback]\n */\n\n\nEventBus.prototype.off = function (events, callback) {\n  events = isArray(events) ? events : [events];\n  var self = this;\n  events.forEach(function (event) {\n    self._removeListener(event, callback);\n  });\n};\n/**\n * Create an EventBus event.\n *\n * @param {Object} data\n *\n * @return {Object} event, recognized by the eventBus\n */\n\n\nEventBus.prototype.createEvent = function (data) {\n  var event = new InternalEvent();\n  event.init(data);\n  return event;\n};\n/**\n * Fires a named event.\n *\n * @example\n *\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n *\n * @param {string} [name] the optional event name\n * @param {Object} [event] the event object\n * @param {...Object} additional arguments to be passed to the callback functions\n *\n * @return {boolean} the events return value, if specified or false if the\n *                   default action was prevented by listeners\n */\n\n\nEventBus.prototype.fire = function (type, data) {\n  var event, firstListener, returnValue, args;\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  } // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n\n\n  if (data instanceof InternalEvent) {\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  } // ensure we pass the event as the first parameter\n\n\n  args[0] = event; // original event type (in case we delegate)\n\n  var originalType = event.type; // update event type before delegation\n\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  } // set the return value to false if the event default\n  // got prevented and no other return value exists\n\n\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype.handleError = function (error) {\n  return this.fire('error', {\n    error: error\n  }) === false;\n};\n\nEventBus.prototype._destroy = function () {\n  this._listeners = {};\n};\n\nEventBus.prototype._invokeListeners = function (event, args, listener) {\n  var returnValue;\n\n  while (listener) {\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype._invokeListener = function (event, args, listener) {\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args); // stop propagation on return value\n\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    } // prevent default on return false\n\n\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n/*\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {Object} listener { priority, callback }\n */\n\n\nEventBus.prototype._addListener = function (event, newListener) {\n  var listener = this._getListeners(event),\n      previousListener; // no prior listeners\n\n\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  } // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n\n\n  while (listener) {\n    if (listener.priority < newListener.priority) {\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  } // add new listener to back\n\n\n  previousListener.next = newListener;\n};\n\nEventBus.prototype._getListeners = function (name) {\n  return this._listeners[name];\n};\n\nEventBus.prototype._setListeners = function (name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function (event, callback) {\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n    nextListener = listener.next;\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n/**\n * A event that is emitted via the event bus.\n */\n\n\nfunction InternalEvent() {}\n\nInternalEvent.prototype.stopPropagation = function () {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function () {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function (data) {\n  assign(this, data || {});\n};\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {Array<Object>} args\n *\n * @return {Any}\n */\n\n\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n\n/**\n * A factory to create a configurable debouncer.\n *\n * @param {number|boolean} [config=true]\n */\n\nfunction DebounceFactory(config = true) {\n  const timeout = typeof config === 'number' ? config : config ? 300 : 0;\n\n  if (timeout) {\n    return fn => debounce(fn, timeout);\n  } else {\n    return fn => fn;\n  }\n}\nDebounceFactory.$inject = ['config.debounce'];\n\nclass FieldFactory {\n  /**\n   * @constructor\n   *\n   * @param { import('./FormFieldRegistry').default } formFieldRegistry\n   * @param { import('@bpmn-io/form-js-viewer').FormFields } formFields\n   */\n  constructor(formFieldRegistry, formFields) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n  }\n\n  create(attrs, applyDefaults = true) {\n    const {\n      id,\n      key,\n      type\n    } = attrs;\n\n    const fieldDefinition = this._formFields.get(type);\n\n    if (!fieldDefinition) {\n      throw new Error(`form field of type <${type}> not supported`);\n    }\n\n    if (id && this._formFieldRegistry._ids.assigned(id)) {\n      throw new Error(`ID <${id}> already assigned`);\n    }\n\n    if (key && this._formFieldRegistry._keys.assigned(key)) {\n      throw new Error(`key <${key}> already assigned`);\n    }\n\n    const labelAttrs = applyDefaults && fieldDefinition.label ? {\n      label: fieldDefinition.label\n    } : {};\n    const field = fieldDefinition.create({ ...labelAttrs,\n      ...attrs\n    });\n\n    this._ensureId(field);\n\n    if (fieldDefinition.keyed) {\n      this._ensureKey(field, applyDefaults);\n    }\n\n    return field;\n  }\n\n  _ensureId(field) {\n    if (field.id) {\n      this._formFieldRegistry._ids.claim(field.id, field);\n\n      return;\n    }\n\n    let prefix = 'Field';\n\n    if (field.type === 'default') {\n      prefix = 'Form';\n    }\n\n    field.id = this._formFieldRegistry._ids.nextPrefixed(`${prefix}_`, field);\n  }\n\n  _ensureKey(field, applyDefaults) {\n    if (field.key) {\n      this._formFieldRegistry._keys.claim(field.key, field);\n\n      return;\n    }\n\n    if (applyDefaults) {\n      let prefix = 'field';\n      field.key = this._formFieldRegistry._keys.nextPrefixed(`${prefix}_`, field);\n    }\n  }\n\n}\nFieldFactory.$inject = ['formFieldRegistry', 'formFields'];\n\nclass FormFieldRegistry extends FormFieldRegistry$1 {\n  /**\n   * Updates a form fields id.\n   *\n   * @param {Object} formField\n   * @param {string} newId\n   */\n  updateId(formField, newId) {\n    this._validateId(newId);\n\n    this._eventBus.fire('formField.updateId', {\n      formField,\n      newId: newId\n    });\n\n    this.remove(formField);\n    formField.id = newId;\n    this.add(formField); // TODO(nikku): make this a proper object graph so we\n    // do not have to deal with IDs this way...\n\n    if ('components' in formField) {\n      for (const component of formField.components) {\n        component._parent = newId;\n      }\n    }\n  }\n  /**\n   * Validate the suitability of the given id and signals a problem\n   * with an exception.\n   *\n   * @param {string} id\n   *\n   * @throws {Error} if id is empty or already assigned\n   */\n\n\n  _validateId(id) {\n    if (!id) {\n      throw new Error('formField must have an id');\n    }\n\n    if (this.get(id)) {\n      throw new Error('formField with id ' + id + ' already added');\n    }\n  }\n\n}\n\nclass Importer {\n  /**\n   * @constructor\n   * @param { import('../core/FormFieldRegistry').default } formFieldRegistry\n   * @param { import('../core/FieldFactory').default } fieldFactory\n   */\n  constructor(formFieldRegistry, fieldFactory) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._fieldFactory = fieldFactory;\n  }\n  /**\n   * Import schema creating fields, attaching additional\n   * information to each field and adding fields to the\n   * field registry.\n   *\n   * Additional information attached:\n   *\n   *   * `id` (unless present)\n   *   * `_parent`\n   *   * `_path`\n   *\n   * @param {any} schema\n   *\n   * @typedef {{ warnings: Error[], schema: any }} ImportResult\n   * @returns {ImportResult}\n   */\n\n\n  importSchema(schema) {\n    // TODO: Add warnings\n    const warnings = [];\n\n    try {\n      const importedSchema = this.importFormField(clone(schema));\n      return {\n        schema: importedSchema,\n        warnings\n      };\n    } catch (err) {\n      err.warnings = warnings;\n      throw err;\n    }\n  }\n  /**\n   * @param {{[x: string]: any}} fieldAttrs\n   * @param {String} [parentId]\n   * @param {number} [index]\n   *\n   * @return {any} field\n   */\n\n\n  importFormField(fieldAttrs, parentId, index) {\n    const {\n      components,\n      id,\n      key\n    } = fieldAttrs;\n    let parent, path;\n\n    if (parentId) {\n      parent = this._formFieldRegistry.get(parentId);\n    } // validate <id> uniqueness\n\n\n    if (id && this._formFieldRegistry._ids.assigned(id)) {\n      throw new Error(`form field with id <${id}> already exists`);\n    } // validate <key> uniqueness\n\n\n    if (key && this._formFieldRegistry._keys.assigned(key)) {\n      throw new Error(`form field with key <${key}> already exists`);\n    } // set form field path\n\n\n    path = parent ? [...parent._path, 'components', index] : [];\n\n    const field = this._fieldFactory.create({ ...fieldAttrs,\n      _path: path,\n      _parent: parent && parent.id\n    }, false);\n\n    this._formFieldRegistry.add(field);\n\n    if (components) {\n      field.components = this.importFormFields(components, field.id);\n    }\n\n    return field;\n  }\n  /**\n   * @param {Array<any>} components\n   * @param {string} parentId\n   *\n   * @return {Array<any>} imported components\n   */\n\n\n  importFormFields(components, parentId) {\n    return components.map((component, index) => {\n      return this.importFormField(component, parentId, index);\n    });\n  }\n\n}\nImporter.$inject = ['formFieldRegistry', 'fieldFactory'];\n\nvar importModule = {\n  importer: ['type', Importer]\n};\n\nconst DragAndDropContext = createContext({\n  drake: null\n});\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\n\nfunction getService(type, strict) {}\n\nconst FormEditorContext = createContext({\n  getService\n});\n\nfunction useService (type, strict) {\n  const {\n    getService\n  } = useContext(FormEditorContext);\n  return getService(type, strict);\n}\n\nfunction _extends$c() { _extends$c = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$c.apply(this, arguments); }\nvar ButtonIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$c({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M45 17a3 3 0 013 3v14a3 3 0 01-3 3H9a3 3 0 01-3-3V20a3 3 0 013-3h36zm-9 8.889H18v2.222h18V25.89z\"\n})));\n\nfunction _extends$b() { _extends$b = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$b.apply(this, arguments); }\nvar CheckboxIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$b({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34 18H20a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V20a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23l-9 9z\"\n})));\n\nfunction _extends$a() { _extends$a = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$a.apply(this, arguments); }\nvar FormIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$a({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"rect\", {\n  x: \"15\",\n  y: \"17\",\n  width: \"24\",\n  height: \"4\",\n  rx: \"1\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: \"15\",\n  y: \"25\",\n  width: \"24\",\n  height: \"4\",\n  rx: \"1\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: \"15\",\n  y: \"33\",\n  width: \"13\",\n  height: \"4\",\n  rx: \"1\"\n})));\n\nfunction _extends$9() { _extends$9 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$9.apply(this, arguments); }\nvar ColumnsIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$9({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 33v5a1 1 0 001 1h4v2H9a3 3 0 01-3-3v-5h2zm18 6v2H15v-2h11zm13 0v2H28v-2h11zm9-6v5a3 3 0 01-3 3h-4v-2h4a1 1 0 00.993-.883L46 38v-5h2zM8 22v9H6v-9h2zm40 0v9h-2v-9h2zm-35-9v2H9a1 1 0 00-.993.883L8 16v4H6v-4a3 3 0 013-3h4zm32 0a3 3 0 013 3v4h-2v-4a1 1 0 00-.883-.993L45 15h-4v-2h4zm-6 0v2H28v-2h11zm-13 0v2H15v-2h11z\"\n})));\n\nfunction _extends$8() { _extends$8 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$8.apply(this, arguments); }\nvar NumberIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$8({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M45 16a3 3 0 013 3v16a3 3 0 01-3 3H9a3 3 0 01-3-3V19a3 3 0 013-3h36zm0 2H9a1 1 0 00-1 1v16a1 1 0 001 1h36a1 1 0 001-1V19a1 1 0 00-1-1zM35 28.444h7l-3.5 4-3.5-4zM35 26h7l-3.5-4-3.5 4z\"\n})));\n\nfunction _extends$7() { _extends$7 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$7.apply(this, arguments); }\nvar RadioIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$7({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n})));\n\nfunction _extends$6() { _extends$6 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$6.apply(this, arguments); }\nvar SelectIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$6({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M45 16a3 3 0 013 3v16a3 3 0 01-3 3H9a3 3 0 01-3-3V19a3 3 0 013-3h36zm0 2H9a1 1 0 00-1 1v16a1 1 0 001 1h36a1 1 0 001-1V19a1 1 0 00-1-1zm-12 7h9l-4.5 6-4.5-6z\"\n})));\n\nfunction _extends$5() { _extends$5 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$5.apply(this, arguments); }\nvar TextIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$5({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36l-1.86-5-1.83 5zM22 20.23h5.41a15.47 15.47 0 012.4.14 3.42 3.42 0 011.41.55 3.47 3.47 0 011 1.14 3 3 0 01.42 1.58 3.26 3.26 0 01-1.91 2.94 3.63 3.63 0 011.91 1.22 3.28 3.28 0 01.66 2 4 4 0 01-.43 1.8 3.63 3.63 0 01-1.09 1.4 3.89 3.89 0 01-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.79 1.79 0 001.1-.49 1.41 1.41 0 00.41-1 1.49 1.49 0 00-.35-1 1.54 1.54 0 00-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.52 11.52 0 001.88-.09 1.65 1.65 0 001-.54 1.6 1.6 0 00.38-1.14 1.75 1.75 0 00-.29-1 1.69 1.69 0 00-.86-.62 9.28 9.28 0 00-2.41-.23zM44.35 28.79l2.65.84a5.94 5.94 0 01-2 3.29A5.74 5.74 0 0141.38 34a5.87 5.87 0 01-4.44-1.84 7.09 7.09 0 01-1.73-5A7.43 7.43 0 0137 21.87 6 6 0 0141.54 20a5.64 5.64 0 014 1.47A5.33 5.33 0 0147 24l-2.7.65a2.8 2.8 0 00-2.86-2.27A3.09 3.09 0 0039 23.42a5.31 5.31 0 00-.93 3.5 5.62 5.62 0 00.93 3.65 3 3 0 002.4 1.09 2.72 2.72 0 001.82-.66 4 4 0 001.13-2.21z\"\n})));\n\nfunction _extends$4() { _extends$4 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$4.apply(this, arguments); }\nvar TextfieldIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$4({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"54\",\n  height: \"54\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M45 16a3 3 0 013 3v16a3 3 0 01-3 3H9a3 3 0 01-3-3V19a3 3 0 013-3h36zm0 2H9a1 1 0 00-1 1v16a1 1 0 001 1h36a1 1 0 001-1V19a1 1 0 00-1-1zm-32 4v10h-2V22h2z\"\n})));\n\nconst iconsByType = {\n  button: ButtonIcon,\n  checkbox: CheckboxIcon,\n  columns: ColumnsIcon,\n  number: NumberIcon,\n  radio: RadioIcon,\n  select: SelectIcon,\n  text: TextIcon,\n  textfield: TextfieldIcon,\n  default: FormIcon\n};\n\nconst types = [{\n  label: 'Text Field',\n  type: 'textfield'\n}, {\n  label: 'Number',\n  type: 'number'\n}, {\n  label: 'Checkbox',\n  type: 'checkbox'\n}, {\n  label: 'Radio',\n  type: 'radio'\n}, {\n  label: 'Select',\n  type: 'select'\n}, {\n  label: 'Text',\n  type: 'text'\n}, {\n  label: 'Button',\n  type: 'button'\n}];\nfunction Palette(props) {\n  return jsxs(\"div\", {\n    class: \"fjs-palette\",\n    children: [jsxs(\"div\", {\n      class: \"fjs-palette-header\",\n      title: \"Form elements library\",\n      children: [jsx(\"span\", {\n        class: \"fjs-hide-compact\",\n        children: \"FORM ELEMENTS \"\n      }), \"LIBRARY\"]\n    }), jsx(\"div\", {\n      class: \"fjs-palette-fields fjs-drag-container fjs-no-drop\",\n      children: types.map(({\n        label,\n        type\n      }) => {\n        const Icon = iconsByType[type];\n        return jsxs(\"div\", {\n          class: \"fjs-palette-field fjs-drag-copy fjs-no-drop\",\n          \"data-field-type\": type,\n          title: `Create a ${label} element`,\n          children: [Icon ? jsx(Icon, {\n            class: \"fjs-palette-field-icon\",\n            width: \"36\",\n            height: \"36\",\n            viewBox: \"0 0 54 54\"\n          }) : null, jsx(\"span\", {\n            class: \"fjs-palette-field-text fjs-hide-compact\",\n            children: label\n          })]\n        });\n      })\n    })]\n  });\n}\n\nfunction arrayAdd$1(array, index, item) {\n  const copy = [...array];\n  copy.splice(index, 0, item);\n  return copy;\n}\nfunction arrayRemove$1(array, index) {\n  const copy = [...array];\n  copy.splice(index, 1);\n  return copy;\n}\nfunction prefixId(id) {\n  return `fjs-properties-panel-${id}`;\n}\nfunction stopPropagation(listener) {\n  return event => {\n    event.stopPropagation();\n    listener(event);\n  };\n}\nfunction textToLabel(text = '...') {\n  if (text.length > 10) {\n    return `${text.substring(0, 30)}...`;\n  }\n\n  return text;\n}\nconst INPUTS = ['checkbox', 'number', 'radio', 'select', 'textfield'];\n\nfunction CheckboxInput(props) {\n  const {\n    id,\n    label,\n    onChange,\n    value = false\n  } = props;\n\n  const handleChange = ({\n    target\n  }) => {\n    onChange(target.checked);\n  };\n\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-checkbox\",\n    children: [jsx(\"label\", {\n      for: prefixId(id),\n      class: \"fjs-properties-panel-label\",\n      children: label\n    }), jsx(\"input\", {\n      id: prefixId(id),\n      type: \"checkbox\",\n      class: \"fjs-properties-panel-input\",\n      onChange: handleChange,\n      checked: value\n    })]\n  });\n}\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => ref.current = value);\n  return ref.current;\n}\n\nfunction useDebounce(fn, dependencies = []) {\n  const debounce = useService('debounce');\n  const callback = useMemo(() => {\n    return debounce(fn);\n  }, dependencies); // cleanup async side-effect if callback #flush is provided.\n\n  useEffect(() => {\n    return () => {\n      typeof callback.flush === 'function' && callback.flush();\n    };\n  }, [callback]);\n  return callback;\n}\n\nfunction NumberInput(props) {\n  const {\n    id,\n    label,\n    max,\n    min,\n    value = '',\n    onInput: _onInput\n  } = props;\n  const onInput = useDebounce(event => {\n    const {\n      validity,\n      value\n    } = event.target;\n\n    if (validity.valid) {\n      _onInput(value ? parseInt(value, 10) : undefined);\n    }\n  }, [_onInput]);\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-number\",\n    children: [jsx(\"label\", {\n      for: prefixId(id),\n      class: \"fjs-properties-panel-label\",\n      children: label\n    }), jsx(\"input\", {\n      id: prefixId(id),\n      type: \"number\",\n      class: \"fjs-properties-panel-input\",\n      max: max,\n      min: min,\n      onInput: onInput,\n      value: value\n    })]\n  });\n}\n\nfunction Select(props) {\n  const {\n    id,\n    label,\n    onChange,\n    options,\n    value\n  } = props;\n\n  const handleChange = ({\n    target\n  }) => {\n    onChange(target.value);\n  };\n\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-select\",\n    children: [jsx(\"label\", {\n      for: prefixId(id),\n      class: \"fjs-properties-panel-label\",\n      children: label\n    }), jsx(\"select\", {\n      id: prefixId(id),\n      class: \"fjs-properties-panel-input\",\n      onInput: handleChange,\n      children: options.map(option => {\n        return jsx(\"option\", {\n          value: option.value,\n          selected: option.value === value,\n          children: option.label\n        });\n      })\n    })]\n  });\n}\n\nfunction Textarea(props) {\n  const {\n    id,\n    label,\n    rows = 10,\n    value = '',\n    onInput: _onInput\n  } = props;\n  const onInput = useDebounce(event => {\n    const value = event.target.value;\n\n    _onInput(value.length ? value : undefined);\n  }, [_onInput]);\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-textarea\",\n    children: [jsx(\"label\", {\n      for: prefixId(id),\n      class: \"fjs-properties-panel-label\",\n      children: label\n    }), jsx(\"textarea\", {\n      id: prefixId(id),\n      spellcheck: false,\n      class: \"fjs-properties-panel-input\",\n      onInput: onInput,\n      rows: rows,\n      value: value\n    })]\n  });\n}\n\nfunction TextInput(props) {\n  let {\n    id,\n    label,\n    validate = () => null,\n    onInput: _onInput,\n    value = ''\n  } = props;\n  const prevValue = usePrevious(value);\n  const [cachedValue, setCachedValue] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => setError(validate(value)), [validate, value]);\n  const onInput = useDebounce(event => {\n    const value = event.target.value;\n    const error = validate(value);\n\n    if (error) {\n      setCachedValue(value);\n    } else {\n      _onInput(value.length ? value : undefined);\n    }\n\n    setError(error);\n  }, [validate, setCachedValue, _onInput]);\n\n  if (prevValue === value && error) {\n    value = cachedValue;\n  }\n\n  const classes = ['fjs-properties-panel-input'];\n\n  if (error) {\n    classes.push('fjs-has-error');\n  }\n\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-text\",\n    children: [jsx(\"label\", {\n      for: prefixId(id),\n      class: \"fjs-properties-panel-label\",\n      children: label\n    }), jsx(\"input\", {\n      id: prefixId(id),\n      type: \"text\",\n      spellcheck: false,\n      class: classes.join(' '),\n      onInput: onInput,\n      value: value\n    }), error && jsx(\"div\", {\n      class: \"fjs-properties-panel-error\",\n      children: error\n    })]\n  });\n}\n\nfunction CheckboxInputEntry(props) {\n  const {\n    editField,\n    field,\n    id,\n    label,\n    path\n  } = props;\n\n  const onChange = value => {\n    if (editField && path) {\n      editField(field, path, value);\n    } else {\n      props.onChange(value);\n    }\n  };\n\n  const value = path ? get(field, path, false) : props.value;\n  return jsx(\"div\", {\n    class: \"fjs-properties-panel-entry\",\n    children: jsx(CheckboxInput, {\n      id: id,\n      label: label,\n      onChange: onChange,\n      value: value\n    })\n  });\n}\n\nfunction NumberInputEntry(props) {\n  const {\n    editField,\n    field,\n    id,\n    label,\n    max,\n    min,\n    onChange,\n    path\n  } = props;\n\n  const onInput = value => {\n    if (editField && path) {\n      editField(field, path, value);\n    } else {\n      onChange(value);\n    }\n  };\n\n  const value = path ? get(field, path, '') : props.value;\n  return jsx(\"div\", {\n    class: \"fjs-properties-panel-entry\",\n    children: jsx(NumberInput, {\n      id: id,\n      label: label,\n      max: max,\n      min: min,\n      onInput: onInput,\n      value: value\n    })\n  });\n}\n\nfunction SelectEntry(props) {\n  const {\n    editField,\n    field,\n    id,\n    description,\n    label,\n    options,\n    path\n  } = props;\n\n  const onChange = value => {\n    if (editField && path) {\n      editField(field, path, value);\n    } else {\n      props.onChange(value);\n    }\n  };\n\n  const value = path ? get(field, path, '') : props.value;\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-entry\",\n    children: [jsx(Select, {\n      id: id,\n      label: label,\n      onChange: onChange,\n      options: options,\n      value: value\n    }), description && jsx(\"div\", {\n      class: \"fjs-properties-panel-description\",\n      children: description\n    })]\n  });\n}\n\nfunction TextareaEntry(props) {\n  const {\n    editField,\n    field,\n    id,\n    description,\n    label,\n    onChange,\n    path\n  } = props;\n\n  const onInput = value => {\n    if (editField && path) {\n      editField(field, path, value);\n    } else {\n      onChange(value);\n    }\n  };\n\n  const value = path ? get(field, path, '') : props.value;\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-entry\",\n    children: [jsx(Textarea, {\n      id: id,\n      label: label,\n      onInput: onInput,\n      value: value\n    }), description && jsx(\"div\", {\n      class: \"fjs-properties-panel-description\",\n      children: description\n    })]\n  });\n}\n\nfunction TextInputEntry(props) {\n  const {\n    editField,\n    field,\n    id,\n    description,\n    label,\n    onChange,\n    path,\n    validate\n  } = props;\n\n  const onInput = value => {\n    if (editField && path) {\n      editField(field, path, value);\n    } else {\n      onChange(value);\n    }\n  };\n\n  const value = path ? get(field, path, '') : props.value;\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-entry\",\n    children: [jsx(TextInput, {\n      id: id,\n      label: label,\n      onInput: onInput,\n      validate: validate,\n      value: value\n    }), description && jsx(\"div\", {\n      class: \"fjs-properties-panel-description\",\n      children: description\n    })]\n  });\n}\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar CreateIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$3({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"12\",\n  height: \"12\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M7 0v5h5v2H7v5H5V7H0V5h5V0h2z\"\n})));\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ListArrowIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$2({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"7\",\n  height: \"9\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M6.25 4.421L4.836 5.835h-.001L2.007 8.663.593 7.249 3.421 4.42.593 1.593 2.007.178 6.25 4.421z\"\n})));\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nvar ListDeleteIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends$1({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"11\",\n  height: \"14\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 4v8c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V4h9zM8 6H3v4.8c0 .66.5 1.2 1.111 1.2H6.89C7.5 12 8 11.46 8 10.8V6zm3-5H8.5l-1-1h-4l-1 1H0v1.5h11V1z\"\n})));\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar SectionArrowIcon = (({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"8\",\n  height: \"12\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M2.007 11.66L.593 10.248l4.242-4.243L.593 1.761 2.007.347l5.657 5.657-5.657 5.657z\"\n})));\n\nfunction CollapsibleEntry(props) {\n  const {\n    children,\n    label,\n    removeEntry = () => {}\n  } = props;\n  const [collapsed, setCollapsed] = useState(false);\n\n  const toggleCollapsed = () => setCollapsed(!collapsed);\n\n  const classes = ['fjs-properties-panel-collapsible-entry'];\n\n  if (collapsed) {\n    classes.push('fjs-properties-panel-collapsible-entry-collapsed');\n  }\n\n  return jsxs(\"div\", {\n    class: classes.join(' '),\n    children: [jsxs(\"div\", {\n      class: \"fjs-properties-panel-collapsible-entry-header\",\n      onClick: toggleCollapsed,\n      children: [jsxs(\"div\", {\n        children: [jsx(ListArrowIcon, {\n          class: collapsed ? 'fjs-arrow-right' : 'fjs-arrow-down'\n        }), jsx(\"span\", {\n          class: \"fjs-properties-panel-collapsible-entry-header-label\",\n          children: label\n        })]\n      }), jsx(\"button\", {\n        class: \"fjs-properties-panel-collapsible-entry-header-remove-entry\",\n        onClick: stopPropagation(removeEntry),\n        children: jsx(ListDeleteIcon, {})\n      })]\n    }), collapsed ? null : jsx(\"div\", {\n      class: \"fjs-properties-panel-collapsible-entry-entries\",\n      children: children\n    })]\n  });\n}\n\nfunction Group(props) {\n  const {\n    children,\n    hasEntries = true,\n    label\n  } = props;\n  const [open, setOpen] = useState(hasEntries);\n\n  const toggleOpen = () => setOpen(!open);\n\n  const addEntry = event => {\n    event.stopPropagation();\n    setOpen(true);\n    props.addEntry();\n  };\n\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel-group\",\n    children: [jsxs(\"div\", {\n      class: \"fjs-properties-panel-group-header\",\n      onClick: hasEntries ? toggleOpen : () => {},\n      children: [jsx(\"span\", {\n        class: \"fjs-properties-panel-group-header-label\",\n        children: label\n      }), jsxs(\"div\", {\n        class: \"fjs-properties-panel-group-header-buttons\",\n        children: [props.addEntry ? jsx(\"button\", {\n          class: \"fjs-properties-panel-group-header-button fjs-properties-panel-group-header-button-add-entry\",\n          onClick: addEntry,\n          children: jsx(CreateIcon, {})\n        }) : null, jsx(\"button\", {\n          class: \"fjs-properties-panel-group-header-button fjs-properties-panel-group-header-button-toggle-open\",\n          children: jsx(SectionArrowIcon, {\n            class: hasEntries && open ? 'fjs-arrow-down' : 'fjs-arrow-right'\n          })\n        })]\n      })]\n    }), hasEntries && open ? jsx(\"div\", {\n      class: \"fjs-properties-panel-group-entries\",\n      children: children\n    }) : null]\n  });\n}\n\nfunction ActionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const options = [{\n    label: 'Submit',\n    value: 'submit'\n  }, {\n    label: 'Reset',\n    value: 'reset'\n  }];\n  return jsx(SelectEntry, {\n    editField: editField,\n    field: field,\n    id: \"action\",\n    label: \"Action\",\n    options: options,\n    path: ['action']\n  });\n}\n\nfunction ColumnsEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n\n  const onInput = value => {\n    let components = field.components.slice();\n\n    if (value > components.length) {\n      while (value > components.length) {\n        components.push(Default.create({\n          _parent: field.id\n        }));\n      }\n    } else {\n      components = components.slice(0, value);\n    }\n\n    editField(field, 'components', components);\n  };\n\n  const value = field.components.length;\n  return jsx(\"div\", {\n    class: \"fjs-properties-panel-entry\",\n    children: jsx(NumberInputEntry, {\n      id: \"columns\",\n      label: \"Columns\",\n      onInput: onInput,\n      value: value,\n      min: \"1\",\n      max: \"3\"\n    })\n  });\n}\n\nfunction DescriptionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  return jsx(TextInputEntry, {\n    editField: editField,\n    field: field,\n    id: \"description\",\n    label: \"Field Description\",\n    path: ['description']\n  });\n}\n\nfunction DefaultValueEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const {\n    defaultValue,\n    type,\n    values = []\n  } = field;\n\n  if (type === 'checkbox') {\n    const options = [{\n      label: 'Checked',\n      value: 'true'\n    }, {\n      label: 'Not checked',\n      value: 'false'\n    }];\n\n    const onChange = value => {\n      editField(field, ['defaultValue'], parseStringToBoolean(value));\n    };\n\n    return jsx(SelectEntry, {\n      id: \"defaultValue\",\n      label: \"Default Value\",\n      onChange: onChange,\n      options: options,\n      value: parseBooleanToString(defaultValue)\n    });\n  }\n\n  if (type === 'number') {\n    return jsx(NumberInputEntry, {\n      editField: editField,\n      field: field,\n      id: \"defaultValue\",\n      label: \"Default Value\",\n      path: ['defaultValue']\n    });\n  }\n\n  if (type === 'radio' || type === 'select') {\n    const options = [{\n      label: '<none>'\n    }, ...values];\n\n    const onChange = value => {\n      editField(field, ['defaultValue'], value.length ? value : undefined);\n    };\n\n    return jsx(SelectEntry, {\n      id: \"defaultValue\",\n      label: \"Default Value\",\n      onChange: onChange,\n      options: options,\n      value: defaultValue\n    });\n  }\n\n  if (type === 'textfield') {\n    return jsx(TextInputEntry, {\n      editField: editField,\n      field: field,\n      id: \"defaultValue\",\n      label: \"Default Value\",\n      path: ['defaultValue']\n    });\n  }\n}\n\nfunction parseStringToBoolean(value) {\n  if (value === 'true') {\n    return true;\n  }\n\n  return false;\n}\n\nfunction parseBooleanToString(value) {\n  if (value === true) {\n    return 'true';\n  }\n\n  return 'false';\n}\n\nfunction DisabledEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n\n  const onChange = value => {\n    editField(field, 'disabled', value);\n  };\n\n  return jsx(CheckboxInputEntry, {\n    id: \"disabled\",\n    field: field,\n    label: \"Disabled\",\n    path: ['disabled'],\n    onChange: onChange\n  });\n}\n\nfunction IdEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const formFieldRegistry = useService('formFieldRegistry');\n\n  const validate = value => {\n    if (isUndefined(value) || !value.length) {\n      return 'Must not be empty.';\n    }\n\n    const assigned = formFieldRegistry._ids.assigned(value);\n\n    if (assigned && assigned !== field) {\n      return 'Must be unique.';\n    }\n\n    return validateId(value) || null;\n  };\n\n  return jsx(TextInputEntry, {\n    editField: editField,\n    field: field,\n    id: \"id\",\n    label: \"Id\",\n    path: ['id'],\n    validate: validate\n  });\n} // id structural validation /////////////\n\nconst SPACE_REGEX = /\\s/; // for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\n\nconst QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i; // for ID validation as per BPMN Schema (QName - Namespace)\n\nconst ID_REGEX = /^[a-z_][\\w-.]*$/i;\n\nfunction validateId(idValue) {\n  if (containsSpace(idValue)) {\n    return 'Must not contain spaces.';\n  }\n\n  if (!ID_REGEX.test(idValue)) {\n    if (QNAME_REGEX.test(idValue)) {\n      return 'Must not contain prefix.';\n    }\n\n    return 'Must be a valid QName.';\n  }\n}\n\nfunction containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}\n\nfunction KeyEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const formFieldRegistry = useService('formFieldRegistry');\n\n  const validate = value => {\n    if (isUndefined(value) || !value.length) {\n      return 'Must not be empty.';\n    }\n\n    if (/\\s/.test(value)) {\n      return 'Must not contain spaces.';\n    }\n\n    const assigned = formFieldRegistry._keys.assigned(value);\n\n    if (assigned && assigned !== field) {\n      return 'Must be unique.';\n    }\n\n    return null;\n  };\n\n  return jsx(TextInputEntry, {\n    editField: editField,\n    field: field,\n    id: \"key\",\n    label: \"Key\",\n    description: \"Maps to a process variable.\",\n    path: ['key'],\n    validate: validate\n  });\n}\n\nfunction LabelEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  return jsx(TextInputEntry, {\n    editField: editField,\n    field: field,\n    id: \"label\",\n    label: \"Field Label\",\n    path: ['label']\n  });\n}\n\nfunction TextEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  return jsx(TextareaEntry, {\n    editField: editField,\n    field: field,\n    id: \"text\",\n    label: \"Text\",\n    path: ['text'],\n    description: \"Use Markdown or basic HTML to format.\"\n  });\n}\n\nfunction ValueEntry(props) {\n  const {\n    editField,\n    field,\n    index,\n    validate\n  } = props;\n\n  const getLabel = () => {\n    return get(field, ['values', index, 'label']);\n  };\n\n  const getValue = () => {\n    return get(field, ['values', index, 'value']);\n  };\n\n  const onChange = key => {\n    const values = get(field, ['values']);\n    return value => {\n      editField(field, 'values', set(values, [index, key], value));\n    };\n  };\n\n  return jsxs(Fragment, {\n    children: [jsx(TextInputEntry, {\n      id: `value-label-${index}`,\n      label: \"Label\",\n      onChange: onChange('label'),\n      value: getLabel()\n    }), jsx(TextInputEntry, {\n      id: `value-value-${index}`,\n      label: \"Value\",\n      onChange: onChange('value'),\n      value: getValue(),\n      validate: validate(getValue())\n    })]\n  });\n}\n\nfunction CustomValueEntry(props) {\n  const {\n    editField,\n    field,\n    index,\n    validate\n  } = props;\n\n  const getKey = () => {\n    return Object.keys(get(field, ['properties']))[index];\n  };\n\n  const getValue = () => {\n    return get(field, ['properties', getKey()]);\n  };\n\n  const onChange = key => {\n    const properties = get(field, ['properties']);\n    return value => {\n      if (key === 'value') {\n        editField(field, 'properties', updateValue(properties, getKey(), value));\n      } else if (key === 'key') {\n        editField(field, 'properties', updateKey(properties, getKey(), value));\n      }\n    };\n  };\n\n  return jsxs(Fragment, {\n    children: [jsx(TextInputEntry, {\n      id: `value-key-${index}`,\n      label: \"Key\",\n      onChange: onChange('key'),\n      value: getKey(),\n      validate: validate(getKey())\n    }), jsx(TextInputEntry, {\n      id: `value-value-${index}`,\n      label: \"Value\",\n      onChange: onChange('value'),\n      value: getValue()\n    })]\n  });\n} // helpers //////////\n\n/**\n * Returns copy of object with updated value.\n *\n * @param {Object} properties\n * @param {string} key\n * @param {string} value\n *\n * @returns {Object}\n */\n\nfunction updateValue(properties, key, value) {\n  return { ...properties,\n    [key]: value\n  };\n}\n/**\n * Returns copy of object with updated key.\n *\n * @param {Object} properties\n * @param {string} oldKey\n * @param {string} newKey\n *\n * @returns {Object}\n */\n\n\nfunction updateKey(properties, oldKey, newKey) {\n  return Object.entries(properties).reduce((newProperties, entry) => {\n    const [key, value] = entry;\n    return { ...newProperties,\n      [key === oldKey ? newKey : key]: value\n    };\n  }, {});\n}\n\nfunction GeneralGroup(field, editField) {\n  const {\n    type\n  } = field;\n  const entries = [];\n\n  if (type === 'default') {\n    entries.push(jsx(IdEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (INPUTS.includes(type) || type === 'button') {\n    entries.push(jsx(LabelEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (INPUTS.includes(type)) {\n    entries.push(jsx(DescriptionEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (INPUTS.includes(type)) {\n    entries.push(jsx(KeyEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (INPUTS.includes(type)) {\n    entries.push(jsx(DefaultValueEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (type === 'button') {\n    entries.push(jsx(ActionEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (type === 'columns') {\n    entries.push(jsx(ColumnsEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (type === 'text') {\n    entries.push(jsx(TextEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  if (INPUTS.includes(type)) {\n    entries.push(jsx(DisabledEntry, {\n      editField: editField,\n      field: field\n    }));\n  }\n\n  return jsx(Group, {\n    label: \"General\",\n    children: entries.length ? entries : null\n  });\n}\n\nfunction ValidationGroup(field, editField) {\n  const {\n    type\n  } = field;\n\n  const onChange = key => {\n    return value => {\n      const validate = get(field, ['validate'], {});\n      editField(field, ['validate'], set(validate, [key], value));\n    };\n  };\n\n  const entries = [jsx(CheckboxInputEntry, {\n    id: \"required\",\n    label: \"Required\",\n    onChange: onChange('required'),\n    value: get(field, ['validate', 'required'])\n  })];\n\n  if (type === 'textfield') {\n    entries.push(jsx(NumberInputEntry, {\n      id: \"minLength\",\n      label: \"Minimum Length\",\n      min: \"0\",\n      onChange: onChange('minLength'),\n      value: get(field, ['validate', 'minLength'])\n    }), jsx(NumberInputEntry, {\n      id: \"maxLength\",\n      label: \"Maximum Length\",\n      min: \"0\",\n      onChange: onChange('maxLength'),\n      value: get(field, ['validate', 'maxLength'])\n    }), jsx(TextInputEntry, {\n      id: \"regularExpressionPattern\",\n      label: \"Regular Expression Pattern\",\n      onChange: onChange('regularExpressionPattern'),\n      value: get(field, ['validate', 'regularExpressionPattern'])\n    }));\n  }\n\n  if (type === 'number') {\n    entries.push(jsx(NumberInputEntry, {\n      id: \"min\",\n      label: \"Minimum\",\n      onChange: onChange('min'),\n      value: get(field, ['validate', 'min'])\n    }), jsx(NumberInputEntry, {\n      id: \"max\",\n      label: \"Maximum\",\n      onChange: onChange('max'),\n      value: get(field, ['validate', 'max'])\n    }));\n  }\n\n  return jsx(Group, {\n    label: \"Validation\",\n    children: entries.length ? entries : null\n  });\n}\n\nfunction ValuesGroup(field, editField) {\n  const {\n    id,\n    values = []\n  } = field;\n\n  const addEntry = () => {\n    const index = values.length + 1;\n    const entry = {\n      label: `Value ${index}`,\n      value: `value${index}`\n    };\n    editField(field, ['values'], arrayAdd$1(values, values.length, entry));\n  };\n\n  const validateFactory = key => {\n    return value => {\n      if (value === key) {\n        return;\n      }\n\n      if (isUndefined(value) || !value.length) {\n        return 'Must not be empty.';\n      }\n\n      const isValueAssigned = values.find(entry => entry.value === value);\n\n      if (isValueAssigned) {\n        return 'Must be unique.';\n      }\n    };\n  };\n\n  const hasEntries = values.length > 0;\n  return jsx(Group, {\n    label: \"Values\",\n    addEntry: addEntry,\n    hasEntries: hasEntries,\n    children: values.map((value, index) => {\n      const {\n        label\n      } = value;\n\n      const removeEntry = () => {\n        editField(field, ['values'], arrayRemove$1(values, index));\n      };\n\n      return jsx(CollapsibleEntry, {\n        label: label,\n        removeEntry: removeEntry,\n        children: jsx(ValueEntry, {\n          editField: editField,\n          field: field,\n          index: index,\n          validate: validateFactory\n        })\n      }, `${id}-${index}`);\n    })\n  });\n}\n\nfunction CustomValuesGroup(field, editField) {\n  const {\n    id,\n    properties = {}\n  } = field;\n\n  const addEntry = () => {\n    const index = Object.keys(properties).length + 1;\n    const key = `key${index}`,\n          value = 'value';\n    editField(field, ['properties'], { ...properties,\n      [key]: value\n    });\n  };\n\n  const validateFactory = key => {\n    return value => {\n      if (value === key) {\n        return;\n      }\n\n      if (isUndefined(value) || !value.length) {\n        return 'Must not be empty.';\n      }\n\n      if (has(properties, value)) {\n        return 'Must be unique.';\n      }\n    };\n  };\n\n  const hasEntries = Object.keys(properties).length > 0;\n  return jsx(Group, {\n    label: \"Custom Properties\",\n    addEntry: addEntry,\n    hasEntries: hasEntries,\n    children: Object.keys(properties).map((key, index) => {\n      const removeEntry = () => {\n        editField(field, ['properties'], removeKey(properties, key));\n      };\n\n      return jsx(CollapsibleEntry, {\n        label: key,\n        removeEntry: removeEntry,\n        children: jsx(CustomValueEntry, {\n          editField: editField,\n          field: field,\n          index: index,\n          validate: validateFactory\n        })\n      }, `${id}-${index}`);\n    })\n  });\n} // helpers //////////\n\n/**\n * Returns copy of object without key.\n *\n * @param {Object} properties\n * @param {string} oldKey\n *\n * @returns {Object}\n */\n\nfunction removeKey(properties, oldKey) {\n  return Object.entries(properties).reduce((newProperties, entry) => {\n    const [key, value] = entry;\n\n    if (key === oldKey) {\n      return newProperties;\n    }\n\n    return { ...newProperties,\n      [key]: value\n    };\n  }, {});\n}\n\nconst labelsByType = {\n  button: 'BUTTON',\n  checkbox: 'CHECKBOX',\n  columns: 'COLUMNS',\n  default: 'FORM',\n  number: 'NUMBER',\n  radio: 'RADIO',\n  select: 'SELECT',\n  text: 'TEXT',\n  textfield: 'TEXT FIELD'\n};\n\nfunction getGroups(field, editField) {\n  const {\n    type\n  } = field;\n  const groups = [GeneralGroup(field, editField)];\n\n  if (type === 'radio' || type === 'select') {\n    groups.push(ValuesGroup(field, editField));\n  }\n\n  if (INPUTS.includes(type) && type !== 'checkbox') {\n    groups.push(ValidationGroup(field, editField));\n  }\n\n  if (type !== 'default') {\n    groups.push(CustomValuesGroup(field, editField));\n  }\n\n  return groups;\n}\n\nfunction PropertiesPanel(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const eventBus = useService('eventBus');\n\n  if (!field) {\n    return jsx(\"div\", {\n      class: \"fjs-properties-panel-placeholder\",\n      children: \"Select a form field to edit its properties.\"\n    });\n  }\n\n  const onFocus = () => eventBus.fire('propertiesPanel.focusin');\n\n  const onBlur = () => eventBus.fire('propertiesPanel.focusout');\n\n  const {\n    type\n  } = field;\n  const Icon = iconsByType[type];\n  const label = labelsByType[type];\n  return jsxs(\"div\", {\n    class: \"fjs-properties-panel\",\n    \"data-field\": field.id,\n    onFocusCapture: onFocus,\n    onBlurCapture: onBlur,\n    children: [jsxs(\"div\", {\n      class: \"fjs-properties-panel-header\",\n      children: [jsx(\"div\", {\n        class: \"fjs-properties-panel-header-icon\",\n        children: jsx(Icon, {\n          width: \"36\",\n          height: \"36\",\n          viewBox: \"0 0 54 54\"\n        })\n      }), jsxs(\"div\", {\n        children: [jsx(\"span\", {\n          class: \"fjs-properties-panel-header-type\",\n          children: label\n        }), type === 'text' ? jsx(\"div\", {\n          class: \"fjs-properties-panel-header-label\",\n          children: textToLabel(field.text)\n        }) : type === 'default' ? jsx(\"div\", {\n          class: \"fjs-properties-panel-header-label\",\n          children: field.id\n        }) : jsx(\"div\", {\n          class: \"fjs-properties-panel-header-label\",\n          children: field.label\n        })]\n      })]\n    }), getGroups(field, editField)]\n  });\n}\n\nfunction ContextPad(props) {\n  if (!props.children) {\n    return null;\n  }\n\n  return jsx(\"div\", {\n    class: \"fjs-context-pad\",\n    children: props.children\n  });\n}\n\nfunction Empty(props) {\n  return null;\n}\n\nfunction Element(props) {\n  const eventBus = useService('eventBus'),\n        formEditor = useService('formEditor'),\n        formFieldRegistry = useService('formFieldRegistry'),\n        modeling = useService('modeling'),\n        selection = useService('selection');\n  const {\n    field\n  } = props;\n  const {\n    id,\n    type\n  } = field;\n  const ref = useRef();\n\n  function scrollIntoView({\n    selection\n  }) {\n    if (!selection || selection.id !== id || !ref.current) {\n      return;\n    }\n\n    const elementBounds = ref.current.getBoundingClientRect(),\n          containerBounds = formEditor._container.getBoundingClientRect();\n\n    if (elementBounds.top < 0 || elementBounds.top > containerBounds.bottom) {\n      ref.current.scrollIntoView();\n    }\n  }\n\n  useEffect(() => {\n    eventBus.on('selection.changed', scrollIntoView);\n    return () => eventBus.off('selection.changed', scrollIntoView);\n  }, [id]);\n\n  function onClick(event) {\n    event.stopPropagation();\n    selection.toggle(field);\n  }\n\n  const classes = ['fjs-element'];\n\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n\n  if (selection.isSelected(field)) {\n    classes.push('fjs-editor-selected');\n  }\n\n  const onRemove = event => {\n    event.stopPropagation();\n    const parentField = formFieldRegistry.get(field._parent);\n    const index = getFormFieldIndex(parentField, field);\n    modeling.removeFormField(field, parentField, index);\n  };\n\n  return jsxs(\"div\", {\n    class: classes.join(' '),\n    \"data-id\": id,\n    \"data-field-type\": type,\n    onClick: onClick,\n    ref: ref,\n    children: [jsx(ContextPad, {\n      children: selection.isSelected(field) && field.type !== 'default' ? jsx(\"button\", {\n        class: \"fjs-context-pad-item\",\n        onClick: onRemove,\n        children: jsx(ListDeleteIcon, {})\n      }) : null\n    }), props.children]\n  });\n}\n\nfunction Children(props) {\n  const {\n    field\n  } = props;\n  const {\n    id\n  } = field;\n  const classes = ['fjs-children', 'fjs-drag-container'];\n\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n\n  return jsx(\"div\", {\n    class: classes.join(' '),\n    \"data-id\": id,\n    children: props.children\n  });\n}\n\nfunction FormEditor$1(props) {\n  const eventBus = useService('eventBus'),\n        formEditor = useService('formEditor'),\n        formFieldRegistry = useService('formFieldRegistry'),\n        injector = useService('injector'),\n        modeling = useService('modeling'),\n        selection = useService('selection');\n\n  const {\n    schema\n  } = formEditor._getState();\n\n  const [selectedFormField, setSelection] = useState(schema);\n  useEffect(() => {\n    function handleSelectionChanged(event) {\n      setSelection(event.selection || schema);\n    }\n\n    eventBus.on('selection.changed', handleSelectionChanged);\n    setSelection(selection.get() || schema);\n    return () => {\n      eventBus.off('selection.changed', handleSelectionChanged);\n    };\n  }, [schema, selection]);\n  const [drake, setDrake] = useState(null);\n  const dragAndDropContext = {\n    drake\n  };\n  useEffect(() => {\n    const createDragulaInstance = () => {\n      const dragulaInstance = dragula({\n        isContainer(el) {\n          return el.classList.contains('fjs-drag-container');\n        },\n\n        copy(el) {\n          return el.classList.contains('fjs-drag-copy');\n        },\n\n        accepts(el, target) {\n          return !target.classList.contains('fjs-no-drop');\n        },\n\n        slideFactorX: 10,\n        slideFactorY: 5\n      });\n      dragulaInstance.on('drop', (el, target, source, sibling) => {\n        dragulaInstance.remove();\n\n        if (!target) {\n          return;\n        }\n\n        const targetFormField = formFieldRegistry.get(target.dataset.id);\n        const siblingFormField = sibling && formFieldRegistry.get(sibling.dataset.id),\n              targetIndex = siblingFormField ? getFormFieldIndex(targetFormField, siblingFormField) : targetFormField.components.length;\n\n        if (source.classList.contains('fjs-palette-fields')) {\n          const type = el.dataset.fieldType;\n          modeling.addFormField({\n            type\n          }, targetFormField, targetIndex);\n        } else {\n          const formField = formFieldRegistry.get(el.dataset.id),\n                sourceFormField = formFieldRegistry.get(source.dataset.id),\n                sourceIndex = getFormFieldIndex(sourceFormField, formField);\n          modeling.moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex);\n        }\n      });\n      eventBus.fire('dragula.created');\n      setDrake(dragulaInstance);\n      return dragulaInstance;\n    };\n\n    let dragulaInstance = createDragulaInstance();\n\n    const onDetach = () => {\n      if (dragulaInstance) {\n        dragulaInstance.destroy();\n        eventBus.fire('dragula.destroyed');\n      }\n    };\n\n    const onAttach = () => {\n      onDetach();\n      dragulaInstance = createDragulaInstance();\n    };\n\n    eventBus.on('attach', onAttach);\n    eventBus.on('detach', onDetach);\n    return () => {\n      onDetach();\n      eventBus.off('attach', onAttach);\n      eventBus.off('detach', onDetach);\n    };\n  }, []);\n  const formRenderContext = {\n    Children,\n    Element,\n    Empty\n  };\n  const formContext = {\n    getService(type, strict = true) {\n      // TODO(philippfromme): clean up\n      if (type === 'formFieldRegistry') {\n        return new Map();\n      } else if (type === 'form') {\n        return {\n          _getState() {\n            return {\n              data: {},\n              errors: {},\n              properties: {\n                readOnly: true\n              },\n              schema\n            };\n          }\n\n        };\n      }\n\n      return injector.get(type, strict);\n    },\n\n    formId: formEditor._id\n  };\n  const onSubmit = useCallback(() => {}, []);\n  const onReset = useCallback(() => {}, []);\n  const editField = useCallback((formField, key, value) => modeling.editFormField(formField, key, value), [modeling]);\n  return jsxs(\"div\", {\n    class: \"fjs-form-editor\",\n    children: [jsxs(DragAndDropContext.Provider, {\n      value: dragAndDropContext,\n      children: [jsx(\"div\", {\n        class: \"fjs-palette-container\",\n        children: jsx(Palette, {})\n      }), jsx(\"div\", {\n        class: \"fjs-form-container\",\n        children: jsx(FormContext.Provider, {\n          value: formContext,\n          children: jsx(FormRenderContext.Provider, {\n            value: formRenderContext,\n            children: jsx(FormComponent, {\n              onSubmit: onSubmit,\n              onReset: onReset\n            })\n          })\n        })\n      }), jsx(CreatePreview, {})]\n    }), jsx(\"div\", {\n      class: \"fjs-properties-container\",\n      children: jsx(PropertiesPanel, {\n        field: selectedFormField,\n        editField: editField\n      })\n    })]\n  });\n}\n\nfunction getFormFieldIndex(parent, formField) {\n  let fieldFormIndex = parent.components.length;\n  parent.components.forEach(({\n    id\n  }, index) => {\n    if (id === formField.id) {\n      fieldFormIndex = index;\n    }\n  });\n  return fieldFormIndex;\n}\n\nfunction CreatePreview(props) {\n  const {\n    drake\n  } = useContext(DragAndDropContext);\n\n  function handleCloned(clone, original, type) {\n    const fieldType = clone.dataset.fieldType;\n    const Icon = iconsByType[fieldType];\n\n    if (fieldType) {\n      clone.innerHTML = '';\n      clone.class = 'gu-mirror';\n      render(jsx(Icon, {}), clone);\n    }\n  }\n\n  useEffect(() => {\n    if (!drake) {\n      return;\n    }\n\n    drake.on('cloned', handleCloned);\n    return () => drake.off('cloned', handleCloned);\n  }, [drake]);\n  return null;\n}\n\nclass Renderer {\n  constructor(renderConfig, eventBus, formEditor, injector) {\n    const {\n      container,\n      compact = false\n    } = renderConfig;\n\n    const App = () => {\n      const [state, setState] = useState(formEditor._getState());\n      const formEditorContext = {\n        getService(type, strict = true) {\n          return injector.get(type, strict);\n        }\n\n      };\n      formEditor.on('changed', newState => {\n        setState(newState);\n      });\n      const {\n        schema\n      } = state;\n\n      if (!schema) {\n        return null;\n      }\n\n      return jsx(\"div\", {\n        class: `fjs-container fjs-editor-container ${compact ? 'fjs-editor-compact' : ''}`,\n        children: jsx(FormEditorContext.Provider, {\n          value: formEditorContext,\n          children: jsx(FormEditor$1, {})\n        })\n      });\n    };\n\n    eventBus.on('form.init', () => {\n      render(jsx(App, {}), container);\n    });\n    eventBus.on('form.destroy', () => {\n      render(null, container);\n    });\n  }\n\n}\nRenderer.$inject = ['config.renderer', 'eventBus', 'formEditor', 'injector'];\n\nvar renderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', FormFields],\n  renderer: ['type', Renderer]\n};\n\nvar core = {\n  __depends__: [importModule, renderModule],\n  eventBus: ['type', EventBus],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  fieldFactory: ['type', FieldFactory],\n  debounce: ['factory', DebounceFactory]\n};\n\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n    IS_REGISTERED_ERROR = 'is already registered';\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction\n * and likewise unregister existing ones with unregisterAction.\n *\n *\n * ## Life-Cycle and configuration\n *\n * The editor actions will wait for diagram initialization before\n * registering default actions _and_ firing an `editorActions.init` event.\n *\n * Interested parties may listen to the `editorActions.init` event with\n * low priority to check, which actions got registered. Other components\n * may use the event to register their own actions via `registerAction`.\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\n\nfunction EditorActions(eventBus, injector) {\n  // initialize actions\n  this._actions = {};\n  var self = this;\n  eventBus.on('diagram.init', function () {\n    // all diagram modules got loaded; check which ones\n    // are available and register the respective default actions\n    self._registerDefaultActions(injector); // ask interested parties to register available editor\n    // actions on diagram initialization\n\n\n    eventBus.fire('editorActions.init', {\n      editorActions: self\n    });\n  });\n}\nEditorActions.$inject = ['eventBus', 'injector'];\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\n\nEditorActions.prototype._registerDefaultActions = function (injector) {\n  // (1) retrieve optional components to integrate with\n  var commandStack = injector.get('commandStack', false);\n  var modeling = injector.get('modeling', false);\n  var selection = injector.get('selection', false);\n  var zoomScroll = injector.get('zoomScroll', false);\n  var copyPaste = injector.get('copyPaste', false);\n  var canvas = injector.get('canvas', false);\n  var rules = injector.get('rules', false);\n  var keyboardMove = injector.get('keyboardMove', false);\n  var keyboardMoveSelection = injector.get('keyboardMoveSelection', false); // (2) check components and register actions\n\n  if (commandStack) {\n    this.register('undo', function () {\n      commandStack.undo();\n    });\n    this.register('redo', function () {\n      commandStack.redo();\n    });\n  }\n\n  if (copyPaste && selection) {\n    this.register('copy', function () {\n      var selectedElements = selection.get();\n      copyPaste.copy(selectedElements);\n    });\n  }\n\n  if (copyPaste) {\n    this.register('paste', function () {\n      copyPaste.paste();\n    });\n  }\n\n  if (zoomScroll) {\n    this.register('stepZoom', function (opts) {\n      zoomScroll.stepZoom(opts.value);\n    });\n  }\n\n  if (canvas) {\n    this.register('zoom', function (opts) {\n      canvas.zoom(opts.value);\n    });\n  }\n\n  if (modeling && selection && rules) {\n    this.register('removeSelection', function () {\n      var selectedElements = selection.get();\n\n      if (!selectedElements.length) {\n        return;\n      }\n\n      var allowed = rules.allowed('elements.delete', {\n        elements: selectedElements\n      }),\n          removableElements;\n\n      if (allowed === false) {\n        return;\n      } else if (isArray(allowed)) {\n        removableElements = allowed;\n      } else {\n        removableElements = selectedElements;\n      }\n\n      if (removableElements.length) {\n        modeling.removeElements(removableElements.slice());\n      }\n    });\n  }\n\n  if (keyboardMove) {\n    this.register('moveCanvas', function (opts) {\n      keyboardMove.moveCanvas(opts);\n    });\n  }\n\n  if (keyboardMoveSelection) {\n    this.register('moveSelection', function (opts) {\n      keyboardMoveSelection.moveSelection(opts.direction, opts.accelerated);\n    });\n  }\n};\n/**\n * Triggers a registered action\n *\n * @param  {string} action\n * @param  {Object} opts\n *\n * @return {Unknown} Returns what the registered listener returns\n */\n\n\nEditorActions.prototype.trigger = function (action, opts) {\n  if (!this._actions[action]) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  return this._actions[action](opts);\n};\n/**\n * Registers a collections of actions.\n * The key of the object will be the name of the action.\n *\n * @example\n * \n * var actions = {\n *   spaceTool: function() {\n *     spaceTool.activateSelection();\n *   },\n *   lassoTool: function() {\n *     lassoTool.activateSelection();\n *   }\n * ];\n *\n * editorActions.register(actions);\n *\n * editorActions.isRegistered('spaceTool'); // true\n * \n *\n * @param  {Object} actions\n */\n\n\nEditorActions.prototype.register = function (actions, listener) {\n  var self = this;\n\n  if (typeof actions === 'string') {\n    return this._registerAction(actions, listener);\n  }\n\n  forEach(actions, function (listener, action) {\n    self._registerAction(action, listener);\n  });\n};\n/**\n * Registers a listener to an action key\n *\n * @param  {string} action\n * @param  {Function} listener\n */\n\n\nEditorActions.prototype._registerAction = function (action, listener) {\n  if (this.isRegistered(action)) {\n    throw error(action, IS_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = listener;\n};\n/**\n * Unregister an existing action\n *\n * @param {string} action\n */\n\n\nEditorActions.prototype.unregister = function (action) {\n  if (!this.isRegistered(action)) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = undefined;\n};\n/**\n * Returns the number of actions that are currently registered\n *\n * @return {number}\n */\n\n\nEditorActions.prototype.getActions = function () {\n  return Object.keys(this._actions);\n};\n/**\n * Checks wether the given action is registered\n *\n * @param {string} action\n *\n * @return {boolean}\n */\n\n\nEditorActions.prototype.isRegistered = function (action) {\n  return !!this._actions[action];\n};\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n\nvar EditorActionsModule$1 = {\n  __init__: ['editorActions'],\n  editorActions: ['type', EditorActions]\n};\n\nclass FormEditorActions extends EditorActions {\n  constructor(eventBus, injector) {\n    super(eventBus, injector);\n    eventBus.on('form.init', () => {\n      this._registerDefaultActions(injector);\n\n      eventBus.fire('editorActions.init', {\n        editorActions: this\n      });\n    });\n  }\n\n  _registerDefaultActions(injector) {\n    const commandStack = injector.get('commandStack', false),\n          formFieldRegistry = injector.get('formFieldRegistry', false),\n          selection = injector.get('selection', false);\n\n    if (commandStack) {\n      // @ts-ignore\n      this.register('undo', () => {\n        commandStack.undo();\n      }); // @ts-ignore\n\n      this.register('redo', () => {\n        commandStack.redo();\n      });\n    }\n\n    if (formFieldRegistry && selection) {\n      // @ts-ignore\n      this.register('selectFormField', (options = {}) => {\n        const {\n          id\n        } = options;\n\n        if (!id) {\n          return;\n        }\n\n        const formField = formFieldRegistry.get(id);\n\n        if (formField) {\n          selection.set(formField);\n        }\n      });\n    }\n  }\n\n}\nFormEditorActions.$inject = ['eventBus', 'injector'];\n\nvar EditorActionsModule = {\n  __depends__: [EditorActionsModule$1],\n  editorActions: ['type', FormEditorActions]\n};\n\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\n\nfunction hasModifier(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey || event.altKey;\n}\n/**\r\n * @param {KeyboardEvent} event\r\n */\n\nfunction isCmd(event) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (event.altKey) {\n    return false;\n  }\n\n  return event.ctrlKey || event.metaKey;\n}\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|Array<string>} keys\r\n * @param {KeyboardEvent} event\r\n */\n\nfunction isKey(keys, event) {\n  keys = isArray(keys) ? keys : [keys];\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.keyCode) !== -1;\n}\n/**\r\n * @param {KeyboardEvent} event\r\n */\n\nfunction isShift(event) {\n  return event.shiftKey;\n}\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n    KEYUP_EVENT = 'keyboard.keyup';\nvar HANDLE_MODIFIER_ATTRIBUTE = 'input-handle-modified-keys';\nvar DEFAULT_PRIORITY$1 = 1000;\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n */\n\nfunction Keyboard(config, eventBus) {\n  var self = this;\n  this._config = config || {};\n  this._eventBus = eventBus;\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this); // properly clean dom registrations\n\n  eventBus.on('diagram.destroy', function () {\n    self._fire('destroy');\n\n    self.unbind();\n  });\n  eventBus.on('diagram.init', function () {\n    self._fire('init');\n  });\n  eventBus.on('attach', function () {\n    if (config && config.bindTo) {\n      self.bind(config.bindTo);\n    }\n  });\n  eventBus.on('detach', function () {\n    self.unbind();\n  });\n}\nKeyboard.$inject = ['config.keyboard', 'eventBus'];\n\nKeyboard.prototype._keydownHandler = function (event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\n\nKeyboard.prototype._keyupHandler = function (event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\n\nKeyboard.prototype._keyHandler = function (event, type) {\n  var eventBusResult;\n\n  if (this._isEventIgnored(event)) {\n    return;\n  }\n\n  var context = {\n    keyEvent: event\n  };\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\n\nKeyboard.prototype._isEventIgnored = function (event) {\n  return isInput(event.target) && this._isModifiedKeyIgnored(event);\n};\n\nKeyboard.prototype._isModifiedKeyIgnored = function (event) {\n  if (!isCmd(event)) {\n    return true;\n  }\n\n  var allowedModifiers = this._getAllowedModifiers(event.target);\n\n  return !allowedModifiers.includes(event.key);\n};\n\nKeyboard.prototype._getAllowedModifiers = function (element) {\n  var modifierContainer = closest(element, '[' + HANDLE_MODIFIER_ATTRIBUTE + ']', true);\n\n  if (!modifierContainer || this._node && !this._node.contains(modifierContainer)) {\n    return [];\n  }\n\n  return modifierContainer.getAttribute(HANDLE_MODIFIER_ATTRIBUTE).split(',');\n};\n\nKeyboard.prototype.bind = function (node) {\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n  this._node = node; // bind key events\n\n  event.bind(node, 'keydown', this._keydownHandler, true);\n  event.bind(node, 'keyup', this._keyupHandler, true);\n\n  this._fire('bind');\n};\n\nKeyboard.prototype.getBinding = function () {\n  return this._node;\n};\n\nKeyboard.prototype.unbind = function () {\n  var node = this._node;\n\n  if (node) {\n    this._fire('unbind'); // unbind key events\n\n\n    event.unbind(node, 'keydown', this._keydownHandler, true);\n    event.unbind(node, 'keyup', this._keyupHandler, true);\n  }\n\n  this._node = null;\n};\n\nKeyboard.prototype._fire = function (event) {\n  this._eventBus.fire('keyboard.' + event, {\n    node: this._node\n  });\n};\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Function} listener\n * @param {string} type\n */\n\n\nKeyboard.prototype.addListener = function (priority, listener, type) {\n  if (isFunction(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY$1;\n  }\n\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\nKeyboard.prototype.removeListener = function (listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\n\nKeyboard.prototype.hasModifier = hasModifier;\nKeyboard.prototype.isCmd = isCmd;\nKeyboard.prototype.isShift = isShift;\nKeyboard.prototype.isKey = isKey; // helpers ///////\n\nfunction isInput(target) {\n  return target && (matches(target, 'input, textarea') || target.contentEditable === 'true');\n}\n\nvar LOW_PRIORITY$1 = 500;\nvar KEYCODE_C = 67;\nvar KEYCODE_V = 86;\nvar KEYCODE_Y = 89;\nvar KEYCODE_Z = 90;\nvar KEYS_COPY = ['c', 'C', KEYCODE_C];\nvar KEYS_PASTE = ['v', 'V', KEYCODE_V];\nvar KEYS_REDO = ['y', 'Y', KEYCODE_Y];\nvar KEYS_UNDO = ['z', 'Z', KEYCODE_Z];\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\n\nfunction KeyboardBindings(eventBus, keyboard) {\n  var self = this;\n  eventBus.on('editorActions.init', LOW_PRIORITY$1, function (event) {\n    var editorActions = event.editorActions;\n    self.registerBindings(keyboard, editorActions);\n  });\n}\nKeyboardBindings.$inject = ['eventBus', 'keyboard'];\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\n\nKeyboardBindings.prototype.registerBindings = function (keyboard, editorActions) {\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  } // undo\n  // (CTRL|CMD) + Z\n\n\n  addListener('undo', function (context) {\n    var event = context.keyEvent;\n\n    if (isCmd(event) && !isShift(event) && isKey(KEYS_UNDO, event)) {\n      editorActions.trigger('undo');\n      return true;\n    }\n  }); // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n\n  addListener('redo', function (context) {\n    var event = context.keyEvent;\n\n    if (isCmd(event) && (isKey(KEYS_REDO, event) || isKey(KEYS_UNDO, event) && isShift(event))) {\n      editorActions.trigger('redo');\n      return true;\n    }\n  }); // copy\n  // CTRL/CMD + C\n\n  addListener('copy', function (context) {\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_COPY, event)) {\n      editorActions.trigger('copy');\n      return true;\n    }\n  }); // paste\n  // CTRL/CMD + V\n\n  addListener('paste', function (context) {\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_PASTE, event)) {\n      editorActions.trigger('paste');\n      return true;\n    }\n  }); // zoom in one step\n  // CTRL/CMD + +\n\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent; // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n\n    if (isKey(['+', 'Add', '='], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', {\n        value: 1\n      });\n      return true;\n    }\n  }); // zoom out one step\n  // CTRL + -\n\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent;\n\n    if (isKey(['-', 'Subtract'], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', {\n        value: -1\n      });\n      return true;\n    }\n  }); // zoom to the default level\n  // CTRL + 0\n\n  addListener('zoom', function (context) {\n    var event = context.keyEvent;\n\n    if (isKey('0', event) && isCmd(event)) {\n      editorActions.trigger('zoom', {\n        value: 1\n      });\n      return true;\n    }\n  }); // delete selected element\n  // DEL\n\n  addListener('removeSelection', function (context) {\n    var event = context.keyEvent;\n\n    if (isKey(['Backspace', 'Delete', 'Del'], event)) {\n      editorActions.trigger('removeSelection');\n      return true;\n    }\n  });\n};\n\nvar KeyboardModule$1 = {\n  __init__: ['keyboard', 'keyboardBindings'],\n  keyboard: ['type', Keyboard],\n  keyboardBindings: ['type', KeyboardBindings]\n};\n\nconst LOW_PRIORITY = 500;\nclass FormEditorKeyboardBindings {\n  constructor(eventBus, keyboard) {\n    eventBus.on('editorActions.init', LOW_PRIORITY, event => {\n      const {\n        editorActions\n      } = event;\n      this.registerBindings(keyboard, editorActions);\n    });\n  }\n\n  registerBindings(keyboard, editorActions) {\n    function addListener(action, fn) {\n      if (editorActions.isRegistered(action)) {\n        keyboard.addListener(fn);\n      }\n    } // undo\n    // (CTRL|CMD) + Z\n\n\n    addListener('undo', context => {\n      const {\n        keyEvent\n      } = context;\n\n      if (isCmd(keyEvent) && !isShift(keyEvent) && isKey(KEYS_UNDO, keyEvent)) {\n        editorActions.trigger('undo');\n        return true;\n      }\n    }); // redo\n    // CTRL + Y\n    // CMD + SHIFT + Z\n\n    addListener('redo', context => {\n      const {\n        keyEvent\n      } = context;\n\n      if (isCmd(keyEvent) && (isKey(KEYS_REDO, keyEvent) || isKey(KEYS_UNDO, keyEvent) && isShift(keyEvent))) {\n        editorActions.trigger('redo');\n        return true;\n      }\n    });\n  }\n\n}\nFormEditorKeyboardBindings.$inject = ['eventBus', 'keyboard'];\n\nvar KeyboardModule = {\n  __depends__: [KeyboardModule$1],\n  __init__: ['keyboardBindings'],\n  keyboardBindings: ['type', FormEditorKeyboardBindings]\n};\n\nfunction arrayAdd(array, index, item) {\n  array.splice(index, 0, item);\n  return array;\n}\nfunction arrayRemove(array, index) {\n  array.splice(index, 1);\n  return array;\n}\nfunction updatePath(formFieldRegistry, formField, index) {\n  const parent = formFieldRegistry.get(formField._parent);\n  formField._path = [...parent._path, 'components', index];\n  return formField;\n}\n\nclass AddFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').default } formEditor\n   * @param { import('../../../core/FormFieldRegistry').default } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  execute(context) {\n    const {\n      formField,\n      targetFormField,\n      targetIndex\n    } = context;\n\n    const {\n      schema\n    } = this._formEditor._getState();\n\n    const targetPath = [...targetFormField._path, 'components'];\n    formField._parent = targetFormField.id; // (1) Add new form field\n\n    arrayAdd(get(schema, targetPath), targetIndex, formField); // (2) Update paths of new form field and its siblings\n\n    get(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index)); // (3) Add new form field to form field registry\n\n    this._formFieldRegistry.add(formField); // TODO: Create updater/change support that automatically updates paths and schema on command execution\n\n\n    this._formEditor._setState({\n      schema\n    });\n  }\n\n  revert(context) {\n    const {\n      formField,\n      targetFormField,\n      targetIndex\n    } = context;\n\n    const {\n      schema\n    } = this._formEditor._getState();\n\n    const targetPath = [...targetFormField._path, 'components']; // (1) Remove new form field\n\n    arrayRemove(get(schema, targetPath), targetIndex); // (2) Update paths of new form field and its siblings\n\n    get(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index)); // (3) Remove new form field from form field registry\n\n    this._formFieldRegistry.remove(formField); // TODO: Create updater/change support that automatically updates paths and schema on command execution\n\n\n    this._formEditor._setState({\n      schema\n    });\n  }\n\n}\nAddFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass EditFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').default } formEditor\n   * @param { import('../../../core/FormFieldRegistry').default } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  execute(context) {\n    const {\n      formField,\n      properties\n    } = context;\n\n    let {\n      schema\n    } = this._formEditor._getState();\n\n    const oldProperties = {};\n\n    for (let key in properties) {\n      oldProperties[key] = formField[key];\n      const property = properties[key];\n\n      if (key === 'id') {\n        if (property !== formField.id) {\n          this._formFieldRegistry.updateId(formField, property);\n        }\n      } else {\n        formField[key] = property;\n      }\n    }\n\n    context.oldProperties = oldProperties; // TODO: Create updater/change support that automatically updates paths and schema on command execution\n\n    this._formEditor._setState({\n      schema\n    });\n\n    return formField;\n  }\n\n  revert(context) {\n    const {\n      formField,\n      oldProperties\n    } = context;\n\n    let {\n      schema\n    } = this._formEditor._getState();\n\n    for (let key in oldProperties) {\n      const property = oldProperties[key];\n\n      if (key === 'id') {\n        if (property !== formField.id) {\n          this._formFieldRegistry.updateId(formField, property);\n        }\n      } else {\n        formField[key] = property;\n      }\n    } // TODO: Create updater/change support that automatically updates paths and schema on command execution\n\n\n    this._formEditor._setState({\n      schema\n    });\n\n    return formField;\n  }\n\n}\nEditFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass MoveFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').default } formEditor\n   * @param { import('../../../core/FormFieldRegistry').default } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  execute(context) {\n    this.moveFormField(context);\n  }\n\n  revert(context) {\n    let {\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex\n    } = context;\n    this.moveFormField({\n      sourceFormField: targetFormField,\n      targetFormField: sourceFormField,\n      sourceIndex: targetIndex,\n      targetIndex: sourceIndex\n    }, true);\n  }\n\n  moveFormField(context, revert) {\n    let {\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex\n    } = context;\n\n    let {\n      schema\n    } = this._formEditor._getState();\n\n    const sourcePath = [...sourceFormField._path, 'components'];\n\n    if (sourceFormField.id === targetFormField.id) {\n      if (revert) {\n        if (sourceIndex > targetIndex) {\n          sourceIndex--;\n        }\n      } else {\n        if (sourceIndex < targetIndex) {\n          targetIndex--;\n        }\n      } // (1) Move form field\n\n\n      mutate(get(schema, sourcePath), sourceIndex, targetIndex); // (2) Update paths of new form field and its siblings\n\n      get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n    } else {\n      const formField = get(schema, [...sourcePath, sourceIndex]);\n      formField._parent = targetFormField.id; // (1) Remove form field\n\n      arrayRemove(get(schema, sourcePath), sourceIndex); // (2) Update paths of siblings\n\n      get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n      const targetPath = [...targetFormField._path, 'components']; // (3) Add form field\n\n      arrayAdd(get(schema, targetPath), targetIndex, formField); // (4) Update paths of siblings\n\n      get(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n    } // TODO: Create updater/change support that automatically updates paths and schema on command execution\n\n\n    this._formEditor._setState({\n      schema\n    });\n  }\n\n}\nMoveFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass RemoveFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').default } formEditor\n   * @param { import('../../../core/FormFieldRegistry').default } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  execute(context) {\n    const {\n      sourceFormField,\n      sourceIndex\n    } = context;\n\n    let {\n      schema\n    } = this._formEditor._getState();\n\n    const sourcePath = [...sourceFormField._path, 'components'];\n    const formField = context.formField = get(schema, [...sourcePath, sourceIndex]); // (1) Remove form field\n\n    arrayRemove(get(schema, sourcePath), sourceIndex); // (2) Update paths of its siblings\n\n    get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index)); // (3) Remove form field from form field registry\n\n    this._formFieldRegistry.remove(formField); // TODO: Create updater/change support that automatically updates paths and schema on command execution\n\n\n    this._formEditor._setState({\n      schema\n    });\n  }\n\n  revert(context) {\n    const {\n      formField,\n      sourceFormField,\n      sourceIndex\n    } = context;\n\n    let {\n      schema\n    } = this._formEditor._getState();\n\n    const sourcePath = [...sourceFormField._path, 'components']; // (1) Add form field\n\n    arrayAdd(get(schema, sourcePath), sourceIndex, formField); // (2) Update paths of its siblings\n\n    get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index)); // (3) Add form field to form field registry\n\n    this._formFieldRegistry.add(formField); // TODO: Create updater/change support that automatically updates paths and schema on command execution\n\n\n    this._formEditor._setState({\n      schema\n    });\n  }\n\n}\nRemoveFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass UpdateIdClaimHandler {\n  /**\n   * @constructor\n   * @param { import('../../../core/FormFieldRegistry').default } formFieldRegistry\n   */\n  constructor(formFieldRegistry) {\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      id\n    } = context;\n\n    if (claiming) {\n      this._formFieldRegistry._ids.claim(id, formField);\n    } else {\n      this._formFieldRegistry._ids.unclaim(id);\n    }\n  }\n\n  revert(context) {\n    const {\n      claiming,\n      formField,\n      id\n    } = context;\n\n    if (claiming) {\n      this._formFieldRegistry._ids.unclaim(id);\n    } else {\n      this._formFieldRegistry._ids.claim(id, formField);\n    }\n  }\n\n}\nUpdateIdClaimHandler.$inject = ['formFieldRegistry'];\n\nclass UpdateKeyClaimHandler {\n  /**\n   * @constructor\n   * @param { import('../../../core/FormFieldRegistry').default } formFieldRegistry\n   */\n  constructor(formFieldRegistry) {\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      key\n    } = context;\n\n    if (claiming) {\n      this._formFieldRegistry._keys.claim(key, formField);\n    } else {\n      this._formFieldRegistry._keys.unclaim(key);\n    }\n  }\n\n  revert(context) {\n    const {\n      claiming,\n      formField,\n      key\n    } = context;\n\n    if (claiming) {\n      this._formFieldRegistry._keys.unclaim(key);\n    } else {\n      this._formFieldRegistry._keys.claim(key, formField);\n    }\n  }\n\n}\nUpdateKeyClaimHandler.$inject = ['formFieldRegistry'];\n\nclass Modeling {\n  constructor(commandStack, eventBus, formEditor, formFieldRegistry, fieldFactory) {\n    this._commandStack = commandStack;\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n    this._fieldFactory = fieldFactory;\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([id, handler]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n\n  getHandlers() {\n    return {\n      'formField.add': AddFormFieldHandler,\n      'formField.edit': EditFormFieldHandler,\n      'formField.move': MoveFormFieldHandler,\n      'formField.remove': RemoveFormFieldHandler,\n      'id.updateClaim': UpdateIdClaimHandler,\n      'key.updateClaim': UpdateKeyClaimHandler\n    };\n  }\n\n  addFormField(attrs, targetFormField, targetIndex) {\n    const formField = this._fieldFactory.create(attrs);\n\n    const context = {\n      formField,\n      targetFormField,\n      targetIndex\n    };\n\n    this._commandStack.execute('formField.add', context);\n\n    return formField;\n  }\n\n  editFormField(formField, properties, value) {\n    if (!isObject(properties)) {\n      properties = {\n        [properties]: value\n      };\n    }\n\n    const context = {\n      formField,\n      properties\n    };\n\n    this._commandStack.execute('formField.edit', context);\n  }\n\n  moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex) {\n    const context = {\n      formField,\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex\n    };\n\n    this._commandStack.execute('formField.move', context);\n  }\n\n  removeFormField(formField, sourceFormField, sourceIndex) {\n    const context = {\n      formField,\n      sourceFormField,\n      sourceIndex\n    };\n\n    this._commandStack.execute('formField.remove', context);\n  }\n\n  claimId(formField, id) {\n    const context = {\n      formField,\n      id,\n      claiming: true\n    };\n\n    this._commandStack.execute('id.updateClaim', context);\n  }\n\n  unclaimId(formField, id) {\n    const context = {\n      formField,\n      id,\n      claiming: false\n    };\n\n    this._commandStack.execute('id.updateClaim', context);\n  }\n\n  claimKey(formField, key) {\n    const context = {\n      formField,\n      key,\n      claiming: true\n    };\n\n    this._commandStack.execute('key.updateClaim', context);\n  }\n\n  unclaimKey(formField, key) {\n    const context = {\n      formField,\n      key,\n      claiming: false\n    };\n\n    this._commandStack.execute('key.updateClaim', context);\n  }\n\n}\nModeling.$inject = ['commandStack', 'eventBus', 'formEditor', 'formFieldRegistry', 'fieldFactory'];\n\nvar DEFAULT_PRIORITY = 1000;\n/**\n * A utility that can be used to plug-in into the command execution for\n * extension and/or validation.\n *\n * @param {EventBus} eventBus\n *\n * @example\n *\n * import inherits from 'inherits';\n *\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * function CommandLogger(eventBus) {\n *   CommandInterceptor.call(this, eventBus);\n *\n *   this.preExecute(function(event) {\n *     console.log('command pre-execute', event);\n *   });\n * }\n *\n * inherits(CommandLogger, CommandInterceptor);\n *\n */\n\nfunction CommandInterceptor(eventBus) {\n  this._eventBus = eventBus;\n}\nCommandInterceptor.$inject = ['eventBus'];\n\nfunction unwrapEvent(fn, that) {\n  return function (event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n/**\n * Register an interceptor for a command execution\n *\n * @param {string|Array<string>} [events] list of commands to register on\n * @param {string} [hook] command hook, i.e. preExecute, executed to listen on\n * @param {number} [priority] the priority on which to hook into the execution\n * @param {Function} handlerFn interceptor to be invoked with (event)\n * @param {boolean} unwrap if true, unwrap the event and pass (context, command, event) to the\n *                          listener instead\n * @param {Object} [that] Pass context (`this`) to the handler function\n */\n\n\nCommandInterceptor.prototype.on = function (events, hook, priority, handlerFn, unwrap, that) {\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [events];\n  }\n\n  var eventBus = this._eventBus;\n  forEach(events, function (event) {\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = ['commandStack', event, hook].filter(function (e) {\n      return e;\n    }).join('.');\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\nvar hooks = ['canExecute', 'preExecute', 'preExecuted', 'execute', 'executed', 'postExecute', 'postExecuted', 'revert', 'reverted'];\n/*\n * Install hook shortcuts\n *\n * This will generate the CommandInterceptor#(preExecute|...|reverted) methods\n * which will in term forward to CommandInterceptor#on.\n */\n\nforEach(hooks, function (hook) {\n  /**\n   * {canExecute|preExecute|preExecuted|execute|executed|postExecute|postExecuted|revert|reverted}\n   *\n   * A named hook for plugging into the command execution\n   *\n   * @param {string|Array<string>} [events] list of commands to register on\n   * @param {number} [priority] the priority on which to hook into the execution\n   * @param {Function} handlerFn interceptor to be invoked with (event)\n   * @param {boolean} [unwrap=false] if true, unwrap the event and pass (context, command, event) to the\n   *                          listener instead\n   * @param {Object} [that] Pass context (`this`) to the handler function\n   */\n  CommandInterceptor.prototype[hook] = function (events, priority, handlerFn, unwrap, that) {\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n});\n\nclass IdBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus); // @ts-ignore-next-line\n\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        id\n      } = formField;\n      modeling.unclaimId(formField, id);\n    }, true); // @ts-ignore-next-line\n\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n\n      if ('id' in properties) {\n        modeling.unclaimId(formField, formField.id);\n        modeling.claimId(formField, properties.id);\n      }\n    }, true);\n  }\n\n}\nIdBehavior.$inject = ['eventBus', 'modeling'];\n\nclass KeyBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus); // @ts-ignore-next-line\n\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        key\n      } = formField;\n\n      if (key) {\n        modeling.unclaimKey(formField, key);\n      }\n    }, true); // @ts-ignore-next-line\n\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n\n      if ('key' in properties) {\n        modeling.unclaimKey(formField, formField.key);\n        modeling.claimKey(formField, properties.key);\n      }\n    }, true);\n  }\n\n}\nKeyBehavior.$inject = ['eventBus', 'modeling'];\n\nvar behaviorModule = {\n  __init__: ['idBehavior', 'keyBehavior'],\n  idBehavior: ['type', IdBehavior],\n  keyBehavior: ['type', KeyBehavior]\n};\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute` and `postExecute` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\n\nfunction CommandStack(eventBus, injector) {\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {Object}\n   */\n  this._handlerMap = {};\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {Array<Object>}\n   */\n\n  this._stack = [];\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n\n  this._stackIdx = -1;\n  /**\n   * Current active commandStack execution\n   *\n   * @type {Object}\n   * @property {Object[]} actions\n   * @property {Object[]} dirty\n   * @property { 'undo' | 'redo' | 'clear' | 'execute' | null } trigger the cause of the current excecution\n   */\n\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n  this._injector = injector;\n  this._eventBus = eventBus;\n  this._uid = 1;\n  eventBus.on(['diagram.destroy', 'diagram.clear'], function () {\n    this.clear(false);\n  }, this);\n}\nCommandStack.$inject = ['eventBus', 'injector'];\n/**\n * Execute a command\n *\n * @param {string} command the command to execute\n * @param {Object} context the environment to execute the command in\n */\n\nCommandStack.prototype.execute = function (command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n  var action = {\n    command: command,\n    context: context\n  };\n\n  this._pushAction(action);\n\n  this._internalExecute(action);\n\n  this._popAction(action);\n};\n/**\n * Ask whether a given command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param  {string} command the command to execute\n * @param  {Object} context the environment to execute the command in\n *\n * @return {boolean} true if the command can be executed\n */\n\n\nCommandStack.prototype.canExecute = function (command, context) {\n  var action = {\n    command: command,\n    context: context\n  };\n\n  var handler = this._getHandler(command);\n\n  var result = this._fire(command, 'canExecute', action); // handler#canExecute will only be called if no listener\n  // decided on a result already\n\n\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n/**\n * Clear the command stack, erasing all undo / redo history\n */\n\n\nCommandStack.prototype.clear = function (emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', {\n      trigger: 'clear'\n    });\n  }\n};\n/**\n * Undo last command(s)\n */\n\n\nCommandStack.prototype.undo = function () {\n  var action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n/**\n * Redo last command(s)\n */\n\n\nCommandStack.prototype.redo = function () {\n  var action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n/**\n * Register a handler instance with the command stack\n *\n * @param {string} command\n * @param {CommandHandler} handler\n */\n\n\nCommandStack.prototype.register = function (command, handler) {\n  this._setHandler(command, handler);\n};\n/**\n * Register a handler type with the command stack\n * by instantiating it and injecting its dependencies.\n *\n * @param {string} command\n * @param {Function} a constructor for a {@link CommandHandler}\n */\n\n\nCommandStack.prototype.registerHandler = function (command, handlerCls) {\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  var handler = this._injector.instantiate(handlerCls);\n\n  this.register(command, handler);\n};\n\nCommandStack.prototype.canUndo = function () {\n  return !!this._getUndoAction();\n};\n\nCommandStack.prototype.canRedo = function () {\n  return !!this._getRedoAction();\n}; // stack access  //////////////////////\n\n\nCommandStack.prototype._getRedoAction = function () {\n  return this._stack[this._stackIdx + 1];\n};\n\nCommandStack.prototype._getUndoAction = function () {\n  return this._stack[this._stackIdx];\n}; // internal functionality //////////////////////\n\n\nCommandStack.prototype._internalUndo = function (action) {\n  var self = this;\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command); // guard against illegal nested command stack invocations\n\n\n  this._atomicDo(function () {\n    self._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      self._markDirty(handler.revert(context));\n    }\n\n    self._revertedAction(action);\n\n    self._fire(command, 'reverted', action);\n  });\n};\n\nCommandStack.prototype._fire = function (command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  var names = qualifier ? [command + '.' + qualifier, qualifier] : [command],\n      i,\n      name,\n      result;\n  event = this._eventBus.createEvent(event);\n\n  for (i = 0; name = names[i]; i++) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function () {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function (fn) {\n  var execution = this._currentExecution;\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function (action, redo) {\n  var self = this;\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  } // guard against illegal nested command stack invocations\n\n\n  this._atomicDo(function () {\n    self._fire(command, 'execute', action);\n\n    if (handler.execute) {\n      // actual execute + mark return results as dirty\n      self._markDirty(handler.execute(context));\n    } // log to stack\n\n\n    self._executedAction(action, redo);\n\n    self._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction(action);\n};\n\nCommandStack.prototype._pushAction = function (action) {\n  var execution = this._currentExecution,\n      actions = execution.actions;\n  var baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = baseAction && baseAction.id || this._createId();\n  }\n\n  actions.push(action);\n};\n\nCommandStack.prototype._popAction = function () {\n  var execution = this._currentExecution,\n      trigger = execution.trigger,\n      actions = execution.actions,\n      dirty = execution.dirty;\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', {\n      elements: uniqueBy('id', dirty.reverse())\n    });\n\n    dirty.length = 0;\n\n    this._fire('changed', {\n      trigger: trigger\n    });\n\n    execution.trigger = null;\n  }\n};\n\nCommandStack.prototype._markDirty = function (elements) {\n  var execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [elements];\n  execution.dirty = execution.dirty.concat(elements);\n};\n\nCommandStack.prototype._executedAction = function (action, redo) {\n  var stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\nCommandStack.prototype._revertedAction = function (action) {\n  this._stackIdx--;\n};\n\nCommandStack.prototype._getHandler = function (command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function (command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n\nvar commandModule = {\n  commandStack: ['type', CommandStack]\n};\n\nvar ModelingModule = {\n  __depends__: [behaviorModule, commandModule],\n  __init__: ['modeling'],\n  modeling: ['type', Modeling]\n};\n\nclass Selection {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._selection = null;\n  }\n\n  get() {\n    return this._selection;\n  }\n\n  set(selection) {\n    if (this._selection === selection) {\n      return;\n    }\n\n    this._selection = selection;\n\n    this._eventBus.fire('selection.changed', {\n      selection: this._selection\n    });\n  }\n\n  toggle(selection) {\n    const newSelection = this._selection === selection ? null : selection;\n    this.set(newSelection);\n  }\n\n  clear() {\n    this.set(null);\n  }\n\n  isSelected(formField) {\n    return this._selection === formField;\n  }\n\n}\nSelection.$inject = ['eventBus'];\n\nclass SelectionBehavior {\n  constructor(eventBus, selection) {\n    eventBus.on(['commandStack.formField.add.postExecuted', 'commandStack.formField.move.postExecuted'], ({\n      context\n    }) => {\n      const {\n        formField\n      } = context;\n      selection.set(formField);\n    });\n    eventBus.on('commandStack.formField.remove.postExecuted', ({\n      context\n    }) => {\n      const {\n        sourceFormField,\n        sourceIndex\n      } = context;\n      const formField = sourceFormField.components[sourceIndex] || sourceFormField.components[sourceIndex - 1];\n\n      if (formField) {\n        selection.set(formField);\n      } else {\n        selection.clear();\n      }\n    });\n    eventBus.on('formField.remove', ({\n      formField\n    }) => {\n      if (selection.isSelected(formField)) {\n        selection.clear();\n      }\n    });\n  }\n\n}\nSelectionBehavior.$inject = ['eventBus', 'selection'];\n\nvar SelectionModule = {\n  __init__: ['selection', 'selectionBehavior'],\n  selection: ['type', Selection],\n  selectionBehavior: ['type', SelectionBehavior]\n};\n\nconst ids = new Ids([32, 36, 1]);\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Module } Module\n * @typedef { import('./types').Schema } Schema\n *\n * @typedef { import('./types').FormEditorOptions } FormEditorOptions\n * @typedef { import('./types').FormEditorProperties } FormEditorProperties\n *\n * @typedef { {\n *   properties: FormEditorProperties,\n *   schema: Schema\n * } } State\n */\n\n/**\n * The form editor.\n */\n\nclass FormEditor {\n  /**\n   * @constructor\n   * @param {FormEditorOptions} options\n   */\n  constructor(options = {}) {\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n    /**\n     * @private\n     * @type {Element}\n     */\n\n    this._container = createFormContainer();\n\n    this._container.setAttribute('input-handle-modified-keys', 'z,y');\n\n    const {\n      container,\n      exporter,\n      injector = this._createInjector(options, this._container),\n      properties = {}\n    } = options;\n    /**\n     * @private\n     * @type {any}\n     */\n\n    this.exporter = exporter;\n    /**\n     * @private\n     * @type {State}\n     */\n\n    this._state = {\n      properties,\n      schema: null\n    };\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('form.init');\n\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n\n  clear() {\n    // clear form services\n    this._emit('diagram.clear'); // clear diagram services (e.g. EventBus)\n\n\n    this._emit('form.clear');\n  }\n\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy'); // destroy diagram services (e.g. EventBus)\n\n    this.get('eventBus').fire('diagram.destroy');\n\n    this._detach(false);\n  }\n  /**\n   * @param {Schema} schema\n   *\n   * @return {Promise<{ warnings: Array<any> }>}\n   */\n\n\n  importSchema(schema) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n        const {\n          schema: importedSchema,\n          warnings\n        } = this.get('importer').importSchema(schema);\n\n        this._setState({\n          schema: importedSchema\n        });\n\n        this._emit('import.done', {\n          warnings\n        });\n\n        return resolve({\n          warnings\n        });\n      } catch (error) {\n        this._emit('import.done', {\n          error: error,\n          warnings: error.warnings || []\n        });\n\n        return reject(error);\n      }\n    });\n  }\n  /**\n   * @returns {Schema}\n   */\n\n\n  saveSchema() {\n    return this.getSchema();\n  }\n  /**\n   * @returns {Schema}\n   */\n\n\n  getSchema() {\n    const {\n      schema\n    } = this._getState();\n\n    return exportSchema(schema, this.exporter, schemaVersion);\n  }\n  /**\n   * @param {Element|string} parentNode\n   */\n\n\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n\n    this.detach();\n\n    if (isString(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n\n    const container = this._container;\n    parentNode.appendChild(container);\n\n    this._emit('attach');\n  }\n\n  detach() {\n    this._detach();\n  }\n  /**\n   * @internal\n   *\n   * @param {boolean} [emit]\n   */\n\n\n  _detach(emit = true) {\n    const container = this._container,\n          parentNode = container.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    if (emit) {\n      this._emit('detach');\n    }\n\n    parentNode.removeChild(container);\n  }\n  /**\n   * @param {any} property\n   * @param {any} value\n   */\n\n\n  setProperty(property, value) {\n    const properties = set(this._getState().properties, [property], value);\n\n    this._setState({\n      properties\n    });\n  }\n  /**\n   * @param {string} type\n   * @param {number} priority\n   * @param {Function} handler\n   */\n\n\n  on(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n  /**\n   * @param {string} type\n   * @param {Function} handler\n   */\n\n\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n  /**\n   * @internal\n   *\n   * @param {FormEditorOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n\n\n  _createInjector(options, container) {\n    const {\n      additionalModules = [],\n      modules = this._getModules(),\n      renderer = {}\n    } = options;\n    const config = { ...options,\n      renderer: { ...renderer,\n        container\n      }\n    };\n    return createInjector([{\n      config: ['value', config]\n    }, {\n      formEditor: ['value', this]\n    }, core, ...modules, ...additionalModules]);\n  }\n  /**\n   * @internal\n   */\n\n\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n  /**\n   * @internal\n   */\n\n\n  _getState() {\n    return this._state;\n  }\n  /**\n   * @internal\n   */\n\n\n  _setState(state) {\n    this._state = { ...this._state,\n      ...state\n    };\n\n    this._emit('changed', this._getState());\n  }\n  /**\n   * @internal\n   */\n\n\n  _getModules() {\n    return [ModelingModule, EditorActionsModule, KeyboardModule, SelectionModule];\n  }\n\n} // helpers //////////\n\nfunction exportSchema(schema, exporter, schemaVersion) {\n  const exportDetails = exporter ? {\n    exporter\n  } : {};\n  const cleanedSchema = clone(schema, (name, value) => {\n    if (['_parent', '_path'].includes(name)) {\n      return undefined;\n    }\n\n    return value;\n  });\n  return { ...cleanedSchema,\n    ...exportDetails,\n    schemaVersion\n  };\n}\n\n/**\r\n * @typedef { import('./types').CreateFormEditorOptions } CreateFormEditorOptions\r\n */\n\n/**\r\n * Create a form editor.\r\n *\r\n * @param {CreateFormEditorOptions} options\r\n *\r\n * @return {Promise<FormEditor>}\r\n */\n\nfunction createFormEditor(options) {\n  const {\n    schema,\n    ...rest\n  } = options;\n  const formEditor = new FormEditor(rest);\n  return formEditor.importSchema(schema).then(() => {\n    return formEditor;\n  });\n}\n\nexport { FormEditor, createFormEditor };\n//# sourceMappingURL=index.es.js.map\n","export { Form, createForm } from '@bpmn-io/form-js-viewer';\nexport { FormEditor, createFormEditor } from '@bpmn-io/form-js-editor';\n//# sourceMappingURL=index.es.js.map\n","\nvar content = require(\"!!../../../../css-loader/index.js!./dragula.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../css-loader/index.js!./dragula.css\", function() {\n\t\tvar newContent = require(\"!!../../../../css-loader/index.js!./dragula.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".gu-mirror {\\n  position: fixed !important;\\n  margin: 0 !important;\\n  z-index: 9999 !important;\\n  opacity: 0.8;\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\\\";\\n  filter: alpha(opacity=80);\\n}\\n.gu-hide {\\n  display: none !important;\\n}\\n.gu-unselectable {\\n  -webkit-user-select: none !important;\\n  -moz-user-select: none !important;\\n  -ms-user-select: none !important;\\n  user-select: none !important;\\n}\\n.gu-transit {\\n  opacity: 0.2;\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\\\";\\n  filter: alpha(opacity=20);\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../css-loader/index.js!./form-js.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../css-loader/index.js!./form-js.css\", function() {\n\t\tvar newContent = require(\"!!../../../../css-loader/index.js!./form-js.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * Theming\\n */\\n.fjs-container {\\n  --color-grey-225-10-15: hsl(225, 10%, 15%);\\n  --color-grey-225-10-35: hsl(225, 10%, 35%);\\n  --color-grey-225-10-55: hsl(225, 10%, 55%);\\n  --color-grey-225-10-75: hsl(225, 10%, 75%);\\n  --color-grey-225-10-80: hsl(225, 10%, 80%);\\n  --color-grey-225-10-85: hsl(225, 10%, 85%);\\n  --color-grey-225-10-90: hsl(225, 10%, 90%);\\n  --color-grey-225-10-95: hsl(225, 10%, 95%); \\n  --color-grey-225-10-97: hsl(225, 10%, 97%);\\n\\n  --color-blue-205-100-45: hsl(205, 100%, 45%);\\n  --color-blue-205-100-50: hsl(205, 100%, 50%);\\n  --color-blue-205-100-80: hsl(205, 100%, 80%);\\n  --color-blue-205-100-95: hsl(205, 100%, 95%);\\n\\n  --color-green-150-86-44: hsl(150, 86%, 44%);\\n\\n  --color-red-360-100-40: hsl(360, 100%, 40%);\\n  --color-red-360-100-45: hsl(360, 100%, 45%);\\n  --color-red-360-100-92: hsl(360, 100%, 92%);\\n  --color-red-360-100-97: hsl(360, 100%, 97%);\\n\\n  --color-white: hsl(0, 0%, 100%);\\n  --color-black: hsl(0, 0%, 0%); \\n\\n  --color-background: var(--color-white);\\n  --color-background-disabled: var(--color-grey-225-10-95);\\n  --color-text: var(--color-grey-225-10-15);\\n  --color-text-light: var(--color-grey-225-10-35);\\n  --color-text-lighter: var(--color-grey-225-10-55);\\n  --color-text-inverted: var(--color-white);\\n  --color-borders: var(--color-grey-225-10-55);\\n  --color-borders-disabled: var(--color-grey-225-10-75);\\n  --color-warning: var(--color-red-360-100-45);\\n  --color-accent: var(--color-blue-205-100-45);\\n  --color-accent-dark: var(--color-blue-205-100-45);\\n\\n  --font-family: 'IBM Plex Sans', sans-serif;\\n\\n  height: 100%;\\n}\\n\\n/**\\n * Layout styles\\n */\\n.fjs-container .fjs-vertical-layout {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.fjs-container .fjs-columns {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.fjs-container .fjs-column {\\n  flex-grow: 1;\\n}\\n\\n.fjs-container img {\\n  max-width: 100%;\\n}\\n\\n/**\\n * Visual styles\\n */\\n.fjs-container .fjs-form {\\n  font-family: var(--font-family);\\n  font-size: 14px;\\n  line-height: 1.3;\\n  font-weight: 400;\\n\\n  color: var(--color-text);\\n  background-color: var(--color-background);\\n\\n  position: relative;\\n}\\n\\n.fjs-container .fjs-form * {\\n  box-sizing: border-box;\\n}\\n\\n.fjs-container .fjs-form-field {\\n  margin: 16px;\\n}\\n\\n.fjs-container .fjs-form-field-placeholder {\\n  color: var(--color-text-light);\\n}\\n\\n.fjs-container .fjs-input,\\n.fjs-container .fjs-textarea,\\n.fjs-container .fjs-select {\\n  border-color: var(--color-borders);\\n  background-color: var(--color-background);\\n}\\n.fjs-container .fjs-input::placeholder,\\n.fjs-container .fjs-textarea::placeholder,\\n.fjs-container .fjs-select > option:disabled,\\n.fjs-container .fjs-select [disabled] {\\n  font-style: italic;\\n  letter-spacing: .25px;\\n\\n  color: var(--color-text-lighter);\\n}\\n\\n.fjs-container .fjs-form-field-label {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.fjs-container .fjs-form-field-description {\\n  display: block;\\n  color: var(--color-text-lighter);\\n}\\n\\n.fjs-container .fjs-form-field-label,\\n.fjs-container .fjs-form-field-description {\\n  margin: 4px 0;\\n}\\n\\n.fjs-container .fjs-form-field.required label::after,\\n.fjs-container .fjs-form-field.required .group-title::after {\\n  content: \\\"*\\\";\\n}\\n\\n.fjs-container .fjs-checkbox.group.required label::after,\\n.fjs-container .fjs-radio.required label::after {\\n  display: none;\\n}\\n\\n.fjs-container .fjs-input[type=text],\\n.fjs-container .fjs-input[type=number],\\n.fjs-container .fjs-button[type=submit],\\n.fjs-container .fjs-button[type=reset],\\n.fjs-container .fjs-textarea,\\n.fjs-container .fjs-select {\\n  display: block;\\n  width: 100%;\\n  padding: 8px;\\n  margin: 4px 0;\\n  border-width: 1px;\\n  border-style: solid;\\n  border-radius: 3px;\\n}\\n\\n.fjs-container .fjs-textarea {\\n  height: 90px;\\n}\\n\\n.fjs-container .fjs-radio {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.fjs-container .fjs-input[type=checkbox],\\n.fjs-container .fjs-input[type=radio] {\\n  margin: 6px 10px 6px 4px;\\n}\\n\\n.fjs-container .fjs-button[type=submit] {\\n  color: var(--color-text-inverted);\\n  background-color: var(--color-accent);\\n  border-color: var(--color-accent);\\n}\\n\\n.fjs-container .fjs-button[type=reset] {\\n  color: var(--color-text);\\n  background-color: transparent;\\n  border-color: var(--color-borders);\\n}\\n\\n.fjs-container .fjs-button[type=submit],\\n.fjs-container .fjs-button[type=reset] {\\n  min-width: 100px;\\n  width: auto;\\n}\\n\\n.fjs-container .fjs-button[type=submit] {\\n  font-weight: 600;\\n}\\n\\n.fjs-container .fjs-input[type=text]:focus,\\n.fjs-container .fjs-input[type=number]:focus,\\n.fjs-container .fjs-button[type=submit]:focus,\\n.fjs-container .fjs-button[type=reset]:focus,\\n.fjs-container .fjs-textarea:focus,\\n.fjs-container .fjs-select:focus {\\n  outline: none;\\n  padding: 7px;\\n  border-width: 2px;\\n}\\n\\n.fjs-container .fjs-button[type=submit]:focus {\\n  border-color: var(--color-accent-dark);\\n}\\n\\n.fjs-container .fjs-input:disabled,\\n.fjs-container .fjs-textarea:disabled,\\n.fjs-container .fjs-select:disabled {\\n  background-color: var(--color-background-disabled);\\n  border-color: var(--color-borders-disabled);\\n}\\n\\n.fjs-container .fjs-button[type=submit]:disabled,\\n.fjs-container .fjs-button[type=reset]:disabled {\\n  color: var(--text-light);\\n  background-color: var(--color-background-disabled);\\n  border-color: var(--color-borders-disabled);\\n}\\n\\n.fjs-container .fjs-form-field.fjs-has-errors .fjs-input,\\n.fjs-container .fjs-form-field.fjs-has-errors .fjs-select,\\n.fjs-container .fjs-form-field.fjs-has-errors .fjs-textarea {\\n  border-color: var(--color-warning);\\n}\\n\\n.fjs-container .fjs-form-field-error {\\n  color: var(--color-warning);\\n}\\n\\n.fjs-container .fjs-form-field-error > ul {\\n  list-style-type: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.fjs-container .fjs-form-field-error > ul > li {\\n  list-style-type: none;\\n}\\n\\n.fjs-container .fjs-form-field-text a {\\n  color: var(--color-blue-205-100-45);\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../css-loader/index.js!./form-js-editor.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../css-loader/index.js!./form-js-editor.css\", function() {\n\t\tvar newContent = require(\"!!../../../../css-loader/index.js!./form-js-editor.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".fjs-editor-container {\\n  --color-children-border: var(--color-grey-225-10-75);\\n  --color-children-selected-border: var(--color-blue-205-100-50);\\n  --color-children-selected-background: var(--color-blue-205-100-95);\\n  --color-children-hover-border: var(--color-blue-205-100-50);\\n  \\n  --color-context-pad-item-background: var(--color-white);\\n  --color-context-pad-item-fill: var(--color-grey-225-10-35);\\n  --color-context-pad-item-hover-fill: var(--color-black);\\n\\n  --color-palette-container-background: var(--color-grey-225-10-97);\\n  --color-palette-container-border: var(--color-grey-225-10-80);\\n  --color-palette-header-color: var(--color-text);\\n  --color-palette-header-background: var(--color-grey-225-10-95);\\n  --color-palette-header-border: var(--color-grey-225-10-80);\\n  --color-palette-field-border: var(--color-grey-225-10-80);\\n  --color-palette-field-hover-background: var(--color-grey-225-10-95);\\n\\n  --color-properties-container-background: var(--color-grey-225-10-97);\\n  --color-properties-container-border: var(--color-grey-225-10-80);\\n  --color-properties-header-background: var(--color-grey-225-10-95);\\n  --color-properties-header-border: var(--color-grey-225-10-80);\\n  --color-properties-header-icon-fill: var(--color-grey-225-10-35);\\n  --color-properties-group-background: var(--color-grey-225-10-95);\\n  --color-properties-group-border: var(--color-grey-225-10-80);\\n  --color-properties-group-button-fill: var(--color-grey-225-10-35);\\n  --color-properties-group-button-hover-fill: var(--color-black);\\n  --color-properties-entries-border: var(--color-grey-225-10-80);\\n  --color-properties-collapsible-remove-fill: var(--color-grey-225-10-35);\\n  --color-properties-collapsible-remove-hover-fill: var(--color-black);\\n  --color-properties-description: var(--color-grey-225-10-15);\\n  --color-properties-error: var(--color-warning);\\n  --color-properties-input-background: var(--color-white);\\n  --color-properties-input-border: var(--color-grey-225-10-75);\\n  --color-properties-input-error-border: var(--color-warning);\\n  --color-properties-input-error-hover-border: var(--color-warning);\\n  --color-properties-input-focus-border: var(--color-blue-205-100-50);\\n  --color-properties-placeholder: var(--color-grey-225-10-80);\\n\\n  --color-dragula-background: var(--color-blue-205-100-45);\\n  --color-dragula-border: var(--color-blue-205-100-45);\\n  --color-dragula-mirror-background: var(--color-white);\\n  --color-dragula-mirror-border: var(--color-grey-225-10-80);\\n}\\n\\n.fjs-editor-container {\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n}\\n\\n.fjs-editor-container .fjs-form-editor {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: row;\\n}\\n\\n.fjs-editor-container .fjs-form-container,\\n.fjs-editor-container .fjs-palette-container,\\n.fjs-editor-container .fjs-properties-container {\\n  overflow-y: auto;\\n  position: relative;\\n}\\n\\n.fjs-editor-container .fjs-form-container,\\n.fjs-editor-container .fjs-form {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n}\\n\\n.fjs-editor-container .fjs-form > .fjs-element {\\n  flex-grow: 1;\\n}\\n\\n.fjs-editor-container .fjs-children {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  min-width: 300px;\\n  min-height: 100px;\\n}\\n\\n.fjs-editor-container .fjs-children .fjs-children {\\n  border: dashed 2px var(--color-children-border);\\n  border-radius: 3px;\\n}\\n\\n.fjs-editor-container .fjs-element {\\n  display: flex;\\n  flex-direction: column;\\n  margin: 0 5px;\\n}\\n\\n.fjs-editor-container .fjs-element + .fjs-element {\\n  margin-top: 2px;\\n}\\n\\n.fjs-editor-container .fjs-form-field:not(.fjs-powered-by) {\\n  margin: 1px 16px;\\n}\\n\\n.fjs-editor-container .fjs-form > .fjs-element {\\n  margin: 0;\\n  padding: 5px;\\n}\\n\\n.fjs-editor-container .fjs-children > .fjs-element {\\n  position: relative;\\n  border: solid 2px transparent;\\n}\\n\\n.fjs-editor-container .fjs-children > .fjs-element:hover,\\n.fjs-editor-container .fjs-children > .fjs-element.fjs-editor-selected {\\n  border-radius: 3px;\\n}\\n\\n.fjs-editor-container .fjs-children > .fjs-element.fjs-editor-selected {\\n  border-color: var(--color-children-selected-border);\\n  background-color: var(--color-children-selected-background);\\n}\\n\\n.fjs-editor-container .fjs-children > .fjs-element:hover {\\n  border-color: var(--color-children-hover-border) !important;\\n}\\n\\n.fjs-editor-container .fjs-input:disabled,\\n.fjs-editor-container .fjs-select:disabled {\\n  pointer-events: none;\\n}\\n\\n/**\\n * Context Pad\\n */\\n.fjs-editor-container .fjs-context-pad {\\n  position: absolute;\\n  top: 3px;\\n  right: 3px;\\n  box-shadow: 1px 1px 1px 1px rgb(0 0 0 / 10%);\\n}\\n\\n.fjs-editor-container .fjs-context-pad-item {\\n  border: none;\\n  border-radius: 3px;\\n  background-color: var(--color-context-pad-item-background);\\n  padding: 0;\\n  width: 24px;\\n  height: 24px;\\n  fill: var(--color-context-pad-item-fill);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.fjs-editor-container .fjs-context-pad-item:hover {\\n  fill: var(--color-context-pad-item-hover-fill);\\n}\\n\\n/**\\n * Palette\\n */\\n.fjs-editor-container .fjs-palette-container {\\n  width: 200px;\\n  background-color: var(--color-palette-container-background);\\n  border-right: solid 1px var(--color-palette-container-border);\\n}\\n\\n.fjs-editor-container .fjs-palette-header {\\n  font-size: 12px;\\n  font-weight: bold;\\n  color: var(--color-palette-header-color);\\n  padding: 10px;\\n  border-bottom: solid 1px var(--color-palette-header-border);\\n  background-color: var(--color-palette-header-background);\\n}\\n\\n.fjs-editor-container .fjs-palette-field {\\n  padding: 10px;\\n  display: flex;\\n  white-space: pre;\\n  justify-content: flex-start;\\n  align-items: center;\\n  flex-direction: row;\\n  border-bottom: solid 1px var(--color-palette-field-border);\\n  font-size: 14px;\\n  color: var(--color-text);\\n}\\n\\n.fjs-editor-container .fjs-palette-field-icon {\\n  margin-right: 10px;\\n}\\n\\n.fjs-editor-container .fjs-palette-field:hover {\\n  background-color: var(--color-palette-field-hover-background);\\n  cursor: default;\\n}\\n\\n/**\\n * Properties Panel\\n */\\n.fjs-editor-container .fjs-properties-container {\\n  width: 300px;\\n  background-color: var(--color-properties-container-background);\\n  border-left: solid 1px var(--color-properties-container-border);\\n  height: 100%;\\n  color: var(--color-text);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel * {\\n  box-sizing: border-box;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  font-size: 14px;\\n  padding: 10px;\\n  background-color: var(--color-properties-header-background);\\n  border-bottom: solid 1px var(--color-properties-header-border);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-header-icon {\\n  margin-right: 10px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  fill: var(--color-properties-header-icon-fill);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-header-type {\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-group-header {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  font-size: 14px;\\n  padding: 10px;\\n  border-bottom: solid 1px var(--color-properties-group-border);\\n  background-color: var(--color-properties-group-background);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-group-header-buttons .fjs-properties-panel-group-header-button {\\n  display: inline-flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 20px;\\n  height: 20px;\\n  margin-right: 10px;\\n  padding: 0;\\n  fill: var(--color-properties-group-button-fill);\\n  border: none;\\n  background: none;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-group-header-buttons .fjs-properties-panel-group-header-button:last-child {\\n  margin-right: 0;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-group-header-buttons .fjs-properties-panel-group-header-button:hover {\\n  fill: var(--color-properties-group-button-hover-fill);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-group-entries {\\n  border-bottom: solid 1px var(--color-properties-entries-border);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-group:last-child .fjs-properties-panel-group-entries {\\n  border-bottom: none;\\n}\\n\\n.fjs-editor-container .fjs-arrow-down {\\n  transform: rotate(90deg);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-entry {\\n  padding: 10px 10px 0 10px;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-entry:last-child {\\n  padding-bottom: 10px;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-collapsible-entry-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 0 10px 10px 10px;\\n  cursor: default;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-collapsible-entry:first-child .fjs-properties-panel-collapsible-entry-header {\\n  padding-top: 10px;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-collapsible-entry-header-label {\\n  font-size: 14px;\\n  margin-left: 10px;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-collapsible-entry-header-remove-entry {\\n  border: none;\\n  background: none;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 22px;\\n  width: 22px;\\n  padding: 0;\\n  fill: var(--color-properties-collapsible-remove-fill);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-collapsible-entry-header-remove-entry:hover {\\n  fill: var(--color-properties-collapsible-remove-hover-fill);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-collapsible-entry-entries {\\n  padding-left: 20px;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-collapsible-entry-entries .fjs-properties-panel-entry:first-child {\\n  padding-top: 0;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-label,\\n.fjs-editor-container .fjs-properties-panel-description,\\n.fjs-editor-container .fjs-properties-panel-error {\\n  display: block;\\n  margin: 4px 0;\\n  font-size: 14px;\\n  line-height: 18px;\\n  font-weight: 400;\\n  font-size: 13px;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-label,\\n.fjs-editor-container .fjs-properties-panel-description {\\n  color: var(--color-properties-description);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-error {\\n  color: var(--color-properties-error);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-description,\\n.fjs-editor-container .fjs-properties-panel-error {\\n  margin-top: 7px;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-input {\\n  background-color: var(--color-properties-input-background);\\n  border: solid 1px var(--color-properties-input-border);\\n  border-radius: 3px;\\n  padding: 4px 8px;\\n  font-size: 14px;\\n  font-family: inherit;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-input[type=number],\\n.fjs-editor-container select.fjs-properties-panel-input,\\n.fjs-editor-container .fjs-properties-panel-input[type=text],\\n.fjs-editor-container textarea.fjs-properties-panel-input {\\n  display: block;\\n  width: 100%;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-input.fjs-has-error {\\n  border-color: var(--color-properties-input-error-border);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-input.fjs-has-error:focus {\\n  border-color: var(--color-properties-input-error-hover-border);\\n  box-shadow: 0 0 0 4px var(--color-red-360-100-92), 0 0 0 1px var(--color-grey-225-10-75) inset;\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-input:focus {\\n  outline: none;\\n  box-shadow: 0 0 0 4px var(--color-blue-205-100-80), 0 0 0 1px var(--color-grey-225-10-75) inset;\\n  border: solid 1px var(--color-properties-input-focus-border);\\n}\\n\\n.fjs-editor-container .fjs-properties-panel-placeholder {\\n  padding: 10px;\\n  color: var(--color-properties-placeholder);\\n  font-size: 14px;\\n  text-align: center;\\n}\\n\\n.fjs-editor-container textarea.fjs-properties-panel-input {\\n  font-family: inherit;\\n  resize: vertical;\\n}\\n\\n/**\\n * Custom Dragula Styles\\n */\\n.gu-transit {\\n  background: var(--color-dragula-background) !important;\\n  border: solid 2px var(--color-dragula-border) !important;\\n  border-radius: 3px !important;\\n  filter: none !important;\\n  height: 0 !important;\\n  opacity: 1 !important;\\n  padding: 0 !important;\\n}\\n\\n.gu-transit * {\\n  display: none !important;\\n}\\n\\n.gu-mirror {\\n  background-color: var(--color-dragula-mirror-background) !important;\\n  border: solid 1px var(--color-dragula-mirror-border) !important;\\n  border-radius: 3px !important;\\n  box-shadow: 1px 1px 1px 1px rgb(0 0 0 / 10%) !important;\\n  display: flex !important;\\n  filter: none !important;\\n  flex-direction: row !important;\\n  justify-content: center !important;\\n  align-items: center !important;\\n  opacity: 0.5 !important;\\n  padding: 0 !important;\\n  pointer-events: none !important;\\n  height: 54px !important;\\n}\\n\\n/**\\n * Compact editor overrides\\n */\\n\\n.fjs-editor-compact .fjs-hide-compact {\\n  display: none;\\n}\\n\\n.fjs-editor-compact .fjs-palette-container {\\n  width: auto;\\n}\\n\\n.fjs-editor-compact .fjs-palette-field {\\n  justify-content: center;\\n}\\n\\n.fjs-editor-compact .fjs-palette-field-icon {\\n  margin: 0;\\n}\\n\", \"\"]);\n\n// exports\n","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n\n    // truthy check fixes #239, equality fixes #207, fixes #501\n    if ((e.clientX !== void 0 && Math.abs(e.clientX - _moveX) <= (o.slideFactorX || 0)) &&\n      (e.clientY !== void 0 && Math.abs(e.clientY - _moveY) <= (o.slideFactorY || 0))) {\n      return;\n    }\n\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e) || 0;\n      var clientY = getCoord('clientY', e) || 0;\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  point = point || {};\n  var state = point.className || '';\n  var el;\n  point.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  point.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n","module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n","'use strict';\n\nconst arrayMoveMutate = (array, from, to) => {\n\tconst startIndex = from < 0 ? array.length + from : from;\n\n\tif (startIndex >= 0 && startIndex < array.length) {\n\t\tconst endIndex = to < 0 ? array.length + to : to;\n\n\t\tconst [item] = array.splice(from, 1);\n\t\tarray.splice(endIndex, 0, item);\n\t}\n};\n\nconst arrayMove = (array, from, to) => {\n\tarray = [...array];\n\tarrayMoveMutate(array, from, to);\n\treturn array;\n};\n\nmodule.exports = arrayMove;\nmodule.exports.mutate = arrayMoveMutate;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var trackScope = parserConfig.trackScope !== false\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\" && stream.peek() == \"!\") {\n      stream.skipToEnd();\n      return ret(\"meta\", \"meta\");\n    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n      return ret(\"variable\", \"property\")\n    } else if (ch == \"<\" && stream.match(\"!--\") ||\n               (ch == \"-\" && stream.match(\"->\") && !/\\S/.test(stream.string.slice(0, stream.start)))) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-|&?]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/`]/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true,\n                     \"regexp\": true, \"this\": true, \"import\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    if (!trackScope) return false\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (!trackScope) return\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  pushcontext.lex = pushblockcontext.lex = true\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), pushblockcontext, forspec, statement, popcontext, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(maybeexpression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(maybeexpression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\" || value == \"readonly\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n    if (type == \"quasi\") { return pass(quasiType, afterType); }\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprops(type) {\n    if (type.match(/[\\}\\)\\]]/)) return cont()\n    if (type == \",\" || type == \";\") return cont(typeprops)\n    return pass(typeprop, typeprops)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    } else if (!type.match(/[;\\}\\)\\],]/)) {\n      return cont()\n    }\n  }\n  function quasiType(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasiType);\n    return cont(typeexpr, continueQuasiType);\n  }\n  function continueQuasiType(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasiType);\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(classfield, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"!\") return cont(classfield)\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    if (type == \".\") return pass(maybeoperatorComma);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse && c != popcontext) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      parseJS(state, \"atom\", \"atom\", \"true\", new CodeMirror.StringStream(\"\", 2, null))\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/x-json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/manifest+json\", { name: \"javascript\", json: true })\nCodeMirror.defineMIME(\"application/ld+json\", { name: \"javascript\", jsonld: true });\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n"],"sourceRoot":""}