(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{288:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return u})),n.d(t,"f",(function(){return m}));var o=n(9);const r=[{title:"Default",fill:void 0,stroke:void 0},{title:"Blue",fill:"rgb(187, 222, 251)",stroke:"rgb(30, 136, 229)"},{title:"Orange",fill:"rgb(255, 224, 178)",stroke:"rgb(251, 140, 0)"},{title:"Green",fill:"rgb(200, 230, 201)",stroke:"rgb(67, 160, 71)"},{title:"Red",fill:"rgb(255, 205, 210)",stroke:"rgb(229, 57, 53)"},{title:"Purple",fill:"rgb(225, 190, 231)",stroke:"rgb(142, 36, 170)"}];function a({align:e,distribute:t}){return[{label:"Align Elements",enabled:e,submenu:["Left","Right","Center","Top","Bottom","Middle"].map(t=>({label:"Align "+t,enabled:e,action:"alignElements",options:{type:t.toLowerCase()}}))},{label:"Distribute Elements",enabled:t,submenu:[{label:"Distribute Horizontally",enabled:t,action:"distributeElements",options:{type:"horizontal"}},{label:"Distribute Vertically",enabled:t,action:"distributeElements",options:{type:"vertical"}}]}]}function i({setColor:e}){return[{label:"Set Color",enabled:e,submenu:r.map(t=>({label:""+t.title,enabled:e,action:"setColor",options:{fill:t.fill,stroke:t.stroke},icon:`resources/icons/${t.title.toLowerCase()}-circle.png`}))}]}function s({moveCanvas:e,moveToOrigin:t,moveSelection:n}){const r=[];return f(t)&&o.o.get(o.a)&&r.push({label:"Move Elements To Origin",accelerator:"CommandOrControl+Shift+O",enabled:t,action:"moveToOrigin"}),[...r,{label:"Move Canvas",enabled:e,submenu:["Up","Left","Down","Right"].reduce((t,n)=>[...t,{label:""+n,accelerator:"CommandOrControl + "+n,enabled:e,action:"moveCanvas",options:{direction:n.toLowerCase(),speed:50}},{label:n+" (Accelerated)",accelerator:"CommandOrControl + Shift + "+n,enabled:e,action:"moveCanvas",options:{direction:n.toLowerCase(),speed:200}}],[])},{label:"Move Selection",enabled:n,submenu:["Up","Left","Down","Right"].reduce((e,t)=>[...e,{label:""+t,accelerator:t,enabled:n,action:"moveSelection",options:{direction:t.toLowerCase()}},{label:t+" (Accelerated)",accelerator:"Shift + "+t,enabled:n,action:"moveSelection",options:{direction:t.toLowerCase(),accelerated:!0}}],[])}]}function l({copy:e,cut:t,paste:n}){return[{label:"Copy",accelerator:"CommandOrControl + C",enabled:e,action:"copy"},{label:"Cut",accelerator:"CommandOrControl + X",enabled:t,action:"cut"},{label:"Paste",accelerator:"CommandOrControl + V",enabled:n,action:"paste"}]}function c(e){return[{label:"Copy",role:"copy",enabled:e},{label:"Cut",role:"cut",enabled:e},{label:"Paste",role:"paste",enabled:e}]}function d({find:e}){return[{label:"Find",accelerator:"CommandOrControl+F",enabled:e,action:"find"}]}function h({inputActive:e,removeSelected:t,selectAll:n}){const o=[];return f(n)&&o.push({label:"Select All",accelerator:"CommandOrControl + A",enabled:n,action:"selectElements",role:e&&"selectAll"}),f(t)&&o.push({label:"Remove Selected",accelerator:"Delete",enabled:t,action:"removeSelection",role:e&&"delete"}),o}function p({bpmn:e,editLabel:t,globalConnectTool:n,handTool:o,lassoTool:r,spaceTool:a}){const i=[];return f(o)&&(i.push({label:"Hand Tool",accelerator:"H",enabled:o,action:"handTool"}),e&&o&&i.push({visible:!1,label:"I'm invisible!",custom:{key:" ",keypress:"activateHandtool",keyup:"deactivateHandtool"}})),f(r)&&i.push({label:"Lasso Tool",accelerator:"L",enabled:r,action:"lassoTool"}),f(a)&&i.push({label:"Space Tool",accelerator:"S",enabled:a,action:"spaceTool"}),f(n)&&i.push({label:"Global Connect Tool",accelerator:"C",enabled:n,action:"globalConnectTool"}),f(t)&&i.push({label:"Edit Label",accelerator:"E",enabled:t,action:"directEditing"}),i}function u({redo:e,undo:t}){return[{label:"Undo",accelerator:"CommandOrControl+Z",enabled:t,action:"undo"},{label:"Redo",accelerator:"CommandOrControl+Y",enabled:e,action:"redo"}]}function m(e){return[{label:"Undo",role:"undo",enabled:e},{label:"Redo",role:"redo",enabled:e}]}function f(e){return void 0!==e}},298:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(8),i=n.n(a),s=n(3),l=n(84),c=n(313),d=n.n(c);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var p=({styles:e={},...t})=>r.a.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:"9",height:"64"},t),r.a.createElement("path",{fillRule:"evenodd",d:"M.343 32L6 26.343V1.5a1.5 1.5 0 113 0v61a1.5 1.5 0 11-3 0V37.657L.343 32z"})),u=n(24);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return g}));const g={open:!1,width:280};class b extends o.PureComponent{constructor(e){super(e),f(this,"getStartWidth",()=>((this.props.layout||{}).propertiesPanel||g).width||g.width),f(this,"handleResizeStart",e=>{C(this.resizeHandlerRef.current,{dragging:!0});Object(l.a)(this.handlePanelResize)(e);const{open:t,width:n,fullWidth:o}=v(this.props);this.context={open:t,startWidth:n,fullWidth:o}}),f(this,"handleResize",()=>{if(this.containerRef.current.getBoundingClientRect().width>=x()){const e=y();this.containerRef.current.style.width=e+"px",this.changeLayout({propertiesPanel:{open:!0,width:e,fullWidth:!0}})}}),f(this,"handlePanelResize",(e,t)=>{const{x:n}=t;if(0===n)return;const{startWidth:o}=this.context,{open:r,width:a,fullWidth:i}=function(e,t){let n=t-e;const o=x();let r=n>280,a=n>o;r||(t<280&&e<-40?(n=280,r=!0):n=0);a&&(t>o&&e>40?(n=o,a=!1):n=y());return{open:r,fullWidth:a,width:n}}(n,o);this.context={...this.context,open:r,width:0===a?this.state.lastSetWidth:a,fullWidth:i};const s=r?a+"px":0;this.containerRef.current&&(this.containerRef.current.classList.toggle("open",r),this.containerRef.current.style.width=s),this.resizeHandlerRef.current&&function(e,t){const{open:n,fullWidth:o}=t;e.classList.remove("snapped-right"),e.classList.remove("snapped-left"),n||e.classList.add("snapped-right");o&&e.classList.add("snapped-left")}(this.resizeHandlerRef.current,this.context)}),f(this,"handleResizeEnd",()=>{C(this.resizeHandlerRef.current,{dragging:!1});const{open:e,width:t,fullWidth:n}=this.context;this.context={},e&&this.setState({lastSetWidth:t}),this.changeLayout({propertiesPanel:{open:e,width:t,fullWidth:n}})}),f(this,"handleToggle",()=>{const{layout:e={}}=this.props,{propertiesPanel:t={}}=e;this.changeLayout({propertiesPanel:{...g,...t,open:!t.open,width:this.state.lastSetWidth}})}),f(this,"changeLayout",(e={})=>{const{onLayoutChanged:t}=this.props;Object(s.isFunction)(t)&&t(e)}),this.handlePanelResize=Object(u.d)(this.handlePanelResize),this.containerRef=new r.a.createRef,this.resizeHandlerRef=new r.a.createRef,this.context={},this.state={lastSetWidth:this.getStartWidth()}}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{className:e,forwardedRef:t}=this.props,{open:n,width:o,fullWidth:a}=v(this.props);return r.a.createElement("div",{ref:this.containerRef,className:i()(d.a.PropertiesContainer,e,{open:n}),style:{width:o}},r.a.createElement("div",{className:"toggle",onClick:this.handleToggle,draggable:!0,onDragStart:this.handleResizeStart,onDragEnd:this.handleResizeEnd},!n&&r.a.createElement(p,null)),r.a.createElement("div",{ref:this.resizeHandlerRef,className:i()("resize-area",{"snapped-right":!n},{"snapped-left":a}),draggable:!0,onDragStart:this.handleResizeStart,onDragEnd:this.handleResizeEnd},r.a.createElement("div",{className:"resize-handle"})),r.a.createElement("div",{className:"properties-container",ref:t}))}}t.b=r.a.forwardRef((function(e,t){return r.a.createElement(b,m({},e,{forwardedRef:t}))}));function v(e){const t=(e.layout||{}).propertiesPanel||g,{open:n,fullWidth:o}=t;return{open:n,width:n?t.width:0,fullWidth:o}}function C(e,t){Object.keys(t).forEach(n=>{t[n]?e.classList.add(n):e.classList.remove(n)})}function y(){return window.innerWidth}function x(){return.8*y()}},307:function(e,t,n){"use strict";function o(e){return(e=e||document.activeElement)||(e=document.getSelection().focusNode),function(e){return"TEXTAREA"===e.tagName||"INPUT"===e.tagName||"true"===e.contentEditable}(e)}n.d(t,"a",(function(){return o}))},311:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(319),i=n.n(a),s=n(33);class l extends o.PureComponent{triggerAction(e){if("save"===e)return this.props.xml}render(){return r.a.createElement(s.c,{className:"content tab"},r.a.createElement("div",{className:i.a.ErrorTab},r.a.createElement("h1",null,"Ooops, this should not have happened."),r.a.createElement("p",null,"This tab crashed due to an unexpected error."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/camunda/camunda-modeler/issues/new?template=BUG_REPORT.md"},"Report bug"))))}}var c=n(81),d=n(321),h=n.n(d),p=n(13);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends c.a{constructor(e){super(e),u(this,"sheetsChanged",(e,t)=>{let{activeSheet:n,sheets:o}=this.getCached();o||(o=[]);const r=n.provider,a=e.map(e=>({...e,provider:r}));o=o.filter(e=>e.provider!==r).concat(a).map(e=>({...e,order:e.order||0})).sort((e,t)=>e.order-t.order),t&&(n=o.find(e=>e.id===t.id)),this.setCached({sheets:o,activeSheet:n})}),u(this,"handleChanged",(e={})=>{const{onChanged:t}=this.props,n=this.isDirty(e);t({...e,dirty:n})}),u(this,"handleError",e=>{const{onError:t}=this.props;t(e)}),u(this,"handleWarning",e=>{const{onWarning:t}=this.props;t(e)}),u(this,"handleImport",(e,t)=>{t&&t.length&&(t.forEach(e=>{this.handleWarning(e)}),e||this.displayImportWarningsNotification(t)),e&&(this.openFallback(),this.showImportErrorDialog(e),this.handleError(e))}),u(this,"handleContentUpdated",e=>{this.setCached({lastXML:e})}),u(this,"handleContextMenu",(e,t)=>{const{activeSheet:n}=this.getCached(),{onContextMenu:o}=this.props;"function"==typeof o&&o(e,n.type,t)}),u(this,"handleLayoutChanged",e=>{const{onLayoutChanged:t}=this.props;t(e)}),u(this,"triggerAction",async(e,t)=>{const n=this.editorRef.current;if("save"===e){const e=await n.getXML();return this.setCached({lastXML:e}),e}if("export-as"===e){const{fileType:e}=t;return await n.exportAs(e)}return n.triggerAction(e,t)}),u(this,"switchSheet",async e=>{const{activeSheet:t}=this.getCached();if(e===t)return;if(e.provider===t.provider)return this.setCached({activeSheet:e});const n=await this.editorRef.current.getXML();this.setCached({activeSheet:e,lastXML:n}),this.props.onAction("emit-event",{type:"tab.activeSheetChanged",payload:{activeSheet:e}})}),u(this,"getDefaultSheets",()=>{const{providers:e}=this.props;return e.map(e=>{const{defaultName:t,type:n}=e;return{id:n,name:t,isDefault:!0,provider:e,type:n}})}),u(this,"isUnsaved",e=>{const{file:t}=e;return t&&!t.path}),u(this,"onAction",(e,t)=>{const{onAction:n,tab:o}=this.props;if("close-tab"===e)return n("close-tab",{tabId:o.id});if("lint-tab"===e){const{contents:e}=t;return n("lint-tab",{contents:e,tab:o})}return n(e,t)}),this.editorRef=r.a.createRef();let{sheets:t}=this.getCached();t||(t=this.getDefaultSheets(),this.setCached({sheets:t,activeSheet:t[0]}))}isDirty(e={}){const{dirty:t}=e;if(t)return!0;const{xml:n}=this.props,{lastXML:o}=this.getCached();return!!o&&b(o,n)}async showImportErrorDialog(e){const{onAction:t,tab:n}=this.props,{name:o,type:r}=n,{button:a}=await t("show-dialog",function({error:e,name:t,type:n}){return{type:"error",title:"Import Error",message:"Ooops!",buttons:[{id:"close",label:"Close"},{id:"ask-in-forum",label:"Ask in Forum"}],detail:[e.message,"",'Do you believe "'+t+'" is valid '+n.toUpperCase()+" diagram?","","Post this error with your diagram in our forum for help."].join("\n")}}({error:e,name:o,type:r}));"ask-in-forum"===a&&t("open-external-url",{url:"https://forum.camunda.org/c/modeler"})}displayImportWarningsNotification(e){this.props.onAction("display-notification",{type:"warning",title:`Imported with ${e.length} warning${1!==e.length?"s":""}`,content:"See further details in the log.",duration:0})}openFallback(){let{sheets:e}=this.getCached();e||(e=this.getDefaultSheets());const t=e.find(e=>{const{provider:t}=e;return t.isFallback});t&&this.setCached({activeSheet:t})}componentDidUpdate(e){const{xml:t}=this.props;b(e.xml,t)&&this.setCached({lastXML:t})}render(){let{activeSheet:e,sheets:t,lastXML:n}=this.getCached(),{id:o,xml:a,layout:i,tab:l}=this.props;t||(t=this.getDefaultSheets()),e||(e=t[0]);const c=e.provider.editor,d=this.isUnsaved(l);return r.a.createElement("div",{className:h.a.MultiSheetTab},r.a.createElement(s.c,{className:"content tab"},r.a.createElement(c,{ref:this.editorRef,id:`${o}-${e.provider.type}`,xml:n||a,isNew:d,layout:i,activeSheet:e,onSheetsChanged:this.sheetsChanged,onContextMenu:this.handleContextMenu,onAction:this.onAction,onChanged:this.handleChanged,onContentUpdated:this.handleContentUpdated,onError:this.handleError,onImport:this.handleImport,onLayoutChanged:this.handleLayoutChanged,onModal:this.props.onModal,getConfig:this.props.getConfig,setConfig:this.props.setConfig,getPlugins:this.props.getPlugins,onWarning:this.handleWarning,linting:l.linting})),r.a.createElement(g,{sheets:t,activeSheet:e,onSelect:this.switchSheet}))}}var f=Object(c.b)(Object(c.c)(m));function g(e){const{sheets:t,activeSheet:n,onSelect:o}=e;if(t.length<2)return null;const a=t.map(e=>e.provider).find(e=>e.isFallback),i=n.provider===a;return r.a.createElement(p.a,{slot:"status-bar__file",group:"0_sheet"},r.a.createElement("button",{className:"btn"+(i?" btn--active":""),onClick:()=>o(t.find(e=>e!==n)),title:"Toggle "+a.defaultName},a.defaultName))}function b(e,t){return e!==t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function C(e,t){class n extends o.PureComponent{static getDerivedStateFromError(e){return{hasError:!0}}constructor(e){super(e),this.state={},this.tabRef=r.a.createRef()}triggerAction(e,t){return this.tabRef.current.triggerAction(e,t)}componentDidCatch(e,t){this.props.onError(e,t)}componentDidMount(){this.props.onShown()}render(){const{tab:e,...n}=this.props,{hasError:o}=this.state,a=o?l:f;return r.a.createElement(a,v({id:e.id,tab:e},n,{xml:e.file.contents,ref:this.tabRef,providers:t}))}}return n.displayName=e,n}n.d(t,"a",(function(){return C}))},313:function(e,t,n){var o=n(314);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(12)(o,r);o.locals&&(e.exports=o.locals)},314:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,".pVOHa42lryRKQkEnU7GYd {\n  position: relative;\n  outline: none;\n  background: var(--color-grey-225-10-97);\n}\n.pVOHa42lryRKQkEnU7GYd.open {\n  outline: solid 1px var(--color-grey-225-10-75);\n}\n.pVOHa42lryRKQkEnU7GYd.open > .toggle {\n  display: none;\n}\n.pVOHa42lryRKQkEnU7GYd .toggle {\n  position: absolute;\n  left: -23px;\n  top: calc(50% - 31px);\n  padding: 7px 10px;\n  transform-origin: top left;\n  z-index: 12;\n  fill: var(--color-grey-225-10-85);\n}\n.pVOHa42lryRKQkEnU7GYd .toggle:hover {\n  fill: var(--color-grey-225-10-75);\n}\n.pVOHa42lryRKQkEnU7GYd .toggle:hover + .resize-area .resize-handle {\n  background-color: var(--color-blue-205-100-50);\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area {\n  cursor: ew-resize;\n  z-index: 11;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  transform: translateX(-50%);\n  width: 16px;\n  user-select: none;\n  transition: 0s border;\n  display: flex;\n  justify-content: center;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-right {\n  transform: translateX(-100%);\n  cursor: w-resize;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-right > .resize-handle {\n  margin-left: auto;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-left {\n  transform: translateX(-6px);\n  cursor: e-resize;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-left > .resize-handle {\n  margin-right: auto;\n  transform: translateX(6px);\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area:hover > .resize-handle {\n  background-color: var(--color-blue-205-100-50);\n  transition-delay: 200ms;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.dragging > .resize-handle {\n  background-color: var(--color-blue-205-100-50);\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.dragging + .toggle {\n  opacity: 0;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-handle {\n  width: 3px;\n}\n.pVOHa42lryRKQkEnU7GYd .properties-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-y: auto;\n}\n.pVOHa42lryRKQkEnU7GYd .bio-properties-panel {\n  --font-family: inherit;\n  --font-family-monospace: inherit;\n  background: var(--color-white);\n}\n",""]),t.locals={PropertiesContainer:"pVOHa42lryRKQkEnU7GYd"}},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(359),r=n.n(o);const a=["image/png","image/jpeg"],i=/^data:((?:\w+\/(?:(?!;).)+)?)((?:;[\w\W]*?[^;])*),(.+)$/;function s(e,t){const n="image/"+e;if(-1===a.indexOf(n))throw new Error("<"+e+"> is an unknown type for converting svg to image");const o=t;let s="";for(let e=3;e>=1;e-=1){let a=document.createElement("canvas");t=o.replace(/width="([^"]+)" height="([^"]+)"/,(function(t,n,o){return`width="${parseInt(n,10)*e}" height="${parseInt(o,10)*e}"`})),r()(a,t);let l=a.getContext("2d");if(l.globalCompositeOperation="destination-over",l.fillStyle="white",l.fillRect(0,0,a.width,a.height),s=a.toDataURL(n),i.test(s))return s}throw new Error("Error happened generating image. Diagram size is too big.")}},317:function(e,t,n){var o=n(318);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(12)(o,r);o.locals&&(e.exports=o.locals)},318:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._1ChtJhegF-Ztl9BVDqk_y9 {\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  overflow: auto;\n}\n._1ChtJhegF-Ztl9BVDqk_y9 .content {\n  flex: 1;\n  position: relative;\n}\n._1ChtJhegF-Ztl9BVDqk_y9 .CodeMirror {\n  height: 100%;\n  font-size: 13px;\n  font-family: var(--font-family-monospace);\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n",""]),t.locals={XMLEditor:"_1ChtJhegF-Ztl9BVDqk_y9"}},319:function(e,t,n){var o=n(320);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(12)(o,r);o.locals&&(e.exports=o.locals)},320:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._2k62kv7m_TXPihE3sHxqHw {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  flex: 1;\n}\n._2k62kv7m_TXPihE3sHxqHw h1 {\n  font-size: 36px;\n  font-weight: normal;\n  color: var(--color-grey-225-10-15);\n}\n._2k62kv7m_TXPihE3sHxqHw p {\n  font-size: 16px;\n  max-width: 60%;\n  text-align: justify;\n}\n",""]),t.locals={ErrorTab:"_2k62kv7m_TXPihE3sHxqHw"}},321:function(e,t,n){var o=n(322);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(12)(o,r);o.locals&&(e.exports=o.locals)},322:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._1VwBlzHvgd7iFQohndhgcr {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  border: none;\n}\n._1VwBlzHvgd7iFQohndhgcr > .links {\n  flex: initial;\n}\n",""]),t.locals={MultiSheetTab:"_1VwBlzHvgd7iFQohndhgcr"}},329:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(81),i=n(290),s=n.n(i);n(363),n(341),n(342),n(343),n(334),n(335),n(344),n(345);var l=n(317),c=n.n(l),d=n(288);var h=n(3);class p extends a.a{constructor(e){var t,n,o;super(e),o=()=>{const{onChanged:e}=this.props,{editor:t}=this.getCached(),n=t.doc.historySize(),o=(r={canRedo:!!n.redo,canUndo:!!n.undo},[Object(d.j)(r),[{label:"Cut",accelerator:"CmdOrCtrl+X",role:"cut"},{label:"Copy",accelerator:"CmdOrCtrl+C",role:"copy"},{label:"Paste",accelerator:"CmdOrCtrl+V",role:"paste"}],[{label:"Find",accelerator:"CommandOrControl+F",action:"find"},{label:"Find Next",accelerator:"Shift+CommandOrControl+N",action:"findNext"},{label:"Find Previous",accelerator:"Shift+CommandOrControl+P",action:"findPrev"},{label:"Replace",accelerator:"Shift+CommandOrControl+F",action:"replace"}]]);var r;const a={canExport:!1,dirty:this.isDirty(),redo:!!n.redo,undo:!!n.undo,editable:!0,searchable:!0},i=[];"function"==typeof e&&e({...a,editMenu:o,windowMenu:i}),this.setState({...a})},(n="handleChanged")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.state={},this.ref=r.a.createRef()}componentDidMount(){const{editor:e}=this.getCached();e.attachTo(this.ref.current),e.on("change",this.handleChanged),this.handleChanged(),this.checkImport()}componentWillUnmount(){const{editor:e}=this.getCached();e.detach(),e.off("change",this.handleChanged)}componentDidUpdate(e){m(e.xml,this.props.xml)&&this.checkImport(),function(e,t){return e.cachedState!==t.cachedState}(e,this.props)&&this.handleChanged()}triggerAction(e){const{editor:t}=this.getCached();"undo"===e&&t.doc.undo(),"redo"===e&&t.doc.redo(),"find"===e&&t.execCommand("findPersistent"),"findNext"===e&&t.execCommand("findNext"),"findPrev"===e&&t.execCommand("findPrev"),"replace"===e&&t.execCommand("replace")}checkImport(){const{xml:e}=this.props,{editor:t,lastXML:n}=this.getCached();if(m(n,e)){t.importXML(e);const n=t._stackIdx;this.setCached({lastXML:e,stackIdx:n})}t.refresh()}isDirty(){const{editor:e,stackIdx:t}=this.getCached();return e._stackIdx!==t}getXML(){const{editor:e}=this.getCached(),t=e._stackIdx,n=e.getValue();return this.setCached({lastXML:n,stackIdx:t}),n}render(){return r.a.createElement("div",{className:c.a.XMLEditor},r.a.createElement("div",{className:"content",ref:this.ref}))}static createCachedState(){const e=function(e){var t=this,n=s()((function(e){t=e}),{autoCloseTags:!0,dragDrop:!0,allowDropFileTypes:["text/plain"],lineWrapping:!0,lineNumbers:!0,mode:{name:"application/xml",htmlMode:!1},tabSize:2});return n.attachTo=function(e){e.appendChild(t),this.refresh()},n.detach=function(){t.parentNode&&t.parentNode.removeChild(t)},n.importXML=function(e){this.setValue(e),this.doc.clearHistory()},n.destroy=function(){},Object.defineProperty(n,"_stackIdx",{get(){return this.doc.historySize().undo}}),n}(),t=e._stackIdx;return{__destroy:()=>{e.destroy()},editor:e,lastXML:null,stackIdx:t}}}var u=Object(a.b)(Object(a.c)(p));function m(e,t){return f(e)!==f(t)}function f(e){return Object(h.isString)(e)?e.trim():e}n.d(t,"a",(function(){return u}))},330:function(e,t,n){"use strict";function o(e,t){e.register("saveTab.start",(function(){var e=t.get("directEditing",!1);e&&e.isActive()&&e.complete()}))}o.$inject=["editorActions","injector"];t.a={__init__:["completeDirectEditing"],completeDirectEditing:["type",o]}},331:function(e,t,n){"use strict";var o=n(18);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t,n){r(this,"_addEventListeners",()=>{const e=this._getContainer();e.addEventListener("focusin",this.handleFocusin),e.addEventListener("focusout",this.handleFocusout),e.addEventListener("keydown",this.handleKeydown)}),r(this,"_removeEventListeners",()=>{const e=this._getContainer();e.removeEventListener("focusin",this.handleFocusin),e.removeEventListener("focusout",this.handleFocusout),e.removeEventListener("keydown",this.handleKeydown)}),r(this,"handleFocusin",()=>{this._eventBus.fire("propertiesPanel.focusin")}),r(this,"handleFocusout",()=>{this._eventBus.fire("propertiesPanel.focusout")}),r(this,"handleKeydown",e=>{const t=this._commandStack;(function(e){return Object(o.a)(e)&&!Object(o.c)(e)&&Object(o.b)(["z","Z"],e)})(e)&&(t.canUndo()&&t.undo(),e.preventDefault()),function(e){return Object(o.a)(e)&&(Object(o.b)(["y","Y"],e)||Object(o.b)(["z","Z"],e)&&Object(o.c)(e))}(e)&&(t.canRedo()&&t.redo(),e.preventDefault())}),this._commandStack=e,this._eventBus=t,this._propertiesPanel=n,t.on("propertiesPanel.attach",this._addEventListeners),t.on("propertiesPanel.detach",this._removeEventListeners)}_getContainer(){return this._propertiesPanel._container}}a.$inject=["commandStack","eventBus","propertiesPanel"];t.a={__init__:["propertiesPanelKeyboardBindings"],propertiesPanelKeyboardBindings:["type",a]}},829:function(e,t,n){var o=n(830);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(12)(o,r);o.locals&&(e.exports=o.locals)},830:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._2r0Z-Xr39d7K19IwAXkvNM {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  flex-direction: row;\n  /**\n   * Fix properties tabbing\n   */\n}\n._2r0Z-Xr39d7K19IwAXkvNM .diagram {\n  flex: 1;\n  position: relative;\n}\n._2r0Z-Xr39d7K19IwAXkvNM .properties {\n  flex: none;\n}\n._2r0Z-Xr39d7K19IwAXkvNM .properties .toggle {\n  top: 350px;\n}\n._2r0Z-Xr39d7K19IwAXkvNM .cpp-properties-tabs-links > .cpp-active a {\n  position: relative;\n}\n._2r0Z-Xr39d7K19IwAXkvNM .cpp-properties-tabs-links > .cpp-active a:before {\n  content: '';\n  z-index: 5;\n  bottom: -2px;\n  left: 0;\n  right: 0;\n  border-bottom: solid 3px var(--color-grey-225-10-95);\n  position: absolute;\n}\n",""]),t.locals={CmmnEditor:"_2r0Z-Xr39d7K19IwAXkvNM"}},940:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(81),i=n(33),s=n(24),l=n(298),c=n(603),d=n.n(c),h=n(561),p=n(562),u=n(358),m=n(684),f=n(330),g=n(685),b=n.n(g),v=n(783),C=n.n(v),y=n(331),x=n(9);n(822),n(824),n(826);class w extends d.a{constructor(e={}){const{moddleExtensions:t,...n}=e;super({...n,moddleExtensions:{camunda:m,...t||{}}})}}const E=d.a.prototype._modules,k=[u.a,f.a,x.o.get(x.a)?h.a:p.a,b.a,C.a,y.a];w.prototype._modules=[...E,...k];var O=n(829),S=n.n(O),R=n(307),M=n(288);function P({zoom:e}){return e?[{label:"Zoom In",accelerator:"CommandOrControl+=",action:"zoomIn"},{label:"Zoom Out",accelerator:"CommandOrControl+-",action:"zoomOut"},{label:"Zoom to Actual Size",accelerator:"CommandOrControl+0",action:"resetZoom"},{label:"Zoom to Fit Diagram",accelerator:"CommandOrControl+1",action:"zoomFit"},{type:"separator"}]:[]}function L({propertiesPanel:e}){return e?[{label:"Toggle Properties Panel",accelerator:"CommandOrControl+P",action:"toggleProperties"},{label:"Reset Properties Panel",accelerator:"CommandOrControl+Shift+P",action:"resetProperties"}]:[]}var z=n(316),_=n(19);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=["png","jpeg","svg"];class X extends a.a{constructor(e){super(e),I(this,"ifMounted",e=>(...t)=>{this._isMounted&&e(...t)}),I(this,"undo",()=>{this.getModeler().get("commandStack").undo()}),I(this,"redo",()=>{this.getModeler().get("commandStack").redo()}),I(this,"align",e=>{const t=this.getModeler(),n=t.get("selection").get();t.get("alignElements").trigger(n,e)}),I(this,"handleError",e=>{const{error:t}=e,{onError:n}=this.props;n(t)}),I(this,"handleImport",(e,t)=>{const{onImport:n,xml:o}=this.props,r=this.getModeler().get("commandStack")._stackIdx;n(e,t),e?this.setCached({lastXML:null}):(this.setCached({lastXML:o,stackIdx:r}),this.setState({importing:!1}))}),I(this,"handleChanged",()=>{const e=this.getModeler(),{onChanged:t}=this.props,n=this.isDirty(),o=e.get("commandStack"),r=e.get("selection").get().length,a=Object(R.a)(),i={close:!0,copy:!1,cut:!1,defaultCopyCutPaste:a,defaultUndoRedo:a,dirty:n,editLabel:!a&&!!r,exportAs:j,find:!a,globalConnectTool:!a,handTool:!a,inputActive:a,lassoTool:!a,moveCanvas:!a,moveSelection:!a&&!!r,paste:!1,propertiesPanel:!0,redo:o.canRedo(),removeSelected:!!r||a,save:!0,selectAll:!0,spaceTool:!a,undo:o.canUndo(),zoom:!0,cmmn:!0,editable:!0};i.elementsSelected=!!r,i.inactiveInput=!a;const s=function(e){const{defaultCopyCutPaste:t,defaultUndoRedo:n}=e;return[n?Object(M.f)(!0):Object(M.j)(e),t?Object(M.e)(!0):Object(M.d)(e),Object(M.i)(e),Object(M.g)(e),[...Object(M.b)(e),...Object(M.h)(e)]]}(i),l=[...P(c=i),...L(c)];var c;"function"==typeof t&&t({...i,editMenu:s,windowMenu:l}),this.setState(i)}),I(this,"triggerAction",(e,t)=>{const{layout:{propertiesPanel:n},onLayoutChanged:o}=this.props,r=this.getModeler();if("resize"===e)return this.handleResize();if("toggleProperties"===e){return o({propertiesPanel:{...n,open:!n.open}})}if("resetProperties"===e){return o({propertiesPanel:{width:280,open:!0}})}return"zoomIn"===e&&(e="stepZoom",t={value:1}),"zoomOut"===e&&(e="stepZoom",t={value:-1}),"resetZoom"===e&&(e="zoom",t={value:1}),"zoomFit"===e&&(e="zoom",t={value:"fit-viewport"}),r.get("editorActions").trigger(e,t)}),I(this,"handleSetColor",(e,t)=>{this.triggerAction("setColor",{fill:e,stroke:t})}),I(this,"handleContextMenu",e=>{const{onContextMenu:t}=this.props;"function"==typeof t&&t(e)}),I(this,"handleResize",()=>{const e=this.getModeler(),t=e.get("canvas"),n=e.get("eventBus");t.resized(),n.fire("propertiesPanel.resized")}),this.state={},this.ref=r.a.createRef(),this.propertiesPanelRef=r.a.createRef(),this.handleResize=Object(s.a)(this.handleResize)}componentDidMount(){this._isMounted=!0;const e=this.getModeler();this.listen("on"),e.attachTo(this.ref.current);e.get("propertiesPanel").attachTo(this.propertiesPanelRef.current),this.checkImport()}componentWillUnmount(){this._isMounted=!1;const e=this.getModeler();this.listen("off"),e.detach();e.get("propertiesPanel").detach()}componentDidUpdate(e){this.checkImport(e),function(e,t){return e.cachedState!==t.cachedState}(e,this.props)&&this.handleChanged()}listen(e){const t=this.getModeler();["import.done","saveXML.done","commandStack.changed","selection.changed","attach","propertiesPanel.focusin","propertiesPanel.focusout","directEditing.activate","directEditing.deactivate","searchPad.closed","searchPad.opened"].forEach(n=>{t[e](n,this.handleChanged)}),"on"===e?t[e]("error",1500,this.handleError):"off"===e&&t[e]("error",this.handleError)}isDirty(){const{modeler:e,stackIdx:t}=this.getCached();return e.get("commandStack")._stackIdx!==t}checkImport(e){this.isImportNeeded(e)&&this.importXML()}isImportNeeded(e){const{importing:t}=this.state;if(t)return!1;const{xml:n}=this.props;if(e&&e.xml===n)return!1;const{lastXML:o}=this.getCached();return n!==o}importXML(){const{modeler:e}=this.getCached();this.setState({importing:!0}),e.importXML(this.props.xml,this.ifMounted(this.handleImport))}getModeler(){const{modeler:e}=this.getCached();return e}getXML(){const{lastXML:e,modeler:t}=this.getCached(),n=t.get("commandStack")._stackIdx;return new Promise((o,r)=>{if(!this.isDirty())return o(e||this.props.xml);t.saveXML({format:!0},(e,t)=>(this.setCached({lastXML:t,stackIdx:n}),e?(this.handleError({error:e}),r(e)):o(t)))})}async exportAs(e){const t=await this.exportSVG();return"svg"===e?t:Object(z.a)(e,t)}exportSVG(){const e=this.getModeler();return new Promise((t,n)=>{e.saveSVG((e,o)=>e?n(e):t(o))})}render(){const{layout:e,onLayoutChanged:t}=this.props,n=this.getModeler().getDefinitions(),{importing:o}=this.state;return r.a.createElement("div",{className:S.a.CmmnEditor},r.a.createElement(i.a,{hidden:n&&!o}),r.a.createElement("div",{className:"diagram",ref:this.ref,onFocus:this.handleChanged,onContextMenu:this.handleContextMenu}),r.a.createElement(l.b,{className:"properties",layout:e,ref:this.propertiesPanelRef,onLayoutChanged:t}))}static createCachedState(e){const{name:t,version:n}=_.a,{onAction:o}=e,r=new w({position:"absolute",exporter:{name:t,version:n}}),a=r.get("commandStack")._stackIdx;return o("emit-event",{type:"cmmn.modeler.created",payload:{modeler:r}}),{__destroy:()=>{r.destroy()},lastXML:null,modeler:r,stackIdx:a}}}var D=Object(a.b)(Object(a.c)(X));var N=n(329),T=n(311);var A=Object(T.a)("CmmnTab",[{type:"bpmn",editor:D,defaultName:"Diagram"},{type:"xml",editor:N.a,isFallback:!0,defaultName:"XML"}]);n.d(t,"default",(function(){return A}))}}]);
//# sourceMappingURL=13.13.js.map