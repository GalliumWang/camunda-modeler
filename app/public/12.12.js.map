{"version":3,"sources":["webpack:///./src/app/tabs/getEditMenu.js","webpack:///./resources/icons/HandleBar.svg","webpack:///./src/app/tabs/PropertiesContainer.js","webpack:///./src/util/dom/isInput.js","webpack:///./src/app/tabs/ErrorTab.js","webpack:///./src/app/tabs/MultiSheetTab.js","webpack:///./src/app/tabs/EditorTab.js","webpack:///./src/app/tabs/PropertiesContainer.less?ed5f","webpack:///./src/app/tabs/PropertiesContainer.less","webpack:///./src/app/util/generateImage.js","webpack:///./src/app/tabs/xml/XMLEditor.less?23bc","webpack:///./src/app/tabs/xml/XMLEditor.less","webpack:///./src/app/tabs/ErrorTab.less?2612","webpack:///./src/app/tabs/ErrorTab.less","webpack:///./src/app/tabs/MultiSheetTab.less?201b","webpack:///./src/app/tabs/MultiSheetTab.less","webpack:///./src/app/tabs/xml/XMLEditor.js","webpack:///./src/app/tabs/xml/getXMLEditMenu.js","webpack:///./src/app/tabs/xml/getXMLWindowMenu.js","webpack:///./src/app/tabs/xml/CodeMirror.js","webpack:///./src/app/tabs/xml/index.js","webpack:///./src/app/tabs/bpmn/modeler/features/complete-direct-editing/CompleteDirectEditing.js","webpack:///./src/app/tabs/bpmn/modeler/features/complete-direct-editing/index.js","webpack:///./src/app/tabs/bpmn/modeler/features/properties-panel-keyboard-bindings/PropertiesPanelKeyoardBindings.js","webpack:///./src/app/tabs/bpmn/modeler/features/properties-panel-keyboard-bindings/index.js","webpack:///./src/app/tabs/dmn/OverviewContainer.less?848e","webpack:///./src/app/tabs/dmn/OverviewContainer.less","webpack:///./src/app/tabs/dmn/DmnEditor.less?4808","webpack:///./src/app/tabs/dmn/DmnEditor.less","webpack:///./src/app/tabs/dmn/OverviewContainer.js","webpack:///./src/app/tabs/dmn/modeler/DrdViewer.js","webpack:///./src/app/tabs/dmn/modeler/features/decision-table-keyboard/DecisionTableKeyboard.js","webpack:///./src/app/tabs/dmn/modeler/features/decision-table-keyboard/index.js","webpack:///./src/app/tabs/dmn/modeler/features/overview/open-drg-element/OpenDrgElement.js","webpack:///./src/app/tabs/dmn/modeler/features/overview/open-drg-element/index.js","webpack:///./src/app/tabs/dmn/modeler/features/overview/overview-renderer/OverviewRenderer.js","webpack:///./src/app/tabs/dmn/modeler/features/overview/overview-renderer/index.js","webpack:///./src/app/tabs/dmn/modeler/DmnModeler.js","webpack:///./src/app/tabs/dmn/getDmnEditMenu.js","webpack:///./src/app/tabs/dmn/getDmnWindowMenu.js","webpack:///./src/app/tabs/dmn/DmnEditor.js","webpack:///./src/app/tabs/dmn/util/configure.js","webpack:///./src/app/tabs/dmn/DmnTab.js","webpack:///./src/app/tabs/dmn/index.js"],"names":["COLORS","title","fill","undefined","stroke","getAlignDistributeEntries","align","distribute","label","enabled","submenu","map","direction","action","options","type","toLowerCase","getColorEntries","setColor","color","icon","getCanvasEntries","moveCanvas","moveToOrigin","moveSelection","menuEntries","isDefined","Flags","get","DISABLE_ADJUST_ORIGIN","push","accelerator","reduce","entries","speed","accelerated","getCopyCutPasteEntries","copy","cut","paste","getDefaultCopyCutPasteEntries","inputActive","role","getDiagramFindEntries","find","getSelectionEntries","removeSelected","selectAll","getToolEntries","bpmn","editLabel","globalConnectTool","handTool","lassoTool","spaceTool","visible","custom","key","keypress","keyup","getUndoRedoEntries","redo","undo","getDefaultUndoRedoEntries","value","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","styles","props","createElement","xmlns","width","height","fillRule","d","DEFAULT_LAYOUT","open","PropertiesContainerWrapped","PureComponent","constructor","super","layout","propertiesPanel","event","adjustHandlerDragStyles","resizeHandlerRef","current","dragging","dragger","handlePanelResize","onDragStart","fullWidth","getLayoutFromProps","context","startWidth","containerRef","getBoundingClientRect","getMaxWidth","newWidth","getWindowWidth","style","changeLayout","_","delta","x","dx","initialWidth","max_width","getLayout","state","lastSetWidth","styledWidth","classList","toggle","handle","remove","add","adjustHandlerSnapStyles","setState","onLayoutChanged","isFunction","throttle","React","createRef","getStartWidth","componentDidMount","window","addEventListener","handleResize","componentWillUnmount","removeEventListener","render","className","forwardedRef","ref","classNames","css","PropertiesContainer","onClick","handleToggle","draggable","handleResizeStart","onDragEnd","handleResizeEnd","HandleBar","forwardRef","keys","forEach","innerWidth","active","element","document","activeElement","getSelection","focusNode","tagName","contentEditable","isInput","ErrorTab","triggerAction","xml","href","MultiSheetTab","CachedComponent","newSheets","newActiveSheet","activeSheet","sheets","getCached","provider","wiredNewSheets","newSheet","filter","sheet","concat","t","order","sort","a","b","s","id","setCached","newState","onChanged","dirty","isDirty","error","onError","warning","onWarning","warnings","handleWarning","displayImportWarningsNotification","openFallback","showImportErrorDialog","handleError","lastXML","onContextMenu","newLayout","async","editor","editorRef","getXML","fileType","exportAs","onAction","payload","providers","defaultName","name","isDefault","tab","file","path","tabId","contents","getDefaultSheets","isXMLChange","button","message","buttons","detail","toUpperCase","join","getErrorDialog","url","content","duration","fallback","isFallback","componentDidUpdate","prevProps","Editor","isNew","isUnsaved","onSheetsChanged","sheetsChanged","handleContextMenu","handleChanged","onContentUpdated","handleContentUpdated","onImport","handleImport","handleLayoutChanged","onModal","getConfig","setConfig","getPlugins","linting","SheetSwitch","onSelect","switchSheet","WithCache","WithCachedState","fallbackProvider","slot","group","prevXML","createTab","tabName","EditorTab","hasError","tabRef","componentDidCatch","info","onShown","otherProps","Tab","displayName","module","transform","locals","exports","ENCODINGS","DATA_URL_REGEX","generateImage","svg","encoding","indexOf","Error","initialSVG","dataURL","scale","canvas","replace","widthStr","heightStr","parseInt","canvg","getContext","globalCompositeOperation","fillStyle","fillRect","toDataURL","test","XMLEditor","history","doc","historySize","editMenu","canRedo","canUndo","canExport","windowMenu","attachTo","on","checkImport","detach","off","cachedState","isChachedStateChange","execCommand","importXML","stackIdx","_stackIdx","refresh","getValue","el","instance","CodeMirror","_el","autoCloseTags","dragDrop","allowDropFileTypes","lineWrapping","lineNumbers","mode","htmlMode","tabSize","parentNode","appendChild","removeChild","setValue","clearHistory","destroy","defineProperty","__destroy","trim","string","isString","CompleteDirectEditing","editorActions","injector","register","directEditing","isActive","complete","$inject","__init__","completeDirectEditing","PropertiesPanelKeyboardBindings","commandStack","eventBus","container","_getContainer","handleFocusin","handleFocusout","handleKeydown","_eventBus","fire","_commandStack","isCommandOrControl","isShift","isKey","isUndo","preventDefault","isRedo","_propertiesPanel","_addEventListeners","_removeEventListeners","_container","propertiesPanelKeyboardBindings","OverviewContainerWrapped","Math","min","dmnOverview","OverviewContainer","DrdViewer","Manager","_getViewProviders","NavigatedDrdViewer","opens","is","containsDi","DecisionTableKeyboard","decisionTable","invoke","Keyboard","getKeyboardConfig","inherits","__depends__","EditorActions","keyboard","OpenDrgElement","elementRegistry","currentOpenDrgElementId","businessObject","hasDecisionLogic","decisionLogic","isAny","viewbox","_canvas","bBox","getBBox","newViewbox","outer","y","zoom","canOpenDrgElement","addMarker","currentOpenDrgElement","centerViewbox","removeMarker","openDrgElement","DrdRenderer","pathMap","textRenderer","BaseRenderer","markers","marker","initMarkers","createMarker","attrs","strokeWidth","strokeLinecap","strokeDasharray","svgCreate","svgAttr","svgAppend","viewBox","refX","refY","markerWidth","markerHeight","orient","defs","domQuery","associationStart","associationEnd","informationRequirementEnd","knowledgeRequirementEnd","authorityRequirementEnd","cx","cy","r","computeStyle","traits","defaultStyles","isArray","drawRect","p","offset","isObject","rect","rx","ry","renderLabel","text","createText","domAttr","renderEmbeddedLabel","getName","box","padding","drawPath","handlers","knowledgeSource","getScaledPath","xScaleFactor","yScaleFactor","containerWidth","containerHeight","position","mx","my","businessKnowledge","textElement","getSemantic","semantic","strokeLinejoin","associationDirection","markerEnd","markerStart","drawLine","waypoints","line","createLine","canRender","drawShape","parent","h","drawConnection","drdRenderer","OverviewRenderer","NOOP_MODULE","poweredByModule","poweredBy","CamundaDmnModeler","DmnModeler","moddleExtensions","drd","literalExpression","exporter","overview","otherOptions","mergeModules","diagramOriginModule","alignToOriginModule","propertiesPanelModule","propertiesProviderModule","drdAdapterModule","propertiesPanelKeyboardBindingsModule","decisionTableKeyboardModule","viewDrd","camunda","camundaModdleDescriptor","_overview","once","saveXML","then","showOverview","catch","err","console","getActiveViewer","detachOverview","activeViewer","_emit","resized","viewer","addExporter","_addOverview","_handleOverviewImport","getStackIdx","additionalModules","openDrgElementModule","overviewRendererModule","previousActiveViewType","offCommandStackChanged","activeView","handleCommandStackChanged","onCommandStackChanged","_updateOverview","_viewers","view","getViews","editorConfig","editorModules","completeDirectEditingModule","getDecisionTableEntries","hasSelection","getZoomEntries","getPropertiesPanelEntries","getOverviewEntries","EXPORT_AS","DEFAULT_ENGINE_PROFILE","executionPlatform","ENGINES","PLATFORM","DmnEditor","fn","args","_isMounted","modeler","previousActiveSheet","previousActiveView","getModeler","propertiesPanelRef","attachOverviewTo","overviewRef","isOverviewOpen","getActiveView","hasPropertiesPanel","hasOverview","isInputActive","close","save","selection","selectionLength","defaultCopyCutPaste","defaultUndoRedo","copyCutPasteEntries","getDmnDrdEditMenu","dmnRuleEditing","dmnClauseEditing","getDmnDecisionTableEditMenu","getDmnLiteralExpressionEditMenu","activeEditor","dmn","editable","elementsSelected","inactiveInput","findNamespaceUsages","shouldMigrate","migratedXML","migrateDiagram","getView","handleLayoutChange","propertiesPanelLayout","propertiesPanelDefaultLayout","toggleOverview","resetOverview","trigger","drdView","_views","overviewDefaultLayout","debounce","listen","isOverviewOpened","isCachedStateChange","viewsChanged","viewContentChanged","importing","initialView","_getInitialView","isImportNeeded","checkSheetChange","importedXML","handleMigration","ifMounted","checkboxChecked","defaultId","checkboxLabel","shouldOpenActiveSheet","format","Promise","reject","exportSVG","saveSVG","imported","getDefinitions","isDrd","overviewOpen","hidden","handleEditDrdClick","EngineProfile","engineProfile","version","Metadata","defaultOptions","handleMiddlewareExtensions","logWarning","additionalModulesMiddleware","component","middlewares","extensions","extension","configureModeler","DmnTab"],"mappings":"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","file":"12.12.js","sourcesContent":["/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport Flags, { DISABLE_ADJUST_ORIGIN } from '../../util/Flags';\r\n\r\nconst SPACE_KEY = ' ';\r\n\r\nconst COLORS = [\r\n  {\r\n    title: 'Default',\r\n    fill: undefined,\r\n    stroke: undefined\r\n  }, {\r\n    title: 'Blue',\r\n    fill: 'rgb(187, 222, 251)',\r\n    stroke: 'rgb(30, 136, 229)'\r\n  }, {\r\n    title: 'Orange',\r\n    fill: 'rgb(255, 224, 178)',\r\n    stroke: 'rgb(251, 140, 0)'\r\n  }, {\r\n    title: 'Green',\r\n    fill: 'rgb(200, 230, 201)',\r\n    stroke: 'rgb(67, 160, 71)'\r\n  }, {\r\n    title: 'Red',\r\n    fill: 'rgb(255, 205, 210)',\r\n    stroke: 'rgb(229, 57, 53)'\r\n  }, {\r\n    title: 'Purple',\r\n    fill: 'rgb(225, 190, 231)',\r\n    stroke: 'rgb(142, 36, 170)'\r\n  } ];\r\n\r\nexport function getAlignDistributeEntries({\r\n  align,\r\n  distribute\r\n}) {\r\n  return [ {\r\n    label: 'Align Elements',\r\n    enabled: align,\r\n    submenu: [ 'Left', 'Right', 'Center', 'Top', 'Bottom', 'Middle' ].map(direction => {\r\n      return {\r\n        label: `Align ${direction}`,\r\n        enabled: align,\r\n        action: 'alignElements',\r\n        options: {\r\n          type: direction.toLowerCase()\r\n        }\r\n      };\r\n    })\r\n  }, {\r\n    label: 'Distribute Elements',\r\n    enabled: distribute,\r\n    submenu: [ {\r\n      label: 'Distribute Horizontally',\r\n      enabled: distribute,\r\n      action: 'distributeElements',\r\n      options: {\r\n        type: 'horizontal'\r\n      }\r\n    }, {\r\n      label: 'Distribute Vertically',\r\n      enabled: distribute,\r\n      action: 'distributeElements',\r\n      options: {\r\n        type: 'vertical'\r\n      }\r\n    } ]\r\n  } ];\r\n}\r\n\r\n\r\nexport function getColorEntries({\r\n  setColor\r\n}) {\r\n  return [ {\r\n    label: 'Set Color',\r\n    enabled: setColor,\r\n    submenu: COLORS.map(color => {\r\n      return {\r\n        label: `${color.title}`,\r\n        enabled: setColor,\r\n        action: 'setColor',\r\n        options: {\r\n          fill: color.fill,\r\n          stroke: color.stroke\r\n        },\r\n        icon: `resources/icons/${color.title.toLowerCase()}-circle.png`\r\n      };\r\n    })\r\n  } ];\r\n}\r\n\r\nexport function getCanvasEntries({\r\n  moveCanvas,\r\n  moveToOrigin,\r\n  moveSelection\r\n}) {\r\n  const menuEntries = [];\r\n\r\n  if (isDefined(moveToOrigin) && Flags.get(DISABLE_ADJUST_ORIGIN)) {\r\n    menuEntries.push({\r\n      label: 'Move Elements To Origin',\r\n      accelerator: 'CommandOrControl+Shift+O',\r\n      enabled: moveToOrigin,\r\n      action: 'moveToOrigin'\r\n    });\r\n  }\r\n\r\n  return [\r\n    ...menuEntries,\r\n    {\r\n      label: 'Move Canvas',\r\n      enabled: moveCanvas,\r\n      submenu: [ 'Up', 'Left', 'Down', 'Right' ].reduce((entries, direction) => {\r\n        return [\r\n          ...entries,\r\n          {\r\n            label: `${direction}`,\r\n            accelerator: `CommandOrControl + ${direction}`,\r\n            enabled: moveCanvas,\r\n            action: 'moveCanvas',\r\n            options: {\r\n              direction: direction.toLowerCase(),\r\n              speed: 50\r\n            }\r\n          },\r\n          {\r\n            label: `${direction} (Accelerated)`,\r\n            accelerator: `CommandOrControl + Shift + ${direction}`,\r\n            enabled: moveCanvas,\r\n            action: 'moveCanvas',\r\n            options: {\r\n              direction: direction.toLowerCase(),\r\n              speed: 200\r\n            }\r\n          }\r\n        ];\r\n      }, [])\r\n    },\r\n    {\r\n      label: 'Move Selection',\r\n      enabled: moveSelection,\r\n      submenu: [ 'Up', 'Left', 'Down', 'Right' ].reduce((entries, direction) => {\r\n        return [\r\n          ...entries,\r\n          {\r\n            label: `${direction}`,\r\n            accelerator: direction,\r\n            enabled: moveSelection,\r\n            action: 'moveSelection',\r\n            options: {\r\n              direction: direction.toLowerCase()\r\n            }\r\n          },\r\n          {\r\n            label: `${direction} (Accelerated)`,\r\n            accelerator: `Shift + ${direction}`,\r\n            enabled: moveSelection,\r\n            action: 'moveSelection',\r\n            options: {\r\n              direction: direction.toLowerCase(),\r\n              accelerated: true\r\n            }\r\n          }\r\n        ];\r\n      }, [])\r\n    }\r\n  ];\r\n}\r\n\r\nexport function getCopyCutPasteEntries({\r\n  copy,\r\n  cut,\r\n  paste\r\n}) {\r\n  return [ {\r\n    label: 'Copy',\r\n    accelerator: 'CommandOrControl + C',\r\n    enabled: copy,\r\n    action: 'copy',\r\n  }, {\r\n    label: 'Cut',\r\n    accelerator: 'CommandOrControl + X',\r\n    enabled: cut,\r\n    action: 'cut'\r\n  }, {\r\n    label: 'Paste',\r\n    accelerator: 'CommandOrControl + V',\r\n    enabled: paste,\r\n    action: 'paste'\r\n  } ];\r\n}\r\n\r\nexport function getDefaultCopyCutPasteEntries(inputActive) {\r\n  return [ {\r\n    label: 'Copy',\r\n    role: 'copy',\r\n    enabled: inputActive\r\n  }, {\r\n    label: 'Cut',\r\n    role: 'cut',\r\n    enabled: inputActive\r\n  }, {\r\n    label: 'Paste',\r\n    role: 'paste',\r\n    enabled: inputActive\r\n  } ];\r\n}\r\n\r\nexport function getDiagramFindEntries({\r\n  find\r\n}) {\r\n  return [ {\r\n    label: 'Find',\r\n    accelerator: 'CommandOrControl+F',\r\n    enabled: find,\r\n    action: 'find'\r\n  } ];\r\n}\r\n\r\nexport function getSelectionEntries({\r\n  inputActive,\r\n  removeSelected,\r\n  selectAll\r\n}) {\r\n  const menuEntries = [];\r\n\r\n  if (isDefined(selectAll)) {\r\n    menuEntries.push({\r\n      label: 'Select All',\r\n      accelerator: 'CommandOrControl + A',\r\n      enabled: selectAll,\r\n      action: 'selectElements',\r\n      role: inputActive && 'selectAll'\r\n    });\r\n  }\r\n\r\n  if (isDefined(removeSelected)) {\r\n    menuEntries.push({\r\n      label: 'Remove Selected',\r\n      accelerator: 'Delete',\r\n      enabled: removeSelected,\r\n      action: 'removeSelection',\r\n      role: inputActive && 'delete'\r\n    });\r\n  }\r\n\r\n  return menuEntries;\r\n}\r\n\r\nexport function getToolEntries({\r\n  bpmn,\r\n  editLabel,\r\n  globalConnectTool,\r\n  handTool,\r\n  lassoTool,\r\n  spaceTool\r\n}) {\r\n  const menuEntries = [];\r\n\r\n  if (isDefined(handTool)) {\r\n    menuEntries.push({\r\n      label: 'Hand Tool',\r\n      accelerator: 'H',\r\n      enabled: handTool,\r\n      action: 'handTool'\r\n    });\r\n\r\n    bpmn && handTool && menuEntries.push({\r\n      visible: false,\r\n      label: 'I\\'m invisible!',\r\n      custom: {\r\n        key: SPACE_KEY,\r\n        keypress: 'activateHandtool',\r\n        keyup: 'deactivateHandtool'\r\n      }\r\n    });\r\n  }\r\n\r\n  if (isDefined(lassoTool)) {\r\n    menuEntries.push({\r\n      label: 'Lasso Tool',\r\n      accelerator: 'L',\r\n      enabled: lassoTool,\r\n      action: 'lassoTool'\r\n    });\r\n  }\r\n\r\n  if (isDefined(spaceTool)) {\r\n    menuEntries.push({\r\n      label: 'Space Tool',\r\n      accelerator: 'S',\r\n      enabled: spaceTool,\r\n      action: 'spaceTool'\r\n    });\r\n  }\r\n\r\n  if (isDefined(globalConnectTool)) {\r\n    menuEntries.push({\r\n      label: 'Global Connect Tool',\r\n      accelerator: 'C',\r\n      enabled: globalConnectTool,\r\n      action: 'globalConnectTool'\r\n    });\r\n  }\r\n\r\n  if (isDefined(editLabel)) {\r\n    menuEntries.push({\r\n      label: 'Edit Label',\r\n      accelerator: 'E',\r\n      enabled: editLabel,\r\n      action: 'directEditing'\r\n    });\r\n  }\r\n\r\n  return menuEntries;\r\n}\r\n\r\n// undo and redo must be handled manually due to a bug in Chromium\r\n// see https://github.com/electron/electron/issues/3682\r\nexport function getUndoRedoEntries({\r\n  redo,\r\n  undo\r\n}) {\r\n  return [ {\r\n    label: 'Undo',\r\n    accelerator: 'CommandOrControl+Z',\r\n    enabled: undo,\r\n    action: 'undo'\r\n  }, {\r\n    label: 'Redo',\r\n    accelerator: 'CommandOrControl+Y',\r\n    enabled: redo,\r\n    action: 'redo'\r\n  } ];\r\n}\r\n\r\nexport function getDefaultUndoRedoEntries(inputActive) {\r\n  return [ {\r\n    label: 'Undo',\r\n    role: 'undo',\r\n    enabled: inputActive\r\n  }, {\r\n    label: 'Redo',\r\n    role: 'redo',\r\n    enabled: inputActive\r\n  } ];\r\n}\r\n\r\n// helpers //////////\r\n\r\nfunction isDefined(value) {\r\n  return value !== undefined;\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"9\",\n  height: \"64\"\n}, props), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M.343 32L6 26.343V1.5a1.5 1.5 0 113 0v61a1.5 1.5 0 11-3 0V37.657L.343 32z\"\n})));","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport React, { PureComponent } from 'react';\n\nimport classNames from 'classnames';\n\nimport { isFunction } from 'min-dash';\n\nimport dragger from '../../util/dom/dragger';\n\nimport css from './PropertiesContainer.less';\n\nimport HandleBar from '../../../resources/icons/HandleBar.svg';\n\nimport { throttle } from '../../util';\n\nexport const MIN_WIDTH = 280;\n\nexport const DEFAULT_LAYOUT = {\n  open: false,\n  width: MIN_WIDTH\n};\n\n/**\n * Container for properties panel that can be resized and toggled.\n */\nclass PropertiesContainerWrapped extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handlePanelResize = throttle(this.handlePanelResize);\n\n    this.containerRef = new React.createRef();\n    this.resizeHandlerRef = new React.createRef();\n\n    this.context = {};\n\n    this.state = {\n      lastSetWidth: this.getStartWidth()\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  getStartWidth = () => {\n    const layout = this.props.layout || {};\n\n    const propertiesPanel = layout.propertiesPanel || DEFAULT_LAYOUT;\n\n    const width = propertiesPanel.width || DEFAULT_LAYOUT.width;\n\n    return width;\n  }\n\n  handleResizeStart = (event) => {\n    adjustHandlerDragStyles(\n      this.resizeHandlerRef.current,\n      { dragging: true }\n    );\n\n    const onDragStart = dragger(this.handlePanelResize);\n\n    onDragStart(event);\n\n    const {\n      open,\n      width,\n      fullWidth\n    } = getLayoutFromProps(this.props);\n\n    this.context = {\n      open,\n      startWidth: width,\n      fullWidth\n    };\n  }\n\n  handleResize = () => {\n    const width = getCurrentWidth(this.containerRef.current);\n\n    if (width >= getMaxWidth()) {\n\n      const newWidth = getWindowWidth();\n      this.containerRef.current.style.width = `${newWidth}px`;\n\n      this.changeLayout({\n        propertiesPanel: {\n          open: true,\n          width: newWidth,\n          fullWidth: true\n        }\n      });\n    }\n  }\n\n  handlePanelResize = (_, delta) => {\n    const { x: dx } = delta;\n\n    if (dx === 0) {\n      return;\n    }\n\n    const { startWidth } = this.context;\n\n    const {\n      open,\n      width,\n      fullWidth\n    } = getLayout(dx, startWidth);\n\n    this.context = {\n      ...this.context,\n      open,\n      width: width === 0 ? this.state.lastSetWidth : width,\n      fullWidth\n    };\n\n    const styledWidth = open ? `${width}px` : 0;\n\n    if (this.containerRef.current) {\n      this.containerRef.current.classList.toggle('open', open);\n      this.containerRef.current.style.width = styledWidth;\n    }\n\n    if (this.resizeHandlerRef.current) {\n      adjustHandlerSnapStyles(this.resizeHandlerRef.current, this.context);\n    }\n  }\n\n  handleResizeEnd = () => {\n    adjustHandlerDragStyles(\n      this.resizeHandlerRef.current,\n      { dragging: false }\n    );\n\n    const {\n      open,\n      width,\n      fullWidth\n    } = this.context;\n\n    this.context = {};\n\n    if (open) {\n      this.setState ({ lastSetWidth: width });\n    }\n\n    this.changeLayout({\n      propertiesPanel: {\n        open,\n        width,\n        fullWidth\n      }\n    });\n  }\n\n  handleToggle = () => {\n    const { layout = {} } = this.props;\n\n    const { propertiesPanel = {} } = layout;\n\n    this.changeLayout({\n      propertiesPanel: {\n        ...DEFAULT_LAYOUT,\n        ...propertiesPanel,\n        open: !propertiesPanel.open,\n        width: this.state.lastSetWidth\n      }\n    });\n  }\n\n  changeLayout = (layout = {}) => {\n    const { onLayoutChanged } = this.props;\n\n    if (isFunction(onLayoutChanged)) {\n      onLayoutChanged(layout);\n    }\n  }\n\n  render() {\n    const {\n      className,\n      forwardedRef\n    } = this.props;\n\n    const {\n      open,\n      width,\n      fullWidth\n    } = getLayoutFromProps(this.props);\n\n    return (\n      <div\n        ref={ this.containerRef }\n        className={ classNames(\n          css.PropertiesContainer,\n          className,\n          { open }\n        ) }\n        style={ { width } }>\n        <div\n          className=\"toggle\"\n          onClick={ this.handleToggle }\n          draggable\n          onDragStart={ this.handleResizeStart }\n          onDragEnd={ this.handleResizeEnd }\n        >\n          {!open && <HandleBar />}\n        </div>\n\n        <div\n          ref={ this.resizeHandlerRef }\n          className={ classNames(\n            'resize-area',\n            { 'snapped-right': !open },\n            { 'snapped-left': fullWidth },\n          ) }\n          draggable\n          onDragStart={ this.handleResizeStart }\n          onDragEnd={ this.handleResizeEnd }\n        >\n          <div className=\"resize-handle\" />\n        </div>\n\n        <div className=\"properties-container\" ref={ forwardedRef }></div>\n      </div>\n    );\n  }\n\n}\n\nexport default React.forwardRef(\n  function PropertiesContainer(props, ref) {\n    return <PropertiesContainerWrapped { ...props } forwardedRef={ ref } />;\n  }\n);\n\n// helpers //////////\n\nfunction getLayout(dx, initialWidth) {\n  let width = initialWidth - dx;\n  const max_width = getMaxWidth();\n\n  let open = width > MIN_WIDTH;\n  let fullWidth = width > max_width;\n\n  if (!open) {\n\n    // if was already closed and drags 40px\n    if (initialWidth < MIN_WIDTH && dx < -40) {\n\n      // snap to min_width\n      width = MIN_WIDTH;\n      open = true;\n\n    } else {\n      width = 0;\n    }\n  }\n\n  if (fullWidth) {\n\n    // if was already fulled and drags 40px\n    if (initialWidth > max_width && dx > 40) {\n\n      // snap to max_width\n      width = max_width;\n      fullWidth = false;\n\n    } else {\n      width = getWindowWidth();\n    }\n  }\n\n  return {\n    open,\n    fullWidth,\n    width\n  };\n}\n\nfunction getLayoutFromProps(props) {\n  const layout = props.layout || {};\n\n  const propertiesPanel = layout.propertiesPanel || DEFAULT_LAYOUT;\n\n  const { open, fullWidth } = propertiesPanel;\n\n  const width = open ? propertiesPanel.width : 0;\n\n  return {\n    open,\n    width,\n    fullWidth\n  };\n}\n\nfunction adjustHandlerSnapStyles(handle, context) {\n  const {\n    open,\n    fullWidth\n  } = context;\n\n  handle.classList.remove('snapped-right');\n  handle.classList.remove('snapped-left');\n\n  if (!open) {\n    handle.classList.add('snapped-right');\n  }\n\n  if (fullWidth) {\n    handle.classList.add('snapped-left');\n  }\n}\n\nfunction adjustHandlerDragStyles(handle, context) {\n\n  Object.keys(context).forEach(state => {\n\n    if (context[state]) {\n      handle.classList.add(state);\n    } else {\n      handle.classList.remove(state);\n    }\n\n  });\n}\n\nfunction getWindowWidth() {\n  return window.innerWidth;\n}\n\nfunction getMaxWidth() {\n  return getWindowWidth() * 0.8;\n}\n\nfunction getCurrentWidth(panel) {\n  return panel.getBoundingClientRect().width;\n}\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nexport function isInput(element) {\n  return (\n    element.tagName === 'TEXTAREA' ||\n    element.tagName === 'INPUT' ||\n    element.contentEditable === 'true'\n  );\n}\n\nexport function active(element) {\n  element = element || document.activeElement;\n\n  if (!element) {\n    element = document.getSelection().focusNode;\n  }\n\n  return isInput(element);\n}","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport React, { PureComponent } from 'react';\n\nimport css from './ErrorTab.less';\n\nimport {\n  TabContainer\n} from '../primitives';\n\n\nexport default class ErrorTab extends PureComponent {\n\n  triggerAction(action) {\n    if (action === 'save') {\n      return this.props.xml;\n    }\n  }\n\n  render() {\n    return (\n      <TabContainer className=\"content tab\">\n        <div className={ css.ErrorTab }>\n          <h1>\n            Ooops, this should not have happened.\n          </h1>\n          <p>\n            This tab crashed due to an unexpected error.\n          </p>\n          <p>\n            <a href=\"https://github.com/camunda/camunda-modeler/issues/new?template=BUG_REPORT.md\">\n              Report bug\n            </a>\n          </p>\n        </div>\n      </TabContainer>\n    );\n  }\n}\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport React from 'react';\n\nimport {\n  TabContainer\n} from '../primitives';\n\nimport {\n  WithCache,\n  WithCachedState,\n  CachedComponent\n} from '../cached';\n\nimport css from './MultiSheetTab.less';\nimport { Fill } from '../slot-fill';\n\n\nexport class MultiSheetTab extends CachedComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.editorRef = React.createRef();\n\n    let { sheets } = this.getCached();\n\n    if (!sheets) {\n      sheets = this.getDefaultSheets();\n\n      this.setCached({\n        sheets,\n        activeSheet: sheets[0]\n      });\n    }\n  }\n\n  /**\n   * React to current sheet provider reporting\n   * changed sheets.\n   */\n  sheetsChanged = (newSheets, newActiveSheet) => {\n    let {\n      activeSheet,\n      sheets\n    } = this.getCached();\n\n    if (!sheets) {\n      sheets = [];\n    }\n\n    const provider = activeSheet.provider;\n\n    const wiredNewSheets = newSheets.map(newSheet => {\n      return {\n        ...newSheet,\n        provider\n      };\n    });\n\n    sheets = sheets\n      .filter(sheet => sheet.provider !== provider)\n      .concat(wiredNewSheets)\n      .map(t => ({ ...t, order: t.order || 0 }))\n      .sort((a, b) => a.order - b.order);\n\n    if (newActiveSheet) {\n      activeSheet = sheets.find(s => s.id === newActiveSheet.id);\n    }\n\n    this.setCached({\n      sheets,\n      activeSheet\n    });\n  }\n\n  handleChanged = (newState = {}) => {\n    const {\n      onChanged\n    } = this.props;\n\n    const dirty = this.isDirty(newState);\n\n    onChanged({\n      ...newState,\n      dirty\n    });\n  }\n\n  handleError = (error) => {\n    const {\n      onError\n    } = this.props;\n\n    onError(error);\n  }\n\n  handleWarning = (warning) => {\n    const {\n      onWarning\n    } = this.props;\n\n    onWarning(warning);\n  }\n\n  /**\n   * Check wether or not tab is dirty.\n   *\n   * @param {Object} state - Editor state.\n   *\n   * @returns {boolean}\n   */\n  isDirty(state = {}) {\n    const { dirty } = state;\n\n    if (dirty) {\n      return true;\n    }\n\n    const { xml } = this.props;\n\n    const { lastXML } = this.getCached();\n\n    if (!lastXML) {\n      return false;\n    }\n\n    return isXMLChange(lastXML, xml);\n  }\n\n  async showImportErrorDialog(error) {\n    const {\n      onAction,\n      tab\n    } = this.props;\n\n    const {\n      name,\n      type\n    } = tab;\n\n    const { button } = await onAction('show-dialog', getErrorDialog({\n      error,\n      name,\n      type\n    }));\n\n    if (button === 'ask-in-forum') {\n      onAction('open-external-url', {\n        url: 'https://forum.camunda.org/c/modeler'\n      });\n    }\n  }\n\n  handleImport = (error, warnings) => {\n\n    if (warnings && warnings.length) {\n      warnings.forEach(warning => {\n        this.handleWarning(warning);\n      });\n\n      if (!error) {\n        this.displayImportWarningsNotification(warnings);\n      }\n    }\n\n    if (error) {\n      this.openFallback();\n\n      this.showImportErrorDialog(error);\n\n      this.handleError(error);\n    }\n  }\n\n  displayImportWarningsNotification(warnings) {\n    this.props.onAction('display-notification', {\n      type: 'warning',\n      title: `Imported with ${warnings.length} warning${warnings.length !== 1 ? 's' : ''}`,\n      content: 'See further details in the log.',\n      duration: 0\n    });\n  }\n\n  /**\n   * Open fallback sheet if provided.\n   */\n  openFallback() {\n\n    let {\n      sheets\n    } = this.getCached();\n\n    if (!sheets) {\n      sheets = this.getDefaultSheets();\n    }\n\n    const fallback = sheets.find(sheet => {\n      const {\n        provider\n      } = sheet;\n\n      return provider.isFallback;\n    });\n\n    if (fallback) {\n      this.setCached({\n        activeSheet: fallback\n      });\n    }\n  }\n\n  handleContentUpdated = xml => {\n    this.setCached({\n      lastXML: xml\n    });\n  }\n\n  handleContextMenu = (event, context) => {\n\n    const {\n      activeSheet\n    } = this.getCached();\n\n    const {\n      onContextMenu\n    } = this.props;\n\n    if (typeof onContextMenu === 'function') {\n      onContextMenu(event, activeSheet.type, context);\n    }\n\n  }\n\n  handleLayoutChanged = (newLayout) => {\n    const {\n      onLayoutChanged\n    } = this.props;\n\n    onLayoutChanged(newLayout);\n  }\n\n  triggerAction = async (action, options) => {\n\n    const editor = this.editorRef.current;\n\n    if (action === 'save') {\n      const xml = await editor.getXML();\n\n      this.setCached({\n        lastXML: xml\n      });\n\n      return xml;\n    } else if (action === 'export-as') {\n      const { fileType } = options;\n\n      return await editor.exportAs(fileType);\n    }\n\n    return editor.triggerAction(action, options);\n  }\n\n  switchSheet = async (sheet) => {\n    const {\n      activeSheet\n    } = this.getCached();\n\n    if (sheet === activeSheet) {\n      return;\n    }\n\n    if (sheet.provider === activeSheet.provider) {\n      return this.setCached({\n        activeSheet: sheet\n      });\n    }\n\n    const xml = await this.editorRef.current.getXML();\n\n    this.setCached({\n      activeSheet: sheet,\n      lastXML: xml\n    });\n\n    this.props.onAction('emit-event', {\n      type: 'tab.activeSheetChanged',\n      payload: { activeSheet: sheet }\n    });\n  }\n\n  getDefaultSheets = () => {\n    const {\n      providers\n    } = this.props;\n\n    return providers.map((provider) => {\n\n      const {\n        defaultName,\n        type\n      } = provider;\n\n      return {\n        id: type,\n        name: defaultName,\n        isDefault: true,\n        provider,\n        type\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { xml } = this.props;\n\n    if (isXMLChange(prevProps.xml, xml)) {\n      this.setCached({\n        lastXML: xml\n      });\n    }\n  }\n\n  isUnsaved = (tab) => {\n    const { file } = tab;\n\n    return file && !file.path;\n  }\n\n  onAction = (action, options) => {\n    const {\n      onAction,\n      tab\n    } = this.props;\n\n    if (action === 'close-tab') {\n      return onAction('close-tab', { tabId: tab.id });\n    }\n\n    if (action === 'lint-tab') {\n      const { contents } = options;\n\n      return onAction('lint-tab', {\n        contents,\n        tab\n      });\n    }\n\n    return onAction(action, options);\n  }\n\n  render() {\n    let {\n      activeSheet,\n      sheets,\n      lastXML\n    } = this.getCached();\n\n    let {\n      id,\n      xml,\n      layout,\n      tab\n    } = this.props;\n\n    if (!sheets) {\n      sheets = this.getDefaultSheets();\n    }\n\n    if (!activeSheet) {\n      activeSheet = sheets[0];\n    }\n\n    const Editor = activeSheet.provider.editor;\n\n    const isNew = this.isUnsaved(tab);\n\n    return (\n      <div className={ css.MultiSheetTab }>\n        <TabContainer className=\"content tab\">\n          <Editor\n            ref={ this.editorRef }\n            id={ `${id}-${activeSheet.provider.type}` }\n            xml={ lastXML || xml }\n            isNew={ isNew }\n            layout={ layout }\n            activeSheet={ activeSheet }\n            onSheetsChanged={ this.sheetsChanged }\n            onContextMenu={ this.handleContextMenu }\n            onAction={ this.onAction }\n            onChanged={ this.handleChanged }\n            onContentUpdated={ this.handleContentUpdated }\n            onError={ this.handleError }\n            onImport={ this.handleImport }\n            onLayoutChanged={ this.handleLayoutChanged }\n            onModal={ this.props.onModal }\n            getConfig={ this.props.getConfig }\n            setConfig={ this.props.setConfig }\n            getPlugins={ this.props.getPlugins }\n            onWarning={ this.handleWarning }\n            linting={ tab.linting }\n          />\n        </TabContainer>\n\n        <SheetSwitch\n          sheets={ sheets }\n          activeSheet={ activeSheet }\n          onSelect={ this.switchSheet }\n        />\n\n      </div>\n    );\n  }\n\n}\n\nexport default WithCache(WithCachedState(MultiSheetTab));\n\n\nfunction SheetSwitch(props) {\n  const {\n    sheets,\n    activeSheet,\n    onSelect\n  } = props;\n\n  if (sheets.length < 2) {\n    return null;\n  }\n\n  const fallbackProvider = sheets.map(sheet => sheet.provider)\n    .find(provider => provider.isFallback);\n  const isFallback = activeSheet.provider === fallbackProvider;\n  const switchSheet = () => onSelect(sheets.find(sheet => sheet !== activeSheet));\n\n  return (\n    <Fill slot=\"status-bar__file\" group=\"0_sheet\">\n      <button\n        className={ `btn${ isFallback ? ' btn--active' : '' }` }\n        onClick={ switchSheet }\n        title={ `Toggle ${fallbackProvider.defaultName}` }\n      >\n        { fallbackProvider.defaultName }\n      </button>\n    </Fill>\n  );\n}\n\n\n// helper //////////\n\nfunction getErrorDialog({\n  error,\n  name,\n  type\n}) {\n  return {\n    type: 'error',\n    title: 'Import Error',\n    message: 'Ooops!',\n    buttons: [ {\n      id: 'close',\n      label: 'Close'\n    }, {\n      id: 'ask-in-forum',\n      label: 'Ask in Forum'\n    } ],\n    detail: [\n      error.message,\n      '',\n      'Do you believe \"' + name + '\" is valid ' + type.toUpperCase() + ' diagram?',\n      '',\n      'Post this error with your diagram in our forum for help.'\n    ].join('\\n')\n  };\n}\n\nfunction isXMLChange(prevXML, xml) {\n  return prevXML !== xml;\n}\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport React, { PureComponent } from 'react';\n\nimport ErrorTab from './ErrorTab';\nimport MultiSheetTab from './MultiSheetTab';\n\n\nexport function createTab(tabName, providers) {\n\n  class EditorTab extends PureComponent {\n\n    static getDerivedStateFromError(error) {\n      return {\n        hasError: true\n      };\n    }\n\n    constructor(props) {\n      super(props);\n\n      this.state = {};\n\n      this.tabRef = React.createRef();\n    }\n\n    triggerAction(action, options) {\n      return this.tabRef.current.triggerAction(action, options);\n    }\n\n    componentDidCatch(error, info) {\n      this.props.onError(error, info);\n    }\n\n    componentDidMount() {\n      this.props.onShown();\n    }\n\n    render() {\n      const {\n        tab,\n        ...otherProps\n      } = this.props;\n\n      const {\n        hasError\n      } = this.state;\n\n      const Tab = hasError ? ErrorTab : MultiSheetTab;\n\n      return (\n        <Tab\n          id={ tab.id }\n          tab={ tab }\n          { ...otherProps }\n          xml={ tab.file.contents }\n          ref={ this.tabRef }\n          providers={ providers }\n        />\n      );\n    }\n\n  }\n\n  EditorTab.displayName = tabName;\n\n  return EditorTab;\n}","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PropertiesContainer.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PropertiesContainer.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PropertiesContainer.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pVOHa42lryRKQkEnU7GYd {\\n  position: relative;\\n  outline: none;\\n  background: var(--color-grey-225-10-97);\\n}\\n.pVOHa42lryRKQkEnU7GYd.open {\\n  outline: solid 1px var(--color-grey-225-10-75);\\n}\\n.pVOHa42lryRKQkEnU7GYd.open > .toggle {\\n  display: none;\\n}\\n.pVOHa42lryRKQkEnU7GYd .toggle {\\n  position: absolute;\\n  left: -23px;\\n  top: calc(50% - 31px);\\n  padding: 7px 10px;\\n  transform-origin: top left;\\n  z-index: 12;\\n  fill: var(--color-grey-225-10-85);\\n}\\n.pVOHa42lryRKQkEnU7GYd .toggle:hover {\\n  fill: var(--color-grey-225-10-75);\\n}\\n.pVOHa42lryRKQkEnU7GYd .toggle:hover + .resize-area .resize-handle {\\n  background-color: var(--color-blue-205-100-50);\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area {\\n  cursor: ew-resize;\\n  z-index: 11;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  transform: translateX(-50%);\\n  width: 16px;\\n  user-select: none;\\n  transition: 0s border;\\n  display: flex;\\n  justify-content: center;\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-right {\\n  transform: translateX(-100%);\\n  cursor: w-resize;\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-right > .resize-handle {\\n  margin-left: auto;\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-left {\\n  transform: translateX(-6px);\\n  cursor: e-resize;\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-left > .resize-handle {\\n  margin-right: auto;\\n  transform: translateX(6px);\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area:hover > .resize-handle {\\n  background-color: var(--color-blue-205-100-50);\\n  transition-delay: 200ms;\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area.dragging > .resize-handle {\\n  background-color: var(--color-blue-205-100-50);\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-area.dragging + .toggle {\\n  opacity: 0;\\n}\\n.pVOHa42lryRKQkEnU7GYd .resize-handle {\\n  width: 3px;\\n}\\n.pVOHa42lryRKQkEnU7GYd .properties-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow-y: auto;\\n}\\n.pVOHa42lryRKQkEnU7GYd .bio-properties-panel {\\n  --font-family: inherit;\\n  --font-family-monospace: inherit;\\n  background: var(--color-white);\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"PropertiesContainer\": \"pVOHa42lryRKQkEnU7GYd\"\n};","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport canvg from 'canvg-browser';\r\n\r\n// list of defined encodings\r\nconst ENCODINGS = [\r\n  'image/png',\r\n  'image/jpeg'\r\n];\r\n\r\nconst INITIAL_SCALE = 3;\r\nconst FINAL_SCALE = 1;\r\nconst SCALE_STEP = 1;\r\n\r\nconst DATA_URL_REGEX = /^data:((?:\\w+\\/(?:(?!;).)+)?)((?:;[\\w\\W]*?[^;])*),(.+)$/;\r\n\r\n\r\nexport default function generateImage(type, svg) {\r\n  const encoding = 'image/' + type;\r\n\r\n  if (ENCODINGS.indexOf(encoding) === -1) {\r\n    throw new Error('<' + type + '> is an unknown type for converting svg to image');\r\n  }\r\n\r\n  const initialSVG = svg;\r\n\r\n  let dataURL = '';\r\n\r\n  for (let scale = INITIAL_SCALE; scale >= FINAL_SCALE; scale -= SCALE_STEP) {\r\n\r\n    let canvas = document.createElement('canvas');\r\n\r\n    svg = initialSVG.replace(/width=\"([^\"]+)\" height=\"([^\"]+)\"/, function(_, widthStr, heightStr) {\r\n      return `width=\"${parseInt(widthStr, 10) * scale}\" height=\"${parseInt(heightStr, 10) * scale}\"`;\r\n    });\r\n\r\n    canvg(canvas, svg);\r\n\r\n    // make the background white for every format\r\n    let context = canvas.getContext('2d');\r\n\r\n    context.globalCompositeOperation = 'destination-over';\r\n    context.fillStyle = 'white';\r\n\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n    dataURL = canvas.toDataURL(encoding);\r\n\r\n    if (DATA_URL_REGEX.test(dataURL)) {\r\n      return dataURL;\r\n    }\r\n  }\r\n\r\n  throw new Error('Error happened generating image. Diagram size is too big.');\r\n}\r\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./XMLEditor.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./XMLEditor.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./XMLEditor.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"._1ChtJhegF-Ztl9BVDqk_y9 {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: row;\\n  overflow: auto;\\n}\\n._1ChtJhegF-Ztl9BVDqk_y9 .content {\\n  flex: 1;\\n  position: relative;\\n}\\n._1ChtJhegF-Ztl9BVDqk_y9 .CodeMirror {\\n  height: 100%;\\n  font-size: 13px;\\n  font-family: var(--font-family-monospace);\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"XMLEditor\": \"_1ChtJhegF-Ztl9BVDqk_y9\"\n};","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ErrorTab.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ErrorTab.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ErrorTab.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"._2k62kv7m_TXPihE3sHxqHw {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n  flex: 1;\\n}\\n._2k62kv7m_TXPihE3sHxqHw h1 {\\n  font-size: 36px;\\n  font-weight: normal;\\n  color: var(--color-grey-225-10-15);\\n}\\n._2k62kv7m_TXPihE3sHxqHw p {\\n  font-size: 16px;\\n  max-width: 60%;\\n  text-align: justify;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"ErrorTab\": \"_2k62kv7m_TXPihE3sHxqHw\"\n};","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./MultiSheetTab.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./MultiSheetTab.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./MultiSheetTab.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"._1VwBlzHvgd7iFQohndhgcr {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  border: none;\\n}\\n._1VwBlzHvgd7iFQohndhgcr > .links {\\n  flex: initial;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"MultiSheetTab\": \"_1VwBlzHvgd7iFQohndhgcr\"\n};","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport React from 'react';\n\nimport {\n  WithCache,\n  WithCachedState,\n  CachedComponent\n} from '../../cached';\n\nimport CodeMirror from './CodeMirror';\n\nimport css from './XMLEditor.less';\n\nimport { getXMLEditMenu } from './getXMLEditMenu';\n\nimport getXMLWindowMenu from './getXMLWindowMenu';\n\nimport {\n  isString\n} from 'min-dash';\n\n\nexport class XMLEditor extends CachedComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n\n    this.ref = React.createRef();\n  }\n\n  componentDidMount() {\n    const {\n      editor\n    } = this.getCached();\n\n    editor.attachTo(this.ref.current);\n\n    editor.on('change', this.handleChanged);\n\n    this.handleChanged();\n\n    this.checkImport();\n  }\n\n  componentWillUnmount() {\n    const {\n      editor\n    } = this.getCached();\n\n    editor.detach();\n\n    editor.off('change', this.handleChanged);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (isXMLChange(prevProps.xml, this.props.xml)) {\n      this.checkImport();\n    }\n\n    if (isChachedStateChange(prevProps, this.props)) {\n      this.handleChanged();\n    }\n  }\n\n  triggerAction(action) {\n    const {\n      editor\n    } = this.getCached();\n\n    if (action === 'undo') {\n      editor.doc.undo();\n    }\n\n    if (action === 'redo') {\n      editor.doc.redo();\n    }\n\n    if (action === 'find') {\n      editor.execCommand('findPersistent');\n    }\n\n    if (action === 'findNext') {\n      editor.execCommand('findNext');\n    }\n\n    if (action === 'findPrev') {\n      editor.execCommand('findPrev');\n    }\n\n    if (action === 'replace') {\n      editor.execCommand('replace');\n    }\n  }\n\n  checkImport() {\n    const { xml } = this.props;\n\n    const {\n      editor,\n      lastXML\n    } = this.getCached();\n\n    if (isXMLChange(lastXML, xml)) {\n      editor.importXML(xml);\n\n      const stackIdx = editor._stackIdx;\n\n      this.setCached({\n        lastXML: xml,\n        stackIdx\n      });\n    }\n\n    editor.refresh();\n  }\n\n  isDirty() {\n    const {\n      editor,\n      stackIdx\n    } = this.getCached();\n\n    return editor._stackIdx !== stackIdx;\n  }\n\n  handleChanged = () => {\n    const {\n      onChanged\n    } = this.props;\n\n    const {\n      editor\n    } = this.getCached();\n\n    const history = editor.doc.historySize();\n\n    const editMenu = getXMLEditMenu({\n      canRedo: !!history.redo,\n      canUndo: !!history.undo\n    });\n\n    const dirty = this.isDirty();\n\n    const newState = {\n      canExport: false,\n      dirty,\n      redo: !!history.redo,\n      undo: !!history.undo\n    };\n\n    // ensure backwards compatibility\n    // https://github.com/camunda/camunda-modeler/commit/78357e3ed9e6e0255ac8225fbdf451a90457e8bf#diff-bd5be70c4e5eadf1a316c16085a72f0fL17\n    newState.editable = true;\n    newState.searchable = true;\n\n    const windowMenu = getXMLWindowMenu();\n\n    if (typeof onChanged === 'function') {\n      onChanged({\n        ...newState,\n        editMenu,\n        windowMenu\n      });\n    }\n\n    this.setState({\n      ...newState\n    });\n  }\n\n  getXML() {\n    const {\n      editor\n    } = this.getCached();\n\n    const stackIdx = editor._stackIdx;\n\n    const xml = editor.getValue();\n\n    this.setCached({\n      lastXML: xml,\n      stackIdx\n    });\n\n    return xml;\n  }\n\n  render() {\n    return (\n      <div className={ css.XMLEditor }>\n        <div className=\"content\" ref={ this.ref }></div>\n      </div>\n    );\n  }\n\n  static createCachedState() {\n\n    const editor = CodeMirror();\n\n    const stackIdx = editor._stackIdx;\n\n    return {\n      __destroy: () => {\n        editor.destroy();\n      },\n      editor,\n      lastXML: null,\n      stackIdx\n    };\n  }\n\n}\n\nexport default WithCache(WithCachedState(XMLEditor));\n\n// helpers //////////\n\nfunction isXMLChange(prevXML, xml) {\n  return trim(prevXML) !== trim(xml);\n}\n\nfunction trim(string) {\n  if (isString(string)) {\n    return string.trim();\n  }\n\n  return string;\n}\n\nfunction isChachedStateChange(prevProps, props) {\n  return prevProps.cachedState !== props.cachedState;\n}","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport {\n  getUndoRedoEntries\n} from '../getEditMenu';\n\nfunction getXMLFindEntries() {\n  return [ {\n    label: 'Find',\n    accelerator: 'CommandOrControl+F',\n    action: 'find'\n  }, {\n    label: 'Find Next',\n    accelerator: 'Shift+CommandOrControl+N',\n    action: 'findNext'\n  }, {\n    label: 'Find Previous',\n    accelerator: 'Shift+CommandOrControl+P',\n    action: 'findPrev'\n  }, {\n    label: 'Replace',\n    accelerator: 'Shift+CommandOrControl+F',\n    action: 'replace'\n  } ];\n}\n\nfunction getXMLCopyCutPasteEntries() {\n  return [\n    {\n      label: 'Cut',\n      accelerator: 'CmdOrCtrl+X',\n      role: 'cut'\n    },\n    {\n      label: 'Copy',\n      accelerator: 'CmdOrCtrl+C',\n      role: 'copy'\n    },\n    {\n      label: 'Paste',\n      accelerator: 'CmdOrCtrl+V',\n      role: 'paste'\n    }\n  ];\n}\n\nexport function getXMLEditMenu(state) {\n  return [\n    getUndoRedoEntries(state),\n    getXMLCopyCutPasteEntries(),\n    getXMLFindEntries()\n  ];\n}\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nexport default function getXMLWindowMenu() {\n  return [];\n}","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport CodeMirror from 'codemirror';\n\n// xml syntax highlighting\nimport 'codemirror/mode/xml/xml';\n\n// auto close tags\nimport 'codemirror/addon/fold/xml-fold';\nimport 'codemirror/addon/edit/closetag';\n\n// search addons\nimport 'codemirror/addon/search/search';\nimport 'codemirror/addon/search/searchcursor';\n\nimport 'codemirror/addon/dialog/dialog';\n\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/addon/dialog/dialog.css';\n\n\n/**\n * Create a code mirror instance with an editor API.\n *\n * @param  {Object} options\n * @return {CodeMirror}\n */\nexport default function create(options) {\n\n  var el = this;\n\n  var instance = CodeMirror(function(_el) {\n    el = _el;\n  }, {\n    autoCloseTags: true,\n    dragDrop: true,\n    allowDropFileTypes: [ 'text/plain' ],\n    lineWrapping: true,\n    lineNumbers: true,\n    mode: {\n      name: 'application/xml',\n      htmlMode: false\n    },\n    tabSize: 2\n  });\n\n  instance.attachTo = function(parentNode) {\n    parentNode.appendChild(el);\n\n    this.refresh();\n  };\n\n  instance.detach = function() {\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n  };\n\n  instance.importXML = function(xml) {\n    this.setValue(xml);\n\n    this.doc.clearHistory();\n  };\n\n  instance.destroy = function() { };\n\n  Object.defineProperty(instance, '_stackIdx', {\n    get() {\n      return this.doc.historySize().undo;\n    }\n  });\n\n  return instance;\n}","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nexport { default } from './XMLEditor';\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nexport default function CompleteDirectEditing(editorActions, injector) {\n  editorActions.register('saveTab.start', function() {\n    var directEditing = injector.get('directEditing', false);\n\n    if (directEditing && directEditing.isActive()) {\n      directEditing.complete();\n    }\n  });\n}\n\nCompleteDirectEditing.$inject = [\n  'editorActions',\n  'injector'\n];\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport CompleteDirectEditing from './CompleteDirectEditing.js';\n\nexport default {\n  __init__: [\n    'completeDirectEditing'\n  ],\n  completeDirectEditing: [ 'type', CompleteDirectEditing ]\n};\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport {\r\n  isCmd as isCommandOrControl,\r\n  isKey,\r\n  isShift\r\n} from 'diagram-js/lib/features/keyboard/KeyboardUtil';\r\n\r\n\r\nexport default class PropertiesPanelKeyboardBindings {\r\n  constructor(commandStack, eventBus, propertiesPanel) {\r\n    this._commandStack = commandStack;\r\n    this._eventBus = eventBus;\r\n    this._propertiesPanel = propertiesPanel;\r\n\r\n    eventBus.on('propertiesPanel.attach', this._addEventListeners);\r\n\r\n    eventBus.on('propertiesPanel.detach', this._removeEventListeners);\r\n  }\r\n\r\n  _addEventListeners = () => {\r\n    const container = this._getContainer();\r\n\r\n    container.addEventListener('focusin', this.handleFocusin);\r\n    container.addEventListener('focusout', this.handleFocusout);\r\n    container.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  _removeEventListeners = () => {\r\n    const container = this._getContainer();\r\n\r\n    container.removeEventListener('focusin', this.handleFocusin);\r\n    container.removeEventListener('focusout', this.handleFocusout);\r\n    container.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleFocusin = () => {\r\n    this._eventBus.fire('propertiesPanel.focusin');\r\n  }\r\n\r\n  handleFocusout = () => {\r\n    this._eventBus.fire('propertiesPanel.focusout');\r\n  }\r\n\r\n  handleKeydown = event => {\r\n    const commandStack = this._commandStack;\r\n\r\n    if (isUndo(event)) {\r\n      commandStack.canUndo() && commandStack.undo();\r\n\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (isRedo(event)) {\r\n      commandStack.canRedo() && commandStack.redo();\r\n\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  _getContainer() {\r\n    return this._propertiesPanel._container;\r\n  }\r\n}\r\n\r\nPropertiesPanelKeyboardBindings.$inject = [ 'commandStack', 'eventBus', 'propertiesPanel' ];\r\n\r\n// helpers //////////\r\n\r\nfunction isUndo(event) {\r\n  return isCommandOrControl(event) && !isShift(event) && isKey([ 'z', 'Z' ], event);\r\n}\r\n\r\nfunction isRedo(event) {\r\n  return isCommandOrControl(event) && (isKey([ 'y', 'Y' ], event) || (isKey([ 'z', 'Z' ], event) && isShift(event)));\r\n}","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport PropertiesPanelKeyboardBindings from './PropertiesPanelKeyoardBindings';\r\n\r\nexport default {\r\n  __init__: [ 'propertiesPanelKeyboardBindings' ],\r\n  propertiesPanelKeyboardBindings: [ 'type', PropertiesPanelKeyboardBindings ]\r\n};","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./OverviewContainer.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./OverviewContainer.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./OverviewContainer.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".KmMTZSKn_rFM2wpaZW72K {\\n  margin: 0 10px 10px 10px;\\n  position: relative;\\n  background-color: var(--color-grey-225-10-97);\\n  border: solid 1px var(--color-grey-225-10-75);\\n  border-radius: 3px;\\n}\\n.KmMTZSKn_rFM2wpaZW72K:not(.open) {\\n  width: 0;\\n  visibility: hidden;\\n  margin-right: 0;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .resize-handle {\\n  cursor: ew-resize;\\n  z-index: 11;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  right: -3px;\\n  width: 6px;\\n  user-select: none;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .toggle {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  z-index: 11;\\n  opacity: 0.5;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .toggle:before {\\n  content: '\\\\E80A';\\n  font-family: 'app';\\n  font-size: 14px;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .toggle:hover {\\n  opacity: 1;\\n  color: var(--color-blue-205-100-45);\\n}\\n.KmMTZSKn_rFM2wpaZW72K .overview-container {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element .djs-outline {\\n  display: none;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.open .djs-visual rect,\\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.can-open:hover .djs-visual rect {\\n  stroke: var(--color-blue-205-100-50) !important;\\n  fill: var(--color-blue-205-100-95) !important;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.open .djs-visual text,\\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.can-open:hover .djs-visual text {\\n  fill: var(--color-blue-205-100-50) !important;\\n}\\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-overlay .drill-down-overlay {\\n  color: var(--color-grey-225-10-15);\\n  background: transparent;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"OverviewContainer\": \"KmMTZSKn_rFM2wpaZW72K\"\n};","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./DmnEditor.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./DmnEditor.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!./DmnEditor.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"._2aFR7jbykokuW2p96jM1_s {\\n  display: flex;\\n  flex: 1;\\n  overflow: hidden;\\n  flex-direction: column;\\n  /**\\n   * Fix properties tabbing\\n   */\\n}\\n._2aFR7jbykokuW2p96jM1_s .dmn-drd-container {\\n  --drd-font-family-monospace: var(--font-family-monospace);\\n}\\n._2aFR7jbykokuW2p96jM1_s .dmn-decision-table-container {\\n  --decision-table-font-family: var(--font-family);\\n}\\n._2aFR7jbykokuW2p96jM1_s .dmn-literal-expression-container {\\n  --literal-expression-font-family: var(--font-family);\\n  --literal-expression-font-family-monospace: var(--font-family-monospace);\\n}\\n._2aFR7jbykokuW2p96jM1_s :not(.top) + .bottom .dmn-decision-table-container,\\n._2aFR7jbykokuW2p96jM1_s :not(.top) + .bottom .dmn-literal-expression-container {\\n  display: none;\\n}\\n._2aFR7jbykokuW2p96jM1_s > .top {\\n  padding: 10px;\\n}\\n._2aFR7jbykokuW2p96jM1_s > .top .button {\\n  background: var(--color-white);\\n  padding: 8px;\\n  border: solid 1px var(--color-grey-225-10-75);\\n  border-radius: 2px;\\n  font-size: 14px;\\n  color: var(--color-grey-225-10-15);\\n  font-weight: bold;\\n  font-family: inherit;\\n  outline: none;\\n  margin-right: 10px;\\n}\\n._2aFR7jbykokuW2p96jM1_s > .top .button:last-child {\\n  margin-right: 0;\\n}\\n._2aFR7jbykokuW2p96jM1_s > .top .button:hover {\\n  background-color: var(--color-grey-225-10-97);\\n}\\n._2aFR7jbykokuW2p96jM1_s > .bottom {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: row;\\n}\\n._2aFR7jbykokuW2p96jM1_s .diagram {\\n  flex: 1;\\n  position: relative;\\n}\\n._2aFR7jbykokuW2p96jM1_s .diagram:not(.drd) {\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n}\\n._2aFR7jbykokuW2p96jM1_s .djs-overlay .drill-down-overlay {\\n  padding: 0px 5px 2px;\\n}\\n._2aFR7jbykokuW2p96jM1_s .djs-container > .dmn-definitions {\\n  display: none;\\n}\\n._2aFR7jbykokuW2p96jM1_s .properties {\\n  flex: none;\\n}\\n._2aFR7jbykokuW2p96jM1_s .properties .toggle {\\n  top: 350px;\\n}\\n._2aFR7jbykokuW2p96jM1_s .bpp-properties-tabs-links > .bpp-active a {\\n  position: relative;\\n}\\n._2aFR7jbykokuW2p96jM1_s .bpp-properties-tabs-links > .bpp-active a:before {\\n  content: '';\\n  z-index: 5;\\n  bottom: -2px;\\n  left: 0;\\n  right: 0;\\n  border-bottom: solid 3px var(--color-grey-225-10-95);\\n  position: absolute;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"DmnEditor\": \"_2aFR7jbykokuW2p96jM1_s\"\n};","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport React, { PureComponent } from 'react';\r\n\r\nimport classNames from 'classnames';\r\n\r\nimport { isFunction } from 'min-dash';\r\n\r\nimport dragger from '../../../util/dom/dragger';\r\n\r\nimport css from './OverviewContainer.less';\r\n\r\nimport { throttle } from '../../../util';\r\n\r\nexport const DEFAULT_LAYOUT = {\r\n  open: true,\r\n  width: 350\r\n};\r\n\r\nexport const MIN_WIDTH = 150;\r\nexport const MAX_WIDTH = 650;\r\n\r\n/**\r\n * Container for DMN overview that can be resized and toggled.\r\n */\r\nclass OverviewContainerWrapped extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleResize = throttle(this.handleResize);\r\n\r\n    this.ref = new React.createRef();\r\n\r\n    this.context = {};\r\n  }\r\n\r\n  handleResizeStart = event => {\r\n    const onDragStart = dragger(this.handleResize);\r\n\r\n    onDragStart(event);\r\n\r\n    const {\r\n      open,\r\n      width\r\n    } = getLayoutFromProps(this.props);\r\n\r\n    this.context = {\r\n      open,\r\n      startWidth: width\r\n    };\r\n  }\r\n\r\n  handleResize = (_, delta) => {\r\n    const { x: dx } = delta;\r\n\r\n    if (dx === 0) {\r\n      return;\r\n    }\r\n\r\n    const { startWidth } = this.context;\r\n\r\n    const {\r\n      open,\r\n      width\r\n    } = getLayout(dx, startWidth);\r\n\r\n    this.context = {\r\n      ...this.context,\r\n      open,\r\n      width\r\n    };\r\n\r\n    if (this.ref.current) {\r\n      this.ref.current.classList.toggle('open', open);\r\n      this.ref.current.style.width = `${ open ? width : 0 }px`;\r\n    }\r\n  }\r\n\r\n  handleResizeEnd = () => {\r\n    const {\r\n      open,\r\n      width\r\n    } = this.context;\r\n\r\n    this.context = {};\r\n\r\n    this.changeLayout({\r\n      dmnOverview: {\r\n        open,\r\n        width\r\n      }\r\n    });\r\n  }\r\n\r\n  handleToggle = () => {\r\n    const { layout } = this.props || {};\r\n\r\n    const dmnOverview = layout.dmnOverview || DEFAULT_LAYOUT;\r\n\r\n    this.changeLayout({\r\n      dmnOverview: {\r\n        ...dmnOverview,\r\n        open: false\r\n      }\r\n    });\r\n  }\r\n\r\n  changeLayout = (layout = {}) => {\r\n    const { onLayoutChanged } = this.props;\r\n\r\n    if (isFunction(onLayoutChanged)) {\r\n      onLayoutChanged(layout);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      forwardedRef\r\n    } = this.props;\r\n\r\n    const {\r\n      open,\r\n      width\r\n    } = getLayoutFromProps(this.props);\r\n\r\n    return (\r\n      <div\r\n        ref={ this.ref }\r\n        className={ classNames(\r\n          css.OverviewContainer,\r\n          className,\r\n          { open }\r\n        ) }\r\n        style={ { width } }>\r\n        {\r\n          open &&\r\n            <div\r\n              className=\"resize-handle\"\r\n              draggable\r\n              onDragStart={ this.handleResizeStart }\r\n              onDragEnd={ this.handleResizeEnd }\r\n            ></div>\r\n        }\r\n        {\r\n          open &&\r\n            <div\r\n              className=\"toggle\"\r\n              onClick={ this.handleToggle }\r\n            ></div>\r\n        }\r\n        <div className=\"overview-container\" ref={ forwardedRef }></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.forwardRef(\r\n  function OverviewContainer(props, ref) {\r\n    return <OverviewContainerWrapped { ...props } forwardedRef={ ref } />;\r\n  }\r\n);\r\n\r\n// helpers //////////\r\n\r\nfunction getLayout(dx, initialWidth) {\r\n  let width = Math.min(initialWidth + dx, MAX_WIDTH);\r\n\r\n  const open = width >= MIN_WIDTH;\r\n\r\n  if (!open) {\r\n    width = DEFAULT_LAYOUT.width;\r\n  }\r\n\r\n  return {\r\n    open,\r\n    width\r\n  };\r\n}\r\n\r\nfunction getLayoutFromProps(props) {\r\n  const layout = props.layout || {};\r\n\r\n  const dmnOverview = layout.dmnOverview || DEFAULT_LAYOUT;\r\n\r\n  const { open } = dmnOverview;\r\n\r\n  const width = open ? dmnOverview.width : 0;\r\n\r\n  return {\r\n    open,\r\n    width\r\n  };\r\n}","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport Manager from 'dmn-js-shared/lib/base/Manager';\r\n\r\nimport NavigatedDrdViewer from 'dmn-js-drd/lib/NavigatedViewer';\r\n\r\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\r\nimport { containsDi } from 'dmn-js-shared/lib/util/DiUtil';\r\n\r\n\r\n/**\r\n * DRD-only viewer.\r\n */\r\nexport default class DrdViewer extends Manager {\r\n  _getViewProviders() {\r\n    return [\r\n      {\r\n        id: 'drd',\r\n        constructor: NavigatedDrdViewer,\r\n        opens(element) {\r\n          return is(element, 'dmn:Definitions') && containsDi(element);\r\n        }\r\n      }\r\n    ];\r\n  }\r\n}","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport { inherits } from 'util';\n\nimport Keyboard from 'dmn-js-decision-table/lib/features/keyboard/Keyboard';\n\n\nexport default function DecisionTableKeyboard(injector, decisionTable) {\n  injector.invoke(Keyboard, this, { 'config.keyboard': getKeyboardConfig(decisionTable) });\n}\n\ninherits(DecisionTableKeyboard, Keyboard);\n\nDecisionTableKeyboard.$inject = [\n  'injector',\n  'decisionTable'\n];\n\nfunction getKeyboardConfig(decisionTable) {\n  return {\n    get bindTo() {\n      return decisionTable._container;\n    }\n  };\n}\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport EditorActions from 'dmn-js-decision-table/lib/features/editor-actions';\n\nimport DecisionTableKeyboard from './DecisionTableKeyboard';\n\n\nexport default {\n  __depends__: [\n    EditorActions\n  ],\n  __init__: [\n    'keyboard'\n  ],\n  keyboard: [ 'type', DecisionTableKeyboard ]\n};","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport { getBBox } from 'diagram-js/lib/util/Elements';\r\n\r\nconst CAN_OPEN_DRG_ELEMENT_MARKER = 'can-open',\r\n      CURRENT_OPEN_DRG_ELEMENT_MARKER = 'open';\r\n\r\n\r\nexport default class OpenDrgElement {\r\n  constructor(canvas, elementRegistry, eventBus) {\r\n    this._canvas = canvas;\r\n\r\n    let currentOpenDrgElementId;\r\n\r\n    eventBus.on('import.done', () => {\r\n      elementRegistry.forEach(element => {\r\n        if (this.canOpenDrgElement(element)) {\r\n          canvas.addMarker(element, CAN_OPEN_DRG_ELEMENT_MARKER);\r\n        }\r\n      });\r\n\r\n      if (currentOpenDrgElementId) {\r\n        const currentOpenDrgElement = elementRegistry.get(currentOpenDrgElementId);\r\n\r\n        if (currentOpenDrgElement) {\r\n          canvas.addMarker(currentOpenDrgElement, CURRENT_OPEN_DRG_ELEMENT_MARKER);\r\n        }\r\n      }\r\n    });\r\n\r\n    eventBus.on('overviewOpen', () => {\r\n      if (currentOpenDrgElementId) {\r\n        const currentOpenDrgElement = elementRegistry.get(currentOpenDrgElementId);\r\n\r\n        if (currentOpenDrgElement) {\r\n          this.centerViewbox(currentOpenDrgElement);\r\n        }\r\n      }\r\n    });\r\n\r\n    // highlight open DRG element and optionally center viewbox around it\r\n    eventBus.on('drgElementOpened', ({ id }) => {\r\n      let currentOpenDrgElement;\r\n\r\n      // (1) remove hightlight from previously open DRG element\r\n      if (currentOpenDrgElementId) {\r\n        currentOpenDrgElement = elementRegistry.get(currentOpenDrgElementId);\r\n\r\n        if (currentOpenDrgElement) {\r\n          canvas.removeMarker(currentOpenDrgElement, CURRENT_OPEN_DRG_ELEMENT_MARKER);\r\n        }\r\n      }\r\n\r\n      currentOpenDrgElementId = id;\r\n\r\n      currentOpenDrgElement = elementRegistry.get(currentOpenDrgElementId);\r\n\r\n      // (2) add highlight to open DRG element\r\n      if (currentOpenDrgElement) {\r\n        canvas.addMarker(currentOpenDrgElement, CURRENT_OPEN_DRG_ELEMENT_MARKER);\r\n      }\r\n    });\r\n\r\n    // open DRG element on click\r\n    eventBus.on('element.click', ({ element }) => {\r\n      if (!this.canOpenDrgElement(element)) {\r\n        return;\r\n      }\r\n\r\n      const { id } = element;\r\n\r\n      eventBus.fire('openDrgElement', {\r\n        id\r\n      });\r\n    });\r\n  }\r\n\r\n  canOpenDrgElement = (element) => {\r\n    const { businessObject } = element;\r\n\r\n    const hasDecisionLogic = !!businessObject.decisionLogic;\r\n\r\n    return isAny(element, [ 'dmn:Decision', 'dmn:LiteralExpression' ]) && hasDecisionLogic;\r\n  }\r\n\r\n  centerViewbox = element => {\r\n    const viewbox = this._canvas.viewbox();\r\n\r\n    const bBox = getBBox(element);\r\n\r\n    const newViewbox = {\r\n      x: (bBox.x + bBox.width / 2) - viewbox.outer.width / 2,\r\n      y: (bBox.y + bBox.height / 2) - viewbox.outer.height / 2,\r\n      width: viewbox.outer.width,\r\n      height: viewbox.outer.height\r\n    };\r\n\r\n    this._canvas.viewbox(newViewbox);\r\n\r\n    this._canvas.zoom(viewbox.scale);\r\n  }\r\n}\r\n\r\nOpenDrgElement.$inject = [\r\n  'canvas',\r\n  'elementRegistry',\r\n  'eventBus'\r\n];","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport OpenDrgElement from './OpenDrgElement';\r\n\r\nexport default {\r\n  __init__: [\r\n    'openDrgElement'\r\n  ],\r\n  openDrgElement: [ 'type', OpenDrgElement ]\r\n};","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport inherits from 'inherits';\r\n\r\nimport {\r\n  isArray,\r\n  isObject,\r\n  assign\r\n} from 'min-dash';\r\n\r\nimport {\r\n  attr as domAttr,\r\n  query as domQuery\r\n} from 'min-dom';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  create as svgCreate\r\n} from 'tiny-svg';\r\n\r\nimport BaseRenderer from 'diagram-js/lib/draw/BaseRenderer';\r\n\r\nimport {\r\n  createLine\r\n} from 'diagram-js/lib/util/RenderUtil';\r\n\r\nimport {\r\n  is,\r\n  getName\r\n} from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nconst DEFAULT_FILL_COLOR = '#fafafa',\r\n      DEFAULT_STROKE_COLOR = '#666',\r\n      DECISION_STROKE_COLOR = '#000';\r\n\r\n\r\nexport default function DrdRenderer(eventBus, pathMap, styles, textRenderer) {\r\n\r\n  BaseRenderer.call(this, eventBus);\r\n\r\n  var markers = {};\r\n\r\n  function addMarker(id, element) {\r\n    markers[id] = element;\r\n  }\r\n\r\n  function marker(id) {\r\n    var marker = markers[id];\r\n\r\n    return 'url(#' + marker.id + ')';\r\n  }\r\n\r\n  function initMarkers(svg) {\r\n\r\n    function createMarker(id, options) {\r\n      var attrs = assign({\r\n        strokeWidth: 1,\r\n        strokeLinecap: 'round',\r\n        strokeDasharray: 'none',\r\n        fill: DEFAULT_STROKE_COLOR\r\n      }, options.attrs);\r\n\r\n      var ref = options.ref || { x: 0, y: 0 };\r\n\r\n      var scale = options.scale || 1;\r\n\r\n      // fix for safari / chrome / firefox bug not correctly\r\n      // resetting stroke dash array\r\n      if (attrs.strokeDasharray === 'none') {\r\n        attrs.strokeDasharray = [ 10000, 1 ];\r\n      }\r\n\r\n      var marker = svgCreate('marker');\r\n\r\n      svgAttr(options.element, attrs);\r\n\r\n      svgAppend(marker, options.element);\r\n\r\n      svgAttr(marker, {\r\n        id: id,\r\n        viewBox: '0 0 20 20',\r\n        refX: ref.x,\r\n        refY: ref.y,\r\n        markerWidth: 20 * scale,\r\n        markerHeight: 20 * scale,\r\n        orient: 'auto'\r\n      });\r\n\r\n      var defs = domQuery('defs', svg);\r\n\r\n      if (!defs) {\r\n        defs = svgCreate('defs');\r\n\r\n        svgAppend(svg, defs);\r\n      }\r\n\r\n      svgAppend(defs, marker);\r\n\r\n      return addMarker(id, marker);\r\n    }\r\n\r\n    var associationStart = svgCreate('path');\r\n    svgAttr(associationStart, { d: 'M 11 5 L 1 10 L 11 15' });\r\n\r\n    createMarker('association-start', {\r\n      element: associationStart,\r\n      attrs: {\r\n        fill: 'none',\r\n        stroke: DEFAULT_STROKE_COLOR,\r\n        strokeWidth: 1.5\r\n      },\r\n      ref: { x: 1, y: 10 },\r\n      scale: 0.5\r\n    });\r\n\r\n    var associationEnd = svgCreate('path');\r\n    svgAttr(associationEnd, { d: 'M 1 5 L 11 10 L 1 15' });\r\n\r\n    createMarker('association-end', {\r\n      element: associationEnd,\r\n      attrs: {\r\n        fill: 'none',\r\n        stroke: DEFAULT_STROKE_COLOR,\r\n        strokeWidth: 1.5\r\n      },\r\n      ref: { x: 12, y: 10 },\r\n      scale: 0.5\r\n    });\r\n\r\n    var informationRequirementEnd = svgCreate('path');\r\n    svgAttr(informationRequirementEnd, { d: 'M 1 5 L 11 10 L 1 15 Z' });\r\n\r\n    createMarker('information-requirement-end', {\r\n      element: informationRequirementEnd,\r\n      ref: { x: 11, y: 10 },\r\n      scale: 1\r\n    });\r\n\r\n    var knowledgeRequirementEnd = svgCreate('path');\r\n    svgAttr(knowledgeRequirementEnd, { d: 'M 1 3 L 11 10 L 1 17' });\r\n\r\n    createMarker('knowledge-requirement-end', {\r\n      element: knowledgeRequirementEnd,\r\n      attrs: {\r\n        fill: 'none',\r\n        stroke: DEFAULT_STROKE_COLOR,\r\n        strokeWidth: 2\r\n      },\r\n      ref: { x: 11, y: 10 },\r\n      scale: 0.8\r\n    });\r\n\r\n    var authorityRequirementEnd = svgCreate('circle');\r\n    svgAttr(authorityRequirementEnd, { cx: 3, cy: 3, r: 3 });\r\n\r\n    createMarker('authority-requirement-end', {\r\n      element: authorityRequirementEnd,\r\n      ref: { x: 3, y: 3 },\r\n      scale: 0.9\r\n    });\r\n  }\r\n\r\n  function computeStyle(custom, traits, defaultStyles) {\r\n    if (!isArray(traits)) {\r\n      defaultStyles = traits;\r\n      traits = [];\r\n    }\r\n\r\n    return styles.style(traits || [], assign(defaultStyles, custom || {}));\r\n  }\r\n\r\n\r\n  function drawRect(p, width, height, r, offset, attrs) {\r\n\r\n    if (isObject(offset)) {\r\n      attrs = offset;\r\n      offset = 0;\r\n    }\r\n\r\n    offset = offset || 0;\r\n\r\n    attrs = computeStyle(attrs, {\r\n      stroke: DEFAULT_STROKE_COLOR,\r\n      strokeWidth: 2,\r\n      fill: DEFAULT_FILL_COLOR\r\n    });\r\n\r\n    var rect = svgCreate('rect');\r\n    svgAttr(rect, {\r\n      x: offset,\r\n      y: offset,\r\n      width: width - offset * 2,\r\n      height: height - offset * 2,\r\n      rx: r,\r\n      ry: r\r\n    });\r\n    svgAttr(rect, attrs);\r\n\r\n    svgAppend(p, rect);\r\n\r\n    return rect;\r\n  }\r\n\r\n  function renderLabel(p, label, options) {\r\n    var text = textRenderer.createText(label || '', assign({ style: { fill: DEFAULT_STROKE_COLOR } }, options || {}));\r\n\r\n    domAttr(text, 'class', 'djs-label');\r\n\r\n    svgAppend(p, text);\r\n\r\n    return text;\r\n  }\r\n\r\n  function renderEmbeddedLabel(p, element, options) {\r\n    var name = getName(element);\r\n    return renderLabel(p, name, assign({ box: element, padding: 5 }, options || {}));\r\n  }\r\n\r\n  function drawPath(p, d, attrs) {\r\n\r\n    attrs = computeStyle(attrs, [ 'no-fill' ], {\r\n      strokeWidth: 2,\r\n      stroke: DEFAULT_STROKE_COLOR\r\n    });\r\n\r\n    var path = svgCreate('path');\r\n    svgAttr(path, { d: d });\r\n    svgAttr(path, attrs);\r\n\r\n    svgAppend(p, path);\r\n\r\n    return path;\r\n  }\r\n\r\n\r\n  var handlers = {\r\n    'dmn:Decision': function(p, element, attrs) {\r\n      attrs = attrs || {};\r\n\r\n      const { businessObject } = element;\r\n\r\n      const { decisionLogic } = businessObject;\r\n\r\n      if (decisionLogic) {\r\n        attrs.stroke = DECISION_STROKE_COLOR;\r\n      }\r\n\r\n      var rect = drawRect(p, element.width, element.height, 0, attrs);\r\n\r\n      renderEmbeddedLabel(p, element, { align: 'center-middle', style: { fill: attrs.stroke } });\r\n\r\n      return rect;\r\n    },\r\n    'dmn:KnowledgeSource': function(p, element, attrs) {\r\n\r\n      var pathData = pathMap.getScaledPath('KNOWLEDGE_SOURCE', {\r\n        xScaleFactor: 1.021,\r\n        yScaleFactor: 1,\r\n        containerWidth: element.width,\r\n        containerHeight: element.height,\r\n        position: {\r\n          mx: 0.0,\r\n          my: 0.075\r\n        }\r\n      });\r\n\r\n      var knowledgeSource = drawPath(p, pathData, {\r\n        strokeWidth: 2,\r\n        fill: DEFAULT_FILL_COLOR,\r\n        stroke: DEFAULT_STROKE_COLOR\r\n      });\r\n\r\n      renderEmbeddedLabel(p, element, { align: 'center-middle' });\r\n\r\n      return knowledgeSource;\r\n    },\r\n    'dmn:BusinessKnowledgeModel': function(p, element, attrs) {\r\n\r\n      var pathData = pathMap.getScaledPath('BUSINESS_KNOWLEDGE_MODEL', {\r\n        xScaleFactor: 1,\r\n        yScaleFactor: 1,\r\n        containerWidth: element.width,\r\n        containerHeight: element.height,\r\n        position: {\r\n          mx: 0.0,\r\n          my: 0.3\r\n        }\r\n      });\r\n\r\n      var businessKnowledge = drawPath(p, pathData, {\r\n        strokeWidth: 2,\r\n        fill: DEFAULT_FILL_COLOR,\r\n        stroke: DEFAULT_STROKE_COLOR\r\n      });\r\n\r\n      renderEmbeddedLabel(p, element, { align: 'center-middle' });\r\n\r\n      return businessKnowledge;\r\n    },\r\n    'dmn:InputData': function(p, element, attrs) {\r\n\r\n      var rect = drawRect(p, element.width, element.height, 22, attrs);\r\n\r\n      renderEmbeddedLabel(p, element, { align: 'center-middle' });\r\n\r\n      return rect;\r\n    },\r\n    'dmn:TextAnnotation': function(p, element, attrs) {\r\n      var style = {\r\n        'fill': 'none',\r\n        'stroke': 'none'\r\n      };\r\n\r\n      var textElement = drawRect(p, element.width, element.height, 0, 0, style);\r\n\r\n      var textPathData = pathMap.getScaledPath('TEXT_ANNOTATION', {\r\n        xScaleFactor: 1,\r\n        yScaleFactor: 1,\r\n        containerWidth: element.width,\r\n        containerHeight: element.height,\r\n        position: {\r\n          mx: 0.0,\r\n          my: 0.0\r\n        }\r\n      });\r\n\r\n      drawPath(p, textPathData);\r\n\r\n      var text = getSemantic(element).text || '';\r\n\r\n      renderLabel(p, text, {\r\n        box: element,\r\n        align: 'left-top',\r\n        padding: 5\r\n      });\r\n\r\n      return textElement;\r\n    },\r\n    'dmn:Association': function(p, element, attrs) {\r\n      var semantic = getSemantic(element);\r\n\r\n      attrs = assign({\r\n        strokeDasharray: '0.5, 5',\r\n        strokeLinecap: 'round',\r\n        strokeLinejoin: 'round',\r\n        fill: 'none'\r\n      }, attrs || {});\r\n\r\n      if (semantic.associationDirection === 'One' ||\r\n          semantic.associationDirection === 'Both') {\r\n        attrs.markerEnd = marker('association-end');\r\n      }\r\n\r\n      if (semantic.associationDirection === 'Both') {\r\n        attrs.markerStart = marker('association-start');\r\n      }\r\n\r\n      return drawLine(p, element.waypoints, attrs);\r\n    },\r\n    'dmn:InformationRequirement': function(p, element, attrs) {\r\n\r\n      attrs = assign({\r\n        strokeWidth: 1,\r\n        strokeLinecap: 'round',\r\n        strokeLinejoin: 'round',\r\n        markerEnd: marker('information-requirement-end')\r\n      }, attrs || {});\r\n\r\n      return drawLine(p, element.waypoints, attrs);\r\n    },\r\n    'dmn:KnowledgeRequirement': function(p, element, attrs) {\r\n\r\n      attrs = assign({\r\n        strokeWidth: 1,\r\n        strokeDasharray: 5,\r\n        strokeLinecap: 'round',\r\n        strokeLinejoin: 'round',\r\n        markerEnd: marker('knowledge-requirement-end')\r\n      }, attrs || {});\r\n\r\n      return drawLine(p, element.waypoints, attrs);\r\n    },\r\n    'dmn:AuthorityRequirement': function(p, element, attrs) {\r\n\r\n      attrs = assign({\r\n        strokeWidth: 1.5,\r\n        strokeDasharray: 5,\r\n        strokeLinecap: 'round',\r\n        strokeLinejoin: 'round',\r\n        markerEnd: marker('authority-requirement-end')\r\n      }, attrs || {});\r\n\r\n      return drawLine(p, element.waypoints, attrs);\r\n    }\r\n  };\r\n\r\n\r\n  // draw shape and connection //////////////////\r\n\r\n  function drawShape(parent, element) {\r\n    var h = handlers[element.type];\r\n\r\n    if (!h) {\r\n      return BaseRenderer.prototype.drawShape.apply(this, [ parent, element ]);\r\n    } else {\r\n      return h(parent, element);\r\n    }\r\n  }\r\n\r\n  function drawConnection(parent, element) {\r\n    var type = element.type;\r\n    var h = handlers[type];\r\n\r\n    if (!h) {\r\n      return BaseRenderer.prototype.drawConnection.apply(this, [ parent, element ]);\r\n    } else {\r\n      return h(parent, element);\r\n    }\r\n  }\r\n\r\n  function drawLine(p, waypoints, attrs) {\r\n    attrs = computeStyle(attrs, [ 'no-fill' ], {\r\n      stroke: DEFAULT_STROKE_COLOR,\r\n      strokeWidth: 2,\r\n      fill: 'none'\r\n    });\r\n\r\n    var line = createLine(waypoints, attrs);\r\n\r\n    svgAppend(p, line);\r\n\r\n    return line;\r\n  }\r\n\r\n  this.canRender = function(element) {\r\n    return is(element, 'dmn:DMNElement') ||\r\n           is(element, 'dmn:InformationRequirement') ||\r\n           is(element, 'dmn:KnowledgeRequirement') ||\r\n           is(element, 'dmn:AuthorityRequirement');\r\n  };\r\n\r\n  this.drawShape = drawShape;\r\n  this.drawConnection = drawConnection;\r\n\r\n\r\n  // hook onto canvas init event to initialize\r\n  // connection start/end markers on svg\r\n  eventBus.on('canvas.init', function(event) {\r\n    initMarkers(event.svg);\r\n  });\r\n\r\n}\r\n\r\ninherits(DrdRenderer, BaseRenderer);\r\n\r\nDrdRenderer.$inject = [\r\n  'eventBus',\r\n  'pathMap',\r\n  'styles',\r\n  'textRenderer'\r\n];\r\n\r\n\r\n// helper functions //////////////////////\r\n\r\nfunction getSemantic(element) {\r\n  return element.businessObject;\r\n}\r\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport OverviewRenderer from './OverviewRenderer';\r\n\r\nexport default {\r\n  __init__: [\r\n    'drdRenderer'\r\n  ],\r\n  drdRenderer: [ 'type', OverviewRenderer ]\r\n};","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport DmnModeler from 'dmn-js/lib/Modeler';\nimport DrdViewer from './DrdViewer';\n\nimport diagramOriginModule from 'diagram-js-origin';\n\nimport alignToOriginModule from '@bpmn-io/align-to-origin';\nimport addExporter from '@bpmn-io/add-exporter/add-exporter';\n\nimport completeDirectEditingModule from '../../bpmn/modeler/features/complete-direct-editing';\nimport propertiesPanelModule from 'dmn-js-properties-panel';\nimport propertiesProviderModule from 'dmn-js-properties-panel/lib/provider/camunda';\n\nimport drdAdapterModule from 'dmn-js-properties-panel/lib/adapter/drd';\n\nimport propertiesPanelKeyboardBindingsModule from '../../bpmn/modeler/features/properties-panel-keyboard-bindings';\nimport decisionTableKeyboardModule from './features/decision-table-keyboard';\n\nimport Flags, { DISABLE_ADJUST_ORIGIN } from '../../../../util/Flags';\n\nimport camundaModdleDescriptor from 'camunda-dmn-moddle/resources/camunda';\n\nimport openDrgElementModule from './features/overview/open-drg-element';\nimport overviewRendererModule from './features/overview/overview-renderer';\n\nimport 'dmn-js/dist/assets/diagram-js.css';\nimport 'dmn-js/dist/assets/dmn-font/css/dmn-embedded.css';\nimport 'dmn-js/dist/assets/dmn-js-decision-table-controls.css';\nimport 'dmn-js/dist/assets/dmn-js-decision-table.css';\nimport 'dmn-js/dist/assets/dmn-js-drd.css';\nimport 'dmn-js/dist/assets/dmn-js-literal-expression.css';\nimport 'dmn-js/dist/assets/dmn-js-shared.css';\n\nimport 'dmn-js-properties-panel/dist/assets/dmn-js-properties-panel.css';\n\nconst NOOP_MODULE = [ 'value', null ];\n\nconst poweredByModule = {\n  poweredBy: NOOP_MODULE\n};\n\nconst OVERVIEW_ZOOM_SCALE = 0.66;\n\nconst LOW_PRIORITY = 500,\n      HIGH_PRIORITY = 2500;\n\n\nexport default class CamundaDmnModeler extends DmnModeler {\n\n  constructor(options = {}) {\n\n    const {\n      moddleExtensions,\n      drd,\n      decisionTable,\n      literalExpression,\n      exporter,\n      overview,\n      ...otherOptions\n    } = options;\n\n    super({\n      ...otherOptions,\n      drd: mergeModules(drd, [\n        Flags.get(DISABLE_ADJUST_ORIGIN) ? diagramOriginModule : alignToOriginModule,\n        propertiesPanelModule,\n        propertiesProviderModule,\n        drdAdapterModule,\n        propertiesPanelKeyboardBindingsModule\n      ]),\n      decisionTable: mergeModules(decisionTable, [\n        decisionTableKeyboardModule,\n        poweredByModule,\n        {\n          viewDrd: NOOP_MODULE\n        }\n      ]),\n      literalExpression: mergeModules(literalExpression, [\n        poweredByModule,\n        {\n          viewDrd: NOOP_MODULE\n        }\n      ]),\n      moddleExtensions: {\n        camunda: camundaModdleDescriptor,\n        ...(moddleExtensions || {})\n      }\n    });\n\n    this.on('viewer.created', ({ viewer }) => {\n\n      viewer.on('commandStack.changed', event => {\n        this._emit('view.contentChanged', event);\n      });\n\n      viewer.on('selection.changed', event => {\n        this._emit('view.selectionChanged', event);\n      });\n\n      viewer.on([ 'directEditing.activate', 'directEditing.deactivate' ], event => {\n        this._emit('view.directEditingChanged', event);\n      });\n\n      viewer.on('error', ({ error }) => {\n        this._emit('error', {\n          viewer,\n          error\n        });\n      });\n\n      viewer.on('propertiesPanel.focusin', event => {\n        this._emit('propertiesPanel.focusin', event);\n      });\n\n      viewer.on('propertiesPanel.focusout', event => {\n        this._emit('propertiesPanel.focusout', event);\n      });\n\n    });\n\n    addExporter(exporter, this);\n\n    this._addOverview(overview);\n  }\n\n  showOverview(xml) {\n    return this._overview.importXML(xml).then(\n      () => {}, err => err\n    ).then(err => this._handleOverviewImport(err));\n  }\n\n  /**\n   * Get stack index of active viewer.\n   *\n   * @returns {?number} Stack index or null.\n   */\n  getStackIdx() {\n    const viewer = this.getActiveViewer();\n\n    if (!viewer) {\n      return null;\n    }\n\n    const commandStack = viewer.get('commandStack', false);\n\n    if (!commandStack) {\n      return null;\n    }\n\n    return commandStack._stackIdx;\n  }\n\n  _addOverview(options = {}) {\n    const { layout } = options;\n\n    const overview = this._overview = new DrdViewer({\n      drd: {\n        additionalModules: [\n          openDrgElementModule,\n          overviewRendererModule\n        ],\n        openDrgElement: {\n          layout\n        }\n      }\n    });\n\n    // (1) import overview initially\n    this.on('import.parse.start', ({ xml }) => {\n      this.showOverview(xml);\n    });\n\n    // keep track of view type\n    let previousActiveViewType;\n\n    this.on('views.changed', LOW_PRIORITY, ({ activeView }) => {\n      previousActiveViewType = activeView.type;\n    });\n\n    // (2) update overview on changes in modeler\n    let offCommandStackChanged;\n\n    this.on('views.changed', ({ activeView }) => {\n      if (previousActiveViewType === activeView.type) {\n        return;\n      }\n\n      // (2.1) remove previous listener\n      if (offCommandStackChanged) {\n        offCommandStackChanged();\n      }\n\n      const handleCommandStackChanged = () => {\n\n        // (2.3) stop listening until save XML done\n        offCommandStackChanged();\n\n        // (2.4) start listening again when save XML done\n        this.once('saveXML.done', onCommandStackChanged);\n\n        this._updateOverview();\n      };\n\n      const viewer = this._viewers[ activeView.type ];\n\n      const eventBus = viewer.get('eventBus', false);\n\n      const onCommandStackChanged = () => {\n        eventBus.on('commandStack.changed', handleCommandStackChanged);\n      };\n\n      offCommandStackChanged = () => {\n        eventBus.off('commandStack.changed', handleCommandStackChanged);\n      };\n\n      // (2.2) add new listener\n      onCommandStackChanged();\n    });\n\n    // (3) highlight current open DRG element on views changed\n    this.on('views.changed', ({ activeView }) => {\n      if (activeView.type !== 'drd') {\n        const activeViewer = overview.getActiveViewer();\n\n        if (activeViewer) {\n          activeViewer.get('eventBus').fire('drgElementOpened', {\n            id: activeView.element.id\n          });\n        }\n      }\n    });\n\n    // (4) propagate layout changes\n    this.on('overviewOpen', () => {\n      const activeViewer = this._overview.getActiveViewer();\n\n      if (activeViewer) {\n        activeViewer.get('eventBus').fire('overviewOpen');\n      }\n    });\n\n    overview.once('import.done', () => {\n      const activeViewer = overview.getActiveViewer();\n\n      if (!activeViewer) {\n        return;\n      }\n\n      // (5) open DRG element on click\n      activeViewer.on('openDrgElement', ({ id }) => {\n        const view = this.getViews().find(({ element }) => {\n          return element.id === id;\n        });\n\n        if (view && view.type !== 'drd') {\n          this.open(view);\n        }\n      });\n    });\n  }\n\n  _updateOverview = () => {\n    if (!this._overview) {\n      return;\n    }\n\n    // Prevent others from hooking in when updating overview\n    this.once('saveXML.start', HIGH_PRIORITY, () => false);\n\n    return this.saveXML().then(\n      ({ xml }) => this.showOverview(xml)\n    ).catch(err => {\n      console.error(err);\n    });\n  }\n\n  _handleOverviewImport = err => {\n    if (!this._overview || !this._overview.getActiveViewer()) {\n      return;\n    }\n\n    if (err) {\n      console.error(err);\n    } else {\n      this._overview.getActiveViewer().get('canvas').zoom(OVERVIEW_ZOOM_SCALE);\n    }\n  }\n\n  attachOverviewTo = (parentNode) => {\n    this.detachOverview();\n\n    const activeViewer = this._overview.getActiveViewer();\n\n    if (!activeViewer) {\n      return;\n    }\n\n    this._emit('attachOverview');\n\n    parentNode.appendChild(activeViewer._container);\n\n    activeViewer.get('canvas').resized();\n  }\n\n  detachOverview = () => {\n    const activeViewer = this._overview.getActiveViewer();\n\n    if (!activeViewer) {\n      return;\n    }\n\n    const container = activeViewer._container;\n\n    if (container.parentNode) {\n      this._emit('detachOverview');\n\n      container.parentNode.removeChild(container);\n    }\n  }\n}\n\n\n// helpers ///////////////////////\n\nfunction mergeModules(editorConfig = {}, additionalModules) {\n\n  const editorModules = editorConfig.additionalModules || [];\n\n  return {\n    ...editorConfig,\n    additionalModules: [\n      completeDirectEditingModule,\n      ...editorModules,\n      ...additionalModules\n    ]\n  };\n}\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport {\r\n  getCanvasEntries,\r\n  getCopyCutPasteEntries,\r\n  getAlignDistributeEntries,\r\n  getDefaultCopyCutPasteEntries,\r\n  getSelectionEntries,\r\n  getToolEntries,\r\n  getUndoRedoEntries\r\n} from '../getEditMenu';\r\n\r\nfunction getDecisionTableEntries({\r\n  hasSelection,\r\n  inputActive\r\n}) {\r\n  return [\r\n    [\r\n      {\r\n        label: 'Select Cell Above',\r\n        accelerator: 'Shift + Enter',\r\n        enabled: hasSelection,\r\n        action: 'selectCellAbove',\r\n        role: inputActive && 'selectCellAbove'\r\n      },\r\n      {\r\n        label: 'Select Cell Below',\r\n        accelerator: 'Enter',\r\n        enabled: hasSelection,\r\n        action: 'selectCellBelow',\r\n        role: inputActive && 'selectCellBelow'\r\n      }\r\n    ]\r\n  ];\r\n}\r\n\r\nexport function getDmnDrdEditMenu(state) {\r\n  const { defaultCopyCutPaste } = state;\r\n\r\n  const copyCutPasteEntries = defaultCopyCutPaste\r\n    ? getDefaultCopyCutPasteEntries(true)\r\n    : getCopyCutPasteEntries(state);\r\n\r\n  return [\r\n    getUndoRedoEntries(state),\r\n    copyCutPasteEntries,\r\n    getToolEntries(state),\r\n    getAlignDistributeEntries(state),\r\n    getCanvasEntries(state),\r\n    getSelectionEntries(state)\r\n  ];\r\n}\r\n\r\nexport function getDmnDecisionTableEditMenu(state) {\r\n  const { defaultCopyCutPaste } = state;\r\n\r\n  const copyCutPasteEntries = defaultCopyCutPaste\r\n    ? getDefaultCopyCutPasteEntries(true)\r\n    : getCopyCutPasteEntries(state);\r\n\r\n  return [\r\n    getUndoRedoEntries(state),\r\n    copyCutPasteEntries,\r\n    getSelectionEntries(state),\r\n    ...getDecisionTableEntries(state)\r\n  ];\r\n}\r\n\r\nexport function getDmnLiteralExpressionEditMenu(state) {\r\n  const { defaultCopyCutPaste } = state;\r\n\r\n  const copyCutPasteEntries = defaultCopyCutPaste\r\n    ? getDefaultCopyCutPasteEntries(true)\r\n    : getCopyCutPasteEntries(state);\r\n\r\n  return [\r\n    getUndoRedoEntries(state),\r\n    copyCutPasteEntries,\r\n    getSelectionEntries(state)\r\n  ];\r\n}\r\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nexport default function getBpmnWindowMenu(state) {\n  return [\n    ...getZoomEntries(state),\n    ...getPropertiesPanelEntries(state),\n    ...getOverviewEntries(state)\n  ];\n}\n\nfunction getZoomEntries({ zoom }) {\n  return zoom ? [ {\n    label: 'Zoom In',\n\n    // We use Ctrl + = instead of Ctrl + + which works as expected but is shown incorrectly.\n    // cf. https://github.com/camunda/camunda-modeler/issues/2286\n    accelerator: 'CommandOrControl+=',\n    action: 'zoomIn'\n  }, {\n    label: 'Zoom Out',\n    accelerator: 'CommandOrControl+-',\n    action: 'zoomOut'\n  }, {\n    label: 'Zoom to Actual Size',\n    accelerator: 'CommandOrControl+0',\n    action: 'resetZoom'\n  }, {\n    label: 'Zoom to Fit Diagram',\n    accelerator: 'CommandOrControl+1',\n    action: 'zoomFit'\n  }, {\n    type: 'separator'\n  } ] : [];\n}\n\nfunction getPropertiesPanelEntries({ propertiesPanel }) {\n  return propertiesPanel ? [ {\n    label: 'Toggle Properties Panel',\n    accelerator: 'CommandOrControl+P',\n    action: 'toggleProperties'\n  }, {\n    label: 'Reset Properties Panel',\n    accelerator: 'CommandOrControl+Shift+P',\n    action: 'resetProperties'\n  } ] : [];\n}\n\nfunction getOverviewEntries({ overview }) {\n  return overview ? [ {\n    label: 'Toggle Overview',\n    accelerator: 'CommandOrControl+P',\n    action: 'toggleOverview'\n  }, {\n    label: 'Reset Overview',\n    accelerator: 'CommandOrControl+Shift+P',\n    action: 'resetOverview'\n  } ] : [];\n}","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport React from 'react';\n\nimport {\n  assign,\n  isFunction\n} from 'min-dash';\n\nimport classNames from 'classnames';\n\nimport {\n  Loader\n} from '../../primitives';\n\nimport {\n  debounce\n} from '../../../util';\n\nimport configureModeler from './util/configure';\n\nimport {\n  WithCache,\n  WithCachedState,\n  CachedComponent\n} from '../../cached';\n\nimport OverviewContainer from './OverviewContainer';\n\nimport PropertiesContainer from '../PropertiesContainer';\n\nimport CamundaDmnModeler from './modeler';\n\nimport { active as isInputActive } from '../../../util/dom/isInput';\n\nimport {\n  getDmnDrdEditMenu,\n  getDmnDecisionTableEditMenu,\n  getDmnLiteralExpressionEditMenu\n} from './getDmnEditMenu';\n\nimport getDmnWindowMenu from './getDmnWindowMenu';\n\nimport css from './DmnEditor.less';\n\nimport generateImage from '../../util/generateImage';\n\nimport Metadata from '../../../util/Metadata';\n\nimport { findUsages as findNamespaceUsages } from '../util/namespace';\n\nimport { migrateDiagram } from '@bpmn-io/dmn-migrate';\n\nimport { DEFAULT_LAYOUT as propertiesPanelDefaultLayout } from '../PropertiesContainer';\n\nimport { DEFAULT_LAYOUT as overviewDefaultLayout } from './OverviewContainer';\n\nimport { EngineProfile } from '../EngineProfile';\n\nimport { ENGINES } from '../../../util/Engines';\n\nconst EXPORT_AS = [ 'png', 'jpeg', 'svg' ];\n\nconst NAMESPACE_URL_DMN11 = 'http://www.omg.org/spec/DMN/20151101/dmn.xsd',\n      NAMESPACE_URL_DMN12 = 'http://www.omg.org/spec/DMN/20180521/MODEL/';\n\nconst CONFIG_KEY = 'editor.askDmnMigration';\n\nexport const DEFAULT_ENGINE_PROFILE = {\n  executionPlatform: ENGINES.PLATFORM\n};\n\n\nexport class DmnEditor extends CachedComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = { };\n\n    this.ref = React.createRef();\n    this.overviewRef = React.createRef();\n    this.propertiesPanelRef = React.createRef();\n\n    this.handleResize = debounce(this.handleResize);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n\n    const modeler = this.getModeler();\n\n    this.listen('on');\n\n    modeler.attachTo(this.ref.current);\n\n    const activeViewer = modeler.getActiveViewer();\n\n    let propertiesPanel;\n\n    if (activeViewer) {\n      propertiesPanel = activeViewer.get('propertiesPanel', false);\n\n      if (propertiesPanel) {\n        propertiesPanel.attachTo(this.propertiesPanelRef.current);\n      }\n\n      // attach overview\n      if (this.overviewRef.current) {\n        modeler.attachOverviewTo(this.overviewRef.current);\n\n        if (isOverviewOpen(this.props)) {\n          modeler._emit('overviewOpen');\n        }\n      }\n    }\n\n    this.checkImport();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n\n    const modeler = this.getModeler();\n\n    this.listen('off');\n\n    modeler.detach();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.checkImport(prevProps);\n\n    // We can only notify interested parties about overview open once its parent component was\n    // rendered\n    if (isOverviewOpened(this.props, prevProps)) {\n      const modeler = this.getModeler();\n\n      modeler._emit('overviewOpen');\n    }\n\n    if (isCachedStateChange(prevProps, this.props)) {\n      this.handleChanged();\n    }\n  }\n\n  ifMounted = (fn) => {\n    return (...args) => {\n      if (this._isMounted) {\n        fn(...args);\n      }\n    };\n  }\n\n  listen(fn) {\n    const modeler = this.getModeler();\n\n    [\n      'saveXML.done',\n      'attach',\n      'view.selectionChanged',\n      'view.directEditingChanged',\n      'propertiesPanel.focusin',\n      'propertiesPanel.focusout'\n    ].forEach((event) => {\n      modeler[fn](event, this.handleChanged);\n    });\n\n    modeler[fn]('views.changed', this.viewsChanged);\n\n    modeler[fn]('view.contentChanged', this.viewContentChanged);\n\n    modeler[fn]('error', this.handleError);\n  }\n\n  isDirty = () => {\n    let {\n      dirty,\n      modeler,\n      stackIdx\n    } = this.getCached();\n\n    return dirty || modeler.getStackIdx() !== stackIdx;\n  }\n\n  viewContentChanged = () => {\n    this.handleChanged();\n  }\n\n  handleImport(error, warnings) {\n    const {\n      activeSheet,\n      onImport,\n      xml\n    } = this.props;\n\n    const modeler = this.getModeler();\n\n    const stackIdx = modeler.getStackIdx();\n\n    onImport(error, warnings);\n\n    if (error) {\n      this.setCached({\n        dirty: false,\n        lastXML: null\n      });\n    } else {\n      this.setCached({\n        dirty: false,\n        lastXML: xml,\n        stackIdx\n      });\n\n      this.setState({\n        importing: false\n      });\n\n      if (activeSheet && activeSheet.element) {\n        return this.open(activeSheet.element);\n      }\n\n      const initialView = modeler._getInitialView(modeler._views);\n\n      this.open(initialView.element);\n    }\n\n  }\n\n  viewsChanged = ({ activeView }) => {\n    const {\n      activeSheet: previousActiveSheet,\n      onSheetsChanged\n    } = this.props;\n\n    const {\n      dirty,\n      stackIdx\n    } = this.getCached();\n\n    const previousActiveView = this.getCached().activeView;\n\n    const modeler = this.getModeler();\n\n    const { element } = activeView;\n\n    const activeSheet = {\n      ...activeView,\n      id: element.id,\n      name: 'Diagram',\n      order: -1\n    };\n\n    if (previousActiveSheet.id !== activeSheet.id) {\n      onSheetsChanged([ activeSheet ], activeSheet);\n    }\n\n    const activeViewer = modeler.getActiveViewer();\n\n    let propertiesPanel;\n\n    // only attach properties panel if view is switched\n    if (activeViewer &&\n      (!previousActiveView || previousActiveView.element !== activeView.element)) {\n      propertiesPanel = activeViewer.get('propertiesPanel', false);\n\n      if (propertiesPanel) {\n        propertiesPanel.attachTo(this.propertiesPanelRef.current);\n      }\n    }\n\n    // attach or detach overview\n    if (activeView.type === 'drd') {\n      modeler.detachOverview();\n    } else if (previousActiveView && previousActiveView.type === 'drd') {\n      modeler.attachOverviewTo(this.overviewRef.current);\n\n      if (isOverviewOpen(this.props)) {\n        modeler._emit('overviewOpen');\n      }\n    }\n\n    // must be called last\n    this.setCached({\n      activeView,\n      dirty: dirty || modeler.getStackIdx() !== stackIdx\n    });\n\n    this.handleChanged();\n  }\n\n  undo = () => {\n    const modeler = this.getModeler();\n\n    modeler.getActiveViewer().get('commandStack').undo();\n  }\n\n  redo = () => {\n    const modeler = this.getModeler();\n\n    modeler.getActiveViewer().get('commandStack').redo();\n  }\n\n  handleChanged = () => {\n    const modeler = this.getModeler();\n\n    const {\n      onChanged\n    } = this.props;\n\n    const activeViewer = modeler.getActiveViewer(),\n          activeView = modeler.getActiveView();\n\n    if (!activeViewer) {\n      return;\n    }\n\n    const dirty = this.isDirty();\n\n    const commandStack = activeViewer.get('commandStack');\n\n    const hasPropertiesPanel = !!activeViewer.get('propertiesPanel', false);\n\n    const hasOverview = activeView.type !== 'drd';\n\n    const inputActive = isInputActive();\n\n    const newState = {\n      close: true,\n      copy: false,\n      cut: false,\n      dirty,\n      exportAs: 'saveSVG' in activeViewer ? EXPORT_AS : false,\n      inputActive,\n      overview: hasOverview,\n      paste: false,\n      propertiesPanel: hasPropertiesPanel,\n      redo: commandStack.canRedo(),\n      save: true,\n      undo: commandStack.canUndo()\n    };\n\n    const selection = activeViewer.get('selection', false);\n\n    const hasSelection = selection && !!selection.get();\n\n    const selectionLength = hasSelection ? selection.get().length : 0;\n\n    let editMenu;\n\n    if (activeView.type === 'drd') {\n      assign(newState, {\n        align: selectionLength > 1,\n        defaultCopyCutPaste: inputActive,\n        defaultUndoRedo: inputActive,\n        distribute: selectionLength > 2,\n        editLabel: !inputActive && !!selectionLength,\n        lassoTool: !inputActive,\n        moveCanvas: !inputActive,\n        moveSelection: !inputActive && !!selectionLength,\n        removeSelected: inputActive || !!selectionLength,\n        selectAll: true,\n        zoom: true\n      });\n\n      editMenu = getDmnDrdEditMenu(newState);\n    } else if (activeView.type === 'decisionTable') {\n      assign(newState, {\n        defaultCopyCutPaste: true,\n        defaultUndoRedo: false,\n        hasSelection: activeViewer.get('selection').hasSelection(),\n        removeSelected: inputActive,\n        selectAll: inputActive\n      });\n\n      // ensure backwards compatibility\n      // https://github.com/camunda/camunda-modeler/commit/78357e3ed9e6e0255ac8225fbdf451a90457e8bf#diff-bd5be70c4e5eadf1a316c16085a72f0fL17\n      newState.dmnRuleEditing = !!selectionLength;\n      newState.dmnClauseEditing = !!selectionLength;\n\n      editMenu = getDmnDecisionTableEditMenu(newState);\n    } else if (activeView.type === 'literalExpression') {\n      assign(newState, {\n        defaultCopyCutPaste: true,\n        defaultUndoRedo: true,\n        removeSelected: true,\n        selectAll: true\n      });\n\n      // The literalExpressions editor does not fire events when\n      // elements are selected, so we always set inputActive to true.\n      // cf. https://github.com/camunda/camunda-modeler/pull/2394\n      newState.inputActive = true;\n\n      editMenu = getDmnLiteralExpressionEditMenu(newState);\n    }\n\n    // ensure backwards compatibility\n    // https://github.com/camunda/camunda-modeler/commit/78357e3ed9e6e0255ac8225fbdf451a90457e8bf#diff-bd5be70c4e5eadf1a316c16085a72f0fL17\n    newState.activeEditor = activeView.type;\n    newState.dmn = true;\n    newState.editable = true;\n    newState.elementsSelected = !!selectionLength;\n    newState.inactiveInput = !inputActive;\n\n    const windowMenu = getDmnWindowMenu(newState);\n\n    if (typeof onChanged === 'function') {\n      onChanged({\n        ...newState,\n        editMenu,\n        windowMenu\n      });\n    }\n\n    this.setState(newState);\n  }\n\n  handleError = (event) => {\n    const {\n      error\n    } = event;\n\n    const {\n      onError\n    } = this.props;\n\n    onError(error);\n  }\n\n  handleDistributeElements = (type) => {\n    this.triggerAction('distributeElements', {\n      type\n    });\n  }\n\n  handleAlignElements = (type) => {\n    this.triggerAction('alignElements', {\n      type\n    });\n  }\n\n  checkImport(prevProps) {\n    if (!this.isImportNeeded(prevProps)) {\n      return this.checkSheetChange(prevProps);\n    }\n\n    const { xml } = this.props;\n\n    this.importXML(xml);\n  }\n\n  isImportNeeded(prevProps) {\n    const {\n      importing\n    } = this.state;\n\n    if (importing) {\n      return false;\n    }\n\n    const {\n      xml\n    } = this.props;\n\n    if (prevProps && prevProps.xml === xml) {\n      return false;\n    }\n\n    const {\n      lastXML\n    } = this.getCached();\n\n    return xml !== lastXML;\n  }\n\n  async importXML(xml) {\n    const {\n      modeler\n    } = this.getCached();\n\n    this.setState({\n      importing: true\n    });\n\n    const importedXML = await this.handleMigration(xml);\n\n    if (!importedXML) {\n      this.props.onAction('close-tab');\n\n      return;\n    }\n\n    return modeler.importXML(importedXML).then(\n      this.ifMounted(({ warnings }) => this.handleImport(null, warnings)),\n      this.ifMounted((error) => this.handleImport(error, error.warnings))\n    );\n  }\n\n  handleMigration = async (xml) => {\n    const used = findNamespaceUsages(xml, NAMESPACE_URL_DMN11) ||\n      findNamespaceUsages(xml, NAMESPACE_URL_DMN12);\n\n    if (!used) {\n      return xml;\n    }\n\n    const askDmnMigration = await this.props.getConfig(CONFIG_KEY);\n\n    if (askDmnMigration !== false) {\n      const shouldMigrate = await this.shouldMigrate();\n\n      if (!shouldMigrate) {\n        return null;\n      }\n    }\n\n    const {\n      onContentUpdated\n    } = this.props;\n\n    let migratedXML;\n\n    try {\n      migratedXML = await migrateDiagram(xml);\n    } catch (err) {\n      this.handleError({\n        error: err\n      });\n\n      return null;\n    }\n\n    onContentUpdated(migratedXML);\n\n    return migratedXML;\n  }\n\n  async shouldMigrate() {\n    const { onAction } = this.props;\n\n    const { button, checkboxChecked } = await onAction('show-dialog', getMigrationDialog());\n\n    if (button === 'yes' && checkboxChecked) {\n      this.props.setConfig(CONFIG_KEY, false);\n    }\n\n    return button === 'yes';\n  }\n\n  checkSheetChange(prevProps) {\n    if (!this.shouldOpenActiveSheet(prevProps)) {\n      return;\n    }\n\n    this.open(this.props.activeSheet.element);\n  }\n\n  shouldOpenActiveSheet(prevProps) {\n    return !prevProps || prevProps.activeSheet.id !== this.props.activeSheet.id;\n  }\n\n  open = (element) => {\n    const {\n      activeView,\n      dirty,\n      modeler,\n      stackIdx\n    } = this.getCached();\n\n    let view = modeler.getView(element);\n\n    if (!view) {\n\n      // try to find view based on ID\n      // after re-import reference comparison won't work anymore\n      view = modeler.getViews().find(view => view.element.id === element.id);\n    }\n\n    if (!view) {\n      return;\n    }\n\n    if (!activeView || activeView.element !== element) {\n\n      // dirty must be cached before switching active view\n      // if active view has unsaved changes editor must still be dirty after switching active view\n      this.setCached({\n        dirty: dirty || this.getModeler().getStackIdx() !== stackIdx\n      });\n\n      modeler.open(view);\n\n      this.setCached({\n        stackIdx: this.getModeler().getStackIdx()\n      });\n    }\n  }\n\n  triggerAction = (action, context) => {\n    const {\n      layout = {},\n      onLayoutChanged: handleLayoutChange\n    } = this.props;\n\n    const {\n      propertiesPanel: propertiesPanelLayout = {}\n    } = layout;\n\n    const modeler = this.getModeler();\n\n    if (action === 'resize') {\n      return this.handleResize();\n    }\n\n    if (action === 'toggleProperties') {\n      const newLayout = {\n        propertiesPanel: {\n          ...propertiesPanelDefaultLayout,\n          ...propertiesPanelLayout,\n          open: !propertiesPanelLayout.open\n        }\n      };\n\n      return handleLayoutChange(newLayout);\n    }\n\n    if (action === 'resetProperties') {\n      const newLayout = {\n        propertiesPanel: {\n          ...propertiesPanelDefaultLayout,\n          open: true\n        }\n      };\n\n      return handleLayoutChange(newLayout);\n    }\n\n    if (action === 'zoomIn') {\n      action = 'stepZoom';\n\n      context = {\n        value: 1\n      };\n    }\n\n    if (action === 'zoomOut') {\n      action = 'stepZoom';\n\n      context = {\n        value: -1\n      };\n    }\n\n    if (action === 'resetZoom') {\n      action = 'zoom';\n\n      context = {\n        value: 1\n      };\n    }\n\n    if (action === 'zoomFit') {\n      action = 'zoom';\n\n      context = {\n        value: 'fit-viewport'\n      };\n    }\n\n    if (action === 'toggleOverview') {\n      return this.toggleOverview();\n    } else if (action === 'resetOverview') {\n      return this.resetOverview();\n    }\n\n    return modeler.getActiveViewer()\n      .get('editorActions')\n      .trigger(action, context);\n  }\n\n  /**\n   * @returns {CamundaDmnModeler}\n   */\n  getModeler() {\n    const {\n      modeler\n    } = this.getCached();\n\n    return modeler;\n  }\n\n  handleResize = () => {\n    const {\n      modeler\n    } = this.getCached();\n\n    const view = modeler.getActiveView();\n\n    const viewType = view && view.type;\n\n    if (viewType !== 'drd') {\n      return;\n    }\n\n    const viewer = modeler.getActiveViewer();\n\n    const canvas = viewer.get('canvas');\n    const eventBus = viewer.get('eventBus');\n\n    canvas.resized();\n    eventBus.fire('propertiesPanel.resized');\n  }\n\n  async getXML() {\n    const {\n      lastXML,\n      modeler\n    } = this.getCached();\n\n    if (!this.isDirty()) {\n      return lastXML || this.props.xml;\n    }\n\n    try {\n      const { xml } = await modeler.saveXML({ format: true });\n\n      const stackIdx = modeler.getStackIdx();\n\n      this.setCached({\n        dirty: false,\n        lastXML: xml,\n        stackIdx\n      });\n\n      return xml;\n    } catch (error) {\n      this.handleError({ error });\n\n      return Promise.reject(error);\n    }\n  }\n\n  async exportAs(type) {\n    let svg;\n\n    try {\n      svg = await this.exportSVG();\n    } catch (error) {\n      this.handleError({ error });\n\n      return Promise.reject(error);\n    }\n\n    if (type === 'svg') {\n      return svg;\n    }\n\n    return generateImage(type, svg);\n  }\n\n  async exportSVG() {\n    const modeler = this.getModeler();\n\n    const viewer = modeler.getActiveViewer();\n\n    if (!viewer.saveSVG) {\n      return Promise.reject(new Error('SVG export not supported in current view'));\n    }\n\n    try {\n      const { svg } = await viewer.saveSVG();\n\n      return svg;\n    } catch (err) {\n\n      return Promise.reject(err);\n    }\n  }\n\n  handleEditDrdClick = () => {\n    const modeler = this.getModeler();\n\n    const drdView = modeler._views.find(({ type }) => type === 'drd');\n\n    if (drdView) {\n      modeler.open(drdView);\n    }\n  }\n\n  toggleOverview = () => {\n    const {\n      layout,\n      onLayoutChanged\n    } = this.props;\n\n    const dmnOverview = layout.dmnOverview || overviewDefaultLayout;\n\n    onLayoutChanged({\n      dmnOverview: {\n        ...dmnOverview,\n        open: !dmnOverview.open\n      }\n    });\n  }\n\n  resetOverview() {\n    const {\n      onLayoutChanged\n    } = this.props;\n\n    onLayoutChanged({\n      dmnOverview: {\n        ...overviewDefaultLayout\n      }\n    });\n  }\n\n  render() {\n\n    const {\n      layout,\n      onLayoutChanged\n    } = this.props;\n\n    const imported = this.getModeler().getDefinitions();\n\n    const {\n      importing\n    } = this.state;\n\n    const modeler = this.getModeler();\n\n    const activeView = modeler.getActiveView();\n\n    const isDrd = activeView && activeView.type === 'drd';\n\n    const activeViewer = modeler.getActiveViewer();\n\n    const overviewOpen = isOverviewOpen(this.props);\n\n    const hasPropertiesPanel = !importing && activeViewer && !!activeViewer.get('propertiesPanel', false);\n\n    return (\n      <div className={ css.DmnEditor }>\n\n        <Loader hidden={ imported && !importing } />\n\n        {\n          !isDrd && (\n            <div className=\"top\">\n              <button id=\"button-edit-drd\" className=\"button\" onClick={ this.handleEditDrdClick }>Edit DRD</button>\n              <button id=\"button-toggle-overview\" className=\"button\" onClick={ this.toggleOverview }>{ overviewOpen ? 'Close' : 'Open' } Overview</button>\n            </div>\n          )\n        }\n\n        <div className=\"bottom\">\n\n          {\n            !isDrd && (\n              <OverviewContainer\n                className=\"overview\"\n                layout={ layout }\n                ref={ this.overviewRef }\n                onLayoutChanged={ onLayoutChanged } />\n            )\n          }\n\n          <div className={\n            classNames(\n              'diagram',\n              { 'drd': isDrd }\n            )\n          } ref={ this.ref }></div>\n\n          {\n            hasPropertiesPanel && (\n              <PropertiesContainer\n                className=\"properties\"\n                layout={ layout }\n                ref={ this.propertiesPanelRef }\n                onLayoutChanged={ onLayoutChanged } />\n            )\n          }\n\n        </div>\n\n        <EngineProfile\n          engineProfile={ DEFAULT_ENGINE_PROFILE } />\n\n      </div>\n    );\n  }\n\n  static createCachedState(props) {\n    const {\n      name,\n      version\n    } = Metadata;\n\n    const {\n      getPlugins,\n      onAction,\n      onError\n    } = props;\n\n    // notify interested parties that modeler will be configured\n    const handleMiddlewareExtensions = (middlewares) => {\n      onAction('emit-event', {\n        type: 'dmn.modeler.configure',\n        payload: {\n          middlewares\n        }\n      });\n    };\n\n    const {\n      options,\n      warnings\n    } = configureModeler(getPlugins, {\n      exporter: {\n        name,\n        version\n      }\n    }, handleMiddlewareExtensions);\n\n    if (warnings.length && isFunction(onError)) {\n      onError(\n        'Problem(s) configuring DMN editor: \\n\\t' +\n        warnings.map(error => error.message).join('\\n\\t') +\n        '\\n'\n      );\n    }\n\n    const modeler = new CamundaDmnModeler({\n      ...options,\n      position: 'absolute'\n    });\n\n    const stackIdx = modeler.getStackIdx();\n\n    // notify interested parties that modeler was created\n    onAction('emit-event', {\n      type: 'dmn.modeler.created',\n      payload: {\n        modeler\n      }\n    });\n\n    return {\n      __destroy: () => {\n        modeler.destroy();\n      },\n      dirty: false,\n      lastXML: null,\n      modeler,\n      stackIdx\n    };\n  }\n\n}\n\nexport default WithCache(WithCachedState(DmnEditor));\n\n// helpers //////////\n\nfunction isCachedStateChange(prevProps, props) {\n  return prevProps.cachedState !== props.cachedState;\n}\n\nfunction getMigrationDialog() {\n  return {\n    type: 'warning',\n    title: 'Deprecated DMN 1.1 Diagram Detected',\n    buttons: [\n      { id: 'cancel', label: 'Cancel' },\n      { id: 'yes', label: 'Yes' }\n    ],\n    defaultId: 1,\n    message: 'Would you like to migrate your diagram to DMN 1.3?',\n    detail: [\n      'Only DMN 1.3 diagrams can be opened with Camunda Modeler v4.0.0 or later.',\n    ].join('\\n'),\n    checkboxChecked: true,\n    checkboxLabel: 'Do not ask again.'\n  };\n}\n\n/**\n * Check layout whether overview is open.\n *\n * @param {Object} props\n *\n * @returns {boolean}\n */\nfunction isOverviewOpen(props) {\n  const layout = props.layout || {};\n\n  const dmnOverview = layout.dmnOverview;\n\n  return !dmnOverview || dmnOverview.open;\n}\n\n/**\n * Check layout whether overview was opened.\n *\n * @param {Object} props\n * @param {Object} prevProps\n *\n * @returns {boolean}\n */\nfunction isOverviewOpened(props, prevProps) {\n  return isOverviewOpen(prevProps) === false && isOverviewOpen(props) === true;\n}\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nexport default function configureModeler(\n    getPlugins, defaultOptions = {}, handleMiddlewareExtensions\n) {\n\n  const warnings = [];\n\n  function logWarning(warning) {\n\n    if (typeof warning === 'string') {\n      warning = new Error(warning);\n    }\n\n    warnings.push(warning);\n  }\n\n  function additionalModulesMiddleware(component) {\n\n    return function(options) {\n      const additionalModules = getPlugins(`dmn.modeler.${component}.additionalModules`);\n\n      if (additionalModules.length) {\n        return {\n          ...options,\n          [component]: {\n            ...options[component],\n            additionalModules: [\n              ...((options[component] || {}).additionalModules || []),\n              ...additionalModules\n            ]\n          }\n        };\n      }\n\n      return options;\n    };\n  }\n\n  const middlewares = [\n\n    function moddleExtensionsMiddleware(options, logWarning) {\n      const plugins = getPlugins('dmn.modeler.moddleExtension');\n\n      const moddleExtensions = plugins.reduce((extensions, extension) => {\n        let {\n          name\n        } = extension;\n\n        if (typeof name !== 'string') {\n          logWarning('dmn.modeler.moddleExtension is missing <name> property');\n\n          return extensions;\n        }\n\n        extensions = extensions || {};\n\n        if (name in extensions) {\n          logWarning('dmn.modeler.moddleExtension overrides moddle extension with name <' + name + '>');\n        }\n\n        return {\n          ...extensions,\n          [ name ]: extension\n        };\n      }, options.moddleExtensions);\n\n      if (moddleExtensions) {\n        return {\n          ...options,\n          moddleExtensions\n        };\n      }\n\n      return options;\n    },\n\n    additionalModulesMiddleware('drd'),\n    additionalModulesMiddleware('decisionTable'),\n    additionalModulesMiddleware('literalExpression')\n  ];\n\n  let options = {\n    ...defaultOptions\n  };\n\n  if (typeof handleMiddlewareExtensions === 'function') {\n    handleMiddlewareExtensions(middlewares);\n  }\n\n  middlewares.forEach(fn => {\n    options = fn(options, logWarning);\n  });\n\n  return {\n    options,\n    warnings\n  };\n}\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport DmnEditor from './DmnEditor';\r\nimport XMLEditor from '../xml';\r\n\r\nimport { createTab } from '../EditorTab';\r\n\r\n\r\nconst DmnTab = createTab('DmnTab', [\r\n  {\r\n    type: 'dmn',\r\n    editor: DmnEditor,\r\n    defaultName: 'Diagram (Camunda Platform)'\r\n  },\r\n  {\r\n    type: 'xml',\r\n    editor: XMLEditor,\r\n    isFallback: true,\r\n    defaultName: 'XML'\r\n  }\r\n]);\r\n\r\nexport default DmnTab;\r\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nexport { default } from './DmnTab';"],"sourceRoot":""}