{"version":3,"sources":["webpack:///./node_modules/dmn-js-shared/lib/util/ModelUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/node_modules/tiny-svg/dist/index.esm.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/layout/LayoutUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Elements.js","webpack:///./node_modules/dmn-js-properties-panel/lib/Utils.js","webpack:///./node_modules/table-js/lib/model/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/selection/Selection.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/selection/SelectionBehavior.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/selection/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/SvgTransformUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Event.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Mouse.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Platform.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Collections.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/editor-actions/DecisionTableEditorActions.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/editor-actions/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Geometry.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/PositionUtil.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/cell-selection/CellSelectionUtil.js","webpack:///./node_modules/dmn-js-decision-table/node_modules/diagram-js/lib/command/CommandInterceptor.js","webpack:///./node_modules/selection-ranges/dist/index.esm.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_replaceHolders.js","webpack:///./node_modules/table-js/lib/features/selection/Selection.js","webpack:///./node_modules/table-js/lib/features/selection/SelectionBehavior.js","webpack:///./node_modules/table-js/lib/features/selection/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/cell-selection/CellSelection.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/cell-selection/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/i18n/translate/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/i18n/translate/translate.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/interaction-events/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/RenderUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/GraphicsUtil.js","webpack:///./node_modules/dmn-js-shared/lib/util/DiUtil.js","webpack:///./node_modules/lodash/_LazyWrapper.js","webpack:///./node_modules/lodash/_baseLodash.js","webpack:///./node_modules/lodash/_getHolder.js","webpack:///./node_modules/dmn-js-decision-table/node_modules/diagram-js/lib/features/rules/RuleProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/rules/DecisionTableModelingRules.js","webpack:///./node_modules/diagram-js/lib/features/rules/Rules.js","webpack:///./node_modules/diagram-js/lib/features/rules/index.js","webpack:///./node_modules/table-js/lib/features/rules/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/rules/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/IdGenerator.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/overlays/Overlays.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/overlays/index.js","webpack:///./node_modules/table-js/lib/features/interaction-events/InteractionEvents.js","webpack:///./node_modules/table-js/lib/features/interaction-events/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/definition-properties/DefinitionPropertiesView.js","webpack:///./node_modules/dmn-js-drd/lib/features/definition-properties/viewer.js","webpack:///./node_modules/dmn-js-shared/lib/util/CompatibilityUtils.js","webpack:///./node_modules/dmn-js-shared/node_modules/diagram-js/lib/core/EventBus.js","webpack:///./node_modules/dmn-js-drd/node_modules/path-intersection/intersect.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/core/ElementFactory.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/model/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/definition-properties/PaletteAdapter.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/ClickTrap.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Cursor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/keyboard/KeyboardUtil.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/keyboard/Keyboard.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/_baseSetData.js","webpack:///./node_modules/lodash/_metaMap.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/lodash/_getData.js","webpack:///./node_modules/lodash/_LodashWrapper.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_setData.js","webpack:///./node_modules/lodash/_setWrapToString.js","webpack:///./node_modules/dmn-js/dist/assets/dmn-font/font/dmn.eot","webpack:///./node_modules/dmn-js-drd/node_modules/didi/dist/index.esm.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/draw/BaseRenderer.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/draw/DefaultRenderer.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/draw/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/draw/Styles.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/core/Canvas.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/core/ElementRegistry.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/core/EventBus.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/core/GraphicsFactory.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/core/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/Diagram.js","webpack:///./node_modules/dmn-js-drd/lib/import/DrdTreeWalker.js","webpack:///./node_modules/dmn-js-drd/lib/draw/DrdRenderer.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Text.js","webpack:///./node_modules/dmn-js-drd/lib/draw/TextRenderer.js","webpack:///./node_modules/dmn-js-drd/lib/draw/PathMap.js","webpack:///./node_modules/dmn-js-drd/lib/draw/index.js","webpack:///./node_modules/dmn-js-drd/lib/import/DrdImporter.js","webpack:///./node_modules/dmn-js-drd/lib/import/index.js","webpack:///./node_modules/dmn-js-drd/lib/core/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/drill-down/DrillDown.js","webpack:///./node_modules/dmn-js-drd/lib/features/drill-down/index.js","webpack:///./node_modules/dmn-js-drd/lib/util/PoweredByUtil.js","webpack:///./node_modules/dmn-js-drd/lib/Viewer.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Math.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js","webpack:///./node_modules/dmn-js-drd/lib/import/Importer.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/zoomscroll/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/movecanvas/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/touch/TouchInteractionEvents.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/touch/TouchFix.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/touch/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/touch/index.js","webpack:///./node_modules/dmn-js-drd/lib/NavigatedViewer.js","webpack:///./node_modules/dmn-js-shared/node_modules/moddle/dist/index.esm.js","webpack:///./node_modules/dmn-js-shared/node_modules/saxen/dist/index.esm.js","webpack:///./node_modules/dmn-js-shared/node_modules/moddle-xml/dist/index.esm.js","webpack:///./node_modules/dmn-js-shared/node_modules/dmn-moddle/dist/index.esm.js","webpack:///./node_modules/dmn-js-shared/lib/base/Manager.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/copy-cut-paste/cmd/CutHandler.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/copy-cut-paste/DescriptorUtil.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/copy-cut-paste/cmd/PasteHandler.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/copy-cut-paste/CopyCutPaste.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/copy-cut-paste/index.js","webpack:///./node_modules/diagram-js/lib/i18n/translate/index.js","webpack:///./node_modules/diagram-js/lib/i18n/translate/translate.js","webpack:///./node_modules/table-js/lib/features/editor-actions/EditorActions.js","webpack:///./node_modules/table-js/lib/features/editor-actions/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/outline/Outline.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/outline/index.js","webpack:///./node_modules/dmn-js-decision-table/node_modules/diagram-js/lib/features/clipboard/Clipboard.js","webpack:///./node_modules/dmn-js-decision-table/node_modules/diagram-js/lib/features/clipboard/index.js","webpack:///./node_modules/dmn-js-shared/node_modules/ids/index.js","webpack:///./node_modules/hammerjs/hammer.js","webpack:///./node_modules/dmn-js-decision-table/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/escape-html/index.js","webpack:///./node_modules/lodash/reduce.js","webpack:///./node_modules/lodash/_arrayReduce.js","webpack:///./node_modules/lodash/_baseReduce.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/bind.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/lodash/_isLaziable.js","webpack:///./node_modules/lodash/_getFuncName.js","webpack:///./node_modules/lodash/_realNames.js","webpack:///./node_modules/lodash/wrapperLodash.js","webpack:///./node_modules/lodash/_wrapperClone.js","webpack:///./node_modules/lodash/_getWrapDetails.js","webpack:///./node_modules/lodash/_insertWrapDetails.js","webpack:///./node_modules/lodash/_updateWrapDetails.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_mergeData.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/diagram-js/lib/util/Elements.js","webpack:///./node_modules/diagram-js/lib/draw/BaseRenderer.js","webpack:///./node_modules/dmn-js/dist/assets/diagram-js.css?fc81","webpack:///./node_modules/dmn-js/dist/assets/diagram-js.css","webpack:///./node_modules/dmn-js/dist/assets/dmn-font/css/dmn-embedded.css?6662","webpack:///./node_modules/dmn-js/dist/assets/dmn-font/css/dmn-embedded.css","webpack:///./node_modules/dmn-js/dist/assets/dmn-font/font/dmn.svg","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-decision-table-controls.css?907d","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-decision-table-controls.css","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-decision-table.css?f7e0","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-decision-table.css","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-drd.css?38a1","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-drd.css","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-literal-expression.css?ad37","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-literal-expression.css","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-shared.css?d48f","webpack:///./node_modules/dmn-js/dist/assets/dmn-js-shared.css","webpack:///./node_modules/dmn-js-properties-panel/dist/assets/dmn-js-properties-panel.css?73a7","webpack:///./node_modules/dmn-js-properties-panel/dist/assets/dmn-js-properties-panel.css","webpack:///./node_modules/dmn-js-shared/lib/base/EditingManager.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/align-elements/AlignElements.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/align-elements/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/auto-place/AutoPlaceUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/auto-place/AutoPlace.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/auto-place/AutoPlaceSelectionBehavior.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/auto-place/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/ElementFactory.js","webpack:///./node_modules/dmn-js-drd/lib/features/auto-place/DmnAutoPlaceUtil.js","webpack:///./node_modules/dmn-js-drd/lib/features/auto-place/DmnAutoPlace.js","webpack:///./node_modules/dmn-js-drd/lib/features/auto-place/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/hover-fix/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/dragging/Dragging.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/dragging/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/auto-scroll/AutoScroll.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/auto-scroll/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/rules/Rules.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/rules/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/LineIntersection.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/snapping/SnapUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/bendpoints/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/context-pad/ContextPad.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/context-pad/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/connect/Connect.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/connect/ConnectPreview.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/connect/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/preview-support/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/create/Create.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/create/CreatePreview.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/create/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/popup-menu/PopupMenu.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/popup-menu/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/replace/Replace.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/replace/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/replace/DrdReplace.js","webpack:///./node_modules/dmn-js-drd/lib/features/replace/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/replace/ReplaceOptions.js","webpack:///./node_modules/dmn-js-drd/lib/features/popup-menu/ReplaceMenuProvider.js","webpack:///./node_modules/dmn-js-drd/lib/features/popup-menu/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/context-pad/ContextPadProvider.js","webpack:///./node_modules/dmn-js-drd/lib/features/context-pad/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/connection-preview/index.js","webpack:///./node_modules/dmn-js-shared/lib/util/IdsUtil.js","webpack:///./node_modules/dmn-js-drd/lib/features/definition-properties/DefinitionPropertiesEdit.js","webpack:///./node_modules/dmn-js-drd/lib/features/definition-properties/modeler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/distribute-elements/DistributeElements.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/distribute-elements/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/distribute-elements/DrdDistributeElements.js","webpack:///./node_modules/dmn-js-drd/lib/features/distribute-elements/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/editor-actions/EditorActions.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/editor-actions/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/editor-actions/DrdEditorActions.js","webpack:///./node_modules/dmn-js-drd/lib/features/editor-actions/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/generate-di/DiGenerator.js","webpack:///./node_modules/dmn-js-drd/lib/features/generate-di/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/grid-snapping/GridSnapping.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/command/CommandInterceptor.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/grid-snapping/behavior/ResizeBehavior.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/grid-snapping/behavior/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/grid-snapping/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/keyboard/Keyboard.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/keyboard/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/keyboard/DrdKeyboardBindings.js","webpack:///./node_modules/dmn-js-drd/lib/features/keyboard/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/keyboard-move/KeyboardMove.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/navigation/keyboard-move/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/keyboard-move-selection/KeyboardMoveSelection.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/keyboard-move-selection/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/command/CommandStack.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/command/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/change-support/ChangeSupport.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/change-support/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/label-editing/LabelUtil.js","webpack:///./node_modules/dmn-js-drd/lib/features/label-editing/LabelEditingProvider.js","webpack:///./node_modules/dmn-js-drd/lib/features/label-editing/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/behavior/CreateConnectionBehavior.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/behavior/LayoutConnectionBehavior.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/behavior/ReplaceConnectionBehavior.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/behavior/ReplaceElementBehavior.js","webpack:///./node_modules/dmn-js-shared/node_modules/diagram-js/lib/command/CommandInterceptor.js","webpack:///./node_modules/dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/behavior/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/rules/RuleProvider.js","webpack:///./node_modules/dmn-js-drd/lib/features/rules/DrdRules.js","webpack:///./node_modules/dmn-js-drd/lib/features/rules/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/DrdFactory.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/DrdUpdater.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/Removal.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/util/AttachUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/modeling/Modeling.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/cmd/IdClaimHandler.js","webpack:///./node_modules/dmn-js-drd/lib/features/label-editing/cmd/UpdateLabelHandler.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/cmd/UpdatePropertiesHandler.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/Modeling.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/layout/BaseLayouter.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/DrdLayouter.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/layout/CroppingConnectionDocking.js","webpack:///./node_modules/dmn-js-drd/lib/features/modeling/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/move/Move.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/move/MovePreview.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/move/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/palette/Palette.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/palette/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/tool-manager/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/mouse/Mouse.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/mouse/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/lasso-tool/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/hand-tool/HandTool.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/hand-tool/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/palette/PaletteProvider.js","webpack:///./node_modules/dmn-js-drd/lib/features/palette/index.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/resize/ResizeUtil.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/resize/Resize.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/resize/ResizePreview.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/resize/ResizeHandles.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/resize/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/snapping/DrdBendpointSnapping.js","webpack:///./node_modules/dmn-js-drd/lib/features/snapping/DrdConnectSnapping.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/snapping/SnapContext.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/snapping/Snapping.js","webpack:///./node_modules/dmn-js-drd/node_modules/diagram-js/lib/features/snapping/index.js","webpack:///./node_modules/dmn-js-drd/lib/features/snapping/index.js","webpack:///./node_modules/dmn-js-drd/lib/Modeler.js","webpack:///./node_modules/table-js/node_modules/didi/dist/index.esm.js","webpack:///./node_modules/table-js/lib/core/ElementFactory.js","webpack:///./node_modules/table-js/lib/core/ElementRegistry.js","webpack:///./node_modules/diagram-js/lib/core/EventBus.js","webpack:///./node_modules/table-js/lib/render/ChangeSupport.js","webpack:///./node_modules/table-js/lib/render/Components.js","webpack:///./node_modules/inferno/dist/index.esm.js","webpack:///./node_modules/table-js/lib/render/components/TableComponent.js","webpack:///./node_modules/table-js/lib/render/Renderer.js","webpack:///./node_modules/table-js/lib/render/index.js","webpack:///./node_modules/table-js/lib/core/Sheet.js","webpack:///./node_modules/table-js/lib/core/Throttle.js","webpack:///./node_modules/table-js/lib/core/index.js","webpack:///./node_modules/table-js/lib/Table.js","webpack:///./node_modules/table-js/lib/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/import/Util.js","webpack:///./node_modules/dmn-js-decision-table/lib/import/TableTreeWalker.js","webpack:///./node_modules/dmn-js-decision-table/node_modules/diagram-js/lib/i18n/translate/index.js","webpack:///./node_modules/dmn-js-decision-table/node_modules/diagram-js/lib/i18n/translate/translate.js","webpack:///./node_modules/table-js/lib/components/utils/inject.js","webpack:///./node_modules/table-js/lib/components/utils/mixin.js","webpack:///./node_modules/table-js/lib/components/utils/compose.js","webpack:///./node_modules/dmn-js-shared/lib/components/mixins/ComponentWithSlots.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/annotations/components/AnnotationHeader.js","webpack:///./node_modules/table-js/lib/components/utils/classNames.js","webpack:///./node_modules/table-js/lib/components/mixins/SelectionAware.js","webpack:///./node_modules/table-js/lib/components/BaseCell.js","webpack:///./node_modules/table-js/lib/components/Cell.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/annotations/components/AnnotationCell.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/annotations/AnnotationsProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/annotations/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/import/TableImporter.js","webpack:///./node_modules/dmn-js-decision-table/lib/import/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/core/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/components/DecisionTableHead.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/DecisionTableHeadProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-properties/components/DecisionTablePropertiesComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-properties/DecisionTableProperties.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-properties/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rule-indices/components/DecisionRuleIndexCellComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rule-indices/DecisionRuleIndices.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rule-indices/index.js","webpack:///./node_modules/dmn-js-shared/lib/features/expression-languages/ExpressionLanguages.js","webpack:///./node_modules/dmn-js-shared/lib/features/expression-languages/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/components/DecisionRulesBodyComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/components/DecisionRulesRowComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/components/DecisionRulesCellComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/DecisionRules.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/hit-policy/HitPolicies.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/hit-policy/components/HitPolicy.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/hit-policy/HitPolicyProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/hit-policy/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/view-drd/components/ViewDrdComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/view-drd/ViewDrd.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/view-drd/index.js","webpack:///./node_modules/dmn-js-shared/lib/components/Logo.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/powered-by/components/PoweredByLogoComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/powered-by/components/PoweredByOverlayComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/powered-by/PoweredBy.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/powered-by/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/Viewer.js","webpack:///./node_modules/dmn-js-decision-table/lib/import/Importer.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/add-rule/components/AddRuleFootComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/add-rule/AddRule.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/add-rule/index.js","webpack:///./node_modules/dmn-js-shared/lib/components/ContentEditable.js","webpack:///./node_modules/dmn-js-shared/lib/components/EditableComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/annotations/editor/components/AnnotationCell.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/annotations/editor/AnnotationsEditingProvider.js","webpack:///./node_modules/dmn-js-shared/lib/features/debounce-input/debounceInput.js","webpack:///./node_modules/dmn-js-shared/lib/features/debounce-input/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/annotations/editor/index.js","webpack:///./node_modules/table-js/lib/features/context-menu/components/ContextMenuComponent.js","webpack:///./node_modules/table-js/lib/features/context-menu/ContextMenu.js","webpack:///./node_modules/table-js/lib/features/context-menu/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/copy-cut-paste/key-bindings/CopyCutPasteKeyBindings.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/copy-cut-paste/key-bindings/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/create-inputs/components/CreateInputHeaderCell.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/create-inputs/components/CreateInputCell.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/create-inputs/CreateInputsProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/create-inputs/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/context-menu/ContextMenu.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/context-menu/ContextMenuCloseBehavior.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/context-menu/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/components/OutputCell.js","webpack:///./node_modules/dmn-js-shared/lib/components/Input.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/components/OutputEditor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/components/OutputCellContextMenu.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/OutputEditingProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/components/InputCell.js","webpack:///./node_modules/dmn-js-shared/lib/components/InputSelect.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/components/InputEditor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/components/InputCellContextMenu.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/InputEditingProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/type-ref/components/TypeRefCellContextMenu.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/type-ref/TypeRefEditingProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/type-ref/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/allowed-values/behavior/AllowedValuesUpdateBehavior.js","webpack:///./node_modules/dmn-js-shared/lib/components/List.js","webpack:///./node_modules/dmn-js-shared/lib/components/ValidatedInput.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/allowed-values/Utils.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/allowed-values/components/AllowedValuesEditing.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/allowed-values/AllowedValuesEditingProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/allowed-values/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/add-input-output/components/AddInput.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/add-input-output/components/AddOutput.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/add-input-output/AddInputOutputProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/add-input-output/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/keyboard/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-head/editor/index.js","webpack:///./node_modules/table-js/lib/features/drag-and-drop/DragAndDrop.js","webpack:///./node_modules/table-js/lib/features/drag-and-drop/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/drag-and-drop/DragAndDrop.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/drag-and-drop/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/description/components/DescriptionEditor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/description/Description.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/description/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/expression-language/ExpressionLanguage.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/expression-language/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-properties/components/DecisionTablePropertiesEditorComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-properties/DecisionTablePropertiesEditor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-table-properties/editor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/hit-policy/editor/components/EditableHitPolicy.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/hit-policy/editor/HitPolicyEditingProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/hit-policy/editor/index.js","webpack:///./node_modules/diagram-js/lib/command/CommandStack.js","webpack:///./node_modules/diagram-js/lib/command/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/DmnUpdater.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/DmnFactory.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/ElementFactory.js","webpack:///./node_modules/table-js/lib/features/modeling/cmd/AddRowHandler.js","webpack:///./node_modules/table-js/lib/features/modeling/cmd/RemoveRowHandler.js","webpack:///./node_modules/table-js/lib/features/modeling/cmd/MoveRowHandler.js","webpack:///./node_modules/table-js/lib/features/modeling/cmd/AddColHandler.js","webpack:///./node_modules/table-js/lib/features/modeling/cmd/RemoveColHandler.js","webpack:///./node_modules/table-js/lib/features/modeling/cmd/MoveColHandler.js","webpack:///./node_modules/table-js/lib/features/modeling/cmd/EditCellHandler.js","webpack:///./node_modules/table-js/lib/features/modeling/Modeling.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/cmd/UpdateAllowedValuesHandler.js","webpack:///./node_modules/dmn-js-shared/lib/features/modeling/cmd/UpdatePropertiesHandler.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/cmd/IdClaimHandler.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/Modeling.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/behavior/IdClaimBehavior.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/behavior/IdUnclaimBehavior.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/behavior/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/modeling/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/components/DecisionRulesCellEditorComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/DecisionRulesEditor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/decision-rules/editor.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-mode/components/SimpleModeButtonComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-mode/SimpleMode.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-mode/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-boolean-edit/components/BooleanEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-boolean-edit/Utils.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-boolean-edit/SimpleBooleanEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-boolean-edit/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-date-edit/Utils.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-date-edit/components/InputDateEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-date-edit/components/OutputDateEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-date-edit/SimpleDateEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-date-edit/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-number-edit/Utils.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-number-edit/components/InputNumberEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-number-edit/components/OutputNumberEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-number-edit/SimpleNumberEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-number-edit/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-string-edit/Utils.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-string-edit/components/SimpleStringEditContextMenuComponent.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-string-edit/SimpleStringEdit.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/simple-string-edit/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/column-resize/components/ResizeColumn.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/column-resize/ColumnResizeProvider.js","webpack:///./node_modules/dmn-js-decision-table/lib/features/column-resize/index.js","webpack:///./node_modules/dmn-js-decision-table/lib/Editor.js","webpack:///./node_modules/dmn-js-shared/node_modules/didi/dist/index.esm.js","webpack:///./node_modules/dmn-js-shared/lib/base/viewer/core/ChangeSupport.js","webpack:///./node_modules/dmn-js-shared/lib/base/viewer/core/Components.js","webpack:///./node_modules/dmn-js-shared/lib/base/viewer/core/components/ViewerComponent.js","webpack:///./node_modules/dmn-js-shared/lib/base/viewer/core/Renderer.js","webpack:///./node_modules/dmn-js-shared/lib/base/viewer/core/index.js","webpack:///./node_modules/dmn-js-shared/lib/base/viewer/Viewer.js","webpack:///./node_modules/dmn-js-literal-expression/lib/core/ElementRegistry.js","webpack:///./node_modules/dmn-js-literal-expression/lib/core/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/decision-properties/components/DecisionPropertiesComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/decision-properties/DecisionProperties.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/decision-properties/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/literal-expression-properties/components/LiteralExpressionPropertiesComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/literal-expression-properties/LiteralExpressionProperties.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/literal-expression-properties/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/powered-by/components/PoweredByLogoComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/powered-by/components/PoweredByOverlayComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/powered-by/PoweredBy.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/powered-by/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/textarea/components/TextareaComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/textarea/Textarea.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/textarea/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/view-drd/components/ViewDrdComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/view-drd/ViewDrd.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/view-drd/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/Viewer.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/decision-properties/components/DecisionPropertiesEditorComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/decision-properties/DecisionPropertiesEditor.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/decision-properties/editor.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/editor-actions/EditorActions.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/editor-actions/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/keyboard/KeyboardUtil.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/keyboard/Keyboard.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/keyboard/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/literal-expression-properties/components/LiteralExpressionPropertiesEditorComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/literal-expression-properties/LiteralExpressionPropertiesEditor.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/literal-expression-properties/editor.js","webpack:///./node_modules/dmn-js-literal-expression/node_modules/diagram-js/lib/command/CommandStack.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/modeling/Modeling.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/modeling/index.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/textarea/components/TextareaEditorComponent.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/textarea/TextareaEditor.js","webpack:///./node_modules/dmn-js-literal-expression/lib/features/textarea/editor.js","webpack:///./node_modules/dmn-js-literal-expression/lib/Editor.js","webpack:///./node_modules/dmn-js/lib/Modeler.js","webpack:///./node_modules/dmn-js-properties-panel/lib/PropertiesActivator.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/EntryFieldDescription.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/TextInputEntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/helper/CmdHelper.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/CheckboxEntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/SelectEntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/ComboEntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/TextBoxEntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/ValidationAwareTextInput.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/TableEntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/LabelFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/LinkEntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/factory/EntryFactory.js","webpack:///./node_modules/dmn-js-properties-panel/lib/provider/dmn/parts/NameProps.js","webpack:///./node_modules/dmn-js-properties-panel/lib/provider/dmn/parts/implementation/Name.js","webpack:///./node_modules/dmn-js-properties-panel/lib/provider/camunda/CamundaPropertiesProvider.js","webpack:///./node_modules/dmn-js-properties-panel/lib/provider/dmn/parts/IdProps.js","webpack:///./node_modules/dmn-js-properties-panel/lib/provider/camunda/parts/VersionTagProps.js","webpack:///./node_modules/dmn-js-properties-panel/lib/provider/camunda/parts/HistoryTimeToLiveProps.js","webpack:///./node_modules/dmn-js-properties-panel/lib/provider/camunda/index.js","webpack:///./node_modules/dmn-moddle/node_modules/moddle/dist/index.esm.js","webpack:///./node_modules/dmn-moddle/node_modules/moddle-xml/dist/index.esm.js","webpack:///./node_modules/dmn-moddle/dist/index.esm.js","webpack:///./node_modules/@bpmn-io/dmn-migrate/node_modules/ids/dist/index.esm.js","webpack:///./node_modules/@bpmn-io/dmn-migrate/node_modules/min-dash/dist/index.esm.js","webpack:///./node_modules/@bpmn-io/dmn-migrate/dist/index.esm.js","webpack:///./node_modules/dmn-js-properties-panel/lib/cmd/UpdateBusinessObjectHandler.js","webpack:///./node_modules/dmn-js-properties-panel/lib/cmd/index.js","webpack:///./node_modules/dmn-js-properties-panel/lib/PropertiesPanel.js","webpack:///./node_modules/dmn-js-properties-panel/lib/index.js","webpack:///./node_modules/dmn-js-properties-panel/index.js","webpack:///./node_modules/dmn-js-properties-panel/lib/adapter/drd/DrdAdapter.js","webpack:///./node_modules/dmn-js-properties-panel/lib/adapter/drd/index.js"],"names":["is","element","type","bo","getBusinessObject","$instanceOf","isInput","isOutput","businessObject","getName","name","isAny","types","t","ensureImported","target","ownerDocument","importNode","e","appendTo","appendChild","append","node","CSS_PROPERTIES","setAttribute","value","hyphenated","replace","toLowerCase","String","style","setAttributeNS","attr","undefined","getAttributeNS","getAttribute","attrs","i","names","Object","keys","setAttributes","index","arr","obj","indexOf","length","re","toString","prototype","defined","o","classes","el","ClassList","nodeType","Error","this","list","classList","remove","parent","parentNode","removeChild","clear","child","firstChild","clone","cloneNode","add","array","push","className","baseVal","join","call","removeMatching","splice","test","toggle","force","has","split","shift","contains","ns","SVG_START","parse","svg","unwrap","substring","parsed","parser","DOMParser","async","parseFromString","parseDocument","fragment","document","createDocumentFragment","create","charAt","createElementNS","extend","object","props","k","createMatrix","a","b","c","d","f","matrix","createSVGMatrix","arguments","createTransform","createSVGTransformFromMatrix","createSVGTransform","wrapMatrix","transformList","transform","SVGMatrix","transforms","Array","isArray","appendItem","setTransforms","consolidate","roundBounds","bounds","x","Math","round","y","width","height","roundPoint","point","asTRBL","top","right","bottom","left","asBounds","trbl","getMid","getOrientation","rect","reference","padding","rectOrientation","referenceOrientation","vertical","horizontal","getElementLineIntersection","elementPath","linePath","cropStart","intersections","distance","floor","t2","segment2","filterRedundantWaypoints","waypoints","slice","previousPoint","nextPoint","idx","getParents","elements","getParent","unique","canAdd","eachElement","fn","depth","s","filter","selfAndChildren","maxDepth","result","processedChildren","children","selfAndAllChildren","allowDuplicates","getClosure","isTopLevel","closure","allShapes","copyObject","allConnections","enclosedElements","enclosedConnections","topLevel","id","handleConnection","source","incoming","outgoing","getBBox","stopRecursion","minX","minY","maxX","maxY","bbox","getEnclosedElements","filteredElements","getType","isFrameElement","isFrame","src1","src2","SPACE_REGEX","QNAME_REGEX","ID_REGEX","HTML_ESCAPE_MAP","'","isIdValid","idValue","translate","assigned","$model","ids","validateId","escapeHTML","str","match","_typeof","Symbol","iterator","constructor","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","TypeError","writable","configurable","_setPrototypeOf","p","_classCallCheck","instance","Constructor","Base","defineProperty","Root","_Base","_this","enumerable","rows","cols","Row","_Base2","_this2","cells","Col","_Base3","_this3","Cell","_Base4","_this4","TYPES","root","row","col","cell","Type","prop","options","Selection","eventBus","canvas","_eventBus","_canvas","_selectedElements","on","deselect","select","$inject","selectedElements","oldSelection","fire","newSelection","get","isSelected","findPlane","getActivePlane","SelectionVisuals","events","selection","styles","addMarker","cls","removeMarker","_multiSelectionBox","event","SelectionBehavior","elementRegistry","context","canExecute","autoSelect","hints","isShown","hover","previousSelection","shape","selectedShape","getRootElement","isMultiSelect","hidden","__init__","__depends__","selectionVisuals","selectionBehavior","gfx","angle","amount","setTranslate","rotate","setRotate","scale","setScale","__stopPropagation","stopPropagation","getOriginal","originalEvent","srcEvent","immediate","toPoint","pointers","touches","clientX","clientY","isButton","button","isPrimaryButton","isAuxiliaryButton","hasPrimaryModifier","navigator","platform","metaKey","ctrlKey","hasSecondaryModifier","shiftKey","collection","currentIdx","_defineProperties","descriptor","key","_createClass","protoProps","staticProps","DecisionTableEditorActions","copyCutPaste","editorActions","modeling","cellSelection","sheet","actions","addRule","addRow","addRuleAbove","rule","hasSelection","getRoot","addRuleBelow","removeRule","removeRow","addInput","input","addCol","addInputLeft","addInputRight","removeInput","removeCol","addOutput","output","addOutputLeft","addOutputRight","removeOutput","addClause","clause","addClauseLeft","addClauseRight","removeClause","selectCellAbove","selectCell","selectCellBelow","copy","_ref","cut","_ref2","pasteBefore","_ref3","pasteAfter","_ref4","register","decisionTableEditorActions","module","exports","ctor","superCtor","super_","TempCtor","pointDistance","sqrt","pow","pointsOnLine","q","r","accuracy","val","dist","abs","pointsAligned","points","firstPoint","pointsAlignedHorizontally","pointsAlignedVertically","getMidPoint","center","delta","_slicedToArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","n","from","_unsupportedIterableToArray","_nonIterableRest","len","arr2","getElementId","getElementCoords","coordsAttr","_coordsAttr$split2","getNodeByCoords","elementCoords","container","concat","getNodeById","elementId","isUnselectableNode","findSelectableAncestor","getFocusableNode","ensureFocus","focusEl","body","activeElement","focus","range","end","start","CommandInterceptor","hook","priority","handlerFn","that","fullEvent","command","unwrapEvent","componentXor","globals","componentProps","ret","_","prefixed","map","domIterator","Iterator","peeked","closingTag","_revisit","_selects","_rejects","higher","traverse","dir","expr","peek","compile","closing","revisit","selects","rejects","reset","opening","atOpening","atClosing","previous","prev","exprs","reject","Function","peak","use","window","getSelection","applyRange","removeAllRanges","addRange","getWindowSelection","setRange","createRange","isClosing","count","setStartAfter","setStartBefore","setEndAfter","setEndBefore","isBr","previousSibling","isDiv","isParagraph","isText","textContent","setStart","setEnd","lastChild","getRange","rangeCount","focusNode","last","selectionStart","getRangeAt","startContainer","endContainer","startOffset","endOffset","isBeforeEnd","referenceNode","childNodes","isBeforeStart","nextSibling","nodeName","baseCreate","isObject","Ctor","args","thisBinding","apply","placeholder","resIndex","renderer","_elementRegistry","_renderer","_selection","currentSelection","VALID_DIRECTIONS","above","below","CellSelection","config","lastSelection","emit","realSelect","focussed","selected","selectableNode","defaultPrevented","actualElement","oldElementId","isCellSelected","getCellSelection","direction","selectionEl","coords","nextCoords","rowIndex","parseInt","isNaN","colIndex","getNextCoords","nextNode","nextElId","template","replacements","allowAll","allowPrimaryAndAuxiliary","InteractionEvents","localEventName","ignoredFilters","isIgnored","getGraphics","delegateTarget","preventDefault","handlers","mouseHandler","bindings","click","contextmenu","dblclick","mousedown","mousemove","mouseover","mouseout","mouseup","registerEvent","localEvent","ignoredFilter","handler","$delegate","bind","unregisterEvent","unbind","createDefaultHit","updateDefaultHit","STROKE_HIT_STYLE","createHitStyle","CLICK_STROKE_HIT_STYLE","HIT_TYPES","classNames","stroke","strokeWidth","applyStyle","hit","appendHit","removeHits","hits","boxType","createWaypointsHit","createBoxHit","triggerMouseEvent","eventName","targetElement","interactionEvents","componentsToPath","toSVGPoints","createLine","line","updateLine","getVisual","getChildren","containsDi","definitions","dmnDI","diagrams","baseLodash","LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","func","RuleProvider","init","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","Super","NewTarget","forEach","action","_RuleProvider","DecisionTableModelingRules","_super","_sheet","data","canPasteRows","canPasteCols","cellDescriptor","$type","targetCol","Rules","injector","_commandStack","allowed","commandStack","rules","decisionTableModelingRules","IdGenerator","prefix","_counter","_prefix","random","Overlays","_ids","_overlayDefaults","show","defaults","_overlays","_overlayContainers","_overlayRoot","getContainer","insertBefore","_init","setPosition","setVisible","visible","display","setTransform","search","_getOverlayContainer","overlays","overlay","position","html","_addOverlay","htmlContainer","hide","_updateOverlayContainer","_updateOverlay","_createOverlayContainer","_updateRoot","viewbox","raw","overlayContainer","jquery","plane","activePlane","_updateOverlayVisibilty","minZoom","maxZoom","_updateOverlayScale","minScale","maxScale","shouldScale","min","max","_updateOverlaysVisibilty","marker","EVENTS","createEvent","cancelBubble","_container","_addEventListeners","_removeEventListeners","addEventListener","_handleEvent","removeEventListener","DefinitionPropertiesView","error","update","HTML_MARKUP","nameElement","idElement","definitionPropertiesView","definitionPropertiesPaletteAdapter","PaletteAdapter","wrapForCompatibility","api","Promise","argLen","callback","console","warn","replaceBoundPrefix","argsWithoutCallback","then","firstKey","warnings","string","EventBus","_listeners","_destroy","InternalEvent","actualCallback","_addListener","once","wrappedCallback","__isTomb","off","_removeListener","firstListener","returnValue","originalType","_invokeListeners","handleError","listener","_invokeListener","invokeFunction","newListener","previousListener","_getListeners","_setListeners","nextListener","listenerCallback","p2s","toFloat","parseFloat","math","PI","mmin","mmax","pathCommand","pathValues","hasProperty","property","hasOwnProperty","res","repush","item","ii","paths","ps","sleep","setTimeout","rectBBox","x2","y2","pathToString","pathClone","pathArray","findDotsAtSegment","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","t1","t13","t12","t3","fixError","bezierBBox","curveBBox","x0","y0","x1","y1","isPointInsideBBox","base3","p1","p2","p3","p4","bezlen","x3","y3","x4","y4","z","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","intersectLines","ny","denominator","px","py","px2","toFixed","py2","number","findBezierIntersections","bez1","bez2","justCount","bbox1","bbox2","isBBoxIntersect","l1","l2","n1","isLine","n2","dots1","dots2","xy","j","di","di1","dj","dj1","ci","cj","pathToAbsolute","pth","pathString","paramCounts","h","l","m","v","params","parsePathString","pa0","mx","my","pa","toUpperCase","jj","kk","bez","lineToCurve","qubicToCurve","ax","ay","arcToCurve","rx","ry","large_arc_flag","sweep_flag","recursive","_120","rad","cos","sin","newf","arg","cache","f1","f2","cx","cy","rx2","ry2","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","b2ac","sqrtb2ac","tvalues","mt","jlen","pathToCurve","path","curve","curvedPath","bx","by","X","Y","qx","qy","processPath","nx","T","Q","fixArc","pp","pi","pathCommands","pfirst","seg","seglen","path1","path2","x1m","y1m","x2m","y2m","pj","intr","segment1","ElementFactory","_uid","createRoot","createLabel","createShape","createConnection","parentRefs","labelRefs","attacherRefs","outgoingRefs","incomingRefs","labels","set","newLabel","label","Shape","Label","Connection","connection","toggleMarker","twoColumn","install","trap","CURSOR_CLS_PATTERN","mode","unset","isCmd","modifiers","altKey","isShift","_defineProperty","Keyboard","_registerDefaultBindings","_fire","listeners","code","keyCode","charCode","_node","_keyHandler","_config","_editorActions","_cellSelection","bindTo","trigger","changed","selectedCell","listenerFn","unshift","toFinite","remainder","identity","metaMap","baseSetData","WeakMap","composeArgs","composeArgsRight","countHolders","createCtor","createRecurry","getHolder","reorder","replaceHolders","createHybrid","bitmask","thisArg","partials","holders","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isCurried","isFlip","wrapper","holdersCount","newHolders","reverse","nativeMax","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","holdersIndex","rightIndex","rightLength","offset","isLaziable","setData","setWrapToString","wrapFunc","isCurry","newData","noop","getData","LodashWrapper","chainAll","__chain__","__index__","__values__","shortOut","getWrapDetails","insertWrapDetails","setToString","updateWrapDetails","CLASS_PATTERN","hasOwnProp","annotate","pop","CONSTRUCTOR_ARGS","FN_ARGS","FN_ARG","parseAnnotations","isClass","trim","Module","providers","factory","Injector","modules","strict","currentlyResolving","_providers","instances","_instances","msg","stack","parts","pivot","fnDef","locals","dependencies","dep","instantiate","def","invoke","createPrivateInjectorFactory","privateChildInjector","factoryMap","arrayUnwrap","provider","__exports__","clonedModule","reduce","privateInjector","__modules__","getFromPrivateInjector","createChild","forceNewInstances","cacheIdx","privateChildInjectorFactory","fromParentModule","matchedScopes","privateInjectorsCache","privateChildInjectors","privateChildFactories","$scope","scope","BaseRenderer","renderPriority","evt","visuals","canRender","drawShape","drawConnection","getShapePath","getConnectionPath","DefaultRenderer","CONNECTION_STYLE","SHAPE_STYLE","fill","FRAME_STYLE","strokeDasharray","shapePath","connectionPath","original","defaultRenderer","defaultTraits","strokeOpacity","pointerEvents","traits","additionalAttrs","computeStyle","custom","defaultStyles","resolution","ensurePx","createGroup","childIndex","group","REQUIRED_MODEL_ATTRS","Canvas","graphicsFactory","_graphicsFactory","setCTM","mstr","createElement","overflow","createContainer","_svg","viewport","_viewport","_layers","_planes","deferUpdate","_viewboxChanged","_cachedViewbox","_clear","_activePlane","getAll","setRootElementForPlane","_removeElement","getDefaultLayer","getLayer","layer","_createLayer","getPlane","createPlane","rootElement","isImplicit","svgLayer","setActivePlane","updateGraphics","getActiveLayer","findRoot","_updateMarker","_elements","secondaryGfx","hasMarker","setRootElement","override","basePlane","_ensureValid","currentRoot","requiredAttrs","_setParent","parentIndex","_addElement","addShape","addConnection","removeShape","removeConnection","secondary","_changeViewbox","changeFn","box","innerBox","outerBox","getSize","inner","outer","scroll","getCTM","dx","dy","multiply","scrollToElement","defaultPadding","targetPlane","elementBounds","elementTrbl","viewboxBounds","zoom","viewboxTrbl","dRight","dLeft","dBottom","dTop","newScale","_fitViewport","_setZoom","newViewbox","vbox","originalPoint","currentMatrix","scaleMatrix","newMatrix","createSVGPoint","currentScale","matrixTransform","inverse","clientWidth","clientHeight","getAbsoluteBBox","resized","ELEMENT_ID","ElementRegistry","_validateId","updateId","newId","filtered","find","GraphicsFactory","prependTo","newNode","siblingNode","_getChildrenContainer","childrenGfx","visual","_createContainer","outerGfx","updateContainments","parents","elementFactory","bootstrap","bootstrapModules","components","hasModule","visit","addModule","Diagram","createInjector","destroy","diRefs","DRDTreeWalker","deferred","visitIfDi","logError","message","handleDiagramElement","diagramElement","dmnElement","dmnElementRef","defer","handleDefinitions","diagram","diagramElements","handleDiagram","requirements","requirement","handleRequirements","handleAssociation","handleArtifacts","DrdRenderer","pathMap","textRenderer","markers","initMarkers","createMarker","strokeLinecap","ref","viewBox","refX","refY","markerWidth","markerHeight","orient","defs","associationStart","associationEnd","informationRequirementEnd","knowledgeRequirementEnd","authorityRequirementEnd","drawRect","renderLabel","text","createText","renderEmbeddedLabel","align","drawPath","knowledgeSource","getScaledPath","xScaleFactor","yScaleFactor","containerWidth","containerHeight","businessKnowledge","textElement","getSemantic","semantic","strokeLinejoin","associationDirection","markerEnd","markerStart","drawLine","DEFAULT_LABEL_SIZE","getTextBBox","fakeText","textBBox","emptyLine","layoutNext","lines","maxWidth","originalLine","fitLine","fit","shortenLine","shortenedLine","maxLength","part","shortenedParts","semanticShorten","Text","size","layoutText","getDimensions","dimensions","parseAlign","parsePadding","fitBox","lineHeight","fontSize","getLineHeight","layouted","helperText","helperSvg","getElementById","getHelperSvg","totalHeight","maxLineWidth","tspan","TextRenderer","defaultStyle","fontFamily","fontWeight","externalStyle","textUtil","getExternalLabelBounds","layoutedDimensions","ceil","getTextAnnotationBounds","getDefaultStyle","getExternalStyle","tokenRegex","objNotationRegex","drdRenderer","widthElements","heightElements","getRawPath","pathId","param","rawPath","abspos","coordinates","heightRatio","widthRatio","heightIndex","widthIndex","all","quote","quotedName","isFunc","replacer","DrdImporter","_elementFactory","elementData","getIdFromHref","href","elementDefinition","edge","waypoint","collectWaypoints","_getSource","_getTarget","elementReference","sourceRef","requiredDecision","requiredInput","requiredKnowledge","requiredAuthority","_getShape","targetRef","$parent","drdImporter","PROVIDERS","matches","decisionLogic","DrillDown","_injector","enabled","_PROVIDERS$i","addOverlay","overlayId","bindEventListener","overlaysRoot","drillDown","view","getView","open","BPMNIO_IMG","css","lightbox","LIGHTBOX_MARKUP","_excluded","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","Viewer","linkElement","log10","log","getStepSize","steps","minLinearRange","maxLinearRange","saveSVG","resolve","contentNode","defsNode","contents","outerHTML","getModules","_modules","additionalModules","additionalOptions","baseModules","drd","diagramOptions","attachTo","_emit","_definitions","importer","_element","render","importDRD","detach","sign","RANGE","ZoomScroll","_enabled","_handleWheel","_totalDelta","_scale","stepSize","NUM_STEPS","_zoom","isZoom","isHorizontalScroll","factor","deltaMode","elementRect","getBoundingClientRect","deltaY","deltaX","stepZoom","currentLinearZoomLevel","newLinearZoomLevel","newLogZoomLevel","newEnabled","handleWheel","oldEnabled","zoomScroll","MoveCanvas","handleMove","dragging","lastPosition","handleEnd","handleStart","isActive","moveCanvas","mouseEvents","service","stopEvent","stopImmediatePropagation","createTouchRecognizer","allowMouse","recognizer","Manager","inputClass","TouchInput","recognizers","domEvents","tap","Tap","pan","Pan","threshold","press","Press","pinch","Pinch","doubleTap","taps","requireFailure","session","stopped","stop","state","curRecognizer","TouchInteractionEvents","move","contextPad","palette","buttonType","getGfx","initEvents","startGrab","lx","ly","startGrabCanvas","mid","ratio","newZoom","MouseEvent","elementFromPoint","out","hoverGfx","padRecognizer","pad","TouchFix","addBBoxMarker","markerStyle","class","rect1","rect2","touchInteractionEvents","touchFix","NavigatedViewer","_navigationModules","Factory","model","properties","createType","isMany","default","defineModel","defineDescriptor","ModdleElement","define","hasType","BUILTINS","Integer","Real","Element","TYPE_CONVERTERS","coerceType","converter","isBuiltIn","isSimple","parseName","defaultPrefix","localName","DescriptorBuilder","nameNs","allTypes","allTypesByName","propertiesByName","Registry","packages","packageMap","typeMap","registerPackage","ensureAvailable","pkg","identifierKey","Properties","isReference","Moddle","registry","typeCache","build","addProperty","validate","addNamedProperty","replaceProperty","oldProperty","newProperty","oldNameNs","rename","isId","setIdProperty","isBody","setBodyProperty","redefineProperty","targetPropertyName","nsPrefix","attrName","redefinedProperty","redefines","propsByName","assertNotDefined","removeNamedProperty","bodyProperty","idProperty","propertyName","definedProperty","definedBy","addTrait","inherited","typesByName","typeName","replaces","getPackage","uriOrPrefix","getPackages","pkgMap","registerType","uri","extends","meta","propertyNs","extendsName","extended","definePackage","mapTypes","nsName","trait","traverseTrait","traverseSuper","parentNs","getEffectiveDescriptor","builder","$pkg","getPropertyDescriptor","$attrs","createAny","nsUri","isGeneric","getElementDescriptor","$descriptor","getTypeDescriptor","fromCharCode","ENTITY_PATTERN","ENTITY_MAPPING","replaceEntities","decodeEntities","missingNamespaceForPrefix","getter","getFn","cloneNsMatrix","nsMatrix","uriPrefix","noopGetContext","throwFunc","Parser","onText","onOpenTag","onCloseTag","onCDATA","onWarning","onComment","onQuestion","onAttention","nsUriToPrefix","proxy","onError","getContext","maybeNS","isNamespace","returnError","parseStop","handleWarning","cb","nsMap","_nsUriToPrefix","xml","_nsMatrix","w","xmlns","elementName","_elementName","elementProxy","cachedAttrs","nsMatrixStack","buildNsMatrix","nodeStack","anonymousNsCount","tagStart","tagEnd","attrsString","attrsStart","getAttrs","nsUriPrefix","hasNewMatrix","newalias","alias","skipAttr","defaultAlias","attrList","seenAttrs","parseAttr","charCodeAt","substr","getParseContext","splitsRe","column","startOfLine","endOfLine","exec","hasLowerCaseAlias","tagAlias","DEFAULT_NS_MAP","serializeFormat","serialize","serializeAsType","aliasToName","aliasNs","getModdleDescriptor","Context","elementsById","references","addReference","addElement","addWarning","warning","BaseHandler","NoopHandler","BodyHandler","ReferenceHandler","ValueHandler","propertyDesc","BaseElementHandler","ElementHandler","RootElementHandler","GenericElementHandler","Reader","lax","handleText","handleNode","createReference","handleChild","propNameNs","attributes","values","getPropertyForNode","elementTypeName","elementType","isAttr","typePrefix","prefixedToName","normalizeXsiTypeName","effectiveType","isVirtual","isAttribute","valueHandler","referenceHandler","childHandler","newElement","originalName","$children","$body","fromXML","rootHandler","createStack","ctx","PREAMBLE_START_PATTERN","ENCODING_PATTERN","UTF_8_PATTERN","handleCData","uriMap","decodeStr","selfClosing","decodedAttrs","handleOpen","question","encoding","resolveReferences","ESCAPE_ATTR_CHARS","ESCAPE_CHARS","Namespaces","prefixMap","used","wellknown","byUri","isWellknown","mapPrefix","uriByPrefix","getNSKey","logUsed","nsKey","getUsed","inherits","ESCAPE_ATTR_MAP","ESCAPE_MAP","charPattern","replaceMap","ReferenceSerializer","tagName","BodySerializer","ValueSerializer","ElementSerializer","propertyDescriptor","TypeSerializer","SavingWriter","write","FormatingWriter","format","indent","appendNewLine","appendIndent","unindent","Writer","preamble","toXML","tree","writer","internalWriter","formatingWriter","serializeTo","DmnModdle","serializeValue","escape","otherAttrs","elementDescriptor","parseGeneric","parseNsAttributes","nsPropertyTagName","nsTagName","addTagName","getSerializableProperties","parseAttributes","parseContainments","filterContained","parseGenericAttributes","getElementNs","logNamespaceUsed","getPropertyNs","isLocalNs","nsAttributeName","effectiveNs","getNamespaces","parseNsAttribute","logNamespace","actualNs","genericAttrs","nonNsAttr","addAttribute","asType","asProperty","serializeAsProperty","serializer","local","parentNamespaces","namespaces","newPrefix","wellknownUri","serializeAttributes","getNsAttrs","firstBody","typeNs","xmlStr","reader","dc","associations","enumerations","literalValues","isAbstract","dmn","dmndi","biodi","additionalPackages","DEFAULT_CONTAINER_OPTIONS","views","_views","activeView","_activeView","_viewsChanged","_viewers","importXML","saveXML","parseWarnings","_moddle","parseResult","ParseCompleteEvent","_setDefinitions","_getInitialView","noDisplayableContentsErr","allWarnings","parseError","olderDMNVersion","checkDMNCompatibilityError","getActiveView","_getViewer","_this$_eventBus","_this$_eventBus2","_this$_eventBus3","viewerId","safeExecute","_options","_createModdle","containerOptions","ensureUnit","_switchView","_updateViews","_step","viewProviders","_getViewProviders","displayableElements","drgElement","newViews","_iterator","allowArrayLike","it","F","normalCompletion","didErr","step","_e2","_createForOfIteratorHelper","opens","newActiveView","viewsEqual","activeViewChanged","viewNameChanged","viewsChanged","newView","activeViewer","complete","openError","openResult","newViewer","viewer","_createViewer","providerOptions","common","_parent","moddle","_this$_eventBus4","camunda","moddleExtensions","method","CutHandler","clipboard","_clipboard","_modeling","oldData","createHooks","descriptorCache","newDesc","cells0","bo0","createBoDescriptor","boCache","existingBoDesc","value0","reviveHooks","entry","reviveCache","createBo","existingBo","boDescriptor","newBoAttrs","val0","_keepIds","_model","newBo","_dmnFactory","newBoAttr","revive","createCache","elementAttrs","getConstructor","createDescriptor","hooks","currentCache","currentDescriptors","_createDescriptor","createDescriptor0","createDescriptors0","existingDescriptor","element0","evaluateHooks","reviveDescriptor","descriptors","_reviveDescriptor","reviveDescriptor0","reviveDescriptors0","existingElement","evaluateReviveHooks","PasteHandler","dmnFactory","after","keepIds","_index","oldElements","CutPaste","_rules","registerHandler","execute","_paste","before","clipboardData","EditorActions","_actions","undo","redo","moveRow","_ref5","_ref6","moveCol","_ref7","opts","_registerAction","isRegistered","Outline","OUTLINE_STYLE","createOutline","outline","updateShapeOutline","updateConnectionOutline","Clipboard","_data","isEmpty","hat","Ids","seed","_seed","rack","nextPrefixed","claim","unclaim","hats","exportName","assign","VENDOR_PREFIXES","TEST_ELEMENT","now","Date","setTimeoutContext","timeout","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","nextKey","dest","src","merge","inherit","base","childP","baseP","boolOrFn","ifUndefined","val1","val2","addEventListeners","splitStr","removeEventListeners","hasParent","inStr","inArray","findByKey","toArray","uniqueArray","sort","results","camelProp","_uniqueId","getWindowForElement","doc","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","userAgent","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","inputHandler","eventType","pointersLen","changedPointersLen","changedPointers","isFirst","isFinal","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","getAngle","getDistance","offsetDelta","prevDelta","prevInput","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","lastInterval","computeIntervalInputData","computeInputData","recognize","atan2","evEl","evTarget","evWin","MOUSE_INPUT_MAP","MouseInput","pressed","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SingleTouchInput","started","normalizeSingleTouches","changedTouches","TOUCH_INPUT_MAP","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","touchAction","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","Recognizer","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","recognizeWith","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","isValid","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","oldCssProps","toggleCssProps","existing","gestureEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","Swipe","Rotate","matchHtmlRegExp","lastIndex","arrayReduce","baseEach","baseIteratee","baseReduce","iteratee","accumulator","initAccum","eachFunc","createFind","isArrayLike","findIndexFunc","predicate","fromIndex","iterable","baseFindIndex","toInteger","toNumber","baseRest","createWrap","createBind","createCurry","createPartial","mergeData","getFuncName","lodash","funcName","other","realNames","otherFunc","isObjectLike","wrapperClone","copyArray","reWrapDetails","reSplitDetails","reWrapComment","details","arrayEach","arrayIncludes","wrapFlags","pair","isIndex","nativeMin","indexes","arrLength","oldArray","srcBitmask","newBitmask","isCommon","isCombo","formatRegExp","isString","objects","inspect","Number","JSON","stringify","isNull","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","seen","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","recurseTimes","isFunction","primitive","simple","isNumber","formatPrimitive","visibleKeys","hash","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","RegExp","isDate","braces","toUTCString","formatProperty","formatArray","cur","numLinesEst","reduceToSingleString","desc","ar","objectToString","debuglog","env","NODE_DEBUG","pid","isNullOrUndefined","isSymbol","isPrimitive","isBuffer","months","timestamp","getHours","getMinutes","getSeconds","getDate","getMonth","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","promiseResolve","promiseReject","promise","callbackify","callbackified","maybeCb","nextTick","rej","readUInt8","content","_get","receiver","_superPropBase","_Manager","EditingManager","_collectIds","some","sortTopOrMiddle","sortLeftOrCenter","ALIGNMENT_SORTING","middle","AlignElements","_getOrientationDetails","axis","dimension","_isType","_alignmentPosition","sortedElements","centeredElements","firstElement","lastElement","orientation","alignment","centers","hasSharedCenters","first","getMiddleOrTop","host","labelTarget","sortFn","alignElements","findFreePosition","getNextPosition","connectedAtPosition","getConnectedAtPosition","allConnected","getConnected","attachers","shapes","attacher","getAutoPlaceClosure","getSources","noneFilter","AutoPlace","defaultDistance","sourceMid","getNewShapePosition","newShape","appendShape","AutoPlaceSelectionBehavior","autoPlace","autoPlaceSelectionBehavior","BUSINESS_KNOWLEDGE_MODEL_SIZE","DECISION_SIZE","INPUT_DATA_SIZE","KNOWLEDGE_SOURCE_SIZE","drdFactory","_drdFactory","createDrdElement","createDiEdge","createDiShape","_getDefaultSize","DRG_ELEMENT_ROW_SIZE","sourceTrbl","nextPositionDirection","previousPosition","nextPosition","nextPositionDirectionForAxis","margin","minDistance","generateGetNextPosition","getTextAnnotationPosition","verticalDistance","getWeight","maxDistance","sourcesDistances","weight","targetsDistances","distances","currentValue","getConnectedDistance","connectedAtPositionLeft","connectedAtPositionRight","connectedAtPreviousPosition","getHorizontalDistance","generateGetNextDRGElementPosition","getDRGElementPosition","dmnAutoPlace","HoverFix","_findTargetGfx","ensureHover","hoverFix","Dragging","defaultOptions","trapClick","toLocalPoint","globalPosition","clientRect","dragContext","payload","activate","displacement","globalStart","globalCurrent","globalDelta","localStart","localCurrent","localDelta","active","cancel","keepSelection","cursor","cleanup","checkCancel","trapClickAndEnd","untrap","trapTouch","restore","previousContext","wasActive","endDrag","existingSelection","restoreSelection","relativeTo","TouchEvent","isTouchEvent","manual","autoActivate","setOptions","AutoScroll","_opts","scrollThresholdIn","scrollThresholdOut","scrollRepeatTimeout","scrollStep","_toBorderPoint","startScroll","stopScroll","between","diff","_scrolling","autoScroll","getApproxIntersection","bendpoint","getBendpointIntersection","segments","getPathIntersection","getConnectionIntersection","toCanvasCoordinates","addBendpoint","parentGfx","groupGfx","createParallelDragger","segmentStart","segmentEnd","draggerGfx","hitWidth","segmentLengthXAxis","segmentLengthYAxis","calculateSegmentMoveRegion","calculateHitWidth","addSegmentDragger","segmentLength","Bendpoints","bendpointMove","connectionSegmentMove","activateBendpointMove","intersection","treshold","p0","aligned","xDelta","yDelta","isIntersectionMiddle","relevantSegment","calculateIntersectionThreshold","bindInteractionEvents","getBendpointsContainer","getSegmentDragger","createBendpoints","createSegmentDraggers","segmentDraggerGfx","addHandles","updateHandles","clearSegmentDraggers","clearBendpoints","updateSegmentDraggerPosition","draggerVisual","relativePosition","getDraggerVisual","bendpointsGfx","floating","updateFloatingBendpointPosition","primary","bendpointContainer","BendpointMove","bendpointIndex","insert","connectionGfx","newWaypoints","docking","cropWaypoints","updateWaypoints","isReverse","reconnect","connectionDocking","getCroppedWaypoints","BendpointMovePreview","connectionPreview","drawPreviewHints","connectionStart","connectionEnd","noCropping","noLayout","drawPreview","cleanUp","axisAdd","axisSet","flipAxis","getDocking","referenceElement","moveAxis","referenceMid","inverseAxis","ConnectionSegmentMove","cropConnection","croppedWaypoints","oldWaypoints","redrawConnection","updateDragger","segmentOffset","draggerPosition","maxValue","minValue","axisFenced","segmentStartIndex","segmentEndIndex","dragPosition","originalWaypoints","sourceToSegmentOrientation","targetToSegmentOrientation","newSegmentStart","newSegmentEnd","waypointCount","newSegmentStartIndex","segmentMove","defaultValue","isSnapped","snapped","setSnapped","previousValue","BendpointSnapping","snapTo","rem","sx","sy","snapPoints","referenceWaypoints","getConnectionSegmentSnaps","getBendpointSnaps","hoverMid","bendpoints","bendpointMovePreview","bendpointSnapping","ContextPad","_overlaysConfig","_current","close","isOpen","current","registerProvider","getEntries","_getProviders","entries","entriesOrUpdater","getContextPadEntries","_updateAndOpen","getPad","grouping","control","addClasses","title","imageUrl","overlaysConfig","_overlayId","Connect","canConnect","connect","ConnectPreview","startPosition","previewStart","previewEnd","connectPreview","MARKER_TYPES","NODES_CAN_HAVE_MARKER","PreviewSupport","_styles","_clonedMarkers","clonedMarker","addDragger","dragger","_cloneMarkers","addFrame","frame","markerType","getMarker","_cloneMarker","markerId","clonedMarkerId","previewSupport","MARKER_ATTACH","MARKER_NEW_PARENT","Create","setMarker","ensureConstraints","isLabel","isConnection","attach","isSingleShape","connectionTarget","targetParent","targetAttach","canCreate","createElements","createConstraints","CreatePreview","activeLayer","dragGroup","createDragGroup","createPreview","CLOSE_EVENTS","PopupMenu","providerId","_getEntries","headerEntries","_getHeaderEntries","hasEntries","hasHeaderEntries","_createEntries","_attachContainer","_bindAutoClose","_unbindAutoClose","entryId","_getEntry","getPopupMenuEntries","getPopupMenuHeaderEntries","getHeaderEntries","visibility","_updateScale","_assureIsInbounds","scaleConfig","containerX","offsetLeft","containerY","offsetTop","scrollWidth","scrollHeight","overAxis","cursorPosition","entriesContainer","entryContainer","_createEntry","entryClasses","disabled","popupMenu","Replace","replaceElement","oldElement","newElementData","centerX","centerY","replaceShape","DrdReplace","oldBusinessObject","newBusinessObject","table","typeRef","inputExpression","expression","variable","drdReplace","actionName","ReplaceMenuProvider","_popupMenu","_drdReplace","_translate","option","notEmpty","notTable","notExp","replaceOptions","menuEntries","definition","_createMenuEntry","replaceMenuProvider","ContextPadProvider","_contextPad","_connect","_create","_autoPlace","startConnect","appendAction","appendStart","dragstart","diagramContainer","diagramRect","padRect","getReplaceMenuPosition","deleteAllowed","removeElements","contextPadProvider","ConnectionPreview","_connectionDocking","_layouter","returnValues","connectionPreviewGfx","getConnection","noNoop","createConnectionPreviewGfx","firstArgument","layoutConnection","drawNoopPreview","createNoopConnection","sourcePath","targetPath","ensureConnectionAttrs","PLACEHOLDER_REGEX","containsSpace","stripPlaceholders","validateIdFormat","DefinitionIdEdit","_definitionPropertiesView","_setup","newValue","newProperties","errorMessage","_addErrorMessage","_clearErrorMessage","updateProperties","blur","errorHTML","parentElement","errorLabel","definitionPropertiesEdit","AXIS_DIMENSIONS","DistributeElements","_filters","registerFilter","avgDimension","elementsSize","numOfShapes","filterFn","groups","distributableElements","_setOrientation","_filterElements","_createGroups","distributeElements","_axis","_dimension","filters","rangeGroups","elementRange","_findRange","_hasIntersection","rangeA","rangeB","DrdDistributeElements","cannotDistribute","drdDistributeElements","_registerDefaultActions","copyPaste","keyboardMove","keyboardMoveSelection","paste","removableElements","moveSelection","accelerated","unregister","getActions","DrdEditorActions","lassoTool","handTool","directEditing","DiGenerator","drdUpdater","updateDiParent","createDi","diGenerator","isKey","quantize","quantum","GridSnapping","setActive","gridSnappingContext","snapOffset","snapLocation","isHorizontal","getSnapOffset","snapConstraints","resizeConstraints","minResizeConstraints","maxResizeConstraints","isWest","isNorth","getSnapConstraints","snapEvent","snapValue","getGridSpacing","toggleActive","ResizeBehavior","gridSnapping","_gridSnapping","preExecute","autoResize","newBounds","snapComplex","snapSimple","directions","snapHorizontally","snapVertically","west","east","snappedNewBounds","north","south","SpaceToolBehavior","initialized","gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior","_keydownHandler","_keyupHandler","_isEventIgnored","keyEvent","contentEditable","_isModifiedKeyIgnored","_getAllowedModifiers","includes","modifierContainer","getBinding","addListener","removeListener","hasModifier","KEYS_COPY","KEYS_PASTE","KEYS_REDO","KEYS_UNDO","KeyboardBindings","keyboard","registerBindings","keyboardBindings","DrdKeyboardBindings","DEFAULT_CONFIG","moveSpeed","moveSpeedAccelerated","KeyboardMove","speed","actualSpeed","KEY_TO_DIRECTION","ArrowLeft","Left","ArrowUp","Up","ArrowRight","Right","ArrowDown","Down","DIRECTIONS_DELTA","up","down","KeyboardMoveSelection","moveElements","CommandStack","_handlerMap","_stack","_stackIdx","_currentExecution","dirty","_pushAction","_internalExecute","_popAction","_getHandler","_getUndoAction","_internalUndo","_getRedoAction","_setHandler","handlerCls","canUndo","canRedo","_atomicDo","revert","_markDirty","_revertedAction","qualifier","_createId","execution","atomic","_executedAction","postExecute","baseAction","stackIdx","ChangeSupport","changeSupport","getLabelAttr","getLabel","LabelEditingProvider","_textRenderer","editingBBox","getEditingBBox","centerVertically","resizable","defaultFontSize","defaultLineHeight","paddingTop","paddingBottom","paddingLeft","paddingRight","minWidth","minHeight","textAlign","activeContextText","updateLabel","labelEditingProvider","CreateConnectionBehavior","connectionBo","getRequirementType","LayoutConnectionBehavior","layouter","updateInformationRequirements","informationRequirements","incomingInformationRequirementsByOrientation","getInformationRequirementsByOrientation","connectionStartEnd","informationRequirement","targetTrbl","getConnectionsStartEnd","sortInformationRequirements","newSource","newTarget","getConnectionHints","postExecuted","incomingOrientation","isSameOrientation","incomingInformationRequirements","orientationA","orientationB","ReplaceConnectionBehavior","ReplaceElementBehaviour","oldShape","unclaimId","_CommandInterceptor","IdChangeBehavior","executed","updateIds","oldProperties","shouldSkipUpdate","getDefinitions","oldId","authorityRequirement","knowledgeRequirement","updateElementReferences","artifact","updateAssociationReferences","isIdChange","createConnectionBehavior","idChangeBehavior","layoutConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior","DrdRules","canMove","drdRules","DrdFactory","_needsId","_ensureId","createDiBounds","createDiWaypoints","createDiWaypoint","createExtensionElements","DrdUpdater","_drdRules","updateParent","reverseUpdateParent","oldParent","newParent","updateBounds","updateConnectionWaypoints","cropped","reverted","targetBo","updateSemanticParent","newTargetBo","oldTargetBo","oldTarget","parentBo","containment","parentDi","AppendShapeHandler","CreateConnectionHandler","CreateElementsHandler","createShapeHints","CreateShapeHandler","CreateLabelHandler","positionOrBounds","originalExecute","ensureValidDimensions","originalRevert","DeleteConnectionHandler","DeleteElementsHandler","saveClear","removeFn","DeleteShapeHandler","nested","oldParentIndex","OFF_AXIS","LayoutConnectionHandler","MoveConnectionHandler","getNewAttachPoint","oldBounds","oldCenter","newCenter","oldDelta","newDelta","getResizedSourceAnchor","safeGetWaypoints","waypointsInsideNewBounds","getWaypointsInsideBounds","oldAnchor","getResizedTargetAnchor","getMovedSourceAnchor","moveDelta","subtract","getMovedTargetAnchor","isInsideBounds","MoveClosure","MoveHelper","MoveElementsHandler","_helper","MoveShapeHandler","ReconnectConnectionHandler","ReplaceShapeHandler","ResizeShapeHandler","SpaceToolHandler","copyWaypoint","getAxisFromDirection","shouldMoveWaypoint","relevantAxis","ToggleShapeCollapseHandler","UpdateAttachmentHandler","removeAttacher","addAttacher","UpdateWaypointsHandler","registerHandlers","IdClaimHandler","UpdateLabelHandler","setText","isExternal","setLabel","oldLabel","updateRange","lastIdx","rangeDiff","spaceInBetween","firstGroup","lastGroupIdx","lastGroup","groupsSize","refElem","refCenter","centerElement","groupIdx","prevGroup","newParentIndex","addAll","newClosure","moveRecursive","moveClosure","newHost","primaryShape","keepParent","moveShape","recurse","layout","sourceMoved","targetMoved","moveConnection","moveChildren","getNewParent","dockingOrPoints","oldSource","layoutConnectionHints","canReconnect","updateAttachment","reconnectEnd","reconnectStart","dockingPoint","minBounds","movingShapes","resizingShapes","moveShapes","getBounds","resizeShapes","waypointsUpdatingConnections","getWaypointsUpdatingConnections","resizeBounds","resizeShape","attachSupport","connections","affectedShapes","copyWaypoints","layoutHints","labelBehavior","oldChildrenVisibility","getElementsVisibilityRecursive","collapsed","setHiddenRecursive","newHidden","restoreVisibilityRecursive","lastState","oldHost","attacherIdx","getHandlers","connectionParent","createSpace","toggleCollapse","claiming","UpdatePropertiesHandler","setProperties","BaseLayouter","propertyNames","getProperties","claimId","moddleElement","DrdLayouter","getConnectionDocking","dockingToPoint","actual","CroppingConnectionDocking","additionalWaypoint","sourceDocking","getDockingPoint","targetDocking","dockStart","dockingIdx","_getIntersection","takeFirst","_getShapePath","_getConnectionPath","_getGfx","MoveEvents","referencePoint","validatedShapes","isAttach","MovePreview","getVisualDragShapes","removeEdges","getAllDraggedElements","dragShapes","allDraggedElements","visuallyDraggedShapes","differentParents","makeDraggable","movePreview","Palette","tool","updateToolHighlight","_update","_diagramInitialized","_rebuild","addPaletteEntries","getPaletteEntries","parentContainer","_getParentContainer","PALETTE_PREFIX","TOGGLE_SELECTOR","_layoutChanged","_toggleState","parentCls","_needsCollapse","_entries","separator","availableHeight","isActiveTool","_activeTool","toolsContainer","_toolsContainer","toolClasses","ToolManager","_dragging","_tools","_active","registerTool","tools","bindEvents","eventsToRegister","reactivate","isPaletteClick","toolManager","setLastMoveEvent","mousemoveEvent","_lastMoveEvent","_lastMouseEvent","getLastMoveEvent","screenX","screenY","initMouseEvent","createMoveEvent","LassoTool","_mouse","SVGElement","activateLasso","toBBox","activateSelection","mouseEvent","HandTool","activateMove","isSpace","activateHand","PaletteProvider","_palette","_handTool","_lassoTool","createAction","createListener","paletteProvider","applyConstraints","asPadding","mayBePadding","isBBoxChild","computeChildrenBBox","shapeOrChildren","addPadding","Resize","currentBounds","currentTrbl","canResize","computeMinResizeBox","boundsChanged","getReferencePoint","getCursor","contextOrDirection","minDimensions","childrenBounds","currentBox","minBox","childrenBox","combinedBox","getMinResizeBounds","childrenBoxPadding","ResizePreview","ResizeHandles","resize","_resize","removeResizers","addResizer","startResize","_createResizer","resizersParent","_getResizersParent","getHandleOffset","CLS_RESIZER","createResizer","resizer","resizePreview","resizeHandles","DrdBendpointSnapping","getConnectionStart","snapToSource","getConnectionEnd","snapToTarget","DrdConnectSnapping","SnapContext","_targets","_snapOrigins","_snapLocations","_defaultSnaps","SnapPoints","defaultSnaps","_snapValues","getSnapOrigin","setSnapOrigin","initialValue","addDefaultSnap","snapValues","getSnapLocations","setSnapLocations","snapLocations","pointsForTarget","targetId","initDefaults","snap","tolerance","snappingValues","CreateMoveSnapping","snapping","initSnap","snapContext","addSnapTargetPoints","shapeMid","shapeTopLeft","shapeBottomRight","snapTargets","getSnapTargets","snapTarget","ResizeSnapping","isVertical","snapOrigin","topLeft","Snapping","_asyncHide","location","snapCurrent","locationSnapping","originValue","showSnapLine","axisSnapping","_createLine","_createSnapLines","_snapLines","getSnapLine","snapLine","createMoveSnapping","resizeSnapping","connectSnapping","_modelingModules","elementsChanged","oldRootId","newRootId","invoked","elementsLength","listenersLength","Components","component","existingListener","isBrowser","isStringOrNumber","isNullOrUndef","isInvalid","isTrue","combineFrom","second","key$1","getVNode","childFlags","flags","dom","parentVNode","createVNode","childFlag","vNode","optsVNode","normalizeChildren","createComponentVNode","defaultProps","defaultHooks","prop$1","createTextVNode","normalizeProps","directClone","vNodeToClone","newVNode","propsToClone","createVoidVNode","_normalizeVNodes","nodes","currentKey","newKey","oldKey","isPrefixedKey","newChildren","newChildFlags","isFrozen","isNullDom","isNullKey","isPrefixed","$","afterRender","beforeRender","renderComplete","xlinkNS","xmlNS","EMPTY_OBJ","LIFECYCLE","parentDom","insertOrAppend","replaceChild","newDom","lastDom","callAll","arrayFn","attachedEventCounts","attachedEvents","handleEvent","nextEvent","eventsLeft","eventsObject","$EV","docEvent","isClick","currentEvent","dispatchEvents","normalizeEventName","attachEventToDocument","immediatePropagationStopped","isSameInnerHTML","innerHTML","tempdom","triggerEventListener","methodName","nativeListenerName","createWrappedFunction","applyValue","fnMethod","$V","newProps","isCheckedType","onTextInputChange","applyValueInput","wrappedOnChange","emptywrapper","nextPropsOrEmpty","checked","multiple","hasValue","updateChildOptionGroup","updateChildOption","wrapped","onSelectChange","applyValueSelect","mounting","multiplePropInBoolean","onTextareaInputChange","applyValueTextArea","wrappedOnChange$1","domValue","processElement","isControlled","addFormElementEventHandlers","onchange","onclick","oninput","inputEvents","selectEvents","onChange","textAreaEvents","isControlledFormElement","unmount","unmountAllChildren","children$1","ref$1","componentWillUnmount","$UN","$LI","onComponentWillUnmount","removeAllChildren","getNumberStyleValue","patchProp","lastValue","nextValue","isSVG","hasControlledValue","lastVNode","autofocus","lastHtml","__html","nextHtml","nameLowerCase","domEvent","linkEvent","createLinkEvent","patchEvent","removeAttribute","lastAttrValue","nextAttrValue","domStyle","cssText","patchStyle","mountProps","isFormElement","createClassComponentInstance","Component","$BS","componentWillMount","$BR","$PSS","pending","$PS","childContext","handleComponentInput","getChildContext","$CX","componentVNode","mount","mountElement","mountClassComponentCallbacks","$UPD","mountFunctionalComponentCallbacks","mountComponent","mountText","createTextNode","tag","documentCreateElement","childrenIsSVG","mountArrayChildren","mountRef","componentDidMount","createClassMountCallback","onComponentWillMount","onComponentDidMount","createOnMountCallback","hydrateElement","childNode","hydrateVNode","dangerouslySetInnerHTML","isSamePropsInnerHTML","input$1","hydrateComponent","nodeValue","hydrateText","throwError","replaceWithNewNode","lastNode","patch","nextVNode","nextFlags","nextTag","lastProps","nextProps","lastPropsOrEmpty","lastChildren","nextChildren","nextRef","lastClassName","nextClassName","patchContentEditableChildren","patchChildren","patchElement","nextType","lastKey","updateClassComponent","shouldUpdate","nextHooks","nextHooksDefined","lastInput","onComponentShouldUpdate","onComponentWillUpdate","nextInput","onComponentDidUpdate","patchComponent","nextText","patchText","lastContainer","nextContainer","patchPortal","lastChildFlags","nextChildFlags","parentDOM","lastLength","nextLength","aLength","bLength","nextPos","aEnd","bEnd","aNode","bNode","aStart","bStart","aLeft","bLeft","sources","canRemoveWholeContent","moved","pos","patched","keyIndex","seq","u","arrI","lis_algorithm","patchKeyedChildren","lastChildrenLength","nextChildrenLength","nextChild","commonLength","patchNonKeyedChildren","nextState","fromSetState","renderOutput","componentWillReceiveProps","hasSCU","shouldComponentUpdate","componentWillUpdate","didUpdate","componentDidUpdate","rootInput","hydrate","resolvedPromise","fallbackMethod","requestAnimationFrame","queueStateChanges","newState","stateKey","queue","$QU","applyState","promiseCallback","pendingState","forceUpdate","setState","_nextProps","_nextState","_nextContext","_Component","TableComponent","_changeSupport","_components","throttle","onElementsChanged","onScroll","offElementsChanged","_this$_sheet$getRoot3","beforeTableComponents","getComponents","afterTableComponents","Head","getComponent","Body","Foot","Renderer","Sheet","_root","setRoot","oldRoot","addAtIndex","removeAtIndex","_this5","ThrottleFactory","core","Table","_this$_init","elementToString","TableTreeWalker","handleClauses","clauses","handleEntry","handleDecision","decision","inputEntry","outputEntry","inject","injectType","annotation","setupFn","_len","_key","mixin","mixinDef","mixinFn","componentFn","fns","_len2","_key2","compose","__init","_excluded2","ComponentWithSlots","slotFill","slotProps","DefaultFill","Fill","slotFills","AnnotationHeader","cellType","SelectionAware","getSelectionClasses","_this$state","selectedSecondary","selectionChanged","updateSelectionSubscription","oldProps","_BaseCell","HeaderCell","getRenderProps","BaseCell","_this$props","baseProps","AnnotationCell","_row$businessObject","description","AnnotationsProvider","onGetComponent","annotationsProvider","TableImporter","createCol","createCell","createRow","tableImporter","DecisionTableHead","inputs","outputs","inputsLength","DefaultInputHeaderCell","outputsLength","DefaultOutputHeaderCell","inputValues","outputValues","DecisionTableHeadProvider","decisionTableHeadProvider","DecisionTablePropertiesComponent","HitPolicy","NullComponent","DecisionTableProperties","decisionTableProperties","DecisionRulesIndexCellComponent","innerComponents","InnerComponent","DecisionRuleIndices","decisionRuleIndices","EXPRESSION_LANGUAGE_OPTIONS","ExpressionLanguages","editor","legacyDefaults","_getLegacyDefaults","componentName","defaultFromConfig","_getLanguageByValue","expressionLanguageValue","langauge","inputCellValue","outputCellValue","inputCell","outputCell","language","expressionLanguages","DecisionRulesBodyComponent","RowComponent","rowType","DecisionRulesRowComponent","DecisionRulesCellComponent","decisionRules","HIT_POLICIES","hitPolicy","aggregation","explanation","hitPolicyEntry","HitPolicyProvider","hitPolicyProvider","ViewDrdComponent","onClick","ViewDrd","canViewDrd","viewDrd","Logo","PoweredByLogoComponent","PoweredByOverlayComponent","onShow","PoweredBy","poweredBy","_Table","annotations","_decision","decisionTable","hasModeling","parentShape","canAddMissingEntries","importDecision","extraModules","staticModules","_getModules","AddRuleFootComponent","dataset","_businessObject","handleClick","AddRule","ContentEditable","ua","propsFocus","onFocus","propsBlur","onBlur","ctrlForNewline","singleLine","newRange","cloneRange","br","deleteContents","insertNode","insertLineBreak","onInput","propsInput","innerText","onInputIEPolyfill","execCommand","oldText","newText","getClassName","onKeypress","onPaste","onKeydown","EditableComponent","invalid","changing","debounceInput","inputChanged","_this$props2","_this$state2","getDisplayValue","EditableAnnotationCell","editAnnotation","setAnnotationValue","_EditableComponent","AnnotationEditor","_super2","getEditor","AnnotationsEditingProvider","shouldDebounce","debounceTime","DEFAULT_STYLE","ContextMenuComponent","_context","autoFocus","autoClose","triggerClose","_Component2","ContextMenu","checkClose","updatePosition","onClose","focusTarget","onFocusChanged","onGlobalKey","onGlobalMouseDown","containerBounds","_getTableContainerScr","tableContainer","scrollTop","scrollLeft","getTableContainerScroll","clampNumber","overflowY","maxHeight","setNode","contextMenu","CopyPasteKeyBindings","_getSelectedCell","pasted","_keyboard","_registerBindings","_clearClipboard","focusableNode","copyCutPasteKeyBindings","CreateInputsHeaderCell","CreateInputsCell","CreateInputsProvider","createInputsProvider","_contextMenu","contextMenuType","additionalCellEntries","isCell","cellEntriesGroup","pageX","pageY","selectedIndex","newRule","canPaste","canRemove","_canPaste","_actualElement","_canRemove","_canPaste2","COMMANDS","ContextMenuCloseBehavior","decisionTableContextMenu","contextMenuCloseBehavior","OutputCell","onContextmenu","onKeyDown","onKeyUp","OutputEditor","noopTranslate","setName","handleChange","changes","OutputCellContextMenu","unsaved","persistChanges","getValue","OutputEditingProvider","_node$getBoundingClie","getOffset","InputCell","InputSelect","setOptionsVisible","optionsVisible","focusInput","keycode","_value","_portalEl","onGlobalClick","onKeyboard","removePortalEl","addPortalEl","inputNode","optionsBounds","getOptionsBounds","_container$getBoundin","containerTop","containerLeft","_this$inputNode$getBo","inputTop","inputLeft","nextIdx","nextOption","activeOption","onOptionClick","noInput","renderOptions","onInputClick","InputEditor","defaultExpressionLanguage","setExpressionLanguage","expressionLanguage","handleValue","change","isMultiLine","handleLanguageChange","handleLabelChange","handleInputVariableChange","inputVariable","InputCellContextMenu","inputExpressionProperties","_expressionLanguages","defaultLanguage","getDefault","InputCellProvider","TypeRefCellContextMenu","getElement","typeRefOptions","onTypeChange","TypeRef","typeRefEditingProvider","AllowedValuesUpdateBehavior","_event$context","actualProperties","editAllowedValues","List","removeItem","toggleItem","newItems","items","isChecked","labelComponent","asPairs","entrys","toPairs","groupTitle","groupItems","getToggleClickHandler","isRemovable","getRemoveClickHandler","ValidatedInput","validationWarning","_this$props3","_this$props4","parentClasses","inputClasses","parseString","isEmptyString","openString","AllowedValuesEditing","getAllowedValuesTarget","getValuesArray","setPredefinedValues","inputValue","parsedString","onListChange","isCheckable","removePredefinedValues","_target","_parsedString","handleRemovePredifinedValuesClick","InputOutputValues","allowedValuesUpdateBehavior","allowedValuesEditingProvider","AddInput","AddOutput","AddInputOutputProvider","addInputOutputProvider","inputEditingProvider","outputEditingProvider","DragAndDrop","targetEl","cellEl","hoverEl","_dragContext","dataTransfer","dropEffect","draggedElement","handleDragEnd","_unbindListeners","handleDragOver","handleDrop","effectAllowed","_bindListeners","dragAndDrop","removeHighlight","isNode","removeFadeOut","_dragImage","_dragAndDrop","startDrag","dropIndex","colId","getTargetColIndex","newPosition","getVerticalPosition","getHorizontalPosition","highlightRow","highlightCol","verticalPosition","rowId","targetRow","draggedRow","getRowBelow","getRowAbove","getTargetRow","horizontalPosition","draggedCol","lastInputIndex","getColRight","firstOutput","firstOutputIndex","getColLeft","getTargetCol","_cleanup","setDragImage","fadeOutRow","fadeOutCol","dragOverCell","dragOverElement","dmnDragAndDrop","DescriptionEditor","changeDescription","Editor","Description","getPosition","getDescription","existingDescription","removeDescription","addDescription","ExpressionLanguage","openMenu","clickEvent","editExpressionLanguage","editDecisionTableName","setupChangeListeners","resetScroll","setDecisionTableName","DecisionTableName","EditableHitPolicy","editHitPolicy","HitPolicyEditingProvider","DmnUpdater","ifDmn","updateRoot","newRoot","oldRules","oldIdx","newTable","newIdx","wireCell","collectionIdx","_oldTable","cel","rowIdx","unwireCell","_collectionIdx","_collection","_newTable","_inputs","_outputs","colIdx","oldRow","cellBo","oldRowBo","inputEntries","outputEntries","rowBo","DmnFactory","_BaseElementFactory","tType","AddRowHandler","RemoveRowHandler","oldIndex","MoveRowHandler","AddColHandler","RemoveColHandler","MoveColHandler","EditCellHandler","Modeling","_getHandlers","changedAttrs","UpdateAllowedValuesHandler","allowedValues","oldAllowedValues","EditPropertiesHandler","_this$updatePropertie","propertyValue","isContainer","_this$updatePropertie3","_BaseModeling","IdClaimBehavior","IdUnclaimBehavior","idClaimBehavior","idUnclaimBehavior","dmnUpdater","DecisionRulesCellEditorComponent","isFocussed","changeCellValue","editCell","isUnaryTest","TableCellEditor","getDefaultExpressionLanguage","isDefaultExpressionLanguage","expressionLanguageLabel","getExpressionLanguageLabel","isScript","RulesEditor","decisionRulesEditor","SimpleModeButtonComponent","isVisible","isDisabled","handleSelectionChanged","hideAndShowDebounced","showDebounced","simpleMode","canSimpleEdit","cellBounds","nodeBounds","nodePosition","SimpleMode","BooleanEdit","SimpleBooleanEdit","getTypeRef","simpleBooleanEdit","ISO_DATE_REGEX","BETWEEN_DATE_REGEX","BEFORE_AFTER_DATE_REGEX","EXACT_DATE_REGEX","validateISOString","getDateString","dates","getSampleDate","date","setUTCHours","toISOString","InputDateEdit","debouncedEditCell","onSetStartDateTodayClick","onSetEndDateTodayClick","onStartDateInput","onEndDateInput","_this$state3","_this$state4","_this$state5","OutputDateEdit","SimpleDateEdit","simpleDateEdit","COMPARISON_REGULAR_EXPRESSION","RANGE_REGULAR_EXPRESSION","operators","equals","less","lessEquals","greater","greaterEquals","getOperatorName","comparisonMatches","rangeMatches","operator","isComparison","getComparisonString","comparisonOperator","comparisonValue","getRangeString","rangeStartValue","rangeEndValue","rangeStartType","rangeEndType","rangeEndChar","InputNumberEdit","onComparisonOperatorChange","onComparisonValueChange","onRangeStartTypeChange","onRangeStartValueChange","onRangeEndTypeChange","onRangeEndValueChange","_this$state6","_this$state7","rangeTypeOptions","_this$state8","typeOptions","renderComparison","renderRange","OutputNumberEdit","SimpleNumberEdit","simpleNumberEdit","SimpleStringEditContextMenuComponent","inputOrOutputValues","inputOrOutput","getInputOrOutputValues","filteredValues","isInputClause","unaryTestsType","isOutputValueInputChecked","addUnaryTestsListItem","onOutputValueInputClick","onUnaryTestsListChanged","onUnaryTestsTypeChange","getValues","parsedInput","newValues","isNegation","showRadio","selectNode","marginRight","SimpleStringEdit","simpleStringEdit","ResizeColumn","_ref$onEnd","onEnd","currentUpdate","initialWidth","initialX","handleMouseMove","currentWidth","getResizedWidth","cancelAnimationFrame","currentX","handleMouseUp","saveWidth","newWidth","annotationsWidth","isLastInputOrOutput","handleMouseDown","ColumnResizeProvider","columnResizeProvider","_Viewer","ViewerComponent","_viewer","getDecision","DecisionPropertiesComponent","DecisionProperties","decisionProperties","LiteralExpressionPropertiesComponent","_this$_viewer$getDeci","literalExpression","literalExpressionProperties","TextareaComponent","Textarea","textarea","_BaseViewer","DecisionPropertiesEditorComponent","editDecisionName","setDecisionName","DecisionName","DecisionPropertiesEditor","TYPE_REF_OPTIONS","setVariableName","setVariableType","editVariableName","editVariableType","languageOptions","LiteralExpressionPropertiesEditor","TextareaEditorComponent","editLiteralExpressionText","getLiteralExpression","_EditingManager","Modeler","definitionsView","PropertiesActivator","isEntryVisible","isPropertyEditable","entryFieldDescription","link","escaped","pattern","escapeText","encodeURI","defaultParameters","resource","dataValueLabel","buttonLabel","buttonAction","actionMethod","modelProperty","showName","buttonShow","showMethod","canBeDisabled","canBeHidden","isHidden","cssClasses","CmdHelper","cmd","selectOptions","emptyParameter","isList","showCustomInput","setControlValue","entryNode","inputName","createOption","customValue","customName","comboOptions","selectBox","modifiedValues","isCustomValue","comboBoxEntry","canBeShown","__lastInvalidValue","getProperty","validationErrors","setProperty","createInputRowTemplate","columns","createInputTemplate","createLabelRowTemplate","createLabelTemplate","oldValues","editable","oldValue","every","valueEqual","getEntryNode","modelProperties","labelRow","getElements","removeElement","addLabel","updateElement","canUpdate","elem","pick","boElements","__invalidValues","invalidValues","__action","commands","valuesToValidate","validationError","createListEntryTemplate","scopeNode","deleteElement","rowToDelete","rowNode","showTable","elems","validateListItem","isReadOnly","selectionEnd","setSelection","divider","labelText","showLabel","showLink","ensureNotNull","setDefaultParameters","EntryFactory","textField","validationAwareTextField","checkbox","textBox","comboBox","createGeneralTabGroups","idOptions","generalGroup","idError","versionTagEntry","historyTimeToLiveGroup","historyTimeToLiveEntry","CamundaPropertiesProvider","getTabs","propertiesProvider","hat_1","createCommonjsModule","bits","digits","Infinity","expandBy","iters","nativeToString","nativeHasOwnProperty","convertKey","toNum","matcher","toMatcher","BiodiPackage","DMN11URI","DMN12URI","DMN13URI","migrateDiagram","hasNamespace","namespaceReplacedXML","parsingError","addIds","addNames","extensionElements","extensionElement","addId","dmnElements","dmnElementReference","getDMNElementRef","wayPoint","dmnDiagram","createDMNDI","migrateDI","migrationError","serializationError","migratedXML","migrateFrom11To13","migrateFrom12To13","namespace","addName","UpdateBusinessObjectHandler","rootElements","referenceType","referenceProperty","HANDLERS","CommandInitializer","isToggle","isContentEditable","getFormControls","controls","getFormControlValuesInScope","controlNodes","controlNode","getFormControlValues","listContainer","listNodes","listNode","extractEntries","tabs","PropertiesPanel","_propertiesProvider","tabBarNode","scroller","selectors","tabsContainer","tab","ignore","newActiveNode","oldActiveNode","linkNode","tabId","activateTab","panelNode","panel","allTabNodes","allTabLinkNodes","tabNode","currentTabId","tabLinkNode","tabLink","needsCreate","newTabs","_entriesChanged","activeTabId","activeTabNode","newActiveTab","_updateActivation","getCurrentElement","oldEntryIds","newEntryIds","getEntry","onChangeAction","executeAction","applyChanges","updateState","actionId","eventHandlerId","updateShow","updateDisable","showNodes","showNode","currentNode","shouldDisable","containerElement","valuesEqual","commandToExecute","applyValidationErrors","valid","errorMessageNode","listEntryNodes","listValue","listEntryNode","containerNode","_createPanel","extractGroups","_bindTemplate","selector","placeholders","inputNodes","setToggleValue","isSelect","setSelectValue","focusOffset","anchorOffset","getContentEditableSelection","domRange","domSelection","setContentEditableSelection","setInputValue","setTextValue","toggleVisible","labelNode","tabVisible","groupVisible","groupNode","entryVisible","listEntryContainer","existingElements","listItemNode","entriesToRemove","isGroupVisible","isTabVisible","headerNode","tabLinksNode","tabContainerNode","tabIndex","querySelector","cssClass","propertiesPanel","DrdAdapter","isImplicitRoot","drdAdapter"],"mappings":"0FAAA,uNAUO,SAASA,EAAGC,EAASC,GAC1B,IAAIC,EAAKC,EAAkBH,GAC3B,OAAOE,GAAgC,mBAAnBA,EAAGE,aAA8BF,EAAGE,YAAYH,GAE/D,SAASI,EAAQL,GACtB,OAAOD,EAAGC,EAAS,mBAEd,SAASM,EAASN,GACvB,OAAOD,EAAGC,EAAS,oBAad,SAASG,EAAkBH,GAChC,OAAOA,GAAWA,EAAQO,gBAAkBP,EAEvC,SAASQ,EAAQR,GACtB,OAAOG,EAAkBH,GAASS,KAW7B,SAASC,EAAMV,EAASW,GAC7B,OAAO,eAAKA,GAAO,SAAUC,GAC3B,OAAOb,EAAGC,EAASY,Q,iCChDvB,SAASC,EAAeb,EAASc,GAE/B,GAAId,EAAQe,gBAAkBD,EAAOC,cACnC,IAEE,OAAOD,EAAOC,cAAcC,WAAWhB,GAAS,GAChD,MAAOiB,IAKX,OAAOjB,EAeT,SAASkB,EAASlB,EAASc,GACzB,OAAOA,EAAOK,YAAYN,EAAeb,EAASc,IAepD,SAASM,EAAON,EAAQO,GAEtB,OADAH,EAASG,EAAMP,GACRA,EA5CT,oVAmDA,IAEIQ,EAAiB,CACnB,qBAAsB,EACtB,iBAAkB,EAClB,KAAQ,EACR,YAAa,EACb,YAAa,EACb,MAAS,EACT,sBAAuB,EACvB,8BAA+B,EAC/B,gBAAiB,EACjB,kBAAmB,EACnB,OAAU,EACV,UAAa,EACb,QAAW,EACX,oBAAqB,EACrB,oBAAqB,EACrB,KAAQ,EACR,eAAgB,EAChB,YAAa,EACb,OAAU,EACV,cAAe,EACf,gBAAiB,EACjB,KAAQ,EACR,cAAe,EACf,YA1BgB,EA2BhB,mBAAoB,EACpB,eAAgB,EAChB,aAAc,EACd,eAAgB,EAChB,cAAe,EACf,+BAAgC,EAChC,6BAA8B,EAC9B,kBAAmB,EACnB,QAAW,EACX,iBAAkB,EAClB,iBAAkB,EAClB,OAAU,EACV,aAAc,EACd,aAAc,EACd,eAAgB,EAChB,KAAQ,EACR,QAAW,EACX,SAAY,EACZ,iBAAkB,EAClB,kBAAmB,EACnB,aAAc,EACd,eAAgB,EAChB,OAAU,EACV,mBAAoB,EACpB,oBAAqB,EACrB,iBAAkB,EAClB,kBAAmB,EACnB,oBAAqB,EACrB,iBAAkB,EAClB,eAxDgB,EAyDhB,cAAe,EACf,kBAAmB,EACnB,iBAAkB,EAClB,eAAgB,EAChB,WAAc,EACd,eAAgB,EAChB,eAAgB,GAYlB,SAASC,EAAaF,EAAMZ,EAAMe,GAChC,IAAIC,EAAahB,EAAKiB,QAAQ,kBAAmB,SAASC,cAEtD1B,EAAOqB,EAAeG,GAEtBxB,GAhFY,IAkFVA,GAAyC,iBAAVuB,IACjCA,EAAQI,OAAOJ,GAAS,MAG1BH,EAAKQ,MAAMJ,GAAcD,GAEzBH,EAAKS,eAAe,KAAMrB,EAAMe,GAuBpC,SAASO,EAAKV,EAAMZ,EAAMe,GACxB,GAAoB,iBAATf,EAAmB,CAC5B,QAAcuB,IAAVR,EAGF,OAjDN,SAAsBH,EAAMZ,GAC1B,OAAIa,EAAeb,GACVY,EAAKQ,MAAMpB,GAEXY,EAAKY,eAAe,KAAMxB,GA6CxByB,CAAab,EAAMZ,GAF1Bc,EAAaF,EAAMZ,EAAMe,QAtB/B,SAAuBH,EAAMc,GAE3B,IAAgCC,EAAG3B,EAA/B4B,EAAQC,OAAOC,KAAKJ,GAExB,IAAKC,EAAI,EAAU3B,EAAO4B,EAAMD,GAAKA,IACnCb,EAAaF,EAAMZ,EAAM0B,EAAM1B,IAsB/B+B,CAAcnB,EAAMZ,GAGtB,OAAOY,EAMT,SAASoB,EAAMC,EAAKC,GAClB,GAAID,EAAIE,QACN,OAAOF,EAAIE,QAAQD,GAIrB,IAAK,IAAIP,EAAI,EAAGA,EAAIM,EAAIG,SAAUT,EAChC,GAAIM,EAAIN,KAAOO,EACb,OAAOP,EAIX,OAAQ,EAGV,IAAIU,EAAK,MAELC,EAAWT,OAAOU,UAAUD,SAEhC,SAASE,EAAQC,GACf,YAAoB,IAANA,EAWhB,SAASC,EAAQC,GACf,OAAO,IAAIC,EAAUD,GAGvB,SAASC,EAAUD,GACjB,IAAKA,IAAOA,EAAGE,SACb,MAAM,IAAIC,MAAM,uCAElBC,KAAKJ,GAAKA,EACVI,KAAKC,KAAOL,EAAGM,UAiKjB,SAASC,EAAO3D,GACd,IAAI4D,EAAS5D,EAAQ6D,WAMrB,OAJID,GACFA,EAAOE,YAAY9D,GAGdA,EAaT,SAAS+D,EAAM/D,GAGb,IAFA,IAAIgE,EAEIA,EAAQhE,EAAQiE,YACtBN,EAAOK,GAGT,OAAOhE,EAGT,SAASkE,EAAMlE,GACb,OAAOA,EAAQmE,WAAU,GArL3Bd,EAAUL,UAAUoB,IAAM,SAAS3D,GAGjC,GAAI+C,KAAKC,KAEP,OADAD,KAAKC,KAAKW,IAAI3D,GACP+C,KAIT,IAAId,EAAMc,KAAKa,QAYf,OAXQ5B,EAAMC,EAAKjC,IAEjBiC,EAAI4B,KAAK7D,GAGPwC,EAAQO,KAAKJ,GAAGmB,UAAUC,SAC5BhB,KAAKJ,GAAGmB,UAAUC,QAAU9B,EAAI+B,KAAK,KAErCjB,KAAKJ,GAAGmB,UAAY7B,EAAI+B,KAAK,KAGxBjB,MAaTH,EAAUL,UAAUW,OAAS,SAASlD,GACpC,GAAI,oBAAsBsC,EAAS2B,KAAKjE,GACtC,OAAO+C,KAAKmB,eAAelE,GAI7B,GAAI+C,KAAKC,KAEP,OADAD,KAAKC,KAAKE,OAAOlD,GACV+C,KAIT,IAAId,EAAMc,KAAKa,QACXjC,EAAIK,EAAMC,EAAKjC,GAKnB,OAJK2B,GACHM,EAAIkC,OAAOxC,EAAG,GAEhBoB,KAAKJ,GAAGmB,UAAUC,QAAU9B,EAAI+B,KAAK,KAC9BjB,MAWTH,EAAUL,UAAU2B,eAAiB,SAAS7B,GAE5C,IADA,IAAIJ,EAAMc,KAAKa,QACNjC,EAAI,EAAGA,EAAIM,EAAIG,OAAQT,IAC1BU,EAAG+B,KAAKnC,EAAIN,KACdoB,KAAKG,OAAOjB,EAAIN,IAGpB,OAAOoB,MAeTH,EAAUL,UAAU8B,OAAS,SAASrE,EAAMsE,GAE1C,OAAIvB,KAAKC,MACHR,EAAQ8B,GACNA,IAAUvB,KAAKC,KAAKqB,OAAOrE,EAAMsE,IACnCvB,KAAKC,KAAKqB,OAAOrE,GAGnB+C,KAAKC,KAAKqB,OAAOrE,GAEZ+C,OAILP,EAAQ8B,GACLA,EAGHvB,KAAKY,IAAI3D,GAFT+C,KAAKG,OAAOlD,GAKV+C,KAAKwB,IAAIvE,GACX+C,KAAKG,OAAOlD,GAEZ+C,KAAKY,IAAI3D,GAIN+C,OAUTH,EAAUL,UAAUqB,MAAQ,WAC1B,IAEI3B,GAFYc,KAAKJ,GAAGlB,aAAa,UAAY,IAC7BR,QAAQ,aAAc,IAC5BuD,MAAMnC,GAIpB,MAHI,KAAOJ,EAAI,IACbA,EAAIwC,QAECxC,GAWTW,EAAUL,UAAUgC,IACpB3B,EAAUL,UAAUmC,SAAW,SAAS1E,GACtC,OACE+C,KAAKC,KACHD,KAAKC,KAAK0B,SAAS1E,MACfgC,EAAMe,KAAKa,QAAS5D,IAsC9B,IAAI2E,EACG,6BAOHC,EAAY,eAAiBD,EAAS,IAE1C,SAASE,EAAMC,GAEb,IAAIC,GAAS,EAGe,SAAxBD,EAAIE,UAAU,EAAG,IACU,IAAzBF,EAAI3C,QAAQwC,KACdG,EAAMF,EAAYE,EAAIE,UAAU,KAIlCF,EAAMF,EAAY,IAAME,EAAM,SAC9BC,GAAS,GAGX,IAAIE,EAiBN,SAAuBH,GAErB,IAAII,EAMJ,OAHAA,EAAS,IAAIC,WACNC,OAAQ,EAERF,EAAOG,gBAAgBP,EAAK,YAzBtBQ,CAAcR,GAE3B,IAAKC,EACH,OAAOE,EAOT,IAJA,IAAIM,EAAWC,SAASC,yBAEpBtC,EAAS8B,EAAOzB,WAEbL,EAAOK,YACZ+B,EAAS7E,YAAYyC,EAAOK,YAG9B,OAAO+B,EA2BT,SAASG,EAAO1F,EAAM0B,GACpB,IAAInC,EAaJ,MAXuB,MAAnBS,EAAK2F,OAAO,IACdpG,EAAUsF,EAAM7E,GAAMwD,WACtBjE,EAAUiG,SAASjF,WAAWhB,GAAS,IAEvCA,EAAUiG,SAASI,gBAAgBjB,EAAQ3E,GAGzC0B,GACFJ,EAAK/B,EAASmC,GAGTnC,EAoBT,IAAIqB,EAAO8E,EAAO,OAElB,SAASG,EAAOC,EAAQC,GACtB,IAAIpE,EAAGqE,EAAGlE,EAAOD,OAAOC,KAAKiE,GAE7B,IAAKpE,EAAI,EAAIqE,EAAIlE,EAAKH,GAAKA,IACzBmE,EAAOE,GAAKD,EAAMC,GAGpB,OAAOF,EAgCT,SAASG,EAAaC,EAAGC,EAAGC,EAAGC,EAAG7F,EAAG8F,GACnC,IAAIC,EAAS3F,EAAK4F,kBAElB,OAAQC,UAAUrE,QAClB,KAAK,EACH,OAAOmE,EACT,KAAK,EACH,OAAOV,EAAOU,EAAQL,GACxB,KAAK,EACH,OAAOL,EAAOU,EAAQ,CACpBL,EAAGA,EACHC,EAAGA,EACHC,EAAGA,EACHC,EAAGA,EACH7F,EAAGA,EACH8F,EAAGA,KAKT,SAASI,EAAgBH,GACvB,OAAIA,EACK3F,EAAK+F,6BAA6BJ,GAElC3F,EAAKgG,qBAiNhB,SAASC,EAAWC,EAAeC,GACjC,OAAIA,aAAqBC,UAChBF,EAAcH,6BAA6BI,GAG7CA,EAsBT,SAASA,EAAUnG,EAAMqG,GACvB,IAAIH,EAAgBlG,EAAKmG,UAAUhD,QAWnC,OATIkD,IAEGC,MAAMC,QAAQF,KACjBA,EAAa,CAAEA,IAxBrB,SAAuBH,EAAeG,GACpC,IAAItF,EAAGxB,EAIP,IAFA2G,EAAcxD,QAET3B,EAAI,EAAIxB,EAAI8G,EAAWtF,GAAKA,IAC/BmF,EAAcM,WAAWP,EAAWC,EAAe3G,IAqBnDkH,CAAcP,EAAeG,IAGxBH,EAAcQ,gB,iCC3zBvB,sTAaO,SAASC,EAAYC,GAC1B,MAAO,CACLC,EAAGC,KAAKC,MAAMH,EAAOC,GACrBG,EAAGF,KAAKC,MAAMH,EAAOI,GACrBC,MAAOH,KAAKC,MAAMH,EAAOK,OACzBC,OAAQJ,KAAKC,MAAMH,EAAOM,SAKvB,SAASC,EAAWC,GAEzB,MAAO,CACLP,EAAGC,KAAKC,MAAMK,EAAMP,GACpBG,EAAGF,KAAKC,MAAMK,EAAMJ,IAYjB,SAASK,EAAOT,GACrB,MAAO,CACLU,IAAKV,EAAOI,EACZO,MAAOX,EAAOC,GAAKD,EAAOK,OAAS,GACnCO,OAAQZ,EAAOI,GAAKJ,EAAOM,QAAU,GACrCO,KAAMb,EAAOC,GAYV,SAASa,EAASC,GACvB,MAAO,CACLd,EAAGc,EAAKF,KACRT,EAAGW,EAAKL,IACRL,MAAOU,EAAKJ,MAAQI,EAAKF,KACzBP,OAAQS,EAAKH,OAASG,EAAKL,KAYxB,SAASM,EAAOhB,GACrB,OAAOO,EAAW,CAChBN,EAAGD,EAAOC,GAAKD,EAAOK,OAAS,GAAK,EACpCD,EAAGJ,EAAOI,GAAKJ,EAAOM,QAAU,GAAK,IAoBlC,SAASW,EAAeC,EAAMC,EAAWC,GAE9CA,EAAUA,GAAW,EAIhB,mBAASA,KACZA,EAAU,CAAEnB,EAAGmB,EAAShB,EAAGgB,IAI7B,IAAIC,EAAkBZ,EAAOS,GACzBI,EAAuBb,EAAOU,GAE9BT,EAAMW,EAAgBT,OAASQ,EAAQhB,GAAKkB,EAAqBZ,IACjEC,EAAQU,EAAgBR,KAAOO,EAAQnB,GAAKqB,EAAqBX,MACjEC,EAASS,EAAgBX,IAAMU,EAAQhB,GAAKkB,EAAqBV,OAGjEW,EAAWb,EAAM,MAASE,EAAS,SAAW,KAC9CY,EAHOH,EAAgBV,MAAQS,EAAQnB,GAAKqB,EAAqBT,KAG7C,OAAUF,EAAQ,QAAU,KAEpD,OAAIa,GAAcD,EACTA,EAAW,IAAMC,EAEjBA,GAAcD,GAAY,YAgB9B,SAASE,EAA2BC,EAAaC,EAAUC,GAEhE,IAmC+BlD,EAAGC,EAnC9BkD,GAmC2BnD,EAnCMgD,EAmCH/C,EAnCgBgD,EAoC3C,IAAejD,EAAGC,IA7BzB,OAA6B,IAAzBkD,EAAcjH,QAEkB,IAAzBiH,EAAcjH,QAAgB,YAAciH,EAAc,GAAIA,EAAc,IAAM,EADpFtB,EAAWsB,EAAc,IAGvBA,EAAcjH,OAAS,EAiBzB2F,GAbPsB,EAAgB,iBAAOA,GAAe,SAAS1H,GAC7C,IAAI2H,EAAW5B,KAAK6B,MAAa,IAAP5H,EAAE6H,KAAa,EASzC,OALAF,IAFAA,EAAW,IAAMA,GAEM,GAAK,IAAM,IAAMA,EAKjC3H,EAAE8H,SAAW,IAAMH,MAGIF,EAAY,EAAIC,EAAcjH,OAAS,IAGlE,KASF,SAASsH,EAAyBC,GAGvCA,EAAYA,EAAUC,QAOtB,IALA,IACI5B,EACA6B,EACAC,EAHAC,EAAM,EAKHJ,EAAUI,IACf/B,EAAQ2B,EAAUI,GAClBF,EAAgBF,EAAUI,EAAM,GAChCD,EAAYH,EAAUI,EAAM,GAEY,IAApC,YAAc/B,EAAO8B,IACrB,YAAaD,EAAeC,EAAW9B,GAIzC2B,EAAUxF,OAAO4F,EAAK,GAEtBA,IAIJ,OAAOJ,I,iCC7MT,yPAoBO,SAASK,EAAWC,GAGzB,OAAO,iBAAOA,GAAU,SAAS1K,GAC/B,OAAQ,eAAK0K,GAAU,SAASzJ,GAC9B,OAAOA,IAAMjB,GAMnB,SAAS2K,EAAU3K,EAAS4D,GAC1B,IAAKA,EACH,OAGF,GAAI5D,IAAY4D,EACd,OAAOA,EAGT,IAAK5D,EAAQ4D,OACX,OAGF,OAAO+G,EAAU3K,EAAQ4D,OAAQA,GAnBL+G,CAAU3K,EAASiB,SA+B1C,SAASmD,EAAIsG,EAAUzJ,EAAG2J,GAC/B,IAAIC,GAAUD,IAAmC,IAAzBF,EAAS9H,QAAQ3B,GAMzC,OAJI4J,GACFH,EAASpG,KAAKrD,GAGT4J,EAcF,SAASC,EAAYJ,EAAUK,EAAIC,GAExCA,EAAQA,GAAS,EAEZ,kBAAQN,KACXA,EAAW,CAAEA,IAGf,kBAAQA,GAAU,SAASO,EAAG7I,GAC5B,IAAI8I,EAASH,EAAGE,EAAG7I,EAAG4I,GAElB,kBAAQE,IAAWA,EAAOrI,QAC5BiI,EAAYI,EAAQH,EAAIC,EAAQ,MAe/B,SAASG,EAAgBT,EAAUE,EAAQQ,GAChD,IAAIC,EAAS,GACTC,EAAoB,GAiBxB,OAfAR,EAAYJ,GAAU,SAAS1K,EAASoC,EAAG4I,GACzC5G,EAAIiH,EAAQrL,EAAS4K,GAErB,IAAIW,EAAWvL,EAAQuL,SAGvB,KAAkB,IAAdH,GAAmBJ,EAAQI,IAGzBG,GAAYnH,EAAIkH,EAAmBC,EAAUX,GAC/C,OAAOW,KAKNF,EAwBF,SAASG,EAAmBd,EAAUe,GAC3C,OAAON,EAAgBT,GAAWe,GAAkB,GAc/C,SAASC,EAAWhB,EAAUiB,EAAYC,GAE3C,sBAAYD,KACdA,GAAa,GAGX,mBAASA,KACXC,EAAUD,EACVA,GAAa,GAMf,IAAIE,EAAYC,GAFhBF,EAAUA,GAAW,IAEcC,WAC/BE,EAAiBD,EAAWF,EAAQG,gBACpCC,EAAmBF,EAAWF,EAAQI,kBACtCC,EAAsBH,EAAWF,EAAQK,qBAEzCC,EAAWJ,EACbF,EAAQM,SACRP,GAAc,kBAAQjB,GAAU,SAASzJ,GAAK,OAAOA,EAAEkL,OAIzD,SAASC,EAAiBvF,GACpBqF,EAASrF,EAAEwF,OAAOF,KAAOD,EAASrF,EAAE/F,OAAOqL,MAC7CD,EAASrF,EAAEsF,IAAM,CAAEtF,IAKjBgF,EAAUhF,EAAEwF,OAAOF,KAAON,EAAUhF,EAAE/F,OAAOqL,MAC/CF,EAAoBpF,EAAEsF,IAAMH,EAAiBnF,EAAEsF,IAAMtF,GAGvDkF,EAAelF,EAAEsF,IAAMtF,EA4BzB,OAFAiE,EAAYJ,GAvBZ,SAAuB1K,GAIrB,GAFAgM,EAAiBhM,EAAQmM,IAAMnM,GAE3BA,EAAQoK,UAeV,OARAyB,EAAU7L,EAAQmM,IAAMnM,EAGxB,kBAAQA,EAAQsM,SAAUF,GAE1B,kBAAQpM,EAAQuM,SAAUH,GAGnBpM,EAAQuL,SAZfU,EAAoBjM,EAAQmM,IAAMJ,EAAe/L,EAAQmM,IAAMnM,KAkB5D,CACL6L,UAAWA,EACXE,eAAgBA,EAChBG,SAAUA,EACVD,oBAAqBA,EACrBD,iBAAkBA,GAWf,SAASQ,EAAQ9B,EAAU+B,GAOhC,IAAIC,EACAC,EACAC,EACAC,EA8BJ,OAtCAJ,IAAkBA,EACb,kBAAQ/B,KACXA,EAAW,CAACA,IAQd,kBAAQA,GAAU,SAAS1K,GAGzB,IAAI8M,EAAO9M,EACPA,EAAQoK,YAAcqC,IACxBK,EAAON,EAAQxM,EAAQoK,WAAW,IAGpC,IAAIlC,EAAI4E,EAAK5E,EACTG,EAAIyE,EAAKzE,EACTE,EAASuE,EAAKvE,QAAU,EACxBD,EAAQwE,EAAKxE,OAAS,GAEtBJ,EAAIwE,QAAiB1K,IAAT0K,KACdA,EAAOxE,IAELG,EAAIsE,QAAiB3K,IAAT2K,KACdA,EAAOtE,IAGJH,EAAII,EAASsE,QAAiB5K,IAAT4K,KACxBA,EAAO1E,EAAII,IAERD,EAAIE,EAAUsE,QAAiB7K,IAAT6K,KACzBA,EAAOxE,EAAIE,MAIR,CACLL,EAAGwE,EACHrE,EAAGsE,EACHpE,OAAQsE,EAAOF,EACfrE,MAAOsE,EAAOF,GAkBX,SAASK,EAAoBrC,EAAUoC,GAE5C,IAAIE,EAAmB,GA4BvB,OA1BA,kBAAQtC,GAAU,SAAS1K,GAEzB,IAAIiB,EAAIjB,EAEJiB,EAAEmJ,YACJnJ,EAAIuL,EAAQvL,KAGT,mBAAS6L,EAAKzE,IAAOpH,EAAEiH,EAAI4E,EAAK5E,IACnC8E,EAAiBhN,EAAQmM,IAAMnM,IAE5B,mBAAS8M,EAAK5E,IAAOjH,EAAEoH,EAAIyE,EAAKzE,IACnC2E,EAAiBhN,EAAQmM,IAAMnM,GAE7BiB,EAAEiH,EAAI4E,EAAK5E,GAAKjH,EAAEoH,EAAIyE,EAAKzE,IACzB,mBAASyE,EAAKxE,QAAU,mBAASwE,EAAKvE,SACtCtH,EAAEqH,MAAQrH,EAAEiH,EAAI4E,EAAKxE,MAAQwE,EAAK5E,GAClCjH,EAAEsH,OAAStH,EAAEoH,EAAIyE,EAAKvE,OAASuE,EAAKzE,EAEtC2E,EAAiBhN,EAAQmM,IAAMnM,EACrB,mBAAS8M,EAAKxE,QAAW,mBAASwE,EAAKvE,UACjDyE,EAAiBhN,EAAQmM,IAAMnM,OAK9BgN,EAIF,SAASC,EAAQjN,GAEtB,MAAI,cAAeA,EACV,aAGL,MAAOA,EACF,QAGF,OAGF,SAASkN,EAAelN,GAE7B,SAAUA,IAAWA,EAAQmN,SAK/B,SAASrB,EAAWsB,EAAMC,GACxB,OAAO,iBAAO,GAAID,GAAQ,GAAIC,GAAQ,M,iCCvWxC,kGAYIC,EAAc,KAGdC,EAAc,mCAGdC,EAAW,mBAEXC,EAAkB,CACpB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACLC,IAAM,SAgHD,SAASC,EAAUzN,EAAI0N,EAASC,GACrC,IAAIC,EAAW5N,EAAG6N,OAAOC,IAAIF,SAASF,GAItC,OAAKA,GAFUE,GAAYA,IAAa5N,EAG/B2N,EAAU,mCAOd,SAAoBD,EAASC,GAElC,GAe4BrM,EAfVoM,EAgBXN,EAAYzI,KAAKrD,GAftB,OAAOqM,EAAU,+BAcd,IAAuBrM,EAX5B,IAAKgM,EAAS3I,KAAK+I,GAEjB,OAAIL,EAAY1I,KAAK+I,GACZC,EAAU,+BAGZA,EAAU,6BAhBZI,CAAWL,EAASC,GA8DtB,SAASK,EAAWC,GAGzB,OAFAA,EAAM,GAAKA,IAEGA,EAAIzM,QAAQ,YAAY,SAAS0M,GAC7C,OAAOX,EAAgBW,Q,iCCpN3B,8LAASC,EAAQ1L,GAAwT,OAAtO0L,EAArD,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiB5L,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX2L,QAAyB3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAyBA,GAExV,SAAS8L,EAA2BC,EAAMhK,GAAQ,OAAIA,GAA2B,WAAlB2J,EAAQ3J,IAAsC,mBAATA,EAA8CiK,EAAuBD,GAAtChK,EAEnI,SAASkK,EAAgB1L,GAAwJ,OAAnJ0L,EAAkBtM,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAASyL,EAAuBD,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAE/J,SAASO,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAeH,GAAYI,EAAgBL,EAAUC,GAEnX,SAASI,EAAgBrM,EAAGsM,GAA+G,OAA1GD,EAAkBjN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAASC,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAGzG,IAAIQ,EAAO,SAASA,EAAKzN,GAC9BsN,EAAgBjM,KAAMoM,GAEtB,iBAAOpM,KAAMrB,GAQb0N,EAAerM,KAAM,iBAAkB,CACrC6L,UAAU,KAGHS,EAEX,SAAUC,GAGR,SAASD,EAAK3N,GACZ,IAAI6N,EA2BJ,OAzBAP,EAAgBjM,KAAMsM,GAUtBD,EAAelB,EARfqB,EAAQvB,EAA2BjL,KAAMoL,EAAgBkB,GAAMpL,KAAKlB,KAAMrB,KAQ5B,OAAQ,CACpD8N,YAAY,EACZzO,MAAOwO,EAAME,MAAQ,KASvBL,EAAelB,EAAuBqB,GAAQ,OAAQ,CACpDC,YAAY,EACZzO,MAAOwO,EAAMG,MAAQ,KAEhBH,EAGT,OAjCAf,EAAUa,EAAMC,GAiCTD,EAlCT,CAmCEF,GACSQ,EAEX,SAAUC,GAGR,SAASD,EAAIjO,GACX,IAAImO,EA0BJ,OAxBAb,EAAgBjM,KAAM4M,GAUtBP,EAAelB,EARf2B,EAAS7B,EAA2BjL,KAAMoL,EAAgBwB,GAAK1L,KAAKlB,KAAMrB,KAQ3B,OAAQ,CACrDkN,UAAU,IASZQ,EAAelB,EAAuB2B,GAAS,QAAS,CACtDL,YAAY,EACZzO,MAAO8O,EAAOC,OAAS,KAElBD,EAGT,OAhCArB,EAAUmB,EAAKC,GAgCRD,EAjCT,CAkCER,GACSY,EAEX,SAAUC,GAGR,SAASD,EAAIrO,GACX,IAAIuO,EA0BJ,OAxBAjB,EAAgBjM,KAAMgN,GAUtBX,EAAelB,EARf+B,EAASjC,EAA2BjL,KAAMoL,EAAgB4B,GAAK9L,KAAKlB,KAAMrB,KAQ3B,OAAQ,CACrDkN,UAAU,IASZQ,EAAelB,EAAuB+B,GAAS,QAAS,CACtDT,YAAY,EACZzO,MAAOkP,EAAOH,OAAS,KAElBG,EAGT,OAhCAzB,EAAUuB,EAAKC,GAgCRD,EAjCT,CAkCEZ,GACSe,EAEX,SAAUC,GAGR,SAASD,EAAKxO,GACZ,IAAI0O,EAyBJ,OAvBApB,EAAgBjM,KAAMmN,GAUtBd,EAAelB,EARfkC,EAASpC,EAA2BjL,KAAMoL,EAAgB+B,GAAMjM,KAAKlB,KAAMrB,KAQ5B,MAAO,CACpDkN,UAAU,IASZQ,EAAelB,EAAuBkC,GAAS,MAAO,CACpDxB,UAAU,IAELwB,EAGT,OA/BA5B,EAAU0B,EAAMC,GA+BTD,EAhCT,CAiCEf,GACEkB,EAAQ,CACVC,KAAMjB,EACNkB,IAAKZ,EACLa,IAAKT,EACLU,KAAMP,GAED,SAASxK,EAAOlG,EAAMkC,GAC3B,IAAIgP,EAAOL,EAAM7Q,GAEjB,IAAKkR,EACH,MAAM,IAAI5N,MAAM,gBAAkBtD,GAGpC,OAAO,IAAIkR,EAAKhP,GAGlB,SAAS0N,EAAezM,EAAIgO,EAAMC,GAChC/O,OAAOuN,eAAezM,EAAIgO,EAAMC,K,8DCrLnB,SAASC,EAAUC,EAAUC,GAE1ChO,KAAKiO,UAAYF,EACjB/N,KAAKkO,QAAUF,EAEfhO,KAAKmO,kBAAoB,GAEzB,IAAIjD,EAAOlL,KAEX+N,EAASK,GAAG,CAAE,eAAgB,sBAAuB,SAAS3Q,GAC5D,IAAIjB,EAAUiB,EAAEjB,QAChB0O,EAAKmD,SAAS7R,MAGhBuR,EAASK,GAAG,CAAE,gBAAiB,cAAe,SAAS3Q,GACrDyN,EAAKoD,OAAO,SAIhBR,EAAUS,QAAU,CAAE,WAAY,UAGlCT,EAAUtO,UAAU6O,SAAW,SAAS7R,GACtC,IAAIgS,EAAmBxO,KAAKmO,kBAExBnH,EAAMwH,EAAiBpP,QAAQ5C,GAEnC,IAAa,IAATwK,EAAY,CACd,IAAIyH,EAAeD,EAAiB3H,QAEpC2H,EAAiBpN,OAAO4F,EAAK,GAE7BhH,KAAKiO,UAAUS,KAAK,oBAAqB,CAAED,aAAcA,EAAcE,aAAcH,MAKzFV,EAAUtO,UAAUoP,IAAM,WACxB,OAAO5O,KAAKmO,mBAGdL,EAAUtO,UAAUqP,WAAa,SAASrS,GACxC,OAAoD,IAA7CwD,KAAKmO,kBAAkB/O,QAAQ5C,IAexCsR,EAAUtO,UAAU8O,OAAS,SAASpH,EAAUtG,GAC9C,IAAI4N,EAAmBxO,KAAKmO,kBACxBM,EAAeD,EAAiB3H,QAE/B,kBAAQK,KACXA,EAAWA,EAAW,CAAEA,GAAa,IAGvC,IAAI8G,EAAShO,KAAKkO,QAElBhH,EAAWA,EAASQ,QAAO,SAASlL,GAGlC,OAFYwR,EAAOc,UAAUtS,KAEZwR,EAAOe,oBAKtBnO,EACF,kBAAQsG,GAAU,SAAS1K,IACkB,IAAvCgS,EAAiBpP,QAAQ5C,IAK3BgS,EAAiB1N,KAAKtE,MAI1BwD,KAAKmO,kBAAoBK,EAAmBtH,EAASL,QAGvD7G,KAAKiO,UAAUS,KAAK,oBAAqB,CAAED,aAAcA,EAAcE,aAAcH,KCnFxE,SAASQ,EAAiBC,EAAQjB,EAAQkB,EAAWC,GAIlE,SAASC,EAAU3R,EAAG4R,GACpBrB,EAAOoB,UAAU3R,EAAG4R,GAGtB,SAASC,EAAa7R,EAAG4R,GACvBrB,EAAOsB,aAAa7R,EAAG4R,GAPzBrP,KAAKuP,mBAAqB,KAU1BN,EAAOb,GAAG,iBAAiB,SAASoB,GAClCJ,EAAUI,EAAMhT,QA7BD,YAgCjByS,EAAOb,GAAG,eAAe,SAASoB,GAChCF,EAAaE,EAAMhT,QAjCJ,YAoCjByS,EAAOb,GAAG,qBAAqB,SAASoB,GAUtC,IAAIf,EAAee,EAAMf,aACrBE,EAAea,EAAMb,aAEzB,kBAAQF,GAAc,SAAShR,IACI,IAA7BkR,EAAavP,QAAQ3B,IAXzB6R,EAYW7R,EAlDK,eAsDlB,kBAAQkR,GAAc,SAASlR,IACI,IAA7BgR,EAAarP,QAAQ3B,IAbzB2R,EAcS3R,EAxDO,kBA8DtBuR,EAAiBT,QAAU,CACzB,WACA,SACA,YACA,U,aC3Da,SAASkB,EAAkB1B,EAAUmB,EAAWlB,EAAQ0B,GAGrE3B,EAASK,GAAG,aAAc,KAAK,SAASoB,GACtC,IAAIG,EAAUH,EAAMG,QAChBC,EAAaD,EAAQC,WACrB1I,EAAWyI,EAAQzI,SAEnB2I,GADQF,EAAQG,OAAS,IACND,WAEvB,GAAID,EAAY,CACd,IAAmB,IAAfC,EAGF,OAGE,kBAAQA,GACVX,EAAUZ,OAAOuB,GAIjBX,EAAUZ,OAAOpH,EAASQ,OAAOqI,QAMvChC,EAASK,GAAG,cAAe,KAAK,SAASoB,GACvC,IAAIG,EAAUH,EAAMG,QAChBC,EAAaD,EAAQC,WACrBI,EAAQL,EAAQK,MAEhBJ,GAAcI,GAChBd,EAAUZ,OAAO0B,MAKrBjC,EAASK,GAAG,iBAAkB,KAAK,SAASoB,GAC1C,IAAIS,EAAoBT,EAAMS,mBAAqB,GAE/CC,EAAQR,EAAgBd,IAAIY,EAAMG,QAAQO,MAAMvH,IAGnC,eAAKsH,GAAmB,SAASE,GAChD,OAAOD,EAAMvH,KAAOwH,EAAcxH,OAIlCuG,EAAUZ,OAAO4B,MAKrBnC,EAASK,GAAG,iBAAiB,SAASoB,GAEpC,GAAK,YAAgBA,GAArB,CAIA,IAAIhT,EAAUgT,EAAMhT,QAEhBA,IAAYwR,EAAOoC,mBACrB5T,EAAU,MAGZ,IAAIqS,EAAaK,EAAUL,WAAWrS,GAClC6T,EAAgBnB,EAAUN,MAAMvP,OAAS,EAGzCuB,EAAM,YAAmB4O,IAAU,YAAqBA,GAE5D,GAAIX,GAAcwB,EAChB,OAAIzP,EAGKsO,EAAUb,SAAS7R,GAInB0S,EAAUZ,OAAO9R,GAEhBqS,EAOVK,EAAUb,SAAS7R,GAJnB0S,EAAUZ,OAAO9R,EAASoE,OAiBhC,SAASmP,EAAQvT,GACf,OAAQA,EAAQ8T,OATlBb,EAAkBlB,QAAU,CAC1B,WACA,YACA,SACA,mBCvGa,KACbgC,SAAU,CAAE,mBAAoB,qBAChCC,YAAa,CACX,IACA,KAEFtB,UAAW,CAAE,OAAQpB,GACrB2C,iBAAkB,CAAE,OAAQzB,GAC5B0B,kBAAmB,CAAE,OAAQjB,K,iCChB/B,mHAaO,SAASzL,EAAU2M,EAAKjM,EAAGG,EAAG+L,EAAOC,GAC1C,IAAIxG,EAAY,cAChBA,EAAUyG,aAAapM,EAAGG,GAE1B,IAAIkM,EAAS,cACbA,EAAOC,UAAUJ,GAAS,EAAG,EAAG,GAEhC,IAAIK,EAAQ,cACZA,EAAMC,SAASL,GAAU,EAAGA,GAAU,GAEtC,YAAaF,EAAK,CAAEtG,EAAW0G,EAAQE,IASlC,SAAS5G,EAAUsG,EAAKjM,EAAGG,GAChC,IAAIwF,EAAY,cAChBA,EAAUyG,aAAapM,EAAGG,GAE1B,YAAa8L,EAAKtG,GAQb,SAAS0G,EAAOJ,EAAKC,GAC1B,IAAIG,EAAS,cACbA,EAAOC,UAAUJ,EAAO,EAAG,GAE3B,YAAaD,EAAKI,K,iCChDpB,SAASI,EAAkB3B,GACpBA,GAA0C,mBAA1BA,EAAM4B,iBAI3B5B,EAAM4B,kBAID,SAASC,EAAY7B,GAC1B,OAAOA,EAAM8B,eAAiB9B,EAAM+B,SAI/B,SAASH,EAAgB5B,EAAOgC,GACrCL,EAAkB3B,GAClB2B,EAAkBE,EAAY7B,IAIzB,SAASiC,EAAQjC,GAUtB,OARIA,EAAMkC,UAAYlC,EAAMkC,SAASrS,SACnCmQ,EAAQA,EAAMkC,SAAS,IAGrBlC,EAAMmC,SAAWnC,EAAMmC,QAAQtS,SACjCmQ,EAAQA,EAAMmC,QAAQ,IAGjBnC,EAAQ,CACb9K,EAAG8K,EAAMoC,QACT/M,EAAG2K,EAAMqC,SACP,KAjCN,uG,8CCYO,SAASC,EAAStC,EAAOuC,GAC9B,OAAQ,YAAiBvC,IAAUA,GAAOuC,SAAWA,EAGhD,SAASC,EAAgBxC,GAG9B,OAAOsC,EAAStC,EAAO,GAGlB,SAASyC,EAAkBzC,GAGhC,OAAOsC,EAAStC,EAAO,GASlB,SAAS0C,EAAmB1C,GACjC,IAAI8B,EAAgB,YAAiB9B,IAAUA,EAE/C,QAAKwC,EAAgBxC,KCpCd,OAASnO,KAAK8Q,UAAUC,UD0CtBd,EAAce,QAEdf,EAAcgB,SAKlB,SAASC,EAAqB/C,GACnC,IAAI8B,EAAgB,YAAiB9B,IAAUA,EAE/C,OAAOwC,EAAgBxC,IAAU8B,EAAckB,SArDjD,yI,iCEQO,SAASrS,EAAOsS,EAAYjW,GAEjC,IAAKiW,IAAejW,EAClB,OAAQ,EAGV,IAAIwK,EAAMyL,EAAWrT,QAAQ5C,GAM7B,OAJa,IAATwK,GACFyL,EAAWrR,OAAO4F,EAAK,GAGlBA,EAWF,SAASpG,EAAI6R,EAAYjW,EAASwK,GAEvC,GAAKyL,GAAejW,EAApB,CAImB,iBAARwK,IACTA,GAAO,GAGT,IAAI0L,EAAaD,EAAWrT,QAAQ5C,GAEpC,IAAoB,IAAhBkW,EAAmB,CAErB,GAAIA,IAAe1L,EAGjB,OAGA,IAAa,IAATA,EAOF,OAJAyL,EAAWrR,OAAOsR,EAAY,IASvB,IAAT1L,EAGFyL,EAAWrR,OAAO4F,EAAK,EAAGxK,GAI1BiW,EAAW3R,KAAKtE,IAcb,SAAS4C,EAAQqT,EAAYjW,GAElC,OAAKiW,GAAejW,EAIbiW,EAAWrT,QAAQ5C,IAHhB,EAvFZ,uG,gECAA,SAASmW,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAASE,EAAa3G,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAYJ,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAM/Q,IAAI,EAA0C2G,GAAa,SAASG,EAA2BC,EAAcC,EAAeC,EAAUlE,EAAWmE,EAAeC,IAJhK,SAAyBpH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAK9GK,CAAgBjM,KAAMiT,GAEtB,IAAIM,EAAU,CACZC,QAAS,WACP,OAAOJ,EAASK,OAAO,CACrBhX,KAAM,sBAGViX,aAAc,SAAsB/D,GAClC,IAAIgE,EAAOhE,GAAWA,EAAQgE,KAE9B,GAAKA,GAASzE,EAAU0E,eAAxB,CAIAD,EAAOA,GAAQzE,EAAUN,MAAMpB,IAC/B,IACIvO,EADOqU,EAAMO,UACAnH,KAAKtN,QAAQuU,GAE9B,IAAe,IAAX1U,EAIJ,OAAOmU,EAASK,OAAO,CACrBhX,KAAM,oBACLwC,KAEL6U,aAAc,SAAsBnE,GAClC,IAAIgE,EAAOhE,GAAWA,EAAQgE,KAE9B,GAAKA,GAASzE,EAAU0E,eAAxB,CAIAD,EAAOA,GAAQzE,EAAUN,MAAMpB,IAC/B,IACIvO,EADOqU,EAAMO,UACAnH,KAAKtN,QAAQuU,GAE9B,IAAe,IAAX1U,EAIJ,OAAOmU,EAASK,OAAO,CACrBhX,KAAM,oBACLwC,EAAQ,KAEb8U,WAAY,SAAoBpE,GAC9B,IAAIgE,EAAOhE,GAAWA,EAAQgE,MAEzBA,GAASzE,EAAU0E,kBAIxBD,EAAOA,GAAQzE,EAAUN,MAAMpB,IAC/B4F,EAASY,UAAUL,KAErBM,SAAU,WACR,IAEIC,EAFOZ,EAAMO,UACS9W,eACCmX,MAC3B,OAAOd,EAASe,OAAO,CACrB1X,KAAM,mBACLyX,EAAQA,EAAM7U,OAAS,IAE5B+U,aAAc,SAAsBzE,GAClC,IAAIuE,EAAQvE,GAAWA,EAAQuE,MAE/B,GAAKA,GAAUhF,EAAU0E,eAAzB,CAIAM,EAAQA,GAAShF,EAAUN,MAAMnB,IACjC,IACIxO,EADOqU,EAAMO,UACAlH,KAAKvN,QAAQ8U,GAE9B,IAAe,IAAXjV,EAIJ,OAAOmU,EAASe,OAAO,CACrB1X,KAAM,mBACLwC,KAELoV,cAAe,SAAuB1E,GACpC,IAAIuE,EAAQvE,GAAWA,EAAQuE,MAE/B,GAAKA,GAAUhF,EAAU0E,eAAzB,CAIAM,EAAQA,GAAShF,EAAUN,MAAMnB,IACjC,IACIxO,EADOqU,EAAMO,UACAlH,KAAKvN,QAAQ8U,GAE9B,IAAe,IAAXjV,EAIJ,OAAOmU,EAASe,OAAO,CACrB1X,KAAM,mBACLwC,EAAQ,KAEbqV,YAAa,SAAqB3E,GAChC,IAAIuE,EAAQvE,GAAWA,EAAQuE,OAE1BA,GAAUhF,EAAU0E,kBAIzBM,EAAQA,GAAShF,EAAUN,MAAMnB,IACjC2F,EAASmB,UAAUL,KAErBM,UAAW,WACT,IACIzX,EADOuW,EAAMO,UACS9W,eACtBmX,EAAQnX,EAAe6R,IAAI,SAC3B6F,EAAS1X,EAAe6R,IAAI,UAChC,OAAOwE,EAASe,OAAO,CACrB1X,KAAM,oBACLyX,EAAM7U,OAASoV,EAAOpV,SAE3BqV,cAAe,SAAuB/E,GACpC,IAAI8E,EAAS9E,GAAWA,EAAQ8E,OAEhC,GAAKA,GAAWvF,EAAU0E,eAA1B,CAIAa,EAASA,GAAUvF,EAAUN,MAAMnB,IACnC,IACIxO,EADOqU,EAAMO,UACAlH,KAAKvN,QAAQqV,GAE9B,IAAe,IAAXxV,EAIJ,OAAOmU,EAASe,OAAO,CACrB1X,KAAM,oBACLwC,KAEL0V,eAAgB,SAAwBhF,GACtC,IAAI8E,EAAS9E,GAAWA,EAAQ8E,OAEhC,GAAKA,GAAWvF,EAAU0E,eAA1B,CAIAa,EAASA,GAAUvF,EAAUN,MAAMnB,IACnC,IACIxO,EADOqU,EAAMO,UACAlH,KAAKvN,QAAQqV,GAE9B,IAAe,IAAXxV,EAIJ,OAAOmU,EAASe,OAAO,CACrB1X,KAAM,oBACLwC,EAAQ,KAEb2V,aAAc,SAAsBjF,GAClC,IAAI8E,EAAS9E,GAAWA,EAAQ8E,QAE3BA,GAAWvF,EAAU0E,kBAI1Ba,EAASA,GAAUvF,EAAUN,MAAMnB,IACnC2F,EAASmB,UAAUE,KAErBI,UAAW,WACT,GAAK3F,EAAU0E,eAAf,CAIA,IAAIkB,EAAS5F,EAAUN,MAAMnB,IAE7B,OAAI,YAAGqH,EAAQ,mBACNvB,EAAQU,SAAS,CACtBC,MAAOY,IAEA,YAAGA,EAAQ,oBACbvB,EAAQiB,UAAU,CACvBC,OAAQK,SAFL,IAMTC,cAAe,WACb,GAAK7F,EAAU0E,eAAf,CAIA,IAAIkB,EAAS5F,EAAUN,MAAMnB,IAE7B,OAAI,YAAGqH,EAAQ,mBACNvB,EAAQa,aAAa,CAC1BF,MAAOY,IAEA,YAAGA,EAAQ,oBACbvB,EAAQmB,cAAc,CAC3BD,OAAQK,SAFL,IAMTE,eAAgB,WACd,GAAK9F,EAAU0E,eAAf,CAIA,IAAIkB,EAAS5F,EAAUN,MAAMnB,IAE7B,OAAI,YAAGqH,EAAQ,mBACNvB,EAAQc,cAAc,CAC3BH,MAAOY,IAEA,YAAGA,EAAQ,oBACbvB,EAAQoB,eAAe,CAC5BF,OAAQK,SAFL,IAMTG,aAAc,WACZ,GAAK/F,EAAU0E,eAAf,CAIA,IAAIkB,EAAS5F,EAAUN,MAAMnB,IAE7B,OAAI,YAAGqH,EAAQ,mBACNvB,EAAQe,YAAY,CACzBJ,MAAOY,IAEA,YAAGA,EAAQ,oBACbvB,EAAQqB,aAAa,CAC1BH,OAAQK,SAFL,IAMTI,gBAAiB,WACf,OAAO7B,EAAc8B,WAAW,UAElCC,gBAAiB,WACf,OAAO/B,EAAc8B,WAAW,UAElCE,KAAM,SAAcC,GAClB,IAAI9Y,EAAU8Y,EAAK9Y,QACnB0W,EAAamC,KAAK7Y,IAEpB+Y,IAAK,SAAaC,GAChB,IAAIhZ,EAAUgZ,EAAMhZ,QACpB0W,EAAaqC,IAAI/Y,IAEnBiZ,YAAa,SAAqBC,GAChC,IAAIlZ,EAAUkZ,EAAMlZ,QACpB,OAAO0W,EAAauC,YAAYjZ,IAElCmZ,WAAY,SAAoBC,GAC9B,IAAIpZ,EAAUoZ,EAAMpZ,QACpB,OAAO0W,EAAayC,WAAWnZ,KAGnC2W,EAAc0C,SAAStC,MAIzB,EAA2BhF,QAAU,CAAC,eAAgB,gBAAiB,WAAY,YAAa,gBAAiB,S,sBC5QlG,KACbiC,YAAa,CAAC,IAAe,IAAc,IAAe,KAC1DD,SAAU,CAAC,8BACXuF,2BAA4B,CAAC,OAAQ,K,kBCRV,mBAAlBhX,OAAO6D,OAEhBoT,EAAOC,QAAU,SAAkBC,EAAMC,GACnCA,IACFD,EAAKE,OAASD,EACdD,EAAKzW,UAAYV,OAAO6D,OAAOuT,EAAU1W,UAAW,CAClDwL,YAAa,CACXhN,MAAOiY,EACPxJ,YAAY,EACZZ,UAAU,EACVC,cAAc,OAOtBiK,EAAOC,QAAU,SAAkBC,EAAMC,GACvC,GAAIA,EAAW,CACbD,EAAKE,OAASD,EACd,IAAIE,EAAW,aACfA,EAAS5W,UAAY0W,EAAU1W,UAC/ByW,EAAKzW,UAAY,IAAI4W,EACrBH,EAAKzW,UAAUwL,YAAciL,K,iCCvBnC,mJAaO,SAASI,EAAclT,EAAGC,GAC/B,OAAKD,GAAMC,EAIJuB,KAAK2R,KACV3R,KAAK4R,IAAIpT,EAAEuB,EAAItB,EAAEsB,EAAG,GACpBC,KAAK4R,IAAIpT,EAAE0B,EAAIzB,EAAEyB,EAAG,KALZ,EAoBL,SAAS2R,EAAaxK,EAAGyK,EAAGC,EAAGC,GAMpC,QAJwB,IAAbA,IACTA,EAAW,IAGR3K,IAAMyK,IAAMC,EACf,OAAO,EAGT,IAAIE,GAAOH,EAAE/R,EAAIsH,EAAEtH,IAAMgS,EAAE7R,EAAImH,EAAEnH,IAAM4R,EAAE5R,EAAImH,EAAEnH,IAAM6R,EAAEhS,EAAIsH,EAAEtH,GACzDmS,EAAOR,EAAcrK,EAAGyK,GAG5B,OAAO9R,KAAKmS,IAAIF,EAAMC,IAASF,EAc1B,SAASI,EAAc5T,EAAGC,GAC/B,IAAI4T,EAQJ,OAWK,SAAmC7T,EAAGC,GAC3C,IAAI4T,EAGFA,EADE,kBAAQ7T,GACDA,EAEA,CAAEA,EAAGC,GAGhB,IAAI6T,EAAaD,EAAOnQ,QAAQnF,QAEhC,OAAO,gBAAMsV,GAAQ,SAAS/R,GAC5B,OAAON,KAAKmS,IAAIG,EAAWpS,EAAII,EAAMJ,IA1CjB,KAmBlBqS,CALFF,EADE,kBAAQ7T,GACDA,EAEA,CAAEA,EAAGC,IAIP,MA0BJ,SAAiCD,EAAGC,GACzC,IAAI4T,EAGFA,EADE,kBAAQ7T,GACDA,EAEA,CAAEA,EAAGC,GAGhB,IAAI6T,EAAaD,EAAOnQ,QAAQnF,QAEhC,OAAO,gBAAMsV,GAAQ,SAAS/R,GAC5B,OAAON,KAAKmS,IAAIG,EAAWvS,EAAIO,EAAMP,IA1DjB,KAuBlByS,CAAwBH,IACnB,IAkEJ,SAASI,EAAYpL,EAAGyK,GAC7B,MAAO,CACL/R,EAAGC,KAAKC,MAAMoH,EAAEtH,GAAM+R,EAAE/R,EAAIsH,EAAEtH,GAAK,GACnCG,EAAGF,KAAKC,MAAMoH,EAAEnH,GAAM4R,EAAE5R,EAAImH,EAAEnH,GAAK,M,iCClJhC,SAASwS,EAAO5S,GACrB,MAAO,CACLC,EAAGD,EAAOC,EAAKD,EAAOK,MAAQ,EAC9BD,EAAGJ,EAAOI,EAAKJ,EAAOM,OAAS,GAK5B,SAASuS,EAAMnU,EAAGC,GACvB,MAAO,CACLsB,EAAGvB,EAAEuB,EAAItB,EAAEsB,EACXG,EAAG1B,EAAE0B,EAAIzB,EAAEyB,GAXf,qE,iCCAA,gUAAS0S,EAAerY,EAAKN,GAAK,OAUlC,SAAyBM,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAOA,EAVtBsY,CAAgBtY,IAQzD,SAA+BA,EAAKN,GAAK,IAAI6Y,EAAY,MAAPvY,EAAc,KAAyB,oBAAX4L,QAA0B5L,EAAI4L,OAAOC,WAAa7L,EAAI,cAAe,GAAU,MAANuY,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGvW,KAAKhC,KAAQ2Y,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAK9W,KAAK4W,EAAG1Z,QAAYY,GAAKgZ,EAAKvY,SAAWT,GAA3DiZ,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAAO,QAAU,IAAWJ,GAAsB,MAAhBJ,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBhZ,EAAKN,IAI5F,SAAqCc,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO0Y,EAAkB1Y,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAOD,EAAkB1Y,EAAGyY,GAJpTI,CAA4BrZ,EAAKN,IAEnI,WAA8B,MAAM,IAAIgN,UAAU,6IAFuF4M,GAMzI,SAASJ,EAAkBlZ,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAWzK,SAASC,EAAa9a,GAC3B,OAAOA,EAAKa,aAAa,mBAEpB,SAASka,EAAiB/a,GAC/B,IAAIgb,EAAahb,EAAKa,aAAa,eAEnC,IAAKma,EACH,OAAO,KAGT,IACIC,EAAqBvB,EADDsB,EAAWpX,MAAM,KACkB,GAI3D,MAAO,CACL+L,IAJQsL,EAAmB,GAK3BrL,IAJQqL,EAAmB,IAOxB,SAASC,EAAgBC,EAAeC,GAC7C,IAAIJ,EAAa,GAAGK,OAAOF,EAAcxL,IAAK,KAAK0L,OAAOF,EAAcvL,KACxE,OAAO,gBAAM,iBAAkByL,OAAO,IAAUL,GAAa,MAAQI,GAEhE,SAASE,EAAYC,EAAWH,GACrC,OAAO,gBAAM,qBAAsBC,OAAO,IAAUE,GAAY,MAAQH,GAEnE,SAASI,EAAmBxb,GACjC,OAAO,kBAAQA,EAAM,gBAAgB,GAUhC,SAASyb,EAAuBzb,GACrC,OAAO,kBAAQA,EAxCa,qBAwCW,GAUlC,SAAS0b,EAAiB3Z,GAE/B,OAAO,kBAAQA,EArDgB,qBAqDAA,EAAK,gBArDL,oBAqDqBA,GAQ/C,SAAS4Z,EAAY5Z,GAC1B,IAAI6Z,EAAUF,EAAiB3Z,GAE/B,GAAK6Z,GAMAhX,SAASiX,KAAK/X,SAAS8X,IAKxBhX,SAASkX,gBAAkBF,EAA/B,CAKAA,EAAQG,QAER,IAAIC,EAAQ,YAASJ,GAEhBI,GAAuB,IAAdA,EAAMC,KAClB,YAASL,EAAS,CAChBM,MAAO,IACPD,IAAK,S,iCCtGX,6CAkCe,SAASE,EAAmBjM,GACzC/N,KAAKiO,UAAYF,EAGnBiM,EAAmBzL,QAAU,CAAE,YAmB/ByL,EAAmBxa,UAAU4O,GAAK,SAASa,EAAQgL,EAAMC,EAAUC,EAAWnY,EAAQoY,GAsBpF,IApBI,qBAAWH,IAAS,mBAASA,MAC/BG,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EAAWD,EACXA,EAAO,MAGL,qBAAWC,KACbE,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EA9DmB,KAiEjB,mBAASlY,KACXoY,EAAOpY,EACPA,GAAS,IAGN,qBAAWmY,GACd,MAAM,IAAIpa,MAAM,gCAGb,kBAAQkP,KACXA,EAAS,CAAEA,IAGb,IAAIlB,EAAW/N,KAAKiO,UAEpB,kBAAQgB,GAAQ,SAASO,GAGvB,IAAI6K,EAAY,CAAE,eAAgB7K,EAAOyK,GAAOvS,QAAO,SAASjK,GAAK,OAAOA,KAAMwD,KAAK,KAEvF8M,EAASK,GAAGiM,EAAWH,EAAUlY,EAtDrC,SAAqBuF,EAAI6S,GACvB,OAAO,SAAS5K,GACd,OAAOjI,EAAGrG,KAAKkZ,GAAQ,KAAM5K,EAAMG,QAASH,EAAM8K,QAAS9K,IAoDjB+K,CAAYJ,EAAWC,GAAQD,EAAWC,OAuBxF,kBAlBY,CACV,aACA,aACA,cACA,UACA,WACA,cACA,eACA,SACA,aASa,SAASH,GActBD,EAAmBxa,UAAUya,GAAQ,SAAShL,EAAQiL,EAAUC,EAAWnY,EAAQoY,IAE7E,qBAAWnL,IAAW,mBAASA,MACjCmL,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EAAWjL,EACXA,EAAS,MAGXjP,KAAKoO,GAAGa,EAAQgL,EAAMC,EAAUC,EAAWnY,EAAQoY,Q,iCC7IvD,wIAIA,IAAII,EAeJ,SAAarX,EAAGC,GACd,OAAOD,EAAIC,GAOb,IAAIqX,EAAU,qCAWVC,EAAiB,SAAS/P,EAAKpD,GACjC,IAAIyE,EAiDN,SAAgB9M,GAGd,IAFA,IAAIyb,EAAM,GAED/b,EAAI,EAAGA,EAAIM,EAAIG,OAAQT,KACzB+b,EAAIvb,QAAQF,EAAIN,KACrB+b,EAAI7Z,KAAK5B,EAAIN,IAGf,OAAO+b,EAzDCvT,CAcV,SAAeuD,GACb,OAAOA,EACJzM,QAAQ,6CAA8C,IACtDA,QAAQuc,EAAS,IACjB7P,MAAM,kBACJ,GAnBU5H,CAAM2H,IAErB,OADIpD,GAAM,iBAAmBA,IAAIA,EA+DnC,SAAkBoD,GAChB,OAAO,SAASiQ,GACd,OAAOjQ,EAAMiQ,GAjEuBC,CAAStT,IAC3CA,EA8BN,SAAaoD,EAAK3H,EAAOuE,GAEvB,OAAOoD,EAAIzM,QADF,2DACc,SAAS0c,GAC9B,MAAI,KAAOA,EAAEA,EAAEvb,OAAS,KAClB2D,EAAM5D,QAAQwb,GADerT,EAAGqT,GACPA,KAlClBE,CAAInQ,EAAKqB,EAAGzE,GACpByE,GA+ET,IAAI+O,EAAcC,EAWlB,SAASA,EAASnd,EAAM0P,GACtB,KAAMvN,gBAAgBgb,GAAW,OAAO,IAAIA,EAASnd,EAAM0P,GAQ3D,GAPAvN,KAAKnC,KAAOmC,KAAK+Z,MAAQ/Z,KAAKib,OAASpd,EACvCmC,KAAKuN,KAAOA,EACZvN,KAAKkb,YAAa,EAClBlb,KAAKmb,UAAW,EAChBnb,KAAKob,SAAW,GAChBpb,KAAKqb,SAAW,GAEZxd,GAAQmC,KAAKsb,OAAOzd,GACtB,MAAM,IAAIkC,MAAM,6CA2FpB,SAASwb,EAASC,EAAKhb,GACrB,IAAIuX,EAAc,eAAPyD,EACX,OAAO,SAAcC,EAAMpD,EAAGqD,GAC5BD,EAAOzb,KAAK2b,QAAQF,GACpBpD,EAAIA,GAAKA,EAAI,EAAIA,EAAI,EAKrB,IAJA,IAAIxa,EAAOmC,KAAKnC,KACZ+d,EAAU5b,KAAKkb,WACfW,EAAU7b,KAAKmb,SAEZtd,GAAM,CACX,GAAI2c,EAAazC,EAAM6D,IAAY/d,EAAK2C,GAEtC3C,EAAOA,EAAK2C,GACZob,GAAW7D,OACN,GAAI,GAAKla,EAAKiC,WAAajC,EAAK2C,IAAUga,EAAazC,EAAM6D,IAGlE,GADAA,EAAU7D,GACL8D,EAAS,cACT,GAAIhe,EAAK2d,GAEd3d,EAAOA,EAAK2d,GACZI,GAAW7D,OAKX,GAFAla,EAAOA,EAAKwC,WACZub,EAAU7D,GACL8D,EAAS,SAGhB,IAAKhe,GAAQmC,KAAKsb,OAAOzd,EAAMmC,KAAKuN,MAAO,MAE3C,GAAIkO,EAAK5d,IAASmC,KAAK8b,QAAQje,EAAM6d,IAAS1b,KAAK+b,QAAQle,EAAM6d,GAAO,CACtE,KAAMrD,EAAG,SAGT,OAFKqD,IAAM1b,KAAKnC,KAAOA,GACvBmC,KAAKkb,WAAaU,EACX/d,GAIX,OAAO,MAtHXmd,EAASxb,UAAUwc,MAAQ,SAASne,GAElC,OADAmC,KAAKnC,KAAOA,GAAQmC,KAAK+Z,MAClB/Z,MAOTgb,EAASxb,UAAUqc,QAAU,SAASA,GAEpC,OADA7b,KAAKmb,SAAW3c,MAAaqd,GAAiBA,EACvC7b,MAOTgb,EAASxb,UAAUyc,QAAU,WAE3B,OADI,GAAKjc,KAAKnC,KAAKiC,WAAUE,KAAKkb,YAAa,GACxClb,MAOTgb,EAASxb,UAAU0c,UAAY,WAC7B,OAAQlc,KAAKkb,YAQfF,EAASxb,UAAUoc,QAAU,WAE3B,OADI,GAAK5b,KAAKnC,KAAKiC,WAAUE,KAAKkb,YAAa,GACxClb,MAOTgb,EAASxb,UAAU2c,UAAY,WAC7B,OAAOnc,KAAKkb,YAWdF,EAASxb,UAAUuY,KAAOwD,EAAS,cAAe,cAUlDP,EAASxb,UAAU4c,SACnBpB,EAASxb,UAAU6c,KAAOd,EAAS,kBAAmB,aA+DtDP,EAASxb,UAAU8O,OAAS,SAASmN,GAGnC,OAFAA,EAAOzb,KAAK2b,QAAQF,GACpBzb,KAAKob,SAASta,KAAK2a,GACZzb,MAYTgb,EAASxb,UAAUsc,QAAU,SAASje,EAAM6d,GAC1C,IAAIY,EAAQtc,KAAKob,SACb3C,EAAM6D,EAAMjd,OAChB,IAAKoZ,EAAK,OAAO,EAEjB,IAAK,IAAI7Z,EAAI,EAAGA,EAAI6Z,EAAK7Z,IACvB,GAAI0d,EAAM1d,GAAGsC,KAAKlB,KAAMnC,EAAM6d,GAAO,OAAO,EAE9C,OAAO,GAYTV,EAASxb,UAAU+c,OAAS,SAASd,GAGnC,OAFAA,EAAOzb,KAAK2b,QAAQF,GACpBzb,KAAKqb,SAASva,KAAK2a,GACZzb,MAYTgb,EAASxb,UAAUuc,QAAU,SAASle,EAAM6d,GAC1C,IAAIY,EAAQtc,KAAKqb,SACb5C,EAAM6D,EAAMjd,OAChB,IAAKoZ,EAAK,OAAO,EAEjB,IAAK,IAAI7Z,EAAI,EAAGA,EAAI6Z,EAAK7Z,IACvB,GAAI0d,EAAM1d,GAAGsC,KAAKlB,KAAMnC,EAAM6d,GAAO,OAAO,EAE9C,OAAO,GAaTV,EAASxb,UAAU8b,OAAS,SAASzd,GACnC,IAAI0P,EAAOvN,KAAKuN,KAChB,IAAKA,EAAM,OAAO,EAElB,IADA1P,EAAOA,EAAKwC,WACLxC,GAAQA,GAAQ0P,GAAM1P,EAAOA,EAAKwC,WACzC,OAAOxC,GAAQ0P,GAUjByN,EAASxb,UAAUmc,QAAU,SAASF,GACpC,cAAeA,GACb,IAAK,SACH,OAAO,SAAS5d,GAAQ,OAAO4d,GAAQ5d,EAAKiC,UAC9C,IAAK,SACH,OAAO,IAAI0c,SAAS,OAAQ,UAAY9B,EAAee,EAAM,UAC/D,IAAK,WACH,OAAOA,EACT,QACE,OAAO,WAAa,OAAO,KAcjCT,EAASxb,UAAUid,KACnBzB,EAASxb,UAAUkc,KAAO,SAASD,EAAMpD,GAGvC,OAFwB,GAApB3U,UAAUrE,SAAagZ,EAAIoD,EAAMA,GAAO,IAC5CpD,EAAI7Z,MAAa6Z,EAAI,EAAIA,GAEhBA,EAAI,EAAUrY,KAAK+X,KAAK0D,EAAMpD,GAAG,GAC9BrY,KAAKqc,KAAKZ,EAAM9W,KAAKmS,IAAIuB,IAAI,GAF1BrY,KAAKnC,MAatBmd,EAASxb,UAAUkd,IAAM,SAASnV,GAEhC,OADAA,EAAGvH,MACIA,MAGT,IAAIkP,EAAYyN,OAAOC,eAQvB,SAASC,EAAWhD,GAClB3K,EAAU4N,kBACV5N,EAAU6N,SAASlD,GASrB,SAASmD,IACP,OAAO9N,EAkCT,SAAS+N,EAASrd,EAAIsP,GAIpB2N,EAgKF,SAAqBjd,EAAIsP,GAEvB,IAWI7P,EAXA0a,EAAQ7K,EAAU6K,MAClBD,EAAM5K,EAAU4K,IAEhBD,EAAQpX,SAASya,cAEjBte,EAAImc,EAAYnb,EAAGa,WAAYb,GAE/BmY,EAAOnZ,EAAEf,KACTsf,GAAY,EAEZC,EAAQ,EAGZ,KAAOrF,GAAM,CAUX,GARIqF,IAAUrD,IACRoD,EACFtD,EAAMwD,cAActF,GAEpB8B,EAAMyD,eAAevF,IAIrBqF,IAAUtD,EAOZ,OANIqD,EACFtD,EAAM0D,YAAYxF,GAElB8B,EAAM2D,aAAazF,GAGd8B,EAgBT,GAbKsD,IAEDM,EAAK1F,IACHA,EAAK2F,kBACHC,EAAM5F,IACN6F,EAAY7F,MAIhBqF,IAIAS,EAAO9F,GAAO,CAQhB,GANA1Y,EAAS0Y,EAAK+F,YAAYze,OAEtB+d,GAASrD,GAASqD,EAAQ/d,EAAS0a,GACrCF,EAAMkE,SAAShG,EAAMgC,EAAQqD,GAG3BA,EAAQ/d,EAASya,EAGnB,OAFAD,EAAMmE,OAAOjG,EAAM+B,EAAMsD,GAElBvD,EAGTuD,GAAS/d,EAGX0Y,EAAOnZ,EAAEmZ,OACToF,EAAYve,EAAEsc,WAIZkC,GAASrD,IACPna,EAAGqe,UACLpE,EAAMwD,cAAczd,EAAGqe,WAEvBpE,EAAMkE,SAASne,EAAI,IAInBA,EAAGqe,UACLpE,EAAM0D,YAAY3d,EAAGqe,WAErBpE,EAAMmE,OAAOpe,EAAI,GAGnB,OAAOia,EAtPKqD,CAAYtd,EAAIsP,IAW9B,SAASgP,EAASte,GAEhB,IAvCF,SAAoBA,GAElB,IAAKsP,EAAUiP,WACb,OAAO,KAGT,IAAIC,EAAYlP,EAAUkP,UAQ1B,OAJIP,EAAOO,KACTA,EAAYA,EAAU/d,YAGjBT,GAAMwe,GAAaxe,EAAG+B,SAASyc,GAyBjCvP,CAAWjP,GACd,OAAO,KAGT,IAUIye,EAIAC,EAdAzE,EAAQ3K,EAAUqP,WAAW,GAE7BC,EAAiB3E,EAAM2E,eACvBC,EAAe5E,EAAM4E,aACrBC,EAAc7E,EAAM6E,YACpBC,EAAY9E,EAAM8E,UAElB/f,EAAImc,EAAYnb,EAAGa,WAAYb,GAE/BmY,EAAOnZ,EAAEf,KAGTsf,GAAY,EAGZC,EAAQ,EAEZ,SAASwB,EAAY/gB,EAAMghB,GAMzB,OAJyB,IAArBnb,UAAUrE,SACZwf,EAAgBhhB,GAIhBA,EAAKwC,aAAeoe,GACpBI,GAAiBJ,EAAaK,WAAWH,GAK7C,SAASI,EAAclhB,EAAMghB,GAM3B,OAJyB,IAArBnb,UAAUrE,SACZwf,EAAgBhhB,GAIhBA,EAAKwC,aAAeme,GACpBK,GAAiBL,EAAeM,WAAWJ,GAK/C,KAAO3G,IAGDgH,EAAchH,KAChBuG,EAAiBlB,IAIfwB,EAAY7G,KARL,CA0BX,GAdKoF,IAEDM,EAAK1F,IACHsG,GAASA,EAAKW,aAAejH,IAC3B4F,EAAM5F,IACN6F,EAAY7F,MAIhBqF,IAKAS,EAAO9F,GAAO,CAOhB,GAJIyG,IAAmBzG,IACrBuG,EAAiBlB,EAAQsB,GAGvBD,IAAiB1G,EAAM,CACzBqF,GAASuB,EACT,MAGFvB,GAASrF,EAAK+F,YAAYze,OAG5B,IAAIwe,EAAO9F,IAASoF,KAGd4B,EAAchH,EAAMA,EAAKiH,eAC3BV,EAAiBlB,GAIfwB,EAAY7G,EAAMA,EAAKiH,cACzB,MAKJX,EAAOtG,EACPA,EAAOnZ,EAAEmZ,OACToF,EAAYve,EAAEsc,WAIhB,MAAO,CACLnB,WAAiC,IAAnBuE,EAAiClB,EAAQkB,EACvDxE,IAAKsD,GA8HT,SAASS,EAAOhgB,GACd,OAAyB,IAAlBA,EAAKiC,SAGd,SAAS2d,EAAK5f,GACZ,OACoB,IAAlBA,EAAKiC,UACa,OAAlBjC,EAAKohB,SAIT,SAAStB,EAAM9f,GACb,OACoB,IAAlBA,EAAKiC,UACa,QAAlBjC,EAAKohB,SAIT,SAASrB,EAAY/f,GACnB,OACoB,IAAlBA,EAAKiC,UACa,MAAlBjC,EAAKohB,W,oBCtuBT,IAAIC,EAAa,EAAQ,KACrBC,EAAW,EAAQ,KAmCvBpJ,EAAOC,QAzBP,SAAoBoJ,GAClB,OAAO,WAIL,IAAIC,EAAO3b,UACX,OAAQ2b,EAAKhgB,QACX,KAAK,EAAG,OAAO,IAAI+f,EACnB,KAAK,EAAG,OAAO,IAAIA,EAAKC,EAAK,IAC7B,KAAK,EAAG,OAAO,IAAID,EAAKC,EAAK,GAAIA,EAAK,IACtC,KAAK,EAAG,OAAO,IAAID,EAAKC,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC/C,KAAK,EAAG,OAAO,IAAID,EAAKC,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACxD,KAAK,EAAG,OAAO,IAAID,EAAKC,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACjE,KAAK,EAAG,OAAO,IAAID,EAAKC,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC1E,KAAK,EAAG,OAAO,IAAID,EAAKC,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAErF,IAAIC,EAAcJ,EAAWE,EAAK5f,WAC9BqI,EAASuX,EAAKG,MAAMD,EAAaD,GAIrC,OAAOF,EAAStX,GAAUA,EAASyX,K,kBCJvCvJ,EAAOC,QAhBP,SAAwBnV,EAAO2e,GAM7B,IALA,IAAIvgB,GAAS,EACTI,EAASwB,EAAMxB,OACfogB,EAAW,EACX5X,EAAS,KAEJ5I,EAAQI,GAAQ,CACvB,IAAIrB,EAAQ6C,EAAM5B,GACdjB,IAAUwhB,GAnBA,2BAmBexhB,IAC3B6C,EAAM5B,GApBM,yBAqBZ4I,EAAO4X,KAAcxgB,GAGzB,OAAO4I,I,4CCvBT,SAAS8K,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAS7S,IAAI,EAEJ,WACE,SAAS9E,EAAU4B,EAAiB3B,EAAU2R,GAC5C,IAAIlT,EAAQxM,MAfhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiB5GK,CAAgBjM,KAAM8N,GAEtB9N,KAAK2f,iBAAmBjQ,EACxB1P,KAAKiO,UAAYF,EACjB/N,KAAK4f,UAAYF,EACjB1f,KAAK6f,gBAAarhB,EAClBuP,EAASK,GAAG,iBAAiB,WAC3B5B,EAAMqT,gBAAarhB,KApBzB,IAAsB2N,EAAa4G,EAAYC,EAqF7C,OArFoB7G,EA8BP2B,GA9BoBiF,EA8BT,CAAC,CACvBF,IAAK,SACL7U,MAAO,SAAgBxB,GACjB,mBAASA,KACXA,EAAUwD,KAAK2f,iBAAiB/Q,IAAIpS,IAGtC,IAAIiS,EAAezO,KAAK6f,WAEpBpR,IAAiBjS,IAIrBwD,KAAK6f,WAAarjB,EAElBwD,KAAKiO,UAAUS,KAAK,oBAAqB,CACvCD,aAAcA,EACdS,UAAW1S,OAOd,CACDqW,IAAK,WACL7U,MAAO,WACL,IAAIyQ,EAAezO,KAAK6f,WACxB7f,KAAK6f,gBAAarhB,EAElBwB,KAAKiO,UAAUS,KAAK,oBAAqB,CACvCD,aAAcA,EACdS,UAAWlP,KAAK6f,eAOnB,CACDhN,IAAK,MACL7U,MAAO,WACL,OAAOgC,KAAK6f,aAMb,CACDhN,IAAK,eACL7U,MAAO,WACL,QAASgC,KAAK6f,gBAjF0DlN,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAqF3KlF,EA5ET,GAgFA,EAAUS,QAAU,CAAC,kBAAmB,WAAY,YCxFpD,IAAIkB,EAAoB,SAASA,EAAkBC,EAAiB3B,EAAU2R,EAAUxQ,IALxF,SAAyBhD,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMyP,GAEtBzP,KAAK2f,iBAAmBjQ,EACxB1P,KAAK4f,UAAYF,EACjB1f,KAAK6f,WAAa3Q,EAClBnB,EAASK,GAAG,CAAC,aAAc,qBAAqB,SAAUkH,GACxD,IAAI3M,EAAK2M,EAAK3M,GACVnM,EAAUkT,EAAgBd,IAAIjG,GAE7BnM,GAIL0S,EAAUZ,OAAO9R,MAEnBuR,EAASK,GAAG,cAAc,SAAUoH,GAClC,IAAIhI,EAAMgI,EAAMhI,IACZsS,EAAmB5Q,EAAUN,MAE5BkR,GAIDtS,IAAQsS,EAAiBtS,KAC3B0B,EAAUb,cAGdN,EAASK,GAAG,cAAc,SAAUsH,GAClC,IAAIjI,EAAMiI,EAAMjI,IACZqS,EAAmB5Q,EAAUN,MAE5BkR,GAIDrS,IAAQqS,EAAiBrS,KAC3ByB,EAAUb,eAMhBoB,EAAkBlB,QAAU,CAAC,kBAAmB,WAAY,WAAY,aC9CzD,KACbgC,SAAU,CAAC,YAAa,qBACxBrB,UAAW,CAAC,OAAQ,GACpBwB,kBAAmB,CAAC,OAAQjB,K,gECH1BsQ,EAAmB,CACrBC,OAAO,EACPC,OAAO,EACP7a,OAAO,EACPE,MAAM,GAeO,SAAS4a,EAAcC,EAAQpS,EAAUuF,EAAOpE,EAAWQ,GACxE,IAAIuJ,EAAYkH,EAAOlH,UACnBmH,EAAgB,KAEpB,SAASC,EAAKjH,EAAWzK,GACvBZ,EAASW,KAAK,aAAe0K,EAAY,WAAYzK,GACrDZ,EAASW,KAAK,wBAAyB,CACrC0K,UAAWA,EACXlK,UAAWP,IA+Bf,SAAS2R,EAAWlH,GAClB,IAAImH,IAAW7c,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,KAAmBA,UAAU,GAE1E0c,IAAkBhH,GACpBiH,EAAKD,EAAe,CAClBI,UAAU,EACVD,UAAU,IAIdH,EAAgBhH,EAEZA,GACFiH,EAAKjH,EAAW,CACdoH,UAAU,EACVD,SAAUA,IAIVnH,EACFlK,EAAUZ,OAAO8K,GAEjBlK,EAAUb,WAIdN,EAASK,GAAG,aArFK,KAgCjB,SAAeoB,GACb,IAAIlS,EAASkS,EAAMlS,OAEnB,IAAI,YAAmBA,GAAvB,CAIA,IAAImjB,EAAiB,YAAuBnjB,GAG5CgjB,EAFgBG,GAAkB,YAAaA,IAC/BjR,EAAMkR,sBA6CxB3S,EAASK,GAAG,eAtFK,KA6CjB,SAAeoB,GACb,IAAI4J,EAAY,YAAa5J,EAAMlS,QAC/BijB,GAAY/Q,EAAMkR,iBAEtB,OADAlR,EAAM4B,kBACCkP,EAAWlH,EAAWmH,MAsC/BxS,EAASK,GAAG,gBAvFK,KAoDjB,SAAiBoB,GAEf6Q,EADgB,YAAa7Q,EAAMlS,QACnB,CACdijB,UAAU,OAiCdxS,EAASK,GAAG,yBAAyB,SAAUoB,GAC7C,IAAI4J,EAAY5J,EAAM4J,UAClBlK,EAAYM,EAAMN,UAClByR,EAAgB,YAAYvH,EAAWH,GAEvC/J,EAAUqR,UAAYI,GACxB,YAAYA,MAGhB5S,EAASK,GAAG,qBAAqB,SAAUoB,GACzC,IAAIN,EAAYM,EAAMN,UAClBT,EAAee,EAAMf,aACrB2K,EAAYlK,GAAaA,EAAUvG,GACnCiY,EAAenS,GAAgBA,EAAa9F,GAE5CyQ,GAAaA,IAAcgH,EAC7BE,EAAWpR,EAAUvG,IAEjBiY,GAAgBA,IAAiBR,GACnCE,OAUNtgB,KAAK6gB,eAAiB,WACpB,QAAST,GASXpgB,KAAK8gB,iBAAmB,WACtB,OAAOV,GAcTpgB,KAAKmV,WAAa,SAAU4L,GAC1B,GAAKX,EAAL,CAIA,KAAMW,KAAahB,GACjB,MAAM,IAAIhgB,MAAM,0DAGlB,IAAIihB,EAAc,YAAYZ,EAAenH,GACzCgI,EAAS,YAAiBD,GAE9B,IAAKC,EACH,OAAO,EAGT,IAAIC,EA2BR,SAAuBD,EAAQF,GAC7B,IAAIvT,EAAMyT,EAAOzT,IACbC,EAAMwT,EAAOxT,IAEjB,GAAkB,UAAdsT,GAAuC,UAAdA,EAAuB,CAClD,IAAII,EAAWC,SAAS5T,EAAK,IAE7B,OAAI6T,MAAMF,GACDF,EAIF,CACLxT,IAAKA,EACLD,IAH+B,UAAduT,EAAwBI,EAAW,EAAIA,EAAW,GAOvE,GAAkB,SAAdJ,GAAsC,UAAdA,EAAuB,CACjD,IAAIO,EAAWF,SAAS3T,EAAK,IAE7B,OAAI4T,MAAMC,GACDL,EAIF,CACLzT,IAAKA,EACLC,IAH+B,SAAdsT,EAAuBO,EAAW,EAAIA,EAAW,GAOtE,MAAM,IAAIvhB,MAAM,sBAAwBghB,EAAY,KA3DjCQ,CAAcN,EAAQF,GACnCS,EAAW,YAAgBN,EAAYjI,GAE3C,IAAKuI,EACH,OAAO,EAGT,IAAIC,EAAW,YAAaD,GAS5B,OAPIC,GACFnB,EAAWmB,EAAU,CACnBlB,UAAU,EACVC,UAAU,KAIP,IAGTzS,EAASK,GAAG,qBAAqB,WAC/B,GAAIgS,EACF,OAAOE,EAAWF,MAIxBF,EAAc3R,QAAU,CAAC,kBAAmB,WAAY,QAAS,YAAa,mBCrL/D,KACbiC,YAAa,CAAC,IAAyB,KACvCD,SAAU,CAAC,iBACX8C,cAAe,CAAC,OAAQ6M,K,iCCJX,KACb7V,UAAW,CAAE,QCeA,SAAmBqX,EAAUC,GAI1C,OAFAA,EAAeA,GAAgB,GAExBD,EAASxjB,QAAQ,cAAc,SAAS0c,EAAG/H,GAChD,OAAO8O,EAAa9O,IAAQ,IAAMA,EAAM,W,+ECK5C,SAAS+O,EAASpS,GAAS,OAAO,EAElC,SAASqS,EAAyBrS,GAChC,OAAO,YAAgBA,IAAU,YAAkBA,GA2BtC,SAASsS,EAAkB/T,EAAU2B,EAAiBP,GAEnE,IAAIjE,EAAOlL,KAUX,SAAS0O,EAAKjS,EAAM+S,EAAOhT,GAMzB,IAAIc,EAAQqT,GAoCd,SAAmBoR,EAAgBvS,GAOjC,QALawS,EAAeD,IAAmB,KAKhCvS,IA/CXyS,CAAUxlB,EAAM+S,KAMfhT,EAQHmU,EAAMjB,EAAgBwS,YAAY1lB,IAPlCc,EAASkS,EAAM2S,gBAAkB3S,EAAMlS,UAGrCqT,EAAMrT,EACNd,EAAUkT,EAAgBd,IAAI+B,IAM7BA,GAAQnU,IAUO,IANNuR,EAASW,KAAKjS,EAAM,CAChCD,QAASA,EACTmU,IAAKA,EACLW,cAAe9B,MAIfA,EAAM4B,kBACN5B,EAAM4S,mBAKV,IAAIC,EAAW,GAEf,SAASC,EAAaP,GACpB,OAAOM,EAASN,GAalB,IAAIQ,EAAW,CACbC,MAAO,gBACPC,YAAa,sBACbC,SAAU,mBACVC,UAAW,oBACXC,UAAW,oBACXC,UAAW,gBACXC,SAAU,cACVC,QAAS,mBAGPf,EAAiB,CACnB,sBAAuBJ,EACvB,oBAAqBC,EACrB,kBAAmBA,EACnB,gBAAiBA,EACjB,mBAAoBA,GA+BtB,SAASmB,EAAcnlB,EAAM2R,EAAOyT,EAAYC,GAE9C,IAAIC,EAAUd,EAASY,GAAc,SAASzT,GAC5Cd,EAAKuU,EAAYzT,IAGf0T,IACFlB,EAAeiB,GAAcC,GAG/BC,EAAQC,UAAY,WAAYC,KAAKxlB,EAdhB,oBAcwC2R,EAAO2T,GAGtE,SAASG,EAAgBzlB,EAAM2R,EAAOyT,GAEpC,IAAIE,EAAUb,EAAaW,GAEtBE,GAIL,WAAYI,OAAO1lB,EAAM2R,EAAO2T,EAAQC,WAe1CrV,EAASK,GAAG,kBAAkB,SAASoB,GANvC,IAA0BzN,IAOPyN,EAAMzN,IANvB,kBAAQwgB,GAAU,SAAS3L,EAAK/D,GAC9ByQ,EAAgBvhB,EAAK8Q,EAAK+D,SAQ9B7I,EAASK,GAAG,eAAe,SAASoB,GAhBpC,IAAwBzN,IAiBPyN,EAAMzN,IAhBrB,kBAAQwgB,GAAU,SAAS3L,EAAK/D,GAC9BmQ,EAAcjhB,EAAK8Q,EAAK+D,SAqB5B7I,EAASK,GAAG,CAAE,cAAe,qBAAsB,SAASoB,GAC1D,IAAIhT,EAAUgT,EAAMhT,QAChBmU,EAAMnB,EAAMmB,IAEhB5C,EAASW,KAAK,8BAA+B,CAAElS,QAASA,EAASmU,IAAKA,OAMxE5C,EAASK,GAAG,CACV,gBACA,sBAlMe,KAmMA,SAASoB,GAExB,IAAIhT,EAAUgT,EAAMhT,QAChBmU,EAAMnB,EAAMmB,IAEhB5C,EAASW,KAAK,8BAA+B,CAAElS,QAASA,EAASmU,IAAKA,OAGxE5C,EAASK,GAAG,8BA3MK,KA2MwC,SAASoB,GAChE,IAAIhT,EAAUgT,EAAMhT,QAChBmU,EAAMnB,EAAMmB,IAEhBzF,EAAKsY,iBAAiBhnB,EAASmU,MAGjC5C,EAASK,GAAG,+BAA+B,SAASoB,GAClD,IAAIhT,EAAUgT,EAAMhT,QAChBmU,EAAMnB,EAAMmB,IAEhBzF,EAAKuY,iBAAiBjnB,EAASmU,MAMjC,IAAI+S,EAAmBC,EAAe,0BAElCC,EAAyBD,EAAe,gCAIxCE,EAAY,CACd,IAHkBF,EAAe,uBAIjC,eAAgBC,EAChB,OAAUF,GAGZ,SAASC,EAAeG,EAAYnlB,GAOlC,OALAA,EAAQ,iBAAO,CACbolB,OAAQ,QACRC,YAAa,IACZrlB,GAAS,IAELwQ,EAAOE,IAAIyU,EAAY,CAAE,UAAW,aAAenlB,GAM5D,SAASslB,EAAWC,EAAKznB,GAEvB,IAAIkC,EAAQklB,EAAUpnB,GAEtB,IAAKkC,EACH,MAAM,IAAIoB,MAAM,qBAAuBtD,EAAO,KAKhD,OAFA,YAAQynB,EAAKvlB,GAENulB,EAGT,SAASC,EAAUxT,EAAKuT,GACtB,YAAUvT,EAAKuT,GAWjBlkB,KAAKokB,WAAa,SAASzT,GACzB,IAAI0T,EAAO,mBAAY,WAAY1T,GAEnC,kBAAQ0T,EAAM,MAWhBrkB,KAAKwjB,iBAAmB,SAAShnB,EAASmU,GACxC,IAEI2T,EAFA1d,EAAYpK,EAAQoK,UACpB+C,EAAUnN,EAAQmN,QAGtB,OAAI/C,EACK5G,KAAKukB,mBAAmB5T,EAAK/J,IAGpC0d,EAAU3a,EAAU,SAAW,MAExB3J,KAAKwkB,aAAa7T,EAAK2T,EAAS,CACrCxf,MAAOtI,EAAQsI,MACfC,OAAQvI,EAAQuI,WAatB/E,KAAKukB,mBAAqB,SAAS5T,EAAK/J,GAEtC,IAAIsd,EAAM,YAAWtd,GAMrB,OAJAqd,EAAWC,EAAK,UAEhBC,EAAUxT,EAAKuT,GAERA,GAYTlkB,KAAKwkB,aAAe,SAAS7T,EAAKlU,EAAMkC,GAEtCA,EAAQ,iBAAO,CACb+F,EAAG,EACHG,EAAG,GACFlG,GAEH,IAAIulB,EAAM,YAAU,QAQpB,OANAD,EAAWC,EAAKznB,GAEhB,YAAQynB,EAAKvlB,GAEbwlB,EAAUxT,EAAKuT,GAERA,GAWTlkB,KAAKyjB,iBAAmB,SAASjnB,EAASmU,GAExC,IAAIuT,EAAM,gBAAS,WAAYvT,GAE/B,GAAKuT,EAaL,OATI1nB,EAAQoK,UACV,YAAWsd,EAAK1nB,EAAQoK,WAExB,YAAQsd,EAAK,CACXpf,MAAOtI,EAAQsI,MACfC,OAAQvI,EAAQuI,SAIbmf,GAGTlkB,KAAK0O,KAAOA,EAEZ1O,KAAKykB,kBApQL,SAA2BC,EAAWlV,EAAOmV,GAG3C,IAAI5C,EAAiBQ,EAASmC,GAE9B,IAAK3C,EACH,MAAM,IAAIhiB,MAAM,4BAA8B2kB,EAAY,KAG5D,OAAOhW,EAAKqT,EAAgBvS,EAAOmV,IA6PrC3kB,KAAKsiB,aAAeA,EAEpBtiB,KAAKgjB,cAAgBA,EACrBhjB,KAAKsjB,gBAAkBA,EAIzBxB,EAAkBvT,QAAU,CAC1B,WACA,kBACA,UCtaa,KACbgC,SAAU,CAAE,qBACZqU,kBAAmB,CAAE,OAAQ9C,K,iCCJ/B,mHAMO,SAAS+C,EAAiB3d,GAC/B,OAAOA,EAASjG,KAAK,KAAK/C,QAAQ,eAAgB,MAG7C,SAAS4mB,EAAY9N,GAG1B,IAFA,IAEgBhL,EAFZnE,EAAS,GAEJjJ,EAAI,EAAOoN,EAAIgL,EAAOpY,GAAKA,IAClCiJ,GAAUmE,EAAEtH,EAAI,IAAMsH,EAAEnH,EAAI,IAG9B,OAAOgD,EAGF,SAASkd,EAAW/N,EAAQrY,GAEjC,IAAIqmB,EAAO,YAAU,YAOrB,OANA,YAAQA,EAAM,CAAEhO,OAAQ8N,EAAY9N,KAEhCrY,GACF,YAAQqmB,EAAMrmB,GAGTqmB,EAGF,SAASC,EAAWtU,EAAKqG,GAG9B,OAFA,YAAQrG,EAAK,CAAEqG,OAAQ8N,EAAY9N,KAE5BrG,I,iCCrBF,SAASuU,EAAUvU,GACxB,OAAOA,EAAImO,WAAW,GASjB,SAASqG,EAAYxU,GAC1B,OAAOA,EAAItQ,WAAWye,WAAW,GAzBnC,qE,iCCOO,SAASsG,EAAWC,GACzB,OAAOA,EAAYC,OAASD,EAAYC,MAAMC,UAAYF,EAAYC,MAAMC,SAAS,GARvF,mC,oBCAA,IAAIrG,EAAa,EAAQ,KACrBsG,EAAa,EAAQ,KAYzB,SAASC,EAAYznB,GACnBgC,KAAK0lB,YAAc1nB,EACnBgC,KAAK2lB,YAAc,GACnB3lB,KAAK4lB,QAAU,EACf5lB,KAAK6lB,cAAe,EACpB7lB,KAAK8lB,cAAgB,GACrB9lB,KAAK+lB,cAfgB,WAgBrB/lB,KAAKgmB,UAAY,GAInBP,EAAYjmB,UAAY0f,EAAWsG,EAAWhmB,WAC9CimB,EAAYjmB,UAAUwL,YAAcya,EAEpC1P,EAAOC,QAAUyP,G,kBClBjB1P,EAAOC,QAJP,c,kBCOAD,EAAOC,QALP,SAAmBiQ,GAEjB,OADaA,EACCzG,c,yFCGD,SAAS0G,EAAanY,GACnCiM,EAAA,EAAmB9Y,KAAKlB,KAAM+N,GAE9B/N,KAAKmmB,OCfP,SAAStb,EAAQ1L,GAAkC,OAAO0L,EAAU,mBAAqBC,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAASwT,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS7G,EAAgBrM,EAAGsM,GAA+G,OAA1GD,EAAkBjN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAASoa,EAAaC,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9PopB,GAA6B,OAAO,WAAkC,IAAsChf,EAAlCif,EAAQ1b,EAAgBib,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY3b,EAAgBpL,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAOuH,EAA2BjL,KAAM6H,IAE5Z,SAASoD,EAA2BC,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB2J,EAAQ3J,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkGC,CAAuBD,GAMxR,SAASE,EAAgB1L,GAAwJ,OAAnJ0L,EAAkBtM,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GDFxMwmB,EAAa3X,QAAU,CAAE,YAEzB,IAAS2X,EAAclM,EAAA,GA+CvBkM,EAAa1mB,UAAUgU,QAAU,SAASD,EAAS2G,EAAU3S,GAE3D,IAAI2D,EAAOlL,KAEY,iBAAZuT,IACTA,EAAU,CAAEA,IAGdA,EAAQyT,SAAQ,SAASC,GAEvB/b,EAAK0E,WAAWqX,EAAQ/M,GAAU,SAASvK,EAASsX,EAAQzX,GAC1D,OAAOjI,EAAGoI,MACT,OAOPuW,EAAa1mB,UAAU2mB,KAAO,aC5D9B,IAEI,EAA0C,SAAUe,IApBxD,SAAmBxb,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAYI,EAAgBL,EAAUC,GAqBpbF,CAAU0b,EAA4BD,GAEtC,IAzBoB/a,EAAa4G,EAAYC,EAyBzCoU,EAAShB,EAAae,GAE1B,SAASA,EAA2BpZ,EAAUuF,GAC5C,IAAI9G,EAMJ,OAtCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAkC5GK,CAAgBjM,KAAMmnB,IAEtB3a,EAAQ4a,EAAOlmB,KAAKlB,KAAM+N,IACpBsZ,OAAS/T,EACR9G,EA0GT,OA5IoBL,EAqCPgb,GArCoBpU,EAqCQ,CAAC,CACxCF,IAAK,OACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAEbA,KAAKwT,QAAQ,WAtBC,KAsB0B,SAAU8B,GAChD,IAAI7H,EAAM6H,EAAK7H,IACXxO,EAAQqW,EAAKrW,MAIbiV,EAFwBpH,EAAOua,OAAOxT,UACC9W,eAChBmX,MAE3B,OAAI,YAAQzG,GACHxO,EAAQiV,EAAM7U,OAEdJ,GAASiV,EAAM7U,UAG1BW,KAAKwT,QAAQ,aApCC,KAoC4B,SAAUgC,GAClD,IAAI/H,EAAM+H,EAAM/H,IAGZd,EADyBG,EAAOua,OAAOxT,UACTlH,KAElC,OAAI,YAASc,IACJd,EAAKjF,QAAO,SAAUrE,GAC3B,OAAO,YAASA,MACfhE,OAAS,KAMhBW,KAAKwT,QAAQ,QAnDC,KAmDuB,SAAUkC,GAC7C,IAAI4R,EAAO5R,EAAM4R,KACbhqB,EAASoY,EAAMpY,OAEnB,IAAKgqB,IAAShqB,EACZ,OAAO,EAGT,IAAIiQ,EAAO+Z,EAAK/Z,KAEhB,OAAIjQ,aAAkB,IACbwP,EAAOya,aAAaha,GAGzBjQ,aAAkB,KACbwP,EAAO0a,aAAaja,EAAMjQ,QAMtC,CACDuV,IAAK,eACL7U,MAAO,SAAsBuP,GAC3B,IACIZ,EADuB3M,KAAKqnB,OAAOxT,UACPlH,KAEhC,OAAO,gBAAMY,GAAM,SAAUqF,GAC3B,MAAwB,QAApBA,EAAWnW,MAIXmW,EAAW7F,MAAM1N,SAAWsN,EAAKtN,QAI9B,gBAAMuT,EAAW7F,OAAO,SAAU0a,EAAgBxoB,GACvD,OAAI,YAAQ0N,EAAK1N,IACgC,mBAAxCwoB,EAAe1qB,eAAe2qB,MAEU,0BAAxCD,EAAe1qB,eAAe2qB,cAK5C,CACD7U,IAAK,eACL7U,MAAO,SAAsBuP,EAAMoa,GACjC,IACIjb,EADwB1M,KAAKqnB,OAAOxT,UACPnH,KAEjC,OAAO,gBAAMa,GAAM,SAAUqF,GAC3B,MAAwB,QAApBA,EAAWnW,MAIXmW,EAAW7F,MAAM1N,SAAWqN,EAAKrN,SAIjC,YAAQsoB,GACiC,oBAApC/U,EAAW7V,eAAe2qB,MAEU,qBAApC9U,EAAW7V,eAAe2qB,eAtImC/U,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4IrPsb,EAtHqC,CAuH5CjB,GCrIa,SAAS0B,EAAMC,GAC5B7nB,KAAK8nB,cAAgBD,EAASjZ,IAAI,gBAAgB,GDuIpD,EAA2BL,QAAU,CAAC,WAAY,SCpIlDqZ,EAAMrZ,QAAU,CAAE,YAgBlBqZ,EAAMpoB,UAAUuoB,QAAU,SAASd,EAAQtX,GACzC,IAAIoY,GAAU,EAEVC,EAAehoB,KAAK8nB,cAOxB,OALIE,IACFD,EAAUC,EAAapY,WAAWqX,EAAQtX,SAIzBnR,IAAZupB,GAA+BA,GC1CzB,ICDA,GACbvX,YAAa,CDAA,CACbD,SAAU,CAAE,SACZ0X,MAAO,CAAE,OAAQL,MEFJ,KACbpX,YAAa,CAAC,GACdD,SAAU,CAAC,8BACX2X,2BAA4B,CAAC,OAAQ,K,6DCMxB,SAASC,EAAYC,GAElCpoB,KAAKqoB,SAAW,EAChBroB,KAAKsoB,SAAWF,EAASA,EAAS,IAAM,IAAMzjB,KAAK6B,MAAsB,IAAhB7B,KAAK4jB,UAAyB,IAUzFJ,EAAY3oB,UAAUuY,KAAO,WAC3B,OAAO/X,KAAKsoB,WAAatoB,KAAKqoB,UCEhC,IAAI7d,EAAM,IAAI,EAAI,MAqEH,SAASge,EAASrI,EAAQpS,EAAUC,EAAQ0B,GA8hB3D,IAAoBrP,EACdkN,EA7hBJvN,KAAKiO,UAAYF,EACjB/N,KAAKkO,QAAUF,EACfhO,KAAK2f,iBAAmBjQ,EAExB1P,KAAKyoB,KAAOje,EAEZxK,KAAK0oB,iBAAmB,iBAAO,CAG7BC,KAAM,KAGN1X,OAAO,GACNkP,GAAUA,EAAOyI,UAKpB5oB,KAAK6oB,UAAY,GAKjB7oB,KAAK8oB,mBAAqB,GAG1B9oB,KAAK+oB,cAkgBa1oB,EAlgBa2N,EAAOgb,eAmgBlCzb,EAAO,iBACT,0FAGFlN,EAAW4oB,aAAa1b,EAAMlN,EAAWI,YAElC8M,GAvgBPvN,KAAKkpB,QA0gBP,SAASC,EAAYvpB,EAAI8E,EAAGG,GAC1B,iBAAOjF,EAAGvB,MAAO,CAAEiH,KAAMZ,EAAI,KAAMS,IAAKN,EAAI,OAG9C,SAASukB,EAAWxpB,EAAIypB,GACtBzpB,EAAGvB,MAAMirB,SAAsB,IAAZD,EAAoB,OAAS,GAGlD,SAASE,EAAa3pB,EAAIoE,GAExBpE,EAAGvB,MAAM,oBAAsB,WAE/B,CAAE,GAAI,OAAQ,YAAa2oB,SAAQ,SAASoB,GAC1CxoB,EAAGvB,MAAM+pB,EAAS,aAAepkB,KAnhBrCwkB,EAASja,QAAU,CACjB,kBACA,WACA,SACA,mBA8BFia,EAAShpB,UAAUoP,IAAM,SAAS4a,GAUhC,GARI,mBAASA,KACXA,EAAS,CAAE7gB,GAAI6gB,IAGb,mBAASA,EAAOhtB,WAClBgtB,EAAOhtB,QAAUwD,KAAK2f,iBAAiB/Q,IAAI4a,EAAOhtB,UAGhDgtB,EAAOhtB,QAAS,CAClB,IAAIyc,EAAYjZ,KAAKypB,qBAAqBD,EAAOhtB,SAAS,GAG1D,OAAIyc,EACKuQ,EAAO/sB,KAAO,iBAAOwc,EAAUyQ,SAAU,uBAAa,CAAEjtB,KAAM+sB,EAAO/sB,QAAWwc,EAAUyQ,SAAS7iB,QAEnG,GAGX,OAAI2iB,EAAO/sB,KACF,iBAAOuD,KAAK6oB,UAAW,uBAAa,CAAEpsB,KAAM+sB,EAAO/sB,QAInD+sB,EAAO7gB,GAAK3I,KAAK6oB,UAAUW,EAAO7gB,IAAM,MA2BnD6f,EAAShpB,UAAUoB,IAAM,SAASpE,EAASC,EAAMktB,GAW/C,GATI,mBAASltB,KACXktB,EAAUltB,EACVA,EAAO,MAGJD,EAAQmM,KACXnM,EAAUwD,KAAK2f,iBAAiB/Q,IAAIpS,KAGjCmtB,EAAQC,SACX,MAAM,IAAI7pB,MAAM,kCAGlB,IAAK4pB,EAAQE,KACX,MAAM,IAAI9pB,MAAM,8BAGlB,IAAKvD,EACH,MAAM,IAAIuD,MAAM,6BAGlB,IAAI4I,EAAK3I,KAAKyoB,KAAK1Q,OAWnB,OATA4R,EAAU,iBAAO,GAAI3pB,KAAK0oB,iBAAkBiB,EAAS,CACnDhhB,GAAIA,EACJlM,KAAMA,EACND,QAASA,EACTqtB,KAAMF,EAAQE,OAGhB7pB,KAAK8pB,YAAYH,GAEVhhB,GAYT6f,EAAShpB,UAAUW,OAAS,SAASuH,GAEnC,IAAIgiB,EAAW1pB,KAAK4O,IAAIlH,IAAW,GAE9B,kBAAQgiB,KACXA,EAAW,CAAEA,IAGf,IAAIxe,EAAOlL,KAEX,kBAAQ0pB,GAAU,SAASC,GAEzB,IAAI1Q,EAAY/N,EAAKue,qBAAqBE,EAAQntB,SAAS,GAY3D,GAVImtB,IACF,iBAAUA,EAAQE,MAClB,iBAAUF,EAAQI,sBAEXJ,EAAQI,qBACRJ,EAAQntB,eAER0O,EAAK2d,UAAUc,EAAQhhB,KAG5BsQ,EAAW,CACb,IAAIjS,EAAMiS,EAAUyQ,SAAStqB,QAAQuqB,IACxB,IAAT3iB,GACFiS,EAAUyQ,SAAStoB,OAAO4F,EAAK,QAQvCwhB,EAAShpB,UAAUmpB,KAAO,WACxBS,EAAWppB,KAAK+oB,eAIlBP,EAAShpB,UAAUwqB,KAAO,WACxBZ,EAAWppB,KAAK+oB,cAAc,IAGhCP,EAAShpB,UAAUe,MAAQ,WACzBP,KAAK6oB,UAAY,GAEjB7oB,KAAK8oB,mBAAqB,GAE1B,gBAAS9oB,KAAK+oB,eAGhBP,EAAShpB,UAAUyqB,wBAA0B,SAAShR,GACpD,IAAIzc,EAAUyc,EAAUzc,QACpBqtB,EAAO5Q,EAAU4Q,KAKjBnlB,EAAIlI,EAAQkI,EACZG,EAAIrI,EAAQqI,EAEhB,GAAIrI,EAAQoK,UAAW,CACrB,IAAI0C,EAAO,YAAQ9M,GACnBkI,EAAI4E,EAAK5E,EACTG,EAAIyE,EAAKzE,EAGXskB,EAAYU,EAAMnlB,EAAGG,GAErB,eAAQoU,EAAU4Q,KAAM,oBAAqBrtB,EAAQmM,KAIvD6f,EAAShpB,UAAU0qB,eAAiB,SAASP,GAE3C,IAaM7kB,EAaAC,EA1BF6kB,EAAWD,EAAQC,SACnBG,EAAgBJ,EAAQI,cACxBvtB,EAAUmtB,EAAQntB,QAMlB8I,EAAOskB,EAAStkB,KAChBH,EAAMykB,EAASzkB,SAEI3G,IAAnBorB,EAASxkB,QAKTN,EADEtI,EAAQoK,UACF,YAAQpK,GAASsI,MAEjBtI,EAAQsI,MAGlBQ,GAAyB,EAAlBskB,EAASxkB,MAAaN,QAGPtG,IAApBorB,EAASvkB,SAKTN,EADEvI,EAAQoK,UACD,YAAQpK,GAASuI,OAEjBvI,EAAQuI,OAGnBI,GAAyB,EAAnBykB,EAASvkB,OAAcN,GAG/BokB,EAAYY,EAAezkB,GAAQ,EAAGH,GAAO,IAI/CqjB,EAAShpB,UAAU2qB,wBAA0B,SAAS3tB,GACpD,IAAIqtB,EAAO,iBAAO,2DAElB7pB,KAAK+oB,aAAaprB,YAAYksB,GAE9B,IAAI5Q,EAAY,CACd4Q,KAAMA,EACNrtB,QAASA,EACTktB,SAAU,IAOZ,OAJA1pB,KAAKiqB,wBAAwBhR,GAE7BjZ,KAAK8oB,mBAAmBhoB,KAAKmY,GAEtBA,GAITuP,EAAShpB,UAAU4qB,YAAc,SAASC,GACxC,IAAIpZ,EAAQoZ,EAAQpZ,OAAS,EAEzBzN,EAAS,UACb,CACEyN,EACA,EACA,EACAA,GACC,EAAIoZ,EAAQ3lB,EAAIuM,GAChB,EAAIoZ,EAAQxlB,EAAIoM,GACjBhQ,KAAK,KACP,IAEAsoB,EAAavpB,KAAK+oB,aAAcvlB,IAIlCglB,EAAShpB,UAAUiqB,qBAAuB,SAASjtB,EAAS8tB,GAC1D,IAAIrR,EAAY,eAAKjZ,KAAK8oB,oBAAoB,SAASzlB,GACrD,OAAOA,EAAE7G,UAAYA,KAIvB,OAAKyc,GAAcqR,EAIZrR,EAHEjZ,KAAKmqB,wBAAwB3tB,IAOxCgsB,EAAShpB,UAAUsqB,YAAc,SAASH,GAExC,IAGII,EACAQ,EAJA5hB,EAAKghB,EAAQhhB,GACbnM,EAAUmtB,EAAQntB,QAClBqtB,EAAOF,EAAQE,KAKfA,EAAKjb,KAAOib,EAAK7e,YAAYxL,UAAUgrB,SACzCX,EAAOA,EAAKjb,IAAI,IAKd,mBAASib,KACXA,EAAO,iBAAOA,IAGhBU,EAAmBvqB,KAAKypB,qBAAqBjtB,IAE7CutB,EAAgB,iBAAO,6CAA+CphB,EAAK,kCAE7DhL,YAAYksB,GAEtBF,EAAQltB,MACV,kBAAWstB,GAAenpB,IAAI,eAAiB+oB,EAAQltB,MAGzD,IAAIguB,EAAQzqB,KAAKkO,QAAQY,UAAUtS,GAC/BkuB,EAAc1qB,KAAKkO,QAAQa,iBAC/B4a,EAAQc,MAAQA,EACZA,IAAUC,GACZtB,EAAWW,GAAe,GAG5BJ,EAAQI,cAAgBA,EAExBQ,EAAiBb,SAAS5oB,KAAK6oB,GAC/BY,EAAiBV,KAAKlsB,YAAYosB,GAElC/pB,KAAK6oB,UAAUlgB,GAAMghB,EAErB3pB,KAAKkqB,eAAeP,GACpB3pB,KAAK2qB,wBAAwBhB,EAAS3pB,KAAKkO,QAAQmc,YAIrD7B,EAAShpB,UAAUmrB,wBAA0B,SAAShB,EAASU,GAC7D,IAAI1B,EAAOgB,EAAQhB,KACf8B,EAAQd,EAAQc,MAChBG,EAAUjC,GAAQA,EAAKiC,QACvBC,EAAUlC,GAAQA,EAAKkC,QACvBd,EAAgBJ,EAAQI,cAExBV,GAAU,GAEVoB,IAHczqB,KAAKkO,QAAQa,kBAKpB4Z,IAEN,oBAAUiC,IAAYA,EAAUP,EAAQpZ,OACxC,oBAAU4Z,IAAYA,EAAUR,EAAQpZ,UAJ3CoY,GAAU,GAUZD,EAAWW,EAAeV,GAE1BrpB,KAAK8qB,oBAAoBnB,EAASU,IAIpC7B,EAAShpB,UAAUsrB,oBAAsB,SAASnB,EAASU,GACzD,IACIU,EACAC,EAGA/Z,EALAga,EAActB,EAAQ1Y,MAGtB8Y,EAAgBJ,EAAQI,cAEjB/lB,EAAY,IAEH,IAAhBinB,KAEkB,IAAhBA,GACFF,EAAW,EACXC,EAAW,IAEXD,EAAWE,EAAYC,IACvBF,EAAWC,EAAYE,KAGrB,oBAAUJ,IAAaV,EAAQpZ,MAAQ8Z,IACzC9Z,GAAS,EAAIoZ,EAAQpZ,OAAS,GAAK8Z,GAGjC,oBAAUC,IAAaX,EAAQpZ,MAAQ+Z,IACzC/Z,GAAS,EAAIoZ,EAAQpZ,OAAS,GAAK+Z,IAInC,oBAAU/Z,KACZjN,EAAY,SAAWiN,EAAQ,IAAMA,EAAQ,KAG/CsY,EAAaQ,EAAe/lB,IAI9BwkB,EAAShpB,UAAU4rB,yBAA2B,SAASf,GAErD,IAAInf,EAAOlL,KAEX,kBAAQA,KAAK6oB,WAAW,SAASc,GAC/Bze,EAAKyf,wBAAwBhB,EAASU,OAK1C7B,EAAShpB,UAAU0pB,MAAQ,WAEzB,IAAInb,EAAW/N,KAAKiO,UAEhB/C,EAAOlL,KAYX+N,EAASK,GAAG,2BAA2B,SAASoB,GAC9CtE,EAAK8e,UAGPjc,EAASK,GAAG,0BAA0B,SAASoB,GAX/C,IAAuB6a,IAYP7a,EAAM6a,QAXpBnf,EAAKkf,YAAYC,GACjBnf,EAAKkgB,yBAAyBf,GAE9Bnf,EAAKyd,UAcP5a,EAASK,GAAG,CAAE,eAAgB,sBAAuB,SAAS3Q,GAC5D,IAAIjB,EAAUiB,EAAEjB,QACZktB,EAAWxe,EAAK0D,IAAI,CAAEpS,QAASA,IAEnC,kBAAQktB,GAAU,SAAShqB,GACzBwL,EAAK/K,OAAOT,EAAEiJ,OAGhB,IAAIsQ,EAAY/N,EAAKue,qBAAqBjtB,GAE1C,GAAIyc,EAAW,CACb,iBAAUA,EAAU4Q,MACpB,IAAIjrB,EAAIsM,EAAK4d,mBAAmB1pB,QAAQ6Z,IAC7B,IAAPra,GACFsM,EAAK4d,mBAAmB1nB,OAAOxC,EAAG,OAQxCmP,EAASK,GAAG,kBAzjBK,KAyjB4B,SAAS3Q,GACpD,IAAIjB,EAAUiB,EAAEjB,QAEZyc,EAAY/N,EAAKue,qBAAqBjtB,GAAS,GAE/Cyc,IACF,kBAAQA,EAAUyQ,UAAU,SAASC,GACnCze,EAAKgf,eAAeP,MAGtBze,EAAK+e,wBAAwBhR,OAOjClL,EAASK,GAAG,yBAAyB,SAAS3Q,GAC5C,IAAIwb,EAAY/N,EAAKue,qBAAqBhsB,EAAEjB,SAAS,GACjDyc,GACF,kBAAWA,EAAU4Q,MAAMpsB,EAAEmD,IAAM,MAAQ,UAAUnD,EAAE4tB,WAK3Dtd,EAASK,GAAG,aAAa,SAAS3Q,GAChC,kBAAQyN,EAAK2d,WAAW,SAASjpB,GAC/BwpB,EAAWxpB,EAAGmqB,cAAenqB,EAAG6qB,QAAUhtB,EAAEgtB,aAMhD1c,EAASK,GAAG,gBAAiBpO,KAAKO,MAAOP,OCrnB5B,KACbuQ,SAAU,CAAE,YACZmZ,SAAU,CAAE,OAAQlB,K,6CCFtB,SAAS7V,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAO7S,IAAI0Y,EAAS,CAAC,QAAS,WAAY,cAAe,YAAa,UAAW,aAAc,aAAc,WAAY,YAAa,YAAa,UAAW,WAAY,OAAQ,YAAa,UAAW,WAAY,YAAa,YAAa,QAQrOxJ,EAEJ,WACE,SAASA,EAAkB3B,EAAQpS,GACjC,IAfqB5O,EAAK0T,EAAK7U,EAe3BwO,EAAQxM,MArBhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAuB5GK,CAAgBjM,KAAM8hB,GAjBS9jB,EAmBO,SAAUwR,GAC9C,IAoEmBhT,EApEfc,EAASkS,EAAMlS,OACfb,EAAO+S,EAAM/S,KACboB,GAkEerB,EAlEQc,EAmExB,kBAAWd,EAAS,qBAAqB,IAjE5C,GAAKqB,EAAL,CAIA,IAAIub,EAAYvb,EAAKa,aAAa,mBAElC,GAAI0a,EAAW,CACb,IAAI3b,EAAI+O,EAAMyB,UAAUsd,YAAY,CAClC5iB,GAAIyQ,EACJ5J,MAAOA,EACP3R,KAAMA,EACNP,OAAQO,IAGV2O,EAAMyB,UAAUS,KAAK,QAAQwK,OAAOzc,GAAOgB,GAEvCA,EAAEijB,kBACJlR,EAAM4S,iBAGJ3kB,EAAE+tB,cACJhc,EAAM4B,sBA7CcyB,EAmBJ,kBAnBD1T,EAmBLa,MAnB0ClB,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAkDvLgC,KAAKiO,UAAYF,EACjB/N,KAAKyrB,WAAatL,EAAOlH,UACzBlL,EAASK,GAAG,cAAc,WACxB5B,EAAMkf,mBAAmBJ,MAE3Bvd,EAASK,GAAG,iBAAiB,WAC3B5B,EAAMmf,sBAAsBL,MA1DlC,IAAsBnf,EAAa4G,EAAYC,EAoF7C,OApFoB7G,EA8DP2V,GA9DoB/O,EA8DD,CAAC,CAC/BF,IAAK,qBACL7U,MAAO,SAA4BiR,GACjC,IAAInC,EAAS9M,KAETiZ,EAAYjZ,KAAKyrB,WACrBxc,EAAO+X,SAAQ,SAAUxX,GACvByJ,EAAU2S,iBAAiBpc,EAAO1C,EAAO+e,mBAG5C,CACDhZ,IAAK,wBACL7U,MAAO,SAA+BiR,GACpC,IAAI/B,EAASlN,KAETiZ,EAAYjZ,KAAKyrB,WACrBxc,EAAO+X,SAAQ,SAAUxX,GACvByJ,EAAU6S,oBAAoBtc,EAAOtC,EAAO2e,sBA/E0BlZ,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAoF3K8O,EArET,GAyEAA,EAAkBvT,QAAU,CAAC,kBAAmB,YC3FjC,KACbgC,SAAU,CAAC,qBACXqU,kBAAmB,CAAC,OAAQ9C,K,6CCFf,SAASiK,EAAyBhe,EAAUC,GACzDhO,KAAKiO,UAAYF,EACjB/N,KAAKkO,QAAUF,EACfD,EAASK,GAAG,gBAAgB,WAC1BpO,KAAKkpB,UACJlpB,MACH+N,EAASK,GAAG,eAAe,SAAUoB,GAC9BA,EAAMwc,OACThsB,KAAKisB,WAENjsB,MAEL+rB,EAAyBxd,QAAU,CAAC,WAAY,UAKhDwd,EAAyBvsB,UAAU0pB,MAAQ,WACzC,IAAIlb,EAAShO,KAAKkO,QACdH,EAAW/N,KAAKiO,UAChB7N,EAAS4N,EAAOgb,eAChB/P,EAAYjZ,KAAKyrB,WAAa,iBAAOM,EAAyBG,aAClE9rB,EAAOzC,YAAYsb,GACnBjZ,KAAKmsB,YAAc,gBAAS,wBAAyBnsB,KAAKyrB,YAC1DzrB,KAAKosB,UAAY,gBAAS,sBAAuBpsB,KAAKyrB,YACtD,WAAYpI,KAAKpK,EAAW,6CAA8C,aAAa,SAAUzJ,GAC/FA,EAAM4B,qBAERrD,EAASW,KAAK,0BAA2B,CACvCmb,KAAM5Q,KAIV8S,EAAyBvsB,UAAUysB,OAAS,WAC1C,IAAIlvB,EAAiBiD,KAAKkO,QAAQkC,iBAAiBrT,eAEnDiD,KAAKmsB,YAAYrO,YAAc/gB,EAAeE,KAC9C+C,KAAKosB,UAAUtO,YAAc/gB,EAAe4L,IAK9CojB,EAAyBG,YAAc,wM,aCzCxB,KACb3b,SAAU,CAAC,2BAA4B,sCACvC8b,yBAA0B,CAAC,OAAQN,GACnCO,mCAAoC,CAAC,OAAQC,EAAA,K,0lBCL/C,6CAWO,SAASC,EAAqBC,GACnC,OAAO,WACL,IAAK9P,OAAO+P,QACV,MAAM,IAAI3sB,MAAM,2EAGlB,IAAI4sB,EAASjpB,UAAUrE,OAEvB,KAAIstB,GAAU,GAAK,qBAAWjpB,UAAUipB,EAAS,KAe/C,OAAOF,EAAIlN,MAAMvf,KAAM0D,WAdvB,IAAIkpB,EAAWlpB,UAAUipB,EAAS,GAClCE,QAAQC,KAAK,IAAI/sB,MAAM,wBAA0BgtB,EAAmBN,EAAIxvB,MAAjD,uIACvB,IAAI+vB,EAAsB7oB,MAAM3E,UAAUqH,MAAM3F,KAAKwC,UAAW,GAAI,GACpE+oB,EAAIlN,MAAMvf,KAAMgtB,GAAqBC,MAAK,SAAUplB,GAClD,IAAIqlB,EAAWpuB,OAAOC,KAAK8I,GAAQ,GAInC,OAAO+kB,EAAS,KAAM/kB,EAAOqlB,OAE5B,SAAUjV,GACX,OAAO2U,EAAS3U,EAAKA,EAAIkV,cAiBjC,SAASJ,EAAmBK,GAC1B,OAAOA,EAAOlvB,QAAQ,SAAU,M,iCCjDlC,6CAYI2I,EAAQ1C,MAAM3E,UAAUqH,MAqFb,SAASwmB,IACtBrtB,KAAKstB,WAAa,GAIlBttB,KAAKoO,GAAG,kBAAmB,EAAGpO,KAAKutB,SAAUvtB,MAwY/C,SAASwtB,KAnXTH,EAAS7tB,UAAU4O,GAAK,SAASa,EAAQiL,EAAU0S,EAAUxS,GAU3D,GARAnL,EAAS,kBAAQA,GAAUA,EAAS,CAAEA,GAElC,qBAAWiL,KACbE,EAAOwS,EACPA,EAAW1S,EACXA,EAxHmB,MA2HhB,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,IAAI0tB,EAAiBb,EAEjBxS,KACFqT,EAAiB,eAAKb,EAAUxS,IAKX,KAAIwS,EAAe,MAAKA,GAG/C,IAAI1hB,EAAOlL,KAEXiP,EAAO+X,SAAQ,SAASvpB,GACtByN,EAAKwiB,aAAajwB,EAAG,CACnByc,SAAUA,EACV0S,SAAUa,EACV1V,KAAM,WAcZsV,EAAS7tB,UAAUmuB,KAAO,SAASne,EAAO0K,EAAU0S,EAAUxS,GAC5D,IAAIlP,EAAOlL,KAQX,GANI,qBAAWka,KACbE,EAAOwS,EACPA,EAAW1S,EACXA,EApKmB,MAuKhB,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,SAAS6tB,IACPA,EAAgBC,UAAW,EAE3B,IAAIhmB,EAAS+kB,EAASrN,MAAMnF,EAAM1W,WAIlC,OAFAwH,EAAK4iB,IAAIte,EAAOoe,GAET/lB,EAMT+lB,EAAsB,KAAIhB,EAE1B5sB,KAAKoO,GAAGoB,EAAO0K,EAAU0T,IAY3BP,EAAS7tB,UAAUsuB,IAAM,SAAS7e,EAAQ2d,GAExC3d,EAAS,kBAAQA,GAAUA,EAAS,CAAEA,GAEtC,IAAI/D,EAAOlL,KAEXiP,EAAO+X,SAAQ,SAASxX,GACtBtE,EAAK6iB,gBAAgBve,EAAOod,OAahCS,EAAS7tB,UAAU+rB,YAAc,SAASjE,GACxC,IAAI9X,EAAQ,IAAIge,EAIhB,OAFAhe,EAAM2W,KAAKmB,GAEJ9X,GAkCT6d,EAAS7tB,UAAUkP,KAAO,SAASjS,EAAM6qB,GACvC,IAAI9X,EACAwe,EACAC,EACA5O,EASJ,GAPAA,EAAOxY,EAAM3F,KAAKwC,WAEE,iBAATjH,IAETA,GADA6qB,EAAO7qB,GACKA,OAGTA,EACH,MAAM,IAAIsD,MAAM,2BAKlB,GAFAiuB,EAAgBhuB,KAAKstB,WAAW7wB,GAEhC,CASE+S,EAHE8X,aAAgBkG,EAGVlG,EAEAtnB,KAAKurB,YAAYjE,GAI3BjI,EAAK,GAAK7P,EAGV,IAAI0e,EAAe1e,EAAM/S,KAGrBA,IAASyxB,IACX1e,EAAM/S,KAAOA,GAGf,IACEwxB,EAAcjuB,KAAKmuB,iBAAiB3e,EAAO6P,EAAM2O,GACjD,QAGIvxB,IAASyxB,IACX1e,EAAM/S,KAAOyxB,GAUjB,YAJoB1vB,IAAhByvB,GAA6Bze,EAAMkR,mBACrCuN,GAAc,GAGTA,IAITZ,EAAS7tB,UAAU4uB,YAAc,SAASpC,GACxC,OAAgD,IAAzChsB,KAAK0O,KAAK,QAAS,CAAEsd,MAAOA,KAIrCqB,EAAS7tB,UAAU+tB,SAAW,WAC5BvtB,KAAKstB,WAAa,IAGpBD,EAAS7tB,UAAU2uB,iBAAmB,SAAS3e,EAAO6P,EAAMgP,GAI1D,IAFA,IAAIJ,EAEGI,IAGD7e,EAAMgc,cAIVyC,EAAcjuB,KAAKsuB,gBAAgB9e,EAAO6P,EAAMgP,GAEhDA,EAAWA,EAAStW,KAGtB,OAAOkW,GAGTZ,EAAS7tB,UAAU8uB,gBAAkB,SAAS9e,EAAO6P,EAAMgP,GAEzD,IAAIJ,EAEJ,GAAII,EAASzB,SAASiB,SACpB,OAAOI,EAGT,SAMsBzvB,KAHpByvB,EAmJJ,SAAwB1mB,EAAI8X,GAC1B,OAAO9X,EAAGgY,MAAM,KAAMF,GApJNkP,CAAeF,EAASzB,SAAUvN,MAI9C7P,EAAMye,YAAcA,EACpBze,EAAM4B,oBAIY,IAAhB6c,GACFze,EAAM4S,iBAER,MAAO4J,GACP,IAAKhsB,KAAKouB,YAAYpC,GAGpB,MAFAa,QAAQb,MAAM,oCAAqCA,GAE7CA,EAIV,OAAOiC,GAmBTZ,EAAS7tB,UAAUkuB,aAAe,SAASle,EAAOgf,GAEhD,IACIC,EADAJ,EAAWruB,KAAK0uB,cAAclf,GAIlC,GAAK6e,EAAL,CAQA,KAAOA,GAAU,CAEf,GAAIA,EAASnU,SAAWsU,EAAYtU,SAUlC,OARAsU,EAAYzW,KAAOsW,OAEfI,EACFA,EAAiB1W,KAAOyW,EAExBxuB,KAAK2uB,cAAcnf,EAAOgf,IAM9BC,EAAmBJ,EACnBA,EAAWA,EAAStW,KAItB0W,EAAiB1W,KAAOyW,OA3BtBxuB,KAAK2uB,cAAcnf,EAAOgf,IA+B9BnB,EAAS7tB,UAAUkvB,cAAgB,SAASzxB,GAC1C,OAAO+C,KAAKstB,WAAWrwB,IAGzBowB,EAAS7tB,UAAUmvB,cAAgB,SAAS1xB,EAAMoxB,GAChDruB,KAAKstB,WAAWrwB,GAAQoxB,GAG1BhB,EAAS7tB,UAAUuuB,gBAAkB,SAASve,EAAOod,GAEnD,IACIgC,EACAH,EACAI,EAHAR,EAAWruB,KAAK0uB,cAAclf,GAKlC,GAAKod,EAQL,KAAOyB,GAELO,EAAeP,EAAStW,MAExB8W,EAAmBR,EAASzB,YAEHA,GAAYiC,EAAuB,OAAMjC,IAC5D6B,EACFA,EAAiB1W,KAAO6W,EAIxB5uB,KAAK2uB,cAAcnf,EAAOof,IAI9BH,EAAmBJ,EACnBA,EAAWO,OAtBX5uB,KAAK2uB,cAAcnf,EAAO,OA+B9Bge,EAAchuB,UAAU4R,gBAAkB,WACxCpR,KAAKwrB,cAAe,GAGtBgC,EAAchuB,UAAU4iB,eAAiB,WACvCpiB,KAAK0gB,kBAAmB,GAG1B8M,EAAchuB,UAAU2mB,KAAO,SAASmB,GACtC,iBAAOtnB,KAAMsnB,GAAQ,M,iCC/evB,IAAIwH,EAAM,gBACNC,EAAUC,WACVC,EAAOtqB,KACPuqB,EAAKD,EAAKC,GACVC,EAAOF,EAAK/D,IACZkE,EAAOH,EAAK9D,IACZ5U,EAAM0Y,EAAK1Y,IACXO,EAAMmY,EAAKnY,IACXuY,EAAc,4DACdC,EAAa,4CAEblrB,EAAUD,MAAMC,SAAW,SAAS1E,GAAK,OAAOA,aAAayE,OAEjE,SAASorB,EAAYpwB,EAAKqwB,GACxB,OAAO1wB,OAAOU,UAAUiwB,eAAevuB,KAAK/B,EAAKqwB,GAGnD,SAAS9uB,EAAMvB,GAEb,GAAkB,mBAAPA,GAAqBL,OAAOK,KAASA,EAC9C,OAAOA,EAGT,IAAIuwB,EAAM,IAAIvwB,EAAI6L,YAElB,IAAK,IAAI6H,KAAO1T,EACVowB,EAAYpwB,EAAK0T,KACnB6c,EAAI7c,GAAOnS,EAAMvB,EAAI0T,KAIzB,OAAO6c,EAGT,SAASC,EAAO9uB,EAAO+uB,GACrB,IAAK,IAAIhxB,EAAI,EAAGixB,EAAKhvB,EAAMxB,OAAQT,EAAIixB,EAAIjxB,IAAK,GAAIiC,EAAMjC,KAAOgxB,EAC/D,OAAO/uB,EAAMC,KAAKD,EAAMO,OAAOxC,EAAG,GAAG,IA6EzC,SAASkxB,EAAMC,GACb,IAAI/jB,EAAI8jB,EAAMC,GAAKD,EAAMC,IAAM,GAmB/B,OAjBI/jB,EAAE+jB,GACJ/jB,EAAE+jB,GAAIC,MAAQ,IAEdhkB,EAAE+jB,GAAM,CACNC,MAAO,KAIXC,YAAW,WACT,IAAK,IAAIpd,KAAO7G,EACVujB,EAAYvjB,EAAG6G,IAAQA,GAAOkd,IAChC/jB,EAAE6G,GAAKmd,SACNhkB,EAAE6G,GAAKmd,cAAgBhkB,EAAE6G,OAKzB7G,EAAE+jB,GAGX,SAASG,EAASxrB,EAAGG,EAAGC,EAAOC,GAS7B,OAPyB,IAArBrB,UAAUrE,SACZwF,EAAIH,EAAEG,EACNC,EAAQJ,EAAEI,MACVC,EAASL,EAAEK,OACXL,EAAIA,EAAEA,GAGD,CACLA,EAAGA,EACHG,EAAGA,EACHC,MAAOA,EACPC,OAAQA,EACRorB,GAAIzrB,EAAII,EACRsrB,GAAIvrB,EAAIE,GAIZ,SAASsrB,IACP,OAAOrwB,KAAKiB,KAAK,KAAK/C,QAAQ4wB,EAAK,MAGrC,SAASwB,EAAUC,GACjB,IAAIb,EAAMhvB,EAAM6vB,GAEhB,OADAb,EAAInwB,SAAW8wB,EACRX,EAGT,SAASc,EAAkBC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAK5zB,GACjE,IAAI6zB,EAAK,EAAI7zB,EACT8zB,EAAM3a,EAAI0a,EAAI,GACdE,EAAM5a,EAAI0a,EAAI,GAEdG,EADKh0B,EAAIA,EACCA,EAEVyH,EAAIqsB,EAAMR,EAAY,EAANS,EAAU/zB,EAAIwzB,EAAW,EAALK,EAAS7zB,EAAIA,EAAI0zB,EAAMM,EAAKJ,EAEpE,MAAO,CACLtsB,EAAG2sB,EAJGH,EAAMT,EAAY,EAANU,EAAU/zB,EAAIuzB,EAAW,EAALM,EAAS7zB,EAAIA,EAAIyzB,EAAMO,EAAKL,GAKlElsB,EAAGwsB,EAASxsB,IAIhB,SAASysB,EAAWta,GAElB,IAAI1N,EAAOioB,EAAUhS,MAAM,KAAMvI,GAEjC,OAAOkZ,EACL5mB,EAAKkoB,GACLloB,EAAKmoB,GACLnoB,EAAKooB,GAAKpoB,EAAKkoB,GACfloB,EAAKqoB,GAAKroB,EAAKmoB,IAInB,SAASG,EAAkBtoB,EAAM5E,EAAGG,GAClC,OAAOH,GAAK4E,EAAK5E,GACfA,GAAK4E,EAAK5E,EAAI4E,EAAKxE,OACnBD,GAAKyE,EAAKzE,GACVA,GAAKyE,EAAKzE,EAAIyE,EAAKvE,OAoBvB,SAAS8sB,EAAMz0B,EAAG00B,EAAIC,EAAIC,EAAIC,GAG5B,OAAO70B,GADEA,IADC,EAAI00B,EAAK,EAAIC,EAAK,EAAIC,EAAK,EAAIC,GACvB,EAAIH,EAAK,GAAKC,EAAK,EAAIC,GACzB,EAAIF,EAAK,EAAIC,EAG/B,SAASG,EAAOR,EAAIC,EAAIxB,EAAIC,EAAI+B,EAAIC,EAAIC,EAAIC,EAAIC,GAErC,MAALA,IACFA,EAAI,GAWN,IANA,IAAIC,GAFJD,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GAEf,EAETE,EAAU,EAAE,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OACnFC,EAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACxFC,EAAM,EAED/zB,EAAI,EAAGA,EALR,GAKeA,IAAK,CAC1B,IAAIg0B,EAAKJ,EAAKC,EAAQ7zB,GAAK4zB,EACvBK,EAAQhB,EAAMe,EAAIlB,EAAIvB,EAAIgC,EAAIE,GAC9BS,EAAQjB,EAAMe,EAAIjB,EAAIvB,EAAIgC,EAAIE,GAC9BS,EAAOF,EAAQA,EAAQC,EAAQA,EAEnCH,GAAOD,EAAQ9zB,GAAKqwB,EAAK3Y,KAAKyc,GAGhC,OAAOP,EAAKG,EAId,SAASK,EAAetB,EAAIC,EAAIxB,EAAIC,EAAI+B,EAAIC,EAAIC,EAAIC,GAElD,KACElD,EAAKsC,EAAIvB,GAAMhB,EAAKgD,EAAIE,IACtBlD,EAAKuC,EAAIvB,GAAMf,EAAK+C,EAAIE,IACxBjD,EAAKuC,EAAIvB,GAAMjB,EAAKiD,EAAIE,IACxBnD,EAAKwC,EAAIvB,GAAMhB,EAAKgD,EAAIE,IAJ5B,CASA,IACIW,GAAMvB,EAAKtB,EAAKuB,EAAKxB,IAAOiC,EAAKE,IAAOX,EAAKvB,IAAO+B,EAAKG,EAAKF,EAAKC,GACnEa,GAAexB,EAAKvB,IAAOiC,EAAKE,IAAOX,EAAKvB,IAAO+B,EAAKE,GAE5D,GAAKa,EAAL,CAIA,IAAIC,EAAK9B,IARCK,EAAKtB,EAAKuB,EAAKxB,IAAOgC,EAAKE,IAAOX,EAAKvB,IAAOgC,EAAKG,EAAKF,EAAKC,IAQhDa,GACnBE,EAAK/B,EAAS4B,EAAKC,GACnBG,GAAOF,EAAGG,QAAQ,GAClBC,GAAOH,EAAGE,QAAQ,GAEtB,KACED,GAAOlE,EAAKuC,EAAIvB,GAAImD,QAAQ,IAC1BD,GAAOjE,EAAKsC,EAAIvB,GAAImD,QAAQ,IAC5BD,GAAOlE,EAAKgD,EAAIE,GAAIiB,QAAQ,IAC5BD,GAAOjE,EAAK+C,EAAIE,GAAIiB,QAAQ,IAC5BC,GAAOpE,EAAKwC,EAAIvB,GAAIkD,QAAQ,IAC5BC,GAAOnE,EAAKuC,EAAIvB,GAAIkD,QAAQ,IAC5BC,GAAOpE,EAAKiD,EAAIE,GAAIgB,QAAQ,IAC5BC,GAAOnE,EAAKgD,EAAIE,GAAIgB,QAAQ,IAKhC,MAAO,CAAE5uB,EAAGyuB,EAAItuB,EAAGuuB,KAGrB,SAAS/B,EAASmC,GAChB,OAAO7uB,KAAKC,MAAe,KAAT4uB,GAAyB,KAG7C,SAASC,EAAwBC,EAAMC,EAAMC,GAI3C,IAlGF,SAAyBC,EAAOC,GAG9B,OAFAD,EAAQ3D,EAAS2D,GAEVjC,EADPkC,EAAQ5D,EAAS4D,GACeD,EAAMnvB,EAAGmvB,EAAMhvB,IAC1C+sB,EAAkBkC,EAAOD,EAAM1D,GAAI0D,EAAMhvB,IACzC+sB,EAAkBkC,EAAOD,EAAMnvB,EAAGmvB,EAAMzD,KACxCwB,EAAkBkC,EAAOD,EAAM1D,GAAI0D,EAAMzD,KACzCwB,EAAkBiC,EAAOC,EAAMpvB,EAAGovB,EAAMjvB,IACxC+sB,EAAkBiC,EAAOC,EAAM3D,GAAI2D,EAAMjvB,IACzC+sB,EAAkBiC,EAAOC,EAAMpvB,EAAGovB,EAAM1D,KACxCwB,EAAkBiC,EAAOC,EAAM3D,GAAI2D,EAAM1D,MACxCyD,EAAMnvB,EAAIovB,EAAM3D,IAAM0D,EAAMnvB,EAAIovB,EAAMpvB,GACnCovB,EAAMpvB,EAAImvB,EAAM1D,IAAM2D,EAAMpvB,EAAImvB,EAAMnvB,KACzCmvB,EAAMhvB,EAAIivB,EAAM1D,IAAMyD,EAAMhvB,EAAIivB,EAAMjvB,GACnCivB,EAAMjvB,EAAIgvB,EAAMzD,IAAM0D,EAAMjvB,EAAIgvB,EAAMhvB,GAoF1CkvB,CAHOzC,EAAWoC,GACXpC,EAAWqC,IAGrB,OAAOC,EAAY,EAAI,GAczB,IATA,IAAII,EAAK9B,EAAO3S,MAAM,EAAGmU,GACrBO,EAAK/B,EAAO3S,MAAM,EAAGoU,GACrBO,EAAKC,EAAOT,GAAQ,KAAOM,EAAK,IAAM,EACtCI,EAAKD,EAAOR,GAAQ,KAAOM,EAAK,IAAM,EACtCI,EAAQ,GACRC,EAAQ,GACRC,EAAK,GACL7E,EAAMkE,EAAY,EAAI,GAEjBh1B,EAAI,EAAGA,EAAIs1B,EAAK,EAAGt1B,IAAK,CAC/B,IAAIoN,EAAIwkB,EAAkBjR,MAAM,EAAGmU,EAAKxa,OAAOta,EAAIs1B,IACnDG,EAAMvzB,KAAK,CAAE4D,EAAGsH,EAAEtH,EAAGG,EAAGmH,EAAEnH,EAAGzH,EAAGwB,EAAIs1B,IAGtC,IAAKt1B,EAAI,EAAGA,EAAIw1B,EAAK,EAAGx1B,IACtBoN,EAAIwkB,EAAkBjR,MAAM,EAAGoU,EAAKza,OAAOta,EAAIw1B,IAC/CE,EAAMxzB,KAAK,CAAE4D,EAAGsH,EAAEtH,EAAGG,EAAGmH,EAAEnH,EAAGzH,EAAGwB,EAAIw1B,IAGtC,IAAKx1B,EAAI,EAAGA,EAAIs1B,EAAIt1B,IAElB,IAAK,IAAI41B,EAAI,EAAGA,EAAIJ,EAAII,IAAK,CAC3B,IAOI3hB,EAPA4hB,EAAKJ,EAAMz1B,GACX81B,EAAML,EAAMz1B,EAAI,GAChB+1B,EAAKL,EAAME,GACXI,EAAMN,EAAME,EAAI,GAChBK,EAAK/d,EAAI4d,EAAIhwB,EAAI+vB,EAAG/vB,GAAK,IAAM,IAAM,IACrCowB,EAAKhe,EAAI8d,EAAIlwB,EAAIiwB,EAAGjwB,GAAK,IAAM,IAAM,IACrCnI,EAAKy2B,EAAeyB,EAAG/vB,EAAG+vB,EAAG5vB,EAAG6vB,EAAIhwB,EAAGgwB,EAAI7vB,EAAG8vB,EAAGjwB,EAAGiwB,EAAG9vB,EAAG+vB,EAAIlwB,EAAGkwB,EAAI/vB,GAGzE,GAAItI,EAAI,CAGN,GAAIg4B,EAFJ1hB,EAAMtW,EAAGmI,EAAE4uB,QAAQ,GAAK,IAAM/2B,EAAGsI,EAAEyuB,QAAQ,IAGzC,SAGFiB,EAAG1hB,IAAO,EAEV,IAAIoe,EAAKwD,EAAGr3B,EAAI0Z,GAAKva,EAAGs4B,GAAMJ,EAAGI,KAAQH,EAAIG,GAAMJ,EAAGI,MAASH,EAAIt3B,EAAIq3B,EAAGr3B,GACtEqJ,EAAKkuB,EAAGv3B,EAAI0Z,GAAKva,EAAGu4B,GAAMH,EAAGG,KAAQF,EAAIE,GAAMH,EAAGG,MAASF,EAAIx3B,EAAIu3B,EAAGv3B,GAEtE6zB,GAAM,GAAKA,GAAM,GAAKxqB,GAAM,GAAKA,GAAM,IAErCmtB,EACFlE,IAEAA,EAAI5uB,KAAK,CACP4D,EAAGnI,EAAGmI,EACNG,EAAGtI,EAAGsI,EACNosB,GAAIA,EACJxqB,GAAIA,MAQhB,OAAOipB,EAqGT,SAASqF,EAAexE,GACtB,IAAIyE,EAAMlF,EAAMS,GAEhB,GAAIyE,EAAIle,IACN,OAAOwZ,EAAU0E,EAAIle,KAOvB,GAJK1S,EAAQmsB,IAAensB,EAAQmsB,GAAaA,EAAU,MACzDA,EAzZJ,SAAyB0E,GAEvB,IAAKA,EACH,OAAO,KAGT,IAAID,EAAMlF,EAAMmF,GAEhB,GAAID,EAAI91B,IACN,OAAOwB,EAAMs0B,EAAI91B,KAGnB,IAAIg2B,EAAc,CAAE/xB,EAAG,EAAGE,EAAG,EAAG8xB,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAG5e,EAAG,EAAGhP,EAAG,EAAGrK,EAAG,EAAGk4B,EAAG,EAAG/C,EAAG,GACzEjL,EAAO,GAkCX,OAhCIljB,EAAQ6wB,IAAe7wB,EAAQ6wB,EAAW,MAC5C3N,EAAO5mB,EAAMu0B,IAGV3N,EAAKjoB,QAERjB,OAAO62B,GAAY/2B,QAAQmxB,GAAa,SAASlsB,EAAGC,EAAGC,GACrD,IAAIkyB,EAAS,GACTt4B,EAAOmG,EAAEjF,cAYb,IAVAkF,EAAEnF,QAAQoxB,GAAY,SAASnsB,EAAGC,GAChCA,GAAKmyB,EAAOz0B,MAAMsC,MAGR,KAARnG,GAAes4B,EAAOl2B,OAAS,IACjCioB,EAAKxmB,KAAK,CAACsC,GAAG8V,OAAOqc,EAAOn0B,OAAO,EAAG,KACtCnE,EAAO,IACPmG,EAAS,KAALA,EAAW,IAAM,KAGhBmyB,EAAOl2B,QAAU61B,EAAYj4B,KAClCqqB,EAAKxmB,KAAK,CAACsC,GAAG8V,OAAOqc,EAAOn0B,OAAO,EAAG8zB,EAAYj4B,MAC7Ci4B,EAAYj4B,UAOvBqqB,EAAK/nB,SAAWuwB,EAAMvwB,SACtBy1B,EAAI91B,IAAMwB,EAAM4mB,GAETA,EA0WOkO,CAAgBjF,KAGzBA,IAAcA,EAAUlxB,OAC3B,MAAO,CAAC,CAAC,IAAK,EAAG,IAGnB,IAMIo2B,EANA/F,EAAM,GACNhrB,EAAI,EACJG,EAAI,EACJ6wB,EAAK,EACLC,EAAK,EACL5b,EAAQ,EAGW,KAAnBwW,EAAU,GAAG,KAGfmF,EAFAhxB,GAAK6rB,EAAU,GAAG,GAGlBoF,EAFA9wB,GAAK0rB,EAAU,GAAG,GAGlBxW,IACA2V,EAAI,GAAK,CAAC,IAAKhrB,EAAGG,IAGpB,IAAK,IAAI6R,EAAGkf,EAAIh3B,EAAImb,EAAO8V,EAAKU,EAAUlxB,OAAQT,EAAIixB,EAAIjxB,IAAK,CAK7D,GAJA8wB,EAAI5uB,KAAK4V,EAAI,KAEb+e,GADAG,EAAKrF,EAAU3xB,IACN,KAEE62B,EAAII,cAGb,OAFAnf,EAAE,GAAK+e,EAAII,cAEHnf,EAAE,IACV,IAAK,IACHA,EAAE,GAAKkf,EAAG,GACVlf,EAAE,GAAKkf,EAAG,GACVlf,EAAE,GAAKkf,EAAG,GACVlf,EAAE,GAAKkf,EAAG,GACVlf,EAAE,GAAKkf,EAAG,GACVlf,EAAE,IAAMkf,EAAG,GAAKlxB,EAChBgS,EAAE,IAAMkf,EAAG,GAAK/wB,EAChB,MACF,IAAK,IACH6R,EAAE,IAAMkf,EAAG,GAAK/wB,EAChB,MACF,IAAK,IACH6R,EAAE,IAAMkf,EAAG,GAAKlxB,EAChB,MACF,IAAK,IACHgxB,GAAME,EAAG,GAAKlxB,EACdixB,GAAMC,EAAG,GAAK/wB,EAChB,QACE,IAAK,IAAI2vB,EAAI,EAAGsB,EAAKF,EAAGv2B,OAAQm1B,EAAIsB,EAAItB,IACtC9d,EAAE8d,IAAMoB,EAAGpB,IAAOA,EAAI,EAAK9vB,EAAIG,QAInC,IAAK,IAAI5B,EAAI,EAAG8yB,EAAKH,EAAGv2B,OAAQ4D,EAAI8yB,EAAI9yB,IACtCyT,EAAEzT,GAAK2yB,EAAG3yB,GAKd,OAFAwyB,EAAMA,EAAII,cAEFnf,EAAE,IACV,IAAK,IACHhS,GAAKgxB,EACL7wB,GAAK8wB,EACL,MACF,IAAK,IACHjxB,EAAIgS,EAAE,GACN,MACF,IAAK,IACH7R,EAAI6R,EAAE,GACN,MACF,IAAK,IACHgf,EAAKhf,EAAEA,EAAErX,OAAS,GAClBs2B,EAAKjf,EAAEA,EAAErX,OAAS,GACpB,QACEqF,EAAIgS,EAAEA,EAAErX,OAAS,GACjBwF,EAAI6R,EAAEA,EAAErX,OAAS,IAOrB,OAHAqwB,EAAInwB,SAAW8wB,EACf2E,EAAIle,IAAMwZ,EAAUZ,GAEbA,EAGT,SAASyE,EAAO6B,GACd,OACEA,EAAI,KAAOA,EAAI,IACfA,EAAI,KAAOA,EAAI,IACfA,EAAI,KAAOA,EAAI,IACfA,EAAI,KAAOA,EAAI,GAInB,SAASC,EAAYvE,EAAIC,EAAIxB,EAAIC,GAC/B,MAAO,CACLsB,EAAIC,EAAIxB,EACRC,EAAID,EAAIC,GAIZ,SAAS8F,EAAaxE,EAAIC,EAAIwE,EAAIC,EAAIjG,EAAIC,GAIxC,MAAO,CAHG,EAAI,EAINsB,EAHE,EAAI,EAGKyE,EAJT,EAAI,EAKNxE,EAJE,EAAI,EAIKyE,EALT,EAAI,EAMNjG,EALE,EAAI,EAKKgG,EANT,EAAI,EAON/F,EANE,EAAI,EAMKgG,EACjBjG,EACAC,GAIJ,SAASiG,EAAW3E,EAAIC,EAAI2E,EAAIC,EAAI3lB,EAAO4lB,EAAgBC,EAAYtG,EAAIC,EAAIsG,GAI7E,IAGInC,EA9iBUhxB,EA2iBVozB,EAAY,IAALzH,EAAW,IAClB0H,EAAM1H,EAAK,MAAQte,GAAS,GAC5B8e,EAAM,GAEN3e,GA/iBUxN,EA+iBM,SAASmB,EAAGG,EAAG+xB,GAI7B,MAAO,CAAElyB,EAHDA,EAAIuqB,EAAK4H,IAAID,GAAO/xB,EAAIoqB,EAAK6H,IAAIF,GAG1B/xB,EAFPH,EAAIuqB,EAAK6H,IAAIF,GAAO/xB,EAAIoqB,EAAK4H,IAAID,KA/iB/C,SAASG,IAEP,IAAIC,EAAM7yB,MAAM3E,UAAUqH,MAAM3F,KAAKwC,UAAW,GAC5C2b,EAAO2X,EAAI/1B,KAAK,KAChBg2B,EAAQF,EAAKE,MAAQF,EAAKE,OAAS,GACnC7Z,EAAQ2Z,EAAK3Z,MAAQ2Z,EAAK3Z,OAAS,GAEvC,OAAImS,EAAY0H,EAAO5X,IACrBsQ,EAAOvS,EAAOiC,GACP4X,EAAM5X,KAGfjC,EAAM/d,QAAU,YAAc43B,EAAM7Z,EAAM1b,SAC1C0b,EAAMtc,KAAKue,GACX4X,EAAM5X,GAAQ9b,EAAEgc,MAAM,EAAGyX,GAElBC,EAAM5X,MAoiBf,GAAKqX,EAwCHQ,EAAKR,EAAU,GACfS,EAAKT,EAAU,GACfU,EAAKV,EAAU,GACfW,EAAKX,EAAU,OA3CD,CAEdhF,GADA6C,EAAKxjB,EAAO2gB,EAAIC,GAAKiF,IACblyB,EACRitB,EAAK4C,EAAG1vB,EAKR,IAAIH,GAAKgtB,GAHTvB,GADAoE,EAAKxjB,EAAOof,EAAIC,GAAKwG,IACblyB,IAGY,EAChBG,GAAK8sB,GAHTvB,EAAKmE,EAAG1vB,IAGY,EAEhBswB,EAAKzwB,EAAIA,GAAM4xB,EAAKA,GAAOzxB,EAAIA,GAAM0xB,EAAKA,GAE1CpB,EAAI,IAENmB,GADAnB,EAAIlG,EAAK3Y,KAAK6e,GAEdoB,GAAKpB,GAGP,IAAImC,EAAMhB,EAAKA,EACXiB,EAAMhB,EAAKA,EACXtzB,GAAKuzB,GAAkBC,GAAc,EAAI,GACrCxH,EAAK3Y,KAAKQ,GAAKwgB,EAAMC,EAAMD,EAAMzyB,EAAIA,EAAI0yB,EAAM7yB,EAAIA,IAAM4yB,EAAMzyB,EAAIA,EAAI0yB,EAAM7yB,EAAIA,KACrF0yB,EAAKn0B,EAAIqzB,EAAKzxB,EAAI0xB,GAAM7E,EAAKvB,GAAM,EACnCkH,EAAKp0B,GAAKszB,EAAK7xB,EAAI4xB,GAAM3E,EAAKvB,GAAM,EACpC8G,EAAKjI,EAAKuI,OAAO7F,EAAK0F,GAAMd,GAAIjD,QAAQ,IACxC6D,EAAKlI,EAAKuI,OAAOpH,EAAKiH,GAAMd,GAAIjD,QAAQ,KAE5C4D,EAAKxF,EAAK0F,EAAKlI,EAAKgI,EAAKA,GAEpB,IAAMA,EAAU,EAALhI,EAASgI,IADzBC,EAAKhH,EAAKiH,EAAKlI,EAAKiI,EAAKA,GAEpB,IAAMA,EAAU,EAALjI,EAASiI,GAErBV,GAAcS,EAAKC,IACrBD,GAAe,EAALhI,IAEPuH,GAAcU,EAAKD,IACtBC,GAAe,EAALjI,GASd,IAAIuI,EAAKN,EAAKD,EAEd,GAAIpgB,EAAI2gB,GAAMd,EAAM,CAClB,IAAIe,EAAQP,EACRQ,EAAQxH,EACRyH,EAAQxH,EAEZ+G,EAAKD,EAAKP,GAAQF,GAAcU,EAAKD,EAAK,GAAK,GAG/CxH,EAAM2G,EAFNlG,EAAKiH,EAAKd,EAAKrH,EAAK4H,IAAIM,GACxB/G,EAAKiH,EAAKd,EAAKtH,EAAK6H,IAAIK,GACCb,EAAIC,EAAI3lB,EAAO,EAAG6lB,EAAYkB,EAAOC,EAAO,CAACT,EAAIO,EAAON,EAAIC,IAGvFI,EAAKN,EAAKD,EAEV,IAAIW,EAAK5I,EAAK4H,IAAIK,GACdY,EAAK7I,EAAK6H,IAAII,GACda,EAAK9I,EAAK4H,IAAIM,GACda,EAAK/I,EAAK6H,IAAIK,GACd/5B,EAAI6xB,EAAKgJ,IAAIR,EAAK,GAClBS,EAAK,EAAI,EAAI5B,EAAKl5B,EAClB+6B,EAAK,EAAI,EAAI5B,EAAKn5B,EAClBg7B,EAAK,CAAC1G,EAAIC,GACV0G,EAAK,CAAC3G,EAAKwG,EAAKJ,EAAInG,EAAKwG,EAAKN,GAC9BS,EAAK,CAACnI,EAAK+H,EAAKF,EAAI5H,EAAK+H,EAAKJ,GAC9BQ,EAAK,CAACpI,EAAIC,GAKd,GAHAiI,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACvBA,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GAEnB3B,EACF,MAAO,CAAC2B,EAAIC,EAAIC,GAAIrf,OAAOwW,GAK3B,IAFA,IAAI8I,EAAS,GAEJ55B,EAAI,EAAGixB,GAHhBH,EAAM,CAAC2I,EAAIC,EAAIC,GAAIrf,OAAOwW,GAAKzuB,OAAOQ,MAAM,MAGnBpC,OAAQT,EAAIixB,EAAIjxB,IACvC45B,EAAO55B,GAAKA,EAAI,EAAImS,EAAO2e,EAAI9wB,EAAI,GAAI8wB,EAAI9wB,GAAIg4B,GAAK/xB,EAAIkM,EAAO2e,EAAI9wB,GAAI8wB,EAAI9wB,EAAI,GAAIg4B,GAAKlyB,EAG1F,OAAO8zB,EAQX,SAASjH,EAAUC,EAAIC,EAAIC,EAAIC,EAAIxB,EAAIC,EAAI+B,EAAIC,GAK7C,IAJA,IAEIjvB,EAAGC,EAAGC,EAAGjG,EAAG6zB,EAAIxqB,EAAIgyB,EAAMC,EAF1BC,EAAU,GACVl0B,EAAS,CAAC,GAAI,IAGT7F,EAAI,EAAGA,EAAI,IAAKA,EAYvB,GAVS,GAALA,GACFwE,EAAI,EAAIouB,EAAK,GAAKE,EAAK,EAAIvB,EAC3BhtB,GAAK,EAAIquB,EAAK,EAAIE,EAAK,EAAIvB,EAAK,EAAIgC,EACpC9uB,EAAI,EAAIquB,EAAK,EAAIF,IAEjBpuB,EAAI,EAAIquB,EAAK,GAAKE,EAAK,EAAIvB,EAC3BjtB,GAAK,EAAIsuB,EAAK,EAAIE,EAAK,EAAIvB,EAAK,EAAIgC,EACpC/uB,EAAI,EAAIsuB,EAAK,EAAIF,GAGf3a,EAAI3T,GAAK,MAAb,CAEE,GAAI2T,EAAI1T,GAAK,MACX,SAKE,GAFJhG,GAAKiG,EAAID,IAEIhG,EAAI,GACfu7B,EAAQ73B,KAAK1D,QAMjBq7B,EAAOr1B,EAAIA,EAAI,EAAIC,EAAIF,EACvBu1B,EAAWzJ,EAAK3Y,KAAKmiB,GAEjBA,EAAO,IAMP,GAFJxH,IAAO7tB,EAAIs1B,IAAa,EAAIv1B,KAEd8tB,EAAK,GACjB0H,EAAQ73B,KAAKmwB,GAKX,GAFJxqB,IAAOrD,EAAIs1B,IAAa,EAAIv1B,KAEdsD,EAAK,GACjBkyB,EAAQ73B,KAAK2F,IAQjB,IAJA,IAEImyB,EAFApE,EAAImE,EAAQt5B,OACZw5B,EAAOrE,EAGJA,KAELoE,EAAK,GADLx7B,EAAIu7B,EAAQnE,IAEZ/vB,EAAO,GAAG+vB,GAAMoE,EAAKA,EAAKA,EAAKpH,EAAO,EAAIoH,EAAKA,EAAKx7B,EAAIs0B,EAAO,EAAIkH,EAAKx7B,EAAIA,EAAI+yB,EAAO/yB,EAAIA,EAAIA,EAAI+0B,EACnG1tB,EAAO,GAAG+vB,GAAMoE,EAAKA,EAAKA,EAAKnH,EAAO,EAAImH,EAAKA,EAAKx7B,EAAIu0B,EAAO,EAAIiH,EAAKx7B,EAAIA,EAAIgzB,EAAOhzB,EAAIA,EAAIA,EAAIg1B,EASrG,OANA3tB,EAAO,GAAGo0B,GAAQrH,EAClB/sB,EAAO,GAAGo0B,GAAQpH,EAClBhtB,EAAO,GAAGo0B,EAAO,GAAK1G,EACtB1tB,EAAO,GAAGo0B,EAAO,GAAKzG,EACtB3tB,EAAO,GAAGpF,OAASoF,EAAO,GAAGpF,OAASw5B,EAAO,EAEtC,CACLrH,GAAIrC,EAAK5P,MAAM,EAAG9a,EAAO,IACzBgtB,GAAItC,EAAK5P,MAAM,EAAG9a,EAAO,IACzBitB,GAAItC,EAAK7P,MAAM,EAAG9a,EAAO,IACzBktB,GAAIvC,EAAK7P,MAAM,EAAG9a,EAAO,KAI7B,SAASq0B,EAAYC,GAEnB,IAAI/D,EAAMlF,EAAMiJ,GAGhB,GAAI/D,EAAIgE,MACN,OAAO1I,EAAU0E,EAAIgE,OAsGvB,IAnGA,IAAIC,EAAalE,EAAegE,GAC5Bp6B,EAAQ,CAAE+F,EAAG,EAAGG,EAAG,EAAGq0B,GAAI,EAAGC,GAAI,EAAGC,EAAG,EAAGC,EAAG,EAAGC,GAAI,KAAMC,GAAI,MAC9DC,EAAc,SAAST,EAAMz1B,EAAG+rB,GAC9B,IAAIoK,EAAIxG,EAER,IAAK8F,EACH,MAAO,CAAC,IAAKz1B,EAAEoB,EAAGpB,EAAEuB,EAAGvB,EAAEoB,EAAGpB,EAAEuB,EAAGvB,EAAEoB,EAAGpB,EAAEuB,GAK1C,SAFEk0B,EAAK,IAAM,CAAEW,EAAG,EAAGC,EAAG,MAASr2B,EAAEg2B,GAAKh2B,EAAEi2B,GAAK,MAEvCR,EAAK,IACb,IAAK,IACHz1B,EAAE81B,EAAIL,EAAK,GACXz1B,EAAE+1B,EAAIN,EAAK,GACX,MACF,IAAK,IACHA,EAAO,CAAC,KAAK7f,OAAOmd,EAAW9W,MAAM,EAAG,CAACjc,EAAEoB,EAAGpB,EAAEuB,GAAGqU,OAAO6f,EAAKlyB,MAAM,MACrE,MACF,IAAK,IACgB,KAAfwoB,GAAqC,KAAfA,GAGxBoK,EAAW,EAANn2B,EAAEoB,EAAQpB,EAAE41B,GAGjBjG,EAAW,EAAN3vB,EAAEuB,EAAQvB,EAAE61B,KAOjBM,EAAKn2B,EAAEoB,EACPuuB,EAAK3vB,EAAEuB,GAETk0B,EAAO,CAAC,IAAKU,EAAIxG,GAAI/Z,OAAO6f,EAAKlyB,MAAM,IACvC,MACF,IAAK,IACgB,KAAfwoB,GAAqC,KAAfA,GAGxB/rB,EAAEg2B,GAAW,EAANh2B,EAAEoB,EAAQpB,EAAEg2B,GAGnBh2B,EAAEi2B,GAAW,EAANj2B,EAAEuB,EAAQvB,EAAEi2B,KAOnBj2B,EAAEg2B,GAAKh2B,EAAEoB,EACTpB,EAAEi2B,GAAKj2B,EAAEuB,GAEXk0B,EAAO,CAAC,KAAK7f,OAAOgd,EAAa5yB,EAAEoB,EAAGpB,EAAEuB,EAAGvB,EAAEg2B,GAAIh2B,EAAEi2B,GAAIR,EAAK,GAAIA,EAAK,KACrE,MACF,IAAK,IACHz1B,EAAEg2B,GAAKP,EAAK,GACZz1B,EAAEi2B,GAAKR,EAAK,GACZA,EAAO,CAAC,KAAK7f,OAAOgd,EAAa5yB,EAAEoB,EAAGpB,EAAEuB,EAAGk0B,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAC3E,MACF,IAAK,IACHA,EAAO,CAAC,KAAK7f,OAAO+c,EAAY3yB,EAAEoB,EAAGpB,EAAEuB,EAAGk0B,EAAK,GAAIA,EAAK,KACxD,MACF,IAAK,IACHA,EAAO,CAAC,KAAK7f,OAAO+c,EAAY3yB,EAAEoB,EAAGpB,EAAEuB,EAAGk0B,EAAK,GAAIz1B,EAAEuB,IACrD,MACF,IAAK,IACHk0B,EAAO,CAAC,KAAK7f,OAAO+c,EAAY3yB,EAAEoB,EAAGpB,EAAEuB,EAAGvB,EAAEoB,EAAGq0B,EAAK,KACpD,MACF,IAAK,IACHA,EAAO,CAAC,KAAK7f,OAAO+c,EAAY3yB,EAAEoB,EAAGpB,EAAEuB,EAAGvB,EAAE81B,EAAG91B,EAAE+1B,IAInD,OAAON,GAGTa,EAAS,SAASC,EAAIj7B,GAEpB,GAAIi7B,EAAGj7B,GAAGS,OAAS,EAAG,CACpBw6B,EAAGj7B,GAAG8C,QAGN,IAFA,IAAIo4B,EAAKD,EAAGj7B,GAELk7B,EAAGz6B,QACR06B,EAAan7B,GAAK,IAClBi7B,EAAGz4B,OAAOxC,IAAK,EAAG,CAAC,KAAKsa,OAAO4gB,EAAG14B,OAAO,EAAG,KAG9Cy4B,EAAGz4B,OAAOxC,EAAG,GACbixB,EAAKoJ,EAAW55B,SAIpB06B,EAAe,GACfC,EAAS,GACT3K,EAAc,GAETzwB,EAAI,EAAGixB,EAAKoJ,EAAW55B,OAAQT,EAAIixB,EAAIjxB,IAAK,CACnDq6B,EAAWr6B,KAAOo7B,EAASf,EAAWr6B,GAAG,IAE3B,KAAVo7B,IAEFD,EAAan7B,GAAKo7B,EAClBp7B,IAAMywB,EAAc0K,EAAan7B,EAAI,KAEvCq6B,EAAWr6B,GAAK46B,EAAYP,EAAWr6B,GAAID,EAAO0wB,GAE3B,KAAnB0K,EAAan7B,IAAuB,KAAVo7B,IAAeD,EAAan7B,GAAK,KAI/Dg7B,EAAOX,EAAYr6B,GAEnB,IAAIq7B,EAAMhB,EAAWr6B,GACjBs7B,EAASD,EAAI56B,OAEjBV,EAAM+F,EAAIu1B,EAAIC,EAAS,GACvBv7B,EAAMkG,EAAIo1B,EAAIC,EAAS,GACvBv7B,EAAMu6B,GAAKnK,EAAQkL,EAAIC,EAAS,KAAOv7B,EAAM+F,EAC7C/F,EAAMw6B,GAAKpK,EAAQkL,EAAIC,EAAS,KAAOv7B,EAAMkG,EAM/C,OAFAmwB,EAAIgE,MAAQ1I,EAAU2I,GAEfA,EAGTljB,EAAOC,QAvgBP,SAA+BmkB,EAAOC,EAAOxG,GAC3CuG,EAAQrB,EAAYqB,GACpBC,EAAQtB,EAAYsB,GAKpB,IAHA,IAAI1I,EAAIC,EAAIxB,EAAIC,EAAIiK,EAAKC,EAAKC,EAAKC,EAAK9G,EAAMC,EAC1CjE,EAAMkE,EAAY,EAAI,GAEjBh1B,EAAI,EAAGixB,EAAKsK,EAAM96B,OAAQT,EAAIixB,EAAIjxB,IAAK,CAC9C,IAAIk7B,EAAKK,EAAMv7B,GAEf,GAAa,KAATk7B,EAAG,GACLpI,EAAK2I,EAAMP,EAAG,GACdnI,EAAK2I,EAAMR,EAAG,OACT,CAEQ,KAATA,EAAG,IACLpG,EAAO,CAAChC,EAAIC,GAAIzY,OAAO4gB,EAAGjzB,MAAM,IAChC6qB,EAAKgC,EAAK,GACV/B,EAAK+B,EAAK,KAEVA,EAAO,CAAChC,EAAIC,EAAID,EAAIC,EAAI0I,EAAKC,EAAKD,EAAKC,GACvC5I,EAAK2I,EACL1I,EAAK2I,GAGP,IAAK,IAAI9F,EAAI,EAAGsB,EAAKsE,EAAM/6B,OAAQm1B,EAAIsB,EAAItB,IAAK,CAC9C,IAAIiG,EAAKL,EAAM5F,GAEf,GAAa,KAATiG,EAAG,GACLtK,EAAKoK,EAAME,EAAG,GACdrK,EAAKoK,EAAMC,EAAG,OACT,CAEQ,KAATA,EAAG,IACL9G,EAAO,CAACxD,EAAIC,GAAIlX,OAAOuhB,EAAG5zB,MAAM,IAChCspB,EAAKwD,EAAK,GACVvD,EAAKuD,EAAK,KAEVA,EAAO,CAACxD,EAAIC,EAAID,EAAIC,EAAImK,EAAKC,EAAKD,EAAKC,GACvCrK,EAAKoK,EACLnK,EAAKoK,GAGP,IAAIE,EAAOjH,EAAwBC,EAAMC,EAAMC,GAE/C,GAAIA,EACFlE,GAAOgL,MACF,CAEL,IAAK,IAAIz3B,EAAI,EAAG8yB,EAAK2E,EAAKr7B,OAAQ4D,EAAI8yB,EAAI9yB,IACxCy3B,EAAKz3B,GAAG03B,SAAW/7B,EACnB87B,EAAKz3B,GAAGyD,SAAW8tB,EACnBkG,EAAKz3B,GAAGywB,KAAOA,EACfgH,EAAKz3B,GAAG0wB,KAAOA,EAGjBjE,EAAMA,EAAIxW,OAAOwhB,OAO3B,OAAOhL,I,iCCtdT,sDASe,SAASkL,IACtB56B,KAAK66B,KAAO,GAIdD,EAAep7B,UAAUs7B,WAAa,SAASn8B,GAC7C,OAAOqB,KAAK2C,OAAO,OAAQhE,IAG7Bi8B,EAAep7B,UAAUu7B,YAAc,SAASp8B,GAC9C,OAAOqB,KAAK2C,OAAO,QAAShE,IAG9Bi8B,EAAep7B,UAAUw7B,YAAc,SAASr8B,GAC9C,OAAOqB,KAAK2C,OAAO,QAAShE,IAG9Bi8B,EAAep7B,UAAUy7B,iBAAmB,SAASt8B,GACnD,OAAOqB,KAAK2C,OAAO,aAAchE,IAWnCi8B,EAAep7B,UAAUmD,OAAS,SAASlG,EAAMkC,GAQ/C,OANAA,EAAQ,iBAAO,GAAIA,GAAS,KAEjBgK,KACThK,EAAMgK,GAAKlM,EAAO,IAAOuD,KAAK66B,QAGzB,YAAOp+B,EAAMkC,K,iCC9CtB,mHAKIu8B,EAAa,IAAI,IAAK,CAAEj+B,KAAM,WAAYwP,YAAY,EAAMgG,YAAY,GAAQ,CAAExV,KAAM,WACxFk+B,EAAY,IAAI,IAAK,CAAEl+B,KAAM,SAAUwP,YAAY,EAAMgG,YAAY,GAAQ,CAAExV,KAAM,gBACrFm+B,EAAe,IAAI,IAAK,CAAEn+B,KAAM,YAAawV,YAAY,GAAQ,CAAExV,KAAM,SACzEo+B,EAAe,IAAI,IAAK,CAAEp+B,KAAM,WAAYwV,YAAY,GAAQ,CAAExV,KAAM,WACxEq+B,EAAe,IAAI,IAAK,CAAEr+B,KAAM,WAAYwV,YAAY,GAAQ,CAAExV,KAAM,WAiBrE,SAASmP,IAQdtN,OAAOuN,eAAerM,KAAM,iBAAkB,CAC5C6L,UAAU,IAUZ/M,OAAOuN,eAAerM,KAAM,QAAS,CACnC4O,IAAK,WACH,OAAO5O,KAAKu7B,OAAO,IAErBC,IAAK,SAASC,GAEZ,IAAIC,EAAQ17B,KAAK07B,MACbH,EAASv7B,KAAKu7B,QAEbE,GAAYC,EACfH,EAAOp7B,OAAOu7B,GAEdH,EAAO36B,IAAI66B,EAAU,MAW3BP,EAAW7X,KAAKrjB,KAAM,UAQtBm7B,EAAU9X,KAAKrjB,KAAM,UAQrBq7B,EAAahY,KAAKrjB,KAAM,YAQxBs7B,EAAajY,KAAKrjB,KAAM,YAYnB,SAAS27B,IACdvvB,EAAKlL,KAAKlB,MAeVk7B,EAAW7X,KAAKrjB,KAAM,YAMtBo7B,EAAa/X,KAAKrjB,KAAM,QAMxBo7B,EAAa/X,KAAKrjB,KAAM,aAcnB,SAASsM,IACdqvB,EAAMz6B,KAAKlB,MAcN,SAAS47B,IACdD,EAAMz6B,KAAKlB,MAQXm7B,EAAU9X,KAAKrjB,KAAM,eAchB,SAAS67B,IACdzvB,EAAKlL,KAAKlB,MAQVq7B,EAAahY,KAAKrjB,KAAM,UAQxBs7B,EAAajY,KAAKrjB,KAAM,UAlE1B,IAAS27B,EAAOvvB,GAehB,IAASE,EAAMqvB,GAuBf,IAASC,EAAOD,GA+BhB,IAASE,EAAYzvB,GAGrB,IAAIjP,EAAQ,CACV2+B,WAAYD,EACZ3rB,MAAOyrB,EACPD,MAAOE,EACPruB,KAAMjB,GAoBD,SAAS3J,EAAOlG,EAAMkC,GAC3B,IAAIgP,EAAOxQ,EAAMV,GACjB,IAAKkR,EACH,MAAM,IAAI5N,MAAM,kBAAoBtD,EAAO,KAE7C,OAAO,iBAAO,IAAIkR,EAAQhP,K,iCC5O5B,8CACe,SAAS4tB,EAAexe,EAAUC,GAC/C,SAAS+tB,EAAa1sB,EAAKjB,GACzB,IAAI6K,EAAYjL,EAAOgb,eACvB,kBAAW/P,GAAW3X,OAAO+N,EAAKjB,GAGpCL,EAASK,GAAG,kBAAkB,WAC5B2tB,EAAa,gBAAgB,MAE/BhuB,EAASK,GAAG,mBAAmB,SAAUoB,GACvCusB,EAAa,0BAA2BvsB,EAAMwsB,cAGlDzP,EAAehe,QAAU,CAAC,WAAY,W,iCCdtC,kCAOO,SAAS0tB,EAAQluB,EAAU2W,GAIhC,SAASwX,IACP,OAAO,EAKT,OARAxX,EAAYA,GAAa,gBAMzB3W,EAAS4f,KAAKjJ,EAfI,IAesBwX,GAEjC,WACLnuB,EAAS+f,IAAIpJ,EAAWwX,M,iCClB5B,gFAIIC,EAAqB,kBAGlB,SAASX,EAAIY,GAClB,IAAIz8B,EAAU,kBAAW8C,SAASiX,MAElC/Z,EAAQwB,eAAeg7B,GAEnBC,GACFz8B,EAAQiB,IAAI,cAAgBw7B,GAIzB,SAASC,IACdb,EAAI,Q,iCCfC,SAASc,EAAMC,GAGpB,OAAIA,EAAUC,SAIPD,EAAUjqB,SAAWiqB,EAAUlqB,SAEjC,SAASoqB,EAAQF,GACtB,OAAOA,EAAU/pB,SAbnB,qE,iCCAA,gEAEA,SAASG,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS8pB,EAAgBv9B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EA6B3M,IAAIw9B,EAAwB,WAC1B,SAASA,EAASxc,EAAQpS,EAAUoF,EAAeE,GACjD,IAAI7G,EAAQxM,MArChB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAuC5GK,CAAgBjM,KAAM28B,GAEtBD,EAAgB18B,KAAM,SAAS,WAC7BwM,EAAMowB,2BAENpwB,EAAMqwB,MAAM,WAGdH,EAAgB18B,KAAM,YAAY,WAChCwM,EAAMqwB,MAAM,WAEZrwB,EAAM+W,SAEN/W,EAAM8gB,WAAa,QAGrBoP,EAAgB18B,KAAM,eAAe,SAAUwP,GAC7C,IAAI5Q,EACAw2B,EACA0H,EAAYtwB,EAAM8gB,WAClByP,EAAOvtB,EAAMwtB,SAAWxtB,EAAMytB,WAAa,EAE/C,IAAKr+B,EAAI,EAAGw2B,EAAI0H,EAAUl+B,GAAIA,IAC5B,GAAIw2B,EAAE2H,EAAMvtB,GAGV,OAFAA,EAAM4S,sBACN5S,EAAM4B,qBAMZsrB,EAAgB18B,KAAM,UAAU,WAC9B,IAAInC,EAAO2O,EAAM0wB,MAEbr/B,IACF2O,EAAMqwB,MAAM,UAGZ,QAAStZ,OAAO1lB,EAAM,UAAW2O,EAAM2wB,aAAa,IAGtD3wB,EAAM0wB,MAAQ,QAGhBl9B,KAAKo9B,QAAUjd,GAAU,GACzBngB,KAAKq9B,eAAiBlqB,EACtBnT,KAAKiO,UAAYF,EACjB/N,KAAKs9B,eAAiBjqB,EACtBrT,KAAKstB,WAAa,GAClBvf,EAASK,GAAG,gBAAiBpO,KAAKutB,UAClCxf,EAASK,GAAG,aAAcpO,KAAKkpB,OAC/Bnb,EAASK,GAAG,UAAU,WAChB5B,EAAM4wB,QAAQG,QAChB/wB,EAAM6W,KAAKlD,EAAOod,WAGtBxvB,EAASK,GAAG,SAAUpO,KAAKujB,QA3F/B,IAAsBpX,EAAa4G,EAAYC,EA8M7C,OA9MoB7G,EA8FPwwB,GA9FoB5pB,EA8FV,CAAC,CACtBF,IAAK,OACL7U,MAAO,SAAcH,GAEnBmC,KAAKujB,SACLvjB,KAAKk9B,MAAQr/B,EAEb,QAASwlB,KAAKxlB,EAAM,UAAWmC,KAAKm9B,aAAa,GAEjDn9B,KAAK68B,MAAM,UAEZ,CACDhqB,IAAK,aACL7U,MAAO,WACL,OAAOgC,KAAKk9B,QAEb,CACDrqB,IAAK,QACL7U,MAAO,SAAewR,GACpBxP,KAAKiO,UAAUS,KAAK,YAAcc,EAAO,CACvC3R,KAAMmC,KAAKk9B,MACXJ,UAAW98B,KAAKstB,eAGnB,CACDza,IAAK,2BACL7U,MAAO,WACL,IAAI8+B,EAAY98B,KAAKstB,WACjBna,EAAgBnT,KAAKq9B,eACrBhqB,EAAgBrT,KAAKs9B,eAqBzBR,EAAUh8B,MAjBV,SAAc+R,EAAK0pB,GACjB,GAAI,YAAMA,KAAe,YAAQA,IAAsB,KAAR1pB,EAE7C,OADAM,EAAcqqB,QAAQ,SACf,KAeXV,EAAUh8B,MARV,SAAc+R,EAAK0pB,GACjB,GAAI,YAAMA,KAAuB,KAAR1pB,GAAsB,KAARA,GAAc,YAAQ0pB,IAE3D,OADAppB,EAAcqqB,QAAQ,SACf,KAoBXV,EAAUh8B,MAbV,SAAyB+R,EAAKrD,GAC5B,GAAY,KAARqD,IAAc,YAAMrD,IAAW,YAAQA,IAItC,YAAuBA,EAAMlS,QAKlC,OADA6V,EAAcqqB,QAAQ,oBACf,KA0BTV,EAAUh8B,MArBV,SAAyB+R,EAAKrD,GAC5B,GAAY,KAARqD,IAAc,YAAMrD,KAAU,YAAQA,IAIrC,YAAuBA,EAAMlS,QAAlC,CAIA,IAAImgC,EAAUtqB,EAAcqqB,QAAQ,mBAChCE,EAAerqB,EAAcyN,mBAEjC,IAAK2c,GAAWC,GAuCN,8BAvC0CA,EAAe,CACjE,IAAI/pB,EAAOR,EAAcqqB,QAAQ,WAEjC,OADArqB,EAAcqqB,QAAQ,mBACf7pB,EAGT,OAAO,QAYV,CACDd,IAAK,cACL7U,MAAO,SAAqB2/B,GAC1B39B,KAAKstB,WAAWsQ,QAAQD,KAEzB,CACD9qB,IAAK,iBACL7U,MAAO,SAAwB2/B,GAC7B39B,KAAKstB,WAAattB,KAAKstB,WAAW5lB,QAAO,SAAU0tB,GACjD,OAAOA,IAAMuI,UAzMyDhrB,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8MrP8wB,EA/KmB,GAmL5BA,EAASpuB,QAAU,CAAC,kBAAmB,WAAY,gBAAiB,kB,oBCtNpE,IAAIsvB,EAAW,EAAQ,KAmCvB9nB,EAAOC,QAPP,SAAmBhY,GACjB,IAAI6J,EAASg2B,EAAS7/B,GAClB8/B,EAAYj2B,EAAS,EAEzB,OAAOA,GAAWA,EAAUi2B,EAAYj2B,EAASi2B,EAAYj2B,EAAU,I,oBChCzE,IAAIk2B,EAAW,EAAQ,KACnBC,EAAU,EAAQ,KAUlBC,EAAeD,EAAqB,SAAS/X,EAAMqB,GAErD,OADA0W,EAAQxC,IAAIvV,EAAMqB,GACXrB,GAFoB8X,EAK7BhoB,EAAOC,QAAUioB,G,oBChBjB,IAAIC,EAAU,EAAQ,KAGlBF,EAAUE,GAAW,IAAIA,EAE7BnoB,EAAOC,QAAUgoB,G,oBCLjB,IAAIG,EAAc,EAAQ,KACtBC,EAAmB,EAAQ,KAC3BC,EAAe,EAAQ,KACvBC,EAAa,EAAQ,KACrBC,EAAgB,EAAQ,KACxBC,EAAY,EAAQ,KACpBC,EAAU,EAAQ,KAClBC,EAAiB,EAAQ,KACzBnxB,EAAO,EAAQ,KAmFnBwI,EAAOC,QAtDP,SAAS2oB,EAAa1Y,EAAM2Y,EAASC,EAASC,EAAUC,EAASC,EAAeC,EAAcC,EAAQC,EAAKC,GACzG,IAAIC,EAvBc,IAuBNT,EACRU,EA5Be,EA4BNV,EACTW,EA5BmB,EA4BPX,EACZY,EAAsB,GAAVZ,EACZa,EA1Be,IA0BNb,EACTxf,EAAOmgB,OAAY/gC,EAAY8/B,EAAWrY,GA6C9C,OA3CA,SAASyZ,IAKP,IAJA,IAAIrgC,EAASqE,UAAUrE,OACnBggB,EAAOlb,MAAM9E,GACbJ,EAAQI,EAELJ,KACLogB,EAAKpgB,GAASyE,UAAUzE,GAE1B,GAAIugC,EACF,IAAIhgB,EAAcgf,EAAUkB,GACxBC,EAAetB,EAAahf,EAAMG,GASxC,GAPIsf,IACFzf,EAAO8e,EAAY9e,EAAMyf,EAAUC,EAASS,IAE1CR,IACF3f,EAAO+e,EAAiB/e,EAAM2f,EAAeC,EAAcO,IAE7DngC,GAAUsgC,EACNH,GAAangC,EAAS+/B,EAAO,CAC/B,IAAIQ,EAAalB,EAAerf,EAAMG,GACtC,OAAO+e,EACLtY,EAAM2Y,EAASD,EAAce,EAAQlgB,YAAaqf,EAClDxf,EAAMugB,EAAYV,EAAQC,EAAKC,EAAQ//B,GAG3C,IAAIigB,EAAcggB,EAAST,EAAU7+B,KACjCuH,EAAKg4B,EAAYjgB,EAAY2G,GAAQA,EAczC,OAZA5mB,EAASggB,EAAKhgB,OACV6/B,EACF7f,EAAOof,EAAQpf,EAAM6f,GACZO,GAAUpgC,EAAS,GAC5BggB,EAAKwgB,UAEHR,GAASF,EAAM9/B,IACjBggB,EAAKhgB,OAAS8/B,GAEZn/B,MAAQA,OAASuN,GAAQvN,gBAAgB0/B,IAC3Cn4B,EAAK6X,GAAQkf,EAAW/2B,IAEnBA,EAAGgY,MAAMD,EAAaD,M,kBCrFjC,IAAIygB,EAAYn7B,KAAKwmB,IAqCrBpV,EAAOC,QAxBP,SAAqBqJ,EAAMyf,EAAUC,EAASS,GAU5C,IATA,IAAIO,GAAa,EACbC,EAAa3gB,EAAKhgB,OAClB4gC,EAAgBlB,EAAQ1/B,OACxB6gC,GAAa,EACbC,EAAarB,EAASz/B,OACtB+gC,EAAcN,EAAUE,EAAaC,EAAe,GACpDp4B,EAAS1D,MAAMg8B,EAAaC,GAC5BC,GAAeb,IAEVU,EAAYC,GACnBt4B,EAAOq4B,GAAapB,EAASoB,GAE/B,OAASH,EAAYE,IACfI,GAAeN,EAAYC,KAC7Bn4B,EAAOk3B,EAAQgB,IAAc1gB,EAAK0gB,IAGtC,KAAOK,KACLv4B,EAAOq4B,KAAe7gB,EAAK0gB,KAE7B,OAAOl4B,I,kBClCT,IAAIi4B,EAAYn7B,KAAKwmB,IAuCrBpV,EAAOC,QA1BP,SAA0BqJ,EAAMyf,EAAUC,EAASS,GAWjD,IAVA,IAAIO,GAAa,EACbC,EAAa3gB,EAAKhgB,OAClBihC,GAAgB,EAChBL,EAAgBlB,EAAQ1/B,OACxBkhC,GAAc,EACdC,EAAc1B,EAASz/B,OACvB+gC,EAAcN,EAAUE,EAAaC,EAAe,GACpDp4B,EAAS1D,MAAMi8B,EAAcI,GAC7BH,GAAeb,IAEVO,EAAYK,GACnBv4B,EAAOk4B,GAAa1gB,EAAK0gB,GAG3B,IADA,IAAIU,EAASV,IACJQ,EAAaC,GACpB34B,EAAO44B,EAASF,GAAczB,EAASyB,GAEzC,OAASD,EAAeL,IAClBI,GAAeN,EAAYC,KAC7Bn4B,EAAO44B,EAAS1B,EAAQuB,IAAiBjhB,EAAK0gB,MAGlD,OAAOl4B,I,oBCrCT,IAAI64B,EAAa,EAAQ,KACrBC,EAAU,EAAQ,KAClBC,EAAkB,EAAQ,KAqD9B7qB,EAAOC,QA1BP,SAAuBiQ,EAAM2Y,EAASiC,EAAUrhB,EAAaqf,EAASC,EAAUC,EAASG,EAAQC,EAAKC,GACpG,IAAI0B,EAtBgB,EAsBNlC,EAMdA,GAAYkC,EA3BU,GACM,GAHF,GA8B1BlC,KAAakC,EA3Be,GADN,OA+BpBlC,IAAW,GAEb,IAAImC,EAAU,CACZ9a,EAAM2Y,EAASC,EAVCiC,EAAUhC,OAAWtgC,EAFtBsiC,EAAU/B,OAAUvgC,EAGdsiC,OAAUtiC,EAAYsgC,EAFvBgC,OAAUtiC,EAAYugC,EAYzBG,EAAQC,EAAKC,GAG5Bv3B,EAASg5B,EAASthB,WAAM/gB,EAAWuiC,GAKvC,OAJIL,EAAWza,IACb0a,EAAQ94B,EAAQk5B,GAElBl5B,EAAO2X,YAAcA,EACdohB,EAAgB/4B,EAAQoe,EAAM2Y,K,oBCpDvC,IAAIZ,EAAU,EAAQ,KAClBgD,EAAO,EAAQ,KASfC,EAAWjD,EAAiB,SAAS/X,GACvC,OAAO+X,EAAQpvB,IAAIqX,IADI+a,EAIzBjrB,EAAOC,QAAUirB,G,oBCdjB,IAAI/hB,EAAa,EAAQ,KACrBsG,EAAa,EAAQ,KASzB,SAAS0b,EAAcljC,EAAOmjC,GAC5BnhC,KAAK0lB,YAAc1nB,EACnBgC,KAAK2lB,YAAc,GACnB3lB,KAAKohC,YAAcD,EACnBnhC,KAAKqhC,UAAY,EACjBrhC,KAAKshC,gBAAa9iC,EAGpB0iC,EAAc1hC,UAAY0f,EAAWsG,EAAWhmB,WAChD0hC,EAAc1hC,UAAUwL,YAAck2B,EAEtCnrB,EAAOC,QAAUkrB,G,kBCFjBnrB,EAAOC,QAXP,SAAmBnN,EAAQhI,GACzB,IAAI5B,GAAS,EACTI,EAASwJ,EAAOxJ,OAGpB,IADAwB,IAAUA,EAAQsD,MAAM9E,MACfJ,EAAQI,GACfwB,EAAM5B,GAAS4J,EAAO5J,GAExB,OAAO4B,I,oBChBT,IAAIo9B,EAAc,EAAQ,KAiBtB0C,EAhBW,EAAQ,IAgBTY,CAAStD,GAEvBloB,EAAOC,QAAU2qB,G,oBCnBjB,IAAIa,EAAiB,EAAQ,KACzBC,EAAoB,EAAQ,KAC5BC,EAAc,EAAQ,KACtBC,EAAoB,EAAQ,KAiBhC5rB,EAAOC,QALP,SAAyB0pB,EAAS95B,EAAWg5B,GAC3C,IAAI/1B,EAAUjD,EAAY,GAC1B,OAAO87B,EAAYhC,EAAS+B,EAAkB54B,EAAQ84B,EAAkBH,EAAe34B,GAAS+1B,O,oBCjBlG7oB,EAAOC,QAAU,IAA0B,iC,+DCAvC4rB,EAAgB,UAMpB,SAASx9B,EAAQjF,GACf,MAA+C,mBAAxCL,OAAOU,UAAUD,SAAS2B,KAAK/B,GAGxC,SAAS0iC,EAAW1iC,EAAKyO,GACvB,OAAO9O,OAAOU,UAAUiwB,eAAevuB,KAAK/B,EAAKyO,GAGnD,SAASk0B,IACP,IAAIziB,EAAOlb,MAAM3E,UAAUqH,MAAM3F,KAAKwC,WAElB,IAAhB2b,EAAKhgB,QAAgB+E,EAAQib,EAAK,MACpCA,EAAOA,EAAK,IAGd,IAAI9X,EAAK8X,EAAK0iB,MAId,OAFAx6B,EAAGgH,QAAU8Q,EAEN9X,EAiBT,IAAIy6B,EAAmB,qCACnBC,EAAU,mDACVC,EAAS,mBAEb,SAASC,EAAiB56B,GAExB,GAAkB,mBAAPA,EACT,MAAM,IAAIxH,MAAM,oBAAsBwH,EAAK,2BAG7C,IAAIqD,EAAQrD,EAAGhI,WAAWqL,MAlD5B,SAAiBrD,GACf,OAAOq6B,EAAcvgC,KAAKkG,EAAGhI,YAiDG6iC,CAAQ76B,GAAMy6B,EAAmBC,GAGjE,OAAKr3B,GAIEA,EAAM,IAAMA,EAAM,GAAGnJ,MAAM,KAAKqZ,KAAI,SAASkc,GAElD,OADApsB,EAAQosB,EAAIpsB,MAAMs3B,IACHt3B,EAAM,GAAGy3B,OAASrL,EAAIqL,WAL9B,GASX,SAASC,IACP,IAAIC,EAAY,GAEhBviC,KAAKwiC,QAAU,SAASvlC,EAAMulC,GAE5B,OADAD,EAAUzhC,KAAK,CAAC7D,EAAM,UAAWulC,IAC1BxiC,MAGTA,KAAKhC,MAAQ,SAASf,EAAMe,GAE1B,OADAukC,EAAUzhC,KAAK,CAAC7D,EAAM,QAASe,IACxBgC,MAGTA,KAAKvD,KAAO,SAASQ,EAAMR,GAEzB,OADA8lC,EAAUzhC,KAAK,CAAC7D,EAAM,OAAQR,IACvBuD,MAGTA,KAAKgnB,QAAU,SAASjc,GACtBw3B,EAAUvb,QAAQjc,IAKtB,SAAS03B,EAASC,EAAStiC,GACzBA,EAASA,GAAU,CACjBwO,IAAK,SAAS3R,EAAM0lC,GAGlB,GAFAC,EAAmB9hC,KAAK7D,IAET,IAAX0lC,EACF,OAAO,KAEP,MAAM3W,EAAM,oBAAsB/uB,EAAO,QAK/C,IAAI2lC,EAAqB,GACrBL,EAAYviC,KAAK6iC,WAAa/jC,OAAO6D,OAAOvC,EAAOyiC,YAAc,MACjEC,EAAY9iC,KAAK+iC,WAAajkC,OAAO6D,OAAO,MAE5CuI,EAAO43B,EAAUjb,SAAW7nB,KAE5BgsB,EAAQ,SAASgX,GACnB,IAAIC,EAAQL,EAAmB3hC,KAAK,QAEpC,OADA2hC,EAAmBvjC,OAAS,EACrB,IAAIU,MAAMkjC,EAAQD,EAAM,gBAAkBC,EAAQ,IAAMD,IAW7Dp0B,EAAM,SAAS3R,EAAM0lC,GACvB,IAAKJ,EAAUtlC,KAAgC,IAAvBA,EAAKmC,QAAQ,KAAa,CAIhD,IAHA,IAAI8jC,EAAQjmC,EAAKwE,MAAM,KACnB0hC,EAAQv0B,EAAIs0B,EAAMxhC,SAEfwhC,EAAM7jC,QACX8jC,EAAQA,EAAMD,EAAMxhC,SAGtB,OAAOyhC,EAGT,GAAItB,EAAWiB,EAAW7lC,GACxB,OAAO6lC,EAAU7lC,GAGnB,GAAI4kC,EAAWU,EAAWtlC,GAAO,CAC/B,IAA0C,IAAtC2lC,EAAmBxjC,QAAQnC,GAE7B,MADA2lC,EAAmB9hC,KAAK7D,GAClB+uB,EAAM,uCAOd,OAJA4W,EAAmB9hC,KAAK7D,GACxB6lC,EAAU7lC,GAAQslC,EAAUtlC,GAAM,GAAGslC,EAAUtlC,GAAM,IACrD2lC,EAAmBb,MAEZe,EAAU7lC,GAGnB,OAAOmD,EAAOwO,IAAI3R,EAAM0lC,IAGtBS,EAAQ,SAAS77B,EAAI87B,GAMvB,QAJsB,IAAXA,IACTA,EAAS,IAGO,mBAAP97B,EAAmB,CAC5B,IAAInD,EAAQmD,GAGV,MAAM,IAAIxH,MAAM,kBAAoBwH,EAAK,2BAFzCA,EAAKu6B,EAASv6B,EAAGV,SAerB,MAAO,CACLU,GAAIA,EACJ+7B,cAXW/7B,EAAGgH,SAAW4zB,EAAiB56B,IAClBuT,KAAI,SAASyoB,GACrC,OAAI1B,EAAWwB,EAAQE,GACdF,EAAOE,GAEP30B,EAAI20B,QAUbC,EAAc,SAAS71B,GACzB,IAAI81B,EAAML,EAAMz1B,GAEZpG,EAAKk8B,EAAIl8B,GACT+7B,EAAeG,EAAIH,aAKvB,OAAO,IAFW9mB,SAAShd,UAAU6jB,KAAK9D,MAAMhY,EAAI,CAAE,MAAO2R,OAAOoqB,MAKlEI,EAAS,SAASzd,EAAMtW,EAAS0zB,GACnC,IAAII,EAAML,EAAMnd,EAAMod,GAElB97B,EAAKk8B,EAAIl8B,GACT+7B,EAAeG,EAAIH,aAEvB,OAAO/7B,EAAGgY,MAAM5P,EAAS2zB,IAIvBK,EAA+B,SAASC,GAC1C,OAAO9B,GAAS,SAASjvB,GACvB,OAAO+wB,EAAqBh1B,IAAIiE,OA8DhCgxB,EAAa,CACfrB,QAASkB,EACTjnC,KAAM+mC,EACNxlC,MAAO,SAASA,GACd,OAAOA,IAIX0kC,EAAQ1b,SAAQ,SAASjR,GAEvB,SAAS+tB,EAAYrnC,EAAMuB,GAKzB,MAJa,UAATvB,GAAoB2H,EAAQpG,KAC9BA,EAAQ8jC,EAAS9jC,EAAM6I,UAGlB7I,EAIT,GAAI+X,aAAkBusB,EACpBvsB,EAAOiR,SAAQ,SAAS+c,GACtB,IAAI9mC,EAAO8mC,EAAS,GAChBtnC,EAAOsnC,EAAS,GAChB/lC,EAAQ+lC,EAAS,GAErBxB,EAAUtlC,GAAQ,CAAC4mC,EAAWpnC,GAAOqnC,EAAYrnC,EAAMuB,GAAQvB,WAE5D,GAAsB,iBAAXsZ,EAChB,GAAIA,EAAOiuB,YAAa,CACtB,IAAIC,EAAenlC,OAAOC,KAAKgX,GAAQmuB,QAAO,SAAS7O,EAAGxiB,GAIxD,MAH4B,OAAxBA,EAAI5Q,UAAU,EAAG,KACnBozB,EAAExiB,GAAOkD,EAAOlD,IAEXwiB,IACNv2B,OAAO6D,OAAO,OAEbwhC,EAAkB,IAAI1B,GAAU1sB,EAAOquB,aAAe,IAAIlrB,OAAO,CAAC+qB,IAAgB/4B,GAClFm5B,EAAyBvC,GAAS,SAASjvB,GAC7C,OAAOsxB,EAAgBv1B,IAAIiE,MAE7BkD,EAAOiuB,YAAYhd,SAAQ,SAASnU,GAClC0vB,EAAU1vB,GAAO,CAACwxB,EAAwBxxB,EAAK,UAAWsxB,WAG5DrlC,OAAOC,KAAKgX,GAAQiR,SAAQ,SAAS/pB,GACnC,GAAwB,YAApB8Y,EAAO9Y,GAAM,GAAjB,CAKA,IAAIR,EAAOsZ,EAAO9Y,GAAM,GACpBe,EAAQ+X,EAAO9Y,GAAM,GAEzBslC,EAAUtlC,GAAQ,CAAC4mC,EAAWpnC,GAAOqnC,EAAYrnC,EAAMuB,GAAQvB,QAP7D8lC,EAAUtlC,GAAQ8Y,EAAO9Y,SAcnC+C,KAAK4O,IAAMA,EACX5O,KAAK0jC,OAASA,EACd1jC,KAAKwjC,YAAcA,EACnBxjC,KAAKskC,YAzHa,SAAS5B,EAAS6B,GAClC,GAAIA,GAAqBA,EAAkBllC,OAAQ,CACjD,IAOI0kC,EACAS,EACAZ,EACAa,EAVAC,EAAmB5lC,OAAO6D,OAAO,MACjCgiC,EAAgB7lC,OAAO6D,OAAO,MAE9BiiC,EAAwB,GACxBC,EAAwB,GACxBC,EAAwB,GAM5B,IAAK,IAAI7nC,KAAQslC,EACfwB,EAAWxB,EAAUtlC,IAEoB,IAArCsnC,EAAkBnlC,QAAQnC,KACR,YAAhB8mC,EAAS,IAEO,KADlBS,EAAWI,EAAsBxlC,QAAQ2kC,EAAS,MAEhDH,EAAuBG,EAAS,GAAGO,YAAY,GAAIC,GACnDE,EAA8Bd,EAA6BC,GAC3DgB,EAAsB9jC,KAAKijC,EAAS,IACpCc,EAAsB/jC,KAAK8iC,GAC3BkB,EAAsBhkC,KAAK2jC,GAC3BC,EAAiBznC,GAAQ,CAACwnC,EAA6BxnC,EAAM,UAAW2mC,IAExEc,EAAiBznC,GAAQ,CAAC6nC,EAAsBN,GAAWvnC,EAAM,UAAW4nC,EAAsBL,IAGpGE,EAAiBznC,GAAQ,CAAC8mC,EAAS,GAAIA,EAAS,IAElDY,EAAc1nC,IAAQ,GAGH,YAAhB8mC,EAAS,IAAoC,SAAhBA,EAAS,KAAkBA,EAAS,GAAGgB,QAEvER,EAAkBvd,SAAQ,SAASge,IACU,IAAvCjB,EAAS,GAAGgB,OAAO3lC,QAAQ4lC,KAC7BN,EAAiBznC,GAAQ,CAAC8mC,EAAS,GAAIA,EAAS,IAChDY,EAAcK,IAAS,MAM/BT,EAAkBvd,SAAQ,SAASge,GACjC,IAAKL,EAAcK,GACjB,MAAM,IAAIjlC,MAAM,oBAAsBilC,EAAQ,8CAIlDtC,EAAQ9E,QAAQ8G,GAGlB,OAAO,IAAIjC,EAASC,EAASx3B,I,sBClQlB,SAAS+5B,EAAal3B,EAAUm3B,GAC7C,IAAIh6B,EAAOlL,KAEXklC,EAAiBA,GAXW,IAa5Bn3B,EAASK,GAAG,CAAE,eAAgB,qBAAuB82B,GAAgB,SAASC,EAAKx1B,GACjF,IAAIlT,EAAO0oC,EAAI1oC,KACXD,EAAUmT,EAAQnT,QAClB4oC,EAAUz1B,EAAQgB,IAClBhS,EAAQgR,EAAQhR,MAEpB,GAAIuM,EAAKm6B,UAAU7oC,GACjB,MAAa,iBAATC,EACKyO,EAAKo6B,UAAUF,EAAS5oC,EAASmC,GAEjCuM,EAAKq6B,eAAeH,EAAS5oC,EAASmC,MAKnDoP,EAASK,GAAG,CAAE,sBAAuB,4BAA6B82B,GAAgB,SAASC,EAAK3oC,GAC9F,GAAI0O,EAAKm6B,UAAU7oC,GACjB,MAAiB,wBAAb2oC,EAAI1oC,KACCyO,EAAKs6B,aAAahpC,GAElB0O,EAAKu6B,kBAAkBjpC,MActCyoC,EAAazlC,UAAU6lC,UAAY,aAUnCJ,EAAazlC,UAAU8lC,UAAY,aAUnCL,EAAazlC,UAAU+lC,eAAiB,aASxCN,EAAazlC,UAAUgmC,aAAe,aAStCP,EAAazlC,UAAUimC,kBAAoB,a,sCCtD5B,SAASC,EAAgB33B,EAAUoB,GAGhD81B,EAAa/jC,KAAKlB,KAAM+N,EAXI,GAa5B/N,KAAK2lC,iBAAmBx2B,EAAO9Q,MAAM,CAAE,WAAa,CAAE2lB,YAAa,EAAGD,OAAQ,YAC9E/jB,KAAK4lC,YAAcz2B,EAAO9Q,MAAM,CAAEwnC,KAAM,QAAS9hB,OAAQ,UAAWC,YAAa,IACjFhkB,KAAK8lC,YAAc32B,EAAO9Q,MAAM,CAAE,WAAa,CAAE0lB,OAAQ,UAAWgiB,gBAAiB,EAAG/hB,YAAa,IAGvG,IAAS0hB,EAAiBT,GAG1BS,EAAgBlmC,UAAU6lC,UAAY,WACpC,OAAO,GAGTK,EAAgBlmC,UAAU8lC,UAAY,SAAmBF,EAAS5oC,EAASmC,GACzE,IAAIgH,EAAO,YAAU,QAiBrB,OAfA,YAAQA,EAAM,CACZjB,EAAG,EACHG,EAAG,EACHC,MAAOtI,EAAQsI,OAAS,EACxBC,OAAQvI,EAAQuI,QAAU,IAGxB,YAAevI,GACjB,YAAQmJ,EAAM,iBAAO,GAAI3F,KAAK8lC,YAAannC,GAAS,KAEpD,YAAQgH,EAAM,iBAAO,GAAI3F,KAAK4lC,YAAajnC,GAAS,KAGtD,YAAUymC,EAASz/B,GAEZA,GAGT+/B,EAAgBlmC,UAAU+lC,eAAiB,SAAwBH,EAAStJ,EAAYn9B,GAEtF,IAAIqmB,EAAO,YAAW8W,EAAWl1B,UAAW,iBAAO,GAAI5G,KAAK2lC,iBAAkBhnC,GAAS,KAGvF,OAFA,YAAUymC,EAASpgB,GAEZA,GAGT0gB,EAAgBlmC,UAAUgmC,aAAe,SAAsBt1B,GAE7D,IAAIxL,EAAIwL,EAAMxL,EACVG,EAAIqL,EAAMrL,EACVC,EAAQoL,EAAMpL,MAGdkhC,EAAY,CACd,CAAC,IAAKthC,EAAGG,GACT,CAAC,IAAKC,EAAO,GACb,CAAC,IAAK,EALKoL,EAAMnL,QAMjB,CAAC,KAAMD,EAAO,GACd,CAAC,MAGH,OAAO,YAAiBkhC,IAG1BN,EAAgBlmC,UAAUimC,kBAAoB,SAA2B3J,GACvE,IAEI90B,EAAK/B,EAFL2B,EAAYk1B,EAAWl1B,UAEXq/B,EAAiB,GAEjC,IAAKj/B,EAAM,EAAI/B,EAAQ2B,EAAUI,GAAOA,IAItC/B,EAAQA,EAAMihC,UAAYjhC,EAE1BghC,EAAenlC,KAAK,CAAU,IAARkG,EAAY,IAAM,IAAK/B,EAAMP,EAAGO,EAAMJ,IAG9D,OAAO,YAAiBohC,IAI1BP,EAAgBn3B,QAAU,CAAE,WAAY,UC9GzB,OACbgC,SAAU,CAAE,mBACZ41B,gBAAiB,CAAE,OAAQT,GAC3Bv2B,OAAQ,CAAE,OCIG,WAEb,IAAIi3B,EAAgB,CAElB,UAAW,CACTP,KAAM,QAER,YAAa,CACXQ,cAAe,GAEjB,YAAa,CACXC,cAAe,SAIfp7B,EAAOlL,KAWXA,KAAKqP,IAAM,SAAStO,EAAWwlC,EAAQC,GACrC,IAAI7nC,EAAQqB,KAAK3B,MAAMkoC,EAAQC,GAE/B,OAAO,iBAAO7nC,EAAO,CAAE,MAASoC,KAWlCf,KAAK3B,MAAQ,SAASkoC,EAAQC,GAEvB,kBAAQD,IAAYC,IACvBA,EAAkBD,EAClBA,EAAS,IAGX,IAAI5nC,EAAQ,iBAAO4nC,GAAQ,SAAS5nC,EAAOvB,GACzC,OAAO,iBAAOuB,EAAOynC,EAAchpC,IAAM,MACxC,IAEH,OAAOopC,EAAkB,iBAAO7nC,EAAO6nC,GAAmB7nC,GAG5DqB,KAAKymC,aAAe,SAASC,EAAQH,EAAQI,GAM3C,OALK,kBAAQJ,KACXI,EAAgBJ,EAChBA,EAAS,IAGJr7B,EAAK7M,MAAMkoC,GAAU,GAAI,iBAAO,GAAII,EAAeD,GAAU,S,kBCpCxE,SAAS9hC,EAAM4uB,EAAQoT,GACrB,OAAOjiC,KAAKC,MAAM4uB,EAASoT,GAAcA,EAG3C,SAASC,EAASrT,GAChB,OAAO,mBAASA,GAAUA,EAAS,KAAOA,EA0C5C,SAASsT,EAAY1mC,EAAQiP,EAAK03B,GAChC,IAAIC,EAAQ,YAAU,KACtB,YAAWA,GAAOpmC,IAAIyO,GAEtB,IAAIpQ,OAAuBT,IAAfuoC,EAA2BA,EAAa3mC,EAAO0e,WAAWzf,OAAS,EAM/E,OAFAe,EAAO6oB,aAAa+d,EAAO5mC,EAAO0e,WAAW7f,IAAU,MAEhD+nC,EAGT,IAQIC,EAAuB,CACzB/2B,MAAO,CAAE,IAAK,IAAK,QAAS,UAC5B4rB,WAAY,CAAE,cAgBD,SAASoL,EAAO/mB,EAAQpS,EAAUo5B,EAAiBz3B,GAEhE1P,KAAKiO,UAAYF,EACjB/N,KAAK2f,iBAAmBjQ,EACxB1P,KAAKonC,iBAAmBD,EAExBnnC,KAAKkpB,MAAM/I,GAAU,IA+gCvB,SAASknB,EAAOxpC,EAAMw3B,GACpB,IAAIiS,EAAO,UAAYjS,EAAElyB,EAAI,IAAMkyB,EAAEjyB,EAAI,IAAMiyB,EAAEhyB,EAAI,IAAMgyB,EAAE/xB,EAAI,IAAM+xB,EAAE53B,EAAI,IAAM43B,EAAE9xB,EAAI,IACzF1F,EAAKE,aAAa,YAAaupC,GA9gCjCJ,EAAO34B,QAAU,CACf,gBACA,WACA,kBACA,mBAgBF24B,EAAO1nC,UAAU0pB,MAAQ,SAAS/I,GAEhC,IAAIpS,EAAW/N,KAAKiO,UAGhBgL,EAAYjZ,KAAKyrB,WAjGvB,SAAyB5d,GAIvB,IAAIoL,GAFJpL,EAAU,iBAAO,GAAI,CAAE/I,MAAO,OAAQC,OAAQ,QAAU8I,IAEhCoL,WAAaxW,SAASiX,KAK1CtZ,EAASqC,SAAS8kC,cAAc,OAYpC,OAXAnnC,EAAOrC,aAAa,QAAS,iBAE7B,iBAAOqC,EAAO/B,MAAO,CACnBurB,SAAU,WACV4d,SAAU,SACV1iC,MAAO+hC,EAASh5B,EAAQ/I,OACxBC,OAAQ8hC,EAASh5B,EAAQ9I,UAG3BkU,EAAUtb,YAAYyC,GAEfA,EA4E2BqnC,CAAgBtnB,GAE9Cpe,EAAM/B,KAAK0nC,KAAO,YAAU,OAChC,YAAQ3lC,EAAK,CAAE+C,MAAO,OAAQC,OAAQ,SAEtC,YAAUkU,EAAWlX,GAErB,IAAI4lC,EAAW3nC,KAAK4nC,UAAYd,EAAY/kC,EAAK,YAEjD/B,KAAK6nC,QAAU,GACf7nC,KAAK8nC,QAAU,IAIY,IAAvB3nB,EAAO4nB,cACT/nC,KAAKgoC,gBAAkB,mBAAS,eAAKhoC,KAAKgoC,gBAAiBhoC,MAAO,MAGpE+N,EAASK,GAAG,gBAAgB,WAa1BL,EAASW,KAAK,cAAe,CAC3B3M,IAAKA,EACL4lC,SAAUA,MAGX3nC,MAIH+N,EAASK,GAAG,CACV,cACA,mBACA,gBACA,qBACA,mBACA,cACC,kBACMpO,KAAKioC,iBACXjoC,MAEH+N,EAASK,GAAG,kBAAmB,IAAKpO,KAAKutB,SAAUvtB,MACnD+N,EAASK,GAAG,gBAAiB,IAAKpO,KAAKkoC,OAAQloC,OAGjDknC,EAAO1nC,UAAU+tB,SAAW,SAASlN,GACnCrgB,KAAKiO,UAAUS,KAAK,iBAAkB,CACpC3M,IAAK/B,KAAK0nC,KACVC,SAAU3nC,KAAK4nC,YAGjB,IAAIxnC,EAASJ,KAAKyrB,WAAWprB,WAEzBD,GACFA,EAAOE,YAAYN,KAAKyrB,mBAGnBzrB,KAAK0nC,YACL1nC,KAAKyrB,kBACLzrB,KAAK6nC,eACL7nC,KAAK8nC,eACL9nC,KAAKmoC,oBACLnoC,KAAK4nC,WAGdV,EAAO1nC,UAAU0oC,OAAS,WAExB,IAAIh9B,EAAOlL,KAEOA,KAAK2f,iBAAiByoB,SAG5BphB,SAAQ,SAASxqB,GAC3B,IAAIC,EAAO,YAAQD,GAEN,SAATC,EACFyO,EAAKm9B,uBAAuB,KAAMn9B,EAAK4D,UAAUtS,IAAU,GAE3D0O,EAAKo9B,eAAe9rC,EAASC,MAKjCuD,KAAKmoC,aAAe,KACpBnoC,KAAK8nC,QAAU,UAGR9nC,KAAKioC,gBASdf,EAAO1nC,UAAU+oC,gBAAkB,WACjC,OAAOvoC,KAAKwoC,SAvKG,OAIO,IAqLxBtB,EAAO1nC,UAAUgpC,SAAW,SAASvrC,EAAMgC,GAEzC,IAAKhC,EACH,MAAM,IAAI8C,MAAM,uBAGlB,IAAI0oC,EAAQzoC,KAAK6nC,QAAQ5qC,GAQzB,GANKwrC,IACHA,EAAQzoC,KAAK6nC,QAAQ5qC,GAAQ+C,KAAK0oC,aAAazrC,EAAMgC,SAKlC,IAAVA,GAAyBwpC,EAAMxpC,QAAUA,EAClD,MAAM,IAAIc,MAAM,UAAY9C,EAAO,+BAAiCgC,EAAQ,KAG9E,OAAOwpC,EAAMzB,OAWfE,EAAO1nC,UAAUkpC,aAAe,SAASzrC,EAAMgC,QAExB,IAAVA,IACTA,EApNsB,GAuNxB,IAAI8nC,EAAa,iBAAO/mC,KAAK6nC,SAAS,SAASd,EAAY0B,GAKzD,OAJIxpC,GAASwpC,EAAMxpC,OACjB8nC,IAGKA,IACN,GAEH,MAAO,CACLC,MAAOF,EAAY9mC,KAAK4nC,UAAW,SAAW3qC,EAAM8pC,GACpD9nC,MAAOA,IAYXioC,EAAO1nC,UAAUmpC,SAAW,SAAS1rC,GACnC,IAAKA,EACH,MAAM,IAAI8C,MAAM,uBAGlB,OAAOC,KAAK8nC,QAAQ7qC,IAYtBiqC,EAAO1nC,UAAUopC,YAAc,SAAS3rC,EAAM4rC,GAC5C,IAAK5rC,EACH,MAAM,IAAI8C,MAAM,uBAGlB,GAAIC,KAAK8nC,QAAQ7qC,GACf,MAAM,IAAI8C,MAAM,SAAW9C,EAAO,mBAG/B4rC,IACHA,EAAc,CACZlgC,GAAI,iBAAmB1L,EACvB8K,SAAU,GACV+gC,YAAY,IAIhB,IAAIC,EAAW/oC,KAAKwoC,SAASvrC,EAhRP,GAiRtB,YAAW8rC,GAAUnoC,IApRH,sBAsRlB,IAAI6pB,EAAQzqB,KAAK8nC,QAAQ7qC,GAAQ,CAC/BwrC,MAAOM,EACP9rC,KAAMA,EACN4rC,YAAa,MAKf,OAFA7oC,KAAKqoC,uBAAuBQ,EAAape,GAElCA,GAUTyc,EAAO1nC,UAAUwpC,eAAiB,SAASve,GACzC,IAAKA,EACH,MAAM,IAAI1qB,MAAM,wBAuBlB,MApBqB,iBAAV0qB,IACTA,EAAQzqB,KAAK2oC,SAASle,IAIpBzqB,KAAKmoC,cACP,YAAWnoC,KAAKmoC,aAAaM,OAAO7nC,IAnTpB,sBAsTlBZ,KAAKmoC,aAAe1d,EAGpB,YAAWA,EAAMge,OAAOtoC,OAzTN,sBA2TdsqB,EAAMoe,aACR7oC,KAAK2f,iBAAiBspB,eAAexe,EAAMoe,YAAa7oC,KAAK0nC,MAAM,GAGrE1nC,KAAKiO,UAAUS,KAAK,YAAa,CAAE+b,MAAOA,IAEnCA,GASTyc,EAAO1nC,UAAU0pC,eAAiB,WAChC,OAAOlpC,KAAK+O,iBAAiB05B,OAQ/BvB,EAAO1nC,UAAUuP,eAAiB,WAChC,IAAI0b,EAAQzqB,KAAKmoC,aAMjB,OALK1d,IACHA,EAAQzqB,KAAK4oC,YAvVA,QAwVb5oC,KAAKgpC,eAxVQ,SA2VRve,GAUTyc,EAAO1nC,UAAUsP,UAAY,SAAStS,GACb,iBAAZA,IACTA,EAAUwD,KAAK2f,iBAAiB/Q,IAAIpS,IAGtC,IAAI+Q,EA9ZN,SAAkB/Q,GAChB,KAAOA,EAAQ4D,QACb5D,EAAUA,EAAQ4D,OAGpB,OAAO5D,EAyZI2sC,CAAS3sC,GAEpB,OAAO,eAAKwD,KAAK8nC,SAAS,SAASrd,GACjC,OAAOA,EAAMoe,cAAgBt7B,MAUjC25B,EAAO1nC,UAAUwpB,aAAe,WAC9B,OAAOhpB,KAAKyrB,YAMdyb,EAAO1nC,UAAU4pC,cAAgB,SAAS5sC,EAAS6uB,EAAQzqB,GACzD,IAAIqY,EAECzc,EAAQmM,KACXnM,EAAUwD,KAAK2f,iBAAiB/Q,IAAIpS,KAItCyc,EAAYjZ,KAAK2f,iBAAiB0pB,UAAU7sC,EAAQmM,OAMpD,kBAAQ,CAAEsQ,EAAUtI,IAAKsI,EAAUqwB,eAAgB,SAAS34B,GACtDA,IAGE/P,EACF,YAAW+P,GAAK/P,IAAIyqB,GAEpB,YAAW1a,GAAKxQ,OAAOkrB,OAe7BrrB,KAAKiO,UAAUS,KAAK,wBAAyB,CAAElS,QAASA,EAASmU,IAAKsI,EAAUtI,IAAK0a,OAAQA,EAAQzqB,MAAOA,MAoB9GsmC,EAAO1nC,UAAU4P,UAAY,SAAS5S,EAAS6uB,GAC7CrrB,KAAKopC,cAAc5sC,EAAS6uB,GAAQ,IAatC6b,EAAO1nC,UAAU8P,aAAe,SAAS9S,EAAS6uB,GAChDrrB,KAAKopC,cAAc5sC,EAAS6uB,GAAQ,IAStC6b,EAAO1nC,UAAU+pC,UAAY,SAAS/sC,EAAS6uB,GACxC7uB,EAAQmM,KACXnM,EAAUwD,KAAK2f,iBAAiB/Q,IAAIpS,IAGtC,IAAImU,EAAM3Q,KAAKkiB,YAAY1lB,GAE3B,OAAO,YAAWmU,GAAKnP,IAAI6pB,IAY7B6b,EAAO1nC,UAAUu8B,aAAe,SAASv/B,EAAS6uB,GAC5CrrB,KAAKupC,UAAU/sC,EAAS6uB,GAC1BrrB,KAAKsP,aAAa9S,EAAS6uB,GAE3BrrB,KAAKoP,UAAU5S,EAAS6uB,IAI5B6b,EAAO1nC,UAAU4Q,eAAiB,WAGhC,OAFYpQ,KAAK+O,iBAEJ85B,aAgBf3B,EAAO1nC,UAAUgqC,eAAiB,SAAShtC,EAASitC,GAClD,IAAI/e,EAAc1qB,KAAKmoC,aAEvB,GAAIzd,EACF,OAAO1qB,KAAKqoC,uBAAuB7rC,EAASkuB,EAAa+e,GAEzD,IAAIC,EAAY1pC,KAAK4oC,YAlgBR,OAkgBgCpsC,GAI7C,OAFAwD,KAAKgpC,eAAeU,GAEbA,EAAUb,aAerB3B,EAAO1nC,UAAU6oC,uBAAyB,SAAS7rC,EAASiuB,EAAOgf,GAE5C,iBAAVhf,IACTA,EAAQzqB,KAAK2oC,SAASle,IAGpBjuB,GACFwD,KAAK2pC,aAAa,OAAQntC,GAG5B,IAAIotC,EAAcnf,EAAMoe,YACpBn5B,EAAkB1P,KAAK2f,iBACvB5R,EAAW/N,KAAKiO,UAEpB,GAAI27B,EAAa,CACf,IAAKH,EACH,MAAM,IAAI1pC,MAAM,qDAIlBgO,EAASW,KAAK,cAAe,CAAElS,QAASotC,IACxC77B,EAASW,KAAK,eAAgB,CAAElS,QAASotC,IAEzCl6B,EAAgBvP,OAAOypC,GAGzB,GAAIptC,EAAS,CACX,IAAImU,EAAM8Z,EAAMge,MAGhB16B,EAASW,KAAK,WAAY,CAAElS,QAASA,IAErCkT,EAAgB9O,IAAIpE,EAASmU,GAE7B5C,EAASW,KAAK,aAAc,CAAElS,QAASA,EAASmU,IAAKA,IAGjD8Z,IAAUzqB,KAAKmoC,cACjBnoC,KAAK2f,iBAAiBspB,eAAezsC,EAASwD,KAAK0nC,MAAM,GAM7D,OAFAjd,EAAMoe,YAAcrsC,EAEbA,GAKT0qC,EAAO1nC,UAAUmqC,aAAe,SAASltC,EAAMD,GAC7C,IAAKA,EAAQmM,GACX,MAAM,IAAI5I,MAAM,2BAGlB,GAAIC,KAAK2f,iBAAiB/Q,IAAIpS,EAAQmM,IACpC,MAAM,IAAI5I,MAAM,mBAAqBvD,EAAQmM,GAAK,mBAGpD,IAAIkhC,EAAgB5C,EAAqBxqC,GAMzC,IAJY,gBAAMotC,GAAe,SAAStrC,GACxC,YAAgC,IAAlB/B,EAAQ+B,MAItB,MAAM,IAAIwB,MACR,iBAAmB8pC,EAAc5oC,KAAK,MAAQ,WAAaxE,IAIjEyqC,EAAO1nC,UAAUsqC,WAAa,SAASttC,EAAS4D,EAAQ2pC,GACtD,YAAc3pC,EAAO2H,SAAUvL,EAASutC,GACxCvtC,EAAQ4D,OAASA,GAuBnB8mC,EAAO1nC,UAAUwqC,YAAc,SAASvtC,EAAMD,EAAS4D,EAAQ2pC,GAE7D3pC,EAASA,GAAUJ,KAAKoQ,iBAExB,IAAIrC,EAAW/N,KAAKiO,UAChBk5B,EAAkBnnC,KAAKonC,iBAE3BpnC,KAAK2pC,aAAaltC,EAAMD,GAExBuR,EAASW,KAAKjS,EAAO,OAAQ,CAAED,QAASA,EAAS4D,OAAQA,IAEzDJ,KAAK8pC,WAAWttC,EAAS4D,EAAQ2pC,GAGjC,IAAIp5B,EAAMw2B,EAAgBxkC,OAAOlG,EAAMD,EAASutC,GAShD,OAPA/pC,KAAK2f,iBAAiB/e,IAAIpE,EAASmU,GAGnCw2B,EAAgBlb,OAAOxvB,EAAMD,EAASmU,GAEtC5C,EAASW,KAAKjS,EAAO,SAAU,CAAED,QAASA,EAASmU,IAAKA,IAEjDnU,GAYT0qC,EAAO1nC,UAAUyqC,SAAW,SAAS/5B,EAAO9P,EAAQ2pC,GAClD,OAAO/pC,KAAKgqC,YAAY,QAAS95B,EAAO9P,EAAQ2pC,IAYlD7C,EAAO1nC,UAAU0qC,cAAgB,SAASpO,EAAY17B,EAAQ2pC,GAC5D,OAAO/pC,KAAKgqC,YAAY,aAAclO,EAAY17B,EAAQ2pC,IAO5D7C,EAAO1nC,UAAU8oC,eAAiB,SAAS9rC,EAASC,GAElD,IAAIiT,EAAkB1P,KAAK2f,iBACvBwnB,EAAkBnnC,KAAKonC,iBACvBr5B,EAAW/N,KAAKiO,UAIpB,GAFAzR,EAAUkT,EAAgBd,IAAIpS,EAAQmM,IAAMnM,GAoB5C,OAZAuR,EAASW,KAAKjS,EAAO,UAAW,CAAED,QAASA,IAE3C2qC,EAAgBhnC,OAAO3D,GAGvB,YAAiBA,EAAQ4D,QAAU5D,EAAQ4D,OAAO2H,SAAUvL,GAC5DA,EAAQ4D,OAAS,KAEjB2N,EAASW,KAAKjS,EAAO,WAAY,CAAED,QAASA,IAE5CkT,EAAgBvP,OAAO3D,GAEhBA,GAWT0qC,EAAO1nC,UAAU2qC,YAAc,SAASj6B,GAuBtC,OAAOlQ,KAAKsoC,eAAep4B,EAAO,UAWpCg3B,EAAO1nC,UAAU4qC,iBAAmB,SAAStO,GAuB3C,OAAO97B,KAAKsoC,eAAexM,EAAY,eAYzCoL,EAAO1nC,UAAU0iB,YAAc,SAAS1lB,EAAS6tC,GAC/C,OAAOrqC,KAAK2f,iBAAiBuC,YAAY1lB,EAAS6tC,IASpDnD,EAAO1nC,UAAU8qC,eAAiB,SAASC,GAGzCvqC,KAAKiO,UAAUS,KAAK,2BAGpB67B,EAAShrB,MAAMvf,MAKfA,KAAKioC,eAAiB,KAItBjoC,KAAKgoC,mBAGPd,EAAO1nC,UAAUwoC,gBAAkB,WACjChoC,KAAKiO,UAAUS,KAAK,yBAA0B,CAAE2b,QAASrqB,KAAKqqB,aAiDhE6c,EAAO1nC,UAAU6qB,QAAU,SAASmgB,GAElC,QAAYhsC,IAARgsC,GAAqBxqC,KAAKioC,eAC5B,OAAOjoC,KAAKioC,eAGd,IACIwC,EAEAjnC,EACAQ,EACAiN,EACAvM,EAAGG,EANH8iC,EAAW3nC,KAAK4nC,UAEhB8C,EAAW1qC,KAAK2qC,UAMpB,OAAKH,GAiCHxqC,KAAKsqC,gBAAe,WAClBr5B,EAAQtM,KAAKumB,IAAIwf,EAAS5lC,MAAQ0lC,EAAI1lC,MAAO4lC,EAAS3lC,OAASylC,EAAIzlC,QAEnE,IAAIvB,EAASxD,KAAK0nC,KAAKjkC,kBACpBwN,MAAMA,GACN5G,WAAWmgC,EAAI9lC,GAAI8lC,EAAI3lC,GAE1B,YAAa8iC,EAAUnkC,MAIpBgnC,IAtCLC,EAAYzqC,KAAKmoC,cAAgBnoC,KAAKmoC,aAAaM,MAAMz/B,WAAc,GAGvExF,GADAQ,EAAY,YAAa2jC,IACJ3jC,EAAUR,OAAS,cACxCyN,EAAQrM,EAAMpB,EAAOL,EAAG,KAExBuB,EAAIE,GAAOpB,EAAO/F,GAAK,EAAG,KAC1BoH,EAAID,GAAOpB,EAAOD,GAAK,EAAG,KAE1BinC,EAAMxqC,KAAKioC,eAAiB,CAC1BvjC,EAAGA,EAAIA,EAAIuM,EAAQ,EACnBpM,EAAGA,EAAIA,EAAIoM,EAAQ,EACnBnM,MAAO4lC,EAAS5lC,MAAQmM,EACxBlM,OAAQ2lC,EAAS3lC,OAASkM,EAC1BA,MAAOA,EACP25B,MAAO,CACL9lC,MAAO2lC,EAAS3lC,OAAS,EACzBC,OAAQ0lC,EAAS1lC,QAAU,EAC3BL,EAAG+lC,EAAS/lC,GAAK,EACjBG,EAAG4lC,EAAS5lC,GAAK,GAEnBgmC,MAAOH,KA6BbxD,EAAO1nC,UAAUsrC,OAAS,SAASxzB,GAEjC,IAAIzZ,EAAOmC,KAAK4nC,UACZpkC,EAAS3F,EAAKktC,SAYlB,OAVIzzB,GACFtX,KAAKsqC,gBAAe,WAClBhzB,EAAQ,iBAAO,CAAE0zB,GAAI,EAAGC,GAAI,GAAK3zB,GAAS,IAE1C9T,EAASxD,KAAK0nC,KAAKjkC,kBAAkB4G,UAAUiN,EAAM0zB,GAAI1zB,EAAM2zB,IAAIC,SAAS1nC,GAE5E6jC,EAAOxpC,EAAM2F,MAIV,CAAEkB,EAAGlB,EAAO/F,EAAGoH,EAAGrB,EAAOD,IAWlC2jC,EAAO1nC,UAAU2rC,gBAAkB,SAAS3uC,EAASqJ,GACnD,IAAIulC,EAAiB,IAEE,iBAAZ5uC,IACTA,EAAUwD,KAAK2f,iBAAiB/Q,IAAIpS,IAItC,IAAI6uC,EAAcrrC,KAAK8O,UAAUtS,GAC7B6uC,IAAgBrrC,KAAKmoC,cACvBnoC,KAAKgpC,eAAeqC,GAGjBxlC,IACHA,EAAU,IAEW,iBAAZA,IACTulC,EAAiBvlC,GAGnBA,EAAU,CACRV,IAAKU,EAAQV,KAAOimC,EACpBhmC,MAAOS,EAAQT,OAASgmC,EACxB/lC,OAAQQ,EAAQR,QAAU+lC,EAC1B9lC,KAAMO,EAAQP,MAAQ8lC,GAGxB,IAIIJ,EAAIC,EAJJK,EAAgB,YAAe9uC,GAC/B+uC,EAAc,YAAOD,GACrBE,EAAgBxrC,KAAKqqB,UACrBohB,EAAOzrC,KAAKyrC,OAIhBD,EAAc3mC,GAAKgB,EAAQV,IAAMsmC,EACjCD,EAAc9mC,GAAKmB,EAAQP,KAAOmmC,EAClCD,EAAc1mC,QAAUe,EAAQT,MAAQS,EAAQP,MAAQmmC,EACxDD,EAAczmC,SAAWc,EAAQR,OAASQ,EAAQV,KAAOsmC,EAEzD,IAAIC,EAAc,YAAOF,GAIzB,GAFaF,EAAcxmC,MAAQ0mC,EAAc1mC,OAASwmC,EAAcvmC,OAASymC,EAAczmC,OAQxF,CAEL,IAAI4mC,EAAShnC,KAAKwmB,IAAI,EAAGogB,EAAYnmC,MAAQsmC,EAAYtmC,OACrDwmC,EAAQjnC,KAAKumB,IAAI,EAAGqgB,EAAYjmC,KAAOomC,EAAYpmC,MACnDumC,EAAUlnC,KAAKwmB,IAAI,EAAGogB,EAAYlmC,OAASqmC,EAAYrmC,QACvDymC,EAAOnnC,KAAKumB,IAAI,EAAGqgB,EAAYpmC,IAAMumC,EAAYvmC,KAErD6lC,EAAKW,GAAUC,EACfX,EAAKY,GAAWC,OAXhBd,EAAKM,EAAc5mC,EAAI8mC,EAAc9mC,EACrCumC,EAAKK,EAAczmC,EAAI2mC,EAAc3mC,EAcvC7E,KAAK8qC,OAAO,CAAEE,IAAKA,EAAKS,EAAMR,IAAKA,EAAKQ,KAgB1CvE,EAAO1nC,UAAUisC,KAAO,SAASM,EAAU10B,GAEzC,OAAK00B,EAIY,iBAAbA,EACK/rC,KAAKgsC,aAAa30B,IAM3BrX,KAAKsqC,gBAAe,WAEI,iBAAXjzB,IACTwzB,EAAQ7qC,KAAKqqB,UAAUwgB,MAEvBxzB,EAAS,CACP3S,EAAGmmC,EAAM/lC,MAAQ,EACjBD,EAAGgmC,EAAM9lC,OAAS,IAItBvB,EAASxD,KAAKisC,SAASF,EAAU10B,MAG5BzS,EAAMpB,EAAOL,EAAG,MAxBdnD,KAAKqqB,QAAQ0hB,GAAU96B,MAOhC,IAAI45B,EACArnC,GAwBN0jC,EAAO1nC,UAAUwsC,aAAe,SAAS30B,GAEvC,IAGI00B,EACAG,EAJAC,EAAOnsC,KAAKqqB,UACZwgB,EAAQsB,EAAKtB,MACbD,EAAQuB,EAAKvB,MAoCjB,OAzBIA,EAAMlmC,GAAK,GACXkmC,EAAM/lC,GAAK,GACX+lC,EAAMlmC,EAAIkmC,EAAM9lC,OAAS+lC,EAAM/lC,OAC/B8lC,EAAM/lC,EAAI+lC,EAAM7lC,QAAU8lC,EAAM9lC,SAC/BsS,EAEH60B,EAAa,CACXxnC,EAAG,EACHG,EAAG,EACHC,MAAOH,KAAKwmB,IAAIyf,EAAM9lC,MAAQ8lC,EAAMlmC,EAAGmmC,EAAM/lC,OAC7CC,OAAQJ,KAAKwmB,IAAIyf,EAAM7lC,OAAS6lC,EAAM/lC,EAAGgmC,EAAM9lC,UAIjDgnC,EAAWpnC,KAAKumB,IAAI,EAAG2f,EAAM/lC,MAAQ8lC,EAAM9lC,MAAO+lC,EAAM9lC,OAAS6lC,EAAM7lC,QACvEmnC,EAAa,CACXxnC,EAAGkmC,EAAMlmC,GAAK2S,EAASuzB,EAAM9lC,MAAQ,EAAI+lC,EAAM/lC,MAAQinC,EAAW,EAAI,GACtElnC,EAAG+lC,EAAM/lC,GAAKwS,EAASuzB,EAAM7lC,OAAS,EAAI8lC,EAAM9lC,OAASgnC,EAAW,EAAI,GACxEjnC,MAAO+lC,EAAM/lC,MAAQinC,EACrBhnC,OAAQ8lC,EAAM9lC,OAASgnC,IAI3B/rC,KAAKqqB,QAAQ6hB,GAENlsC,KAAKqqB,SAAQ,GAAOpZ,OAI7Bi2B,EAAO1nC,UAAUysC,SAAW,SAASh7B,EAAOoG,GAE1C,IAOI+0B,EACAC,EACAC,EACAC,EAVAxqC,EAAM/B,KAAK0nC,KACXC,EAAW3nC,KAAK4nC,UAEhBpkC,EAASzB,EAAI0B,kBACbwB,EAAQlD,EAAIyqC,iBAUZC,GAFJJ,EAAgB1E,EAASoD,UAEQ5nC,EAqBjC,OAnBIkU,GAIF+0B,EAHc,iBAAOnnC,EAAOoS,GAGAq1B,gBAAgBL,EAAcM,WAG1DL,EAAc9oC,EACX6G,UAAU+hC,EAAc1nC,EAAG0nC,EAAcvnC,GACzCoM,MAAM,EAAIw7B,EAAex7B,GACzB5G,WAAW+hC,EAAc1nC,GAAI0nC,EAAcvnC,GAE9C0nC,EAAYF,EAAcnB,SAASoB,IAEnCC,EAAY/oC,EAAOyN,MAAMA,GAG3Bo2B,EAAOrnC,KAAK4nC,UAAW2E,GAEhBA,GASTrF,EAAO1nC,UAAUmrC,QAAU,WACzB,MAAO,CACL7lC,MAAO9E,KAAKyrB,WAAWmhB,YACvB7nC,OAAQ/E,KAAKyrB,WAAWohB,eAe5B3F,EAAO1nC,UAAUstC,gBAAkB,SAAStwC,GAC1C,IACI8M,EADA6iC,EAAOnsC,KAAKqqB,UAKZ7tB,EAAQoK,UAGV0C,EAFUtJ,KAAKkiB,YAAY1lB,GAEhBwM,UAMXM,EAAO9M,EAST,MAAO,CACLkI,EAPM4E,EAAK5E,EAAIynC,EAAKl7B,MAAQk7B,EAAKznC,EAAIynC,EAAKl7B,MAQ1CpM,EAPMyE,EAAKzE,EAAIsnC,EAAKl7B,MAAQk7B,EAAKtnC,EAAIsnC,EAAKl7B,MAQ1CnM,MANUwE,EAAKxE,MAAQqnC,EAAKl7B,MAO5BlM,OANWuE,EAAKvE,OAASonC,EAAKl7B,QAclCi2B,EAAO1nC,UAAUutC,QAAU,kBAGlB/sC,KAAKioC,eAEZjoC,KAAKiO,UAAUS,KAAK,mBCvyCtB,IAAIs+B,EAAa,kBAUF,SAASC,EAAgBl/B,GACtC/N,KAAKqpC,UAAY,GAEjBrpC,KAAKiO,UAAYF,EAGnBk/B,EAAgB1+B,QAAU,CAAE,YAS5B0+B,EAAgBztC,UAAUoB,IAAM,SAASpE,EAASmU,EAAK24B,GAErD,IAAI3gC,EAAKnM,EAAQmM,GAEjB3I,KAAKktC,YAAYvkC,GAGjB,YAAQgI,EAAKq8B,EAAYrkC,GAErB2gC,GACF,YAAQA,EAAc0D,EAAYrkC,GAGpC3I,KAAKqpC,UAAU1gC,GAAM,CAAEnM,QAASA,EAASmU,IAAKA,EAAK24B,aAAcA,IAQnE2D,EAAgBztC,UAAUW,OAAS,SAAS3D,GAC1C,IAAI0K,EAAWlH,KAAKqpC,UAChB1gC,EAAKnM,EAAQmM,IAAMnM,EACnByc,EAAYtQ,GAAMzB,EAASyB,GAE3BsQ,IAGF,YAAQA,EAAUtI,IAAKq8B,EAAY,IAE/B/zB,EAAUqwB,cACZ,YAAQrwB,EAAUqwB,aAAc0D,EAAY,WAGvC9lC,EAASyB,KAUpBskC,EAAgBztC,UAAU2tC,SAAW,SAAS3wC,EAAS4wC,GAErDptC,KAAKktC,YAAYE,GAEM,iBAAZ5wC,IACTA,EAAUwD,KAAK4O,IAAIpS,IAGrBwD,KAAKiO,UAAUS,KAAK,mBAAoB,CACtClS,QAASA,EACT4wC,MAAOA,IAGT,IAAIz8B,EAAM3Q,KAAKkiB,YAAY1lB,GACvB8sC,EAAetpC,KAAKkiB,YAAY1lB,GAAS,GAE7CwD,KAAKG,OAAO3D,GAEZA,EAAQmM,GAAKykC,EAEbptC,KAAKY,IAAIpE,EAASmU,EAAK24B,IAUzB2D,EAAgBztC,UAAUypC,eAAiB,SAASvhC,EAAQiJ,EAAK05B,GAC/D,IAAI1hC,EAAKjB,EAAOiB,IAAMjB,EAElBuR,EAAYjZ,KAAKqpC,UAAU1gC,GAU/B,OARI0hC,EACFpxB,EAAUqwB,aAAe34B,EAEzBsI,EAAUtI,IAAMA,EAGlB,YAAQA,EAAKq8B,EAAYrkC,GAElBgI,GAgBTs8B,EAAgBztC,UAAUoP,IAAM,SAASlH,GACvC,IAAIiB,EAGFA,EADoB,iBAAXjB,EACJA,EAEAA,GAAU,YAAQA,EAAQslC,GAGjC,IAAI/zB,EAAYjZ,KAAKqpC,UAAU1gC,GAC/B,OAAOsQ,GAAaA,EAAUzc,SAUhCywC,EAAgBztC,UAAUkI,OAAS,SAASH,GAE1C,IAAI8lC,EAAW,GAQf,OANArtC,KAAKgnB,SAAQ,SAASxqB,EAASmU,GACzBpJ,EAAG/K,EAASmU,IACd08B,EAASvsC,KAAKtE,MAIX6wC,GAUTJ,EAAgBztC,UAAU8tC,KAAO,SAAS/lC,GAIxC,IAHA,IAAIuT,EAAM9a,KAAKqpC,UACXtqC,EAAOD,OAAOC,KAAK+b,GAEdlc,EAAI,EAAGA,EAAIG,EAAKM,OAAQT,IAAK,CACpC,IACIqa,EAAY6B,EADP/b,EAAKH,IAEVpC,EAAUyc,EAAUzc,QAGxB,GAAI+K,EAAG/K,EAFGyc,EAAUtI,KAGlB,OAAOnU,IAUbywC,EAAgBztC,UAAU4oC,OAAS,WACjC,OAAOpoC,KAAK0H,QAAO,SAASjK,GAAK,OAAOA,MAQ1CwvC,EAAgBztC,UAAUwnB,QAAU,SAASzf,GAE3C,IAAIuT,EAAM9a,KAAKqpC,UAEfvqC,OAAOC,KAAK+b,GAAKkM,SAAQ,SAASre,GAChC,IAAIsQ,EAAY6B,EAAInS,GAChBnM,EAAUyc,EAAUzc,QACpBmU,EAAMsI,EAAUtI,IAEpB,OAAOpJ,EAAG/K,EAASmU,OAmBvBs8B,EAAgBztC,UAAU0iB,YAAc,SAASxa,EAAQ2iC,GACvD,IAAI1hC,EAAKjB,EAAOiB,IAAMjB,EAElBuR,EAAYjZ,KAAKqpC,UAAU1gC,GAC/B,OAAOsQ,IAAcoxB,EAAYpxB,EAAUqwB,aAAerwB,EAAUtI,MAWtEs8B,EAAgBztC,UAAU0tC,YAAc,SAASvkC,GAC/C,IAAKA,EACH,MAAM,IAAI5I,MAAM,2BAGlB,GAAIC,KAAKqpC,UAAU1gC,GACjB,MAAM,IAAI5I,MAAM,mBAAqB4I,EAAK,mB,aC5O1C9B,EAAQ1C,MAAM3E,UAAUqH,MAqFb,SAASwmB,IACtBrtB,KAAKstB,WAAa,GAIlBttB,KAAKoO,GAAG,kBAAmB,EAAGpO,KAAKutB,SAAUvtB,MAwY/C,SAASwtB,KAnXTH,EAAS7tB,UAAU4O,GAAK,SAASa,EAAQiL,EAAU0S,EAAUxS,GAU3D,GARAnL,EAAS,kBAAQA,GAAUA,EAAS,CAAEA,GAElC,qBAAWiL,KACbE,EAAOwS,EACPA,EAAW1S,EACXA,EAxHmB,MA2HhB,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,IAAI0tB,EAAiBb,EAEjBxS,KACFqT,EAAiB,eAAKb,EAAUxS,IAKX,KAAIwS,EAAe,MAAKA,GAG/C,IAAI1hB,EAAOlL,KAEXiP,EAAO+X,SAAQ,SAASvpB,GACtByN,EAAKwiB,aAAajwB,EAAG,CACnByc,SAAUA,EACV0S,SAAUa,EACV1V,KAAM,WAcZsV,EAAS7tB,UAAUmuB,KAAO,SAASne,EAAO0K,EAAU0S,EAAUxS,GAC5D,IAAIlP,EAAOlL,KAQX,GANI,qBAAWka,KACbE,EAAOwS,EACPA,EAAW1S,EACXA,EApKmB,MAuKhB,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,SAAS6tB,IACPA,EAAgBC,UAAW,EAE3B,IAAIhmB,EAAS+kB,EAASrN,MAAMnF,EAAM1W,WAIlC,OAFAwH,EAAK4iB,IAAIte,EAAOoe,GAET/lB,EAMT+lB,EAAsB,KAAIhB,EAE1B5sB,KAAKoO,GAAGoB,EAAO0K,EAAU0T,IAY3BP,EAAS7tB,UAAUsuB,IAAM,SAAS7e,EAAQ2d,GAExC3d,EAAS,kBAAQA,GAAUA,EAAS,CAAEA,GAEtC,IAAI/D,EAAOlL,KAEXiP,EAAO+X,SAAQ,SAASxX,GACtBtE,EAAK6iB,gBAAgBve,EAAOod,OAahCS,EAAS7tB,UAAU+rB,YAAc,SAASjE,GACxC,IAAI9X,EAAQ,IAAIge,EAIhB,OAFAhe,EAAM2W,KAAKmB,GAEJ9X,GAkCT6d,EAAS7tB,UAAUkP,KAAO,SAASjS,EAAM6qB,GACvC,IAAI9X,EACAwe,EACAC,EACA5O,EASJ,GAPAA,EAAOxY,EAAM3F,KAAKwC,WAEE,iBAATjH,IAETA,GADA6qB,EAAO7qB,GACKA,OAGTA,EACH,MAAM,IAAIsD,MAAM,2BAKlB,GAFAiuB,EAAgBhuB,KAAKstB,WAAW7wB,GAEhC,CASE+S,EAHE8X,aAAgBkG,EAGVlG,EAEAtnB,KAAKurB,YAAYjE,GAI3BjI,EAAK,GAAK7P,EAGV,IAAI0e,EAAe1e,EAAM/S,KAGrBA,IAASyxB,IACX1e,EAAM/S,KAAOA,GAGf,IACEwxB,EAAcjuB,KAAKmuB,iBAAiB3e,EAAO6P,EAAM2O,GACjD,QAGIvxB,IAASyxB,IACX1e,EAAM/S,KAAOyxB,GAUjB,YAJoB1vB,IAAhByvB,GAA6Bze,EAAMkR,mBACrCuN,GAAc,GAGTA,IAITZ,EAAS7tB,UAAU4uB,YAAc,SAASpC,GACxC,OAAgD,IAAzChsB,KAAK0O,KAAK,QAAS,CAAEsd,MAAOA,KAIrCqB,EAAS7tB,UAAU+tB,SAAW,WAC5BvtB,KAAKstB,WAAa,IAGpBD,EAAS7tB,UAAU2uB,iBAAmB,SAAS3e,EAAO6P,EAAMgP,GAI1D,IAFA,IAAIJ,EAEGI,IAGD7e,EAAMgc,cAIVyC,EAAcjuB,KAAKsuB,gBAAgB9e,EAAO6P,EAAMgP,GAEhDA,EAAWA,EAAStW,KAGtB,OAAOkW,GAGTZ,EAAS7tB,UAAU8uB,gBAAkB,SAAS9e,EAAO6P,EAAMgP,GAEzD,IAAIJ,EAEJ,GAAII,EAASzB,SAASiB,SACpB,OAAOI,EAGT,SAMsBzvB,KAHpByvB,EAmJJ,SAAwB1mB,EAAI8X,GAC1B,OAAO9X,EAAGgY,MAAM,KAAMF,GApJNkP,CAAeF,EAASzB,SAAUvN,MAI9C7P,EAAMye,YAAcA,EACpBze,EAAM4B,oBAIY,IAAhB6c,GACFze,EAAM4S,iBAER,MAAO4J,GACP,IAAKhsB,KAAKouB,YAAYpC,GAGpB,MAFAa,QAAQb,MAAM,oCAAqCA,GAE7CA,EAIV,OAAOiC,GAmBTZ,EAAS7tB,UAAUkuB,aAAe,SAASle,EAAOgf,GAEhD,IACIC,EADAJ,EAAWruB,KAAK0uB,cAAclf,GAIlC,GAAK6e,EAAL,CAQA,KAAOA,GAAU,CAEf,GAAIA,EAASnU,SAAWsU,EAAYtU,SAUlC,OARAsU,EAAYzW,KAAOsW,OAEfI,EACFA,EAAiB1W,KAAOyW,EAExBxuB,KAAK2uB,cAAcnf,EAAOgf,IAM9BC,EAAmBJ,EACnBA,EAAWA,EAAStW,KAItB0W,EAAiB1W,KAAOyW,OA3BtBxuB,KAAK2uB,cAAcnf,EAAOgf,IA+B9BnB,EAAS7tB,UAAUkvB,cAAgB,SAASzxB,GAC1C,OAAO+C,KAAKstB,WAAWrwB,IAGzBowB,EAAS7tB,UAAUmvB,cAAgB,SAAS1xB,EAAMoxB,GAChDruB,KAAKstB,WAAWrwB,GAAQoxB,GAG1BhB,EAAS7tB,UAAUuuB,gBAAkB,SAASve,EAAOod,GAEnD,IACIgC,EACAH,EACAI,EAHAR,EAAWruB,KAAK0uB,cAAclf,GAKlC,GAAKod,EAQL,KAAOyB,GAELO,EAAeP,EAAStW,MAExB8W,EAAmBR,EAASzB,YAEHA,GAAYiC,EAAuB,OAAMjC,IAC5D6B,EACFA,EAAiB1W,KAAO6W,EAIxB5uB,KAAK2uB,cAAcnf,EAAOof,IAI9BH,EAAmBJ,EACnBA,EAAWO,OAtBX5uB,KAAK2uB,cAAcnf,EAAO,OA+B9Bge,EAAchuB,UAAU4R,gBAAkB,WACxCpR,KAAKwrB,cAAe,GAGtBgC,EAAchuB,UAAU4iB,eAAiB,WACvCpiB,KAAK0gB,kBAAmB,GAG1B8M,EAAchuB,UAAU2mB,KAAO,SAASmB,GACtC,iBAAOtnB,KAAMsnB,GAAQ,K,sBCzdR,SAASimB,EAAgBx/B,EAAU2B,GAChD1P,KAAKiO,UAAYF,EACjB/N,KAAK2f,iBAAmBjQ,EA0M1B,SAAS89B,EAAUC,EAASptC,EAAYqtC,GACtC,IAAI7vC,EAAO6vC,GAAertC,EAAWI,WAIjCgtC,IAAY5vC,GAIhBwC,EAAW4oB,aAAawkB,EAAS5vC,GAhNnC0vC,EAAgBh/B,QAAU,CAAE,WAAa,mBAGzCg/B,EAAgB/tC,UAAUmuC,sBAAwB,SAASnxC,GAEzD,IAEIoxC,EAFAj9B,EAAM3Q,KAAK2f,iBAAiBuC,YAAY1lB,GAiB5C,OAZKA,EAAQ4D,QAGXwtC,EAAc,YAAYj9B,MAExBi9B,EAAc,YAAU,KACxB,YAAWA,GAAahtC,IAAI,gBAE5B,YAAU+P,EAAItQ,WAAYutC,IAP5BA,EAAcj9B,EAWTi9B,GAOTL,EAAgB/tC,UAAU0oC,OAAS,SAASv3B,GAC1C,IAAIk9B,EAAS,YAAUl9B,GAIvB,OAFA,gBAASk9B,GAEFA,GA8BTN,EAAgB/tC,UAAUsuC,iBAAmB,SACzCrxC,EAAMmxC,EAAa7D,EAAapgC,GAElC,IAAIokC,EAAW,YAAU,KACzB,YAAWA,GAAUntC,IAAI,kBAGE,IAAhBmpC,EACTyD,EAAUO,EAAUH,EAAaA,EAAY9uB,WAAWirB,IAExD,YAAU6D,EAAaG,GAGzB,IAAIp9B,EAAM,YAAU,KACpB,YAAWA,GAAK/P,IAAI,eACpB,YAAW+P,GAAK/P,IAAI,OAASnE,GAEzBkN,GACF,YAAWgH,GAAK/P,IAAI,aAGtB,YAAUmtC,EAAUp9B,GAGpB,IAAIk9B,EAAS,YAAU,KAKvB,OAJA,YAAWA,GAAQjtC,IAAI,cAEvB,YAAU+P,EAAKk9B,GAERl9B,GAGT48B,EAAgB/tC,UAAUmD,OAAS,SAASlG,EAAMD,EAASutC,GACzD,IAAI6D,EAAc5tC,KAAK2tC,sBAAsBnxC,EAAQ4D,QACrD,OAAOJ,KAAK8tC,iBAAiBrxC,EAAMmxC,EAAa7D,EAAa,YAAevtC,KAG9E+wC,EAAgB/tC,UAAUwuC,mBAAqB,SAAS9mC,GAEtD,IAEI+mC,EAFA/iC,EAAOlL,KACP0P,EAAkB1P,KAAK2f,iBAG3BsuB,EAAU,iBAAO/mC,GAAU,SAAS4T,EAAKrd,GAMvC,OAJIA,EAAE2C,SACJ0a,EAAIrd,EAAE2C,OAAOuI,IAAMlL,EAAE2C,QAGhB0a,IACN,IAIH,kBAAQmzB,GAAS,SAAS7tC,GAExB,IAAI2H,EAAW3H,EAAO2H,SAEtB,GAAKA,EAAL,CAIA,IAAI6lC,EAAc1iC,EAAKyiC,sBAAsBvtC,GAE7C,kBAAQ2H,EAASlB,QAAQg5B,WAAW,SAASr/B,GAG3CgtC,EAFe99B,EAAgBwS,YAAY1hB,GAExBH,WAAYutC,WAKrCL,EAAgB/tC,UAAU8lC,UAAY,SAASuI,EAAQrxC,GAGrD,OAFewD,KAAKiO,UAEJS,KAAK,eAAgB,CAAEiC,IAAKk9B,EAAQrxC,QAASA,KAG/D+wC,EAAgB/tC,UAAUgmC,aAAe,SAAShpC,GAGhD,OAFewD,KAAKiO,UAEJS,KAAK,sBAAuBlS,IAG9C+wC,EAAgB/tC,UAAU+lC,eAAiB,SAASsI,EAAQrxC,GAG1D,OAFewD,KAAKiO,UAEJS,KAAK,oBAAqB,CAAEiC,IAAKk9B,EAAQrxC,QAASA,KAGpE+wC,EAAgB/tC,UAAUimC,kBAAoB,SAAS7+B,GAGrD,OAFe5G,KAAKiO,UAEJS,KAAK,2BAA4B9H,IAGnD2mC,EAAgB/tC,UAAUysB,OAAS,SAASxvB,EAAMD,EAASmU,GAGzD,GAAKnU,EAAQ4D,OAAb,CAIA,IAAIytC,EAAS7tC,KAAKkoC,OAAOv3B,GAGzB,GAAa,UAATlU,EACFuD,KAAKslC,UAAUuI,EAAQrxC,GAGvB,YAAUmU,EAAKnU,EAAQkI,EAAGlI,EAAQqI,OAEpC,IAAa,eAATpI,EAGF,MAAM,IAAIsD,MAAM,iBAAmBtD,GAFnCuD,KAAKulC,eAAesI,EAAQrxC,GAK1BA,EAAQ8T,OACV,YAAQK,EAAK,UAAW,QAExB,YAAQA,EAAK,UAAW,WAI5B48B,EAAgB/tC,UAAUW,OAAS,SAAS3D,GAC1C,IAAImU,EAAM3Q,KAAK2f,iBAAiBuC,YAAY1lB,GAG5C,YAAUmU,EAAItQ,aC9ND,OACbmQ,YAAa,CAAE,GACfD,SAAU,CAAE,UACZvC,OAAQ,CAAE,OAAQk5B,GAClBx3B,gBAAiB,CAAE,OAAQu9B,GAC3BiB,eAAgB,CAAE,OAAQtT,EAAA,GAC1B7sB,SAAU,CAAE,OAAQsf,GACpB8Z,gBAAiB,CAAE,OAAQoG,ICF7B,SAASY,EAAUC,GAEjB,IAAI1L,EAAU,GACV2L,EAAa,GAEjB,SAASC,EAAUjZ,GACjB,OAAOqN,EAAQtjC,QAAQi2B,IAAM,EAyB/B+Y,EAAiBpnB,SAlBjB,SAASunB,EAAMlZ,GACTiZ,EAAUjZ,MAIbA,EAAE7kB,aAAe,IAAIwW,QAAQunB,GAE1BD,EAAUjZ,MAXhB,SAAmBA,GACjBqN,EAAQ5hC,KAAKu0B,GAcbmZ,CAAUnZ,IAETA,EAAE9kB,UAAY,IAAIyW,SAAQ,SAAS3jB,GAClCgrC,EAAWvtC,KAAKuC,WAMpB,IAAIwkB,EAAW,IAAI4a,EAASC,GAgB5B,OAdA2L,EAAWrnB,SAAQ,SAAS3jB,GAE1B,IAGEwkB,EAAsB,iBAANxkB,EAAiB,MAAQ,UAAUA,GACnD,MAAO5F,GAIP,MAHAovB,QAAQb,MAAM,mCACda,QAAQb,MAAMvuB,EAAEwlC,OAEVxlC,MAIHoqB,EAyEM,SAAS4mB,EAAQ5gC,EAASga,GAGvC7nB,KAAK6nB,SAAWA,EAAWA,GAlE7B,SAAwBha,GAUtB,OAAOsgC,EAFO,CAJK,CACjB,OAAU,CAAC,QAHbtgC,EAAUA,GAAW,KAMS,GAAaqL,OAAOrL,EAAQ60B,SAAW,KA0D9BgM,CAAe7gC,GAYtD7N,KAAK4O,IAAMiZ,EAASjZ,IAUpB5O,KAAK0jC,OAAS7b,EAAS6b,OAwBvB1jC,KAAK4O,IAAI,YAAYF,KAAK,gBAS5B+/B,EAAQjvC,UAAUmvC,QAAU,WAC1B3uC,KAAK4O,IAAI,YAAYF,KAAK,oBAM5B+/B,EAAQjvC,UAAUe,MAAQ,WACxBP,KAAK4O,IAAI,YAAYF,KAAK,kB,+BCtMxBkgC,EAAS,IAAI,IAAK,CACpB3xC,KAAM,gBACNwP,YAAY,GACX,CACDxP,KAAM,KACN6O,cAAc,IAED,SAAS+iC,EAAc1rB,EAAStV,GAG7C,IAAIihC,EAAW,GAiBf,SAASC,EAAUvyC,GACjB,IAEE,OADUA,EAAQi4B,IAjBtB,SAAej4B,GAGb,GAFUA,EAAQmU,IAGhB,MAAM,IAAI5Q,MAAM,oBAAsBvD,EAAQmM,IAIhD,OAAOwa,EAAQ3mB,QAAQA,GASG+xC,CAAM/xC,GAE9B,MAAOiB,GACPuxC,EAASvxC,EAAEwxC,QAAS,CAClBzyC,QAASA,EACTwvB,MAAOvuB,KAkGb,SAASyxC,EAAqBC,GAI9B,IAAoB1a,EACd2a,MADc3a,EAHP0a,GAISE,eAGdD,EAAW3a,GACbua,EAAS,2CAA4C,CACnDxyC,QAAS4yC,KAGXR,EAAOvrB,KAAK+rB,EAAY,MACxBA,EAAW3a,GAAKA,GAGlBua,EAAS,uCAAwC,CAC/CxyC,QAASi4B,IAKf,SAAS6a,EAAM/nC,GACbunC,EAAShuC,KAAKyG,GAShB,SAASynC,EAASC,EAASt/B,GACzBwT,EAAQ6I,MAAMijB,EAASt/B,GAIzB,MAAO,CACL4/B,kBA1HF,SAA2BlqB,EAAamqB,GAEtC,IAAIlqB,EAAQD,EAAYC,MAExB,IAAKA,EACH,MAAM,IAAIvlB,MAAM,kBAGlB,IAlCiBvD,EA2DQ0K,EAzBrBqe,EAAWD,EAAMC,UAAY,GAEjC,GAAIiqB,IAA0C,IAA/BjqB,EAASnmB,QAAQowC,GAC9B,MAAM,IAAIzvC,MAAM,mCAQlB,IALKyvC,GAAWjqB,GAAYA,EAASlmB,SACnCmwC,EAAUjqB,EAAS,KAIhBiqB,EACH,MAAM,IAAIzvC,MAAM,yBAIlBslB,EAAYoP,GAAK+a,EAuDnB,SAAuBA,GACrB,kBAAQA,EAAQC,gBAAiBP,GAtDjCQ,CAAcF,GApDGhzC,EAqDP6oB,EApDHlC,EAAQ5V,KAAK/Q,GA0DK0K,EALPme,EAAYzW,IAAI,cAMlC,kBAAQ1H,GAAU,SAAU1K,GAC1BuyC,EAAUvyC,GAiCd,SAA4BA,GAC1B,kBAAQ,CAAC,yBAA0B,uBAAwB,yBAAyB,SAAUmzC,GAC5F,kBAAQnzC,EAAQmzC,IAAe,SAAUC,GACvCN,GAAM,WACJP,EAAUa,YApCdC,CAAmBrzC,MAIvB,SAAyB0K,GACvB,kBAAQA,GAAU,SAAU1K,GACtB,YAAGA,EAAS,mBAcpB,SAA2BA,GACzB8yC,GAAM,WACJP,EAAUvyC,MAfRszC,CAAkBtzC,GAElBuyC,EAAUvyC,MAhBduzC,CAAgB1qB,EAAYzW,IAAI,aAkFhC,kBAAQkgC,GAAU,SAAUxrC,GAC1BA,S,sBC7JS,SAAS0sC,EAAYjiC,EAAUkiC,EAAS9gC,EAAQ+gC,GAC7DjL,EAAa/jC,KAAKlB,KAAM+N,GACxB,IAAIoiC,EAAU,GAMd,SAAS9kB,EAAO1iB,GAEd,MAAO,QADMwnC,EAAQxnC,GACGA,GAAK,IAG/B,SAASynC,EAAYruC,GACnB,SAASsuC,EAAa1nC,EAAIkF,GACxB,IAAIlP,EAAQ,iBAAO,CACjBqlB,YAAa,EACbssB,cAAe,QACfvK,gBAAiB,QAChBl4B,EAAQlP,OACP4xC,EAAM1iC,EAAQ0iC,KAAO,CACvB7rC,EAAG,EACHG,EAAG,GAEDoM,EAAQpD,EAAQoD,OAAS,EAGC,SAA1BtS,EAAMonC,kBACRpnC,EAAMonC,gBAAkB,CAAC,IAAO,IAGlC,IAAI1a,EAAS,iBAAU,UACvB,eAAQxd,EAAQrR,QAASmC,GACzB,iBAAU0sB,EAAQxd,EAAQrR,SAC1B,eAAQ6uB,EAAQ,CACd1iB,GAAIA,EACJ6nC,QAAS,YACTC,KAAMF,EAAI7rC,EACVgsC,KAAMH,EAAI1rC,EACV8rC,YAAa,GAAK1/B,EAClB2/B,aAAc,GAAK3/B,EACnB4/B,OAAQ,SAEV,IAAIC,EAAO,gBAAS,OAAQ/uC,GAQ5B,OANK+uC,IACHA,EAAO,iBAAU,QACjB,iBAAU/uC,EAAK+uC,IAGjB,iBAAUA,EAAMzlB,GA9CpB,SAAmB1iB,EAAInM,GACrB2zC,EAAQxnC,GAAMnM,EA8CL4S,CAAUzG,EAAI0iB,GAGvB,IAAI0lB,EAAmB,iBAAU,QACjC,eAAQA,EAAkB,CACxBztC,EAAG,0BAEL+sC,EAAa,oBAAqB,CAChC7zC,QAASu0C,EACTpyC,MAAO,CACLknC,KAAM,OACN9hB,OAAQ,QACRC,YAAa,KAEfusB,IAAK,CACH7rC,EAAG,EACHG,EAAG,IAELoM,MAAO,KAET,IAAI+/B,EAAiB,iBAAU,QAC/B,eAAQA,EAAgB,CACtB1tC,EAAG,yBAEL+sC,EAAa,kBAAmB,CAC9B7zC,QAASw0C,EACTryC,MAAO,CACLknC,KAAM,OACN9hB,OAAQ,QACRC,YAAa,KAEfusB,IAAK,CACH7rC,EAAG,GACHG,EAAG,IAELoM,MAAO,KAET,IAAIggC,EAA4B,iBAAU,QAC1C,eAAQA,EAA2B,CACjC3tC,EAAG,2BAEL+sC,EAAa,8BAA+B,CAC1C7zC,QAASy0C,EACTV,IAAK,CACH7rC,EAAG,GACHG,EAAG,IAELoM,MAAO,IAET,IAAIigC,EAA0B,iBAAU,QACxC,eAAQA,EAAyB,CAC/B5tC,EAAG,yBAEL+sC,EAAa,4BAA6B,CACxC7zC,QAAS00C,EACTvyC,MAAO,CACLknC,KAAM,OACN9hB,OAAQ,QACRC,YAAa,GAEfusB,IAAK,CACH7rC,EAAG,GACHG,EAAG,IAELoM,MAAO,KAET,IAAIkgC,EAA0B,iBAAU,UACxC,eAAQA,EAAyB,CAC/B/Z,GAAI,EACJC,GAAI,EACJ3gB,EAAG,IAEL25B,EAAa,4BAA6B,CACxC7zC,QAAS20C,EACTZ,IAAK,CACH7rC,EAAG,EACHG,EAAG,GAELoM,MAAO,KAIX,SAASw1B,EAAaC,EAAQH,EAAQI,GAMpC,OALK,kBAAQJ,KACXI,EAAgBJ,EAChBA,EAAS,IAGJp3B,EAAO9Q,MAAMkoC,GAAU,GAAI,iBAAOI,EAAeD,GAAU,KAGpE,SAAS0K,EAASplC,EAAGlH,EAAOC,EAAQ2R,EAAG+pB,EAAQ9hC,GACzC,mBAAS8hC,KACX9hC,EAAQ8hC,EACRA,EAAS,GAGXA,EAASA,GAAU,EACnB9hC,EAAQ8nC,EAAa9nC,EAAO,CAC1BolB,OAAQ,QACRC,YAAa,EACb6hB,KAAM,UAER,IAAIlgC,EAAO,iBAAU,QAWrB,OAVA,eAAQA,EAAM,CACZjB,EAAG+7B,EACH57B,EAAG47B,EACH37B,MAAOA,EAAiB,EAAT27B,EACf17B,OAAQA,EAAkB,EAAT07B,EACjBnK,GAAI5f,EACJ6f,GAAI7f,IAEN,eAAQ/Q,EAAMhH,GACd,iBAAUqN,EAAGrG,GACNA,EAGT,SAAS0rC,EAAYrlC,EAAG0vB,EAAO7tB,GAC7B,IAAIyjC,EAAOpB,EAAaqB,WAAW7V,GAAS,GAAI7tB,GAGhD,OAFA,eAAQyjC,EAAM,QAAS,aACvB,iBAAUtlC,EAAGslC,GACNA,EAGT,SAASE,EAAoBxlC,EAAGxP,EAASi1C,GAEvC,OAAOJ,EAAYrlC,EADR,YAAQxP,GACS,CAC1BguC,IAAKhuC,EACLi1C,MAAOA,EACP5rC,QAAS,IAIb,SAAS6rC,EAAS1lC,EAAG1I,EAAG3E,GACtBA,EAAQ8nC,EAAa9nC,EAAO,CAAC,WAAY,CACvCqlB,YAAa,EACbD,OAAQ,UAEV,IAAIgV,EAAO,iBAAU,QAMrB,OALA,eAAQA,EAAM,CACZz1B,EAAGA,IAEL,eAAQy1B,EAAMp6B,GACd,iBAAUqN,EAAG+sB,GACNA,EAGT,IAAI1W,EAAW,CACb,eAAgB,SAAqBrW,EAAGxP,EAASmC,GAC/C,IAAIgH,EAAOyrC,EAASplC,EAAGxP,EAAQsI,MAAOtI,EAAQuI,OAAQ,EAAGpG,GAEzD,OADA6yC,EAAoBxlC,EAAGxP,EAAS,iBACzBmJ,GAET,sBAAuB,SAA4BqG,EAAGxP,EAASmC,GAC7D,IAUIgzC,EAAkBD,EAAS1lC,EAVhBikC,EAAQ2B,cAAc,mBAAoB,CACvDC,aAAc,MACdC,aAAc,EACdC,eAAgBv1C,EAAQsI,MACxBktC,gBAAiBx1C,EAAQuI,OACzB6kB,SAAU,CACR8L,GAAI,EACJC,GAAI,QAGoC,CAC1C3R,YAAa,EACb6hB,KAAM,QACN9hB,OAAQ,UAGV,OADAytB,EAAoBxlC,EAAGxP,EAAS,iBACzBm1C,GAET,6BAA8B,SAAmC3lC,EAAGxP,EAASmC,GAC3E,IAUIszC,EAAoBP,EAAS1lC,EAVlBikC,EAAQ2B,cAAc,2BAA4B,CAC/DC,aAAc,EACdC,aAAc,EACdC,eAAgBv1C,EAAQsI,MACxBktC,gBAAiBx1C,EAAQuI,OACzB6kB,SAAU,CACR8L,GAAI,EACJC,GAAI,MAGsC,CAC5C3R,YAAa,EACb6hB,KAAM,QACN9hB,OAAQ,UAGV,OADAytB,EAAoBxlC,EAAGxP,EAAS,iBACzBy1C,GAET,gBAAiB,SAAsBjmC,EAAGxP,EAASmC,GACjD,IAAIgH,EAAOyrC,EAASplC,EAAGxP,EAAQsI,MAAOtI,EAAQuI,OAAQ,GAAIpG,GAE1D,OADA6yC,EAAoBxlC,EAAGxP,EAAS,iBACzBmJ,GAET,qBAAsB,SAA2BqG,EAAGxP,EAASmC,GAC3D,IAIIuzC,EAAcd,EAASplC,EAAGxP,EAAQsI,MAAOtI,EAAQuI,OAAQ,EAAG,EAJpD,CACV,KAAQ,OACR,OAAU,SAoBZ,OAPA2sC,EAAS1lC,EAVUikC,EAAQ2B,cAAc,kBAAmB,CAC1DC,aAAc,EACdC,aAAc,EACdC,eAAgBv1C,EAAQsI,MACxBktC,gBAAiBx1C,EAAQuI,OACzB6kB,SAAU,CACR8L,GAAI,EACJC,GAAI,MAKR0b,EAAYrlC,EADDmmC,GAAY31C,GAAS80C,MAAQ,GACnB,CACnB9G,IAAKhuC,EACLi1C,MAAO,WACP5rC,QAAS,IAEJqsC,GAET,kBAAmB,SAAwBlmC,EAAGxP,EAASmC,GACrD,IAAIyzC,EAAWD,GAAY31C,GAgB3B,OAfAmC,EAAQ,iBAAO,CACbonC,gBAAiB,SACjBuK,cAAe,QACf+B,eAAgB,QAChBxM,KAAM,QACLlnC,GAAS,IAE0B,QAAlCyzC,EAASE,sBAAoE,SAAlCF,EAASE,uBACtD3zC,EAAM4zC,UAAYlnB,EAAO,oBAGW,SAAlC+mB,EAASE,uBACX3zC,EAAM6zC,YAAcnnB,EAAO,sBAGtBonB,EAASzmC,EAAGxP,EAAQoK,UAAWjI,IAExC,6BAA8B,SAAmCqN,EAAGxP,EAASmC,GAO3E,OANAA,EAAQ,iBAAO,CACbqlB,YAAa,EACbssB,cAAe,QACf+B,eAAgB,QAChBE,UAAWlnB,EAAO,gCACjB1sB,GAAS,IACL8zC,EAASzmC,EAAGxP,EAAQoK,UAAWjI,IAExC,2BAA4B,SAAiCqN,EAAGxP,EAASmC,GAQvE,OAPAA,EAAQ,iBAAO,CACbqlB,YAAa,EACb+hB,gBAAiB,EACjBuK,cAAe,QACf+B,eAAgB,QAChBE,UAAWlnB,EAAO,8BACjB1sB,GAAS,IACL8zC,EAASzmC,EAAGxP,EAAQoK,UAAWjI,IAExC,2BAA4B,SAAiCqN,EAAGxP,EAASmC,GAQvE,OAPAA,EAAQ,iBAAO,CACbqlB,YAAa,IACb+hB,gBAAiB,EACjBuK,cAAe,QACf+B,eAAgB,QAChBE,UAAWlnB,EAAO,8BACjB1sB,GAAS,IACL8zC,EAASzmC,EAAGxP,EAAQoK,UAAWjI,KAyB1C,SAAS8zC,EAASzmC,EAAGpF,EAAWjI,GAC9BA,EAAQ8nC,EAAa9nC,EAAO,CAAC,WAAY,CACvColB,OAAQ,QACRC,YAAa,EACb6hB,KAAM,SAER,IAAI7gB,EAAO,YAAWpe,EAAWjI,GAEjC,OADA,iBAAUqN,EAAGgZ,GACNA,EAGThlB,KAAKqlC,UAAY,SAAU7oC,GACzB,OAAO,YAAGA,EAAS,mBAAqB,YAAGA,EAAS,+BAAiC,YAAGA,EAAS,6BAA+B,YAAGA,EAAS,6BAG9IwD,KAAKslC,UApCL,SAAmBllC,EAAQ5D,GACzB,IAAI24B,EAAI9S,EAAS7lB,EAAQC,MAEzB,OAAK04B,EAGIA,EAAE/0B,EAAQ5D,GAFVyoC,EAAazlC,UAAU8lC,UAAU/lB,MAAMvf,KAAM,CAACI,EAAQ5D,KAiCjEwD,KAAKulC,eA3BL,SAAwBnlC,EAAQ5D,GAC9B,IAAIC,EAAOD,EAAQC,KACf04B,EAAI9S,EAAS5lB,GAEjB,OAAK04B,EAGIA,EAAE/0B,EAAQ5D,GAFVyoC,EAAazlC,UAAU+lC,eAAehmB,MAAMvf,KAAM,CAACI,EAAQ5D,KAyBtEuR,EAASK,GAAG,eAAe,SAAUoB,GACnC4gC,EAAY5gC,EAAMzN,QAMtB,SAASowC,GAAY31C,GACnB,OAAOA,EAAQO,eAJjB,IAASizC,EAAa/K,GACtB+K,EAAYzhC,QAAU,CAAC,WAAY,UAAW,SAAU,gBCxWxD,IAEImkC,GAAqB,CACvB5tC,MAAO,IACPC,OAAQ,IA4BV,SAAS4tC,GAAYrB,EAAMsB,GAIzB,IAAIC,EAFJD,EAAS90B,YAAcwzB,EAIvB,IACE,IAAIhoC,EACAwpC,EAAqB,KAATxB,EAqBhB,OAjBAsB,EAAS90B,YAAcg1B,EAAY,QAAUxB,EAM7ChoC,EAAO,CACLxE,OALF+tC,EAAWD,EAAS5pC,WAKFlE,MAAqB,EAAb+tC,EAASnuC,EACjCK,OAAQ8tC,EAAS9tC,QAGf+tC,IAGFxpC,EAAKxE,MAAQ,GAGRwE,EACP,MAAO7L,GACP,MAAO,CAAEqH,MAAO,EAAGC,OAAQ,IAa/B,SAASguC,GAAWC,EAAOC,EAAUL,GAOnC,IALA,IAGIC,EAHAK,EAAeF,EAAMtxC,QACrByxC,EAAUD,IAIL,CAMP,IALAL,EAAWF,GAAYQ,EAASP,IAEvB9tC,MAAQquC,EAAUN,EAAS/tC,MAAQ,EAG5B,MAAZquC,GAA+B,KAAZA,GAAkBN,EAAS/tC,MAAQH,KAAKC,MAAMquC,IAAaE,EAAQ9zC,OAAS,EACjG,OAAO+zC,GAAIJ,EAAOG,EAASD,EAAcL,GAG3CM,EAAUE,GAAYF,EAASN,EAAS/tC,MAAOmuC,IAInD,SAASG,GAAIJ,EAAOG,EAASD,EAAcL,GACzC,GAAIM,EAAQ9zC,OAAS6zC,EAAa7zC,OAAQ,CACxC,IAAIy+B,EAAYoV,EAAarsC,MAAMssC,EAAQ9zC,QAAQgjC,OAEnD2Q,EAAMpV,QAAQE,GAGhB,MAAO,CACLh5B,MAAO+tC,EAAS/tC,MAChBC,OAAQ8tC,EAAS9tC,OACjBusC,KAAM6B,GAoDV,SAASE,GAAYruB,EAAMlgB,EAAOmuC,GAChC,IAAI5zC,EAASsF,KAAKwmB,IAAInG,EAAK3lB,QAAU4zC,EAAWnuC,GAAQ,GAGpDwuC,EAzCN,SAAyBtuB,EAAMuuB,GAE7B,IACIC,EADAtQ,EAAQle,EAAKvjB,MAAM,kBAEnBgyC,EAAiB,GACjBp0C,EAAS,EAGb,GAAI6jC,EAAM7jC,OAAS,EAEjB,KAAQm0C,EAAOtQ,EAAMxhC,SAAU,CAC7B,KAAI8xC,EAAKn0C,OAASA,EAASk0C,GAGpB,CAGQ,MAATC,GA5BK,MA4BWA,GAClBC,EAAe1R,MAGjB,MATA0R,EAAe3yC,KAAK0yC,GACpBn0C,GAAUm0C,EAAKn0C,OAarB,IAAIgf,EAAOo1B,EAAeA,EAAep0C,OAAS,GAOlD,OAJIgf,GAxCW,MAwCHA,IACVo1B,EAAeA,EAAep0C,OAAS,GAAK,KAGvCo0C,EAAexyC,KAAK,IAQPyyC,CAAgB1uB,EAAM3lB,GAQ1C,OANKi0C,IAGHA,EAAgBtuB,EAAKne,MAAM,EAAGlC,KAAKwmB,IAAIxmB,KAAKC,MAAMvF,EAAS,GAAI,KAG1Di0C,EAiCM,SAASK,GAAKxzB,GAE3BngB,KAAKo9B,QAAU,iBAAO,GAAI,CACxBwW,KAAMlB,GACN7sC,QAhNsB,EAiNtBxH,MAAO,GACPozC,MAAO,cACNtxB,GAAU,IAWfwzB,GAAKn0C,UAAU+xC,WAAa,SAASD,EAAMzjC,GACzC,OAAO7N,KAAK6zC,WAAWvC,EAAMzjC,GAASrR,SAWxCm3C,GAAKn0C,UAAUs0C,cAAgB,SAASxC,EAAMzjC,GAC5C,OAAO7N,KAAK6zC,WAAWvC,EAAMzjC,GAASkmC,YAmBxCJ,GAAKn0C,UAAUq0C,WAAa,SAASvC,EAAMzjC,GACzC,IAAI28B,EAAM,iBAAO,GAAIxqC,KAAKo9B,QAAQwW,KAAM/lC,EAAQ28B,KAC5CnsC,EAAQ,iBAAO,GAAI2B,KAAKo9B,QAAQ/+B,MAAOwP,EAAQxP,OAC/CozC,EAzPN,SAAoBA,GAElB,IAAIvO,EAAQuO,EAAMhwC,MAAM,KAExB,MAAO,CACLwE,WAAYi9B,EAAM,IAAM,SACxBl9B,SAAUk9B,EAAM,IAAM,OAmPZ8Q,CAAWnmC,EAAQ4jC,OAASzxC,KAAKo9B,QAAQqU,OACjD5rC,EAhPN,SAAsBA,GAEpB,OAAI,mBAASA,GACJ,iBAAO,CAAEV,IAAK,EAAGG,KAAM,EAAGF,MAAO,EAAGC,OAAQ,GAAKQ,GAEjD,CACLV,IAAKU,EACLP,KAAMO,EACNT,MAAOS,EACPR,OAAQQ,GAuOEouC,MAAiCz1C,IAApBqP,EAAQhI,QAAwBgI,EAAQhI,QAAU7F,KAAKo9B,QAAQv3B,SACtFquC,EAASrmC,EAAQqmC,SAAU,EAE3BC,EAgGN,SAAuB91C,GACrB,GAAI,aAAcA,GAAS,eAAgBA,EACzC,OAAOA,EAAM81C,WAAa/yB,SAAS/iB,EAAM+1C,SAAU,IAlGpCC,CAAch2C,GAI3B20C,EAAQ1B,EAAK7vC,MAAM,gBACnB6yC,EAAW,GAEXrB,EAAWzI,EAAI1lC,MAAQe,EAAQP,KAAOO,EAAQT,MAG9CmvC,EAAa,YAAU,QAC3B,YAAQA,EAAY,CAAE7vC,EAAG,EAAGG,EAAG,IAC/B,YAAQ0vC,EAAYl2C,GAEpB,IAAIm2C,EApGN,WACE,IAAIA,EAAY/xC,SAASgyC,eAAe,cAexC,OAbKD,IACHA,EAAY,YAAU,OAEtB,YAAQA,EAAW,CACjB7rC,GAAI,aACJ7D,MAAO,EACPC,OAAQ,EACR1G,MAAO,wCAGToE,SAASiX,KAAK/b,YAAY62C,IAGrBA,EAoFSE,GAIhB,IAFA,YAAUF,EAAWD,GAEdvB,EAAM3zC,QACXi1C,EAASxzC,KAAKiyC,GAAWC,EAAOC,EAAUsB,IAGrB,WAAnB9C,EAAMzrC,WACRH,EAAQV,IAAMU,EAAQR,OAAS,GAGjC,IAAIsvC,EAAc,iBAAOL,GAAU,SAAS3hB,EAAK3N,EAAMhe,GACrD,OAAO2rB,GAAOwhB,GAAcnvB,EAAKjgB,UAChC,GAAKc,EAAQV,IAAMU,EAAQR,OAE1BuvC,EAAe,iBAAON,GAAU,SAAS3hB,EAAK3N,EAAMhe,GACtD,OAAOge,EAAKlgB,MAAQ6tB,EAAM3N,EAAKlgB,MAAQ6tB,IACtC,GAGC9tB,EAAIgB,EAAQV,IAEO,WAAnBssC,EAAMzrC,WACRnB,IAAM2lC,EAAIzlC,OAAS4vC,GAAe,GAIpC9vC,IAAMsvC,GAAcG,EAAS,GAAGvvC,QAAU,EAG1C,IAAImtC,EAAc,YAAU,QA4C5B,OA1CA,YAAQA,EAAa7zC,GAIrB,kBAAQi2C,GAAU,SAAStvB,GAEzB,IAAItgB,EAIJ,OAFAG,GAAMsvC,GAAcnvB,EAAKjgB,OAEjB0sC,EAAMxrC,YACd,IAAK,OACHvB,EAAImB,EAAQP,KACZ,MAEF,IAAK,QACHZ,GAAMwvC,EAASU,EAAe3B,GAC1BptC,EAAQT,MAAQ4f,EAAKlgB,MACzB,MAEF,QAGEJ,EAAIC,KAAKwmB,MAAO+oB,EAASU,EAAe3B,GACpCjuB,EAAKlgB,OAAS,EAAIe,EAAQP,KAAO,GAGvC,IAAIuvC,EAAQ,YAAU,SACtB,YAAQA,EAAO,CAAEnwC,EAAGA,EAAGG,EAAGA,IAE1BgwC,EAAM/2B,YAAckH,EAAKssB,KAEzB,YAAUY,EAAa2C,MAGzB,YAAUN,GAOH,CACLR,WANe,CACfjvC,MAAO8vC,EACP7vC,OAAQ4vC,GAKRn4C,QAAS01C,ICzWE,SAAS4C,GAAa30B,GACnC,IAAI40B,EAAe,iBAAO,CACxBC,WAAY,oBACZZ,SANoB,GAOpBa,WAAY,SACZd,WAPoB,KAQnBh0B,GAAUA,EAAO40B,cAAgB,IAChCX,EAAWhzB,SAAS2zB,EAAaX,SAAU,IAAM,EACjDc,EAAgB,iBAAO,GAAIH,EAAc,CAC3CX,SAAUA,GACTj0B,GAAUA,EAAO+0B,eAAiB,IACjCC,EAAW,IAAIxB,GAAS,CAC1Bt1C,MAAO02C,IAYT/0C,KAAKo1C,uBAAyB,SAAU3wC,EAAQ6sC,GAC9C,IAAI+D,EAAqBF,EAASrB,cAAcxC,EAAM,CACpD9G,IAAK,CACH1lC,MAAO,GACPC,OAAQ,GACRL,EAAGD,EAAOK,MAAQ,EAAIL,EAAOC,EAC7BG,EAAGJ,EAAOM,OAAS,EAAIN,EAAOI,GAEhCxG,MAAO62C,IAGT,MAAO,CACLxwC,EAAGC,KAAKC,MAAMH,EAAOC,EAAID,EAAOK,MAAQ,EAAIuwC,EAAmBvwC,MAAQ,GACvED,EAAGF,KAAKC,MAAMH,EAAOI,GACrBC,MAAOH,KAAK2wC,KAAKD,EAAmBvwC,OACpCC,OAAQJ,KAAK2wC,KAAKD,EAAmBtwC,UAazC/E,KAAKu1C,wBAA0B,SAAU9wC,EAAQ6sC,GAC/C,IAAI+D,EAAqBF,EAASrB,cAAcxC,EAAM,CACpD9G,IAAK/lC,EACLpG,MAAO02C,EACPtD,MAAO,WACP5rC,QAAS,IAEX,MAAO,CACLnB,EAAGD,EAAOC,EACVG,EAAGJ,EAAOI,EACVC,MAAOL,EAAOK,MACdC,OAAQJ,KAAKwmB,IAhEc,GAgEkBxmB,KAAKC,MAAMywC,EAAmBtwC,WAa/E/E,KAAKuxC,WAAa,SAAUD,EAAMzjC,GAChC,OAAOsnC,EAAS5D,WAAWD,EAAMzjC,GAAW,KAO9C7N,KAAKw1C,gBAAkB,WACrB,OAAOT,GAOT/0C,KAAKy1C,iBAAmB,WACtB,OAAOP,GAGXJ,GAAavmC,QAAU,CAAC,uBC8DxB,IAAImnC,GAAa,gBACbC,GAAmB,2DCjKR,QACbplC,SAAU,CAAC,eACXqlC,YAAa,CAAC,OAAQ5F,GACtBE,aAAc,CAAC,OAAQ4E,IACvB7E,QAAS,CAAC,ODFG,WAsCbjwC,KAAKiwC,QAAU,CACb,iBAAoB,CAClB3sC,EAAG,iIACHwB,MAAO,IACPC,OAAQ,GACR8wC,cAAe,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAC9CC,eAAgB,CAAC,KAAM,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,OAExD,yBAA4B,CAC1BxyC,EAAG,mFACHwB,MAAO,IACPC,OAAQ,GACR8wC,cAAe,CAAC,KAAM,MAAO,KAAM,OACnCC,eAAgB,CAAC,KAAM,KAAM,OAE/B,gBAAmB,CACjBxyC,EAAG,gDACHwB,MAAO,GACPC,OAAQ,GACR8wC,cAAe,CAAC,IAChBC,eAAgB,CAAC,MAIrB91C,KAAK+1C,WAAa,SAAoBC,GACpC,OAAOh2C,KAAKiwC,QAAQ+F,GAAQ1yC,GAqD9BtD,KAAK4xC,cAAgB,SAAuBoE,EAAQC,GAClD,IAGIvgB,EAAIC,EAHJugB,EAAUl2C,KAAKiwC,QAAQ+F,GAKvBC,EAAME,QACRzgB,EAAKugB,EAAME,OAAOzxC,EAClBixB,EAAKsgB,EAAME,OAAOtxC,IAElB6wB,EAAKugB,EAAMlE,eAAiBkE,EAAMrsB,SAAS8L,GAC3CC,EAAKsgB,EAAMjE,gBAAkBiE,EAAMrsB,SAAS+L,IAG9C,IAgDYhrB,EAAKxL,EAhDbi3C,EAAc,GAElB,GAAIH,EAAMrsB,SAAU,CAKlB,IAHA,IAAIysB,EAAcJ,EAAMjE,gBAAkBkE,EAAQnxC,OAASkxC,EAAMnE,aAC7DwE,EAAaL,EAAMlE,eAAiBmE,EAAQpxC,MAAQmxC,EAAMpE,aAErD0E,EAAc,EAAGA,EAAcL,EAAQJ,eAAez2C,OAAQk3C,IACrEH,EAAY,IAAMG,GAAeL,EAAQJ,eAAeS,GAAeF,EAIzE,IAAK,IAAIG,EAAa,EAAGA,EAAaN,EAAQL,cAAcx2C,OAAQm3C,IAClEJ,EAAY,IAAMI,GAAcN,EAAQL,cAAcW,GAAcF,EAUxE,OAyBY3rC,EA9BMurC,EAAQ5yC,EA8BTnE,EA9BY,CAC3Bu2B,GAAIA,EACJC,GAAIA,EACJl4B,EAAG24C,GA4BAh4C,OAAOuM,GAAKzM,QAAQw3C,IAAY,SAAUe,EAAK5jC,GACpD,OAnBJ,SAAkB4jC,EAAK5jC,EAAK1T,GAC1B,IAAIuwB,EAAMvwB,EAaV,OAZA0T,EAAI3U,QAAQy3C,IAAkB,SAAUc,EAAKx5C,EAAMy5C,EAAOC,EAAYC,GACpE35C,EAAOA,GAAQ05C,EAEXjnB,IACEzyB,KAAQyyB,IACVA,EAAMA,EAAIzyB,IAGE,mBAAPyyB,GAAqBknB,IAAWlnB,EAAMA,SAGjDA,GAAc,MAAPA,GAAeA,GAAOvwB,EAAMs3C,EAAM/mB,GAAO,GAMvCmnB,CAASJ,EAAK5jC,EAAK1T,UEvLf,SAAS23C,GAAY/oC,EAAUC,EAAQkgC,EAAgBx+B,GACpE1P,KAAKiO,UAAYF,EACjB/N,KAAKkO,QAAUF,EACfhO,KAAK2f,iBAAmBjQ,EACxB1P,KAAK+2C,gBAAkB7I,EAkGzB,SAAS8I,GAAY5E,EAAUzzC,GAC7B,OAAO,iBAAO,CACZgK,GAAIypC,EAASzpC,GACblM,KAAM21C,EAAS1qB,MACf3qB,eAAgBq1C,GACfzzC,GAmBL,SAASs4C,GAAcC,GACrB,OAAOA,EAAKz1C,MAAM,KAAKsgC,MAzHzB+U,GAAYvoC,QAAU,CAAC,WAAY,SAAU,iBAAkB,mBAE/DuoC,GAAYt3C,UAAU+N,KAAO,SAAU6kC,GACrC,IAAI51C,EAAUwD,KAAK+2C,gBAAgBjc,WAAWkc,GAAY5E,IAI1D,OAFApyC,KAAKkO,QAAQs7B,eAAehtC,GAErBA,GAOTs6C,GAAYt3C,UAAUoB,IAAM,SAAUwxC,GACpC,IAII51C,EAASoK,EAAWiC,EAAQvL,EAAQ65C,EAAmB1yC,EAJvDypC,EAAiBluC,KAAK+2C,gBACtB/oC,EAAShO,KAAKkO,QACdH,EAAW/N,KAAKiO,UAChBwmB,EAAK2d,EAAS3d,GAGlB,GAAIA,EAAG73B,YAAY,kBACjB6H,EAASgwB,EAAGhwB,OACZ0yC,EAAoBH,GAAY5E,EAAU,CACxC1tC,EAAGC,KAAKC,MAAMH,EAAOC,GACrBG,EAAGF,KAAKC,MAAMH,EAAOI,GACrBC,MAAOH,KAAKC,MAAMH,EAAOK,OACzBC,OAAQJ,KAAKC,MAAMH,EAAOM,UAE5BvI,EAAU0xC,EAAelT,YAAYmc,GACrCnpC,EAAOi8B,SAASztC,GAChBuR,EAASW,KAAK,mBAAoB,CAChClS,QAASA,EACTi4B,GAAIA,QAED,KAAIA,EAAG73B,YAAY,iBAoBxB,MAAM,IAAImD,MAAM,0BAA4BqyC,EAASzpC,IAnBrD/B,EAoEJ,SAA0BwwC,GACxB,IAAIxwC,EAAYwwC,EAAKC,SAErB,GAAIzwC,EACF,OAAO,cAAIA,GAAW,SAAUywC,GAC9B,IAAIztB,EAAW,CACbllB,EAAG2yC,EAAS3yC,EACZG,EAAGwyC,EAASxyC,GAEd,OAAO,iBAAO,CACZqhC,SAAUtc,GACTA,MA/EO0tB,CAAiB7iB,GAC7B5rB,EAAS7I,KAAKu3C,WAAWnF,GACzB90C,EAAS0C,KAAKw3C,WAAWpF,GAErBvpC,GAAUvL,IACZ65C,EAAoBH,GAAY5E,EAAU,CACxC9hC,QAAQ,EACRzH,OAAQA,EACRvL,OAAQA,EACRsJ,UAAWA,IAEbpK,EAAU0xC,EAAejT,iBAAiBkc,GAC1CnpC,EAAOk8B,cAAc1tC,GACrBuR,EAASW,KAAK,mBAAoB,CAChClS,QAASA,EACTi4B,GAAIA,KAOV,OAAOj4B,GAGTs6C,GAAYt3C,UAAU+3C,WAAa,SAAUnF,GAC3C,IAAI8E,EAAMO,EAgBV,GAdI,YAAGrF,EAAU,mBACfqF,EAAmBrF,EAASsF,UACnB,YAAGtF,EAAU,8BACtBqF,EAAmBrF,EAASuF,kBAAoBvF,EAASwF,cAChD,YAAGxF,EAAU,4BACtBqF,EAAmBrF,EAASyF,kBACnB,YAAGzF,EAAU,8BACtBqF,EAAmBrF,EAASuF,kBAAoBvF,EAASwF,eAAiBxF,EAAS0F,mBAGjFL,IACFP,EAAOO,EAAiBP,MAGtBA,EACF,OAAOl3C,KAAK+3C,UAAUd,GAAcC,KAIxCJ,GAAYt3C,UAAUg4C,WAAa,SAAUpF,GAC3C,OAAI,YAAGA,EAAU,mBACRA,EAAS4F,WAAah4C,KAAK+3C,UAAUd,GAAc7E,EAAS4F,UAAUd,OAGxEl3C,KAAK+3C,UAAU3F,EAAS6F,QAAQtvC,KAGzCmuC,GAAYt3C,UAAUu4C,UAAY,SAAUpvC,GAC1C,OAAO3I,KAAK2f,iBAAiB/Q,IAAIjG,ICnGpB,ICCA,IACb6H,YAAa,CAAC,GDFD,CACb0nC,YAAa,CAAC,OAAQpB,O,wCEAxB,SAASnkC,GAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,IAAIulC,GAAY,CAAC,CACfp3C,UAAW,0BACXq3C,QAAS,SAAiBx4C,GACxB,IAAI7C,EAAiB6C,EAAG7C,eACxB,OAAO,YAAGA,EAAgB,iBAAmB,YAAGA,EAAes7C,cAAe,uBAE/E,CACDt3C,UAAW,8BACXq3C,QAAS,SAAiBx4C,GACxB,IAAI7C,EAAiB6C,EAAG7C,eACxB,OAAO,YAAGA,EAAgB,iBAAmB,YAAGA,EAAes7C,cAAe,4BAQ9E,GAAyB,WAC3B,SAASC,EAAUzwB,EAAU9Z,EAAU2b,EAAUvJ,GAC/C,IAAI3T,EAAQxM,MA5BhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA8B5GK,CAAgBjM,KAAMs4C,GAEtBt4C,KAAKu4C,UAAY1wB,EACjB7nB,KAAKiO,UAAYF,EACjB/N,KAAK6oB,UAAYa,EACjB1pB,KAAKo9B,QAAUjd,GAAU,CACvBq4B,SAAS,GAEXzqC,EAASK,GAAG,CAAC,gBAAgB,SAAUkH,GAGrC,IAFA,IAAI9Y,EAAU8Y,EAAK9Y,QAEVoC,EAAI,EAAGA,EAAIu5C,GAAU94C,OAAQT,IAAK,CACzC,IAAI65C,EAAeN,GAAUv5C,GACzBw5C,EAAUK,EAAaL,QACvBr3C,EAAY03C,EAAa13C,UACdq3C,GAAWA,EAAQ57C,IAGhCgQ,EAAMksC,WAAWl8C,EAASuE,OA5CpC,IAAsBoL,EAAa4G,EAAYC,EAoI7C,OApIoB7G,EA0DPmsC,GA1DoBvlC,EA0DT,CAAC,CACvBF,IAAK,aACL7U,MAAO,SAAoBxB,EAASuE,GAClC,IAAI8oB,EAAO,iBAAO,kEAAqE3Q,OAAOnY,EAAW,kCAErG43C,EAAY34C,KAAK6oB,UAAUjoB,IAAIpE,EAAS,CAC1CotB,SAAU,CACRzkB,IAAK,EACLG,KAAM,GAERukB,KAAMA,KAIqB,IAAzB7pB,KAAKo9B,QAAQob,UACf,kBAAW3uB,GAAMjpB,IAAI,eACrBZ,KAAK44C,kBAAkBp8C,EAASqtB,EAAM8uB,MASzC,CACD9lC,IAAK,oBACL7U,MAAO,SAA2BxB,EAASmtB,EAAShhB,GAClD,IAAImE,EAAS9M,KAET0pB,EAAW1pB,KAAK6oB,UAChB9a,EAAW/N,KAAKiO,UAChB4qC,EAAenvB,EAASX,aAC5B,WAAY1F,KAAKw1B,EAAc,qBAAuBlwC,EAAK,KAAM,SAAS,YAKjD,IAJFoF,EAASW,KAAK,kBAAmB,CACpDlS,QAASA,KAOXsQ,EAAOgsC,UAAUt8C,QAWpB,CACDqW,IAAK,YACL7U,MAAO,SAAmBxB,GACxB,IAAI4D,EAASJ,KAAKu4C,UAAU3pC,IAAI,WAAW,GAG3C,IAAKxO,EACH,OAAO,EAGT,IAAI24C,EAAO34C,EAAO44C,QAAQx8C,EAAQO,gBAElC,QAAKg8C,IAIL34C,EAAO64C,KAAKF,IACL,QAhIiEpmC,GAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,GAAkBxG,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoIrPysC,EA9GoB,GAkH7B,GAAU/pC,QAAU,CAAC,WAAY,WAAY,WAAY,oBC1I1C,QACbiC,YAAa,CAAC,MACdD,SAAU,CAAC,aACXuoC,UAAW,CAAC,OAAQ,KCIXI,GADW,s4BAGtB,SAASC,GAAIx6C,GACX,OAAOA,EAAMsC,KAAK,KAGpB,IAQIm4C,GAHAC,GAAkB,+CALAF,GAAI,CAAC,gBAAiB,kBAAmB,SAAU,UAAW,WAAY,cAK1E,kCAJAA,GAAI,CAAC,cAAe,eAAgB,mCAIpC,sCAHFA,GAAI,CAAC,qBAAsB,YAAa,WAAY,6BAA8B,eAAgB,gBAAiB,oBAAqB,wCAAyC,4CAA6C,kBAAmB,gBAAiB,qBAGhQ,uHAA8TD,GAA9T,kKCpBtB,IAAII,GAAY,CAAC,oBAAqB,UAEtC,SAASC,GAAQx2C,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS86C,GAAcv8C,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI26C,GAAQz6C,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO6pB,GAAgBp/B,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW0wC,GAAQz6C,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAEjf,SAASo/B,GAAgBv9B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAE3M,SAAS66C,GAAmB96C,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAOkZ,GAAkBlZ,GAR1C+6C,CAAmB/6C,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjFC,CAAiBj7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO0Y,GAAkB1Y,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAOD,GAAkB1Y,EAAGyY,GAJxTI,CAA4BrZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8EwuC,GAUlI,SAAShiC,GAAkBlZ,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAEhL,SAAS2hC,GAAyBxxC,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxMk9C,CAA8B3xC,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAwEpd,SAASq9C,GAAO9sC,GA+O/B,IAAwBoL,EAElB2hC,EAhPJ56C,KAAKyrB,WAAazrB,KAAK8tC,mBA8OD70B,EA3OPjZ,KAAKyrB,WA6OhBmvB,EAAc,iBADD,2iCAEjB3hC,EAAUtb,YAAYi9C,GACtB,QAASv3B,KAAKu3B,EAAa,SAAS,SAAUprC,GDtTzC4pC,KACHA,GAAW,iBAAOC,IAClB,WAAYh2B,KAAK+1B,GAAU,YAAa,SAAS,SAAU5pC,GACzD/M,SAASiX,KAAKpZ,YAAY84C,QAI9B32C,SAASiX,KAAK/b,YAAYy7C,ICiTxB5pC,EAAM4S,oBA9ORpiB,KAAKkpB,MAAMlpB,KAAKyrB,WAAY5d,GC/FvB,SAASgtC,GAAMn2C,GACpB,OAAOC,KAAKm2C,IAAIp2C,GAAKC,KAAKm2C,IAAI,ICMzB,SAASC,GAAYlhC,EAAOmhC,GAEjC,IAAIC,EAAiBJ,GAAMhhC,EAAMqR,KAC7BgwB,EAAiBL,GAAMhhC,EAAMsR,KAIjC,OAF0BxmB,KAAKmS,IAAImkC,GAAkBt2C,KAAKmS,IAAIokC,IAEjCF,EFmF/B,IAASL,GAAQlM,GAkBjBkM,GAAOn7C,UAAU27C,QAAU,aAAqB,SAAUttC,GACxD,IAAI3C,EAAOlL,KACX,OAAO,IAAI0sB,SAAQ,SAAU0uB,GAC3B,IAAIptC,EAAS9C,EAAK0D,IAAI,UAClBysC,EAAcrtC,EAAOu6B,kBACrB+S,EAAW,gBAAS,OAAQttC,EAAO05B,MACnC6T,EAAW,mBAASF,GACpBvK,EAAOwK,GAAYA,EAASE,WAAa,GACzClyC,EAAO+xC,EAAYryC,UAMvBoyC,EAAQ,CACNr5C,IAJQ,8RAA8SuH,EAAKxE,MAAQ,aAAewE,EAAKvE,OAA/U,cAA6WuE,EAAK5E,EAAI,IAAM4E,EAAKzE,EAAI,IAAMyE,EAAKxE,MAAQ,IAAMwE,EAAKvE,OAAS,mBAAqB+rC,EAAOyK,EAAW,iBASjeZ,GAAOn7C,UAAUi8C,WAAa,WAC5B,OAAOz7C,KAAK07C,UAQdf,GAAOn7C,UAAUmvC,QAAU,WAEzBF,EAAQjvC,UAAUmvC,QAAQztC,KAAKlB,MAE/B,iBAAUA,KAAKyrB,aAcjBkvB,GAAOn7C,UAAU4O,GAAK,SAAUoB,EAAO0K,EAAU0S,EAAUtvB,GACzD,OAAO0C,KAAK4O,IAAI,YAAYR,GAAGoB,EAAO0K,EAAU0S,EAAUtvB,IAU5Dq9C,GAAOn7C,UAAUsuB,IAAM,SAAUte,EAAOod,GACtC5sB,KAAK4O,IAAI,YAAYkf,IAAIte,EAAOod,IAGlC+tB,GAAOn7C,UAAU0pB,MAAQ,SAAUjQ,EAAWpL,GAC5C,IAAI8tC,EAAoB9tC,EAAQ8tC,kBAC5B3tC,EAASH,EAAQG,OACjB4tC,EAAoBvB,GAAyBxsC,EAASyrC,IAEtDuC,EAAchuC,EAAQ60B,SAAW1iC,KAAKy7C,aAItC/Y,EAAU,GAAGxpB,OAHG,CAAC,CACnB4iC,IAAK,CAAC,QAAS97C,QAEsBg6C,GAAmB6B,GAAc7B,GAAmB2B,GAAqB,KAE5GI,EAAiBlC,GAAcA,GAAc,GAAI+B,GAAoB,GAAI,CAC3E5tC,OAAQ6rC,GAAcA,GAAc,GAAI7rC,GAAS,GAAI,CACnDiL,UAAWA,IAEbypB,QAASA,IAIX+L,EAAQvtC,KAAKlB,KAAM+7C,GAEfluC,GAAWA,EAAQoL,WACrBjZ,KAAKg8C,SAASnuC,EAAQoL,YAa1B0hC,GAAOn7C,UAAUy8C,MAAQ,SAAUx/C,EAAM+S,GACvC,OAAOxP,KAAK4O,IAAI,YAAYF,KAAKjS,EAAM+S,IAGzCmrC,GAAOn7C,UAAUsuC,iBAAmB,WAClC,OAAO,iBAAO,0CAWhB6M,GAAOn7C,UAAUy5C,KAAO,SAAU5zB,GAChC,IAAIna,EAAOlL,KACX,OAAO,IAAI0sB,SAAQ,SAAU0uB,EAAS7+B,GACpC,IAAItE,EAGJ,IASE,OARI/M,EAAKgxC,cAEPhxC,EAAK3K,QAIP2K,EAAKgxC,aAAe72B,EGzOnB,SAAmBy2B,EAAKz2B,EAAarN,GAC1C,IAEIgU,EAFAmwB,EAAWL,EAAIltC,IAAI,eACnBb,EAAW+tC,EAAIltC,IAAI,YAEnBue,EAAW,GAsBfpf,EAASW,KAAK,eAAgB,CAC5B2W,YAAaA,IAGf,KAxBA,SAAgBA,GAeD,IAAI,EAdH,CACZ9X,KAAM,SAAc/Q,GAClB,OAAO2/C,EAAS5uC,KAAK/Q,IAEvBA,QAAS,SAAiB4/C,EAAU3nB,GAClC,OAAO0nB,EAASv7C,IAAIw7C,EAAU3nB,IAEhCzI,MAAO,SAAeijB,EAASt/B,GAC7Bwd,EAASrsB,KAAK,CACZmuC,QAASA,EACTt/B,QAASA,OAMR4/B,kBAAkBlqB,GAQzBg3B,CAAOh3B,GACP,MAAO5nB,GACPuuB,EAAQvuB,EAGVsQ,EAASW,KAAK,cAAe,CAC3Bsd,MAAOA,EACPmB,SAAUA,IAEZnV,EAAKgU,EAAOmB,GHmMDmvB,CAAUpxC,EAAMma,GAAa,SAAUpN,EAAKkV,GAC7ClV,GACFA,EAAIkV,SAAWA,GAAY,GAC3B5Q,EAAOtE,IAEPmjC,EAAQ,CACNjuB,SAAUA,GAAY,QAI5B,MAAO1vB,GACPwa,EAAMxa,EAGJwa,GACFA,EAAIkV,SAAWlV,EAAIkV,UAAY,GAC/B5Q,EAAOtE,IAEPmjC,EAAQ,CACNjuB,SAAU,SAYlBwtB,GAAOn7C,UAAUw8C,SAAW,SAAU37C,GACpC,IAAKA,EACH,MAAM,IAAIN,MAAM,uBAKlBC,KAAKu8C,SACL,IAAItjC,EAAYjZ,KAAKyrB,WACrBprB,EAAW1C,YAAYsb,GAEvBjZ,KAAKi8C,MAAM,SAAU,IAErBj8C,KAAK4O,IAAI,UAAUm+B,WAOrB4N,GAAOn7C,UAAU+8C,OAAS,WACxB,IAAItjC,EAAYjZ,KAAKyrB,WACjBprB,EAAa4Y,EAAU5Y,WAEtBA,IAILL,KAAKi8C,MAAM,SAAU,IAErB57C,EAAWC,YAAY2Y,KASzB0hC,GAAOn7C,UAAUk8C,SAAW,CAAC,GAAY,KAAiB,KAAiB,KAAgB,KAA4B,II3SvH,IAAIc,GAAO73C,KAAK63C,MAAQ,SAASnkC,GAC/B,OAAOA,GAAK,EAAI,GAAK,GAGnBokC,GAAQ,CAAEvxB,IAAK,GAAKC,IAAK,GAoBd,SAASuxB,GAAWv8B,EAAQpS,EAAUC,GAEnDmS,EAASA,GAAU,GAEnBngB,KAAK28C,UAAW,EAEhB38C,KAAKkO,QAAUF,EACfhO,KAAKyrB,WAAazd,EAAOyd,WAEzBzrB,KAAK48C,aAAe,eAAK58C,KAAK48C,aAAc58C,MAE5CA,KAAK68C,YAAc,EACnB78C,KAAK88C,OAAS38B,EAAOlP,OA3BH,IA6BlB,IAAI/F,EAAOlL,KAEX+N,EAASK,GAAG,eAAe,SAAS3Q,GAClCyN,EAAKge,OAAyB,IAAnB/I,EAAOq4B,YAItBkE,GAAWnuC,QAAU,CACnB,oBACA,WACA,UAGFmuC,GAAWl9C,UAAUsrC,OAAS,SAAgBxzB,GAC5CtX,KAAKkO,QAAQ48B,OAAOxzB,IAItBolC,GAAWl9C,UAAUwc,MAAQ,WAC3Bhc,KAAKkO,QAAQu9B,KAAK,iBASpBiR,GAAWl9C,UAAUisC,KAAO,SAAcn0B,EAAOsS,GAG/C,IAAImzB,EAAWhC,GAAY0B,GAAOO,IAGlCh9C,KAAK68C,aAAevlC,EAEhB3S,KAAKmS,IAAI9W,KAAK68C,aAnEE,KAoElB78C,KAAKi9C,MAAM3lC,EAAOsS,EAAUmzB,GAG5B/8C,KAAK68C,YAAc,IAKvBH,GAAWl9C,UAAUo9C,aAAe,SAAqBptC,GAGvD,IAAI,kBAAWA,EAAMlS,OAAQ,mBAAmB,GAAhD,CAIA,IAAId,EAAUwD,KAAKyrB,WAEnBjc,EAAM4S,iBAKN,IAKI9K,EALA4lC,EAAS1tC,EAAM8C,QAEf6qC,EAAqB3tC,EAAMgD,SAE3B4qC,GAAU,EAAIp9C,KAAK88C,OASvB,GALEM,GADEF,EAC4B,IAApB1tC,EAAM6tC,UAAkB,IAAQ,IAEZ,IAApB7tC,EAAM6tC,UAAkB,EAAM,GAGtCH,EAAQ,CACV,IAAII,EAAc9gD,EAAQ+gD,wBAEtB9c,EAAS,CACX/7B,EAAG8K,EAAMoC,QAAU0rC,EAAYh4C,KAC/BT,EAAG2K,EAAMqC,QAAUyrC,EAAYn4C,KAGjCmS,EACE3S,KAAK2R,KACH3R,KAAK4R,IAAI/G,EAAMguC,OAAQ,GACvB74C,KAAK4R,IAAI/G,EAAMiuC,OAAQ,IACrBjB,GAAKhtC,EAAMguC,QAAUJ,EAI3Bp9C,KAAKyrC,KAAKn0B,EAAOmpB,QAIfnpB,EADE6lC,EACM,CACNnS,GAAIoS,EAAS5tC,EAAMguC,OACnBvS,GAAI,GAGE,CACND,GAAIoS,EAAS5tC,EAAMiuC,OACnBxS,GAAImS,EAAS5tC,EAAMguC,QAIvBx9C,KAAK8qC,OAAOxzB,KAUhBolC,GAAWl9C,UAAUk+C,SAAW,SAAkBpmC,EAAOsS,GAEvD,IAAImzB,EAAWhC,GAAY0B,GApJb,IAsJdz8C,KAAKi9C,MAAM3lC,EAAOsS,EAAUmzB,IAW9BL,GAAWl9C,UAAUy9C,MAAQ,SAAS3lC,EAAOsS,EAAUmzB,GACrD,IAAI/uC,EAAShO,KAAKkO,QAEd6S,EAAYzJ,EAAQ,EAAI,GAAK,EAE7BqmC,EAAyB9C,GAAM7sC,EAAOy9B,QAGtCmS,EAAqBj5C,KAAKC,MAAM+4C,EAAyBZ,GAAYA,EAGzEa,GAAsBb,EAAWh8B,EAIjC,IFlLkBlH,EAAO5I,EEkLrB4sC,EAAkBl5C,KAAK4R,IAAI,GAAIqnC,GAEnC5vC,EAAOy9B,MFpLW5xB,EEoLF4iC,GFpLSxrC,EEoLF4sC,EFnLhBl5C,KAAKwmB,IAAItR,EAAMqR,IAAKvmB,KAAKumB,IAAIrR,EAAMsR,IAAKla,KEmLN2Y,IAS3C8yB,GAAWl9C,UAAU8B,OAAS,SAAgBw8C,GAE5C,IAAIthD,EAAUwD,KAAKyrB,WACfsyB,EAAc/9C,KAAK48C,aAEnBoB,EAAah+C,KAAK28C,SAgBtB,YAd0B,IAAfmB,IACTA,GAAcE,GAIZA,IAAeF,GAIjB,QAASA,EAAa,OAAS,UAAUthD,EAAS,QAASuhD,GAAa,GAG1E/9C,KAAK28C,SAAWmB,EAETA,GAITpB,GAAWl9C,UAAU0pB,MAAQ,SAAS40B,GACpC99C,KAAKsB,OAAOw8C,IC1OC,QACbvtC,SAAU,CAAE,cACZ0tC,WAAY,CAAE,OAAQvB,K,wCC4BT,SAASwB,GAAWnwC,EAAUC,GAE3C,IAAI2B,EAWJ,SAASwuC,EAAW3uC,GAElB,IAqFYvK,EArFR8U,EAAQpK,EAAQoK,MAChBhI,EAASpC,EAAQoC,OACjB6X,EAAW,aAAQpa,GACnB8H,EAAQ,aAASsS,EAAU7P,GAY/B,IAVKpK,EAAQyuC,WAgFDn5C,EAhFoBqS,EAiF3B3S,KAAK2R,KAAK3R,KAAK4R,IAAItR,EAAMP,EAAG,GAAKC,KAAK4R,IAAItR,EAAMJ,EAAG,IA9G5C,MA8BV8K,EAAQyuC,UAAW,EAEJ,IAAXrsC,GACF,aAAiBhE,GAGnB,aAAU,SAGR4B,EAAQyuC,SAAU,CAEpB,IAAIC,EAAe1uC,EAAQ0O,MAAQ1O,EAAQoK,MAE3CzC,EAAQ,aAASsS,EAAUy0B,GAE3BrwC,EAAO88B,OAAO,CACZE,GAAI1zB,EAAM5S,EACVumC,GAAI3zB,EAAMzS,IAGZ8K,EAAQ0O,KAAOuL,EAIjBpa,EAAM4S,iBAIR,SAASk8B,EAAU9uC,GACjB,QAAS+T,OAAO9gB,SAAU,YAAa07C,GACvC,QAAS56B,OAAO9gB,SAAU,UAAW67C,GAErC3uC,EAAU,KAEV,eA/CF5B,EAASK,GAAG,oBAAqB,KAAK,SAAS3Q,GAC7C,OAiDF,SAAqB+R,GAGnB,GAAI,kBAAWA,EAAMlS,OAAQ,kBAC3B,OAGF,IAAIyU,EAASvC,EAAMuC,OAGnB,GAAIA,GAAU,GAAKvC,EAAM8C,SAAW9C,EAAMgD,UAAYhD,EAAMgtB,OAC1D,OAYF,OATA7sB,EAAU,CACRoC,OAAQA,EACRgI,MAAO,aAAQvK,IAGjB,QAAS6T,KAAK5gB,SAAU,YAAa07C,GACrC,QAAS96B,KAAK5gB,SAAU,UAAW67C,IAG5B,EAxEAC,CAAY9gD,EAAE6T,kBA2EvBtR,KAAKw+C,SAAW,WACd,QAAS7uC,GAMbuuC,GAAW3vC,QAAU,CACnB,WACA,UC3Ha,QACbgC,SAAU,CAAE,cACZkuC,WAAY,CAAE,OAAQP,K,+BCcpBQ,GAAc,CAChB,YACA,UACA,YACA,WACA,QACA,YAQF,SAAS9vC,GAAI+vC,EAAS92B,GACpB,OAAOA,EAASjZ,IAAI+vC,GAAS,GAG/B,SAASC,GAAUpvC,GAEjBA,EAAM4S,iBAE+B,mBAA1B5S,EAAM4B,gBACf5B,EAAM4B,kBACG5B,EAAM+B,UAAsD,mBAAnC/B,EAAM+B,SAASH,iBAGjD5B,EAAM+B,SAASH,kBAG6B,mBAAnC5B,EAAMqvC,0BACfrvC,EAAMqvC,2BAKV,SAASC,GAAsBjhD,GAS7B,SAASkhD,EAAWvvC,GAClBygB,YAAW,WACT,kBAAQyuB,IAAa,SAASjhD,GAC5B,QAAS8lB,OAAO1lB,EAAMJ,EAAGmhD,IAAW,QAErC,KAGL,QAASv7B,KAAKxlB,EAAM,cAfpB,SAAmB2R,GAEjB,kBAAQkvC,IAAa,SAASjhD,GAC5B,QAAS4lB,KAAKxlB,EAAMJ,EAAGmhD,IAAW,SAYO,GAC7C,QAASv7B,KAAKxlB,EAAM,WAAYkhD,GAAY,GAC5C,QAAS17B,KAAKxlB,EAAM,cAAekhD,GAAY,GAM/C,IAAIC,EAAa,IAAI,KAAOC,QAAQphD,EAAM,CACxCqhD,WAAY,KAAOC,WACnBC,YAAa,GACbC,WAAW,IAITC,EAAM,IAAI,KAAOC,IACjBC,EAAM,IAAI,KAAOC,IAAI,CAAEC,UAAW,KAClCC,EAAQ,IAAI,KAAOC,MACnBC,EAAQ,IAAI,KAAOC,MAEnBC,EAAY,IAAI,KAAOR,IAAI,CAAE/vC,MAAO,YAAawwC,KAAM,IAsC3D,OApCAH,EAAMI,eAAeT,GACrBK,EAAMI,eAAeN,GAErBX,EAAWp+C,IAAI,CAAE4+C,EAAKG,EAAOE,EAAOE,EAAWT,IAE/CN,EAAWhjC,MAAQ,SAASza,GAC1B,IAAI69C,EAAcp/C,KAAKo/C,YACnBc,EAAUlgD,KAAKkgD,QAEfA,EAAQC,UAMZnB,EAAWoB,KAAK7+C,GAEhB0uB,YAAW,WACT,IAAIrxB,EAAG8X,EAGP,IAAK9X,EAAI,EAAI8X,EAAI0oC,EAAYxgD,GAAKA,IAChC8X,EAAEsF,QACFtF,EAAE2pC,MAAQ,EAGZH,EAAQI,cAAgB,OACvB,KAGLtB,EAAW5wC,GAAG,gBAAgB,SAASoB,GACjCA,EAAM+B,SAASmP,kBACjBs+B,EAAWhjC,OAAM,MAIdgjC,EASM,SAASuB,GACpB14B,EAAU7Z,EAAQD,EAClB2B,EAAiBkV,GAGnB,IAMIo6B,EANAZ,EAAWxvC,GAAI,WAAYiZ,GAC3B24B,EAAO5xC,GAAI,OAAQiZ,GACnB44B,EAAa7xC,GAAI,aAAciZ,GAC/B64B,EAAU9xC,GAAI,UAAWiZ,GAK7B,SAAS1E,EAAQ1mB,EAAMkkD,GAErB,OAAO,SAASnxC,GAGd,IAAImB,EAAMiwC,EAAOpxC,EAAMlS,QACnBd,EAAUmU,GAAOjB,EAAgBd,IAAI+B,GAOzC,OAJIgwC,IACFnxC,EAAM+B,SAASQ,OAAS4uC,GAGnB/7B,EAAkBlW,KAAKjS,EAAM+S,EAAOhT,IAK/C,SAASokD,EAAOtjD,GAEd,OADW,kBAAWA,EAAQ,qBAAqB,GAIrD,SAASujD,EAAW9+C,GAmClB,SAAS++C,EAAUtxC,GAEjB,IAAImB,EAAMiwC,EAAOpxC,EAAMlS,QACnBd,EAAUmU,GAAOjB,EAAgBd,IAAI+B,GAGzC,GAAI6vC,GAAQxyC,EAAOoC,mBAAqB5T,EAEtC,OAAOgkD,EAAKzmC,MAAMvK,EAAOhT,GAAS,IAtCtC,SAAyBgT,GAIvB,IAAIuxC,EAAK,EAAGC,EAAK,EAEjB,SAAS/0B,EAAOxuB,GAEd,IAAIutC,EAAKvtC,EAAEggD,OAASsD,EAChB9V,EAAKxtC,EAAE+/C,OAASwD,EAEpBhzC,EAAO88B,OAAO,CAAEE,GAAIA,EAAIC,GAAIA,IAE5B8V,EAAKtjD,EAAEggD,OACPuD,EAAKvjD,EAAE+/C,OAGT,SAAS1jC,EAAIrc,GACXuhD,EAAWlxB,IAAI,UAAW7B,GAC1B+yB,EAAWlxB,IAAI,SAAUhU,GACzBklC,EAAWlxB,IAAI,YAAahU,GAK9BklC,EAAW5wC,GAAG,UAAW6d,GACzB+yB,EAAW5wC,GAAG,SAAU0L,GACxBklC,EAAW5wC,GAAG,YAAa0L,GAazBmnC,IA1CJjC,EAAaF,GAAsB/8C,IA8ExBqM,GAAG,MAAO+U,EAAQ,kBAC7B67B,EAAW5wC,GAAG,YAAa+U,EAAQ,mBAAoB,IAEvD67B,EAAW5wC,GAAG,WAAY0yC,GAC1B9B,EAAW5wC,GAAG,QAAS0yC,GAEvB9B,EAAW5wC,GAAG,cAtCd,SAAmB3Q,GAIjB,IAAIguC,EAAOz9B,EAAOy9B,OACdyV,EAAMzjD,EAAE4Z,OAEZ,SAAS4U,EAAOxuB,GAEd,IAAI0jD,EAAQ,GAAK,EAAI1jD,EAAEwT,OAAS,IAC5BmwC,EAAUz8C,KAAKwmB,IA1NZ,GA0N0BxmB,KAAKumB,IAzN/B,EAyN6Ci2B,EAAQ1V,IAE5Dz9B,EAAOy9B,KAAK2V,EAASF,GAErBtC,GAAUnhD,GAGZ,SAASqc,EAAIrc,GACXuhD,EAAWlxB,IAAI,YAAa7B,GAC5B+yB,EAAWlxB,IAAI,WAAYhU,GAC3BklC,EAAWlxB,IAAI,cAAehU,GAE9BklC,EAAWhjC,OAAM,GAKnBgjC,EAAW5wC,GAAG,YAAa6d,GAC3B+yB,EAAW5wC,GAAG,WAAY0L,GAC1BklC,EAAW5wC,GAAG,cAAe0L,MAY7BskC,GAGFrwC,EAASK,GAAG,aAAa,SAASoB,GAEhC,IAAI8B,EAAgB9B,EAAM8B,cAE1B,GAAKA,KAAiBA,aAAyB+vC,YAA/C,CAIA,IAAIz3B,EAAW,aAAQtY,GAInBX,EAAMiwC,EADCn+C,SAAS6+C,iBAAiB13B,EAASllB,EAAGklB,EAAS/kB,IAEtDrI,EAAUmU,GAAOjB,EAAgBd,IAAI+B,GAErCnU,IAAYgT,EAAMQ,QAChBR,EAAMQ,OACRouC,EAASmD,IAAI/xC,GAGXhT,IACF4hD,EAASpuC,MAAM,CAAExT,QAASA,EAASmU,IAAKA,IAExCnB,EAAMQ,MAAQxT,EACdgT,EAAMgyC,SAAW7wC,QAMrB8vC,GAEF1yC,EAASK,GAAG,qBAAqB,SAASoB,GACxC,IAGIiyC,EAAgB3C,GAHTtvC,EAAMkyC,IAAI73B,MAKrB43B,EAAcrzC,GAAG,YAAY,SAASoB,GAEpCixC,EAAWjjB,QAAQ,YAAahuB,GAAO,MAGzCiyC,EAAcrzC,GAAG,SAAS,SAASoB,GAEjCixC,EAAWjjB,QAAQ,YAAahuB,GAAO,MAGzCiyC,EAAcrzC,GAAG,OAAO,SAASoB,GAE/BixC,EAAWjjB,QAAQ,QAAShuB,SAK9BkxC,GACF3yC,EAASK,GAAG,kBAAkB,SAASoB,GACrC,IAGIiyC,EAAgB3C,GAHTtvC,EAAMyJ,WAKjBwoC,EAAcrzC,GAAG,YAAY,SAASoB,GAEpCkxC,EAAQljB,QAAQ,YAAahuB,GAAO,MAGtCiyC,EAAcrzC,GAAG,SAAS,SAASoB,GAEjCkxC,EAAQljB,QAAQ,YAAahuB,GAAO,MAGtCiyC,EAAcrzC,GAAG,OAAO,SAASoB,GAE/BkxC,EAAQljB,QAAQ,QAAShuB,SAK/BzB,EAASK,GAAG,eAAe,SAASoB,GAClCqxC,EAAWrxC,EAAMzN,QCpVN,SAAS4/C,GAAS3zC,EAAQD,GAEvC,IAAI7C,EAAOlL,KAEX+N,EAASK,GAAG,eAAe,SAAS3Q,GAClCyN,EAAK02C,cAAcnkD,EAAEsE,QDoVzBw+C,GAAuBhyC,QAAU,CAC/B,WACA,SACA,WACA,kBACA,oBACA,YCtVFozC,GAASpzC,QAAU,CAAE,SAAU,YAU/BozC,GAASniD,UAAUoiD,cAAgB,SAAS7/C,GAE1C,IAAI8/C,EAAc,CAChBhc,KAAM,OACNic,MAAO,sBAGLC,EAAQ,YAAU,QACtB,YAAQA,EAAO,CACbr9C,GAAI,IACJG,EAAG,IACHC,MAAO,GACPC,OAAQ,KAEV,YAAQg9C,EAAOF,GAEf,YAAU9/C,EAAKggD,GAEf,IAAIC,EAAQ,YAAU,QACtB,YAAQA,EAAO,CACbt9C,EAAG,IACHG,EAAG,IACHC,MAAO,GACPC,OAAQ,KAEV,YAAQi9C,EAAOH,GAEf,YAAU9/C,EAAKigD,IChDF,ICHA,IACbxxC,YAAa,CDEA,CACbA,YAAa,CAAE,MACfD,SAAU,CAAE,0BACZ0xC,uBAAwB,CAAE,OAAQ1B,IAClC2B,SAAU,CAAE,OAAQP,OEDP,SAASQ,GAAgBt0C,GACtC8sC,GAAOz5C,KAAKlB,KAAM6N,GATpB,mCAWA,IAASs0C,GAAiBxH,IAI1BwH,GAAgB3iD,UAAU4iD,mBAAqB,CAAC,GAAY,GAAY,IACxED,GAAgB3iD,UAAUk8C,SAAW,GAAGxiC,OAAOipC,GAAgB3iD,UAAUk8C,SAAUyG,GAAgB3iD,UAAU4iD,qB,qDCX7G,SAASh2C,KAgBT,SAASi2C,EAAQC,EAAOC,GACtBviD,KAAKsiD,MAAQA,EACbtiD,KAAKuiD,WAAaA,EAhBpBn2C,EAAK5M,UAAUoP,IAAM,SAAS3R,GAC5B,OAAO+C,KAAKuK,OAAOg4C,WAAW3zC,IAAI5O,KAAM/C,IAG1CmP,EAAK5M,UAAUg8B,IAAM,SAASv+B,EAAMe,GAClCgC,KAAKuK,OAAOg4C,WAAW/mB,IAAIx7B,KAAM/C,EAAMe,IAezCqkD,EAAQ7iD,UAAUgjD,WAAa,SAAS5vC,GAEtC,IAAI0vC,EAAQtiD,KAAKsiD,MAEbt/C,EAAQhD,KAAKuiD,WACb/iD,EAAYV,OAAO6D,OAAOyJ,EAAK5M,WAGnC,kBAAQoT,EAAW2vC,YAAY,SAASv2C,GACjCA,EAAEy2C,aAAwBjkD,IAAdwN,EAAE02C,UACjBljD,EAAUwM,EAAE/O,MAAQ+O,EAAE02C,YAI1B1/C,EAAM2/C,YAAYnjD,EAAW8iD,GAC7Bt/C,EAAM4/C,iBAAiBpjD,EAAWoT,GAElC,IAAI3V,EAAO2V,EAAWhR,GAAG3E,KAKzB,SAAS4lD,EAAclkD,GACrBqE,EAAM8/C,OAAO9iD,KAAM,QAAS,CAAEhC,MAAOf,EAAMwP,YAAY,IACvDzJ,EAAM8/C,OAAO9iD,KAAM,SAAU,CAAEhC,MAAO,KACtCgF,EAAM8/C,OAAO9iD,KAAM,UAAW,CAAE6L,UAAU,IAE1C,kBAAQlN,EAAO,gBAAK,SAASiY,EAAK/D,GAChC7S,KAAKw7B,IAAI3oB,EAAK+D,KACb5W,OAWL,OARA6iD,EAAcrjD,UAAYA,EAE1BqjD,EAAcE,QAAUvjD,EAAU5C,YAAcoD,KAAKsiD,MAAMS,QAG3D//C,EAAM2/C,YAAYE,EAAeP,GACjCt/C,EAAM4/C,iBAAiBC,EAAejwC,GAE/BiwC,GAMT,IAAIG,EAAW,CACb5kD,QAAQ,EACRuoB,SAAS,EACTs8B,SAAS,EACTC,MAAM,EACNC,SAAS,GAMPC,EAAkB,CACpBhlD,OAAQ,SAASqJ,GAAK,OAAOA,GAC7Bkf,QAAS,SAASlf,GAAK,MAAa,SAANA,GAC9Bw7C,QAAS,SAASx7C,GAAK,OAAO2Z,SAAS3Z,EAAG,KAC1Cy7C,KAAM,SAASz7C,GAAK,OAAOunB,WAAWvnB,KAMxC,SAAS47C,EAAW5mD,EAAMuB,GAExB,IAAIslD,EAAYF,EAAgB3mD,GAEhC,OAAI6mD,EACKA,EAAUtlD,GAEVA,EAOX,SAASulD,EAAU9mD,GACjB,QAASumD,EAASvmD,GAMpB,SAAS+mD,EAAS/mD,GAChB,QAAS2mD,EAAgB3mD,GAY3B,SAASgnD,EAAUxmD,EAAMymD,GACvB,IACIC,EAAWv7B,EADX8a,EAAQjmC,EAAKwE,MAAM,KAIvB,GAAqB,IAAjByhC,EAAM7jC,OACRskD,EAAY1mD,EACZmrB,EAASs7B,MAGX,IAAqB,IAAjBxgB,EAAM7jC,OAIR,MAAM,IAAIU,MAAM,mDAAqD9C,GAHrE0mD,EAAYzgB,EAAM,GAClB9a,EAAS8a,EAAM,GAOjB,MAAO,CACLjmC,KAHFA,GAAQmrB,EAASA,EAAS,IAAM,IAAMu7B,EAIpCv7B,OAAQA,EACRu7B,UAAWA,GAOf,SAASC,EAAkBC,GACzB7jD,KAAK4B,GAAKiiD,EACV7jD,KAAK/C,KAAO4mD,EAAO5mD,KACnB+C,KAAK8jD,SAAW,GAChB9jD,KAAK+jD,eAAiB,GACtB/jD,KAAKuiD,WAAa,GAClBviD,KAAKgkD,iBAAmB,GA2N1B,SAASC,EAASC,EAAU3B,GAC1BviD,KAAKmkD,WAAa,GAClBnkD,KAAKokD,QAAU,GAEfpkD,KAAKkkD,SAAW,GAEhBlkD,KAAKuiD,WAAaA,EAElB,kBAAQ2B,EAAU,eAAKlkD,KAAKqkD,gBAAiBrkD,OA6K/C,SAASskD,EAAgBH,EAAYI,EAAKC,GAExC,IAAIxmD,EAAQumD,EAAIC,GAEhB,GAAIxmD,KAASmmD,EACX,MAAM,IAAIpkD,MAAM,gBAAkBykD,EAAgB,KAAOxmD,EAAQ,qBASrE,SAASymD,EAAWnC,GAClBtiD,KAAKsiD,MAAQA,EAiHf,SAASj2C,EAAe/O,EAAQkyB,EAAUxxB,GACxCc,OAAOuN,eAAe/O,EAAQkyB,EAASvyB,KAAM,CAC3CwP,YAAa+iB,EAASk1B,YACtB74C,UAAU,EACV7N,MAAOA,EACP8N,cAAc,IA2BlB,SAAS64C,EAAOT,GAEdlkD,KAAKuiD,WAAa,IAAIkC,EAAWzkD,MAEjCA,KAAKwiC,QAAU,IAAI6f,EAAQriD,KAAMA,KAAKuiD,YACtCviD,KAAK4kD,SAAW,IAAIX,EAASC,EAAUlkD,KAAKuiD,YAE5CviD,KAAK6kD,UAAY,GAnjBnBjB,EAAkBpkD,UAAUslD,MAAQ,WAClC,OAAO,eAAK9kD,KAAM,CAChB,KACA,OACA,WACA,iBACA,aACA,mBACA,eACA,gBAWJ4jD,EAAkBpkD,UAAUulD,YAAc,SAAS/4C,EAAGhF,EAAKg+C,GAEtC,kBAARh+C,IACTg+C,EAAWh+C,EACXA,OAAMxI,GAGRwB,KAAKilD,iBAAiBj5C,GAAgB,IAAbg5C,GAEzB,IAAIzC,EAAaviD,KAAKuiD,gBAEV/jD,IAARwI,EACFu7C,EAAWnhD,OAAO4F,EAAK,EAAGgF,GAE1Bu2C,EAAWzhD,KAAKkL,IAKpB43C,EAAkBpkD,UAAU0lD,gBAAkB,SAASC,EAAaC,EAAalnD,GAC/E,IAAImnD,EAAYF,EAAYvjD,GAExBoB,EAAQhD,KAAKuiD,WACbyB,EAAmBhkD,KAAKgkD,iBACxBsB,EAASH,EAAYloD,OAASmoD,EAAYnoD,KAE9C,GAAIkoD,EAAYI,KAAM,CACpB,IAAKH,EAAYG,KACf,MAAM,IAAIxlD,MACR,aAAeqlD,EAAYxjD,GAAG3E,KAA9B,oCACgBkoD,EAAYvjD,GAAG3E,KAAO,KAG1C+C,KAAKwlD,cAAcJ,GAAa,GAGlC,GAAID,EAAYM,OAAQ,CAEtB,IAAKL,EAAYK,OACf,MAAM,IAAI1lD,MACR,aAAeqlD,EAAYxjD,GAAG3E,KAA9B,sCACgBkoD,EAAYvjD,GAAG3E,KAAO,KAI1C+C,KAAK0lD,gBAAgBN,GAAa,GAIpC,IAAIp+C,EAAMhE,EAAM5D,QAAQ+lD,GACxB,IAAa,IAATn+C,EACF,MAAM,IAAIjH,MAAM,aAAeslD,EAAUpoD,KAAO,gCAIlD+F,EAAM5B,OAAO4F,EAAK,GAOlBhH,KAAK+kD,YAAYK,EAAalnD,OAAUM,EAAYwI,EAAKs+C,GAGzDtB,EAAiBqB,EAAUpoD,MAAQ+mD,EAAiBqB,EAAU1B,WAAayB,GAI7ExB,EAAkBpkD,UAAUmmD,iBAAmB,SAAS35C,EAAG45C,EAAoB1nD,GAE7E,IAAI2nD,EAAW75C,EAAEpK,GAAGwmB,OAChB8a,EAAQ0iB,EAAmBnkD,MAAM,KAEjCxE,EAAOwmD,EAAUvgB,EAAM,GAAI2iB,GAC3BC,EAAWrC,EAAUvgB,EAAM,GAAIjmC,EAAKmrB,QAAQnrB,KAE5C8oD,EAAoB/lD,KAAKgkD,iBAAiB8B,GAC9C,IAAKC,EACH,MAAM,IAAIhmD,MAAM,qBAAuB+lD,EAAW,eAElD9lD,KAAKklD,gBAAgBa,EAAmB/5C,EAAG9N,UAGtC8N,EAAEg6C,WAGXpC,EAAkBpkD,UAAUylD,iBAAmB,SAASj5C,EAAGg5C,GACzD,IAAIpjD,EAAKoK,EAAEpK,GACPqkD,EAAcjmD,KAAKgkD,iBAEnBgB,IACFhlD,KAAKkmD,iBAAiBl6C,EAAGpK,EAAG3E,MAC5B+C,KAAKkmD,iBAAiBl6C,EAAGpK,EAAG+hD,YAG9BsC,EAAYrkD,EAAG3E,MAAQgpD,EAAYrkD,EAAG+hD,WAAa33C,GAGrD43C,EAAkBpkD,UAAU2mD,oBAAsB,SAASn6C,GACzD,IAAIpK,EAAKoK,EAAEpK,GACPqkD,EAAcjmD,KAAKgkD,wBAEhBiC,EAAYrkD,EAAG3E,aACfgpD,EAAYrkD,EAAG+hD,YAGxBC,EAAkBpkD,UAAUkmD,gBAAkB,SAAS15C,EAAGg5C,GAExD,GAAIA,GAAYhlD,KAAKomD,aACnB,MAAM,IAAIrmD,MACR,0CACOC,KAAKomD,aAAaxkD,GAAG3E,KAAO,OAAS+O,EAAEpK,GAAG3E,KAAO,MAG5D+C,KAAKomD,aAAep6C,GAGtB43C,EAAkBpkD,UAAUgmD,cAAgB,SAASx5C,EAAGg5C,GAEtD,GAAIA,GAAYhlD,KAAKqmD,WACnB,MAAM,IAAItmD,MACR,wCACOC,KAAKqmD,WAAWzkD,GAAG3E,KAAO,OAAS+O,EAAEpK,GAAG3E,KAAO,MAG1D+C,KAAKqmD,WAAar6C,GAGpB43C,EAAkBpkD,UAAU0mD,iBAAmB,SAASl6C,EAAG/O,GACzD,IAAIqpD,EAAet6C,EAAE/O,KACjBspD,EAAkBvmD,KAAKgkD,iBAAiBsC,GAE5C,GAAIC,EACF,MAAM,IAAIxmD,MACR,aAAeumD,EAAf,mCACkBC,EAAgBC,UAAU5kD,GAAG3E,KAAO,IAAMspD,EAAgB3kD,GAAG3E,KAD/E,SAEM+O,EAAEw6C,UAAU5kD,GAAG3E,KAAO,IAAM+O,EAAEpK,GAAG3E,KAAO,oCAIpD2mD,EAAkBpkD,UAAU+vB,YAAc,SAAStyB,GACjD,OAAO+C,KAAKgkD,iBAAiB/mD,IAG/B2mD,EAAkBpkD,UAAUinD,SAAW,SAASrpD,EAAGspD,GAEjD,IAAIC,EAAc3mD,KAAK+jD,eACnB5mD,EAAQ6C,KAAK8jD,SAEb8C,EAAWxpD,EAAEH,KAEb2pD,KAAYD,IAIhB,kBAAQvpD,EAAEmlD,WAAY,gBAAK,SAASv2C,GAGlCA,EAAI,iBAAO,GAAIA,EAAG,CAChB/O,KAAM+O,EAAEpK,GAAG+hD,UACX+C,UAAWA,IAGb5nD,OAAOuN,eAAeL,EAAG,YAAa,CACpChO,MAAOZ,IAGT,IAAIypD,EAAW76C,EAAE66C,SACbb,EAAYh6C,EAAEg6C,UAGda,GAAYb,EACdhmD,KAAK2lD,iBAAiB35C,EAAG66C,GAAYb,EAAWa,IAE5C76C,EAAEy5C,QACJzlD,KAAK0lD,gBAAgB15C,GAEnBA,EAAEu5C,MACJvlD,KAAKwlD,cAAcx5C,GAErBhM,KAAK+kD,YAAY/4C,MAElBhM,OAEH7C,EAAM2D,KAAK1D,GACXupD,EAAYC,GAAYxpD,IAqB1B6mD,EAASzkD,UAAUsnD,WAAa,SAASC,GACvC,OAAO/mD,KAAKmkD,WAAW4C,IAGzB9C,EAASzkD,UAAUwnD,YAAc,WAC/B,OAAOhnD,KAAKkkD,UAIdD,EAASzkD,UAAU6kD,gBAAkB,SAASE,GAG5CA,EAAM,iBAAO,GAAIA,GAEjB,IAAI0C,EAASjnD,KAAKmkD,WAElBG,EAAgB2C,EAAQ1C,EAAK,UAC7BD,EAAgB2C,EAAQ1C,EAAK,OAG7B,kBAAQA,EAAIpnD,MAAO,gBAAK,SAASyV,GAC/B5S,KAAKknD,aAAat0C,EAAY2xC,KAC7BvkD,OAEHinD,EAAO1C,EAAI4C,KAAOF,EAAO1C,EAAIn8B,QAAUm8B,EACvCvkD,KAAKkkD,SAASpjD,KAAKyjD,IAOrBN,EAASzkD,UAAU0nD,aAAe,SAASzqD,EAAM8nD,GAS/C,IAAI3iD,EAAK6hD,GAPThnD,EAAO,iBAAO,GAAIA,EAAM,CACtBkP,YAAalP,EAAKkP,YAAc,IAAI9E,QACpCugD,SAAU3qD,EAAK2qD,SAAW,IAAIvgD,QAC9B07C,YAAa9lD,EAAK8lD,YAAc,IAAI17C,QACpCwgD,KAAM,iBAAQ5qD,EAAK4qD,MAAQ,OAGLpqD,KAAMsnD,EAAIn8B,QAC9BnrB,EAAO2E,EAAG3E,KACV+mD,EAAmB,GAGvB,kBAAQvnD,EAAK8lD,WAAY,gBAAK,SAASv2C,GAGrC,IAAIs7C,EAAa7D,EAAUz3C,EAAE/O,KAAM2E,EAAGwmB,QAClCk+B,EAAegB,EAAWrqD,KAGzBsmD,EAAUv3C,EAAEvP,QACfuP,EAAEvP,KAAOgnD,EAAUz3C,EAAEvP,KAAM6qD,EAAWl/B,QAAQnrB,MAGhD,iBAAO+O,EAAG,CACRpK,GAAI0lD,EACJrqD,KAAMqpD,IAGRtC,EAAiBsC,GAAgBt6C,IAChChM,OAGH,iBAAOvD,EAAM,CACXmF,GAAIA,EACJ3E,KAAMA,EACN+mD,iBAAkBA,IAGpB,kBAAQvnD,EAAK2qD,QAAS,gBAAK,SAASG,GAClC,IAAIC,EAAWxnD,KAAKokD,QAAQmD,GAE5BC,EAASjhB,OAASihB,EAASjhB,QAAU,GACrCihB,EAASjhB,OAAOzlC,KAAK7D,KACpB+C,OAGHA,KAAKynD,cAAchrD,EAAM8nD,GAGzBvkD,KAAKokD,QAAQnnD,GAAQR,GAavBwnD,EAASzkD,UAAUkoD,SAAW,SAASC,EAAQ58C,EAAU68C,GAEvD,IAAInrD,EAAO8mD,EAAUoE,EAAO1qD,MAAQ,CAAEA,KAAM0qD,EAAO1qD,MAAS+C,KAAKokD,QAAQuD,EAAO1qD,MAE5EiO,EAAOlL,KAOX,SAAS6nD,EAAcx4C,GACrB,OAAOy4C,EAAcz4C,GAAK,GAS5B,SAASy4C,EAAcz4C,EAAKu4C,GAC1B,IAAIG,EAAWtE,EAAUp0C,EAAKk0C,EAAUl0C,GAAO,GAAKs4C,EAAOv/B,QAC3Dld,EAAKw8C,SAASK,EAAUh9C,EAAU68C,GAGpC,IAAKnrD,EACH,MAAM,IAAIsD,MAAM,iBAAmB4nD,EAAO1qD,KAAO,KAGnD,kBAAQR,EAAKkP,WAAYi8C,EAAQC,EAAgBC,GAGjD/8C,EAAStO,GAAOmrD,GAEhB,kBAAQnrD,EAAK8pC,OAAQshB,IAWvB5D,EAASzkD,UAAUwoD,uBAAyB,SAAS/qD,GAEnD,IAAI0qD,EAASlE,EAAUxmD,GAEnBgrD,EAAU,IAAIrE,EAAkB+D,GAEpC3nD,KAAK0nD,SAASC,GAAQ,SAASlrD,EAAMiqD,GACnCuB,EAAQxB,SAAShqD,EAAMiqD,MAGzB,IAAI9zC,EAAaq1C,EAAQnD,QAKzB,OAFA9kD,KAAKynD,cAAc70C,EAAYA,EAAWkxC,SAASlxC,EAAWkxC,SAASzkD,OAAS,GAAG6oD,MAE5Et1C,GAITqxC,EAASzkD,UAAUioD,cAAgB,SAASnqD,EAAQinD,GAClDvkD,KAAKuiD,WAAWO,OAAOxlD,EAAQ,OAAQ,CAAEU,MAAOumD,KAkClDE,EAAWjlD,UAAUg8B,IAAM,SAASl+B,EAAQL,EAAMe,GAEhD,IAAIwxB,EAAWxvB,KAAKsiD,MAAM6F,sBAAsB7qD,EAAQL,GAEpDqpD,EAAe92B,GAAYA,EAASvyB,UA8FlB,IA5FNe,EAGVwxB,SACKlyB,EAAOgpD,UAEPhpD,EAAO8qD,OAAOnrD,GAKnBuyB,EACE82B,KAAgBhpD,EAClBA,EAAOgpD,GAAgBtoD,EAEvBqO,EAAe/O,EAAQkyB,EAAUxxB,GAGnCV,EAAO8qD,OAAOnrD,GAAQe,GAa5BymD,EAAWjlD,UAAUoP,IAAM,SAAStR,EAAQL,GAE1C,IAAIuyB,EAAWxvB,KAAKsiD,MAAM6F,sBAAsB7qD,EAAQL,GAExD,IAAKuyB,EACH,OAAOlyB,EAAO8qD,OAAOnrD,GAGvB,IAAIqpD,EAAe92B,EAASvyB,KAO5B,OAJKK,EAAOgpD,IAAiB92B,EAASizB,QACpCp2C,EAAe/O,EAAQkyB,EAAU,IAG5BlyB,EAAOgpD,IAWhB7B,EAAWjlD,UAAUsjD,OAAS,SAASxlD,EAAQL,EAAM4Q,GAEnD,IAAKA,EAAQhC,SAAU,CAErB,IAAI7N,EAAQ6P,EAAQ7P,aAIpB6P,EAAU,iBAAO,GAAIA,EAAS,CAC5Be,IAAK,WAAa,OAAO5Q,MAGZA,MAGjBc,OAAOuN,eAAe/O,EAAQL,EAAM4Q,IAOtC42C,EAAWjlD,UAAUojD,iBAAmB,SAAStlD,EAAQsV,GACvD5S,KAAK8iD,OAAOxlD,EAAQ,cAAe,CAAEU,MAAO4U,KAM9C6xC,EAAWjlD,UAAUmjD,YAAc,SAASrlD,EAAQglD,GAClDtiD,KAAK8iD,OAAOxlD,EAAQ,SAAU,CAAEU,MAAOskD,KAiEzCqC,EAAOnlD,UAAUmD,OAAS,SAASiQ,EAAYjU,GAC7C,IAAIgP,EAAO3N,KAAKyJ,QAAQmJ,GAExB,IAAKjF,EACH,MAAM,IAAI5N,MAAM,iBAAmB6S,EAAa,KAGlD,OAAO,IAAIjF,EAAKhP,IAiBlBgmD,EAAOnlD,UAAUiK,QAAU,SAASmJ,GAElC,IAAIqkB,EAAQj3B,KAAK6kD,UAEb5nD,EAAO,mBAAS2V,GAAcA,EAAaA,EAAWhR,GAAG3E,KAEzDR,EAAOw6B,EAAMh6B,GAOjB,OALKR,IACHmW,EAAa5S,KAAK4kD,SAASoD,uBAAuB/qD,GAClDR,EAAOw6B,EAAMh6B,GAAQ+C,KAAKwiC,QAAQggB,WAAW5vC,IAGxCnW,GA+BTkoD,EAAOnlD,UAAU6oD,UAAY,SAASprD,EAAMqrD,EAAO/F,GAEjD,IAAIsB,EAASJ,EAAUxmD,GAEnBT,EAAU,CACZkrB,MAAOzqB,EACPL,YAAa,SAASH,GACpB,OAAOA,IAASuD,KAAK0nB,QAIrB9U,EAAa,CACf3V,KAAMA,EACNsrD,WAAW,EACX3mD,GAAI,CACFwmB,OAAQy7B,EAAOz7B,OACfu7B,UAAWE,EAAOF,UAClBwD,IAAKmB,IAiBT,OAbAtoD,KAAKuiD,WAAWK,iBAAiBpmD,EAASoW,GAC1C5S,KAAKuiD,WAAWI,YAAYnmD,EAASwD,MACrCA,KAAKuiD,WAAWO,OAAOtmD,EAAS,UAAW,CAAEiQ,YAAY,EAAOZ,UAAU,IAC1E7L,KAAKuiD,WAAWO,OAAOtmD,EAAS,cAAe,CAAEiQ,YAAY,EAAOZ,UAAU,IAE9E,kBAAQ02C,GAAY,SAASp/C,EAAG0P,GAC1B,mBAAS1P,SAAkB3E,IAAZ2E,EAAEnF,MACnBxB,EAAQ2G,EAAElG,MAAQkG,EAAEnF,MAEpBxB,EAAQqW,GAAO1P,KAIZ3G,GAQTmoD,EAAOnlD,UAAUsnD,WAAa,SAASC,GACrC,OAAO/mD,KAAK4kD,SAASkC,WAAWC,IAQlCpC,EAAOnlD,UAAUwnD,YAAc,WAC7B,OAAOhnD,KAAK4kD,SAASoC,eAMvBrC,EAAOnlD,UAAUgpD,qBAAuB,SAAShsD,GAC/C,OAAOA,EAAQisD,aASjB9D,EAAOnlD,UAAUujD,QAAU,SAASvmD,EAASC,GAQ3C,YAPa+B,IAAT/B,IACFA,EAAOD,EACPA,EAAUwD,MAKJvD,KAFSD,EAAQ+N,OAAOi+C,qBAAqBhsD,GAE1BunD,gBAM7BY,EAAOnlD,UAAU2oD,sBAAwB,SAAS3rD,EAASgzB,GACzD,OAAOxvB,KAAKwoD,qBAAqBhsD,GAASwnD,iBAAiBx0B,IAM7Dm1B,EAAOnlD,UAAUkpD,kBAAoB,SAASjsD,GAC5C,OAAOuD,KAAK4kD,SAASR,QAAQ3nD,IC14B/B,IAAIksD,EAAevqD,OAAOuqD,aAEtB,EAAiB7pD,OAAOU,UAAUiwB,eAElCm5B,EAAiB,qCAEjBC,EAAiB,CACnB,IAAO,IACP,KAAQ,IACR,GAAM,IACN,GAAM,IACN,KAAQ,KASV,SAASC,EAAgBluC,EAAGtX,EAAGoB,EAAG6tB,GAGhC,OAAIA,EACE,EAAerxB,KAAK2nD,EAAgBt2B,GAC/Bs2B,EAAet2B,GAIf,IAAMA,EAAI,IAMZo2B,EADLrlD,GAKgB8d,SAAS1c,EAAG,KAalC,SAASqkD,EAAethD,GACtB,OAAIA,EAAEpI,OAAS,IAAyB,IAApBoI,EAAErI,QAAQ,KACrBqI,EAAEvJ,QAAQ0qD,EAAgBE,GAG5BrhD,EA1CT3I,OAAOC,KAAK8pD,GAAgB7hC,SAAQ,SAAS/jB,GAC3C4lD,EAAe5lD,EAAE4yB,eAAiBgzB,EAAe5lD,MAkDnD,SAAS+oB,EAAMgX,GACb,OAAO,IAAIjjC,MAAMijC,GAGnB,SAASgmB,EAA0B5gC,GACjC,MAAO,iCAAmCA,EAAS,IAGrD,SAAS6gC,EAAOC,GACd,MAAO,CACL,IAAOA,EACP,YAAc,GAIlB,SAASC,EAAcC,GACrB,IAAgBv2C,EAAZnS,EAAQ,GACZ,IAAKmS,KAAOu2C,EACV1oD,EAAMmS,GAAOu2C,EAASv2C,GAExB,OAAOnS,EAGT,SAAS2oD,EAAUjhC,GACjB,OAAOA,EAAS,OAiBlB,SAASkhC,IACP,MAAO,CAAE,KAAQ,EAAG,OAAU,GAGhC,SAASC,EAAUtxC,GACjB,MAAMA,EAUR,SAASuxC,EAAO37C,GAEd,IAAK7N,KACH,OAAO,IAAIwpD,EAAO37C,GAGpB,IAEI47C,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EAwCAC,EAlDAC,EAAQr8C,GAAWA,EAAe,MAMlCs8C,EAAUZ,EAMVa,EAAad,EAObe,GAAU,EAOVC,GAAc,EAOdC,EAAc,KAOdC,GAAY,EAiBhB,SAASp8B,EAAYnW,GACbA,aAAelY,QACnBkY,EAAM+T,EAAM/T,IAGdsyC,EAActyC,EAEdkyC,EAAQlyC,EAAKmyC,GAQf,SAASK,EAAcxyC,GAEhB4xC,IAIC5xC,aAAelY,QACnBkY,EAAM+T,EAAM/T,IAGd4xC,EAAU5xC,EAAKmyC,IAWjBpqD,KAAS,GAAI,SAAS/C,EAAMytD,GAE1B,GAAkB,mBAAPA,EACT,MAAM1+B,EAAM,4BAGd,OAAQ/uB,GACR,IAAK,UAAWysD,EAAYgB,EAAI,MAChC,IAAK,OAAQjB,EAASiB,EAAI,MAC1B,IAAK,WAAYf,EAAae,EAAI,MAClC,IAAK,QAASP,EAAUO,EAAI,MAC5B,IAAK,OAAQb,EAAYa,EAAI,MAC7B,IAAK,QAASd,EAAUc,EAAI,MAC5B,IAAK,YAAaV,EAAcU,EAAI,MACpC,IAAK,WAAYX,EAAaW,EAAI,MAClC,IAAK,UAAWZ,EAAYY,EAAI,MAChC,QACE,MAAM1+B,EAAM,sBAAwB/uB,GAGtC,OAAO+C,MAiBTA,KAAS,GAAI,SAAS2qD,GAMpB,QAJqB,IAAVA,IACTA,EAAQ,IAGW,iBAAVA,EACT,MAAM3+B,EAAM,4BAGd,IAAyB/oB,EAArB2nD,EAAiB,GAErB,IAAK3nD,KAAK0nD,EACRC,EAAe3nD,GAAK0nD,EAAM1nD,GAS5B,OALA2nD,EAvNU,6CACG,MAwNbN,GAAc,EACdL,EAAgBW,EAET5qD,MAUTA,KAAY,MAAI,SAAS6qD,GACvB,GAAmB,iBAARA,EACT,MAAM7+B,EAAM,8BAUd,OAPAu+B,EAAc,KAsBhB,SAAeM,GACb,IAEIC,EAMApmD,EAAGG,EAAG4R,EAAGs0C,EAAGz1B,EACZ01B,EACAC,EACAC,EACAC,EAKAC,EAjBAC,EAAgBf,EAAc,GAAK,KACnClB,EAAWkB,EAlOnB,SAAuBL,GACrB,IACI9C,EACA/+B,EAFAghC,EAAW,GAIf,IAAKjC,KAAO8C,EAEVb,EADAhhC,EAAS6hC,EAAc9C,IACJ/+B,EACnBghC,EAASC,EAAUjhC,IAAW++B,EAGhC,OAAOiC,EAuNwBkC,CAAcrB,GAAiB,KAExDsB,EAAY,GACZC,EAAmB,EACnBC,GAAW,EACXC,GAAS,EACT9sD,EAAI,EAAG41B,EAAI,EAQXm3B,EAAc,GACdC,EAAa,EAYjB,SAASC,IACP,GAAoB,OAAhBT,EACF,OAAOA,EAGT,IAAI9C,EACAwD,EACAnE,EAMAoE,EACAC,EACAhuD,EACAiuD,EACAhvD,EAGAivD,EACAnB,EACAv2B,EAdA23B,EAAe7B,GAAelB,EAAgB,MAC9CgD,EAAW9B,GAAeD,EAAU,GAAK,KACzCzrD,EAAIgtD,EACJnkD,EAAIkkD,EACJv2B,EAAI3tB,EAAEpI,OAMNV,EAAQ,GACR0tD,EAAY,GAKhBC,EACA,KAAO1tD,EAAIw2B,EAAGx2B,IAIZ,GAHAstD,GAAW,IAGD,MAFVnB,EAAItjD,EAAE8kD,WAAW3tD,KAEAmsD,EAAI,IAAMA,EAAI,GAA/B,CAaA,KARIA,EAAI,IAAMA,EAAI,KAAQA,EAAI,IAAMA,EAAI,KAC5B,KAANA,GAAkB,KAANA,IACdN,EAAc,qCACdyB,GAAW,GAKV13B,EAAI51B,EAAI,EAAG41B,EAAIY,EAAGZ,IAGrB,MAFAu2B,EAAItjD,EAAE8kD,WAAW/3B,IAGX,IAAMu2B,EAAI,KACdA,EAAI,IAAMA,EAAI,IACdA,EAAI,IAAMA,EAAI,IACR,KAANA,GACM,KAANA,GACM,KAANA,GANF,CAYA,GAAU,KAANA,GAAaA,EAAI,IAAMA,EAAI,EAAI,CACjCN,EAAc,2BACd7rD,EAAI41B,EAEJ,SAAS83B,EAIX,GAAU,KAANvB,EACF,MAGFN,EAAc,+BACdyB,GAAW,EAYb,GAPa,iBAFbjvD,EAAOwK,EAAExF,UAAUrD,EAAG41B,MAGpBi2B,EAAc,gCACdyB,GAAW,GAKH,MAFVnB,EAAItjD,EAAE8kD,WAAW/3B,EAAI,KAKR,KAFXA,EAAI/sB,EAAErI,QAAQ,IAAKR,EAAI41B,EAAI,MAKd,KAFXA,EAAI/sB,EAAErI,QAAQ,IAAMR,MAGlB6rD,EAAc,mCACdyB,GAAW,QAIV,GAAU,KAANnB,GAGE,KAFXv2B,EAAI/sB,EAAErI,QAAQ,IAAMR,EAAI41B,EAAI,MAKf,KAFXA,EAAI/sB,EAAErI,QAAQ,IAAKR,MAGjB6rD,EAAc,mCACdyB,GAAW,QASf,IAJAzB,EAAc,kCACdyB,GAAW,EAGN13B,GAAQ,EAAGA,EAAIY,KAGR,MAFV21B,EAAItjD,EAAE8kD,WAAW/3B,EAAI,KAEJu2B,EAAI,IAAMA,EAAI,GAHVv2B,KA0BzB,KAhBW,IAAPA,IACFi2B,EAAc,0BAEdj2B,EAAIY,EACJ82B,GAAW,GAGRA,IACHluD,EAAQyJ,EAAExF,UAAUrD,EAAG41B,IAGzB51B,EAAI41B,EAKGA,EAAI,EAAIY,KAGH,MAFV21B,EAAItjD,EAAE8kD,WAAW/3B,EAAI,KAEJu2B,EAAI,IAAMA,EAAI,GAHfv2B,IAQZ51B,IAAM41B,IACRi2B,EAAc,yCACdyB,GAAW,GAOf,GAFAttD,EAAI41B,EAAI,GAEJ03B,EAKJ,GAAIjvD,KAAQovD,EACV5B,EAAc,cAAgBxtD,EAAO,0BAMvC,GAFAovD,EAAUpvD,IAAQ,EAEbqtD,EAML,GAAID,EAAJ,CAUE,GAAiB,QATjB2B,EACW,UAAT/uD,EACI,QACwB,MAAvBA,EAAKsvD,WAAW,IAAoC,WAAtBtvD,EAAKuvD,OAAO,EAAG,GAC5CvvD,EAAKuvD,OAAO,GACZ,MAIe,CAMrB,GALAlE,EAAQS,EAAe/qD,GACvB8tD,EAAczC,EAAU2C,KAExBC,EAAQhC,EAAc3B,IAEV,CAGV,GACgB,UAAb0D,GACAF,KAAe1C,GAAYA,EAAS0C,KAAiBxD,EAItD,GACE2D,EAAQ,KAAQT,eACkB,IAApBpC,EAAS6C,SAEzBA,EAAQD,EAGV/B,EAAc3B,GAAS2D,EAGrB7C,EAAS4C,KAAcC,IACpBF,IACH3C,EAAWD,EAAcC,GACzB2C,GAAe,GAGjB3C,EAAS4C,GAAYC,EACJ,UAAbD,IACF5C,EAASC,EAAU4C,IAAU3D,EAC7B6D,EAAeF,GAGjB7C,EAAS0C,GAAexD,GAI1B3pD,EAAM1B,GAAQe,EACd,SAKFouD,EAAStrD,KAAK7D,EAAMe,QAQX,KADX+sD,EAAI9tD,EAAKmC,QAAQ,OAOXuoD,EAASyB,EAASnsD,EAAKgF,UAAU,EAAG8oD,MA/gBnC,cAohBP9tD,EAAOkvD,IAAiBxE,EACpB1qD,EAAKuvD,OAAOzB,EAAI,GAChBpD,EAAS1qD,EAAKuvD,OAAOzB,OAQZ,KAFXA,EAAI/sD,EAAMoB,QAAQ,OAGhBuoD,EAAS3pD,EAAMiE,UAAU,EAAG8oD,GAI5B/sD,GADA2pD,EAASyB,EAASzB,IAAWA,GACZ3pD,EAAMiE,UAAU8oD,IAEjC/sD,EAAQmuD,EAAe,IAAMnuD,GAMjCW,EAAM1B,GAAQe,GA3BZysD,EAAczB,EAA0B/rD,EAAKgF,UAAU,EAAG8oD,KAN1DpsD,EAAM1B,GAAQe,OAvEdW,EAAM1B,GAAQe,EA6GlB,GAAIqsD,EAGF,IAAKzrD,EAAI,EAAGw2B,EAAIg3B,EAAS/sD,OAAQT,EAAIw2B,EAAGx2B,IAAK,CAO3C,GALA3B,EAAOmvD,EAASxtD,KAChBZ,EAAQouD,EAASxtD,IAIN,KAFXmsD,EAAI9tD,EAAKmC,QAAQ,MAEH,CAGZ,KAAMuoD,EAASyB,EAASnsD,EAAKgF,UAAU,EAAG8oD,KAAM,CAC9CN,EAAczB,EAA0B/rD,EAAKgF,UAAU,EAAG8oD,KAC1D,SA/jBC,cAkkBH9tD,EAAOkvD,IAAiBxE,EACpB1qD,EAAKuvD,OAAOzB,EAAI,GAChBpD,EAAS1qD,EAAKuvD,OAAOzB,OAQZ,KAFXA,EAAI/sD,EAAMoB,QAAQ,OAGhBuoD,EAAS3pD,EAAMiE,UAAU,EAAG8oD,GAI5B/sD,GADA2pD,EAASyB,EAASzB,IAAWA,GACZ3pD,EAAMiE,UAAU8oD,IAEjC/sD,EAAQmuD,EAAe,IAAMnuD,GAOnCW,EAAM1B,GAAQe,EAMlB,OAAOotD,EAAczsD,EASvB,SAAS8tD,IAUP,IATA,IAMI7hD,EACA0c,EAPAolC,EAAW,gBAEX1nC,EAAO,EACP2nC,EAAS,EACTC,EAAc,EACdC,EAAYr4B,EAIT51B,GAAKguD,IAEVhiD,EAAQ8hD,EAASI,KAAKjC,QAOtBgC,EAAYjiD,EAAM,GAAGvL,OAASuL,EAAM3L,OAEpBL,IAKhBomB,GAAQ,EAER4nC,EAAcC,EAoBhB,OAhBU,GAANjuD,GACF+tD,EAASE,EACTvlC,EAAOujC,EAAI5oD,UAAUuyB,IAIb,IAANA,EACFlN,EAAOujC,EAAI5oD,UAAUuyB,EAAG51B,IAKxB+tD,EAAS/tD,EAAIguD,EACbtlC,GAAc,GAANkN,EAAUq2B,EAAI5oD,UAAUrD,GAAKisD,EAAI5oD,UAAUrD,EAAG41B,EAAI,IAGrD,CACL,KAAQlN,EACR,KAAQtC,EACR,OAAU2nC,GAIdvC,EAAaqC,EAGTvC,IACFiB,EAAersD,OAAO6D,OAAO,GAAI,CAC/B,KAAQsmD,GAAO,WACb,OAAOgC,KAET,aAAgBhC,GAAO,WACrB,OAAOiC,KAET,MAASjC,EAAO4C,GAChB,GAAM5C,GAAO,WACX,OAAOG,QAMb,MAAc,IAAP50B,GAAU,CASf,IAAW,KANT51B,EADwB,KAAtBisD,EAAI0B,WAAW/3B,GACbA,EAEAq2B,EAAIzrD,QAAQ,IAAKo1B,IAKrB,OAAI+2B,EAAUlsD,OACL+uB,EAAY,0BAGX,IAANoG,EACKpG,EAAY,0BAGjBoG,EAAIq2B,EAAIxrD,QACNwrD,EAAI5oD,UAAUuyB,GAAG6N,QACnBooB,EArsB2B,wCA6sBjC,GAAIj2B,IAAM51B,EAER,GAAI2sD,EAAUlsD,QACZ,GAAIoqD,IACFA,EAAOoB,EAAI5oD,UAAUuyB,EAAG51B,GAAImqD,EAAgBqB,GAExCI,GACF,YAIJ,GAAIK,EAAI5oD,UAAUuyB,EAAG51B,GAAGyjC,SACtBooB,EAztB2B,uCA2tBvBD,GACF,OASR,GAAU,MAHVO,EAAIF,EAAI0B,WAAW3tD,EAAE,IAGP,CAIZ,GAAU,MAHV6X,EAAIo0C,EAAI0B,WAAW3tD,EAAE,KAGoB,WAAzBisD,EAAI2B,OAAO5tD,EAAI,EAAG,GAAiB,CAEjD,IAAW,KADX41B,EAAIq2B,EAAIzrD,QAAQ,MAAOR,IAErB,OAAOwvB,EAAY,kBAGrB,GAAIw7B,IACFA,EAAQiB,EAAI5oD,UAAUrD,EAAI,EAAG41B,GAAI41B,GAC7BI,GACF,OAIJh2B,GAAK,EACL,SAIF,GAAU,KAAN/d,GAAsC,KAA1Bo0C,EAAI0B,WAAW3tD,EAAI,GAAW,CAE5C,IAAW,KADX41B,EAAIq2B,EAAIzrD,QAAQ,SAAOR,IAErB,OAAOwvB,EAAY,oBAIrB,GAAI07B,IACFA,EAAUe,EAAI5oD,UAAUrD,EAAI,EAAG41B,GAAIu0B,EAAgBqB,GAC/CI,GACF,OAIJh2B,GAAK,EACL,UAKJ,GAAU,KAANu2B,EAAJ,CAoBA,IAAKrmD,EAAI9F,EAAI,GAAK8F,IAAK,CAErB,GADA4wB,EAAIu1B,EAAI0B,WAAW7nD,GACf2c,MAAMiU,GAER,OADAd,GAAK,EACEpG,EAAY,gBAOrB,GAAU,KAANkH,EACF7e,EAAIo0C,EAAIzrD,QAAQ,IAAKsF,EAAI,GACzBA,GAAW,IAAP+R,EAAWA,EAAI/R,OACd,GAAU,KAAN4wB,EACT7e,EAAIo0C,EAAIzrD,QAAQ,IAAKsF,EAAI,GACzBA,GAAW,IAAP+R,EAAWA,EAAI/R,OACd,GAAU,KAAN4wB,EAAU,CACnBd,EAAI9vB,EACJ,OAOJ,GAAU,KAANqmD,EAAJ,CAkBA,GAHAK,EAAc,GAGJ,KAANL,EAAU,CAIZ,GAHAU,GAAW,EACXC,GAAS,GAEJH,EAAUlsD,OACb,OAAO+uB,EAAY,oBAOrB,GAHA1pB,EAAIumD,EAAcM,EAAUxpB,MAC5BtrB,EAAI7X,EAAI,EAAI8F,EAAErF,OAEVwrD,EAAI5oD,UAAUrD,EAAI,EAAG6X,KAAO/R,EAC9B,OAAO0pB,EAAY,wBAIrB,KAAO3X,EAAI+d,EAAG/d,IAGZ,KAAU,MAFVs0C,EAAIF,EAAI0B,WAAW91C,KAEFs0C,EAAI,GAAKA,EAAI,IAI9B,OAAO38B,EAAY,iBAGhB,CAcL,GAb8B,KAA1By8B,EAAI0B,WAAW/3B,EAAI,IACrB9vB,EAAIumD,EAAcJ,EAAI5oD,UAAUrD,EAAI,EAAG41B,EAAI,GAE3Ci3B,GAAW,EACXC,GAAS,IAGThnD,EAAIumD,EAAcJ,EAAI5oD,UAAUrD,EAAI,EAAG41B,GAEvCi3B,GAAW,EACXC,GAAS,KAGLX,EAAI,IAAMA,EAAI,KAAOA,EAAI,IAAMA,EAAI,IAAY,KAANA,GAAkB,KAANA,GACzD,OAAO38B,EAAY,+BAGrB,IAAK3X,EAAI,EAAG5R,EAAIH,EAAErF,OAAQoX,EAAI5R,EAAG4R,IAG/B,MAFAs0C,EAAIrmD,EAAE6nD,WAAW91C,IAET,IAAMs0C,EAAI,KAAOA,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAY,KAANA,GAAkB,KAANA,GAAiB,IAALA,GAAzF,CAIA,GAAU,KAANA,GAAaA,EAAI,IAAMA,EAAI,EAAI,CACjCE,EAAcvmD,EAAEzC,UAAU,EAAGwU,GAG7B20C,EAAc,KACd,MAGF,OAAOh9B,EAAY,oBAGhBs9B,GACHH,EAAUzqD,KAAKmqD,GAInB,GAAIX,EAAa,CA+Bf,GA7BAQ,EAAY1B,EAERqC,IAIGC,GACHL,EAAcvqD,KAAKgqD,GAGD,OAAhBM,IAKGf,GAAqC,IAA3B3lD,EAAEtF,QAAQ,QAASqX,MAChCm1C,EAAan1C,EACbk1C,EAAcjnD,EAEdmnD,IAEAxB,GAAU,IAKhBa,EAAeD,GAGJ,KADXF,EAAIE,EAAY7rD,QAAQ,MACV,CAIZ,KAHA4rD,EAAQ5B,EAAS6B,EAAYhpD,UAAU,EAAG8oD,KAIxC,OAAO38B,EAAY,yBAA2B88B,EAAe,KAG/DD,EAAcA,EAAYuB,OAAOzB,EAAI,QAErCC,EAAQ5B,EAAgB,MAWtB4B,IACFC,EAAcD,EAAQ,IAAMC,GAKhC,GAAIQ,IACFG,EAAan1C,EACbk1C,EAAcjnD,EAEVglD,IACEQ,EACFR,EAAUyB,EAAcpC,EAAgB2C,EAAQtB,GAEhDV,EAAUuB,EAAaY,EAAU9C,EAAgB2C,EAAQtB,GAGvDI,IACF,OAMN,GAAIkB,EAAQ,CAEV,GAAI/B,IACFA,EAAWO,EAAQiB,EAAeF,EAAalC,EAAgB0C,EAAUrB,GAErEI,GACF,OAKAF,IAIAlB,EAHGqC,EAGQX,EAFAO,EAActpB,OAO/BvN,GAAK,MAtLL,CAEE,GAAIw1B,IACFA,EAAYa,EAAI5oD,UAAUrD,EAAG41B,EAAI,GAAIu0B,EAAgBqB,GACjDI,GACF,OAIJh2B,GAAK,OAvDP,CAEE,IAAW,KADXA,EAAIq2B,EAAIzrD,QAAQ,KAAMR,IAEpB,OAAOwvB,EAAY,qBAGrB,GAAI27B,IACFA,EAAWc,EAAI5oD,UAAUrD,EAAG41B,EAAI,GAAI41B,GAChCI,GACF,OAIJh2B,GAAK,IAnjBT1yB,CAAM+oD,GAENT,EAAad,EACbkB,GAAY,EAELD,GAMTvqD,KAAW,KAAI,WACbwqD,GAAY,GCjThB,SAASuC,EAAkBxI,GACzB,OAAOA,EAAIsG,KAA4B,cAArBtG,EAAIsG,IAAImC,SAG5B,IAAIC,EAAiB,CACnB,IAAO,4CACP,IAAO,wCAKT,SAASC,EAAgB1wD,GACvB,OAAOA,EAAQquD,KAAOruD,EAAQquD,IAAIsC,UAGpC,SAASC,EAAgB5wD,GACvB,MAPa,aAON0wD,EAAgB1wD,GAWzB,SAAS6wD,EAAYC,EAAS/I,GAE5B,OAAKwI,EAAkBxI,GAIhB+I,EAAQllC,OAAS,MAVNzd,EAUuB2iD,EAAQ3J,WATtC/gD,OAAO,GAAGizB,cAAgBlrB,EAAI9D,MAAM,IAMtCymD,EAAQrwD,KAPnB,IAAoB0N,EAmCpB,SAAS,EAAMskC,GACb,OAAO,IAAIlvC,MAAMkvC,GAUnB,SAASse,EAAoB/wD,GAC3B,OAAOA,EAAQisD,YAajB,SAAS+E,EAAQ3/C,GAUf,iBAAO7N,KAAM6N,GAEb7N,KAAKytD,aAAe,GACpBztD,KAAK0tD,WAAa,GAClB1tD,KAAKmtB,SAAW,GAOhBntB,KAAK2tD,aAAe,SAAS/nD,GAC3B5F,KAAK0tD,WAAW5sD,KAAK8E,IAQvB5F,KAAK4tD,WAAa,SAASpxD,GAEzB,IAAKA,EACH,MAAM,EAAM,oBAGd,IAKImM,EALA8kD,EAAeztD,KAAKytD,aAIpBpH,EAFakH,EAAoB/wD,GAET6pD,WAG5B,GAAIA,IACF19C,EAAKnM,EAAQoS,IAAIy3C,EAAWppD,OAEpB,CAGN,IAAK,mCAAmCoE,KAAKsH,GAC3C,MAAM,IAAI5I,MAAM,eAAiB4I,EAAK,KAGxC,GAAI8kD,EAAa9kD,GACf,MAAM,EAAM,iBAAmBA,EAAK,KAGtC8kD,EAAa9kD,GAAMnM,IAYzBwD,KAAK6tD,WAAa,SAASC,GACzB9tD,KAAKmtB,SAASrsB,KAAKgtD,IAIvB,SAASC,KAcT,SAASC,KAQT,SAASC,KAQT,SAASC,EAAiB1+B,EAAU7f,GAClC3P,KAAKwvB,SAAWA,EAChBxvB,KAAK2P,QAAUA,EA2BjB,SAASw+C,EAAaC,EAAc5xD,GAClCwD,KAAKxD,QAAUA,EACfwD,KAAKouD,aAAeA,EAqBtB,SAASC,KAuBT,SAASC,EAAehM,EAAOsE,EAAUj3C,GACvC3P,KAAKsiD,MAAQA,EACbtiD,KAAKvD,KAAO6lD,EAAM74C,QAAQm9C,GAC1B5mD,KAAK2P,QAAUA,EA+PjB,SAAS4+C,EAAmBjM,EAAOsE,EAAUj3C,GAC3C2+C,EAAeptD,KAAKlB,KAAMsiD,EAAOsE,EAAUj3C,GA0B7C,SAAS6+C,EAAsBlM,EAAOsE,EAAUj3C,GAC9C3P,KAAKsiD,MAAQA,EACbtiD,KAAK2P,QAAUA,EAgDjB,SAAS8+C,EAAO5gD,GAEVA,aAAmB82C,IACrB92C,EAAU,CACRy0C,MAAOz0C,IAIX,iBAAO7N,KAAM,CAAE0uD,KAAK,GAAS7gD,GA9b/BkgD,EAAYvuD,UAAU8+C,UAAY,aAClCyP,EAAYvuD,UAAUmvD,WAAa,aACnCZ,EAAYvuD,UAAUovD,WAAa,aAYnCZ,EAAYxuD,UAAYV,OAAO6D,OAAOorD,EAAYvuD,WAElDwuD,EAAYxuD,UAAUovD,WAAa,WACjC,OAAO5uD,MAKTiuD,EAAYzuD,UAAYV,OAAO6D,OAAOorD,EAAYvuD,WAElDyuD,EAAYzuD,UAAUmvD,WAAa,SAASrd,GAC1CtxC,KAAK0Z,MAAQ1Z,KAAK0Z,MAAQ,IAAM43B,GAQlC4c,EAAiB1uD,UAAYV,OAAO6D,OAAOsrD,EAAYzuD,WAEvD0uD,EAAiB1uD,UAAUovD,WAAa,SAAS/wD,GAE/C,GAAImC,KAAKxD,QACP,MAAM,EAAM,yBAKd,OAHEwD,KAAKxD,QAAUwD,KAAK6uD,gBAAgBhxD,GAG/BmC,MAGTkuD,EAAiB1uD,UAAU8+C,UAAY,WACrCt+C,KAAKxD,QAAQmM,GAAK3I,KAAK0Z,MAGzBw0C,EAAiB1uD,UAAUqvD,gBAAkB,SAAShxD,GACpD,MAAO,CACL2xB,SAAUxvB,KAAKwvB,SAAS5tB,GAAG3E,KAC3B0L,GAAI,KASRwlD,EAAa3uD,UAAYV,OAAO6D,OAAOsrD,EAAYzuD,WAEnD2uD,EAAa3uD,UAAU8+C,UAAY,WAEjC,IAAItgD,EAAQgC,KAAK0Z,MAAQ,GACrBld,EAAUwD,KAAKxD,QACf4xD,EAAepuD,KAAKouD,aAExBpwD,EAAQqlD,EAAW+K,EAAa3xD,KAAMuB,GAElCowD,EAAa3L,OACfjmD,EAAQoS,IAAIw/C,EAAanxD,MAAM6D,KAAK9C,GAEpCxB,EAAQg/B,IAAI4yB,EAAanxD,KAAMe,IAOnCqwD,EAAmB7uD,UAAYV,OAAO6D,OAAOsrD,EAAYzuD,WAEzD6uD,EAAmB7uD,UAAUovD,WAAa,SAAS/wD,GACjD,IAAIsE,EAASnC,KACTxD,EAAUwD,KAAKxD,QAUnB,OARKA,EAKH2F,EAASnC,KAAK8uD,YAAYjxD,IAJ1BrB,EAAUwD,KAAKxD,QAAUwD,KAAKunC,cAAc1pC,GAE5CmC,KAAK2P,QAAQi+C,WAAWpxD,IAKnB2F,GAaTmsD,EAAe9uD,UAAYV,OAAO6D,OAAO0rD,EAAmB7uD,WAE5D8uD,EAAe9uD,UAAUmuD,aAAe,SAAS/nD,GAC/C5F,KAAK2P,QAAQg+C,aAAa/nD,IAG5B0oD,EAAe9uD,UAAUmvD,WAAa,SAASrd,GAM7C,IAHiBic,EADHvtD,KAAKxD,SAEW4pD,aAG5B,MAAM,EAAM,yBAA2B9U,EAAO,KAGhD2c,EAAYzuD,UAAUmvD,WAAWztD,KAAKlB,KAAMsxC,IAG9Cgd,EAAe9uD,UAAU8+C,UAAY,WAEnC,IAAItgD,EAAQgC,KAAK0Z,KACbld,EAAUwD,KAAKxD,QAEf4pD,EADamH,EAAoB/wD,GACP4pD,aAE1BA,QAA0B5nD,IAAVR,IAClBA,EAAQqlD,EAAW+C,EAAa3pD,KAAMuB,GACtCxB,EAAQg/B,IAAI4qB,EAAanpD,KAAMe,KASnCswD,EAAe9uD,UAAU+nC,cAAgB,SAAS1pC,GAChD,IAMIkxD,EANAC,EAAanxD,EAAKmxD,WAClBrhD,EAAO3N,KAAKvD,KACZmW,EAAa26C,EAAoB5/C,GACjCgC,EAAU3P,KAAK2P,QACfzD,EAAW,IAAIyB,EAAK,IACpB20C,EAAQtiD,KAAKsiD,MAsDjB,OAnDA,kBAAQ0M,GAAY,SAAShxD,EAAOf,GAElC,IACIgyD,EADArhD,EAAOgF,EAAWoxC,iBAAiB/mD,GAGnC2Q,GAAQA,EAAK82C,YAEV92C,EAAK60C,QASRwM,EAASjxD,EAAMyD,MAAM,KAErB,kBAAQwtD,GAAQ,SAAS35B,GACvB3lB,EAAQg+C,aAAa,CACnBnxD,QAAS0P,EACTsjB,SAAU5hB,EAAKhM,GAAG3E,KAClB0L,GAAI2sB,QAdR3lB,EAAQg+C,aAAa,CACnBnxD,QAAS0P,EACTsjB,SAAU5hB,EAAKhM,GAAG3E,KAClB0L,GAAI3K,KAiBJ4P,EACF5P,EAAQqlD,EAAWz1C,EAAKnR,KAAMuB,GAEnB,UAATf,IACF8xD,EAAatL,EAAYxmD,EAAM2V,EAAWhR,GAAGwmB,QAIzCk6B,EAAMwE,WAAWiI,EAAW3mC,SAE9BzY,EAAQk+C,WAAW,CACjB5e,QAAS,sBAAwBhyC,EAAO,IACxCT,QAAS0P,EACTsjB,SAAUvyB,EACVe,MAAOA,KAKbkO,EAASsvB,IAAIv+B,EAAMe,OAIhBkO,GAGToiD,EAAe9uD,UAAU0vD,mBAAqB,SAASrxD,GAErD,IASIsxD,EACAC,EATAvL,EAASJ,EADF5lD,EAAKZ,MAGZR,EAAOuD,KAAKvD,KACZ6lD,EAAQtiD,KAAKsiD,MACb1vC,EAAa26C,EAAoB9wD,GAEjC6pD,EAAezC,EAAO5mD,KACtBuyB,EAAW5c,EAAWoxC,iBAAiBsC,GAM3C,GAAI92B,IAAaA,EAAS6/B,OAExB,OAAIjC,EAAgB59B,KAClB2/B,EAAkBtxD,EAAKmxD,WA1Xd,cAkYPG,EAzVR,SAA8BlyD,EAAMqlD,GAElC,IAAIuB,EAASJ,EAAYxmD,GAGzB,OAnBF,SAAwB4mD,EAAQU,GAE9B,IAAItnD,EAAO4mD,EAAO5mD,KACd0mD,EAAYE,EAAOF,UAEnB2L,EAAa/K,EAAIsG,KAAOtG,EAAIsG,IAAIyE,WAEpC,OAAIA,GAAgD,IAAlC3L,EAAUvkD,QAAQkwD,GAC3BzL,EAAOz7B,OAAS,IAAMu7B,EAAU98C,MAAMyoD,EAAWjwD,QAEjDpC,EASFsyD,CAAe1L,EAFZvB,EAAMwE,WAAWjD,EAAOz7B,SAsVVonC,CAAqBL,EAAiB7M,GAExD8M,EAAc9M,EAAM74C,QAAQ0lD,GAErB,iBAAO,GAAI3/B,EAAU,CAC1BigC,cAAelC,EAAoB6B,GAAanyD,QAM/CuyB,EAGT,IAAI+0B,EAAMjC,EAAMwE,WAAWjD,EAAOz7B,QAElC,GAAIm8B,GASF,GARA4K,EAAkB9B,EAAYxJ,EAAQU,GACtC6K,EAAc9M,EAAM74C,QAAQ0lD,GAG5B3/B,EAAW,eAAK5c,EAAW2vC,YAAY,SAASv2C,GAC9C,OAAQA,EAAE0jD,YAAc1jD,EAAE04C,cAAgB14C,EAAE2jD,aAAeP,EAAYrM,QAAQ/2C,EAAEvP,SAIjF,OAAO,iBAAO,GAAI+yB,EAAU,CAC1BigC,cAAelC,EAAoB6B,GAAanyD,YAUpD,GAJAuyB,EAAW,eAAK5c,EAAW2vC,YAAY,SAASv2C,GAC9C,OAAQA,EAAE04C,cAAgB14C,EAAE2jD,aAA0B,YAAX3jD,EAAEvP,QAI7C,OAAO+yB,EAIX,MAAM,EAAM,yBAA2Bq0B,EAAO5mD,KAAO,MAGvDqxD,EAAe9uD,UAAUD,SAAW,WAClC,MAAO,qBAAuBguD,EAAoBvtD,KAAKvD,MAAMQ,KAAO,KAGtEqxD,EAAe9uD,UAAUowD,aAAe,SAASxB,EAAc5xD,GAC7D,OAAO,IAAI2xD,EAAaC,EAAc5xD,IAGxC8xD,EAAe9uD,UAAUqwD,iBAAmB,SAASzB,GACnD,OAAO,IAAIF,EAAiBE,EAAcpuD,KAAK2P,UAGjD2+C,EAAe9uD,UAAU2jB,QAAU,SAAS1mB,GAC1C,MAAa,YAATA,EACK,IAAI+xD,EAAsBxuD,KAAKsiD,MAAO7lD,EAAMuD,KAAK2P,SAEjD,IAAI2+C,EAAetuD,KAAKsiD,MAAO7lD,EAAMuD,KAAK2P,UASrD2+C,EAAe9uD,UAAUsvD,YAAc,SAASjxD,GAC9C,IAAIuwD,EAAc3xD,EAAMD,EAASszD,EAOjC,GALA1B,EAAepuD,KAAKkvD,mBAAmBrxD,GACvCrB,EAAUwD,KAAKxD,QAIXgnD,EAFJ/mD,EAAO2xD,EAAaqB,eAAiBrB,EAAa3xD,MAGhD,OAAOuD,KAAK4vD,aAAaxB,EAAc5xD,GASzC,IAAIuzD,GALFD,EADE1B,EAAa1J,YACA1kD,KAAK6vD,iBAAiBzB,GAAcQ,WAAW/wD,GAE/CmC,KAAKmjB,QAAQ1mB,GAAMmyD,WAAW/wD,IAGjBrB,QAyB9B,YArBmBgC,IAAfuxD,IAEE3B,EAAa3L,OACfjmD,EAAQoS,IAAIw/C,EAAanxD,MAAM6D,KAAKivD,GAEpCvzD,EAAQg/B,IAAI4yB,EAAanxD,KAAM8yD,GAG7B3B,EAAa1J,aACf,iBAAOqL,EAAY,CACjBvzD,QAASA,IAGXwD,KAAK2P,QAAQg+C,aAAaoC,IAI1BA,EAAW9X,QAAUz7C,GAIlBszD,GAgBTvB,EAAmB/uD,UAAYV,OAAO6D,OAAO2rD,EAAe9uD,WAE5D+uD,EAAmB/uD,UAAU+nC,cAAgB,SAAS1pC,GAEpD,IAAIZ,EAAOY,EAAKZ,KACZ4mD,EAASJ,EAAYxmD,GACrBqlD,EAAQtiD,KAAKsiD,MACb7lD,EAAOuD,KAAKvD,KACZ8nD,EAAMjC,EAAMwE,WAAWjD,EAAOz7B,QAC9Bw+B,EAAWrC,GAAO8I,EAAYxJ,EAAQU,IAAQtnD,EAMlD,IAAKR,EAAKsmD,QAAQ6D,GAChB,MAAM,EAAM,uBAAyB/oD,EAAKmyD,aAAe,KAG3D,OAAO1B,EAAe9uD,UAAU+nC,cAAcrmC,KAAKlB,KAAMnC,IAS3D2wD,EAAsBhvD,UAAYV,OAAO6D,OAAO0rD,EAAmB7uD,WAEnEgvD,EAAsBhvD,UAAU+nC,cAAgB,SAAS1pC,GAEvD,IAAIZ,EAAOY,EAAKZ,KAEZmrB,EADKq7B,EAAYxmD,GACLmrB,OACZ++B,EAAMtpD,EAAK+D,GAAGwmB,EAAS,QACvB4mC,EAAanxD,EAAKmxD,WAEtB,OAAOhvD,KAAKsiD,MAAM+F,UAAUprD,EAAMkqD,EAAK6H,IAGzCR,EAAsBhvD,UAAUsvD,YAAc,SAASjxD,GAErD,IAAIslB,EAAU,IAAIqrC,EAAsBxuD,KAAKsiD,MAAO,UAAWtiD,KAAK2P,SAASi/C,WAAW/wD,GACpFrB,EAAUwD,KAAKxD,QAEfuzD,EAAa5sC,EAAQ3mB,QAWzB,YARmBgC,IAAfuxD,KACSvzD,EAAQyzD,UAAYzzD,EAAQyzD,WAAa,IAC3CnvD,KAAKivD,GAGdA,EAAW9X,QAAUz7C,GAGhB2mB,GAGTqrC,EAAsBhvD,UAAU8+C,UAAY,WACtCt+C,KAAK0Z,OACP1Z,KAAKxD,QAAQ0zD,MAAQlwD,KAAK0Z,OAiD9B+0C,EAAOjvD,UAAU2wD,QAAU,SAAStF,EAAKh9C,EAASmK,GAEhD,IAAIo4C,EAAcviD,EAAQuiD,YAEtBviD,aAAmBygD,GAGrB8B,EAAcviD,EACdA,EAAU,IAEa,iBAAZA,GAGTuiD,EAAcpwD,KAAKmjB,QAAQtV,GAC3BA,EAAU,IACsB,iBAAhBuiD,IAGhBA,EAAcpwD,KAAKmjB,QAAQitC,IAI/B,IAAI9N,EAAQtiD,KAAKsiD,MACboM,EAAM1uD,KAAK0uD,IAEX/+C,EAAU,IAAI69C,EAAQ,iBAAO,GAAI3/C,EAAS,CAAEuiD,YAAaA,KACzDjuD,EAAS,IAAIqnD,EAAO,CAAEU,OAAO,IAC7BjnB,EAgQN,WACE,IAAIA,EAAQ,GAQZ,OANAnkC,OAAOuN,eAAe42B,EAAO,OAAQ,CACnCjlC,MAAO,WACL,OAAOgC,KAAKA,KAAKX,OAAS,MAIvB4jC,EAzQKotB,GAiBZ,SAASjiC,EAAYnW,EAAKmyC,EAAYsE,GAEpC,IAAI4B,EAAMlG,IAENplC,EAAOsrC,EAAItrC,KACX2nC,EAAS2D,EAAI3D,OACbrlC,EAAOgpC,EAAIhpC,KAKQ,MAAnBA,EAAK1kB,OAAO,KAAqC,IAAvB0kB,EAAKloB,QAAQ,OACzCkoB,EAAOA,EAAKzgB,MAAM,EAAGygB,EAAKloB,QAAQ,MAAQ,KAG5C,IAAI6vC,EACF,uBAAyB3nB,EAAOA,EAAO,IAAM,IAA7C,qBACatC,EADb,eAEe2nC,EAFf,qBAGqB10C,EAAIg3B,QAE3B,GAAIyf,EAMF,OALA/+C,EAAQk+C,WAAW,CACjB5e,QAASA,EACTjjB,MAAO/T,KAGF,EAEP,MAAM,EAAMg3B,GAIhB,SAASwb,EAAcxyC,EAAKmyC,GAG1B,OAAOh8B,EAAYnW,EAAKmyC,GAAY,GAnDtCgG,EAAYzgD,QAAUA,EAGtBszB,EAAMniC,KAAKsvD,GAwGX,IAAIG,EAAyB,YAEzBC,EAAmB,uBAEnBC,EAAgB,WAmCpB,SAASC,EAAYpf,EAAM8Y,GAEzB,IACEnnB,EAAMvnB,OAAOizC,WAAWrd,GACxB,MAAOr5B,GACPwyC,EAAcxyC,EAAKmyC,IAgBvB,IAAIuG,EAASrO,EAAM0E,cAAc9iB,QAAO,SAASysB,EAAQ3kD,GAGvD,OAFA2kD,EAAO3kD,EAAEm7C,KAAOn7C,EAAEoc,OAEXuoC,IACN,CACD,uCAAwC,QAsC1C,OApCAxuD,EACGP,GAAG+uD,GACHviD,GAAG,WAAW,SAASjP,EAAKyxD,EAAWC,EAAazG,GAGnD,IAAIzrD,EAAQQ,EAAIR,OAAS,GAErBmyD,EAAehyD,OAAOC,KAAKJ,GAAOulC,QAAO,SAAS5gC,EAAGuP,GACvD,IAAI7U,EAAQ4yD,EAAUjyD,EAAMkU,IAI5B,OAFAvP,EAAEuP,GAAO7U,EAEFsF,IACN,KAtDP,SAAoBzF,EAAMusD,GACxB,IAAIjnC,EAAU8f,EAAMvnB,OAEpB,IACEunB,EAAMniC,KAAKqiB,EAAQyrC,WAAW/wD,IAC9B,MAAOoa,GAEHmW,EAAYnW,EAAKmyC,EAAYsE,IAC/BzrB,EAAMniC,KAAK,IAAIktD,IAuDjB+C,CAPW,CACT9zD,KAAMkC,EAAIlC,KACV+yD,aAAc7wD,EAAI6wD,aAClBhB,WAAY8B,EACZlvD,GAAIzC,EAAIyC,IAGOwoD,MAElBh8C,GAAG,YArFN,SAAwB4iD,GAEtB,GAAKT,EAAuBlvD,KAAK2vD,GAAjC,CAIA,IAAIpmD,EAAQ4lD,EAAiB1D,KAAKkE,GAC9BC,EAAWrmD,GAASA,EAAM,GAEzBqmD,IAAYR,EAAcpvD,KAAK4vD,IAIpCthD,EAAQk+C,WAAW,CACjB5e,QACE,kCAAoCgiB,EAApC,iCAuEH7iD,GAAG,YAhGN,WACE60B,EAAMlB,MAAMuc,eAgGXlwC,GAAG,QAASsiD,GACZtiD,GAAG,QAAQ,SAASkjC,EAAMyX,EAAgBqB,IA9C7C,SAAoB9Y,EAAM8Y,GAKnB9Y,EAAKjP,QAIVquB,EAAYpf,EAAM8Y,GAsChBuE,CAAW5F,EAAezX,GAAO8Y,MAElCh8C,GAAG,QAASggB,GACZhgB,GAAG,OAAQq8C,GAKP,IAAI/9B,SAAQ,SAAS0uB,EAAS7+B,GAEnC,IAAItE,EAEJ,IACE9V,EAAOL,MAAM+oD,GA9JjB,WAEE,IAGIjsD,EAAG8X,EAHH+2C,EAAe99C,EAAQ89C,aACvBC,EAAa/9C,EAAQ+9C,WAIzB,IAAK9uD,EAAI,EAAI8X,EAAIg3C,EAAW9uD,GAAKA,IAAK,CACpC,IAAIpC,EAAUka,EAAEla,QACZoJ,EAAY6nD,EAAa/2C,EAAE/N,IAC3B6mB,EAAW+9B,EAAoB/wD,GAASwnD,iBAAiBttC,EAAE8Y,UAW/D,GATK5pB,GACH+J,EAAQk+C,WAAW,CACjB5e,QAAS,yBAA2Bv4B,EAAE/N,GAAK,IAC3CnM,QAASka,EAAEla,QACXgzB,SAAU9Y,EAAE8Y,SACZxxB,MAAO0Y,EAAE/N,KAIT6mB,EAASizB,OAAQ,CACnB,IAAIhwC,EAAajW,EAAQoS,IAAI4gB,EAASvyB,MAClC+J,EAAMyL,EAAWrT,QAAQsX,IAIhB,IAAT1P,IACFA,EAAMyL,EAAWpT,QAGduG,EAOH6M,EAAWzL,GAAOpB,EAJlB6M,EAAWrR,OAAO4F,EAAK,QAOzBxK,EAAQg/B,IAAIhM,EAASvyB,KAAM2I,IAuH7BsrD,GACA,MAAOzzD,GACPwa,EAAMxa,EAGR,IAAIorC,EAAcunB,EAAY5zD,QAEzByb,GAAQ4wB,IACX5wB,EAAM,EAAM,gCAAkCm4C,EAAY3zD,KAAKgsD,YAAYxrD,KAAO,MAGpF,IAAIkwB,EAAWxd,EAAQwd,SACnBugC,EAAa/9C,EAAQ+9C,WACrBD,EAAe99C,EAAQ89C,aAE3B,OAAIx1C,GACFA,EAAIkV,SAAWA,EAER5Q,EAAOtE,IAEPmjC,EAAQ,CACbvS,YAAaA,EACb4kB,aAAcA,EACdC,WAAYA,EACZvgC,SAAUA,QAMlBshC,EAAOjvD,UAAU2jB,QAAU,SAASlmB,GAClC,OAAO,IAAIsxD,EAAmBvuD,KAAKsiD,MAAOrlD,IAkB5C,IAEIk0D,EAAoB,qBACpBC,EAAe,SAGnB,SAASC,EAAWjxD,GAElB,IAAIkxD,EAAY,GACZX,EAAS,GACTY,EAAO,GAEPC,EAAY,GACZ9qB,EAAS,GAIb1mC,KAAKyxD,MAAQ,SAAStK,GACpB,OAAOwJ,EAAOxJ,IACZ/mD,GAAUA,EAAOqxD,MAAMtK,IAI3BnnD,KAAKY,IAAM,SAASgB,EAAI8vD,GAEtBf,EAAO/uD,EAAGulD,KAAOvlD,EAEb8vD,EACFF,EAAU1wD,KAAKc,GAEf8kC,EAAO5lC,KAAKc,GAGd5B,KAAK2xD,UAAU/vD,EAAGwmB,OAAQxmB,EAAGulD,MAG/BnnD,KAAK4xD,YAAc,SAASxpC,GAC1B,OAAOkpC,EAAUlpC,GAAU,UAG7BpoB,KAAK2xD,UAAY,SAASvpC,EAAQ++B,GAChCmK,EAAUlpC,GAAU,SAAW++B,GAGjCnnD,KAAK6xD,SAAW,SAASjwD,GACvB,YAAsBpD,IAAdoD,EAAGwmB,OAAyBxmB,EAAGulD,IAAM,IAAMvlD,EAAGwmB,OAAUxmB,EAAGulD,KAGrEnnD,KAAK8xD,QAAU,SAASlwD,GAEtB,IAAIulD,EAAMvlD,EAAGulD,IACT4K,EAAQ/xD,KAAK6xD,SAASjwD,GAE1B2vD,EAAKQ,GAAS/xD,KAAKyxD,MAAMtK,GAGrB/mD,GACFA,EAAO0xD,QAAQlwD,IAInB5B,KAAKgyD,QAAU,SAASpwD,GAQtB,IAAIsJ,EAAOlL,KAIX,MAFY,GAAGkZ,OAAOs4C,EAAW9qB,GAEpBh/B,QAVb,SAAgB9F,GACd,IAAImwD,EAAQ7mD,EAAK2mD,SAASjwD,GAE1B,OAAO2vD,EAAKQ,OAwBlB,SAASE,GAASh8C,EAAMC,GACtBD,EAAKE,OAASD,EACdD,EAAKzW,UAAYV,OAAO6D,OAAOuT,EAAU1W,UAAW,CAClDwL,YAAa,CACXhN,MAAOiY,EACPxJ,YAAY,EACZZ,UAAU,EACVC,cAAc,KAKpB,SAAS,GAAOlK,GACd,OAAI,mBAASA,GACJA,GAECA,EAAGwmB,OAASxmB,EAAGwmB,OAAS,IAAM,IAAMxmB,EAAG+hD,UA4DnD,IAAIuO,GAAkB,CACpB,KAAM,MACN,OAAQ,MACR,IAAK,MACLhoD,IAAM,MACN,IAAK,MACL,IAAK,MACL,IAAK,OAGHioD,GAAa,CACf,IAAK,KACL,IAAK,KACL,IAAK,OAGP,SAAS,GAAOxnD,EAAKynD,EAAaC,GAKhC,OAFA1nD,EAAM,mBAASA,GAAOA,EAAM,GAAKA,GAEtBzM,QAAQk0D,GAAa,SAAS3qD,GACvC,MAAO,IAAM4qD,EAAW5qD,GAAK,OA2BjC,SAAS6qD,GAAoBC,GAC3BvyD,KAAKuyD,QAAUA,EAejB,SAASC,MAqBT,SAASC,GAAgBF,GACvBvyD,KAAKuyD,QAAUA,EAkBjB,SAASG,GAAkBtyD,EAAQuyD,GACjC3yD,KAAK0Z,KAAO,GACZ1Z,KAAKrB,MAAQ,GAEbqB,KAAKI,OAASA,EACdJ,KAAK2yD,mBAAqBA,EAmc5B,SAASC,GAAexyD,EAAQuyD,GAC9BD,GAAkBxxD,KAAKlB,KAAMI,EAAQuyD,GAsCvC,SAASE,KACP7yD,KAAKhC,MAAQ,GAEbgC,KAAK8yD,MAAQ,SAASnoD,GACpB3K,KAAKhC,OAAS2M,GAIlB,SAASooD,GAAgBxR,EAAKyR,GAE5B,IAAIC,EAAS,CAAC,IAEdjzD,KAAKpC,OAAS,SAAS+M,GAGrB,OAFA42C,EAAIuR,MAAMnoD,GAEH3K,MAGTA,KAAKkzD,cAAgB,WAKnB,OAJIF,GACFzR,EAAIuR,MAAM,MAGL9yD,MAGTA,KAAKmzD,aAAe,WAKlB,OAJIH,GACFzR,EAAIuR,MAAMG,EAAOhyD,KAAK,OAGjBjB,MAGTA,KAAKizD,OAAS,WAEZ,OADAA,EAAOnyD,KAAK,IACLd,MAGTA,KAAKozD,SAAW,WAEd,OADAH,EAAOlxB,MACA/hC,MASX,SAASqzD,GAAOxlD,GAmBd,OAjBAA,EAAU,iBAAO,CAAEmlD,QAAQ,EAAOM,UAAU,GAAQzlD,GAAW,IAiBxD,CACL0lD,MAhBF,SAAeC,EAAMC,GACnB,IAAIC,EAAiBD,GAAU,IAAIZ,GAC/Bc,EAAkB,IAAIZ,GAAgBW,EAAgB7lD,EAAQmlD,QAQlE,GANInlD,EAAQylD,UACVK,EAAgB/1D,OAzzBH,6CA4zBf,IAAI80D,IAAoB5N,MAAM0O,GAAMI,YAAYD,IAE3CF,EACH,OAAOC,EAAe11D,QCxtD5B,SAAS61D,GAAU3P,EAAUr2C,GAC3B82C,EAAOzjD,KAAKlB,KAAMkkD,EAAUr2C,GDmnC9BykD,GAAoB9yD,UAAUslD,MAAQ,SAAStoD,GAE7C,OADAwD,KAAKxD,QAAUA,EACRwD,MAGTsyD,GAAoB9yD,UAAUo0D,YAAc,SAASH,GACnDA,EACGN,eACAv1D,OAAO,IAAMoC,KAAKuyD,QAAU,IAAMvyD,KAAKxD,QAAQmM,GAAK,KAAO3I,KAAKuyD,QAAU,KAC1EW,iBAKLV,GAAehzD,UAAUs0D,eACzBtB,GAAehzD,UAAUo0D,YAAc,SAASH,GAC9CA,EAAO71D,OACLoC,KAAK+zD,OAjCA,GAkCU/zD,KAAKhC,MAlCHozD,EAAce,IAmC3BnyD,KAAKhC,QAIbw0D,GAAehzD,UAAUslD,MAAQ,SAASl3C,EAAM5P,GAO9C,OANAgC,KAAKhC,MAAQA,EAEK,WAAd4P,EAAKnR,OAAqD,IAAhCuB,EAAMwrB,OAAO4nC,KACzCpxD,KAAK+zD,QAAS,GAGT/zD,MAOTiyD,GAASQ,GAAiBD,IAE1BC,GAAgBjzD,UAAUo0D,YAAc,SAASH,GAE/CA,EACGN,eACAv1D,OAAO,IAAMoC,KAAKuyD,QAAU,KAE/BvyD,KAAK8zD,eAAeL,GAEpBA,EACG71D,OAAO,KAAOoC,KAAKuyD,QAAU,KAC7BW,iBAWLR,GAAkBlzD,UAAUslD,MAAQ,SAAStoD,GAC3CwD,KAAKxD,QAAUA,EAEf,IAGIw3D,EACAzR,EAhFoBv/C,EA4EpBixD,EAAoBz3D,EAAQisD,YAC5BkK,EAAqB3yD,KAAK2yD,mBAK1BpK,EAAY0L,EAAkB1L,UA0BlC,OAvBEyL,EADEzL,EACWvoD,KAAKk0D,aAAa13D,GAElBwD,KAAKm0D,kBAAkB33D,GAIpCwD,KAAK4B,GADH+wD,EACQ3yD,KAAKo0D,kBAAkBzB,GAEvB3yD,KAAKq0D,UAAUJ,GAI3Bj0D,KAAKuyD,QAAUvyD,KAAKs0D,WAAWt0D,KAAK4B,IAE/B2mD,IACHhG,EA3KJ,SAAmC/lD,GACjC,IAAIoW,EAAapW,EAAQisD,YAEzB,OAAO,iBAAO71C,EAAW2vC,YAAY,SAASv2C,GAC5C,IAAI/O,EAAO+O,EAAE/O,KAEb,GAAI+O,EAAE0jD,UACJ,OAAO,EAIT,IAAK,cAAIlzD,EAASS,GAChB,OAAO,EAGT,IAAIe,EAAQxB,EAAQS,GAGpB,OAAIe,IAAUgO,EAAE02C,UAKF,OAAV1kD,KAIGgO,EAAEy2C,QAASzkD,EAAMqB,YAgJXk1D,CAA0B/3D,GAEvCwD,KAAKw0D,iBAtGiBxxD,EAsGgBu/C,EArGjC,iBAAOv/C,GAAO,SAASgJ,GAAK,OAAOA,EAAEqjD,YAsG1CrvD,KAAKy0D,kBAnGT,SAAyBzxD,GACvB,OAAO,iBAAOA,GAAO,SAASgJ,GAAK,OAAQA,EAAEqjD,UAkGpBqF,CAAgBnS,KAGzCviD,KAAK20D,uBAAuBn4D,EAASw3D,GAE9Bh0D,MAGT0yD,GAAkBlzD,UAAU60D,UAAY,SAASzhD,GAE/C,OApMF,SAAsBhR,EAAIgR,GACxB,OAAIA,EAAW21C,UACN,iBAAO,CAAE5E,UAAW/wC,EAAWhR,GAAG+hD,WAAa/hD,GAE/C,iBAAO,CAAE+hD,WA7CC1mD,EA6CsB2V,EAAWhR,GAAG+hD,UA7C9BY,EA6CyC3xC,EAAWs1C,KA5CzE6E,EAAkBxI,IALTn3B,EAMEnwB,GALD2F,OAAO,GAAGzE,cAAgBivB,EAAOvmB,MAAM,GAO5C5J,IAyC6E2E,GA7CxF,IAAqB3E,EAAMsnD,EAJZn3B,EAiPNwnC,CADW50D,KAAK60D,iBAAiBjiD,EAAWhR,IAClBgR,IAGnC8/C,GAAkBlzD,UAAU40D,kBAAoB,SAASxhD,GAEvD,OAjMF,SAAuBhR,EAAIgR,GACzB,OAAO,iBAAO,CAAE+wC,UAAW/wC,EAAWhR,GAAG+hD,WAAa/hD,GAgM/CkzD,CADW90D,KAAK60D,iBAAiBjiD,EAAWhR,IACjBgR,IAGpC8/C,GAAkBlzD,UAAUu1D,UAAY,SAASnzD,GAC/C,OAAOA,EAAGulD,MAAQnnD,KAAK4B,GAAGulD,KAW5BuL,GAAkBlzD,UAAUw1D,gBAAkB,SAASx4D,GAErD,IAAIoF,EASJ,GANEA,EADE,mBAASpF,GACNinD,EAAYjnD,GAEZA,EAAQoF,GAIXpF,EAAQkqD,UACV,MAAO,CAAE/C,UAAW/hD,EAAG+hD,WAIzB,IAAIsR,EAAcj1D,KAAK60D,iBAAiBjzD,GAMxC,OAHA5B,KAAKk1D,gBAAgBpD,QAAQmD,GAGzBj1D,KAAK+0D,UAAUE,GACV,CAAEtR,UAAW/hD,EAAG+hD,WAEhB,iBAAO,CAAEA,UAAW/hD,EAAG+hD,WAAasR,IAI/CvC,GAAkBlzD,UAAU00D,aAAe,SAAS13D,GAElD,IAAI0O,EAAOlL,KACP0Z,EAAO1Z,KAAK0Z,KAEZs1C,EAAa,GAuBjB,OArBA,kBAAQxyD,GAAS,SAASoa,EAAK/D,GAIjB,UAARA,EACF6G,EAAK5Y,MAAK,IAAI0xD,IAAiB1N,MAAM,CAAEroD,KAAM,UAAYma,IAE/C,cAAR/D,EACF,kBAAQ+D,GAAK,SAASpW,GACpBkZ,EAAK5Y,KAAK,IAAI4xD,GAAkBxnD,GAAM45C,MAAMtkD,OAGvB,IAArBqS,EAAIzT,QAAQ,MACF8L,EAAKiqD,iBAAiB34D,EAASqW,EAAK+D,IAG9Co4C,EAAWluD,KAAK,CAAE7D,KAAM4V,EAAK7U,MAAO4Y,OAKnCo4C,GAGT0D,GAAkBlzD,UAAU21D,iBAAmB,SAAS34D,EAASS,EAAMe,GACrE,IAII4D,EAJA0gD,EAAQ9lD,EAAQ+N,OAEhBs5C,EAASJ,EAAYxmD,GAczB,GATsB,UAAlB4mD,EAAOz7B,SACTxmB,EAAK,CAAEwmB,OAAQy7B,EAAOF,UAAWwD,IAAKnpD,IAInC6lD,EAAOz7B,QAA+B,UAArBy7B,EAAOF,YAC3B/hD,EAAK,CAAEulD,IAAKnpD,KAGT4D,EACH,MAAO,CACL3E,KAAMA,EACNe,MAAOA,GAIX,GAAIskD,GAASA,EAAMwE,WAAW9oD,GAG5BgC,KAAKo1D,aAAaxzD,GAAI,GAAM,OACvB,CAGL,IAAIyzD,EAAWr1D,KAAK60D,iBAAiBjzD,GAAI,GAEzC5B,KAAKk1D,gBAAgBpD,QAAQuD,KAWjC3C,GAAkBlzD,UAAU20D,kBAAoB,SAAS33D,EAASmC,GAChE,IAAIuM,EAAOlL,KAEPs1D,EAAe94D,EAAQ4rD,OAEvB4G,EAAa,GAcjB,OATA,kBAAQsG,GAAc,SAASt3D,EAAOf,GAEpC,IAAIs4D,EAAYrqD,EAAKiqD,iBAAiB34D,EAASS,EAAMe,GAEjDu3D,GACFvG,EAAWluD,KAAKy0D,MAIbvG,GAGT0D,GAAkBlzD,UAAUm1D,uBAAyB,SAASn4D,EAASwyD,GAErE,IAAI9jD,EAAOlL,KAEX,kBAAQgvD,GAAY,SAASzwD,GAI3B,GAl3CW,aAk3CPA,EAAKtB,KAIT,IACEiO,EAAKsqD,aAAatqD,EAAK8pD,gBAAgBz2D,EAAKtB,MAAOsB,EAAKP,OACxD,MAAOP,GACPovB,QAAQC,KACN,qCACAvuB,EAAKtB,KAAM,IAAKsB,EAAKP,MAAO,KAAMxB,EAClCiB,QAKRi1D,GAAkBlzD,UAAUi1D,kBAAoB,SAASlS,GAEvD,IAAIr3C,EAAOlL,KACP0Z,EAAO1Z,KAAK0Z,KACZld,EAAUwD,KAAKxD,QAEnB,kBAAQ+lD,GAAY,SAASv2C,GAC3B,IAAIhO,EAAQxB,EAAQoS,IAAI5C,EAAE/O,MACtBynD,EAAc14C,EAAE04C,YAOpB,GANa14C,EAAEy2C,SAGbzkD,EAAQ,CAAEA,IAGRgO,EAAEy5C,OACJ/rC,EAAK5Y,MAAK,IAAI0xD,IAAiB1N,MAAM94C,EAAGhO,EAAM,UAEhD,GAAIwlD,EAAax3C,EAAEvP,MACjB,kBAAQuB,GAAO,SAASs3B,GACtB5b,EAAK5Y,KAAK,IAAI2xD,GAAgBvnD,EAAKopD,WAAWppD,EAAKkpD,kBAAkBpoD,KAAK84C,MAAM94C,EAAGspB,YAGvF,GAAIovB,EACF,kBAAQ1mD,GAAO,SAASs3B,GACtB5b,EAAK5Y,KAAK,IAAIwxD,GAAoBpnD,EAAKopD,WAAWppD,EAAKkpD,kBAAkBpoD,KAAK84C,MAAMxvB,WAEjF,CAIL,IAAImgC,EAASrI,EAAgBphD,GACzB0pD,EAv5CV,SAA6Bl5D,GAC3B,MAAoC,aAA7B0wD,EAAgB1wD,GAs5CFm5D,CAAoB3pD,GAErC,kBAAQhO,GAAO,SAASs3B,GACtB,IAAIsgC,EAGFA,EADEH,EACW,IAAI7C,GAAe1nD,EAAMc,GAEpC0pD,EACW,IAAIhD,GAAkBxnD,EAAMc,GAE5B,IAAI0mD,GAAkBxnD,GAGrCwO,EAAK5Y,KAAK80D,EAAW9Q,MAAMxvB,YAMnCo9B,GAAkBlzD,UAAU01D,cAAgB,SAASW,GAEnD,IAEIC,EAFAC,EAAa/1D,KAAK+1D,WAClB31D,EAASJ,KAAKI,OAalB,OAVK21D,IACHD,EAAmB11D,GAAUA,EAAO80D,gBAEhCW,IAAUC,EACZ91D,KAAK+1D,WAAaA,EAAa,IAAI1E,EAAWyE,GAE9CC,EAAaD,GAIVC,GAGTrD,GAAkBlzD,UAAU41D,aAAe,SAASxzD,EAAI4vD,EAAWqE,GACjE,IAAIE,EAAa/1D,KAAKk1D,cAAcW,GAEhCvN,EAAQ1mD,EAAGulD,IACXtB,EAAWjkD,EAAGwmB,OAUlB,OARe2tC,EAAWtE,MAAMnJ,KAEfuN,GACfE,EAAWn1D,IAAIgB,EAAI4vD,GAGrBuE,EAAWpE,UAAU9L,EAAUyC,GAExB1mD,GAGT8wD,GAAkBlzD,UAAUq1D,iBAAmB,SAASjzD,EAAIi0D,GAC1D,IAYIG,EAAWhvD,EACXivD,EAZA3T,EADUtiD,KAAKxD,QACC+N,OAChBwrD,EAAa/1D,KAAKk1D,cAAcW,GAQhCztC,EAASxmB,EAAGwmB,OACZ++B,EAAMvlD,EAAGulD,IAKb,IAAK/+B,IAAW++B,EACd,MAAO,CAAExD,UAAW/hD,EAAG+hD,WAOzB,GAJAsS,EAAehJ,EAAe7kC,IAAWk6B,IAAUA,EAAMwE,WAAW1+B,IAAW,IAAI++B,MAEnFA,EAAMA,GAAO8O,GAAgBF,EAAWnE,YAAYxpC,IAGlD,MAAM,IAAIroB,MAAM,sCAAwCqoB,EAAS,KAKnE,KAFAxmB,EAAKm0D,EAAWtE,MAAMtK,IAEb,CAKP,IAJA6O,EAAY5tC,EACZphB,EAAM,EAGC+uD,EAAWnE,YAAYoE,IAC5BA,EAAY5tC,EAAS,IAAMphB,IAG7BpF,EAAK5B,KAAKo1D,aAAa,CAAEhtC,OAAQ4tC,EAAW7O,IAAKA,GAAO8O,IAAiB9O,GAO3E,OAJI/+B,GACF2tC,EAAWpE,UAAUvpC,EAAQ++B,GAGxBvlD,GAGT8wD,GAAkBlzD,UAAUg1D,gBAAkB,SAASjS,GACrD,IAAIr3C,EAAOlL,KACPxD,EAAUwD,KAAKxD,QAEnB,kBAAQ+lD,GAAY,SAASv2C,GAE3B,IAAIhO,EAAQxB,EAAQoS,IAAI5C,EAAE/O,MAE1B,GAAI+O,EAAE04C,YAEJ,GAAK14C,EAAEy2C,OAGF,CACH,IAAIwM,EAAS,GACb,kBAAQjxD,GAAO,SAASs3B,GACtB25B,EAAOnuD,KAAKw0B,EAAE3sB,OAIhB3K,EAAQixD,EAAOhuD,KAAK,UATpBjD,EAAQA,EAAM2K,GAclBuC,EAAKsqD,aAAatqD,EAAK8pD,gBAAgBhpD,GAAIhO,OAI/C00D,GAAkBlzD,UAAU80D,WAAa,SAASD,GAChD,IAAIgB,EAAWr1D,KAAK60D,iBAAiBR,GAIrC,OAFAr0D,KAAKk1D,gBAAgBpD,QAAQuD,GAEtB,GAAOhB,IAGhB3B,GAAkBlzD,UAAUg2D,aAAe,SAASv4D,EAAMe,GACxD,IAAIW,EAAQqB,KAAKrB,MAEb,mBAASX,KACXA,EApdK,GAodcA,EApdFmzD,EAAmBe,KAudtCvzD,EAAMmC,KAAK,CAAE7D,KAAMA,EAAMe,MAAOA,KAGlC00D,GAAkBlzD,UAAU02D,oBAAsB,SAASzC,GACzD,IAAI90D,EAAQqB,KAAKrB,MACbo3D,EAAa/1D,KAAK+1D,WAElBA,IACFp3D,EAxjBJ,SAAoBo3D,GAElB,OAAOA,EAAW/D,UAAUtqD,QAAO,SAAS9F,GAG1C,MAAqB,QAAdA,EAAGwmB,UACTtN,KAAI,SAASlZ,GAEd,MAAO,CAAE3E,KADE,SAAW2E,EAAGwmB,OAAS,IAAMxmB,EAAGwmB,OAAS,IAC/BpqB,MAAO4D,EAAGulD,QAgjBvBgP,CAAWJ,GAAY78C,OAAOva,IAGxC,kBAAQA,GAAO,SAASwE,GACtBswD,EACG71D,OAAO,KACPA,OAAO,GAAOuF,EAAElG,OAAOW,OAAO,MAAMA,OAAOuF,EAAEnF,OAAOJ,OAAO,SAIlE80D,GAAkBlzD,UAAUo0D,YAAc,SAASH,GACjD,IAAI2C,EAAYp2D,KAAK0Z,KAAK,GACtBu5C,EAASmD,GAAaA,EAAUprD,cAAgBwnD,GAEpDiB,EACGN,eACAv1D,OAAO,IAAMoC,KAAKuyD,SAErBvyD,KAAKk2D,oBAAoBzC,GAEzBA,EAAO71D,OAAOw4D,EAAY,IAAM,OAE5BA,IAEEnD,GACFQ,EACGP,gBACAD,SAGL,kBAAQjzD,KAAK0Z,MAAM,SAAStW,GAC1BA,EAAEwwD,YAAYH,MAGZR,GACFQ,EACGL,WACAD,eAGLM,EAAO71D,OAAO,KAAOoC,KAAKuyD,QAAU,MAGtCkB,EAAOP,iBAUTjB,GAASW,GAAgBF,IAEzBE,GAAepzD,UAAU20D,kBAAoB,SAAS33D,GAGpD,IAAIwyD,EAAa0D,GAAkBlzD,UAAU20D,kBAAkBjzD,KAAKlB,KAAMxD,GAEtEoW,EAAapW,EAAQisD,YAGzB,GAAI71C,EAAW3V,OAAS+C,KAAK2yD,mBAAmBl2D,KAC9C,OAAOuyD,EAGT,IAAIqH,EAASr2D,KAAKq2D,OAASr2D,KAAKq0D,UAAUzhD,GAC1C5S,KAAKk1D,gBAAgBpD,QAAQ9xD,KAAKq2D,QAKlC,IAAI9R,EAAM/nD,EAAQ+N,OAAOu8C,WAAWuP,EAAOlP,KACvCmI,EAAc/K,EAAIsG,KAAOtG,EAAIsG,IAAIyE,YAAe,GAOpD,OALAtvD,KAAKw1D,aACHx1D,KAAKg1D,gBA5oDM,aA6oDVqB,EAAOjuC,OAASiuC,EAAOjuC,OAAS,IAAM,IAAMknC,EAAa18C,EAAWhR,GAAG+hD,WAGnEqL,GAGT4D,GAAepzD,UAAUu1D,UAAY,SAASnzD,GAC5C,OAAOA,EAAGulD,OAASnnD,KAAKq2D,QAAUr2D,KAAK4B,IAAIulD,KChpD7C0M,GAAUr0D,UAAYV,OAAO6D,OAAOgiD,EAAOnlD,WA8B3Cq0D,GAAUr0D,UAAU2wD,QAAU,SAASmG,EAAQ1P,EAAU/4C,GAElD,mBAAS+4C,KACZ/4C,EAAU+4C,EACVA,EAAW,mBAGb,IAAI2P,EAAS,IAAI9H,EAAO,iBAAO,CAAEnM,MAAOtiD,KAAM0uD,KAAK,GAAQ7gD,IACvDuiD,EAAcmG,EAAOpzC,QAAQyjC,GAEjC,OAAO2P,EAAOpG,QAAQmG,EAAQlG,IAmBhCyD,GAAUr0D,UAAU+zD,MAAQ,SAAS/2D,EAASqR,GAE5C,IAAI4lD,EAAS,IAAIJ,GAAOxlD,GAExB,OAAO,IAAI6e,SAAQ,SAAS0uB,EAAS7+B,GACnC,IAGE,OAAO6+B,EAAQ,CACbyP,IAHW4I,EAAOF,MAAM/2D,KAK1B,MAAOyb,GACP,OAAOsE,EAAOtE,QAKpB,IA8pDI,GAAW,CACbu+C,GAhkDc,CACfv5D,KAhGY,KAiGZmrB,OAhGc,KAiGd++B,IAhGW,2CAiGXhqD,MAhGa,CACb,CACCF,KAAM,YACNslD,WAAY,CACX,CACCtlD,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,SACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,SACNslD,WAAY,CACX,CACCtlD,KAAM,SACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,QACNslD,WAAY,CACX,CACCtlD,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,QACNslD,WAAY,CACX,CACCtlD,KAAM,MACNR,KAAM,0DAEP,CACCQ,KAAM,QACNR,KAAM,0DAEP,CACCQ,KAAM,OACNR,KAAM,6DA4BTg6D,aAvBoB,GAwBpBC,aAtBoB,CACpB,CACCz5D,KAAM,gBACN05D,cAAe,CACd,CACC15D,KAAM,SAEP,CACCA,KAAM,UAEP,CACCA,KAAM,WAskDRw3B,GAn8Cc,CACfx3B,KAtHY,KAuHZmrB,OAtHc,KAuHd++B,IAtHW,2CAuHXhqD,MAtHa,CACb,CACCF,KAAM,iBACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,YACNR,KAAM,aAEP,CACCQ,KAAM,KACNoyD,QAAQ,EACR9J,MAAM,EACN9oD,KAAM,UAEP,CACCQ,KAAM,QACNynD,aAAa,EACbjoD,KAAM,QACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNynD,aAAa,EACbgL,WAAW,EACXjzD,KAAM,WAIT,CACCQ,KAAM,UACN0O,WAAY,CACX,kBAED42C,WAAY,CACX,CACCtlD,KAAM,OACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,gBACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,aACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,QACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,SACNR,KAAM,cAGRkP,WAAY,CACX,mBAGF,CACC1O,KAAM,OACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,WACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,cAIdxhD,WAAY,CACX,mBAGF,CACC1O,KAAM,QACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,KACNoyD,QAAQ,EACR9J,MAAM,EACN9oD,KAAM,YAIT,CACCQ,KAAM,YACNslD,WAAY,CACX,CACCtlD,KAAM,SACNwlD,QAAQ,EACRhmD,KAAM,cAiBTg6D,aAZoB,GAapBC,aAXoB,GAYpB7L,IAVW,CACXmC,SAAU,cAs8CT6J,IAvTe,CAChB55D,KApoCY,MAqoCZmrB,OApoCc,MAqoCd++B,IApoCW,+CAqoCXhqD,MApoCa,CACb,CACCF,KAAM,uBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,oBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,mBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,iBACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,UACNR,KAAM,UAEP,CACCQ,KAAM,gBACNR,KAAM,aACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,eACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,gBACNR,KAAM,iBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,eACNR,KAAM,gBAEP,CACCQ,KAAM,eACNoyD,QAAQ,EACR5yD,KAAM,aAIT,CACCQ,KAAM,cACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,SACNR,KAAM,SACNgmD,QAAQ,GAET,CACCxlD,KAAM,iBACNR,KAAM,iBACNgmD,QAAQ,GAET,CACCxlD,KAAM,aACNR,KAAM,aACNgmD,QAAQ,GAET,CACCxlD,KAAM,WACNR,KAAM,WACNgmD,QAAQ,GAET,CACCxlD,KAAM,oBACNR,KAAM,oBACNgmD,QAAQ,GAET,CACCxlD,KAAM,yBACNR,KAAM,yBACNgmD,QAAQ,GAET,CACCxlD,KAAM,YACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,qBACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,eACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,WACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,kBACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,QACNR,KAAM,iBAIT,CACCQ,KAAM,kBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,GAET,CACCxlD,KAAM,OACNR,KAAM,UAEP,CACCQ,KAAM,QACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNR,KAAM,SACN4yD,QAAQ,KAIX,CACCpyD,KAAM,eACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,aACNR,KAAM,aACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNR,KAAM,oBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,kBACNR,KAAM,iBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,aACN25D,YAAY,EACZjrD,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,UACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,kBACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,UACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,WACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,SACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,iBACNR,KAAM,SACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,WACNR,KAAM,kBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,yBACNR,KAAM,yBACNgmD,QAAQ,GAET,CACCxlD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,GAET,CACCxlD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,GAET,CACCxlD,KAAM,qBACNwlD,QAAQ,EACRhmD,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,+BACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,eACNwlD,QAAQ,EACRhmD,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,YACNwlD,QAAQ,EACRhmD,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,gBAIT,CACCQ,KAAM,aACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,iBACNR,KAAM,cAEP,CACCQ,KAAM,UACNR,KAAM,UACNgmD,QAAQ,KAIX,CACCxlD,KAAM,qBACN0O,WAAY,CACX,0BAED42C,WAAY,CACX,CACCtlD,KAAM,eACNR,KAAM,WACNioD,aAAa,EACbjC,QAAQ,GAET,CACCxlD,KAAM,gBACNR,KAAM,WACNioD,aAAa,EACbjC,QAAQ,KAIX,CACCxlD,KAAM,SACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,aACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,cACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,YACNR,KAAM,SACN4yD,QAAQ,KAIX,CACCpyD,KAAM,yBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,mBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,oBACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,aACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,aACN25D,YAAY,EACZjrD,WAAY,CACX,gBAED42C,WAAY,IAGb,CACCtlD,KAAM,YACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,kBACNouD,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,aACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,cACNR,KAAM,UAEP,CACCQ,KAAM,oBACNR,KAAM,qBAEP,CACCQ,KAAM,KACNR,KAAM,SACN4yD,QAAQ,EACR9J,MAAM,GAEP,CACCtoD,KAAM,qBACNR,KAAM,qBACNgmD,QAAQ,GAET,CACCxlD,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,cACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,kBACNR,KAAM,oBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNR,KAAM,aACNouD,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,gBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,QACNR,KAAM,cACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,SACNR,KAAM,eACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,aACNR,KAAM,uBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,OACNR,KAAM,eACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,YACNR,KAAM,YACN4yD,QAAQ,EACR,QAAW,UAEZ,CACCpyD,KAAM,cACNR,KAAM,oBACN4yD,QAAQ,GAET,CACCpyD,KAAM,uBACNR,KAAM,2BACN4yD,QAAQ,GAET,CACCpyD,KAAM,cACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,oBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,qBACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,OACNR,KAAM,UAEP,CACCQ,KAAM,iBACNR,KAAM,oBAIT,CACCQ,KAAM,UACNslD,WAAY,CACX,CACCtlD,KAAM,YACNR,KAAM,kBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,iBACNR,KAAM,gBAIT,CACCQ,KAAM,uBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,oBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,yBACN0O,WAAY,CACX,aAED42C,WAAY,CACX,CACCtlD,KAAM,oBACNR,KAAM,qBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,GAET,CACCxlD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,KAIX,CACCxlD,KAAM,yBACN25D,YAAY,EACZjrD,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,MACNR,KAAM,SACN4yD,QAAQ,KAIX,CACCpyD,KAAM,uBACN0O,WAAY,CACX,0BAED42C,WAAY,CACX,CACCtlD,KAAM,oBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,qBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,kBACNR,KAAM,kBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,OACNR,KAAM,cAEP,CACCQ,KAAM,OACNR,KAAM,eACN4yD,QAAQ,KAIX,CACCpyD,KAAM,UACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,eACNR,KAAM,eACNgmD,QAAQ,KAIX,CACCxlD,KAAM,eACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,kBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,QACNR,KAAM,gBAIT,CACCQ,KAAM,OACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,WACNwlD,QAAQ,EACRhmD,KAAM,gBAIT,CACCQ,KAAM,WACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,SACNR,KAAM,kBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,MACNR,KAAM,OACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,eACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,eACNR,KAAM,aACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,qBACNR,KAAM,oBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,OACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,UACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,aACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,OACNR,KAAM,UAEP,CACCQ,KAAM,qBACNR,KAAM,SACN4yD,QAAQ,KAIX,CACCpyD,KAAM,eACN25D,YAAY,EACZjrD,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,OACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,iBACN0O,WAAY,CACX,UAED42C,WAAY,CACX,CACCtlD,KAAM,kBACNR,KAAM,UAEP,CACCQ,KAAM,qBACNR,KAAM,SACN4yD,QAAQ,KAIX,CACCpyD,KAAM,kBACN0O,WAAY,CACX,aAED42C,WAAY,CACX,CACCtlD,KAAM,iBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,uBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,YACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,oBACNslD,WAAY,CACX,CACCtlD,KAAM,SACNR,KAAM,UACNgmD,QAAQ,KAIX,CACCxlD,KAAM,qBACNslD,WAAY,CACX,CACCtlD,KAAM,QACNR,KAAM,WAEP,CACCQ,KAAM,WACNR,KAAM,UACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,OACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,UACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,qBACNR,KAAM,qBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,WACNR,KAAM,oBACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,WACN25D,YAAY,EACZjrD,WAAY,CACX,cAED42C,WAAY,IAGb,CACCtlD,KAAM,cACN0O,WAAY,CACX,YAED42C,WAAY,CACX,CACCtlD,KAAM,YACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,YACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,uBACNR,KAAM,uBACN4yD,QAAQ,KAIX,CACCpyD,KAAM,iBACN0O,WAAY,CACX,YAED42C,WAAY,CACX,CACCtlD,KAAM,OACNR,KAAM,UAEP,CACCQ,KAAM,aACNoyD,QAAQ,EACR5yD,KAAM,SACN,QAAW,gBAId,CACCQ,KAAM,uBACNslD,WAAY,CACX,CACCtlD,KAAM,OACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,iBACNslD,WAAY,CACX,CACCtlD,KAAM,OACNR,KAAM,YAIT,CACCQ,KAAM,YACN25D,YAAY,EACZjrD,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,kBACNouD,IAAK,CACJsC,UAAW,eAKf,CACClwD,KAAM,QACN0O,WAAY,CACX,YAED42C,WAAY,CACX,CACCtlD,KAAM,OACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,eACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,aACNwlD,QAAQ,EACRhmD,KAAM,kBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,sBACNslD,WAAY,CACX,CACC8M,QAAQ,EACRpyD,KAAM,OACNR,KAAM,aAsGTi6D,aAjGoB,CACpB,CACCz5D,KAAM,YACN05D,cAAe,CACd,CACC15D,KAAM,UAEP,CACCA,KAAM,SAEP,CACCA,KAAM,YAEP,CACCA,KAAM,OAEP,CACCA,KAAM,WAEP,CACCA,KAAM,cAEP,CACCA,KAAM,kBAIT,CACCA,KAAM,oBACN05D,cAAe,CACd,CACC15D,KAAM,OAEP,CACCA,KAAM,SAEP,CACCA,KAAM,OAEP,CACCA,KAAM,SAIT,CACCA,KAAM,2BACN05D,cAAe,CACd,CACC15D,KAAM,eAEP,CACCA,KAAM,kBAEP,CACCA,KAAM,gBAIT,CACCA,KAAM,uBACN05D,cAAe,CACd,CACC15D,KAAM,QAEP,CACCA,KAAM,OAEP,CACCA,KAAM,UAIT,CACCA,KAAM,eACN05D,cAAe,CACd,CACC15D,KAAM,QAEP,CACCA,KAAM,QAEP,CACCA,KAAM,WAgBTw5D,aAXoB,GAYpB5L,IAVW,CACXmC,SAAU,cA0TT8J,MAvEiB,CAClB75D,KAxOY,QAyOZmrB,OAxOc,QAyOd++B,IAxOW,+CAyOXhqD,MAxOa,CACb,CACCF,KAAM,QACNslD,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,aACNgmD,QAAQ,GAET,CACCxlD,KAAM,SACNR,KAAM,WACNgmD,QAAQ,KAIX,CACCxlD,KAAM,WACN0O,WAAY,CACX,YAED42C,WAAY,CACX,CACCtlD,KAAM,YACNR,KAAM,WACN4yD,QAAQ,GAET,CACCpyD,KAAM,cACNR,KAAM,WACN4yD,QAAQ,GAET,CACCpyD,KAAM,YACNR,KAAM,WACN4yD,QAAQ,GAET,CACCpyD,KAAM,WACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,aACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,aACNoyD,QAAQ,EACR5yD,KAAM,WAEP,CACCQ,KAAM,WACNoyD,QAAQ,EACR5yD,KAAM,WAEP,CACCQ,KAAM,gBACNoyD,QAAQ,EACR5yD,KAAM,WAEP,CACCQ,KAAM,oBACNoyD,QAAQ,EACR5yD,KAAM,WAEP,CACCQ,KAAM,2BACNR,KAAM,mBACN4yD,QAAQ,GAET,CACCpyD,KAAM,yBACNR,KAAM,mBACN4yD,QAAQ,KAIX,CACCpyD,KAAM,aACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,gBACNR,KAAM,iBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,OACNR,KAAM,QAEP,CACCQ,KAAM,aACNR,KAAM,WACNizD,WAAW,GAEZ,CACCzyD,KAAM,cACNR,KAAM,WACNizD,WAAW,EACXhL,aAAa,EACbsB,UAAW,iCAEZ,CACC/oD,KAAM,kBACNR,KAAM,oBACNgmD,QAAQ,KAIX,CACCxlD,KAAM,oBACN25D,YAAY,EACZjrD,WAAY,CACX,qBAED42C,WAAY,CACX,CACCtlD,KAAM,gBACNR,KAAM,iBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,cACNR,KAAM,WACNizD,WAAW,EACXhL,aAAa,EACbsB,UAAW,iCAEZ,CACC/oD,KAAM,aACNR,KAAM,WACNizD,WAAW,GAEZ,CACCzyD,KAAM,QACNR,KAAM,cAIT,CACCQ,KAAM,WACN0O,WAAY,CACX,YAED42C,WAAY,CACX,CACCtlD,KAAM,OACNR,KAAM,UAIT,CACCQ,KAAM,WACN0O,WAAY,CACX,WACA,qBAED42C,WAAY,CACX,CACCtlD,KAAM,oBACNoyD,QAAQ,EACR5yD,KAAM,WAEP,CACCQ,KAAM,6BACNR,KAAM,iCAEP,CACCQ,KAAM,cACNoyD,QAAQ,EACR5yD,KAAM,aAIT,CACCQ,KAAM,UACN0O,WAAY,CACX,UACA,qBAED42C,WAAY,CACX,CACCtlD,KAAM,gBACNR,KAAM,oBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,gBACNR,KAAM,oBACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,gCACN0O,WAAY,CACX,YAGF,CACC1O,KAAM,OACNslD,WAAY,CACX,CACCtlD,KAAM,OACNwoD,QAAQ,EACRhpD,KAAM,YAIT,CACCQ,KAAM,OACN0O,WAAY,CACX,kBAaF8qD,aATkB,GAUlBC,aARkB,IA0EjBK,MAbiB,CAClB95D,KAnDU,qBAoDVkqD,IAnDS,sCAoDT/+B,OAnDY,QAoDZyiC,IAnDS,CACTmC,SAAU,aAmDV7vD,MAjDW,CACX,CACCF,KAAM,gBACN25D,YAAY,EACZ,QAAW,CACV,qBAEDrU,WAAY,CACX,CACCtlD,KAAM,mBACNoyD,QAAQ,EACR5yD,KAAM,aAIT,CACCQ,KAAM,eACN25D,YAAY,EACZ,QAAW,CACV,oBAEDrU,WAAY,CACX,CACCtlD,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,aAIT,CACCQ,KAAM,cACN25D,YAAY,EACZ,QAAW,CACV,mBAEDrU,WAAY,CACX,CACCtlD,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,gBA2BK,OANf,SAAgBu6D,EAAoBnpD,GAGlC,OAAO,IAAIgmD,GAFD,iBAAO,GAAI,GAAUmD,GAELnpD,I,6BCtwD5B,SAAS0rC,GAAQx2C,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS86C,GAAcv8C,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI26C,GAAQz6C,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO6pB,GAAgBp/B,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW0wC,GAAQz6C,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAIjf,SAAS08C,GAAmB96C,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAOkZ,GAAkBlZ,GAR1C+6C,CAAmB/6C,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjFC,CAAiBj7C,IAAQqZ,GAA4BrZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8EwuC,GAIlI,SAAS7hC,GAA4B7Y,EAAGyY,GAAU,GAAKzY,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAO0Y,GAAkB1Y,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAiE,MAAnD,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAgB,QAANob,GAAqB,QAANA,EAAoBlU,MAAMmU,KAAK5Y,GAAc,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAWD,GAAkB1Y,EAAGyY,QAAzG,GAM7S,SAASC,GAAkBlZ,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAEhL,SAASzM,GAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS+G,GAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS8pB,GAAgBv9B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAxB3M,mCAwCA,IAAI83D,GAA4B,CAC9BnyD,MAAO,OACPC,OAAQ,OACR6kB,SAAU,YAQR,GAAuB,WAQzB,SAASq1B,IACP,IAAIzyC,EAAQxM,KAER6N,EAAUnK,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElFuI,GAAgBjM,KAAMi/C,GAEtBviB,GAAgB18B,KAAM,iBAAiB,WACrCwM,EAAMyvC,MAAM,gBAAiB,CAC3Bib,MAAO1qD,EAAM2qD,OACbC,WAAY5qD,EAAM6qD,iBAItBr3D,KAAKiO,UAAY,IAAIof,EAAA,EACrBrtB,KAAKs3D,cAAgB,mBAASt3D,KAAKs3D,cAAe,GAClDt3D,KAAKm3D,OAAS,GACdn3D,KAAKu3D,SAAW,GAEhBv3D,KAAKi5C,KAAO,aAAqBj5C,KAAKi5C,KAAK51B,KAAKrjB,OAChDA,KAAKw3D,UAAY,aAAqBx3D,KAAKw3D,UAAUn0C,KAAKrjB,OAC1DA,KAAKy3D,QAAU,aAAqBz3D,KAAKy3D,QAAQp0C,KAAKrjB,OAEtDA,KAAKkpB,MAAMrb,GA5Df,IAAsB1B,EAAa4G,EAAYC,EAyrB7C,OAzrBoB7G,EAwGP8yC,GAxGoBlsC,EAwGX,CAAC,CACrBF,IAAK,YACL7U,MAAO,SAAmB6sD,EAAKh9C,GAC7B,IAAI3C,EAAOlL,KAIX,OAHA6N,EAAUA,GAAW,CACnBorC,MAAM,GAED,IAAIvsB,SAAQ,SAAU0uB,EAAS7+B,GAMpC,IAAIm7C,EAHJ7M,EAAM3/C,EAAK+wC,MAAM,qBAAsB,CACrC4O,IAAKA,KACDA,EAGN3/C,EAAKysD,QAAQxH,QAAQtF,EAAK,mBAAmB59B,MAAK,SAAU2qC,GAC1D,IAAIvyC,EAAcuyC,EAAY/uB,YAC1B6kB,EAAakK,EAAYlK,WACzBD,EAAemK,EAAYnK,aAc/B,GAbAiK,EAAgBE,EAAYzqC,SAG5B9H,EAAcna,EAAK+wC,MAAM,wBAAyB4b,EAAmB,CACnE7rC,MAAO,KACP3G,YAAaA,EACbooC,aAAcA,EACdC,WAAYA,EACZvgC,SAAUuqC,MACLryC,EAEPna,EAAK4sD,gBAAgBzyC,IAEhBxX,EAAQorC,KASX,OARA/tC,EAAK+wC,MAAM,cAAe,CACxBjwB,MAAO,KACPmB,SAAUuqC,SAGZtc,EAAQ,CACNjuB,SAAUuqC,IAKd,IAAI3e,EAAO7tC,EAAKmsD,aAAensD,EAAK6sD,gBAAgB7sD,EAAKisD,QAEzD,IAAKpe,EAAM,CACT,IAAIif,EAA2B,IAAIj4D,MAAM,2BAQzC,OANAmL,EAAK+wC,MAAM,cAAe,CACxBjwB,MAAOgsC,EACP7qC,SAAUuqC,IAGZM,EAAyB7qC,SAAWuqC,EAC7Bn7C,EAAOy7C,GAGhB9sD,EAAK+tC,KAAKF,GAAM9rB,MAAK,SAAUplB,GAC7B,MAAO,CACLslB,SAAUtlB,EAAOslB,aAEX,OAAE,SAAUnB,GACpB,MAAO,CACLA,MAAOA,EACPmB,SAAUnB,EAAMmB,aAEjBF,MAAK,SAAUplB,GAChB,IAAIowD,EAAc,GAAG/+C,OAAOw+C,EAAe7vD,EAAOslB,UAElDjiB,EAAK+wC,MAAM,cAAe,CACxBjwB,MAAOnkB,EAAOmkB,MACdmB,SAAU8qC,IAGRpwD,EAAOmkB,OACTnkB,EAAOmkB,MAAMmB,SAAW8qC,EACxB17C,EAAO1U,EAAOmkB,QAEdovB,EAAQ,CACNjuB,SAAU8qC,UAIR,OAAE,SAAUC,GAepB,OAdAR,EAAgBQ,EAAW/qC,SAC3B+qC,EAygBV,SAAoCjgD,EAAK4yC,GAEvC,GAAoB,kDAAhB5yC,EAAIg3B,QACN,OAAO,KAGT,IAAIkpB,GAAqF,IAAnEtN,EAAIzrD,QAAQ,kDAA4D,OAA2E,IAAlEyrD,EAAIzrD,QAAQ,kDAA2D,MAE9K,OAAK+4D,GAILlgD,EAAM,IAAIlY,MAAM,mBAAqBo4D,EAArB,oDAChBtrC,QAAQb,MAAM,qCAAuCmsC,EAAvC,sIAA0MlgD,GACjNA,GALE,KAlhBYmgD,CAA2BF,EAAYrN,MA8hBxDjgD,EADU,kDACMkiD,MAJQ70C,EA1hB6DigD,GA8hB5DjpB,WAM7Bh3B,EAAIg3B,QAAU,uBAAyBrkC,EAAM,GAA/B,gEAA2GA,EAAM,GACxHqN,GAJE,OAjiB+FigD,EAEhGhtD,EAAK+wC,MAAM,wBAAyB4b,EAAmB,CACrD7rC,MAAOksC,EACP/qC,SAAUuqC,KAGZxsD,EAAK+wC,MAAM,cAAe,CACxBjwB,MAAOksC,EACP/qC,SAAUuqC,IAGZQ,EAAW/qC,SAAWuqC,EACfn7C,EAAO27C,GA6gBxB,IAA8BjgD,EAIxBrN,QA7gBA,SAASitD,EAAmBvwC,GAC1B,IAAI9X,EAAQtE,EAAK+C,UAAUsd,YAAYjE,GAavC,OAXAxoB,OAAOuN,eAAemD,EAAO,UAAW,CACtC/C,YAAY,EACZmC,IAAK,WAEH,OADAie,QAAQC,KAAK,IAAI/sB,MAAM,iGAChB,CACLotB,SAAU7F,EAAK6F,SACfugC,WAAYpmC,EAAKomC,WACjBD,aAAcnmC,EAAKmmC,iBAIlBj+C,KAGV,CACDqD,IAAK,iBACL7U,MAAO,WACL,OAAOgC,KAAKk8C,eAQb,CACDrpC,IAAK,gBACL7U,MAAO,WACL,OAAOgC,KAAKq3D,cAQb,CACDxkD,IAAK,kBACL7U,MAAO,WACL,IAAIo5D,EAAap3D,KAAKq4D,gBACtB,OAAOjB,GAAcp3D,KAAKs4D,WAAWlB,KAEtC,CACDvkD,IAAK,UACL7U,MAAO,SAAiBxB,GACtB,OAAOwD,KAAKm3D,OAAOzvD,QAAO,SAAU4tB,GAClC,OAAOA,EAAE94B,UAAYA,KACpB,KAEJ,CACDqW,IAAK,WACL7U,MAAO,WACL,OAAOgC,KAAKm3D,SA+Bb,CACDtkD,IAAK,UACL7U,MAAO,SAAiB6P,GACtB,IAAI3C,EAAOlL,KACX6N,EAAUA,GAAW,GACrB,IAAIwX,EAAcrlB,KAAKk8C,aACvB,OAAO,IAAIxvB,SAAQ,SAAU0uB,EAAS7+B,GAC/B8I,GAMLA,EAAcna,EAAK+wC,MAAM,gBAAiB,CACxC52B,YAAaA,KACTA,EAENna,EAAKysD,QAAQpE,MAAMluC,EAAaxX,GAASof,MAAK,SAAUplB,GACtD,IAAIgjD,EAAMhjD,EAAOgjD,IAIjB,MAAO,CACLA,IAJFA,EAAM3/C,EAAK+wC,MAAM,qBAAsB,CACrC4O,IAAKA,KACDA,MAIE,OAAE,SAAU7+B,GACpB,MAAO,CACLA,MAAOA,MAERiB,MAAK,SAAUplB,GAChBqD,EAAK+wC,MAAM,eAAgBp0C,GAEvBA,EAAOmkB,MACTzP,EAAO1U,EAAOmkB,OAEdovB,EAAQ,CACNyP,IAAKhjD,EAAOgjD,UA5BhBtuC,EAAO,IAAIxc,MAAM,+BA6CtB,CACD8S,IAAK,KACL7U,MAAO,WACL,IAAIu6D,GAEHA,EAAkBv4D,KAAKiO,WAAWG,GAAGmR,MAAMg5C,EAAiB70D,aAS9D,CACDmP,IAAK,MACL7U,MAAO,WACL,IAAIw6D,GAEHA,EAAmBx4D,KAAKiO,WAAW6f,IAAIvO,MAAMi5C,EAAkB90D,aAWjE,CACDmP,IAAK,OACL7U,MAAO,WACL,IAAIy6D,GAEHA,EAAmBz4D,KAAKiO,WAAW0f,KAAKpO,MAAMk5C,EAAkB/0D,aAElE,CACDmP,IAAK,WACL7U,MAAO,SAAkBqC,GAEnBA,EAAWuO,KAAOvO,EAAW2K,YAAYxL,UAAUgrB,SACrDnqB,EAAaA,EAAWuO,IAAI,IAGJ,iBAAfvO,IACTA,EAAa,iBAASA,IAGxBA,EAAW1C,YAAYqC,KAAKyrB,YAE5BzrB,KAAKi8C,MAAM,SAAU,MAEtB,CACDppC,IAAK,SACL7U,MAAO,WACLgC,KAAKi8C,MAAM,SAAU,IAErB,kBAAUj8C,KAAKyrB,cAEhB,CACD5Y,IAAK,UACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAEblB,OAAOC,KAAKiB,KAAKu3D,UAAUvwC,SAAQ,SAAU0xC,GAE3CC,GADa7rD,EAAOyqD,SAASmB,GACT,cAEtB,kBAAU14D,KAAKyrB,cAEhB,CACD5Y,IAAK,QACL7U,MAAO,SAAe6P,GACpB7N,KAAK44D,SAAW/qD,EAChB7N,KAAK23D,QAAU33D,KAAK64D,cAAchrD,GAClC7N,KAAKu3D,SAAW,GAChBv3D,KAAKm3D,OAAS,GACd,IAAIl+C,EAAY,kBAAO,qCACnB6/C,EAAmB,iBAAO,GAAI7B,GAA2BppD,GAC7D,iBAAOoL,EAAU5a,MAAO,CACtByG,MAAOi0D,GAAWD,EAAiBh0D,OACnCC,OAAQg0D,GAAWD,EAAiB/zD,QACpC6kB,SAAUkvC,EAAiBlvC,WAE7B5pB,KAAKyrB,WAAaxS,EAEdpL,EAAQoL,WACVjZ,KAAKg8C,SAASnuC,EAAQoL,aAWzB,CACDpG,IAAK,OACL7U,MAAO,SAAc+6C,GACnB,OAAO/4C,KAAKg5D,YAAYjgB,KAEzB,CACDlmC,IAAK,kBACL7U,MAAO,SAAyBqnB,GAC9BrlB,KAAKk8C,aAAe72B,EAEpBrlB,KAAKi5D,iBAEN,CACDpmD,IAAK,eACL7U,MAKA,WACE,IAAIqnB,EAAcrlB,KAAKk8C,aAEvB,IAAK72B,EAKH,OAJArlB,KAAKm3D,OAAS,QAEdn3D,KAAKg5D,YAAY,MAKnB,IAQIE,EARAC,EAAgBn5D,KAAKo5D,oBAErBC,EAAsB,CAACh0C,GAAanM,OAAO8gC,GAAmB30B,EAAYi0C,YAAc,KAExFpC,EAAQl3D,KAAKm3D,OACboC,EAAW,GAEXC,EApfV,SAAoC95D,EAAG+5D,GAAkB,IAAIC,EAAuB,oBAAX5uD,QAA0BpL,EAAEoL,OAAOC,WAAarL,EAAE,cAAe,IAAKg6D,EAAI,CAAE,GAAIv1D,MAAMC,QAAQ1E,KAAOg6D,EAAKnhD,GAA4B7Y,KAAO+5D,GAAkB/5D,GAAyB,iBAAbA,EAAEL,OAAqB,CAAMq6D,IAAIh6D,EAAIg6D,GAAI,IAAI96D,EAAI,EAAO+6D,EAAI,aAAiB,MAAO,CAAElyD,EAAGkyD,EAAGthD,EAAG,WAAe,OAAIzZ,GAAKc,EAAEL,OAAe,CAAE2Y,MAAM,GAAe,CAAEA,MAAM,EAAOha,MAAO0B,EAAEd,OAAWnB,EAAG,SAAWka,GAAM,MAAMA,GAAOpU,EAAGo2D,GAAO,MAAM,IAAI/tD,UAAU,yIAA4I,IAA6CqM,EAAzC2hD,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAEpyD,EAAG,WAAeiyD,EAAKA,EAAGx4D,KAAKxB,IAAO2Y,EAAG,WAAe,IAAIyhD,EAAOJ,EAAG3hD,OAAsC,OAA9B6hD,EAAmBE,EAAK9hD,KAAa8hD,GAASr8D,EAAG,SAAWs8D,GAAOF,GAAS,EAAM5hD,EAAM8hD,GAAQx2D,EAAG,WAAe,IAAWq2D,GAAoC,MAAhBF,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAIG,EAAQ,MAAM5hD,KAofz8B+hD,CAA2BX,GAG3C,IACE,IAAKG,EAAU/xD,MAAOyxD,EAAQM,EAAUnhD,KAAKL,MAAO,CAClD,IAAIxb,EAAU08D,EAAMl7D,MAChB+lC,EAAW,eAAKo1B,GAAe,SAAUp1B,GAC3C,MAA8B,iBAAnBA,EAASk2B,MACXl2B,EAASk2B,QAAUz9D,EAAQkrB,MAE3Bqc,EAASk2B,MAAMz9D,MAI1B,GAAKunC,EAAL,CAIA,IAAIgV,EAAO,CACTv8C,QAASA,EACTmM,GAAInM,EAAQmM,GACZ1L,KAAMT,EAAQS,KACdR,KAAMsnC,EAASp7B,IAEjB4wD,EAASz4D,KAAKi4C,KAEhB,MAAO9gC,GACPuhD,EAAU/7D,EAAEwa,GACZ,QACAuhD,EAAUj2D,IAGZ,IACI22D,EADA9C,EAAap3D,KAAKq3D,YAGtB,IAAID,IAEF8C,EAAgB,eAAKX,GAAU,SAAUxgB,GACvC,OAAOohB,GAAW/C,EAAYre,OAC1B/4C,KAAK+3D,gBAAgBwB,IAJ7B,CAiBA,IAAIa,GAAqBD,GAAW/C,EAAY8C,IAAkBG,GAAgBjD,EAAY8C,GAC1FI,EAAepD,EAAM73D,SAAWk6D,EAASl6D,SAAW,gBAAMk6D,GAAU,SAAUgB,GAChF,OAAO,eAAKrD,GAAO,SAAUne,GAC3B,OAAOohB,GAAWphB,EAAMwhB,KAAaF,GAAgBthB,EAAMwhB,SAG/Dv6D,KAAKq3D,YAAc6C,EACnBl6D,KAAKm3D,OAASoC,GAEVa,GAAqBE,IACvBt6D,KAAKs3D,qBApBHt3D,KAAKg5D,YAAY,QAuBtB,CACDnmD,IAAK,kBACL7U,MAAO,SAAyBk5D,GAC9B,OAAOA,EAAM,KAUd,CACDrkD,IAAK,cACL7U,MAAO,SAAqBu8D,GAC1B,IAAIrvD,EAAOlL,KACX,OAAO,IAAI0sB,SAAQ,SAAU0uB,EAAS7+B,GACpC,IAWIi+C,EAXAC,EAAW,SAAkBC,EAAWC,GAC1CzvD,EAAKosD,gBAEDoD,EACFn+C,EAAOm+C,GAEPtf,EAAQuf,IAIRvD,EAAalsD,EAAKmtD,gBAGlBuC,EAAYL,GAAWrvD,EAAKotD,WAAWiC,GACvC/9D,EAAU+9D,GAAWA,EAAQ/9D,QAajC,GAXI46D,IACFoD,EAAetvD,EAAKotD,WAAWlB,MAEVwD,IACnBjC,GAAY6B,EAAc,SAC1BA,EAAaje,UAIjBrxC,EAAKmsD,YAAckD,EAEfK,EA2BF,OA1BIJ,IAAiBI,GACnBA,EAAU5e,SAAS9wC,EAAKugB,YAG1BvgB,EAAK+wC,MAAM,sBAAuB,CAChClD,KAAMwhB,EACN/9D,QAASA,SAGXo+D,EAAU3hB,KAAKz8C,GAASywB,MAAK,SAAUplB,GACrCqD,EAAK+wC,MAAM,yBAA0B,CACnClD,KAAMwhB,EACNvuC,MAAO,KACPmB,SAAUtlB,EAAOslB,WAGnBstC,EAAS,KAAM5yD,MACP,OAAE,SAAUmkB,GACpB9gB,EAAK+wC,MAAM,yBAA0B,CACnClD,KAAMwhB,EACNvuC,MAAOA,EACPmB,SAAUnB,EAAMmB,WAGlBstC,EAASzuC,EAAO,SAMpByuC,SAGH,CACD5nD,IAAK,aACL7U,MAAO,SAAoB+6C,GACzB,IAAIt8C,EAAOs8C,EAAKt8C,KACZo+D,EAAS76D,KAAKu3D,SAAS96D,GAW3B,OATKo+D,IACHA,EAAS76D,KAAKu3D,SAAS96D,GAAQuD,KAAK86D,cAAc/hB,EAAKt8C,MAEvDuD,KAAKi8C,MAAM,iBAAkB,CAC3Bx/C,KAAMA,EACNo+D,OAAQA,KAILA,IAER,CACDhoD,IAAK,gBACL7U,MAAO,SAAuB2K,GAC5B,IAAIo7B,EAAW,eAAK/jC,KAAKo5D,qBAAqB,SAAUr1B,GACtD,OAAOA,EAASp7B,KAAOA,KAGzB,IAAKo7B,EACH,MAAM,IAAIhkC,MAAM,8BAAgC4I,EAAK,KAGvD,IAAIgyC,EAAS5W,EAAS/4B,YAClB+vD,EAAkB/6D,KAAK44D,SAASjwD,IAAO,GAE3C,OAAO,IAAIgyC,EAAOd,GAAcA,GAAcA,GAAc,GADxC75C,KAAK44D,SAASoC,QAAU,IACoCD,GAAkB,GAAI,CACpGpf,kBAAmB,GAAGziC,OAAO8gC,GAAmB+gB,EAAgBpf,mBAAqB,IAAK,CAAC,CACzFsf,QAAS,CAAC,QAASj7D,MACnBk7D,OAAQ,CAAC,QAASl7D,KAAK23D,iBAQ5B,CACD9kD,IAAK,QACL7U,MAAO,WACL,IAAIm9D,EAEJ,OAAQA,EAAmBn7D,KAAKiO,WAAWS,KAAK6Q,MAAM47C,EAAkBz3D,aAEzE,CACDmP,IAAK,gBACL7U,MAAO,SAAuB6P,GAC5B,OAAO,IAAI,GAAU,iBAAO,CAC1ButD,QAAS,IACRvtD,EAAQwtD,qBAUZ,CACDxoD,IAAK,oBACL7U,MAAO,WACL,MAAO,QArrBiE2U,GAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,GAAkBxG,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAyrBrPozC,EA5pBkB,GAsqB3B,SAAS8Z,GAAWniD,GAClB,OAAOA,GAAO,mBAASA,GAAO,KAAO,IAkCvC,SAASujD,GAAWh3D,EAAGC,GACrB,OAAK,oBAAUD,KAQV,oBAAUC,KAKRD,EAAE3G,UAAY4G,EAAE5G,SAAW2G,EAAEwF,KAAOvF,EAAEuF,KAZtC,oBAAUvF,GAenB,SAASi3D,GAAgBl3D,EAAGC,GAC1B,OAAQD,IAAMC,GAAKD,EAAElG,OAASmG,EAAEnG,KAGlC,SAAS07D,GAAYkC,EAAQS,GACvB,qBAAWT,EAAOS,KACpBT,EAAOS,O,uECjxBX,SAAS3oD,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAU7S,IAAI,EAA0B,WAC5B,SAAS2oD,EAAWC,EAAWpoD,EAAUE,IAb3C,SAAyBpH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAc5GK,CAAgBjM,KAAMu7D,GAEtBv7D,KAAKy7D,WAAaD,EAClBx7D,KAAK07D,UAAYtoD,EACjBpT,KAAKqnB,OAAS/T,EAdlB,IAAsBnH,EAAa4G,EAAYC,EA4D7C,OA5DoB7G,EAqBPovD,GArBoBxoD,EAqBR,CAAC,CACxBF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAI2X,EAAO3X,EAAQ2X,KAKnB,OAJA3X,EAAQgsD,QAAU37D,KAAKy7D,WAAW7sD,MAElC5O,KAAKy7D,WAAWjgC,IAAIlU,GAEbtnB,KAAKqnB,OAAOxT,YAEpB,CACDhB,IAAK,cACL7U,MAAO,SAAqB2R,GAC1B,IAAInD,EAAQxM,KAEG2P,EAAQzI,SACd8f,SAAQ,SAAUxqB,GACrBA,aAAmB,IACrBgQ,EAAMkvD,UAAU1nD,UAAUxX,GACjBA,aAAmB,KAC5BgQ,EAAMkvD,UAAUnnD,UAAU/X,QAQ/B,CACDqW,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAIgsD,EAAUhsD,EAAQgsD,QAItB,OAFA37D,KAAKy7D,WAAWjgC,IAAImgC,GAEb37D,KAAKqnB,OAAOxT,eAxDqDlB,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4DrP0vD,EApDqB,GCZ9B,SAAShiB,EAAQx2C,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS86C,EAAcv8C,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI26C,EAAQz6C,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO6pB,EAAgBp/B,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW0wC,EAAQz6C,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAEjf,SAASo/B,EAAgBv9B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAE3M,SAAS66C,EAAmB96C,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAOkZ,EAAkBlZ,GAR1C+6C,CAAmB/6C,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjFC,CAAiBj7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO0Y,EAAkB1Y,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAOD,EAAkB1Y,EAAGyY,GAJxTI,CAA4BrZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8EwuC,GAUlI,SAAShiC,EAAkBlZ,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EDoDhL,EAAWnK,QAAU,CAAC,YAAa,WAAY,SChD/C,IAAIqtD,EAAc,CA6FlB,SAA6Bp/D,EAASoW,EAAYqkB,EAAOt0B,GACvD,IAAIk5D,EAAkB5kC,EAElB6kC,EAAUjiB,EAAcA,EAAc,GAAIjnC,GAAa,GAAI,CAC7DnW,KAAMgN,EAAQjN,KAGhB,GAAIA,aAAmB,KAAOA,aAAmB,IAAK,CACpD,IAAIu/D,EAASp5D,EAAOnG,EAAQuQ,MAAO8uD,GACnCC,EAAQ/uD,MAAQgvD,EAAOxuD,KACvBsuD,EAAkBE,EAAOF,gBAG3B,MAAO,CACLtuD,KAAMuuD,EACND,gBAAiBA,IAIrB,SAAsCr/D,EAASoW,EAAYqkB,GACzD,IAAIl6B,EAAiBP,EAAQO,eAE7B,IAAKA,EACH,MAAO,CACLwQ,KAAMqF,EACNipD,gBAAiB5kC,GAKrB,IAAI+kC,EAyBN,SAASC,EAAmBv/D,EAAIu6B,GAC9B,IAAIilC,EAASC,EACTxzD,EAAKjM,EAAGiM,GAEZ,GAAIA,IACFuzD,EAAUjlC,EAAMilC,SAAW,GAC3BC,EAAiBD,EAAQvzD,IAGvB,MAAO,CACL4E,KAAM4uD,EACNN,gBAAiB5kC,GAKvB,IAAIrkB,EAAa,CACf8U,MAAOhrB,EAAGgrB,OAGR/e,IACFiK,EAAWjK,GAAKA,EAChBuzD,EAAUriB,EAAcA,EAAc,GAAIqiB,GAAU,GAAIx/B,EAAgB,GAAI/zB,EAAIiK,IAChFqkB,EAAQ4iB,EAAcA,EAAc,GAAI5iB,GAAQ,GAAI,CAClDilC,QAASA,KAqCb,OA7BAx/D,EAAG+rD,YAAYlG,WAAWv7B,SAAQ,SAAUwI,GAC1C,IAAIxxB,EAAQtB,EAAG8yB,EAASvyB,MAKxB,GAAKe,EAAL,CAcA,GATI,kBAAQA,KACVA,EAAQA,EAAM8c,KAAI,SAAU1X,GAC1B,IAAIg5D,EAASH,EAAmB74D,EAAG6zB,GAEnC,OADAA,EAAQmlC,EAAOP,gBACRO,EAAO7uD,SAKdvP,EAAM0pB,MAAO,CACf,IAAI00C,EAASH,EAAmBj+D,EAAOi5B,GACvCA,EAAQmlC,EAAOP,gBACf79D,EAAQo+D,EAAO7uD,KAIjBqF,EAAW4c,EAASvyB,MAAQe,MAEvB,CACLuP,KAAMqF,EACNipD,gBAAiB5kC,GAxFTglC,CAAmBl/D,EAAgBk6B,GAC7C,MAAO,CACL1pB,KAAMssC,EAAcA,EAAc,GAAIjnC,GAAa,GAAI,CACrD7V,eAAgBi/D,EAAIzuD,OAEtBsuD,gBAAiBG,EAAIH,mBA/HrBQ,EAAc,CAgWlB,SAA8BC,EAAO9/D,EAAS+/D,GAC5C,IAAIx/D,EAAiBu/D,EAAM/uD,KAAKxQ,eAEhC,IAAKA,EACH,MAAO,CACLwQ,KAAM/Q,EACN+/D,YAAaA,GAKjB,IAAIP,EA4BN,SAASQ,EAASF,EAAOC,GACvB,IAEIL,EAASO,EAFTC,EAAeJ,EAAM/uD,KACrB5E,EAAK+zD,EAAa/zD,GAGtB,GAAIA,IACFuzD,EAAUK,EAAYL,SAAW,GACjCO,EAAaP,EAAQvzD,IAGnB,MAAO,CACL4E,KAAMkvD,EACNF,YAAaA,GAKnB,IAAII,EAAa,GAEjB,eAAKD,GAAc11C,SAAQ,SAAUnU,GACnC,IAAI+D,EAAKgmD,EAELF,EAAa7pD,GAAK6U,OAIpB9Q,GAHAgmD,EAAOJ,EAAS,CACdjvD,KAAMmvD,EAAa7pD,IAClB0pD,IACQhvD,KACXgvD,EAAcK,EAAKL,YACnBL,EAAUK,EAAYL,SAAW,IAEjCtlD,EADS,kBAAQ8lD,EAAa7pD,IACxB6pD,EAAa7pD,GAAKiI,KAAI,SAAU1X,GAMpC,OALAw5D,EAAOJ,EAAS,CACdjvD,KAAMnK,GACLm5D,GACHA,EAAcK,EAAKL,YACnBL,EAAUK,EAAYL,SAAW,GAC1BU,EAAKrvD,QAGRmvD,EAAa7pD,GAGrB8pD,EAAW9pD,GAAO+D,KAEpB,IAAIna,EAAOkgE,EAAWj1C,aACfi1C,EAAWj1C,QAEb60C,EAAYM,UAAYN,EAAYO,OAAOtyD,IAAIF,SAASqyD,EAAWh0D,aAC/Dg0D,EAAWh0D,GAGpB,IAAIo0D,EAAQR,EAAYS,YAAYr6D,OAAOlG,EAAMkgE,GAGjD,kBAAQA,GAAY,SAAUM,GACxBA,EAAUv1C,QACZu1C,EAAUhlB,QAAU8kB,GAGlB,kBAAQE,IACVA,EAAUj2C,SAAQ,SAAU7jB,GAC1B,OAAOA,EAAE80C,QAAU8kB,QAKrBp0D,IACFuzD,EAAUriB,EAAcA,EAAc,GAAIqiB,GAAU,GAAIx/B,EAAgB,GAAI/zB,EAAIo0D,IAChFR,EAAc1iB,EAAcA,EAAc,GAAI0iB,GAAc,GAAI,CAC9DL,QAASA,KAIb,MAAO,CACL3uD,KAAMwvD,EACNR,YAAaA,GAvGLC,CAAS,CACjBjvD,KAAMxQ,EACN8+D,gBAAiBS,EAAMT,iBACtBU,GACH,MAAO,CACLhvD,KAAMssC,EAAcA,EAAc,GAAIr9C,GAAU,GAAI,CAClDO,eAAgBi/D,EAAIzuD,OAEtBgvD,YAAaP,EAAIO,cA1DrB,SAA4BD,EAAO9/D,EAAS+/D,EAAaW,GACvD,IAAItqD,EAAa0pD,EAAM/uD,KACnB4vD,EAAcb,EAAMT,gBAEpBuB,EAAevjB,EAAc,GAAIr9C,GAGjCA,EAAQO,gBAAkBP,EAAQO,eAAe4L,KACnDy0D,EAAaz0D,GAAKnM,EAAQO,eAAe4L,IAG3C,GAAwB,QAApBiK,EAAWnW,MAAsC,QAApBmW,EAAWnW,KAAgB,CAC1D,IAAIs/D,EAASmB,EAAO,CAClB3vD,KAAMqF,EAAW7F,MACjB8uD,gBAAiBsB,GAChBZ,GACHa,EAAarwD,MAAQgvD,EAAOxuD,KAC5BgvD,EAAcR,EAAOQ,YAGvB,IACIxM,EAAa,IAyCnB,SAAwBn9C,GACtB,OAAQA,EAAWnW,MACjB,IAAK,MACH,OAAO,IAET,IAAK,OACH,OAAO,IAET,IAAK,MACH,OAAO,IAET,QACE,MAAM,IAAIsD,MAAM,0BAA4B6S,EAAWnW,OAtDzC4gE,CAAezqD,GAChB,CAAgBwqD,GAE7BrN,aAAsB,IACxBA,EAAWhjD,MAAMia,SAAQ,SAAUtZ,GACjCA,EAAKF,IAAMuiD,KAEJA,aAAsB,KAC/BA,EAAWhjD,MAAMia,SAAQ,SAAUtZ,GACjCA,EAAKD,IAAMsiD,KAIf,MAAO,CACLxiD,KAAMwiD,EACNwM,YAAaA,KAnVV,SAASe,EAAiB9gE,EAASy6B,EAAOsmC,GAI/C,OAHAA,EAAQA,GAAS3B,EACjB3kC,EAAQA,GAAS,GAEb,kBAAQz6B,GAed,SAA4B0K,EAAU+vB,EAAOsmC,GAC3C,OAAO,iBAAOr2D,GAAU,SAAUW,EAAQrL,GACxC,IAAIghE,EAAe31D,EAAOg0D,gBACtB4B,EAAqB51D,EAAO0F,KAE5BmwD,EAAoBC,EAAkBnhE,EAASghE,EAAcD,GAC7DhwD,EAAOmwD,EAAkBnwD,KACzBsuD,EAAkB6B,EAAkB7B,gBAExC,MAAO,CACLtuD,KAAM,GAAG2L,OAAO8gC,EAAmByjB,GAAqB,CAAClwD,IACzDsuD,gBAAiBhiB,EAAcA,EAAc,GAAI2jB,GAAe3B,MAEjE,CACDtuD,KAAM,GACNsuD,gBAAiB5kC,IA7BV2mC,CAAmBphE,EAASy6B,EAAOsmC,GAEnCI,EAAkBnhE,EAASy6B,EAAOsmC,GA+B7C,SAASI,EAAkBnhE,EAASy6B,EAAOsmC,GACzC,IAAI50D,EAAKnM,EAAQmM,GACbiK,EAAa,CACfjK,GAAIA,GAEFzB,EAAW+vB,EAAM/vB,UAAY,GAC7B22D,EAAqB32D,EAASyB,GAElC,GAAIk1D,EACF,MAAO,CACLtwD,KAAMswD,EACNhC,gBAAiB5kC,GAQrB,IAAI6mC,EAWN,SAAuBthE,EAASoW,EAAY2qD,EAAOtmC,GACjD,SAASt0B,EAAOnG,EAASq/D,GACvB,OAAOyB,EAAiB9gE,EAASq/D,EAAiB0B,GAGpD,OAAO,iBAAOA,GAAO,SAAU11D,EAAQoS,GACrC,OAAOA,EAAKzd,EAASqL,EAAO0F,KAAM1F,EAAOg0D,gBAAiBl5D,KACzD,CACD4K,KAAMqF,EACNipD,gBAAiB5kC,IApBJ8mC,CAAcvhE,EAASoW,EAAY2qD,EAAO1jB,EAAcA,EAAc,GAAI5iB,GAAQ,GAAI,CACnG/vB,SAAUA,KAEZ,MAAO,CACLqG,KAAMuwD,EAASvwD,KACfsuD,gBAAiBhiB,EAAcA,EAAc,GAAIikB,EAASjC,iBAAkB,GAAI,CAC9E30D,SAAU2yC,EAAcA,EAAc,GAAIikB,EAASjC,gBAAgB30D,UAAW,GAAIw1B,EAAgB,GAAI/zB,EAAIm1D,EAASvwD,UA2DzH,SAAS9D,EAAQjN,GACf,GAAIA,aAAmB,IACrB,MAAO,MAGT,GAAIA,aAAmB,IACrB,MAAO,MAGT,GAAIA,aAAmB,IACrB,MAAO,OAGT,MAAM,IAAIuD,MAAM,gCAAkCvD,EAAQmM,IAuErD,SAASq1D,EAAiB1B,EAAOC,EAAagB,GAInD,OAHAA,EAAQA,GAASlB,EACjBE,EAAcA,GAAe,GAEzB,kBAAQD,EAAM/uD,MAepB,SAA4B+uD,EAAOC,EAAagB,GAC9C,IAAIU,EAAc3B,EAAM/uD,KACpBsuD,EAAkBS,EAAMT,gBAC5B,OAAO,iBAAOoC,GAAa,SAAUp2D,EAAQrL,GAC3C,IAAIghE,EAAe31D,EAAO00D,YACtBkB,EAAqB51D,EAAO0F,KAE5B2wD,EAAoBC,EAAkB,CACxC5wD,KAAM/Q,EACNq/D,gBAAiBA,GAChB2B,EAAcD,GACbhwD,EAAO2wD,EAAkB3wD,KACzBgvD,EAAc2B,EAAkB3B,YAEpC,MAAO,CACLhvD,KAAM,GAAG2L,OAAO8gC,EAAmByjB,GAAqB,CAAClwD,IACzDgvD,YAAaA,KAEd,CACDhvD,KAAM,GACNgvD,YAAaA,IAlCN6B,CAAmB9B,EAAOC,EAAagB,GAEvCY,EAAkB7B,EAAOC,EAAagB,GA6CjD,SAASY,EAAkB7B,EAAOC,EAAagB,GAC7C,IACI50D,EADa2zD,EAAM/uD,KACH5E,GAChBzB,EAAWq1D,EAAYr1D,UAAY,GACnCm3D,EAAkBn3D,EAASyB,GAE/B,GAAI01D,EACF,MAAO,CACL9wD,KAAM8wD,EACN9B,YAAaA,GAKjB,IAIIuB,EAeN,SAA6BxB,EAAO9/D,EAAS+gE,EAAOhB,GAClD,SAASW,EAAOZ,EAAOC,GACrB,OAAOyB,EAAiB1B,EAAOC,EAAagB,GAG9C,OAAO,iBAAOA,GAAO,SAAU11D,EAAQoS,GACrC,OAAOA,EAAKqiD,EAAOz0D,EAAO0F,KAAM1F,EAAO00D,YAAaW,KACnD,CACD3vD,KAAM/Q,EACN+/D,YAAaA,IAxBA+B,CAAoBhC,EAJrB,CACZ3zD,GAAIA,GAG6C40D,EAAO1jB,EAAcA,EAAc,GAAI0iB,GAAc,GAAI,CAC1Gr1D,SAAUA,KAEZ,MAAO,CACLqG,KAAMuwD,EAASvwD,KACfgvD,YAAa1iB,EAAcA,EAAc,GAAIikB,EAASvB,aAAc,GAAI,CACtEr1D,SAAU2yC,EAAcA,EAAc,GAAIikB,EAASvB,YAAYr1D,UAAW,GAAIw1B,EAAgB,GAAI/zB,EAAIm1D,EAASvwD,UCtTrH,SAAS,EAAkBjQ,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAU7S,IAAI,EAA4B,WAC9B,SAAS2rD,EAAa/C,EAAWgD,EAAYtwB,EAAgBx+B,EAAiB3B,EAAUmtD,EAAQ9nD,EAAUE,IAb5G,SAAyBpH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAc5G,CAAgB5L,KAAMu+D,GAEtBv+D,KAAKy7D,WAAaD,EAClBx7D,KAAKg9D,YAAcwB,EACnBx+D,KAAK+2C,gBAAkB7I,EACvBluC,KAAK2f,iBAAmBjQ,EACxB1P,KAAKiO,UAAYF,EACjB/N,KAAK88D,OAAS5B,EACdl7D,KAAK07D,UAAYtoD,EACjBpT,KAAKqnB,OAAS/T,EAnBlB,IAAsBnH,EAAa4G,EAAYC,EA2F7C,OA3FoB7G,EA0BPoyD,GA1BoBxrD,EA0BN,CAAC,CAC1BF,IAAK,cACL7U,MAAO,SAAqB2R,GAC1B,IAAInD,EAAQxM,KAERxD,EAAUmT,EAAQnT,QAClBiiE,EAAQ9uD,EAAQ8uD,MAEhBn3C,EAAOtnB,KAAKy7D,WAAW7sD,MAE3B,IAAK0Y,EACH,MAAM,IAAIvnB,MAAM,0BAGlB,IAAIwN,EAAOvN,KAAKqnB,OAAOxT,UAGnB3M,EAAW82D,EAAiB12C,EAAKpgB,SAAU,CAC7C81D,YAAah9D,KAAKg9D,YAClBH,SAAUv1C,EAAKo3C,QACf5B,OAAQ98D,KAAK88D,SACZvvD,KAEH,GAAI/Q,aAAmB,IAAK,CAC1B,IAAIyC,EAAQsO,EAAKb,KAAKtN,QAAQ5C,GAE9B,IAAe,IAAXyC,EACF,OAGFiI,EAAS8f,SAAQ,SAAUxqB,GACrBiiE,GACFx/D,IAGFuN,EAAMkvD,UAAUjoD,OAAOjX,EAASyC,WAE7B,GAAIzC,aAAmB,IAAK,CACjC,IAAImiE,EAASpxD,EAAKZ,KAAKvN,QAAQ5C,GAE/B,IAAgB,IAAZmiE,EACF,OAGFz3D,EAAS8f,SAAQ,SAAUxqB,GACrBiiE,GACFE,IAGFnyD,EAAMkvD,UAAUvnD,OAAO3X,EAASmiE,MAKpC,OADAhvD,EAAQivD,YAAc5+D,KAAKy7D,WAAW7sD,MAC/B5O,KAAKqnB,OAAOxT,YAMpB,CACDhB,IAAK,SACL7U,MAAO,SAAgB2R,SAxFmD,EAAkBxD,EAAY3M,UAAWuT,GAAiBC,GAAa,EAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2FrP0yD,EAnFuB,GCZhC,SAAS,EAAQx7D,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAI9U,SAAS,EAAgBI,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,SAAS,EAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,ID2F7S,EAAarE,QAAU,CAAC,YAAa,aAAc,iBAAkB,kBAAmB,WAAY,SAAU,WAAY,SClF1H,IAAI,EAAwB,WAC1B,SAASswD,EAASrD,EAAWxzC,EAAcja,EAAUqF,EAAUE,EAAO2U,IAZxE,SAAyB/b,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAM6+D,GAEtB7+D,KAAKy7D,WAAaD,EAClBx7D,KAAK8nB,cAAgBE,EACrBhoB,KAAKiO,UAAYF,EACjB/N,KAAK07D,UAAYtoD,EACjBpT,KAAKqnB,OAAS/T,EACdtT,KAAK8+D,OAAS72C,EACdD,EAAa+2C,gBAAgB,MAAO,GACpC/2C,EAAa+2C,gBAAgB,QAAS,GAlB1C,IAAsB5yD,EAAa4G,EAAYC,EA8I7C,OA9IoB7G,EA2BP0yD,GA3BoB9rD,EA2BV,CAAC,CACtBF,IAAK,OACL7U,MAAO,SAAckJ,GACd,kBAAQA,KACXA,EAAW,CAACA,IAGd,IAAIogB,EAAO,CACTpgB,SAAUo2D,EAAiBp2D,IAG7BlH,KAAKiO,UAAUS,KAAK,oBAAqB,CACvC4Y,KAAMA,IAGRtnB,KAAKy7D,WAAWjgC,IAAIlU,KAQrB,CACDzU,IAAK,MACL7U,MAAO,SAAakJ,GACb,kBAAQA,KACXA,EAAW,CAACA,IAGd,IAAIogB,EAAO,CACTpgB,SAAUo2D,EAAiBp2D,GAC3Bw3D,SAAS,GAEP/uD,EAAU,CACZzI,SAAUA,EACVogB,KAAMA,GAGRtnB,KAAKiO,UAAUS,KAAK,mBAAoB,CACtC4Y,KAAMA,IAGRtnB,KAAK8nB,cAAck3C,QAAQ,MAAOrvD,KAQnC,CACDkD,IAAK,cACL7U,MAAO,SAAqBxB,GAC1B,OAAOwD,KAAKi/D,OAAOziE,EAAS,CAC1B0iE,QAAQ,MASX,CACDrsD,IAAK,aACL7U,MAAO,SAAoBxB,GACzB,OAAOwD,KAAKi/D,OAAOziE,EAAS,CAC1BiiE,OAAO,MAOV,CACD5rD,IAAK,SACL7U,MAAO,SAAgBV,EAAQssB,GAC7B,IAAIu1C,EAAgBn/D,KAAKy7D,WAAW7sD,MAEpC,GAAKuwD,EASL,QALcn/D,KAAK8+D,OAAO/2C,QAAQ,QAAS,CACzCT,KAAM63C,EAAcj4D,SACpB5J,OAAQA,MAOV0C,KAAK8nB,cAAck3C,QAAQ,QAhIjC,SAAuB1hE,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI,EAAQE,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO,EAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW,EAAQ/J,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAgIvc,CAAc,CAChDd,QAASc,GACRssB,IAKH5pB,KAAKy7D,WAAWl7D,SAGT,KAMR,CACDsS,IAAK,UACL7U,MAAO,SAAiBxB,SA1IkD,EAAkB2P,EAAY3M,UAAWuT,GAAiBC,GAAa,EAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8IrPgzD,EAvImB,GA2I5B,EAAStwD,QAAU,CAAC,YAAa,eAAgB,WAAY,WAAY,QAAS,SCzJnE,KACbiC,YAAa,CAAC,IAAiB,KAC/BD,SAAU,CAAC,gBACX2C,aAAc,CAAC,OAAQ,K,iCCJV,KACb7I,UAAW,CAAE,QCeA,SAAmBqX,EAAUC,GAI1C,OAFAA,EAAeA,GAAgB,GAExBD,EAASxjB,QAAQ,cAAc,SAAS0c,EAAG/H,GAChD,OAAO8O,EAAa9O,IAAQ,IAAMA,EAAM,W,qDCrB5C,SAASF,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAK7S,IAWI,EAEJ,WACE,SAASwsD,EAAcp3C,EAAcja,EAAUqF,EAAUlE,IArB3D,SAAyBhD,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAsB5GK,CAAgBjM,KAAMo/D,GAEtBp/D,KAAKq/D,SAAW,CACdC,KAAM,WACJt3C,EAAas3C,QAEfC,KAAM,WACJv3C,EAAau3C,QAEfjxD,OAAQ,SAAgBgH,GACtB,IAAI5H,EAAO4H,EAAK5H,KAChBwB,EAAUZ,OAAOZ,IAEnBW,SAAU,WACRa,EAAUb,YAEZoF,OAAQ,SAAgB+B,GACtB,IAAI7W,EAAQ6W,EAAM7W,MACdM,EAAQuW,EAAMvW,MAClBmU,EAASK,OAAO9U,EAAOM,IAEzB+U,UAAW,SAAmB0B,GAC5B,IAAIlI,EAAMkI,EAAMlI,IAChB4F,EAASY,UAAUxG,IAErBgyD,QAAS,SAAiB5pD,GACxB,IAAIpI,EAAMoI,EAAMpI,IACZvO,EAAQ2W,EAAM3W,MAClBmU,EAASosD,QAAQhyD,EAAKvO,IAExBkV,OAAQ,SAAgBsrD,GACtB,IAAI9gE,EAAQ8gE,EAAM9gE,MACdM,EAAQwgE,EAAMxgE,MAClBmU,EAASe,OAAOxV,EAAOM,IAEzBsV,UAAW,SAAmBmrD,GAC5B,IAAIjyD,EAAMiyD,EAAMjyD,IAChB2F,EAASmB,UAAU9G,IAErBkyD,QAAS,SAAiBC,GACxB,IAAInyD,EAAMmyD,EAAMnyD,IACZxO,EAAQ2gE,EAAM3gE,MAClBmU,EAASusD,QAAQlyD,EAAKxO,KA5D9B,IAAsBkN,EAAa4G,EAAYC,EAqJ7C,OArJoB7G,EA0EPizD,GA1EoBrsD,EA0EL,CAAC,CAC3BF,IAAK,UACL7U,MAAO,SAAiBipB,EAAQ44C,GAC9B,IAAK7/D,KAAKq/D,SAASp4C,GACjB,MAAM+E,EAAM/E,EA3EO,8BA8ErB,OAAOjnB,KAAKq/D,SAASp4C,GAAQ44C,KAS9B,CACDhtD,IAAK,WACL7U,MAAO,SAAkBuV,EAAS8a,GAChC,IAAI7hB,EAAQxM,KAEZ,GAAuB,iBAAZuT,EACT,OAAOvT,KAAK8/D,gBAAgBvsD,EAAS8a,GAGvC,kBAAQ9a,GAAS,SAAU8a,EAAUpH,GACnCza,EAAMszD,gBAAgB74C,EAAQoH,KAC7BruB,QASJ,CACD6S,IAAK,kBACL7U,MAAO,SAAyBipB,EAAQoH,GACtC,GAAIruB,KAAK+/D,aAAa94C,GACpB,MAAM+E,EAAM/E,EA9GM,yBAiHpBjnB,KAAKq/D,SAASp4C,GAAUoH,IAQzB,CACDxb,IAAK,aACL7U,MAAO,SAAoBipB,GACzB,IAAKjnB,KAAK+/D,aAAa94C,GACrB,MAAM+E,EAAM/E,EA9HO,8BAiIrBjnB,KAAKq/D,SAASp4C,QAAUzoB,IAUzB,CACDqU,IAAK,eACL7U,MAAO,SAAsBipB,GAC3B,QAASjnB,KAAKq/D,SAASp4C,QAjJiDtU,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAqJ3KosD,EArIT,GA2IA,SAASpzC,EAAM/E,EAAQgoB,GACrB,OAAO,IAAIlvC,MAAMknB,EAAS,IAAMgoB,GAHlC,EAAc1gC,QAAU,CAAC,eAAgB,WAAY,WAAY,aC3JlD,KACbiC,YAAa,CAAC,KACdD,SAAU,CAAC,iBACX4C,cAAe,CAAC,OAAQ,K,sECwBX,SAAS6sD,EAAQjyD,EAAUoB,EAAQO,GAEhD1P,KAAKygC,OAAS,EAEd,IAAIw/B,EAAgB9wD,EAAOE,IAAI,cAAe,CAAE,YAE5CnE,EAAOlL,KAEX,SAASkgE,EAAcvvD,EAAKlM,GAC1B,IAAI07D,EAAU,YAAU,QAWxB,OATA,YAAQA,EAAS,iBAAO,CACtBz7D,EAAG,GACHG,EAAG,GACHC,MAAO,IACPC,OAAQ,KACPk7D,IAEH,YAAUtvD,EAAKwvD,GAERA,EAKTpyD,EAASK,GAAG,CAAE,cAAe,iBApDZ,KAoD6C,SAASoB,GACrE,IAAIhT,EAAUgT,EAAMhT,QAChBmU,EAAMnB,EAAMmB,IAEZwvD,EAAU,gBAAS,eAAgBxvD,GAElCwvD,IACHA,EAAUD,EAAcvvD,IAG1BzF,EAAKk1D,mBAAmBD,EAAS3jE,MAGnCuR,EAASK,GAAG,CAAE,mBAAoB,uBAAwB,SAASoB,GACjE,IAAIhT,EAAUgT,EAAMhT,QAChBmU,EAAMnB,EAAMmB,IAEZwvD,EAAU,gBAAS,eAAgBxvD,GAElCwvD,IACHA,EAAUD,EAAcvvD,IAG1BzF,EAAKm1D,wBAAwBF,EAAS3jE,MAY1CwjE,EAAQxgE,UAAU4gE,mBAAqB,SAASD,EAAS3jE,GAEvD,YAAQ2jE,EAAS,CACfz7D,GAAI1E,KAAKygC,OACT57B,GAAI7E,KAAKygC,OACT37B,MAAOtI,EAAQsI,MAAsB,EAAd9E,KAAKygC,OAC5B17B,OAAQvI,EAAQuI,OAAuB,EAAd/E,KAAKygC,UAalCu/B,EAAQxgE,UAAU6gE,wBAA0B,SAASF,EAASrkC,GAE5D,IAAIxyB,EAAO,YAAQwyB,GAEnB,YAAQqkC,EAAS,CACfz7D,EAAG4E,EAAK5E,EAAI1E,KAAKygC,OACjB57B,EAAGyE,EAAKzE,EAAI7E,KAAKygC,OACjB37B,MAAOwE,EAAKxE,MAAsB,EAAd9E,KAAKygC,OACzB17B,OAAQuE,EAAKvE,OAAuB,EAAd/E,KAAKygC,UAM/Bu/B,EAAQzxD,QAAU,CAAC,WAAY,SAAU,mBCxH1B,KACbgC,SAAU,CAAE,WACZ4vD,QAAS,CAAE,OAAQH,K,iCCDN,SAASM,KAGxBA,EAAU9gE,UAAUoP,IAAM,WACxB,OAAO5O,KAAKugE,OAGdD,EAAU9gE,UAAUg8B,IAAM,SAASlU,GACjCtnB,KAAKugE,MAAQj5C,GAGfg5C,EAAU9gE,UAAUe,MAAQ,WAC1B,IAAI+mB,EAAOtnB,KAAKugE,MAIhB,cAFOvgE,KAAKugE,MAELj5C,GAGTg5C,EAAU9gE,UAAUghE,QAAU,WAC5B,OAAQxgE,KAAKugE,OCrBA,KACb/E,UAAW,CAAE,OAAQ8E,K,iCCDvB,IAAIG,EAAM,EAAQ,KAUlB,SAASC,EAAIC,GAEX,KAAM3gE,gBAAgB0gE,GACpB,OAAO,IAAIA,EAAIC,GAGjBA,EAAOA,GAAQ,CAAE,IAAK,GAAI,GAC1B3gE,KAAK4gE,MAAQD,EAAKthE,OAASohE,EAAII,KAAKF,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAAMA,EAGnE5qD,EAAOC,QAAU0qD,EASjBA,EAAIlhE,UAAUuY,KAAO,SAASvb,GAC5B,OAAOwD,KAAK4gE,MAAMpkE,IAAW,IAU/BkkE,EAAIlhE,UAAUshE,aAAe,SAAS14C,EAAQ5rB,GAC5C,IAAImM,EAEJ,GACEA,EAAKyf,EAASpoB,KAAK+X,MAAK,SACjB/X,KAAKsK,SAAS3B,IAMvB,OAHA3I,KAAK+gE,MAAMp4D,EAAInM,GAGRmM,GAST+3D,EAAIlhE,UAAUuhE,MAAQ,SAASp4D,EAAInM,GACjCwD,KAAK4gE,MAAMplC,IAAI7yB,EAAInM,IAAW,IAShCkkE,EAAIlhE,UAAU8K,SAAW,SAAS3B,GAChC,OAAO3I,KAAK4gE,MAAMhyD,IAAIjG,KAAO,GAQ/B+3D,EAAIlhE,UAAUwhE,QAAU,SAASr4D,UACxB3I,KAAK4gE,MAAMK,KAAKt4D,IAOzB+3D,EAAIlhE,UAAUe,MAAQ,WAEpB,IACIoI,EADAs4D,EAAOjhE,KAAK4gE,MAAMK,KAGtB,IAAKt4D,KAAMs4D,EACTjhE,KAAKghE,QAAQr4D,K,oBC/FjB;;;;;qCAKA,SAAUgU,EAAQla,EAAUy+D,EAAY1iE,GACtC,aAEF,IA+FI2iE,EA/FAC,EAAkB,CAAC,GAAI,SAAU,MAAO,KAAM,KAAM,KACpDC,EAAe5+D,EAAS8kC,cAAc,OAItC3iC,EAAQD,KAAKC,MACbkS,EAAMnS,KAAKmS,IACXwqD,EAAMC,KAAKD,IASf,SAASE,EAAkBj6D,EAAIk6D,EAAS9xD,GACpC,OAAOsgB,WAAWyxC,EAAOn6D,EAAIoI,GAAU8xD,GAY3C,SAASE,EAAe3qC,EAAKzvB,EAAIoI,GAC7B,QAAIxL,MAAMC,QAAQ4yB,KACd4qC,EAAK5qC,EAAKrnB,EAAQpI,GAAKoI,IAChB,GAWf,SAASiyD,EAAKziE,EAAK4L,EAAU4E,GACzB,IAAI/Q,EAEJ,GAAKO,EAIL,GAAIA,EAAI6nB,QACJ7nB,EAAI6nB,QAAQjc,EAAU4E,QACnB,QAvDX,IAuDexQ,EAAIE,OAEX,IADAT,EAAI,EACGA,EAAIO,EAAIE,QACX0L,EAAS7J,KAAKyO,EAASxQ,EAAIP,GAAIA,EAAGO,GAClCP,SAGJ,IAAKA,KAAKO,EACNA,EAAIswB,eAAe7wB,IAAMmM,EAAS7J,KAAKyO,EAASxQ,EAAIP,GAAIA,EAAGO,GAYvE,SAAS0iE,EAAUvG,EAAQr+D,EAAMgyC,GAC7B,IAAI6yB,EAAqB,sBAAwB7kE,EAAO,KAAOgyC,EAAU,SACzE,OAAO,WACH,IAAIxxC,EAAI,IAAIsC,MAAM,mBACdkjC,EAAQxlC,GAAKA,EAAEwlC,MAAQxlC,EAAEwlC,MAAM/kC,QAAQ,kBAAmB,IACzDA,QAAQ,cAAe,IACvBA,QAAQ,6BAA8B,kBAAoB,sBAE3D48C,EAAMn+B,EAAOkQ,UAAYlQ,EAAOkQ,QAAQC,MAAQnQ,EAAOkQ,QAAQiuB,KAInE,OAHIA,GACAA,EAAI55C,KAAKyb,EAAOkQ,QAASi1C,EAAoB7+B,GAE1Cq4B,EAAO/7C,MAAMvf,KAAM0D,YAa9By9D,EADyB,mBAAlBriE,OAAOqiE,OACL,SAAgB7jE,GACrB,GAAIA,QACA,MAAM,IAAIsO,UAAU,8CAIxB,IADA,IAAI6I,EAAS3V,OAAOxB,GACX2B,EAAQ,EAAGA,EAAQyE,UAAUrE,OAAQJ,IAAS,CACnD,IAAI4J,EAASnF,UAAUzE,GACvB,GAAI4J,QACA,IAAK,IAAIk5D,KAAWl5D,EACZA,EAAO4mB,eAAesyC,KACtBttD,EAAOstD,GAAWl5D,EAAOk5D,IAKzC,OAAOttD,GAGF3V,OAAOqiE,OAWpB,IAAIr+D,EAAS++D,GAAU,SAAgBG,EAAMC,EAAKC,GAG9C,IAFA,IAAInjE,EAAOD,OAAOC,KAAKkjE,GACnBrjE,EAAI,EACDA,EAAIG,EAAKM,UACP6iE,GAAUA,QAtIvB,IAsIgCF,EAAKjjE,EAAKH,OAC9BojE,EAAKjjE,EAAKH,IAAMqjE,EAAIljE,EAAKH,KAE7BA,IAEJ,OAAOojE,IACR,SAAU,iBASTE,EAAQL,GAAU,SAAeG,EAAMC,GACvC,OAAOn/D,EAAOk/D,EAAMC,GAAK,KAC1B,QAAS,iBAQZ,SAASE,EAAQ3hE,EAAO4hE,EAAM7f,GAC1B,IACI8f,EADAC,EAAQF,EAAK5iE,WAGjB6iE,EAAS7hE,EAAMhB,UAAYV,OAAO6D,OAAO2/D,IAClCt3D,YAAcxK,EACrB6hE,EAAOj7C,OAASk7C,EAEZ/f,GACA4e,EAAOkB,EAAQ9f,GAUvB,SAASmf,EAAOn6D,EAAIoI,GAChB,OAAO,WACH,OAAOpI,EAAGgY,MAAM5P,EAASjM,YAWjC,SAAS6+D,EAAS3rD,EAAKyI,GACnB,MA1LgB,mBA0LLzI,EACAA,EAAI2I,MAAMF,GAAOA,EAAK,SAjMrC,EAiMkEA,GAEvDzI,EASX,SAAS4rD,EAAYC,EAAMC,GACvB,YA7MJ,IA6MYD,EAAsBC,EAAOD,EASzC,SAASE,EAAkBrlE,EAAQH,EAAOgmB,GACtCy+C,EAAKgB,EAASzlE,IAAQ,SAASV,GAC3Ba,EAAOsuB,iBAAiBnvB,EAAM0mB,GAAS,MAU/C,SAAS0/C,EAAqBvlE,EAAQH,EAAOgmB,GACzCy+C,EAAKgB,EAASzlE,IAAQ,SAASV,GAC3Ba,EAAOwuB,oBAAoBrvB,EAAM0mB,GAAS,MAWlD,SAAS2/C,EAAUjlE,EAAMuC,GACrB,KAAOvC,GAAM,CACT,GAAIA,GAAQuC,EACR,OAAO,EAEXvC,EAAOA,EAAKwC,WAEhB,OAAO,EASX,SAAS0iE,EAAMp4D,EAAK2iC,GAChB,OAAO3iC,EAAIvL,QAAQkuC,IAAS,EAQhC,SAASs1B,EAASj4D,GACd,OAAOA,EAAI03B,OAAO5gC,MAAM,QAU5B,SAASuhE,EAAQf,EAAK30B,EAAM21B,GACxB,GAAIhB,EAAI7iE,UAAY6jE,EAChB,OAAOhB,EAAI7iE,QAAQkuC,GAGnB,IADA,IAAI1uC,EAAI,EACDA,EAAIqjE,EAAI5iE,QAAQ,CACnB,GAAK4jE,GAAahB,EAAIrjE,GAAGqkE,IAAc31B,IAAW21B,GAAahB,EAAIrjE,KAAO0uC,EACtE,OAAO1uC,EAEXA,IAEJ,OAAQ,EAShB,SAASskE,EAAQ/jE,GACb,OAAOgF,MAAM3E,UAAUqH,MAAM3F,KAAK/B,EAAK,GAU3C,SAASgkE,EAAYlB,EAAKpvD,EAAKuwD,GAK3B,IAJA,IAAIC,EAAU,GACVpU,EAAS,GACTrwD,EAAI,EAEDA,EAAIqjE,EAAI5iE,QAAQ,CACnB,IAAIuX,EAAM/D,EAAMovD,EAAIrjE,GAAGiU,GAAOovD,EAAIrjE,GAC9BokE,EAAQ/T,EAAQr4C,GAAO,GACvBysD,EAAQviE,KAAKmhE,EAAIrjE,IAErBqwD,EAAOrwD,GAAKgY,EACZhY,IAaJ,OAVIwkE,IAIIC,EAHCxwD,EAGSwwD,EAAQD,MAAK,SAAyBjgE,EAAGC,GAC/C,OAAOD,EAAE0P,GAAOzP,EAAEyP,MAHZwwD,EAAQD,QAQnBC,EASX,SAASxoD,EAAS1b,EAAKqwB,GAKnB,IAJA,IAAIpH,EAAQxa,EACR01D,EAAY9zC,EAAS,GAAGqG,cAAgBrG,EAAS3oB,MAAM,GAEvDjI,EAAI,EACDA,EAAIwiE,EAAgB/hE,QAAQ,CAI/B,IAFAuO,GADAwa,EAASg5C,EAAgBxiE,IACPwpB,EAASk7C,EAAY9zC,KAE3BrwB,EACR,OAAOyO,EAEXhP,KASR,IAAI2kE,EAAY,EAUhB,SAASC,EAAoBhnE,GACzB,IAAIinE,EAAMjnE,EAAQe,eAAiBf,EACnC,OAAQinE,EAAIC,aAAeD,EAAIE,cAAgBhnD,EAGnD,IAEIinD,EAAiB,iBAAkBjnD,EACnCknD,OA1XJ,IA0X6BhpD,EAAS8B,EAAQ,gBAC1CmnD,EAAqBF,GAJN,wCAIoCviE,KAAK8Q,UAAU4xD,WAwBlEC,EAAW,CAAC,IAAK,KACjBC,EAAkB,CAAC,UAAW,WASlC,SAASC,EAAMC,EAASv3C,GACpB,IAAI1hB,EAAOlL,KACXA,KAAKmkE,QAAUA,EACfnkE,KAAK4sB,SAAWA,EAChB5sB,KAAKxD,QAAU2nE,EAAQ3nE,QACvBwD,KAAK1C,OAAS6mE,EAAQt2D,QAAQu2D,YAI9BpkE,KAAKqkE,WAAa,SAASC,GACnB/B,EAAS4B,EAAQt2D,QAAQ02D,OAAQ,CAACJ,KAClCj5D,EAAKiY,QAAQmhD,IAIrBtkE,KAAKmmB,OA4DT,SAASq+C,EAAaL,EAASM,EAAWvwD,GACtC,IAAIwwD,EAAcxwD,EAAMxC,SAASrS,OAC7BslE,EAAqBzwD,EAAM0wD,gBAAgBvlE,OAC3CwlE,EAvGU,EAuGCJ,GAA4BC,EAAcC,GAAuB,EAC5EG,EAAuB,GAAZL,GAA2CC,EAAcC,GAAuB,EAE/FzwD,EAAM2wD,UAAYA,EAClB3wD,EAAM4wD,UAAYA,EAEdD,IACAV,EAAQjkB,QAAU,IAKtBhsC,EAAMuwD,UAAYA,EAiBtB,SAA0BN,EAASjwD,GAC/B,IAAIgsC,EAAUikB,EAAQjkB,QAClBxuC,EAAWwC,EAAMxC,SACjBqzD,EAAiBrzD,EAASrS,OAGzB6gD,EAAQ8kB,aACT9kB,EAAQ8kB,WAAaC,EAAqB/wD,IAI1C6wD,EAAiB,IAAM7kB,EAAQglB,cAC/BhlB,EAAQglB,cAAgBD,EAAqB/wD,GACnB,IAAnB6wD,IACP7kB,EAAQglB,eAAgB,GAG5B,IAAIF,EAAa9kB,EAAQ8kB,WACrBE,EAAgBhlB,EAAQglB,cACxBC,EAAeD,EAAgBA,EAAc7tD,OAAS2tD,EAAW3tD,OAEjEA,EAASnD,EAAMmD,OAAS+tD,EAAU1zD,GACtCwC,EAAMmxD,UAAY/D,IAClBptD,EAAMoxD,UAAYpxD,EAAMmxD,UAAYL,EAAWK,UAE/CnxD,EAAMtD,MAAQ20D,EAASJ,EAAc9tD,GACrCnD,EAAM3N,SAAWi/D,EAAYL,EAAc9tD,GA0B/C,SAAwB6oC,EAAShsC,GAC7B,IAAImD,EAASnD,EAAMmD,OACfopB,EAASyf,EAAQulB,aAAe,GAChCC,EAAYxlB,EAAQwlB,WAAa,GACjCC,EAAYzlB,EAAQylB,WAAa,GA5LvB,IA8LVzxD,EAAMuwD,WA5LE,IA4L2BkB,EAAUlB,YAC7CiB,EAAYxlB,EAAQwlB,UAAY,CAC5BhhE,EAAGihE,EAAUloB,QAAU,EACvB54C,EAAG8gE,EAAUnoB,QAAU,GAG3B/c,EAASyf,EAAQulB,YAAc,CAC3B/gE,EAAG2S,EAAO3S,EACVG,EAAGwS,EAAOxS,IAIlBqP,EAAMupC,OAASioB,EAAUhhE,GAAK2S,EAAO3S,EAAI+7B,EAAO/7B,GAChDwP,EAAMspC,OAASkoB,EAAU7gE,GAAKwS,EAAOxS,EAAI47B,EAAO57B,GA3ChD+gE,CAAe1lB,EAAShsC,GACxBA,EAAM2xD,gBAAkBC,EAAa5xD,EAAMupC,OAAQvpC,EAAMspC,QAEzD,IAAIuoB,EAAkBC,EAAY9xD,EAAMoxD,UAAWpxD,EAAMupC,OAAQvpC,EAAMspC,QACvEtpC,EAAM+xD,iBAAmBF,EAAgBrhE,EACzCwP,EAAMgyD,iBAAmBH,EAAgBlhE,EACzCqP,EAAM6xD,gBAAmBjvD,EAAIivD,EAAgBrhE,GAAKoS,EAAIivD,EAAgBlhE,GAAMkhE,EAAgBrhE,EAAIqhE,EAAgBlhE,EAEhHqP,EAAMjD,MAAQi0D,GAkNAnrD,EAlNyBmrD,EAAcxzD,SAkNhCoI,EAlN0CpI,EAmNxD8zD,EAAY1rD,EAAI,GAAIA,EAAI,GAAImqD,GAAmBuB,EAAYzrD,EAAM,GAAIA,EAAM,GAAIkqD,IAnNX,EAC3E/vD,EAAMiyD,SAAWjB,EAsMrB,SAAqBnrD,EAAOD,GACxB,OAAOyrD,EAASzrD,EAAI,GAAIA,EAAI,GAAImqD,GAAmBsB,EAASxrD,EAAM,GAAIA,EAAM,GAAIkqD,GAvM/CmC,CAAYlB,EAAcxzD,SAAUA,GAAY,EAEjFwC,EAAMmyD,YAAenmB,EAAQylB,UAAsCzxD,EAAMxC,SAASrS,OAC9E6gD,EAAQylB,UAAUU,YAAenyD,EAAMxC,SAASrS,OAAS6gD,EAAQylB,UAAUU,YADtCnyD,EAAMxC,SAASrS,OAwC5D,SAAkC6gD,EAAShsC,GACvC,IAEIoyD,EAAUC,EAAWC,EAAWzlD,EAFhC1C,EAAO6hC,EAAQumB,cAAgBvyD,EAC/BoxD,EAAYpxD,EAAMmxD,UAAYhnD,EAAKgnD,UAGvC,GArNe,GAqNXnxD,EAAMuwD,YAA8Ba,EA1NrB,SAlYvB,IA4lB4EjnD,EAAKioD,UAAyB,CAClG,IAAI7oB,EAASvpC,EAAMupC,OAASp/B,EAAKo/B,OAC7BD,EAAStpC,EAAMspC,OAASn/B,EAAKm/B,OAE7BloB,EAAI0wC,EAAYV,EAAW7nB,EAAQD,GACvC+oB,EAAYjxC,EAAE5wB,EACd8hE,EAAYlxC,EAAEzwB,EACdyhE,EAAYxvD,EAAIwe,EAAE5wB,GAAKoS,EAAIwe,EAAEzwB,GAAMywB,EAAE5wB,EAAI4wB,EAAEzwB,EAC3Ckc,EAAY+kD,EAAaroB,EAAQD,GAEjC0C,EAAQumB,aAAevyD,OAGvBoyD,EAAWjoD,EAAKioD,SAChBC,EAAYloD,EAAKkoD,UACjBC,EAAYnoD,EAAKmoD,UACjBzlD,EAAY1C,EAAK0C,UAGrB7M,EAAMoyD,SAAWA,EACjBpyD,EAAMqyD,UAAYA,EAClBryD,EAAMsyD,UAAYA,EAClBtyD,EAAM6M,UAAYA,EAhElB2lD,CAAyBxmB,EAAShsC,GA4MtC,IAAkB6F,EAAOD,EAzMrB,IAAIxc,EAAS6mE,EAAQ3nE,QACjBsmE,EAAU5uD,EAAM3C,SAASjU,OAAQA,KACjCA,EAAS4W,EAAM3C,SAASjU,QAE5B4W,EAAM5W,OAASA,EA/DfqpE,CAAiBxC,EAASjwD,GAG1BiwD,EAAQ9jD,KAAK,eAAgBnM,GAE7BiwD,EAAQyC,UAAU1yD,GAClBiwD,EAAQjkB,QAAQylB,UAAYzxD,EA0HhC,SAAS+wD,EAAqB/wD,GAK1B,IAFA,IAAIxC,EAAW,GACX9S,EAAI,EACDA,EAAIsV,EAAMxC,SAASrS,QACtBqS,EAAS9S,GAAK,CACVgT,QAAShN,EAAMsP,EAAMxC,SAAS9S,GAAGgT,SACjCC,QAASjN,EAAMsP,EAAMxC,SAAS9S,GAAGiT,UAErCjT,IAGJ,MAAO,CACHymE,UAAW/D,IACX5vD,SAAUA,EACV2F,OAAQ+tD,EAAU1zD,GAClB+rC,OAAQvpC,EAAMupC,OACdD,OAAQtpC,EAAMspC,QAStB,SAAS4nB,EAAU1zD,GACf,IAAIqzD,EAAiBrzD,EAASrS,OAG9B,GAAuB,IAAnB0lE,EACA,MAAO,CACHrgE,EAAGE,EAAM8M,EAAS,GAAGE,SACrB/M,EAAGD,EAAM8M,EAAS,GAAGG,UAK7B,IADA,IAAInN,EAAI,EAAGG,EAAI,EAAGjG,EAAI,EACfA,EAAImmE,GACPrgE,GAAKgN,EAAS9S,GAAGgT,QACjB/M,GAAK6M,EAAS9S,GAAGiT,QACjBjT,IAGJ,MAAO,CACH8F,EAAGE,EAAMF,EAAIqgE,GACblgE,EAAGD,EAAMC,EAAIkgE,IAWrB,SAASiB,EAAYV,EAAW5gE,EAAGG,GAC/B,MAAO,CACHH,EAAGA,EAAI4gE,GAAa,EACpBzgE,EAAGA,EAAIygE,GAAa,GAU5B,SAASQ,EAAaphE,EAAGG,GACrB,OAAIH,IAAMG,EAzTO,EA6TbiS,EAAIpS,IAAMoS,EAAIjS,GACPH,EAAI,EA7TE,EACC,EA8TXG,EAAI,EA7TI,EACE,GAsUrB,SAAS2gE,EAAY1zC,EAAIC,EAAI/uB,GACpBA,IACDA,EAAQghE,GAEZ,IAAIt/D,EAAIqtB,EAAG/uB,EAAM,IAAM8uB,EAAG9uB,EAAM,IAC5B6B,EAAIktB,EAAG/uB,EAAM,IAAM8uB,EAAG9uB,EAAM,IAEhC,OAAO2B,KAAK2R,KAAM5R,EAAIA,EAAMG,EAAIA,GAUpC,SAAS0gE,EAASzzC,EAAIC,EAAI/uB,GACjBA,IACDA,EAAQghE,GAEZ,IAAIt/D,EAAIqtB,EAAG/uB,EAAM,IAAM8uB,EAAG9uB,EAAM,IAC5B6B,EAAIktB,EAAG/uB,EAAM,IAAM8uB,EAAG9uB,EAAM,IAChC,OAA0B,IAAnB2B,KAAKkiE,MAAMhiE,EAAGH,GAAWC,KAAKuqB,GA1TzCg1C,EAAM1kE,UAAY,CAKd2jB,QAAS,aAKTgD,KAAM,WACFnmB,KAAK8mE,MAAQnE,EAAkB3iE,KAAKxD,QAASwD,KAAK8mE,KAAM9mE,KAAKqkE,YAC7DrkE,KAAK+mE,UAAYpE,EAAkB3iE,KAAK1C,OAAQ0C,KAAK+mE,SAAU/mE,KAAKqkE,YACpErkE,KAAKgnE,OAASrE,EAAkBa,EAAoBxjE,KAAKxD,SAAUwD,KAAKgnE,MAAOhnE,KAAKqkE,aAMxF11B,QAAS,WACL3uC,KAAK8mE,MAAQjE,EAAqB7iE,KAAKxD,QAASwD,KAAK8mE,KAAM9mE,KAAKqkE,YAChErkE,KAAK+mE,UAAYlE,EAAqB7iE,KAAK1C,OAAQ0C,KAAK+mE,SAAU/mE,KAAKqkE,YACvErkE,KAAKgnE,OAASnE,EAAqBW,EAAoBxjE,KAAKxD,SAAUwD,KAAKgnE,MAAOhnE,KAAKqkE,cA4T/F,IAAI4C,EAAkB,CAClBtkD,UA/Xc,EAgYdC,UA/Xa,EAgYbG,QA/XY,GA0YhB,SAASmkD,IACLlnE,KAAK8mE,KATkB,YAUvB9mE,KAAKgnE,MATiB,oBAWtBhnE,KAAKmnE,SAAU,EAEfjD,EAAM3kD,MAAMvf,KAAM0D,WAGtBy+D,EAAQ+E,EAAYhD,EAAO,CAKvB/gD,QAAS,SAAmBmhD,GACxB,IAAIG,EAAYwC,EAAgB3C,EAAG7nE,MA3ZzB,EA8ZNgoE,GAAyC,IAAdH,EAAGvyD,SAC9B/R,KAAKmnE,SAAU,GA9ZV,EAiaL1C,GAAuC,IAAbH,EAAG8C,QAC7B3C,EAjaI,GAqaHzkE,KAAKmnE,UAraF,EAyaJ1C,IACAzkE,KAAKmnE,SAAU,GAGnBnnE,KAAK4sB,SAAS5sB,KAAKmkE,QAASM,EAAW,CACnC/yD,SAAU,CAAC4yD,GACXM,gBAAiB,CAACN,GAClB+C,YAvbW,QAwbX91D,SAAU+yD,QAKtB,IAAIgD,EAAoB,CACpBC,YAzbc,EA0bdC,YAzba,EA0bbC,UAzbY,EA0bZC,cAzbe,EA0bfC,WA1be,GA8bfC,EAAyB,CACzBC,EAzcmB,QA0cnBC,EAzciB,MA0cjBC,EAzcmB,QA0cnBC,EAzcoB,UA4cpBC,EAAyB,cACzBC,EAAwB,sCAa5B,SAASC,KACLnoE,KAAK8mE,KAAOmB,EACZjoE,KAAKgnE,MAAQkB,EAEbhE,EAAM3kD,MAAMvf,KAAM0D,WAElB1D,KAAKooE,MAASpoE,KAAKmkE,QAAQjkB,QAAQ5Z,cAAgB,GAhBnD3pB,EAAO0rD,iBAAmB1rD,EAAO2rD,eACjCL,EAAyB,gBACzBC,EAAwB,6CAiB5B/F,EAAQgG,GAAmBjE,EAAO,CAK9B/gD,QAAS,SAAmBmhD,GACxB,IAAI8D,EAAQpoE,KAAKooE,MACbG,GAAgB,EAEhBC,EAAsBlE,EAAG7nE,KAAK0B,cAAcD,QAAQ,KAAM,IAC1DumE,EAAY6C,EAAkBkB,GAC9BnB,EAAcO,EAAuBtD,EAAG+C,cAAgB/C,EAAG+C,YAE3DoB,EAnfW,SAmfApB,EAGXqB,EAAa1F,EAAQoF,EAAO9D,EAAGqE,UAAW,aA/epC,EAkfNlE,IAA0C,IAAdH,EAAGvyD,QAAgB02D,GAC3CC,EAAa,IACbN,EAAMtnE,KAAKwjE,GACXoE,EAAaN,EAAM/oE,OAAS,GAEb,GAAZolE,IACP8D,GAAgB,GAIhBG,EAAa,IAKjBN,EAAMM,GAAcpE,EAEpBtkE,KAAK4sB,SAAS5sB,KAAKmkE,QAASM,EAAW,CACnC/yD,SAAU02D,EACVxD,gBAAiB,CAACN,GAClB+C,YAAaA,EACb91D,SAAU+yD,IAGViE,GAEAH,EAAMhnE,OAAOsnE,EAAY,OAKrC,IAAIE,GAAyB,CACzBC,WAlhBc,EAmhBdC,UAlhBa,EAmhBbC,SAlhBY,EAmhBZC,YAlhBe,GA6hBnB,SAASC,KACLjpE,KAAK+mE,SATwB,aAU7B/mE,KAAKgnE,MATwB,4CAU7BhnE,KAAKkpE,SAAU,EAEfhF,EAAM3kD,MAAMvf,KAAM0D,WAsCtB,SAASylE,GAAuB7E,EAAI7nE,GAChC,IAAIg6C,EAAMysB,EAAQoB,EAAG3yD,SACjB8rB,EAAUylC,EAAQoB,EAAG8E,gBAMzB,OAJW,GAAP3sE,IACAg6C,EAAM0sB,EAAY1sB,EAAIv9B,OAAOukB,GAAU,cAAc,IAGlD,CAACgZ,EAAKhZ,GA3CjB0kC,EAAQ8G,GAAkB/E,EAAO,CAC7B/gD,QAAS,SAAmBmhD,GACxB,IAAI7nE,EAAOmsE,GAAuBtE,EAAG7nE,MAOrC,GAjjBU,IA6iBNA,IACAuD,KAAKkpE,SAAU,GAGdlpE,KAAKkpE,QAAV,CAIA,IAAIv3D,EAAUw3D,GAAuBjoE,KAAKlB,KAAMskE,EAAI7nE,GAGzC,GAAPA,GAAqCkV,EAAQ,GAAGtS,OAASsS,EAAQ,GAAGtS,QAAW,IAC/EW,KAAKkpE,SAAU,GAGnBlpE,KAAK4sB,SAAS5sB,KAAKmkE,QAAS1nE,EAAM,CAC9BiV,SAAUC,EAAQ,GAClBizD,gBAAiBjzD,EAAQ,GACzB01D,YAtkBW,QAukBX91D,SAAU+yD,QAsBtB,IAAI+E,GAAkB,CAClBR,WAvlBc,EAwlBdC,UAvlBa,EAwlBbC,SAvlBY,EAwlBZC,YAvlBe,GAimBnB,SAAS7pB,KACLn/C,KAAK+mE,SARiB,4CAStB/mE,KAAKspE,UAAY,GAEjBpF,EAAM3kD,MAAMvf,KAAM0D,WA0BtB,SAAS6lE,GAAWjF,EAAI7nE,GACpB,IAAI+sE,EAAatG,EAAQoB,EAAG3yD,SACxB23D,EAAYtpE,KAAKspE,UAGrB,GAAW,EAAP7sE,GAA2D,IAAtB+sE,EAAWnqE,OAEhD,OADAiqE,EAAUE,EAAW,GAAGC,aAAc,EAC/B,CAACD,EAAYA,GAGxB,IAAI5qE,EACA8qE,EACAN,EAAiBlG,EAAQoB,EAAG8E,gBAC5BO,EAAuB,GACvBrsE,EAAS0C,KAAK1C,OAQlB,GALAosE,EAAgBF,EAAW9hE,QAAO,SAASkiE,GACvC,OAAO9G,EAAU8G,EAAMtsE,OAAQA,MAppBrB,IAwpBVb,EAEA,IADAmC,EAAI,EACGA,EAAI8qE,EAAcrqE,QACrBiqE,EAAUI,EAAc9qE,GAAG6qE,aAAc,EACzC7qE,IAMR,IADAA,EAAI,EACGA,EAAIwqE,EAAe/pE,QAClBiqE,EAAUF,EAAexqE,GAAG6qE,aAC5BE,EAAqB7oE,KAAKsoE,EAAexqE,IAIlC,GAAPnC,UACO6sE,EAAUF,EAAexqE,GAAG6qE,YAEvC7qE,IAGJ,OAAK+qE,EAAqBtqE,OAInB,CAEH8jE,EAAYuG,EAAcxwD,OAAOywD,GAAuB,cAAc,GACtEA,QAPJ,EAnEJxH,EAAQhjB,GAAY+kB,EAAO,CACvB/gD,QAAS,SAAoBmhD,GACzB,IAAI7nE,EAAO4sE,GAAgB/E,EAAG7nE,MAC1BkV,EAAU43D,GAAWroE,KAAKlB,KAAMskE,EAAI7nE,GACnCkV,GAIL3R,KAAK4sB,SAAS5sB,KAAKmkE,QAAS1nE,EAAM,CAC9BiV,SAAUC,EAAQ,GAClBizD,gBAAiBjzD,EAAQ,GACzB01D,YA7nBW,QA8nBX91D,SAAU+yD,OA+EtB,SAASuF,KACL3F,EAAM3kD,MAAMvf,KAAM0D,WAElB,IAAIyf,EAAUu+C,EAAO1hE,KAAKmjB,QAASnjB,MACnCA,KAAK4pE,MAAQ,IAAIzqB,GAAWn/C,KAAKmkE,QAAShhD,GAC1CnjB,KAAK8pE,MAAQ,IAAI5C,EAAWlnE,KAAKmkE,QAAShhD,GAE1CnjB,KAAK+pE,aAAe,KACpB/pE,KAAKgqE,YAAc,GAqCvB,SAASC,GAAcxF,EAAWyF,GAnvBhB,EAovBVzF,GACAzkE,KAAK+pE,aAAeG,EAAUtF,gBAAgB,GAAG6E,WACjDU,GAAajpE,KAAKlB,KAAMkqE,IACL,GAAZzF,GACP0F,GAAajpE,KAAKlB,KAAMkqE,GAIhC,SAASC,GAAaD,GAClB,IAAIN,EAAQM,EAAUtF,gBAAgB,GAEtC,GAAIgF,EAAMH,aAAezpE,KAAK+pE,aAAc,CACxC,IAAIK,EAAY,CAAC1lE,EAAGklE,EAAMh4D,QAAS/M,EAAG+kE,EAAM/3D,SAC5C7R,KAAKgqE,YAAYlpE,KAAKspE,GACtB,IAAIC,EAAMrqE,KAAKgqE,YAOf/5C,YANsB,WAClB,IAAIrxB,EAAIyrE,EAAIjrE,QAAQgrE,GAChBxrE,GAAK,GACLyrE,EAAIjpE,OAAOxC,EAAG,KAnEV,OA0EpB,SAAS0rE,GAAiBJ,GAEtB,IADA,IAAIxlE,EAAIwlE,EAAU34D,SAASK,QAAS/M,EAAIqlE,EAAU34D,SAASM,QAClDjT,EAAI,EAAGA,EAAIoB,KAAKgqE,YAAY3qE,OAAQT,IAAK,CAC9C,IAAIxB,EAAI4C,KAAKgqE,YAAYprE,GACrBosC,EAAKrmC,KAAKmS,IAAIpS,EAAItH,EAAEsH,GAAIumC,EAAKtmC,KAAKmS,IAAIjS,EAAIzH,EAAEyH,GAChD,GAAImmC,GA9ES,IA8EeC,GA9Ef,GA+ET,OAAO,EAGf,OAAO,EArEXk3B,EAAQ0H,GAAiB3F,EAAO,CAO5B/gD,QAAS,SAAoBghD,EAASoG,EAAYC,GAC9C,IAAI/B,EAhuBW,SAguBA+B,EAAUnD,YACrBoD,EA/tBW,SA+tBAD,EAAUnD,YAEzB,KAAIoD,GAAWD,EAAUE,oBAAsBF,EAAUE,mBAAmBC,kBAA5E,CAKA,GAAIlC,EACAwB,GAAc/oE,KAAKlB,KAAMuqE,EAAYC,QAClC,GAAIC,GAAWH,GAAiBppE,KAAKlB,KAAMwqE,GAC9C,OAGJxqE,KAAK4sB,SAASu3C,EAASoG,EAAYC,KAMvC77B,QAAS,WACL3uC,KAAK4pE,MAAMj7B,UACX3uC,KAAK8pE,MAAMn7B,aA0CnB,IAAIi8B,GAAwB/vD,EAASwmD,EAAahjE,MAAO,eACrDwsE,QA9pCJ,IA8pC0BD,GAStBE,GA4IJ,WACI,IAAKD,GACD,OAAO,EAEX,IAAIE,EAAW,GACXC,EAAcruD,EAAOsuD,KAAOtuD,EAAOsuD,IAAIC,SAO3C,MANA,CAAC,OAAQ,eAAgB,QAAS,QAAS,cAAe,QAAQlkD,SAAQ,SAASpQ,GAI/Em0D,EAASn0D,IAAOo0D,GAAcruD,EAAOsuD,IAAIC,SAAS,eAAgBt0D,MAE/Dm0D,EAxJYI,GASvB,SAASC,GAAYjH,EAASnmE,GAC1BgC,KAAKmkE,QAAUA,EACfnkE,KAAKw7B,IAAIx9B,GAGbotE,GAAY5rE,UAAY,CAKpBg8B,IAAK,SAASx9B,GAzBS,WA2BfA,IACAA,EAAQgC,KAAKqrE,WAGbR,IAAuB7qE,KAAKmkE,QAAQ3nE,QAAQ6B,OAASysE,GAAiB9sE,KACtEgC,KAAKmkE,QAAQ3nE,QAAQ6B,MAAMusE,IAAyB5sE,GAExDgC,KAAKuT,QAAUvV,EAAMG,cAAckkC,QAMvCpW,OAAQ,WACJjsB,KAAKw7B,IAAIx7B,KAAKmkE,QAAQt2D,QAAQy9D,cAOlCD,QAAS,WACL,IAAI93D,EAAU,GAMd,OALAquD,EAAK5hE,KAAKmkE,QAAQ/kB,aAAa,SAASJ,GAChCujB,EAASvjB,EAAWnxC,QAAQ02D,OAAQ,CAACvlB,MACrCzrC,EAAUA,EAAQ2F,OAAO8lC,EAAWusB,sBAgEpD,SAA2Bh4D,GAEvB,GAAIwvD,EAAMxvD,EAnHU,QAoHhB,MApHgB,OAuHpB,IAAIi4D,EAAUzI,EAAMxvD,EAtHC,SAuHjBk4D,EAAU1I,EAAMxvD,EAtHC,SA4HrB,GAAIi4D,GAAWC,EACX,MA/HgB,OAmIpB,GAAID,GAAWC,EACX,OAAOD,EAnIU,QACA,QAsIrB,GAAIzI,EAAMxvD,EAzIkB,gBA0IxB,MA1IwB,eA6I5B,MA9IoB,OAsDTm4D,CAAkBn4D,EAAQtS,KAAK,OAO1C0qE,gBAAiB,SAASz3D,GACtB,IAAI3C,EAAW2C,EAAM3C,SACjBwP,EAAY7M,EAAM2xD,gBAGtB,GAAI7lE,KAAKmkE,QAAQjkB,QAAQ0rB,UACrBr6D,EAAS6Q,qBADb,CAKA,IAAI7O,EAAUvT,KAAKuT,QACfs4D,EAAU9I,EAAMxvD,EAtEJ,UAsEoCu3D,GAAkC,KAClFW,EAAU1I,EAAMxvD,EArEH,WAqEoCu3D,GArEpC,SAsEbU,EAAUzI,EAAMxvD,EAvEH,WAuEoCu3D,GAvEpC,SAyEjB,GAAIe,EAAS,CAGT,IAAIC,EAAyC,IAA1B53D,EAAMxC,SAASrS,OAC9B0sE,EAAgB73D,EAAM3N,SAAW,EACjCylE,EAAiB93D,EAAMoxD,UAAY,IAEvC,GAAIwG,GAAgBC,GAAiBC,EACjC,OAIR,IAAIR,IAAWC,EAKf,OAAII,GACCJ,GAj3BcQ,EAi3BHlrD,GACXyqD,GAj3BYU,GAi3BDnrD,EACL/gB,KAAKmsE,WAAW56D,QAH3B,IAWJ46D,WAAY,SAAS56D,GACjBvR,KAAKmkE,QAAQjkB,QAAQ0rB,WAAY,EACjCr6D,EAAS6Q,mBA+FjB,SAASgqD,GAAWv+D,GAChB7N,KAAK6N,QAAUszD,EAAO,GAAInhE,KAAK4oB,SAAU/a,GAAW,IAEpD7N,KAAK2I,GApgCE46D,IAsgCPvjE,KAAKmkE,QAAU,KAGfnkE,KAAK6N,QAAQ02D,OAAS/B,EAAYxiE,KAAK6N,QAAQ02D,QAAQ,GAEvDvkE,KAAKqgD,MAxBY,EA0BjBrgD,KAAKqsE,aAAe,GACpBrsE,KAAKssE,YAAc,GAqOvB,SAASC,GAASlsB,GACd,OA5PkB,GA4PdA,EACO,SA/PG,EAgQHA,EACA,MAlQK,EAmQLA,EACA,OArQG,EAsQHA,EACA,QAEJ,GAQX,SAASmsB,GAAazrD,GAClB,OAnuCiB,IAmuCbA,EACO,OAruCI,GAsuCJA,EACA,KAzuCM,GA0uCNA,EACA,OA1uCO,GA2uCPA,EACA,QAEJ,GASX,SAAS0rD,GAA6BC,EAAiB1tB,GACnD,IAAImlB,EAAUnlB,EAAWmlB,QACzB,OAAIA,EACOA,EAAQv1D,IAAI89D,GAEhBA,EAQX,SAASC,KACLP,GAAW7sD,MAAMvf,KAAM0D,WA6D3B,SAASkpE,KACLD,GAAeptD,MAAMvf,KAAM0D,WAE3B1D,KAAK6sE,GAAK,KACV7sE,KAAK8sE,GAAK,KA4Ed,SAASC,KACLJ,GAAeptD,MAAMvf,KAAM0D,WAsC/B,SAASspE,KACLZ,GAAW7sD,MAAMvf,KAAM0D,WAEvB1D,KAAKitE,OAAS,KACdjtE,KAAKktE,OAAS,KAmElB,SAASC,KACLR,GAAeptD,MAAMvf,KAAM0D,WA8B/B,SAAS0pE,KACLT,GAAeptD,MAAMvf,KAAM0D,WA2D/B,SAAS2pE,KACLjB,GAAW7sD,MAAMvf,KAAM0D,WAIvB1D,KAAKstE,OAAQ,EACbttE,KAAKutE,SAAU,EAEfvtE,KAAKitE,OAAS,KACdjtE,KAAKktE,OAAS,KACdltE,KAAKod,MAAQ,EAqGjB,SAASowD,GAAOhxE,EAASqR,GAGrB,OAFAA,EAAUA,GAAW,IACbuxC,YAAcojB,EAAY30D,EAAQuxC,YAAaouB,GAAO5kD,SAAS6kD,QAChE,IAAIxuB,GAAQziD,EAASqR,GA7tBhCu+D,GAAW5sE,UAAY,CAKnBopB,SAAU,GAOV4S,IAAK,SAAS3tB,GAKV,OAJAszD,EAAOnhE,KAAK6N,QAASA,GAGrB7N,KAAKmkE,SAAWnkE,KAAKmkE,QAAQmH,YAAYr/C,SAClCjsB,MAQX0tE,cAAe,SAAShB,GACpB,GAAI/K,EAAe+K,EAAiB,gBAAiB1sE,MACjD,OAAOA,KAGX,IAAIqsE,EAAersE,KAAKqsE,aAMxB,OAJKA,GADLK,EAAkBD,GAA6BC,EAAiB1sE,OAC9B2I,MAC9B0jE,EAAaK,EAAgB/jE,IAAM+jE,EACnCA,EAAgBgB,cAAc1tE,OAE3BA,MAQX2tE,kBAAmB,SAASjB,GACxB,OAAI/K,EAAe+K,EAAiB,oBAAqB1sE,QAIzD0sE,EAAkBD,GAA6BC,EAAiB1sE,aACzDA,KAAKqsE,aAAaK,EAAgB/jE,KAJ9B3I,MAafigD,eAAgB,SAASysB,GACrB,GAAI/K,EAAe+K,EAAiB,iBAAkB1sE,MAClD,OAAOA,KAGX,IAAIssE,EAActsE,KAAKssE,YAMvB,OAJ+C,IAA3CtJ,EAAQsJ,EADZI,EAAkBD,GAA6BC,EAAiB1sE,SAE5DssE,EAAYxrE,KAAK4rE,GACjBA,EAAgBzsB,eAAejgD,OAE5BA,MAQX4tE,mBAAoB,SAASlB,GACzB,GAAI/K,EAAe+K,EAAiB,qBAAsB1sE,MACtD,OAAOA,KAGX0sE,EAAkBD,GAA6BC,EAAiB1sE,MAChE,IAAIf,EAAQ+jE,EAAQhjE,KAAKssE,YAAaI,GAItC,OAHIztE,GAAS,GACTe,KAAKssE,YAAYlrE,OAAOnC,EAAO,GAE5Be,MAOX6tE,mBAAoB,WAChB,OAAO7tE,KAAKssE,YAAYjtE,OAAS,GAQrCyuE,iBAAkB,SAASpB,GACvB,QAAS1sE,KAAKqsE,aAAaK,EAAgB/jE,KAQ/C0X,KAAM,SAASnM,GACX,IAAIhJ,EAAOlL,KACPqgD,EAAQrgD,KAAKqgD,MAEjB,SAAShgC,EAAK7Q,GACVtE,EAAKi5D,QAAQ9jD,KAAK7Q,EAAO0E,GAIzBmsC,EArJM,GAsJNhgC,EAAKnV,EAAK2C,QAAQ2B,MAAQ+8D,GAASlsB,IAGvChgC,EAAKnV,EAAK2C,QAAQ2B,OAEd0E,EAAM65D,iBACN1tD,EAAKnM,EAAM65D,iBAIX1tB,GAhKM,GAiKNhgC,EAAKnV,EAAK2C,QAAQ2B,MAAQ+8D,GAASlsB,KAU3C2tB,QAAS,SAAS95D,GACd,GAAIlU,KAAKiuE,UACL,OAAOjuE,KAAKqgB,KAAKnM,GAGrBlU,KAAKqgD,MA7KM,IAoLf4tB,QAAS,WAEL,IADA,IAAIrvE,EAAI,EACDA,EAAIoB,KAAKssE,YAAYjtE,QAAQ,CAChC,KAAkC,GAA5BW,KAAKssE,YAAY1tE,GAAGyhD,OACtB,OAAO,EAEXzhD,IAEJ,OAAO,GAOXgoE,UAAW,SAAS4D,GAGhB,IAAI0D,EAAiB/M,EAAO,GAAIqJ,GAGhC,IAAKjI,EAASviE,KAAK6N,QAAQ02D,OAAQ,CAACvkE,KAAMkuE,IAGtC,OAFAluE,KAAKgc,aACLhc,KAAKqgD,MA3ME,IAgNM,GAAbrgD,KAAKqgD,QACLrgD,KAAKqgD,MAvNI,GA0NbrgD,KAAKqgD,MAAQrgD,KAAKmuE,QAAQD,GAIT,GAAbluE,KAAKqgD,OACLrgD,KAAKguE,QAAQE,IAWrBC,QAAS,SAAS3D,KAOlBe,eAAgB,aAOhBvvD,MAAO,cA8DXmmD,EAAQwK,GAAgBP,GAAY,CAKhCxjD,SAAU,CAKNlX,SAAU,GASd08D,SAAU,SAASl6D,GACf,IAAIm6D,EAAiBruE,KAAK6N,QAAQ6D,SAClC,OAA0B,IAAnB28D,GAAwBn6D,EAAMxC,SAASrS,SAAWgvE,GAS7DF,QAAS,SAASj6D,GACd,IAAImsC,EAAQrgD,KAAKqgD,MACbokB,EAAYvwD,EAAMuwD,UAElB6J,EAAuB,EAARjuB,EACfkuB,EAAUvuE,KAAKouE,SAASl6D,GAG5B,OAAIo6D,IAlzCO,EAkzCU7J,IAA6B8J,GAvVpC,GAwVHluB,EACAiuB,GAAgBC,EArzCnB,EAszCA9J,EA5VE,EA6VKpkB,EA/VL,EAgWOA,EA/VL,EAkWDA,EAnWD,EAKC,MAiXnB8hB,EAAQyK,GAAeD,GAAgB,CAKnC/jD,SAAU,CACNpZ,MAAO,MACPkwC,UAAW,GACXhuC,SAAU,EACVqP,UA50CYytD,IA+0ChBjD,eAAgB,WACZ,IAAIxqD,EAAY/gB,KAAK6N,QAAQkT,UACzBxN,EAAU,GAOd,OA11CmB04D,EAo1CflrD,GACAxN,EAAQzS,KA9jBK,SAtxBAorE,GAs1CbnrD,GACAxN,EAAQzS,KAlkBK,SAokBVyS,GAGXk7D,cAAe,SAASv6D,GACpB,IAAIrG,EAAU7N,KAAK6N,QACf6gE,GAAW,EACXnoE,EAAW2N,EAAM3N,SACjBwa,EAAY7M,EAAM6M,UAClBrc,EAAIwP,EAAMupC,OACV54C,EAAIqP,EAAMspC,OAed,OAZMz8B,EAAYlT,EAAQkT,YAt2CPkrD,EAu2CXp+D,EAAQkT,WACRA,EAAmB,IAANrc,EA92CR,EA82CqCA,EAAI,EA72CzC,EACC,EA62CNgqE,EAAWhqE,GAAK1E,KAAK6sE,GACrBtmE,EAAW5B,KAAKmS,IAAI5C,EAAMupC,UAE1B18B,EAAmB,IAANlc,EAl3CR,EAk3CqCA,EAAI,EA/2C3C,EACE,GA+2CL6pE,EAAW7pE,GAAK7E,KAAK8sE,GACrBvmE,EAAW5B,KAAKmS,IAAI5C,EAAMspC,UAGlCtpC,EAAM6M,UAAYA,EACX2tD,GAAYnoE,EAAWsH,EAAQ6xC,WAAa3+B,EAAYlT,EAAQkT,WAG3EqtD,SAAU,SAASl6D,GACf,OAAOy4D,GAAentE,UAAU4uE,SAASltE,KAAKlB,KAAMkU,KAva1C,EAwaLlU,KAAKqgD,SAxaA,EAwa0BrgD,KAAKqgD,QAAwBrgD,KAAKyuE,cAAcv6D,KAGxFmM,KAAM,SAASnM,GAEXlU,KAAK6sE,GAAK34D,EAAMupC,OAChBz9C,KAAK8sE,GAAK54D,EAAMspC,OAEhB,IAAIz8B,EAAYyrD,GAAat4D,EAAM6M,WAE/BA,IACA7M,EAAM65D,gBAAkB/tE,KAAK6N,QAAQ2B,MAAQuR,GAEjD/gB,KAAKonB,OAAO/G,KAAKnf,KAAKlB,KAAMkU,MAcpCiuD,EAAQ4K,GAAiBJ,GAAgB,CAKrC/jD,SAAU,CACNpZ,MAAO,QACPkwC,UAAW,EACXhuC,SAAU,GAGd65D,eAAgB,WACZ,MAAO,CAzoBS,SA4oBpB6C,SAAU,SAASl6D,GACf,OAAOlU,KAAKonB,OAAOgnD,SAASltE,KAAKlB,KAAMkU,KAClCvP,KAAKmS,IAAI5C,EAAMjD,MAAQ,GAAKjR,KAAK6N,QAAQ6xC,WApdpC,EAodiD1/C,KAAKqgD,QAGpEhgC,KAAM,SAASnM,GACX,GAAoB,IAAhBA,EAAMjD,MAAa,CACnB,IAAI09D,EAAQz6D,EAAMjD,MAAQ,EAAI,KAAO,MACrCiD,EAAM65D,gBAAkB/tE,KAAK6N,QAAQ2B,MAAQm/D,EAEjD3uE,KAAKonB,OAAO/G,KAAKnf,KAAKlB,KAAMkU,MAiBpCiuD,EAAQ6K,GAAiBZ,GAAY,CAKjCxjD,SAAU,CACNpZ,MAAO,QACPkC,SAAU,EACVk9D,KAAM,IACNlvB,UAAW,GAGf6rB,eAAgB,WACZ,MAAO,CAtrBS,SAyrBpB4C,QAAS,SAASj6D,GACd,IAAIrG,EAAU7N,KAAK6N,QACfghE,EAAgB36D,EAAMxC,SAASrS,SAAWwO,EAAQ6D,SAClDo9D,EAAgB56D,EAAM3N,SAAWsH,EAAQ6xC,UACzCqvB,EAAY76D,EAAMoxD,UAAYz3D,EAAQ+gE,KAM1C,GAJA5uE,KAAKktE,OAASh5D,GAIT46D,IAAkBD,GAAoC,GAAlB36D,EAAMuwD,YAA2CsK,EACtF/uE,KAAKgc,aACF,GAn+CG,EAm+CC9H,EAAMuwD,UACbzkE,KAAKgc,QACLhc,KAAKitE,OAASzL,GAAkB,WAC5BxhE,KAAKqgD,MA1gBH,EA2gBFrgD,KAAKguE,YACNngE,EAAQ+gE,KAAM5uE,WACd,GAv+CC,EAu+CGkU,EAAMuwD,UACb,OA9gBM,EAghBV,OA7gBW,IAghBfzoD,MAAO,WACHgzD,aAAahvE,KAAKitE,SAGtB5sD,KAAM,SAASnM,GAvhBD,IAwhBNlU,KAAKqgD,QAILnsC,GAt/CI,EAs/CMA,EAAMuwD,UAChBzkE,KAAKmkE,QAAQ9jD,KAAKrgB,KAAK6N,QAAQ2B,MAAQ,KAAM0E,IAE7ClU,KAAKktE,OAAO7H,UAAY/D,IACxBthE,KAAKmkE,QAAQ9jD,KAAKrgB,KAAK6N,QAAQ2B,MAAOxP,KAAKktE,aAevD/K,EAAQgL,GAAkBR,GAAgB,CAKtC/jD,SAAU,CACNpZ,MAAO,SACPkwC,UAAW,EACXhuC,SAAU,GAGd65D,eAAgB,WACZ,MAAO,CAvvBS,SA0vBpB6C,SAAU,SAASl6D,GACf,OAAOlU,KAAKonB,OAAOgnD,SAASltE,KAAKlB,KAAMkU,KAClCvP,KAAKmS,IAAI5C,EAAMiyD,UAAYnmE,KAAK6N,QAAQ6xC,WAlkBnC,EAkkBgD1/C,KAAKqgD,UAcvE8hB,EAAQiL,GAAiBT,GAAgB,CAKrC/jD,SAAU,CACNpZ,MAAO,QACPkwC,UAAW,GACX4mB,SAAU,GACVvlD,UAAWytD,GACX98D,SAAU,GAGd65D,eAAgB,WACZ,OAAOqB,GAAcptE,UAAU+rE,eAAerqE,KAAKlB,OAGvDouE,SAAU,SAASl6D,GACf,IACIoyD,EADAvlD,EAAY/gB,KAAK6N,QAAQkT,UAW7B,OARgB,GAAZA,EACAulD,EAAWpyD,EAAM6xD,gBArjDFkG,EAsjDRlrD,EACPulD,EAAWpyD,EAAM+xD,iBAtjDJiG,GAujDNnrD,IACPulD,EAAWpyD,EAAMgyD,kBAGdlmE,KAAKonB,OAAOgnD,SAASltE,KAAKlB,KAAMkU,IACnC6M,EAAY7M,EAAM2xD,iBAClB3xD,EAAM3N,SAAWvG,KAAK6N,QAAQ6xC,WAC9BxrC,EAAMmyD,aAAermE,KAAK6N,QAAQ6D,UAClCoF,EAAIwvD,GAAYtmE,KAAK6N,QAAQy4D,UAzkDzB,EAykDqCpyD,EAAMuwD,WAGvDpkD,KAAM,SAASnM,GACX,IAAI6M,EAAYyrD,GAAat4D,EAAM2xD,iBAC/B9kD,GACA/gB,KAAKmkE,QAAQ9jD,KAAKrgB,KAAK6N,QAAQ2B,MAAQuR,EAAW7M,GAGtDlU,KAAKmkE,QAAQ9jD,KAAKrgB,KAAK6N,QAAQ2B,MAAO0E,MA2B9CiuD,EAAQkL,GAAejB,GAAY,CAK/BxjD,SAAU,CACNpZ,MAAO,MACPkC,SAAU,EACVsuC,KAAM,EACNivB,SAAU,IACVL,KAAM,IACNlvB,UAAW,EACXwvB,aAAc,IAGlB3D,eAAgB,WACZ,MAAO,CAh2BiB,iBAm2B5B4C,QAAS,SAASj6D,GACd,IAAIrG,EAAU7N,KAAK6N,QAEfghE,EAAgB36D,EAAMxC,SAASrS,SAAWwO,EAAQ6D,SAClDo9D,EAAgB56D,EAAM3N,SAAWsH,EAAQ6xC,UACzCyvB,EAAiBj7D,EAAMoxD,UAAYz3D,EAAQ+gE,KAI/C,GAFA5uE,KAAKgc,QAzoDK,EA2oDL9H,EAAMuwD,WAA4C,IAAfzkE,KAAKod,MACzC,OAAOpd,KAAKovE,cAKhB,GAAIN,GAAiBK,GAAkBN,EAAe,CAClD,GAhpDI,GAgpDA36D,EAAMuwD,UACN,OAAOzkE,KAAKovE,cAGhB,IAAIC,GAAgBrvE,KAAKstE,OAASp5D,EAAMmxD,UAAYrlE,KAAKstE,MAAQz/D,EAAQohE,SACrEK,GAAiBtvE,KAAKutE,SAAW/H,EAAYxlE,KAAKutE,QAASr5D,EAAMmD,QAAUxJ,EAAQqhE,aAgBvF,GAdAlvE,KAAKstE,MAAQp5D,EAAMmxD,UACnBrlE,KAAKutE,QAAUr5D,EAAMmD,OAEhBi4D,GAAkBD,EAGnBrvE,KAAKod,OAAS,EAFdpd,KAAKod,MAAQ,EAKjBpd,KAAKktE,OAASh5D,EAKG,IADFlU,KAAKod,MAAQvP,EAAQmyC,KAIhC,OAAKhgD,KAAK6tE,sBAGN7tE,KAAKitE,OAASzL,GAAkB,WAC5BxhE,KAAKqgD,MAltBX,EAmtBMrgD,KAAKguE,YACNngE,EAAQohE,SAAUjvE,MAttBvB,GAEA,EAytBV,OAttBW,IAytBfovE,YAAa,WAIT,OAHApvE,KAAKitE,OAASzL,GAAkB,WAC5BxhE,KAAKqgD,MA3tBE,KA4tBRrgD,KAAK6N,QAAQohE,SAAUjvE,MA5tBf,IAguBfgc,MAAO,WACHgzD,aAAahvE,KAAKitE,SAGtB5sD,KAAM,WAvuBQ,GAwuBNrgB,KAAKqgD,QACLrgD,KAAKktE,OAAOqC,SAAWvvE,KAAKod,MAC5Bpd,KAAKmkE,QAAQ9jD,KAAKrgB,KAAK6N,QAAQ2B,MAAOxP,KAAKktE,YAoBvDM,GAAOgC,QAAU,QAMjBhC,GAAO5kD,SAAW,CAOdy2B,WAAW,EAQXisB,YAl9BuB,UAw9BvB/G,QAAQ,EASRH,YAAa,KAObllB,WAAY,KAOZuuB,OAAQ,CAEJ,CAACN,GAAkB,CAAC5I,QAAQ,IAC5B,CAACwI,GAAiB,CAACxI,QAAQ,GAAQ,CAAC,WACpC,CAAC6I,GAAiB,CAACrsD,UArwDAkrD,IAswDnB,CAACW,GAAe,CAAC7rD,UAtwDEkrD,GAswDgC,CAAC,UACpD,CAACoB,IACD,CAACA,GAAe,CAAC79D,MAAO,YAAawwC,KAAM,GAAI,CAAC,QAChD,CAACgtB,KAQLyC,SAAU,CAMNC,WAAY,OAOZC,YAAa,OASbC,aAAc,OAOdC,eAAgB,OAOhBC,SAAU,OAQVC,kBAAmB,kBAa3B,SAAS9wB,GAAQziD,EAASqR,GAzwD1B,IAA6Bs2D,EA0wDzBnkE,KAAK6N,QAAUszD,EAAO,GAAIqM,GAAO5kD,SAAU/a,GAAW,IAEtD7N,KAAK6N,QAAQu2D,YAAcpkE,KAAK6N,QAAQu2D,aAAe5nE,EAEvDwD,KAAKqiB,SAAW,GAChBriB,KAAKkgD,QAAU,GACflgD,KAAKo/C,YAAc,GACnBp/C,KAAKgwE,YAAc,GAEnBhwE,KAAKxD,QAAUA,EACfwD,KAAKkU,MArwDE,KAfkBiwD,EAoxDQnkE,MAlxDR6N,QAAQqxC,aAItB2kB,EACAsE,GACArE,EACA3kB,GACCykB,EAGDiG,GAFA3C,IAIO/C,EAASK,GAswD3BxkE,KAAKsrE,YAAc,IAAIF,GAAYprE,KAAMA,KAAK6N,QAAQy9D,aAEtD2E,GAAejwE,MAAM,GAErB4hE,EAAK5hE,KAAK6N,QAAQuxC,aAAa,SAASxvB,GACpC,IAAIovB,EAAah/C,KAAKY,IAAI,IAAKgvB,EAAK,GAAIA,EAAK,KAC7CA,EAAK,IAAMovB,EAAW0uB,cAAc99C,EAAK,IACzCA,EAAK,IAAMovB,EAAWiB,eAAerwB,EAAK,MAC3C5vB,MA4PP,SAASiwE,GAAe9L,EAASvjE,GAC7B,IAIIgN,EAJApR,EAAU2nE,EAAQ3nE,QACjBA,EAAQ6B,QAIbujE,EAAKuC,EAAQt2D,QAAQ4hE,UAAU,SAASzxE,EAAOf,GAC3C2Q,EAAOiN,EAASre,EAAQ6B,MAAOpB,GAC3B2D,GACAujE,EAAQ6L,YAAYpiE,GAAQpR,EAAQ6B,MAAMuP,GAC1CpR,EAAQ6B,MAAMuP,GAAQ5P,GAEtBxB,EAAQ6B,MAAMuP,GAAQu2D,EAAQ6L,YAAYpiE,IAAS,MAGtDhN,IACDujE,EAAQ6L,YAAc,KAzQ9B/wB,GAAQz/C,UAAY,CAMhBg8B,IAAK,SAAS3tB,GAaV,OAZAszD,EAAOnhE,KAAK6N,QAASA,GAGjBA,EAAQy9D,aACRtrE,KAAKsrE,YAAYr/C,SAEjBpe,EAAQu2D,cAERpkE,KAAKkU,MAAMy6B,UACX3uC,KAAKkU,MAAM5W,OAASuQ,EAAQu2D,YAC5BpkE,KAAKkU,MAAMiS,QAERnmB,MASXogD,KAAM,SAAS7+C,GACXvB,KAAKkgD,QAAQC,QAAU5+C,EA5Db,EADP,GAsEPqlE,UAAW,SAAS4D,GAChB,IAAItqB,EAAUlgD,KAAKkgD,QACnB,IAAIA,EAAQC,QAAZ,CAOA,IAAInB,EAFJh/C,KAAKsrE,YAAYK,gBAAgBnB,GAGjC,IAAIprB,EAAcp/C,KAAKo/C,YAKnBkB,EAAgBJ,EAAQI,gBAIvBA,GAAkBA,GAz8Bb,EAy8B8BA,EAAcD,SAClDC,EAAgBJ,EAAQI,cAAgB,MAI5C,IADA,IAAI1hD,EAAI,EACDA,EAAIwgD,EAAY//C,QACnB2/C,EAAaI,EAAYxgD,GA9FnB,IAsGFshD,EAAQC,SACHG,GAAiBtB,GAAcsB,IAChCtB,EAAW8uB,iBAAiBxtB,GAGhCtB,EAAWhjC,QAFXgjC,EAAW4nB,UAAU4D,IAOpBlqB,GAAoC,GAAnBtB,EAAWqB,QAC7BC,EAAgBJ,EAAQI,cAAgBtB,GAE5CpgD,MASRgQ,IAAK,SAASowC,GACV,GAAIA,aAAsBotB,GACtB,OAAOptB,EAIX,IADA,IAAII,EAAcp/C,KAAKo/C,YACdxgD,EAAI,EAAGA,EAAIwgD,EAAY//C,OAAQT,IACpC,GAAIwgD,EAAYxgD,GAAGiP,QAAQ2B,OAASwvC,EAChC,OAAOI,EAAYxgD,GAG3B,OAAO,MASXgC,IAAK,SAASo+C,GACV,GAAI2iB,EAAe3iB,EAAY,MAAOh/C,MAClC,OAAOA,KAIX,IAAIkwE,EAAWlwE,KAAK4O,IAAIowC,EAAWnxC,QAAQ2B,OAS3C,OARI0gE,GACAlwE,KAAKG,OAAO+vE,GAGhBlwE,KAAKo/C,YAAYt+C,KAAKk+C,GACtBA,EAAWmlB,QAAUnkE,KAErBA,KAAKsrE,YAAYr/C,SACV+yB,GAQX7+C,OAAQ,SAAS6+C,GACb,GAAI2iB,EAAe3iB,EAAY,SAAUh/C,MACrC,OAAOA,KAMX,GAHAg/C,EAAah/C,KAAK4O,IAAIowC,GAGN,CACZ,IAAII,EAAcp/C,KAAKo/C,YACnBngD,EAAQ+jE,EAAQ5jB,EAAaJ,IAElB,IAAX//C,IACAmgD,EAAYh+C,OAAOnC,EAAO,GAC1Be,KAAKsrE,YAAYr/C,UAIzB,OAAOjsB,MASXoO,GAAI,SAASa,EAAQkU,GACjB,QAp5ER,IAo5EYlU,QAp5EZ,IAu5EYkU,EAAJ,CAIA,IAAId,EAAWriB,KAAKqiB,SAKpB,OAJAu/C,EAAKgB,EAAS3zD,IAAS,SAASO,GAC5B6S,EAAS7S,GAAS6S,EAAS7S,IAAU,GACrC6S,EAAS7S,GAAO1O,KAAKqiB,MAElBnjB,OASX8tB,IAAK,SAAS7e,EAAQkU,GAClB,QA16ER,IA06EYlU,EAAJ,CAIA,IAAIoT,EAAWriB,KAAKqiB,SAQpB,OAPAu/C,EAAKgB,EAAS3zD,IAAS,SAASO,GACvB2T,EAGDd,EAAS7S,IAAU6S,EAAS7S,GAAOpO,OAAO4hE,EAAQ3gD,EAAS7S,GAAQ2T,GAAU,UAFtEd,EAAS7S,MAKjBxP,OAQXqgB,KAAM,SAAS7Q,EAAO8X,GAEdtnB,KAAK6N,QAAQwxC,WAkEzB,SAAyB7vC,EAAO8X,GAC5B,IAAI6oD,EAAe1tE,EAAS8oB,YAAY,SACxC4kD,EAAaC,UAAU5gE,GAAO,GAAM,GACpC2gE,EAAaE,QAAU/oD,EACvBA,EAAKhqB,OAAOgzE,cAAcH,GArElBI,CAAgB/gE,EAAO8X,GAI3B,IAAIjF,EAAWriB,KAAKqiB,SAAS7S,IAAUxP,KAAKqiB,SAAS7S,GAAO3I,QAC5D,GAAKwb,GAAaA,EAAShjB,OAA3B,CAIAioB,EAAK7qB,KAAO+S,EACZ8X,EAAKlF,eAAiB,WAClBkF,EAAK/V,SAAS6Q,kBAIlB,IADA,IAAIxjB,EAAI,EACDA,EAAIyjB,EAAShjB,QAChBgjB,EAASzjB,GAAG0oB,GACZ1oB,MAQR+vC,QAAS,WACL3uC,KAAKxD,SAAWyzE,GAAejwE,MAAM,GAErCA,KAAKqiB,SAAW,GAChBriB,KAAKkgD,QAAU,GACflgD,KAAKkU,MAAMy6B,UACX3uC,KAAKxD,QAAU,OAyCvB2kE,EAAOqM,GAAQ,CACXgD,YAtoEc,EAuoEdC,WAtoEa,EAuoEbC,UAtoEY,EAuoEZC,aAtoEe,EAwoEfC,eAlrCiB,EAmrCjBC,YAlrCc,EAmrCdC,cAlrCgB,EAmrChBC,YAlrCc,EAmrCdC,iBAnrCc,EAorCdC,gBAlrCkB,GAmrClBC,aAlrCe,GAorCfC,eA9oEiB,EA+oEjBlF,eA9oEiB,EA+oEjBmF,gBA9oEkB,EA+oElBlF,aA9oEe,EA+oEfmF,eA9oEiB,GA+oEjB7C,qBA7oEuBvC,EA8oEvBqF,mBA7oEqBpF,GA8oErBqF,cA7oEgB/C,GA+oEhBvvB,QAASA,GACTilB,MAAOA,EACPkH,YAAaA,GAEbjsB,WAAYA,GACZ+nB,WAAYA,EACZiB,kBAAmBA,GACnB0B,gBAAiBA,GACjBZ,iBAAkBA,GAElBmD,WAAYA,GACZO,eAAgBA,GAChBptB,IAAK8tB,GACL5tB,IAAKmtB,GACL4E,MAAOpE,GACPttB,MAAOitB,GACP0E,OAAQtE,GACRvtB,MAAOotB,GAEP5+D,GAAIu0D,EACJ70C,IAAK+0C,EACLjB,KAAMA,EACNM,MAAOA,EACPp/D,OAAQA,EACRq+D,OAAQA,EACRgB,QAASA,EACTT,OAAQA,EACR7mD,SAAUA,UAKsB,IAAX8B,EAAyBA,EAA0B,oBAATzR,KAAuBA,KAAO,IACtFsiE,OAASA,QAjkFpB,KAokFI,aACI,OAAOA,IACV,8BAtkFL,CA6kFG7wD,OAAQla,W,kBCllFkB,mBAAlB3D,OAAO6D,OAEhBoT,EAAOC,QAAU,SAAkBC,EAAMC,GACnCA,IACFD,EAAKE,OAASD,EACdD,EAAKzW,UAAYV,OAAO6D,OAAOuT,EAAU1W,UAAW,CAClDwL,YAAa,CACXhN,MAAOiY,EACPxJ,YAAY,EACZZ,UAAU,EACVC,cAAc,OAOtBiK,EAAOC,QAAU,SAAkBC,EAAMC,GACvC,GAAIA,EAAW,CACbD,EAAKE,OAASD,EACd,IAAIE,EAAW,aACfA,EAAS5W,UAAY0W,EAAU1W,UAC/ByW,EAAKzW,UAAY,IAAI4W,EACrBH,EAAKzW,UAAUwL,YAAciL,K;;;;;;;GCRnC,IAAIy7D,EAAkB,UAOtB37D,EAAOC,QAUP,SAAoBoX,GAClB,IAOI2mC,EAPAppD,EAAM,GAAKyiB,EACXxiB,EAAQ8mE,EAAgB5kB,KAAKniD,GAEjC,IAAKC,EACH,OAAOD,EAIT,IAAIkf,EAAO,GACP5qB,EAAQ,EACR0yE,EAAY,EAEhB,IAAK1yE,EAAQ2L,EAAM3L,MAAOA,EAAQ0L,EAAItL,OAAQJ,IAAS,CACrD,OAAQ0L,EAAI4hD,WAAWttD,IACrB,KAAK,GACH80D,EAAS,SACT,MACF,KAAK,GACHA,EAAS,QACT,MACF,KAAK,GACHA,EAAS,QACT,MACF,KAAK,GACHA,EAAS,OACT,MACF,KAAK,GACHA,EAAS,OACT,MACF,QACE,SAGA4d,IAAc1yE,IAChB4qB,GAAQlf,EAAI1I,UAAU0vE,EAAW1yE,IAGnC0yE,EAAY1yE,EAAQ,EACpB4qB,GAAQkqC,EAGV,OAAO4d,IAAc1yE,EACjB4qB,EAAOlf,EAAI1I,UAAU0vE,EAAW1yE,GAChC4qB,I,oBC5EN,IAAI+nD,EAAc,EAAQ,KACtBC,EAAW,EAAQ,KACnBC,EAAe,EAAQ,KACvBC,EAAa,EAAQ,KACrB3tE,EAAU,EAAQ,KA8CtB2R,EAAOC,QAPP,SAAgBvD,EAAYu/D,EAAUC,GACpC,IAAIhsD,EAAO7hB,EAAQqO,GAAcm/D,EAAcG,EAC3CG,EAAYxuE,UAAUrE,OAAS,EAEnC,OAAO4mB,EAAKxT,EAAYq/D,EAAaE,EAAU,GAAIC,EAAaC,EAAWL,K,kBCtB7E97D,EAAOC,QAbP,SAAqBnV,EAAOmxE,EAAUC,EAAaC,GACjD,IAAIjzE,GAAS,EACTI,EAAkB,MAATwB,EAAgB,EAAIA,EAAMxB,OAKvC,IAHI6yE,GAAa7yE,IACf4yE,EAAcpxE,IAAQ5B,MAEfA,EAAQI,GACf4yE,EAAcD,EAASC,EAAapxE,EAAM5B,GAAQA,EAAO4B,GAE3D,OAAOoxE,I,kBCATl8D,EAAOC,QATP,SAAoBvD,EAAYu/D,EAAUC,EAAaC,EAAWC,GAMhE,OALAA,EAAS1/D,GAAY,SAASzU,EAAOiB,EAAOwT,GAC1Cw/D,EAAcC,GACTA,GAAY,EAAOl0E,GACpBg0E,EAASC,EAAaj0E,EAAOiB,EAAOwT,MAEnCw/D,I,oBCnBT,IAuCI3kC,EAvCa,EAAQ,IAuCd8kC,CAtCK,EAAQ,MAwCxBr8D,EAAOC,QAAUs3B,G,oBCzCjB,IAAIwkC,EAAe,EAAQ,KACvBO,EAAc,EAAQ,KACtBtzE,EAAO,EAAQ,KAsBnBgX,EAAOC,QAbP,SAAoBs8D,GAClB,OAAO,SAAS7/D,EAAY8/D,EAAWC,GACrC,IAAIC,EAAW3zE,OAAO2T,GACtB,IAAK4/D,EAAY5/D,GAAa,CAC5B,IAAIu/D,EAAWF,EAAaS,EAAW,GACvC9/D,EAAa1T,EAAK0T,GAClB8/D,EAAY,SAAS1/D,GAAO,OAAOm/D,EAASS,EAAS5/D,GAAMA,EAAK4/D,IAElE,IAAIxzE,EAAQqzE,EAAc7/D,EAAY8/D,EAAWC,GACjD,OAAOvzE,GAAS,EAAIwzE,EAAST,EAAWv/D,EAAWxT,GAASA,QAAST,K,oBCpBzE,IAAIk0E,EAAgB,EAAQ,KACxBZ,EAAe,EAAQ,KACvBa,EAAY,EAAQ,KAGpB7yC,EAAYn7B,KAAKwmB,IAiDrBpV,EAAOC,QAZP,SAAmBnV,EAAO0xE,EAAWC,GACnC,IAAInzE,EAAkB,MAATwB,EAAgB,EAAIA,EAAMxB,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAIJ,EAAqB,MAAbuzE,EAAoB,EAAIG,EAAUH,GAI9C,OAHIvzE,EAAQ,IACVA,EAAQ6gC,EAAUzgC,EAASJ,EAAO,IAE7ByzE,EAAc7xE,EAAOixE,EAAaS,EAAW,GAAItzE,K,oBCnD1D,IAAI2zE,EAAW,EAAQ,KAyCvB78D,EAAOC,QAZP,SAAkBhY,GAChB,OAAKA,GAGLA,EAAQ40E,EAAS50E,MA9BJ,KA+BaA,KA/Bb,IACG,uBA+BFA,EAAQ,GAAK,EAAI,GAGxBA,GAAUA,EAAQA,EAAQ,EAPd,IAAVA,EAAcA,EAAQ,I,oBC/BjC,IAAI60E,EAAW,EAAQ,KACnBC,EAAa,EAAQ,KACrBt0C,EAAY,EAAQ,KACpBE,EAAiB,EAAQ,KAyCzBrb,EAAOwvD,GAAS,SAAS5sD,EAAM4Y,EAASC,GAC1C,IAAIF,EAvCe,EAwCnB,GAAIE,EAASz/B,OAAQ,CACnB,IAAI0/B,EAAUL,EAAeI,EAAUN,EAAUnb,IACjDub,GAzCoB,GA2CtB,OAAOk0C,EAAW7sD,EAAM2Y,EAASC,EAASC,EAAUC,MAItD1b,EAAK7D,YAAc,GAEnBzJ,EAAOC,QAAUqN,G,oBCxDjB,IAAI4a,EAAc,EAAQ,KACtB80C,EAAa,EAAQ,KACrBC,EAAc,EAAQ,KACtBr0C,EAAe,EAAQ,KACvBs0C,EAAgB,EAAQ,KACxBhyC,EAAU,EAAQ,KAClBiyC,EAAY,EAAQ,KACpBvyC,EAAU,EAAQ,KAClBC,EAAkB,EAAQ,KAC1B+xC,EAAY,EAAQ,KAcpB7yC,EAAYn7B,KAAKwmB,IAkFrBpV,EAAOC,QAvDP,SAAoBiQ,EAAM2Y,EAASC,EAASC,EAAUC,EAASG,EAAQC,EAAKC,GAC1E,IAAIG,EAnCmB,EAmCPX,EAChB,IAAKW,GAA4B,mBAARtZ,EACvB,MAAM,IAAIra,UAzCQ,uBA2CpB,IAAIvM,EAASy/B,EAAWA,EAASz/B,OAAS,EAS1C,GARKA,IACHu/B,IAAW,GACXE,EAAWC,OAAUvgC,GAEvB2gC,OAAc3gC,IAAR2gC,EAAoBA,EAAMW,EAAU6yC,EAAUxzC,GAAM,GAC1DC,OAAkB5gC,IAAV4gC,EAAsBA,EAAQuzC,EAAUvzC,GAChD//B,GAAU0/B,EAAUA,EAAQ1/B,OAAS,EA1CT,GA4CxBu/B,EAAmC,CACrC,IAAII,EAAgBF,EAChBG,EAAeF,EAEnBD,EAAWC,OAAUvgC,EAEvB,IAAI8oB,EAAOiY,OAAY/gC,EAAYyiC,EAAQhb,GAEvC8a,EAAU,CACZ9a,EAAM2Y,EAASC,EAASC,EAAUC,EAASC,EAAeC,EAC1DC,EAAQC,EAAKC,GAkBf,GAfI9X,GACF4rD,EAAUnyC,EAASzZ,GAErBrB,EAAO8a,EAAQ,GACfnC,EAAUmC,EAAQ,GAClBlC,EAAUkC,EAAQ,GAClBjC,EAAWiC,EAAQ,GACnBhC,EAAUgC,EAAQ,KAClB3B,EAAQ2B,EAAQ,QAAoBviC,IAAfuiC,EAAQ,GACxBxB,EAAY,EAAItZ,EAAK5mB,OACtBygC,EAAUiB,EAAQ,GAAK1hC,EAAQ,KAEX,GAAVu/B,IACZA,IAAW,IAERA,GA7Ec,GA6EHA,EAGd/2B,EA9EkB,GA6ET+2B,GA5Ee,IA4EeA,EAC9Bo0C,EAAY/sD,EAAM2Y,EAASQ,GA5EhB,IA6EVR,GAA2C,IAAXA,GAAqDG,EAAQ1/B,OAG9Fs/B,EAAapf,WAAM/gB,EAAWuiC,GAF9BkyC,EAAchtD,EAAM2Y,EAASC,EAASC,QAJ/C,IAAIj3B,EAASkrE,EAAW9sD,EAAM2Y,EAASC,GASzC,OAAO+B,GADMtZ,EAAO2W,EAAc0C,GACJ94B,EAAQk5B,GAAU9a,EAAM2Y,K,oBCtGxD,IAAIN,EAAa,EAAQ,KACrB/wB,EAAO,EAAQ,KA0BnBwI,EAAOC,QAXP,SAAoBiQ,EAAM2Y,EAASC,GACjC,IAAIS,EAbe,EAaNV,EACTxf,EAAOkf,EAAWrY,GAMtB,OAJA,SAASyZ,IACP,IAAIn4B,EAAMvH,MAAQA,OAASuN,GAAQvN,gBAAgB0/B,EAAWtgB,EAAO6G,EACrE,OAAO1e,EAAGgY,MAAM+f,EAAST,EAAU7+B,KAAM0D,c,oBCtB7C,IAAI6b,EAAQ,EAAQ,KAChB+e,EAAa,EAAQ,KACrBK,EAAe,EAAQ,KACvBJ,EAAgB,EAAQ,KACxBC,EAAY,EAAQ,KACpBE,EAAiB,EAAQ,KACzBnxB,EAAO,EAAQ,KAuCnBwI,EAAOC,QA5BP,SAAqBiQ,EAAM2Y,EAASQ,GAClC,IAAIhgB,EAAOkf,EAAWrY,GAwBtB,OAtBA,SAASyZ,IAMP,IALA,IAAIrgC,EAASqE,UAAUrE,OACnBggB,EAAOlb,MAAM9E,GACbJ,EAAQI,EACRmgB,EAAcgf,EAAUkB,GAErBzgC,KACLogB,EAAKpgB,GAASyE,UAAUzE,GAE1B,IAAI8/B,EAAW1/B,EAAS,GAAKggB,EAAK,KAAOG,GAAeH,EAAKhgB,EAAS,KAAOmgB,EACzE,GACAkf,EAAerf,EAAMG,GAGzB,IADAngB,GAAU0/B,EAAQ1/B,QACL+/B,EACX,OAAOb,EACLtY,EAAM2Y,EAASD,EAAce,EAAQlgB,iBAAahhB,EAClD6gB,EAAM0f,OAASvgC,OAAWA,EAAW4gC,EAAQ//B,GAEjD,IAAIkI,EAAMvH,MAAQA,OAASuN,GAAQvN,gBAAgB0/B,EAAWtgB,EAAO6G,EACrE,OAAO1G,EAAMhY,EAAIvH,KAAMqf,M,kBCpB3BtJ,EAAOC,QAZP,SAAsBnV,EAAO2e,GAI3B,IAHA,IAAIngB,EAASwB,EAAMxB,OACfwI,EAAS,EAENxI,KACDwB,EAAMxB,KAAYmgB,KAClB3X,EAGN,OAAOA,I,oBCjBT,IAAI4d,EAAc,EAAQ,KACtBwb,EAAU,EAAQ,KAClBkyC,EAAc,EAAQ,KACtBC,EAAS,EAAQ,KAwBrBr9D,EAAOC,QAdP,SAAoBiQ,GAClB,IAAIotD,EAAWF,EAAYltD,GACvBqtD,EAAQF,EAAOC,GAEnB,GAAoB,mBAATC,KAAyBD,KAAY5tD,EAAYjmB,WAC1D,OAAO,EAET,GAAIymB,IAASqtD,EACX,OAAO,EAET,IAAIhsD,EAAO2Z,EAAQqyC,GACnB,QAAShsD,GAAQrB,IAASqB,EAAK,K,oBCxBjC,IAAIisD,EAAY,EAAQ,KAMpB9jD,EAHc3wB,OAAOU,UAGQiwB,eAwBjC1Z,EAAOC,QAfP,SAAqBiQ,GAKnB,IAJA,IAAIpe,EAAUoe,EAAKhpB,KAAO,GACtB4D,EAAQ0yE,EAAU1rE,GAClBxI,EAASowB,EAAevuB,KAAKqyE,EAAW1rE,GAAUhH,EAAMxB,OAAS,EAE9DA,KAAU,CACf,IAAIioB,EAAOzmB,EAAMxB,GACbm0E,EAAYlsD,EAAKrB,KACrB,GAAiB,MAAbutD,GAAqBA,GAAavtD,EACpC,OAAOqB,EAAKrqB,KAGhB,OAAO4K,I,kBCxBTkO,EAAOC,QAFS,I,oBCDhB,IAAIyP,EAAc,EAAQ,KACtByb,EAAgB,EAAQ,KACxB1b,EAAa,EAAQ,KACrBphB,EAAU,EAAQ,KAClBqvE,EAAe,EAAQ,KACvBC,EAAe,EAAQ,KAMvBjkD,EAHc3wB,OAAOU,UAGQiwB,eAuHjC,SAAS2jD,EAAOp1E,GACd,GAAIy1E,EAAaz1E,KAAWoG,EAAQpG,MAAYA,aAAiBynB,GAAc,CAC7E,GAAIznB,aAAiBkjC,EACnB,OAAOljC,EAET,GAAIyxB,EAAevuB,KAAKlD,EAAO,eAC7B,OAAO01E,EAAa11E,GAGxB,OAAO,IAAIkjC,EAAcljC,GAI3Bo1E,EAAO5zE,UAAYgmB,EAAWhmB,UAC9B4zE,EAAO5zE,UAAUwL,YAAcooE,EAE/Br9D,EAAOC,QAAUo9D,G,oBClJjB,IAAI3tD,EAAc,EAAQ,KACtByb,EAAgB,EAAQ,KACxByyC,EAAY,EAAQ,KAoBxB59D,EAAOC,QAXP,SAAsB0pB,GACpB,GAAIA,aAAmBja,EACrB,OAAOia,EAAQh/B,QAEjB,IAAImH,EAAS,IAAIq5B,EAAcxB,EAAQha,YAAaga,EAAQ0B,WAI5D,OAHAv5B,EAAO8d,YAAcguD,EAAUj0C,EAAQ/Z,aACvC9d,EAAOw5B,UAAa3B,EAAQ2B,UAC5Bx5B,EAAOy5B,WAAa5B,EAAQ4B,WACrBz5B,I,kBClBT,IAAI+rE,EAAgB,oCAChBC,EAAiB,QAcrB99D,EAAOC,QALP,SAAwBnN,GACtB,IAAI+B,EAAQ/B,EAAO+B,MAAMgpE,GACzB,OAAOhpE,EAAQA,EAAM,GAAGnJ,MAAMoyE,GAAkB,K,kBCZlD,IAAIC,EAAgB,4CAqBpB/9D,EAAOC,QAXP,SAA2BnN,EAAQkrE,GACjC,IAAI10E,EAAS00E,EAAQ10E,OACrB,IAAKA,EACH,OAAOwJ,EAET,IAAI8oE,EAAYtyE,EAAS,EAGzB,OAFA00E,EAAQpC,IAActyE,EAAS,EAAI,KAAO,IAAM00E,EAAQpC,GACxDoC,EAAUA,EAAQ9yE,KAAK5B,EAAS,EAAI,KAAO,KACpCwJ,EAAO3K,QAAQ41E,EAAe,uBAAyBC,EAAU,Y,oBCnB1E,IAAIC,EAAY,EAAQ,KACpBC,EAAgB,EAAQ,KAcxBC,EAAY,CACd,CAAC,MANiB,KAOlB,CAAC,OAbkB,GAcnB,CAAC,UAbsB,GAcvB,CAAC,QAbmB,GAcpB,CAAC,aAbyB,IAc1B,CAAC,OATkB,KAUnB,CAAC,UAdqB,IAetB,CAAC,eAd2B,IAe5B,CAAC,QAbmB,MAkCtBn+D,EAAOC,QAVP,SAA2B+9D,EAASn1C,GAOlC,OANAo1C,EAAUE,GAAW,SAASC,GAC5B,IAAIn2E,EAAQ,KAAOm2E,EAAK,GACnBv1C,EAAUu1C,EAAK,KAAQF,EAAcF,EAAS/1E,IACjD+1E,EAAQjzE,KAAK9C,MAGV+1E,EAAQ3Q,S,oBC1CjB,IAAIuQ,EAAY,EAAQ,KACpBS,EAAU,EAAQ,KAGlBC,EAAY1vE,KAAKumB,IAwBrBnV,EAAOC,QAZP,SAAiBnV,EAAOyzE,GAKtB,IAJA,IAAIC,EAAY1zE,EAAMxB,OAClBA,EAASg1E,EAAUC,EAAQj1E,OAAQk1E,GACnCC,EAAWb,EAAU9yE,GAElBxB,KAAU,CACf,IAAIJ,EAAQq1E,EAAQj1E,GACpBwB,EAAMxB,GAAU+0E,EAAQn1E,EAAOs1E,GAAaC,EAASv1E,QAAST,EAEhE,OAAOqC,I,oBCzBT,IAAI0e,EAAQ,EAAQ,KAChB+e,EAAa,EAAQ,KACrB/wB,EAAO,EAAQ,KAwCnBwI,EAAOC,QAvBP,SAAuBiQ,EAAM2Y,EAASC,EAASC,GAC7C,IAAIQ,EAfe,EAeNV,EACTxf,EAAOkf,EAAWrY,GAkBtB,OAhBA,SAASyZ,IAQP,IAPA,IAAIK,GAAa,EACbC,EAAat8B,UAAUrE,OACvB6gC,GAAa,EACbC,EAAarB,EAASz/B,OACtBggB,EAAOlb,MAAMg8B,EAAaH,GAC1Bz4B,EAAMvH,MAAQA,OAASuN,GAAQvN,gBAAgB0/B,EAAWtgB,EAAO6G,IAE5Dia,EAAYC,GACnB9gB,EAAK6gB,GAAapB,EAASoB,GAE7B,KAAOF,KACL3gB,EAAK6gB,KAAex8B,YAAYq8B,GAElC,OAAOxgB,EAAMhY,EAAI+3B,EAAST,EAAU7+B,KAAMqf,M,oBCrC9C,IAAI8e,EAAc,EAAQ,KACtBC,EAAmB,EAAQ,KAC3BM,EAAiB,EAAQ,KAczB21C,EAAY1vE,KAAKumB,IAyErBnV,EAAOC,QAvDP,SAAmBsR,EAAMze,GACvB,IAAI+1B,EAAUtX,EAAK,GACfmtD,EAAa5rE,EAAO,GACpB6rE,EAAa91C,EAAU61C,EACvBE,EAAWD,EAAa,IAExBE,EA5Bc,KA6BdH,GA9BgB,GA8BiB71C,GA7BnB,KA8Bd61C,GA7BgB,KA6BiB71C,GAAgCtX,EAAK,GAAGjoB,QAAUwJ,EAAO,IAC5E,KAAd4rE,GAAqD5rE,EAAO,GAAGxJ,QAAUwJ,EAAO,IAhChE,GAgCwE+1B,EAG5F,IAAM+1C,IAAYC,EAChB,OAAOttD,EAvCU,EA0CfmtD,IACFntD,EAAK,GAAKze,EAAO,GAEjB6rE,GA7CiB,EA6CH91C,EAA2B,EA3CjB,GA8C1B,IAAI5gC,EAAQ6K,EAAO,GACnB,GAAI7K,EAAO,CACT,IAAI8gC,EAAWxX,EAAK,GACpBA,EAAK,GAAKwX,EAAWX,EAAYW,EAAU9gC,EAAO6K,EAAO,IAAM7K,EAC/DspB,EAAK,GAAKwX,EAAWJ,EAAepX,EAAK,GAvD3B,0BAuD8Cze,EAAO,GA0BrE,OAvBA7K,EAAQ6K,EAAO,MAEbi2B,EAAWxX,EAAK,GAChBA,EAAK,GAAKwX,EAAWV,EAAiBU,EAAU9gC,EAAO6K,EAAO,IAAM7K,EACpEspB,EAAK,GAAKwX,EAAWJ,EAAepX,EAAK,GA9D3B,0BA8D8Cze,EAAO,KAGrE7K,EAAQ6K,EAAO,MAEbye,EAAK,GAAKtpB,GA5DM,IA+Ddy2E,IACFntD,EAAK,GAAgB,MAAXA,EAAK,GAAaze,EAAO,GAAKwrE,EAAU/sD,EAAK,GAAIze,EAAO,KAGrD,MAAXye,EAAK,KACPA,EAAK,GAAKze,EAAO,IAGnBye,EAAK,GAAKze,EAAO,GACjBye,EAAK,GAAKotD,EAEHptD,I,oBCjET,IAAIwyB,EAA4Bh7C,OAAOg7C,2BACrC,SAAmC36C,GAGjC,IAFA,IAAIJ,EAAOD,OAAOC,KAAKI,GACnB8+D,EAAc,GACTr/D,EAAI,EAAGA,EAAIG,EAAKM,OAAQT,IAC/Bq/D,EAAYl/D,EAAKH,IAAME,OAAO86C,yBAAyBz6C,EAAKJ,EAAKH,IAEnE,OAAOq/D,GAGP4W,EAAe,WACnB7+D,EAAQg9C,OAAS,SAASzvD,GACxB,IAAKuxE,EAASvxE,GAAI,CAEhB,IADA,IAAIwxE,EAAU,GACLn2E,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IACpCm2E,EAAQj0E,KAAKk0E,EAAQtxE,UAAU9E,KAEjC,OAAOm2E,EAAQ9zE,KAAK,KAGlBrC,EAAI,EAmBR,IAnBA,IACIygB,EAAO3b,UACP+U,EAAM4G,EAAKhgB,OACXsL,EAAMvM,OAAOmF,GAAGrF,QAAQ22E,GAAc,SAASnwE,GACjD,GAAU,OAANA,EAAY,MAAO,IACvB,GAAI9F,GAAK6Z,EAAK,OAAO/T,EACrB,OAAQA,GACN,IAAK,KAAM,OAAOtG,OAAOihB,EAAKzgB,MAC9B,IAAK,KAAM,OAAOq2E,OAAO51D,EAAKzgB,MAC9B,IAAK,KACH,IACE,OAAOs2E,KAAKC,UAAU91D,EAAKzgB,MAC3B,MAAOgc,GACP,MAAO,aAEX,QACE,OAAOlW,MAGJA,EAAI2a,EAAKzgB,GAAIA,EAAI6Z,EAAK/T,EAAI2a,IAAOzgB,GACpCw2E,EAAO1wE,KAAOya,EAASza,GACzBiG,GAAO,IAAMjG,EAEbiG,GAAO,IAAMqqE,EAAQtwE,GAGzB,OAAOiG,GAOTqL,EAAQ6rD,UAAY,SAASt6D,EAAIy7B,GAC/B,GAAuB,oBAAZmrC,UAAqD,IAA1BA,QAAQkH,cAC5C,OAAO9tE,EAIT,GAAuB,oBAAZ4mE,QACT,OAAO,WACL,OAAOn4D,EAAQ6rD,UAAUt6D,EAAIy7B,GAAKzjB,MAAMvf,KAAM0D,YAIlD,IAAI4xE,GAAS,EAeb,OAdA,WACE,IAAKA,EAAQ,CACX,GAAInH,QAAQoH,iBACV,MAAM,IAAIx1E,MAAMijC,GACPmrC,QAAQqH,iBACjB3oD,QAAQ4oD,MAAMzyC,GAEdnW,QAAQb,MAAMgX,GAEhBsyC,GAAS,EAEX,OAAO/tE,EAAGgY,MAAMvf,KAAM0D,aAO1B,IACIgyE,EADAC,EAAS,GA6Bb,SAASX,EAAQ71E,EAAK0gE,GAEpB,IAAIvP,EAAM,CACRslB,KAAM,GACNC,QAASC,GAkBX,OAfIpyE,UAAUrE,QAAU,IAAGixD,EAAI9oD,MAAQ9D,UAAU,IAC7CA,UAAUrE,QAAU,IAAGixD,EAAIylB,OAASryE,UAAU,IAC9CsyE,EAAUnW,GAEZvP,EAAI2lB,WAAapW,EACRA,GAET7pD,EAAQkgE,QAAQ5lB,EAAKuP,GAGnBsW,EAAY7lB,EAAI2lB,cAAa3lB,EAAI2lB,YAAa,GAC9CE,EAAY7lB,EAAI9oD,SAAQ8oD,EAAI9oD,MAAQ,GACpC2uE,EAAY7lB,EAAIylB,UAASzlB,EAAIylB,QAAS,GACtCI,EAAY7lB,EAAI8lB,iBAAgB9lB,EAAI8lB,eAAgB,GACpD9lB,EAAIylB,SAAQzlB,EAAIulB,QAAUQ,GACvBC,EAAYhmB,EAAKnxD,EAAKmxD,EAAI9oD,OAoCnC,SAAS6uE,EAAiB1rE,EAAK4rE,GAC7B,IAAIl4E,EAAQ22E,EAAQ7lE,OAAOonE,GAE3B,OAAIl4E,EACK,KAAY22E,EAAQe,OAAO13E,GAAO,GAAK,IAAMsM,EAC7C,KAAYqqE,EAAQe,OAAO13E,GAAO,GAAK,IAEvCsM,EAKX,SAASmrE,EAAenrE,EAAK4rE,GAC3B,OAAO5rE,EAeT,SAAS2rE,EAAYhmB,EAAKtyD,EAAOw4E,GAG/B,GAAIlmB,EAAI8lB,eACJp4E,GACAy4E,EAAWz4E,EAAMg3E,UAEjBh3E,EAAMg3E,UAAYh/D,EAAQg/D,WAExBh3E,EAAMgN,aAAehN,EAAMgN,YAAYxL,YAAcxB,GAAQ,CACjE,IAAI2c,EAAM3c,EAAMg3E,QAAQwB,EAAclmB,GAItC,OAHKwkB,EAASn6D,KACZA,EAAM27D,EAAYhmB,EAAK31C,EAAK67D,IAEvB77D,EAIT,IAAI+7D,EA+FN,SAAyBpmB,EAAKtyD,GAC5B,GAAIm4E,EAAYn4E,GACd,OAAOsyD,EAAIulB,QAAQ,YAAa,aAClC,GAAIf,EAAS92E,GAAQ,CACnB,IAAI24E,EAAS,IAAOzB,KAAKC,UAAUn3E,GAAOE,QAAQ,SAAU,IAClBA,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAAO,IACjE,OAAOoyD,EAAIulB,QAAQc,EAAQ,UAE7B,GAAIC,EAAS54E,GACX,OAAOsyD,EAAIulB,QAAQ,GAAK73E,EAAO,UACjC,GAAIg4E,EAAUh4E,GACZ,OAAOsyD,EAAIulB,QAAQ,GAAK73E,EAAO,WAEjC,GAAIo3E,EAAOp3E,GACT,OAAOsyD,EAAIulB,QAAQ,OAAQ,QA9GbgB,CAAgBvmB,EAAKtyD,GACrC,GAAI04E,EACF,OAAOA,EAIT,IAAI33E,EAAOD,OAAOC,KAAKf,GACnB84E,EApCN,SAAqBj2E,GACnB,IAAIk2E,EAAO,GAMX,OAJAl2E,EAAMmmB,SAAQ,SAASpQ,EAAK5P,GAC1B+vE,EAAKngE,IAAO,KAGPmgE,EA6BWC,CAAYj4E,GAQ9B,GANIuxD,EAAI2lB,aACNl3E,EAAOD,OAAOm4E,oBAAoBj5E,IAKhCk5E,EAAQl5E,KACJe,EAAKK,QAAQ,YAAc,GAAKL,EAAKK,QAAQ,gBAAkB,GACrE,OAAO+3E,EAAYn5E,GAIrB,GAAoB,IAAhBe,EAAKM,OAAc,CACrB,GAAIo3E,EAAWz4E,GAAQ,CACrB,IAAIf,EAAOe,EAAMf,KAAO,KAAOe,EAAMf,KAAO,GAC5C,OAAOqzD,EAAIulB,QAAQ,YAAc54E,EAAO,IAAK,WAE/C,GAAIm6E,EAASp5E,GACX,OAAOsyD,EAAIulB,QAAQwB,OAAO73E,UAAUD,SAAS2B,KAAKlD,GAAQ,UAE5D,GAAIs5E,EAAOt5E,GACT,OAAOsyD,EAAIulB,QAAQtU,KAAK/hE,UAAUD,SAAS2B,KAAKlD,GAAQ,QAE1D,GAAIk5E,EAAQl5E,GACV,OAAOm5E,EAAYn5E,GAIvB,IA2CIyW,EA3CA2tD,EAAO,GAAIvhE,GAAQ,EAAO02E,EAAS,CAAC,IAAK,MAGzCnzE,EAAQpG,KACV6C,GAAQ,EACR02E,EAAS,CAAC,IAAK,MAIbd,EAAWz4E,MAEbokE,EAAO,cADCpkE,EAAMf,KAAO,KAAOe,EAAMf,KAAO,IACf,KAkB5B,OAdIm6E,EAASp5E,KACXokE,EAAO,IAAMiV,OAAO73E,UAAUD,SAAS2B,KAAKlD,IAI1Cs5E,EAAOt5E,KACTokE,EAAO,IAAMb,KAAK/hE,UAAUg4E,YAAYt2E,KAAKlD,IAI3Ck5E,EAAQl5E,KACVokE,EAAO,IAAM+U,EAAYn5E,IAGP,IAAhBe,EAAKM,QAAkBwB,GAAyB,GAAhB7C,EAAMqB,OAItCm3E,EAAe,EACbY,EAASp5E,GACJsyD,EAAIulB,QAAQwB,OAAO73E,UAAUD,SAAS2B,KAAKlD,GAAQ,UAEnDsyD,EAAIulB,QAAQ,WAAY,YAInCvlB,EAAIslB,KAAK90E,KAAK9C,GAIZyW,EADE5T,EAsCN,SAAqByvD,EAAKtyD,EAAOw4E,EAAcM,EAAa/3E,GAE1D,IADA,IAAI0V,EAAS,GACJ7V,EAAI,EAAGw2B,EAAIp3B,EAAMqB,OAAQT,EAAIw2B,IAAKx2B,EACrC6wB,EAAezxB,EAAOI,OAAOQ,IAC/B6V,EAAO3T,KAAK22E,EAAennB,EAAKtyD,EAAOw4E,EAAcM,EACjD14E,OAAOQ,IAAI,IAEf6V,EAAO3T,KAAK,IAShB,OANA/B,EAAKioB,SAAQ,SAASnU,GACfA,EAAIjI,MAAM,UACb6J,EAAO3T,KAAK22E,EAAennB,EAAKtyD,EAAOw4E,EAAcM,EACjDjkE,GAAK,OAGN4B,EArDIijE,CAAYpnB,EAAKtyD,EAAOw4E,EAAcM,EAAa/3E,GAEnDA,EAAK+b,KAAI,SAASjI,GACzB,OAAO4kE,EAAennB,EAAKtyD,EAAOw4E,EAAcM,EAAajkE,EAAKhS,MAItEyvD,EAAIslB,KAAK7zC,MA6GX,SAA8BttB,EAAQ2tD,EAAMmV,GAQ1C,GANa9iE,EAAOyvB,QAAO,SAAS7nB,EAAMs7D,GAGxC,OADIA,EAAIv4E,QAAQ,OAAS,GAAGw4E,EACrBv7D,EAAOs7D,EAAIz5E,QAAQ,kBAAmB,IAAImB,OAAS,IACzD,GAEU,GACX,OAAOk4E,EAAO,IACG,KAATnV,EAAc,GAAKA,EAAO,OAC3B,IACA3tD,EAAOxT,KAAK,SACZ,IACAs2E,EAAO,GAGhB,OAAOA,EAAO,GAAKnV,EAAO,IAAM3tD,EAAOxT,KAAK,MAAQ,IAAMs2E,EAAO,GA5H1DM,CAAqBpjE,EAAQ2tD,EAAMmV,IAxBjCA,EAAO,GAAKnV,EAAOmV,EAAO,GA+CrC,SAASJ,EAAYn5E,GACnB,MAAO,IAAM+B,MAAMP,UAAUD,SAAS2B,KAAKlD,GAAS,IAwBtD,SAASy5E,EAAennB,EAAKtyD,EAAOw4E,EAAcM,EAAajkE,EAAKhS,GAClE,IAAI5D,EAAM0N,EAAKmtE,EAsCf,IArCAA,EAAOh5E,OAAO86C,yBAAyB57C,EAAO6U,IAAQ,CAAE7U,MAAOA,EAAM6U,KAC5DjE,IAELjE,EADEmtE,EAAKt8C,IACD80B,EAAIulB,QAAQ,kBAAmB,WAE/BvlB,EAAIulB,QAAQ,WAAY,WAG5BiC,EAAKt8C,MACP7wB,EAAM2lD,EAAIulB,QAAQ,WAAY,YAG7BpmD,EAAeqnD,EAAajkE,KAC/B5V,EAAO,IAAM4V,EAAM,KAEhBlI,IACC2lD,EAAIslB,KAAKx2E,QAAQ04E,EAAK95E,OAAS,GAE/B2M,EADEyqE,EAAOoB,GACHF,EAAYhmB,EAAKwnB,EAAK95E,MAAO,MAE7Bs4E,EAAYhmB,EAAKwnB,EAAK95E,MAAOw4E,EAAe,IAE5Cp3E,QAAQ,OAAS,IAErBuL,EADE9J,EACI8J,EAAIlJ,MAAM,MAAMqZ,KAAI,SAASkK,GACjC,MAAO,KAAOA,KACb/jB,KAAK,MAAMurD,OAAO,GAEf,KAAO7hD,EAAIlJ,MAAM,MAAMqZ,KAAI,SAASkK,GACxC,MAAO,MAAQA,KACd/jB,KAAK,OAIZ0J,EAAM2lD,EAAIulB,QAAQ,aAAc,YAGhCM,EAAYl5E,GAAO,CACrB,GAAI4D,GAASgS,EAAIjI,MAAM,SACrB,OAAOD,GAET1N,EAAOi4E,KAAKC,UAAU,GAAKtiE,IAClBjI,MAAM,iCACb3N,EAAOA,EAAKuvD,OAAO,EAAGvvD,EAAKoC,OAAS,GACpCpC,EAAOqzD,EAAIulB,QAAQ54E,EAAM,UAEzBA,EAAOA,EAAKiB,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,KAChCjB,EAAOqzD,EAAIulB,QAAQ54E,EAAM,WAI7B,OAAOA,EAAO,KAAO0N,EA2BvB,SAASvG,EAAQ2zE,GACf,OAAO5zE,MAAMC,QAAQ2zE,GAIvB,SAAS/B,EAAUh/C,GACjB,MAAsB,kBAARA,EAIhB,SAASo+C,EAAOp+C,GACd,OAAe,OAARA,EAST,SAAS4/C,EAAS5/C,GAChB,MAAsB,iBAARA,EAIhB,SAAS89C,EAAS99C,GAChB,MAAsB,iBAARA,EAShB,SAASm/C,EAAYn/C,GACnB,YAAe,IAARA,EAIT,SAASogD,EAAS93E,GAChB,OAAO6f,EAAS7f,IAA8B,oBAAvB04E,EAAe14E,GAIxC,SAAS6f,EAAS6X,GAChB,MAAsB,iBAARA,GAA4B,OAARA,EAIpC,SAASsgD,EAAOh0E,GACd,OAAO6b,EAAS7b,IAA4B,kBAAtB00E,EAAe10E,GAIvC,SAAS4zE,EAAQz5E,GACf,OAAO0hB,EAAS1hB,KACW,mBAAtBu6E,EAAev6E,IAA2BA,aAAasC,OAI9D,SAAS02E,EAAWz/C,GAClB,MAAsB,mBAARA,EAgBhB,SAASghD,EAAet4E,GACtB,OAAOZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAIxC,SAASgiD,EAAIrpC,GACX,OAAOA,EAAI,GAAK,IAAMA,EAAE9Y,SAAS,IAAM8Y,EAAE9Y,SAAS,IApbpDyW,EAAQiiE,SAAW,SAASz8C,GAI1B,GAHI26C,EAAYT,KACdA,EAAevH,QAAQ+J,IAAIC,YAAc,IAC3C38C,EAAMA,EAAI3F,eACL8/C,EAAOn6C,GACV,GAAI,IAAI67C,OAAO,MAAQ77C,EAAM,MAAO,KAAKn6B,KAAKq0E,GAAe,CAC3D,IAAI0C,EAAMjK,QAAQiK,IAClBzC,EAAOn6C,GAAO,WACZ,IAAIwH,EAAMhtB,EAAQg9C,OAAOzzC,MAAMvJ,EAAStS,WACxCmpB,QAAQb,MAAM,YAAawP,EAAK48C,EAAKp1C,SAGvC2yC,EAAOn6C,GAAO,aAGlB,OAAOm6C,EAAOn6C,IAoChBxlB,EAAQg/D,QAAUA,EAIlBA,EAAQe,OAAS,CACf,KAAS,CAAC,EAAG,IACb,OAAW,CAAC,EAAG,IACf,UAAc,CAAC,EAAG,IAClB,QAAY,CAAC,EAAG,IAChB,MAAU,CAAC,GAAI,IACf,KAAS,CAAC,GAAI,IACd,MAAU,CAAC,GAAI,IACf,KAAS,CAAC,GAAI,IACd,KAAS,CAAC,GAAI,IACd,MAAU,CAAC,GAAI,IACf,QAAY,CAAC,GAAI,IACjB,IAAQ,CAAC,GAAI,IACb,OAAW,CAAC,GAAI,KAIlBf,EAAQ7lE,OAAS,CACf,QAAW,OACX,OAAU,SACV,QAAW,SACX,UAAa,OACb,KAAQ,OACR,OAAU,QACV,KAAQ,UAER,OAAU,OAkRZ6G,EAAQ5R,QAAUA,EAKlB4R,EAAQggE,UAAYA,EAKpBhgE,EAAQo/D,OAASA,EAKjBp/D,EAAQqiE,kBAHR,SAA2BrhD,GACzB,OAAc,MAAPA,GAOThhB,EAAQ4gE,SAAWA,EAKnB5gE,EAAQ8+D,SAAWA,EAKnB9+D,EAAQsiE,SAHR,SAAkBthD,GAChB,MAAsB,iBAARA,GAOhBhhB,EAAQmgE,YAAcA,EAKtBngE,EAAQohE,SAAWA,EAKnBphE,EAAQmJ,SAAWA,EAKnBnJ,EAAQshE,OAASA,EAMjBthE,EAAQkhE,QAAUA,EAKlBlhE,EAAQygE,WAAaA,EAUrBzgE,EAAQuiE,YARR,SAAqBvhD,GACnB,OAAe,OAARA,GACe,kBAARA,GACQ,iBAARA,GACQ,iBAARA,GACQ,iBAARA,QACQ,IAARA,GAIhBhhB,EAAQwiE,SAAW,EAAQ,KAY3B,IAAIC,EAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACxD,MAAO,MAAO,OAG5B,SAASC,IACP,IAAIp1E,EAAI,IAAIi+D,KACRqN,EAAO,CAACltB,EAAIp+C,EAAEq1E,YACNj3B,EAAIp+C,EAAEs1E,cACNl3B,EAAIp+C,EAAEu1E,eAAe53E,KAAK,KACtC,MAAO,CAACqC,EAAEw1E,UAAWL,EAAOn1E,EAAEy1E,YAAanK,GAAM3tE,KAAK,KAqCxD,SAASwuB,EAAetwB,EAAKyO,GAC3B,OAAO9O,OAAOU,UAAUiwB,eAAevuB,KAAK/B,EAAKyO,GAjCnDoI,EAAQ8kC,IAAM,WACZjuB,QAAQiuB,IAAI,UAAW49B,IAAa1iE,EAAQg9C,OAAOzzC,MAAMvJ,EAAStS,aAiBpEsS,EAAQi8C,SAAW,EAAQ,KAE3Bj8C,EAAQkgE,QAAU,SAAS8C,EAAQp4E,GAEjC,IAAKA,IAAQue,EAASve,GAAM,OAAOo4E,EAInC,IAFA,IAAIj6E,EAAOD,OAAOC,KAAK6B,GACnBhC,EAAIG,EAAKM,OACNT,KACLo6E,EAAOj6E,EAAKH,IAAMgC,EAAI7B,EAAKH,IAE7B,OAAOo6E,GAOT,IAAIC,EAA6C,oBAAXnuE,OAAyBA,OAAO,8BAA2BtM,EA0DjG,SAAS06E,EAAsBC,EAAQzuB,GAKrC,IAAKyuB,EAAQ,CACX,IAAIC,EAAY,IAAIr5E,MAAM,2CAC1Bq5E,EAAUD,OAASA,EACnBA,EAASC,EAEX,OAAO1uB,EAAGyuB,GAlEZnjE,EAAQqjE,UAAY,SAAmBnzC,GACrC,GAAwB,mBAAbA,EACT,MAAM,IAAIt6B,UAAU,oDAEtB,GAAIqtE,GAA4B/yC,EAAS+yC,GAA2B,CAClE,IAAI1xE,EACJ,GAAkB,mBADdA,EAAK2+B,EAAS+yC,IAEhB,MAAM,IAAIrtE,UAAU,iEAKtB,OAHA9M,OAAOuN,eAAe9E,EAAI0xE,EAA0B,CAClDj7E,MAAOuJ,EAAIkF,YAAY,EAAOZ,UAAU,EAAOC,cAAc,IAExDvE,EAGT,SAASA,IAQP,IAPA,IAAI+xE,EAAgBC,EAChBC,EAAU,IAAI9sD,SAAQ,SAAU0uB,EAAS7+B,GAC3C+8D,EAAiBl+B,EACjBm+B,EAAgBh9D,KAGd8C,EAAO,GACFzgB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IACpCygB,EAAKve,KAAK4C,UAAU9E,IAEtBygB,EAAKve,MAAK,SAAUmX,EAAKja,GACnBia,EACFshE,EAActhE,GAEdqhE,EAAet7E,MAInB,IACEkoC,EAAS3mB,MAAMvf,KAAMqf,GACrB,MAAOpH,GACPshE,EAActhE,GAGhB,OAAOuhE,EAQT,OALA16E,OAAOuM,eAAe9D,EAAIzI,OAAOwM,eAAe46B,IAE5C+yC,GAA0Bn6E,OAAOuN,eAAe9E,EAAI0xE,EAA0B,CAChFj7E,MAAOuJ,EAAIkF,YAAY,EAAOZ,UAAU,EAAOC,cAAc,IAExDhN,OAAOi7C,iBACZxyC,EACAuyC,EAA0B5T,KAI9BlwB,EAAQqjE,UAAU3yC,OAASuyC,EAiD3BjjE,EAAQyjE,YAlCR,SAAqBvzC,GACnB,GAAwB,mBAAbA,EACT,MAAM,IAAIt6B,UAAU,oDAMtB,SAAS8tE,IAEP,IADA,IAAIr6D,EAAO,GACFzgB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IACpCygB,EAAKve,KAAK4C,UAAU9E,IAGtB,IAAI+6E,EAAUt6D,EAAK0iB,MACnB,GAAuB,mBAAZ43C,EACT,MAAM,IAAI/tE,UAAU,8CAEtB,IAAIV,EAAOlL,KACP0qD,EAAK,WACP,OAAOivB,EAAQp6D,MAAMrU,EAAMxH,YAI7BwiC,EAAS3mB,MAAMvf,KAAMqf,GAClB4N,MAAK,SAAStS,GAAOwzD,QAAQyL,SAASlvB,EAAI,KAAM/vC,MAC3C,SAASk/D,GAAO1L,QAAQyL,SAASV,EAAuBW,EAAKnvB,MAMvE,OAHA5rD,OAAOuM,eAAequE,EAAe56E,OAAOwM,eAAe46B,IAC3DpnC,OAAOi7C,iBAAiB2/B,EACA5/B,EAA0B5T,IAC3CwzC,I,kBC5rBT3jE,EAAOC,QAAU,SAAkBghB,GACjC,OAAOA,GAAsB,iBAARA,GACI,mBAAbA,EAAI3hB,MACS,mBAAb2hB,EAAI6O,MACc,mBAAlB7O,EAAI8iD,Y,iCCJlB,6CAkPO,SAAS9wE,EAAQ9B,EAAU+B,GAOhC,IAAIC,EACAC,EACAC,EACAC,EA8BJ,OAtCAJ,IAAkBA,EACb,kBAAQ/B,KACXA,EAAW,CAACA,IAQd,kBAAQA,GAAU,SAAS1K,GAGzB,IAAI8M,EAAO9M,EACPA,EAAQoK,YAAcqC,IACxBK,EAAON,EAAQxM,EAAQoK,WAAW,IAGpC,IAAIlC,EAAI4E,EAAK5E,EACTG,EAAIyE,EAAKzE,EACTE,EAASuE,EAAKvE,QAAU,EACxBD,EAAQwE,EAAKxE,OAAS,GAEtBJ,EAAIwE,QAAiB1K,IAAT0K,KACdA,EAAOxE,IAELG,EAAIsE,QAAiB3K,IAAT2K,KACdA,EAAOtE,IAGJH,EAAII,EAASsE,QAAiB5K,IAAT4K,KACxBA,EAAO1E,EAAII,IAERD,EAAIE,EAAUsE,QAAiB7K,IAAT6K,KACzBA,EAAOxE,EAAIE,MAIR,CACLL,EAAGwE,EACHrE,EAAGsE,EACHpE,OAAQsE,EAAOF,EACfrE,MAAOsE,EAAOF,K,iCC9RlB,kCAQe,SAAS+7B,EAAal3B,EAAUm3B,GAC7C,IAAIh6B,EAAOlL,KAEXklC,EAAiBA,GAXW,IAa5Bn3B,EAASK,GAAG,CAAE,eAAgB,qBAAuB82B,GAAgB,SAASC,EAAKx1B,GACjF,IAAIlT,EAAO0oC,EAAI1oC,KACXD,EAAUmT,EAAQnT,QAClB4oC,EAAUz1B,EAAQgB,IAClBhS,EAAQgR,EAAQhR,MAEpB,GAAIuM,EAAKm6B,UAAU7oC,GACjB,MAAa,iBAATC,EACKyO,EAAKo6B,UAAUF,EAAS5oC,EAASmC,GAEjCuM,EAAKq6B,eAAeH,EAAS5oC,EAASmC,MAKnDoP,EAASK,GAAG,CAAE,sBAAuB,4BAA6B82B,GAAgB,SAASC,EAAK3oC,GAC9F,GAAI0O,EAAKm6B,UAAU7oC,GACjB,MAAiB,wBAAb2oC,EAAI1oC,KACCyO,EAAKs6B,aAAahpC,GAElB0O,EAAKu6B,kBAAkBjpC,MActCyoC,EAAazlC,UAAU6lC,UAAY,aAUnCJ,EAAazlC,UAAU8lC,UAAY,aAUnCL,EAAazlC,UAAU+lC,eAAiB,aASxCN,EAAazlC,UAAUgmC,aAAe,aAStCP,EAAazlC,UAAUimC,kBAAoB,c,oBCpF3C,IAAIs0C,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAmDu7E,EAASlsE,GAEtEksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,qBCjBlCttB,EAAOC,QAAU,EAAQ,GAAR,EAA+C,IAKlElV,KAAK,CAACiV,EAAOnX,EAAI,4ziBAA6ziB,M,oBCJt1iB,IAAIm7E,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAyDu7E,EAASlsE,GAE5EksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,oBCjB5C,IAAI0wB,EAAS,EAAQ,KACXh+C,EAAOC,QAAU,EAAQ,GAAR,EAAqD,IAKxElV,KAAK,CAACiV,EAAOnX,EAAI,mDAAqDm1D,EAAO,EAAQ,MAA+B,kBAAoBA,EAAO,EAAQ,MAA+B,oDAAsDA,EAAO,EAAQ,MAA+B,0noCAA2noC,M,oBCN75oCh+C,EAAOC,QAAU,IAA0B,iC,oBCC3C,IAAI+jE,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAmDu7E,EAASlsE,GAEtEksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,qBCjBlCttB,EAAOC,QAAU,EAAQ,GAAR,EAA+C,IAKlElV,KAAK,CAACiV,EAAOnX,EAAI,8xOAA+xO,M,oBCJxzO,IAAIm7E,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAmDu7E,EAASlsE,GAEtEksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,qBCjBlCttB,EAAOC,QAAU,EAAQ,GAAR,EAA+C,IAKlElV,KAAK,CAACiV,EAAOnX,EAAI,+/jBAAggkB,M,oBCJzhkB,IAAIm7E,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAmDu7E,EAASlsE,GAEtEksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,qBCjBlCttB,EAAOC,QAAU,EAAQ,GAAR,EAA+C,IAKlElV,KAAK,CAACiV,EAAOnX,EAAI,yuEAA0uE,M,oBCJnwE,IAAIm7E,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAmDu7E,EAASlsE,GAEtEksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,qBCjBlCttB,EAAOC,QAAU,EAAQ,GAAR,EAA+C,IAKlElV,KAAK,CAACiV,EAAOnX,EAAI,mhNAAohN,M,oBCJ7iN,IAAIm7E,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAmDu7E,EAASlsE,GAEtEksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,qBCjBlCttB,EAAOC,QAAU,EAAQ,GAAR,EAA+C,IAKlElV,KAAK,CAACiV,EAAOnX,EAAI,ojLAAqjL,M,oBCJ9kL,IAAIm7E,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAChkE,EAAOnX,EAAIm7E,EAAS,MAOhE,IAAIlsE,EAAU,CAAC,KAAM,EAErB,eAPI7J,EAQJ,gBAAqBxF,GAER,EAAQ,GAAR,CAAmDu7E,EAASlsE,GAEtEksE,EAAQ12C,SAAQttB,EAAOC,QAAU+jE,EAAQ12C,S,qBCjBlCttB,EAAOC,QAAU,EAAQ,GAAR,EAA+C,IAKlElV,KAAK,CAACiV,EAAOnX,EAAI,m0wCAAo0wC,M,yECL71wC,SAASiM,EAAQ1L,GAAkC,OAAO0L,EAAU,mBAAqBC,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,SAAS8M,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS+G,EAAkBrV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAASonE,IAAoX,OAAtTA,EAA9B,oBAAZzzD,SAA2BA,QAAQ3X,IAAc2X,QAAQ3X,IAAqB,SAActR,EAAQkyB,EAAUyqD,GAAY,IAAI7X,EAAO8X,EAAe58E,EAAQkyB,GAAW,GAAK4yC,EAAL,CAAmB,IAAI0V,EAAOh5E,OAAO86C,yBAAyBwoB,EAAM5yC,GAAW,OAAIsoD,EAAKlpE,IAAckpE,EAAKlpE,IAAI1N,KAAKwC,UAAUrE,OAAS,EAAI/B,EAAS28E,GAAoBnC,EAAK95E,SAAwBuhB,MAAMvf,KAAM0D,WAErZ,SAASw2E,EAAen3E,EAAQysB,GAAY,MAAQ1wB,OAAOU,UAAUiwB,eAAevuB,KAAK6B,EAAQysB,IAA8D,QAAjDzsB,EAASqI,EAAgBrI,MAAuC,OAAOA,EAIrL,SAASgJ,EAAgBrM,EAAGsM,GAA+G,OAA1GD,EAAkBjN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAASoa,EAAaC,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9PopB,GAA6B,OAAO,WAAkC,IAAsChf,EAAlCif,EAAQ1b,EAAgBib,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY3b,EAAgBpL,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAOuH,EAA2BjL,KAAM6H,IAE5Z,SAASoD,EAA2BC,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB2J,EAAQ3J,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkGC,CAAuBD,GAMxR,SAASE,EAAgB1L,GAAwJ,OAAnJ0L,EAAkBtM,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,EAA8B,SAAUy6E,IAlB5C,SAAmBzuE,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAYI,EAAgBL,EAAUC,GAmBpbF,CAAU2uE,EAAgBD,GAE1B,IA3BoBhuE,EAAa4G,EAAYC,EA2BzCoU,EAAShB,EAAag0D,GAE1B,SAASA,IAGP,OAFAnuE,EAAgBjM,KAAMo6E,GAEfhzD,EAAO7H,MAAMvf,KAAM0D,WAmE5B,OAnGoByI,EAmCPiuE,GAnCoBrnE,EAmCJ,CAAC,CAC5BF,IAAK,QACL7U,MAAO,SAAe6P,GACpB,IAAIrB,EAAQxM,KAEZg6E,EAAK5uE,EAAgBgvE,EAAe56E,WAAY,QAASQ,MAAMkB,KAAKlB,KAAM6N,GAG1E7N,KAAKoO,GAAG,yBAAyB,SAAUoB,GACpCA,EAAMwc,OACTxf,EAAM6tE,YAAY7qE,EAAM6V,YAAa7V,EAAMi+C,iBAG/CztD,KAAKoO,GAAG,WAAW,WACjB5B,EAAMmrD,QAAQntD,IAAIjK,WAEpBP,KAAKoO,GAAG,kBAAkB,SAAUkH,GACrBA,EAAKulD,OACXzsD,GAAG,oBAAoB,SAAUoH,GACvBA,EAAMtO,SACOozE,MAAK,SAAU78E,GACzC,OAAO,YAAMA,EAAG,CAAC,eAAgB,wBAIjC+O,EAAMysD,uBAab,CACDpmD,IAAK,cACL7U,MAAO,SAAqBqnB,EAAaooC,GACvC,IAEI9kD,EADA6B,EADS6a,EAAY9a,OACRC,IAKjB,IAAK7B,KAFL6B,EAAIjK,QAEOktD,EACTjjD,EAAIu2D,MAAMp4D,EAAI8kD,EAAa9kD,MAG9B,CACDkK,IAAK,gBACL7U,MAAO,SAAuB6P,GAC5B,IAAIqtD,EAAS8e,EAAK5uE,EAAgBgvE,EAAe56E,WAAY,gBAAiBQ,MAAMkB,KAAKlB,KAAM6N,GAM/F,OADAqtD,EAAO1wD,IAAM,IAAI,IAAI,CAAC,GAAI,GAAI,IACvB0wD,OA/FiEvoD,EAAkBxG,EAAY3M,UAAWuT,GAAiBC,GAAaL,EAAkBxG,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAmGrPuuE,EA3EyB,CA4EhCn7B,EAAA,G,kCCpGF,SAAS5gC,EAAKnf,GACZ,OAAOA,GAAOA,EAAIA,EAAIG,OAAS,GAGjC,SAASk7E,EAAgB/9E,GACvB,OAAOA,EAAQqI,EAGjB,SAAS21E,EAAiBh+E,GACxB,OAAOA,EAAQkI,EAUjB,IAAI+1E,EAAoB,CACtBn1E,KAAMk1E,EACNnjE,OAAQmjE,EACRp1E,MAAO,SAAS5I,GACd,OAAOA,EAAQkI,EAAIlI,EAAQsI,OAE7BK,IAAKo1E,EACLG,OAAQH,EACRl1E,OAAQ,SAAS7I,GACf,OAAOA,EAAQqI,EAAIrI,EAAQuI,SAKhB,SAAS41E,EAAcvnE,GACpCpT,KAAK07D,UAAYtoD,EAGnBunE,EAAcpsE,QAAU,CAAE,YAU1BosE,EAAcn7E,UAAUo7E,uBAAyB,SAASn+E,GACxD,IACIo+E,EAAO,IACPC,EAAY,QAOhB,OALgC,IAJjB,CAAE,MAAO,SAAU,UAIrB17E,QAAQ3C,KACnBo+E,EAAO,IACPC,EAAY,UAGP,CACLD,KAAMA,EACNC,UAAWA,IAIfH,EAAcn7E,UAAUu7E,QAAU,SAASt+E,EAAMU,GAC/C,OAAgC,IAAzBA,EAAMiC,QAAQ3C,IAWvBk+E,EAAcn7E,UAAUw7E,mBAAqB,SAASv+E,EAAMw+E,GAC1D,IAMIC,EACAC,EACAC,EARAC,EAAcr7E,KAAK46E,uBAAuBn+E,GAC1Co+E,EAAOQ,EAAYR,KACnBC,EAAYO,EAAYP,UACxBQ,EAAY,GACZC,EAAU,GACVC,GAAmB,EASvB,GAAIx7E,KAAK+6E,QAAQt+E,EAAM,CAAE,OAAQ,QAC/B6+E,EAAU7+E,GAAQw+E,EAAe,GAAGJ,QAE/B,GAAI76E,KAAK+6E,QAAQt+E,EAAM,CAAE,QAAS,WACvC2+E,EAAc/8D,EAAK48D,GAEnBK,EAAU7+E,GAAQ2+E,EAAYP,GAAQO,EAAYN,QAE7C,GAAI96E,KAAK+6E,QAAQt+E,EAAM,CAAE,SAAU,WAAa,CAyBrD,GArBA,kBAAQw+E,GAAgB,SAASz+E,GAC/B,IAAI6a,EAAS7a,EAAQq+E,GAAQl2E,KAAKC,MAAMpI,EAAQs+E,GAAa,GAEzDS,EAAQlkE,GACVkkE,EAAQlkE,GAAQnQ,SAASpG,KAAKtE,GAE9B++E,EAAQlkE,GAAU,CAChBnQ,SAAU,CAAE1K,GACZ6a,OAAQA,MAKd6jE,EAAmB,iBAAOK,GAAS,SAASlkE,GAK1C,OAJIA,EAAOnQ,SAAS7H,OAAS,IAC3Bm8E,GAAmB,GAGdnkE,EAAOnQ,SAAS7H,UAGrBm8E,EAGF,OAFAF,EAAU7+E,GAAQ4hB,EAAK68D,GAAkB7jE,OAElCikE,EAGTH,EAAeF,EAAe,GAM9BG,EAAc/8D,EAJd48D,EAAiB,iBAAOA,GAAgB,SAASz+E,GAC/C,OAAOA,EAAQq+E,GAAQr+E,EAAQs+E,OAKjCQ,EAAU7+E,GAnDZ,SAAwBg/E,EAAOp9D,GAC7B,OAAO1Z,KAAKC,OAAO62E,EAAMZ,GAAQx8D,EAAKw8D,GAAQx8D,EAAKy8D,IAAc,GAkD/CY,CAAeP,EAAcC,GAGjD,OAAOE,GASTX,EAAcn7E,UAAUg+B,QAAU,SAASt2B,EAAUzK,GACnD,IAAI2W,EAAWpT,KAAK07D,UAEhBlyD,EAAmB,iBAAOtC,GAAU,SAAS1K,GAC/C,QAASA,EAAQoK,WAAapK,EAAQm/E,MAAQn/E,EAAQo/E,gBAGxD,KAAIpyE,EAAiBnK,OAAS,GAA9B,CAIA,IAAIw8E,EAASpB,EAAkBh+E,GAE3Bw+E,EAAiB,iBAAOzxE,EAAkBqyE,GAE1CP,EAAYt7E,KAAKg7E,mBAAmBv+E,EAAMw+E,GAE9C7nE,EAAS0oE,cAAcb,EAAgBK,KC1K1B,OACb/qE,SAAU,CAAE,iBACZurE,cAAe,CAAE,OAAQnB,I,SCyBpB,SAASoB,EAAiBlzE,EAAQrM,EAASotB,EAAUoyD,GAG1D,IAFA,IAAIC,EAEIA,EAAsBC,EAAuBrzE,EAAQ+gB,EAAUptB,IACrEotB,EAAWoyD,EAAgBx/E,EAASotB,EAAUqyD,GAGhD,OAAOryD,EAuDF,SAASsyD,EAAuBrzE,EAAQ+gB,EAAUptB,GAEvD,IAAIiI,EAAS,CACXC,EAAGklB,EAASllB,EAAKlI,EAAQsI,MAAQ,EACjCD,EAAG+kB,EAAS/kB,EAAKrI,EAAQuI,OAAS,EAClCD,MAAOtI,EAAQsI,MACfC,OAAQvI,EAAQuI,QAGdqD,EAiKN,SAA6BS,GAE3B,IAAIszE,EAAeC,EAAavzE,GAE5BA,EAAO8yE,OACTQ,EAAeA,EAAajjE,OAAOkjE,EAAavzE,EAAO8yE,QAGrD9yE,EAAOwzE,YACTF,EAAeA,EAAajjE,OAAOrQ,EAAOwzE,UAAUn4C,QAAO,SAASo4C,EAAQC,GAC1E,OAAOD,EAAOpjE,OAAOkjE,EAAaG,MACjC,MAGL,OAAOJ,EA/KOK,CAAoB3zE,GAElC,OAAO,eAAKT,GAAS,SAAS9K,GAE5B,OAAIA,IAAWd,GAMQ,cAFL,YAAec,EAAQmH,EAhGf,OA0Q9B,SAAS23E,EAAa5/E,GACpB,OASkB0T,EATA1T,EAUX0T,EAAMnH,SAAS+R,KAAI,SAASghB,GACjC,OAAOA,EAAWx+B,WAXO4b,OAG7B,SAAoBhJ,GAClB,OAAOA,EAAMpH,SAASgS,KAAI,SAASghB,GACjC,OAAOA,EAAWjzB,UALc4zE,CAAWjgF,IAS/C,IAAoB0T,EAMpB,SAASwsE,IACP,OAAO,ECtRM,SAASC,EAAU5uE,EAAUqF,EAAUpF,GAEpDD,EAASK,GAAG,YAZK,KAYsB,SAASuB,GAC9C,IAAIO,EAAQP,EAAQO,MAGpB,OA2DJ,SAA6BrH,EAAQrM,EAASsT,GACvCA,IACHA,EAAQ,IAGV,IAAIvJ,EAAWuJ,EAAM8sE,iBDzEO,GC2ExBC,EAAY,YAAOh0E,GAIvB,MAAO,CACLnE,EAJe,YAAOmE,GAIRzD,MAAQmB,EAAW/J,EAAQsI,MAAQ,EACjDD,EAAGg4E,EAAUh4E,GAxENi4E,CAFMntE,EAAQ9G,OAEcqH,MAGrCnC,EAASK,GAAG,iBAAiB,SAASoB,GACpCxB,EAAOm9B,gBAAgB37B,EAAMU,UAW/BlQ,KAAKpC,OAAS,SAASiL,EAAQqH,EAAOJ,GAEpC/B,EAASW,KAAK,kBAAmB,CAC/B7F,OAAQA,EACRqH,MAAOA,IAIT,IAAI0Z,EAAW7b,EAASW,KAAK,YAAa,CACxC7F,OAAQA,EACRqH,MAAOA,IAGL6sE,EAAW3pE,EAAS4pE,YAAYn0E,EAAQqH,EAAO0Z,EAAU/gB,EAAOzI,OAAQ0P,GAO5E,OALA/B,EAASW,KAAK,gBAAiB,CAC7B7F,OAAQA,EACRqH,MAAO6sE,IAGFA,GCpDI,SAASE,EAA2BlvE,EAAUmB,GAE3DnB,EAASK,GAAG,gBAAiB,KAAK,SAAS3Q,GACzCyR,EAAUZ,OAAO7Q,EAAEyS,UDsDvBysE,EAAUpuE,QAAU,CAClB,WACA,WACA,UCpDF0uE,EAA2B1uE,QAAU,CACnC,WACA,aCba,OACbgC,SAAU,CAAE,8BACZ2sE,UAAW,CAAE,OAAQP,GACrBQ,2BAA4B,CAAE,OAAQF,I,SCF7BG,EAAgC,CACzCt4E,MAAO,IACPC,OAAQ,IAECs4E,EAAgB,CACzBv4E,MAAO,IACPC,OAAQ,IAECu4E,EAAkB,CAC3Bx4E,MAAO,IACPC,OAAQ,IAECw4E,EAAwB,CACjCz4E,MAAO,IACPC,OAAQ,IAMK,SAAS,EAAey4E,GACrC,IAAmBt8E,KAAKlB,MACxBA,KAAKy9E,YAAcD,EAErB,IAAS,EAAgB,KACzB,EAAejvE,QAAU,CAAC,cAC1B,EAAe/O,UAAU0f,WAAa,IAAmB1f,UAAUmD,OAEnE,EAAenD,UAAUmD,OAAS,SAAUysD,EAAazwD,GACvD,OAAOqB,KAAK09E,iBAAiBtuB,EAAazwD,IAG5C,EAAea,UAAUk+E,iBAAmB,SAAUtuB,EAAazwD,GACjE,IACIi1C,EADA4pC,EAAax9E,KAAKy9E,YAGlB1gF,GADJ4B,EAAQA,GAAS,IACU5B,eAE3B,IAAKA,EAAgB,CACnB,IAAK4B,EAAMlC,KACT,MAAM,IAAIsD,MAAM,2BAGlBhD,EAAiBygF,EAAW76E,OAAOhE,EAAMlC,MAgB3C,OAbKM,EAAe03B,KACE,eAAhB26B,EACFryD,EAAe03B,GAAK+oD,EAAWG,aAAa5gF,EAAgB,IACnC,UAAhBqyD,IACTryD,EAAe03B,GAAK+oD,EAAWI,cAAc7gF,EAAgB,MAIjE62C,EAAO5zC,KAAK69E,gBAAgB9gF,GAC5B4B,EAAQ,iBAAO,CACb5B,eAAgBA,EAChB4L,GAAI5L,EAAe4L,IAClBirC,EAAMj1C,GACFqB,KAAKkf,WAAWkwC,EAAazwD,IAGtC,EAAea,UAAUq+E,gBAAkB,SAAUzrC,GACnD,OAAI,YAAGA,EAAU,8BACRgrC,EAGL,YAAGhrC,EAAU,gBACRirC,EAGL,YAAGjrC,EAAU,iBACRkrC,EAGL,YAAGlrC,EAAU,uBACRmrC,EAGF,CACLz4E,MAAO,IACPC,OAAQ,KCjFZ,IAGI+4E,EAAuBT,EAAcv4E,MAClC,SAAS,EAAoB+D,EAAQrM,GAC1C,OAAI,YAAGA,EAAS,sBAYlB,SAAmCqM,EAAQrM,GACzC,IAAIuhF,EAAa,YAAOl1E,GACpB+gB,EAAW,CACbllB,EAAGq5E,EAAW34E,MAAQ5I,EAAQsI,MAAQ,EACtCD,EAAGk5E,EAAW54E,IAAM,GAAK3I,EAAQuI,OAAS,GAQ5C,OAAOg3E,EAAiBlzE,EAAQrM,EAASotB,ELepC,SAAiCo0D,GACtC,OAAO,SAASxhF,EAASyhF,EAAkBhC,GACzC,IAAIiC,EAAe,CACjBx5E,EAAGu5E,EAAiBv5E,EACpBG,EAAGo5E,EAAiBp5E,GA6BtB,MA1BA,CAAE,IAAK,KAAMmiB,SAAQ,SAAS6zD,GAE5B,IAAIsD,EAA+BH,EAAuBnD,GAE1D,GAAKsD,EAAL,CAIA,IAAIrD,EAAqB,MAATD,EAAe,QAAU,SAErCuD,EAASD,EAA6BC,OACtCC,EAAcF,EAA6BE,YAG7CH,EAAcrD,GADZuD,EAAS,EACYz5E,KAAKumB,IAC1B+wD,EAAqBpB,GAASuD,EAAS5hF,EAASs+E,GAAc,EAC9DmD,EAAkBpD,GAASwD,EAAcD,GAGpBz5E,KAAKwmB,IAC1B8wD,EAAqBpB,GAASoB,EAAqBnB,GAAcsD,EAAS5hF,EAASs+E,GAAc,EACjGmD,EAAkBpD,GAASwD,EAAcD,OAKxCF,GKhD0CI,CANvB,CAC1Bz5E,EAAG,CACDu5E,QAAS,GACTC,YAAa,OApBRE,CAA0B11E,EAAQrM,GAGvC,YAAGA,EAAS,kBAgClB,SAA+BqM,EAAQrM,GACrC,IAAIuhF,EAAa,YAAOl1E,GACpBg0E,EAAY,YAAOh0E,GAMvB,IAAI21E,EL4EC,SAA8B31E,EAAQiH,GACtCA,IACHA,EAAQ,IAQV,IAAI8sE,EAAkB9sE,EAAM8sE,iBA7HA,GA8HxB77D,EAAYjR,EAAMiR,WAAa,IAC/BrZ,EAASoI,EAAMpI,OACf+2E,EAAY3uE,EAAM2uE,WAPtB,SAA0B3iD,GACxB,OAAOA,EAAWjzB,SAAWA,EAAS,GAAK,GAOzC61E,EAAc5uE,EAAM4uE,aA/HC,IAgIrB94E,EAAYkK,EAAMlK,WAAa,QAMnC,SAAS4/D,EAAYriE,EAAGC,GACtB,MAAkB,MAAd2d,EACgB,UAAdnb,EACK,YAAOzC,GAAGgC,IAAM,YAAO/B,GAAGiC,OACV,WAAdO,EACF,YAAOzC,GAAGgC,IAAM,YAAO/B,GAAGyB,EAE1B,YAAO1B,GAAGgC,IAAM,YAAO/B,GAAG+B,IAEZ,MAAd4b,EACS,UAAdnb,EACK,YAAOzC,GAAGmC,KAAO,YAAOlC,GAAGgC,MACX,WAAdQ,EACF,YAAOzC,GAAGmC,KAAO,YAAOlC,GAAGsB,EAE3B,YAAOvB,GAAGmC,KAAO,YAAOlC,GAAGkC,KAEb,MAAdyb,EACS,UAAdnb,EACK,YAAOxC,GAAG+B,IAAM,YAAOhC,GAAGkC,OACV,WAAdO,EACF,YAAOxC,GAAGyB,EAAI,YAAO1B,GAAGkC,OAExB,YAAOjC,GAAGiC,OAAS,YAAOlC,GAAGkC,OAGpB,UAAdO,EACK,YAAOxC,GAAGkC,KAAO,YAAOnC,GAAGiC,MACX,WAAdQ,EACF,YAAOxC,GAAGsB,EAAI,YAAOvB,GAAGiC,MAExB,YAAOhC,GAAGgC,MAAQ,YAAOjC,GAAGiC,MAnCpCsC,IACHA,EAASg1E,GAuCX,IAAIiC,EAAmB91E,EAAOC,SAC3BpB,OAAOA,GACPoT,KAAI,SAASghB,GACZ,IAAI8iD,EAASH,EAAU3iD,GAEnBv1B,EAAWq4E,EAAS,EACpBpZ,EAAY1pC,EAAWjzB,OAAQA,GAC/B28D,EAAY38D,EAAQizB,EAAWjzB,QAEnC,MAAO,CACLF,GAAImzB,EAAWjzB,OAAOF,GACtBpC,SAAUA,EACVq4E,OAAQA,MAIVC,EAAmBh2E,EAAOE,SAC3BrB,OAAOA,GACPoT,KAAI,SAASghB,GACZ,IAAI8iD,EAASH,EAAU3iD,GAEnBv1B,EAAWq4E,EAAS,EACpBpZ,EAAY38D,EAAQizB,EAAWx+B,QAC/BkoE,EAAY1pC,EAAWx+B,OAAQuL,GAEnC,MAAO,CACLF,GAAImzB,EAAWx+B,OAAOqL,GACtBpC,SAAUA,EACVq4E,OAAQA,MAIVE,EAAYH,EAAiBzlE,OAAO2lE,GAAkB36C,QAAO,SAAS+tC,EAAa8M,GAGrF,OAFA9M,EAAa8M,EAAap2E,GAAK,YAAco2E,EAAaH,QAAWG,EAE9D9M,IACN,IAuBH,OArBuB,iBAAO6M,GAAW,SAAS7M,EAAa8M,GAC7D,IAAIx4E,EAAWw4E,EAAax4E,SACxBq4E,EAASG,EAAaH,OAE1B,OAAIr4E,EAAW,GAAKA,EAAWm4E,IAI1BzM,EAAa7zE,OAAOmI,MACvB0rE,EAAa7zE,OAAOmI,IAAc,GAGpC0rE,EAAa7zE,OAAOmI,KAAe,EAAIq4E,IAElC3M,EAAY1rE,UAAY0rE,EAAaA,EAAY1rE,UAAa0rE,EAAa7zE,OAAOmI,OACrF0rE,EAAY1rE,SAAWA,IAVhB0rE,IAcR,IAEqB1rE,UAAYq2E,EKhMboC,CAAqBn2E,EAAQ,CAClD+zE,gBAAiB,IACjB77D,UAAW,IACX09D,UAPF,SAAmB3iD,GACjB,OAAOA,EAAWx+B,SAAWuL,EAAS,GAAK,GAO3CnB,OAAQ,EACR9B,UAAW,WAETgkB,EAAW,CACbllB,EAAGm4E,EAAUn4E,EACbG,EAAGk5E,EAAW14E,OAASm5E,GAEzB,OAAOzC,EAAiBlzE,EAAQrM,EAASotB,EAY3C,SAA2C/gB,GACzC,IACIo2E,EAAyBC,EADzBrC,EAAY,YAAOh0E,GAEvB,OAAO,SAAUrM,EAASyhF,EAAkBkB,GAC1C,IAAIp+D,EA0BJ,OAxBKk+D,GAUChB,EAAiBv5E,EAAIm4E,EAAUn4E,EACjCu6E,EAA0BE,EAE1BD,EAA2BC,EAI3Bp+D,EADEq+D,EAAsBvC,EAAW,YAAOoC,IAA4BG,EAAsBvC,EAAW,YAAOqC,IA9FjG,OACC,UA8EhBD,EAA0BE,EAC1BD,EAA2BC,EAGzBp+D,EADE,YAAOo+D,GAA6Bz6E,EAAIm4E,EAAUn4E,EAAI,EAlF3C,OACC,SADD,SAsGbqc,EACK,CACLrc,EAAGC,KAAKumB,IAAI,YAAO+zD,GAAyBv6E,EAAIo5E,EAtG/B,GAsG0E,YAAOmB,GAAyB35E,KAtG1G,GAsGsI9I,EAAQsI,MAAQ,GACvKD,EAAGo5E,EAAiBp5E,GAGf,CACLH,EAAGC,KAAKwmB,IAAI,YAAO+zD,GAA0Bx6E,EAAIo5E,EA3GhC,GA2G2E,YAAOoB,GAA0B95E,MA3G5G,GA2GyI5I,EAAQsI,MAAQ,GAC1KD,EAAGo5E,EAAiBp5E,IAlDyBw6E,CAAkCx2E,IAlD5Ey2E,CAAsBz2E,EAAQrM,QADvC,EAuDF,SAAS,EAAOs/B,GACd,OAAQ,YAAGA,EAAY,mBAGzB,SAASsjD,EAAsBj8E,EAAGC,GAChC,OAAOuB,KAAKmS,IAAI1T,EAAEsB,EAAIvB,EAAEuB,GClEX,SAAS,EAAUqJ,GAChCA,EAASK,GAAG,aAAa,SAAUuB,GACjC,IAAIO,EAAQP,EAAQO,MAEpB,OAAO,EADMP,EAAQ9G,OACcqH,MAGvC,EAAU3B,QAAU,CAAC,YCZN,OACbiC,YAAa,CAAC,GACdD,SAAU,CAAC,gBACXgvE,aAAc,CAAC,OAAQ,I,iBCqBV,SAASC,EAAS9vE,EAAiB3B,EAAU8Z,GAE1D,IAqEM25B,EACAxxC,EAtEF9E,EAAOlL,KAEPo+C,EAAWv2B,EAASjZ,IAAI,YAAY,GAiCpCwvC,GAWFrwC,EAASK,GAAG,cAAc,SAASoB,GAEjCzB,EAAS4f,KAAK,YApEA,MAoE4B,SAASne,IAvCvD,SAAqBA,GAEnB,IAAIA,EAAMQ,MAAV,CAIA,IAAIsB,EAAgB9B,EAAM8B,cAEtBX,EAAMzF,EAAKu0E,eAAenuE,GAE1B9U,EAAUmU,GAAOjB,EAAgBd,IAAI+B,GAErCA,GAAOnU,IAGTgT,EAAM4B,kBAGNgtC,EAASpuC,MAAM,CAAExT,QAASA,EAASmU,IAAKA,IAGxCytC,EAASoC,KAAKlvC,KAoBZouE,CAAYlwE,SAsBhBzB,EAASK,GAAG,iBAAiB,SAASoB,GAGpCgyC,EAAWhyC,EAAMmB,IACjBX,EAAQR,EAAMhT,WAGhBuR,EAASK,GAAG,gBAnGI,MAmG4B,SAASoB,GAG/CQ,GAGFjC,EAASW,KAAK,cAAe,CAC3BlS,QAASwT,EACTW,IAAK6wC,OAMXzzC,EAASK,GAAG,eAAe,WAGzBozC,EAAW,KACXxxC,EAAQ,QAKZhQ,KAAKy/E,eAAiB,SAASjwE,GAC7B,IAAIoa,EAGJ,GAAMpa,aAAiB6xC,WASvB,OALAz3B,EAAW,YAAQpa,GAmBvB,SAAgBlS,GACd,OAAO,kBAAWA,EAAQ,qBAAqB,GAftCsjD,CAFEn+C,SAAS6+C,iBAAiB13B,EAASllB,EAAGklB,EAAS/kB,KAO5D26E,EAASjxE,QAAU,CACjB,kBACA,WACA,YCrJa,OACbgC,SAAU,CACR,YAEFovE,SAAU,CAAE,OAAQH,I,qCCNlB56E,GAAQD,KAAKC,MA8BjB,SAASwd,GAAe5S,GACtBA,EAAM4S,iBA4FO,SAASw9D,GAAS7xE,EAAUC,EAAQkB,EAAWQ,GAE5D,IASIC,EATAkwE,EAAiB,CACnBngC,UAAW,EACXogC,WAAW,GAUb,SAASC,EAAaC,GAEpB,IAAI31D,EAAUrc,EAAOqc,UAEjB41D,EAAajyE,EAAOyd,WAAW8xB,wBAEnC,MAAO,CACL74C,EAAG2lB,EAAQ3lB,GAAKs7E,EAAet7E,EAAIu7E,EAAW36E,MAAQ+kB,EAAQpZ,MAC9DpM,EAAGwlB,EAAQxlB,GAAKm7E,EAAen7E,EAAIo7E,EAAW96E,KAAOklB,EAAQpZ,OAMjE,SAASvC,EAAKjS,EAAMyjF,GAClBA,EAAcA,GAAevwE,EAE7B,IAAIH,EAAQzB,EAASwd,YACnB,iBACE,GACA20D,EAAYC,QACZD,EAAY54D,KACZ,CAAEmhD,QAASyX,EAAYzX,WAK3B,OAA6C,IAAzC16D,EAASW,KAAK,QAAUjS,EAAM+S,IAI3BzB,EAASW,KAAKwxE,EAAY93D,OAAS,IAAM3rB,EAAM+S,GAaxD,SAASgxC,EAAKhxC,EAAO4wE,GACnB,IA7Ien7E,EA6IXk7E,EAAUxwE,EAAQwwE,QAClBE,EAAe1wE,EAAQ0wE,aAEvBC,EAAc3wE,EAAQ2wE,YACtBC,EAAgB,YAAQ/wE,GACxBgxE,EAAc,aAASD,EAAeD,GAEtCG,EAAa9wE,EAAQ8wE,WACrBC,EAAeX,EAAaQ,GAC5BI,EAAa,aAASD,EAAcD,GAIxC,IAAK9wE,EAAQixE,SAAWR,IA1JTn7E,EA0J+Bu7E,EAzJzC77E,KAAK2R,KAAK3R,KAAK4R,IAAItR,EAAMP,EAAG,GAAKC,KAAK4R,IAAItR,EAAMJ,EAAG,IAyJK8K,EAAQ+vC,YAAY,CAY/E,GAPA,iBAAOygC,EAAS,CACdz7E,EAAGE,GAAM67E,EAAW/7E,EAAI27E,EAAa37E,GACrCG,EAAGD,GAAM67E,EAAW57E,EAAIw7E,EAAax7E,GACrCmmC,GAAI,EACJC,GAAI,GACH,CAAE35B,cAAe9B,KAEhB,IAAUd,EAAK,SACjB,OAAOmyE,IAGTlxE,EAAQixE,QAAS,EAKZjxE,EAAQmxE,gBACXX,EAAQlwE,kBAAoBf,EAAUN,MACtCM,EAAUZ,OAAO,OAIfqB,EAAQoxE,QACV,YAAUpxE,EAAQoxE,QAIpB/yE,EAAOoB,UAAUpB,EAAOoC,iBAxMR,mBA2MlB,YAAgBZ,GAEZG,EAAQixE,SAGV,iBAAOT,EAAS,CACdz7E,EAAGE,GAAM87E,EAAah8E,EAAI27E,EAAa37E,GACvCG,EAAGD,GAAM87E,EAAa77E,EAAIw7E,EAAax7E,GACvCmmC,GAAIpmC,GAAM+7E,EAAWj8E,GACrBumC,GAAIrmC,GAAM+7E,EAAW97E,IACpB,CAAEyM,cAAe9B,IAGpBd,EAAK,SAIT,SAASoL,EAAItK,GACX,IACIye,GAAc,EAEdte,EAAQixE,SAENpxE,IACFG,EAAQwwE,QAAQ7uE,cAAgB9B,EAIhC,YAAgBA,IAMlBye,EAAcvf,EAAK,SAGD,IAAhBuf,GACFvf,EAAK,YAOPA,EAAK,QAJasyE,GAAwB,IAAhB/yD,IAW5B,SAASgzD,EAAYzxE,GAEC,KAAhBA,EAAM43D,QACRhlD,GAAe5S,GAEfqxE,KAQJ,SAASK,EAAgB1xE,GAEvB,IAAI2xE,EAKAxxE,EAAQixE,SAEVO,EAAS,YAAiBpzE,GAG1BkiB,WAAWkxD,EAAQ,KAGnB/+D,GAAe5S,IAGjBsK,EAAItK,GAGN,SAAS4xE,EAAU5xE,GACjBgxC,EAAKhxC,GAOP,SAASQ,EAAMR,GACb,IAAI2wE,EAAUxwE,EAAQwwE,QAEtBA,EAAQ3+B,SAAWhyC,EAAMmB,IACzBwvE,EAAQnwE,MAAQR,EAAMhT,QAEtBkS,EAAK,SAGP,SAAS6yC,EAAI/xC,GACXd,EAAK,OAEL,IAAIyxE,EAAUxwE,EAAQwwE,QAEtBA,EAAQ3+B,SAAW,KACnB2+B,EAAQnwE,MAAQ,KAMlB,SAAS6wE,EAAOQ,GACd,IAAIC,EAEJ,GAAK3xE,EAAL,CAIA,IAAI4xE,EAAY5xE,EAAQixE,OAEpBW,GACF7yE,EAAK,UAGP4yE,EAAkBN,EAAQK,GAEtBE,GAIF7yE,EAAK,WAAY4yE,IAIrB,SAASN,EAAQK,GACf,IAAIC,EACAE,EAEJ9yE,EAAK,WAGL,cAGE8yE,EADE7xE,EAAQmwE,UACAoB,EAEApnE,EAIZ,QAASyJ,OAAO9gB,SAAU,YAAa+9C,GAEvC,QAASj9B,OAAO9gB,SAAU,YAAa2f,IACvC,QAASmB,OAAO9gB,SAAU,cAAe2f,IAEzC,QAASmB,OAAO9gB,SAAU,YAAa++E,GAAS,GAChD,QAASj+D,OAAO9gB,SAAU,UAAW++E,GAAS,GAE9C,QAASj+D,OAAO9gB,SAAU,QAASw+E,GAEnC,QAAS19D,OAAO9gB,SAAU,aAAc2+E,GAAW,GACnD,QAAS79D,OAAO9gB,SAAU,cAAeo+E,GAAQ,GACjD,QAASt9D,OAAO9gB,SAAU,YAAa+9C,GAAM,GAC7C,QAASj9B,OAAO9gB,SAAU,WAAYqX,GAAK,GAE3C/L,EAAS+f,IAAI,gBAAiB9d,GAC9BjC,EAAS+f,IAAI,cAAeyzB,GAG5BvzC,EAAOsB,aAAatB,EAAOoC,iBAxXT,mBA2XlB,IAAIH,EAAoBN,EAAQwwE,QAAQlwE,kBAUxC,OARgB,IAAZoxE,GAAqBpxE,IAAsBf,EAAUN,MAAMvP,QA7OjE,SAA0B4Q,GACxB,IAAIwxE,EAAoBxxE,EAAkBvI,QAAO,SAASlL,GACxD,OAAOkT,EAAgBd,IAAIpS,EAAQmM,OAGrC84E,EAAkBpiF,QAAU6P,EAAUZ,OAAOmzE,GAyO3CC,CAAiBzxE,GAGnBqxE,EAAkB3xE,EAElBA,EAAU,KAEH2xE,EAiHTvzE,EAASK,GAAG,kBAAmByyE,GAK/B7gF,KAAKmmB,KAxGL,SAAc3W,EAAOmyE,EAAYv5D,EAAQva,GAGnC8B,GACFkxE,GAAO,GAGiB,iBAAfc,IACT9zE,EAAUua,EACVA,EAASu5D,EACTA,EAAa,MAKf,IACIrwE,EACAgvE,EACAG,EACAe,EACA/Y,EALAnhD,GAFJzZ,EAAU,iBAAO,GAAIgyE,EAAgBhyE,GAAW,KAE7ByZ,MAAQ,GAQzBk6D,EADE3zE,EAAQiyE,UACAoB,EAEApnE,EAGRtK,GACF8B,EAAgB,YAAY9B,IAAUA,EACtC8wE,EAAc,YAAQ9wE,GAEtB,YAAgBA,GAGW,cAAvB8B,EAAc7U,MAChB2lB,GAAe9Q,KAGjBA,EAAgB,KAChBgvE,EAAc,CAAE57E,EAAG,EAAGG,EAAG,IAG3B47E,EAAaV,EAAaO,GAErBqB,IACHA,EAAalB,GAGfhY,EA7bJ,SAAsBj5D,GAIpB,MAA6B,oBAAfoyE,YAA8BpyE,aAAiBoyE,WAybjDC,CAAavwE,GAEvB3B,EAAU,iBAAO,CACfyY,OAAQA,EACRd,KAAMA,EACN64D,QAAS,GACTG,YAAaA,EACbD,aAAc,aAASsB,EAAYlB,GACnCA,WAAYA,EACZhY,QAASA,GACR56D,GAIEA,EAAQi0E,SAIPrZ,GACF,QAASplD,KAAK5gB,SAAU,aAAc2+E,GAAW,GACjD,QAAS/9D,KAAK5gB,SAAU,cAAeo+E,GAAQ,GAC/C,QAASx9D,KAAK5gB,SAAU,YAAa+9C,GAAM,GAC3C,QAASn9B,KAAK5gB,SAAU,WAAYqX,GAAK,KAIzC,QAASuJ,KAAK5gB,SAAU,YAAa+9C,GAGrC,QAASn9B,KAAK5gB,SAAU,YAAa2f,IACrC,QAASiB,KAAK5gB,SAAU,cAAe2f,IAEvC,QAASiB,KAAK5gB,SAAU,YAAa++E,GAAS,GAC9C,QAASn+D,KAAK5gB,SAAU,UAAW++E,GAAS,IAG9C,QAASn+D,KAAK5gB,SAAU,QAASw+E,GAEjClzE,EAASK,GAAG,gBAAiB4B,GAC7BjC,EAASK,GAAG,cAAemzC,IAG7B7yC,EAAK,QAEDb,EAAQk0E,cACVvhC,EAAKhxC,GAAO,IAWhBxP,KAAKwgD,KAAOA,EACZxgD,KAAKgQ,MAAQA,EACbhQ,KAAKuhD,IAAMA,EACXvhD,KAAK8Z,IAAMA,EAEX9Z,KAAK6gF,OAASA,EAId7gF,KAAK2P,QAAU,WACb,OAAOA,GAGT3P,KAAKgiF,WAAa,SAASn0E,GACzB,iBAAOgyE,EAAgBhyE,IAI3B+xE,GAASrxE,QAAU,CACjB,WACA,SACA,YACA,mBCviBa,QACbiC,YAAa,CACX,EACA,KAEF4tC,SAAU,CAAE,OAAQwhC,KCUP,SAASqC,GAAW9hE,EAAQpS,EAAUC,GAEnDhO,KAAKkO,QAAUF,EAEfhO,KAAKkiF,MAAQ,iBAAO,CAClBC,kBAAmB,CAAE,GAAI,GAAI,GAAI,IACjCC,mBAAoB,CAAE,EAAG,EAAG,EAAG,GAC/BC,oBAAqB,GACrBC,WAAY,IACXniE,GAEH,IAAIjV,EAAOlL,KAEX+N,EAASK,GAAG,aAAa,SAAS3Q,GAChC,IAAIwH,EAAQiG,EAAKq3E,eAAe9kF,GAEhCyN,EAAKs3E,YAAYv9E,MAGnB8I,EAASK,GAAG,CAAE,iBAAkB,WAC9BlD,EAAKu3E,gBA4DT,SAASC,GAAQ9rE,EAAKmD,EAAOD,GAC3B,OAAIC,EAAQnD,GAAOA,EAAMkD,EAzD3BmoE,GAAW1zE,QAAU,CACnB,oBACA,WACA,UAUF0zE,GAAWziF,UAAUgjF,YAAc,SAASv9E,GAE1C,IAAI+I,EAAShO,KAAKkO,QACd2xD,EAAO7/D,KAAKkiF,MACZh3E,EAAOlL,KAEPigF,EAAajyE,EAAOgb,eAAeu0B,wBAEnColC,EAAO,CACT19E,EAAMP,EACNO,EAAMJ,EACNo7E,EAAWn7E,MAAQG,EAAMP,EACzBu7E,EAAWl7E,OAASE,EAAMJ,GAG5B7E,KAAKyiF,aAKL,IAHA,IAAIz3C,EAAK,EACLC,EAAK,EAEArsC,EAAI,EAAGA,EAAI,EAAGA,IACjB8jF,GAAQC,EAAK/jF,GAAIihE,EAAKuiB,mBAAmBxjF,GAAIihE,EAAKsiB,kBAAkBvjF,MAC5D,IAANA,EACFosC,EAAK60B,EAAKyiB,WACI,GAAL1jF,EACTqsC,EAAK40B,EAAKyiB,WACI,GAAL1jF,EACTosC,GAAM60B,EAAKyiB,WACG,GAAL1jF,IACTqsC,GAAM40B,EAAKyiB,aAKN,IAAPt3C,GAAmB,IAAPC,IACdj9B,EAAO88B,OAAO,CAAEE,GAAIA,EAAIC,GAAIA,IAE5BjrC,KAAK4iF,WAAa3yD,YAAW,WAC3B/kB,EAAKs3E,YAAYv9E,KAChB46D,EAAKwiB,uBAgBZJ,GAAWziF,UAAUijF,WAAa,WAChCzT,aAAahvE,KAAK4iF,aASpBX,GAAWziF,UAAUwiF,WAAa,SAASn0E,GACzC7N,KAAKkiF,MAAQ,iBAAO,GAAIliF,KAAKkiF,MAAOr0E,IAUtCo0E,GAAWziF,UAAU+iF,eAAiB,SAAS/yE,GAC7C,IAAIywE,EAAajgF,KAAKkO,QAAQud,WAAW8xB,wBAErCyiC,EAAiB,YAAQxwE,EAAM8B,eAEnC,MAAO,CACL5M,EAAGs7E,EAAet7E,EAAIu7E,EAAW36E,KACjCT,EAAGm7E,EAAen7E,EAAIo7E,EAAW96E,MCxItB,QACbqL,YAAa,CACX,IAEFD,SAAU,CAAE,cACZsyE,WAAY,CAAE,OAAQZ,KCIT,SAAS,GAAMp6D,GAC5B7nB,KAAK8nB,cAAgBD,EAASjZ,IAAI,gBAAgB,GAGpD,GAAML,QAAU,CAAE,YAgBlB,GAAM/O,UAAUuoB,QAAU,SAASd,EAAQtX,GACzC,IAAIoY,GAAU,EAEVC,EAAehoB,KAAK8nB,cAOxB,OALIE,IACFD,EAAUC,EAAapY,WAAWqX,EAAQtX,SAIzBnR,IAAZupB,GAA+BA,GC1CzB,QACbxX,SAAU,CAAE,SACZ0X,MAAO,CAAE,OAAQ,K,mDCEf,GAAQtjB,KAAKC,MACb,GAAMD,KAAKwmB,IAuGR,SAAS23D,GAAsBl8E,EAAWhB,GAC/C,OA3EF,SAAkCgB,EAAWhB,GAE3C,IAAIhH,EAAGmsD,EAEP,IAAKnsD,EAAI,EAAImsD,EAAInkD,EAAUhI,GAAKA,IAE9B,GAAI,aAAcmsD,EAAGnlD,IARI,GASvB,MAAO,CACLX,MAAO2B,EAAUhI,GACjBmkF,WAAW,EACX9jF,MAAOL,GAKb,OAAO,KA4DAokF,CAAyBp8E,EAAWhB,IAzD7C,SAA6BgB,EAAWhB,GAEtC,IAhCIq9E,EAdc5rE,EAAQX,EAkDtB1P,EAJAV,EAAgB,MA9CMoQ,EAwBC,GApBpB,CACL,CAAC,KALeW,EA8C4BzR,GA7C/BlB,EACP2S,EAAOxS,GAIb,CAAC,IAAK,GAAI6R,GACV,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAG,EAAG,EAAIA,GAC5B,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAG,GAAI,EAAIA,GAC7B,CAAC,QAKCusE,EAAW,GAgC4Er8E,EA9BpFogB,SAAQ,SAAShb,EAAGhF,GACzBi8E,EAASniF,KAAK,CAAU,IAARkG,EAAY,IAAM,IAAKgF,EAAEtH,EAAGsH,EAAEnH,OAGzCo+E,IA4BH9/E,EAAImD,EAAc,GAClBlD,EAAIkD,EAAcA,EAAcjH,OAAS,GAG7C,OAAK8D,EAMDA,IAAMC,EAEJD,EAAEuD,WAAatD,EAAEsD,SAOZ,CACLzB,MAAO2B,EAHTI,EAAM,GAAI7D,EAAEuD,SAAUtD,EAAEsD,UAAY,GAIlCq8E,WAAW,EACX9jF,MAAO+H,GAIJ,CACL/B,MAAO,CACLP,EAAI,GAAMvB,EAAEuB,EAAItB,EAAEsB,GAAK,EACvBG,EAAI,GAAM1B,EAAE0B,EAAIzB,EAAEyB,GAAK,GAEzB5F,MAAOkE,EAAEuD,UAIN,CACLzB,MAAO,CACLP,EAAG,GAAMvB,EAAEuB,GACXG,EAAG,GAAM1B,EAAE0B,IAEb5F,MAAOkE,EAAEuD,UAjCF,KA8CgDw8E,CAAoBt8E,EAAWhB,GC5DnF,SAASu9E,GAA0Bn1E,EAAQpH,EAAW4I,GAI3D,OAFmBszE,GAAsBl8E,EAzBpC,SAA6BoH,EAAQwB,GAE1C,IAEIixB,EAFA7W,EAAW,YAAQpa,GACnBywE,EAAajyE,EAAOyd,WAAW8xB,wBAKnC9c,EAAS,CACP/7B,EAAGu7E,EAAW36E,KACdT,EAAGo7E,EAAW96E,KAKhB,IAAIklB,EAAUrc,EAAOqc,UAErB,MAAO,CACL3lB,EAAG2lB,EAAQ3lB,GAAKklB,EAASllB,EAAI+7B,EAAO/7B,GAAK2lB,EAAQpZ,MACjDpM,EAAGwlB,EAAQxlB,GAAK+kB,EAAS/kB,EAAI47B,EAAO57B,GAAKwlB,EAAQpZ,OAK/BmyE,CAAoBp1E,EAAQwB,IAM3C,SAAS6zE,GAAaC,EAAWj0E,GACtC,IAAIk0E,EAAW,aAAU,KACzB,aAAWA,GAAU3iF,IAnCI,iBAqCzB,aAAU0iF,EAAWC,GAErB,IAAI11C,EAAS,aAAU,UACvB,aAAQA,EAAQ,CACdzW,GAAI,EACJC,GAAI,EACJ3gB,EAAG,IAEL,aAAWm3B,GAAQjtC,IAAI,cAEvB,aAAU2iF,EAAU11C,GAEpB,IAAI3pB,EAAM,aAAU,UAcpB,OAbA,aAAQA,EAAK,CACXkT,GAAI,EACJC,GAAI,EACJ3gB,EAAG,KAEL,aAAWwN,GAAKtjB,IAAI,WAEpB,aAAU2iF,EAAUr/D,GAEhB7U,GACF,aAAWk0E,GAAU3iF,IAAIyO,GAGpBk0E,EAGT,SAASC,GAAsBF,EAAWG,EAAcC,EAAYpI,GAClE,IAAIqI,EAAa,aAAU,KAE3B,aAAUL,EAAWK,GAErB,IAGIC,EA6DN,SAA2BH,EAAcC,EAAYpI,GACnD,IAAIuI,EAAqBH,EAAWh/E,EAAI++E,EAAa/+E,EACjDo/E,EAAqBJ,EAAW7+E,EAAI4+E,EAAa5+E,EAErD,OACEk/E,GADmB,MAAdzI,EACsBuI,EACAC,GAnEdE,CAAkBP,EAAcC,EAAYpI,GAGvDztC,EAAS,aAAU,QACvB,aAAQA,EAAQ,CACdnpC,GAAG,EACHG,GAAG,IACHC,MAVU,GAWVC,OAVW,IAYb,aAAW8oC,GAAQjtC,IAAI,cAEvB,aAAU+iF,EAAY91C,GAEtB,IAAI3pB,EAAM,aAAU,QAapB,OAZA,aAAQA,EAAK,CACXxf,GAAIk/E,EAAW,EACf/+E,GAAG,EACHC,MAAO8+E,EACP7+E,OAlBcA,KAoBhB,aAAWmf,GAAKtjB,IAAI,WAEpB,aAAU+iF,EAAYz/D,GAEtB,aAAOy/D,EAA0B,MAAdrI,EAAoB,GAAK,EAAG,EAAG,GAE3CqI,EAIF,SAASM,GAAkBX,EAAWG,EAAcC,GAEzD,IAAIH,EAAW,aAAU,KACrBriC,EAAM,aAAYuiC,EAAcC,GAChCpI,EAAY,aAAcmI,EAAcC,GAW5C,OATA,aAAUJ,EAAWC,GAErBC,GAAsBD,EAAUE,EAAcC,EAAYpI,GAE1D,aAAWiI,GAAU3iF,IAlHU,uBAmH/B,aAAW2iF,GAAU3iF,IAAkB,MAAd06E,EAAoB,aAAe,YAE5D,aAAUiI,EAAUriC,EAAIx8C,EAAGw8C,EAAIr8C,GAExB0+E,EASF,SAASQ,GAA2BG,GACzC,OAAOv/E,KAAKmS,IAAInS,KAAKC,MAAsB,EAAhBs/E,EAAoB,I,uCC7GlC,SAASC,GACpBp2E,EAAUC,EAAQ4W,EAClBw/D,EAAeC,GA4DjB,SAASC,EAAsB90E,EAAOssB,GACpC,IAAIl1B,EAAYk1B,EAAWl1B,UACvB29E,EAAepB,GAA0Bn1E,EAAQpH,EAAW4I,GAGhE,GAAK+0E,EAaL,OAxEF,SAA8BA,EAAc39E,EAAW49E,GACrD,IAEIC,EAAI3yD,EAAIovB,EAAKwjC,EAASC,EAAQC,EAF9B59E,EAAMu9E,EAAatlF,MACnB+M,EAAIu4E,EAAat/E,MAGrB,QAAI+B,GAAO,GAAKu9E,EAAaxB,aAI7B0B,EAAK79E,EAAUI,EAAM,GACrB8qB,EAAKlrB,EAAUI,GACfk6C,EAAM,aAAYujC,EAAI3yD,GACtB4yD,EAAU,aAAcD,EAAI3yD,GAC5B6yD,EAAShgF,KAAKmS,IAAI9K,EAAEtH,EAAIw8C,EAAIx8C,GAC5BkgF,EAASjgF,KAAKmS,IAAI9K,EAAEnH,EAAIq8C,EAAIr8C,GAErB6/E,GAAWC,GAAUH,GAAYI,GAAUJ,GAiD9CK,CAAqBN,EAAc39E,EA3CzC,SAAwCk1B,EAAYyoD,GAClD,IACIO,EAAiBxJ,EADjB10E,EAAYk1B,EAAWl1B,UAG3B,OAAI29E,EAAatlF,OAAS,GAAKslF,EAAaxB,UACnC,MAIT+B,EAAkB,CAChB/qE,MAAOnT,EAAU29E,EAAatlF,MAAQ,GACtC6a,IAAKlT,EAAU29E,EAAatlF,SAG9Bq8E,EAAY,aAAcwJ,EAAgB/qE,MAAO+qE,EAAgBhrE,MAarDiqE,GAPM,MAAdzI,EACcwJ,EAAgBhrE,IAAIpV,EAAIogF,EAAgB/qE,MAAMrV,EAE9CogF,EAAgBhrE,IAAIjV,EAAIigF,EAAgB/qE,MAAMlV,GAIR,EAV/C,MAwBGkgF,CAA+BjpD,EAAYyoD,IAKrDH,EAAcrqE,MAAMvK,EAAOssB,EAAYyoD,EAAatlF,OAAQslF,EAAaxB,WAFzEsB,EAAsBtqE,MAAMvK,EAAOssB,EAAYyoD,EAAatlF,QAMvD,EAGT,SAAS+lF,EAAsBnnF,EAAM6mB,EAAWloB,GAE9C,QAAS6mB,KAAKxlB,EAAM6mB,GAAW,SAASlV,GACtCoV,EAAkBH,kBAAkBC,EAAWlV,EAAOhT,GACtDgT,EAAM4B,qBAIV,SAAS6zE,EAAuBzoF,EAASmG,GAEvC,IAAI8lC,EAAQz6B,EAAOw6B,SAAS,YACxB73B,EAAM,gBAAS,oCAAsC,KAAUnU,EAAQmM,IAAM,KAAM8/B,GAcvF,OAZK93B,GAAOhO,IACVgO,EAAM,aAAU,KAChB,aAAQA,EAAK,CAAE,kBAAmBnU,EAAQmM,KAC1C,aAAWgI,GAAK/P,IAAI,kBAEpB,aAAU6nC,EAAO93B,GAEjBq0E,EAAsBr0E,EAAK,YAAanU,GACxCwoF,EAAsBr0E,EAAK,QAASnU,GACpCwoF,EAAsBr0E,EAAK,WAAYnU,IAGlCmU,EAGT,SAASu0E,EAAkBl+E,EAAKs8E,GAC9B,OAAO,gBACL,0CAA4Ct8E,EAAM,KAClDs8E,GAIJ,SAAS6B,EAAiBx0E,EAAKmrB,GAC7BA,EAAWl1B,UAAUogB,SAAQ,SAAShb,EAAGhF,GACvC,IAAI+7E,EAAYM,GAAa1yE,GAE7B,aAAUA,EAAKoyE,GAEf,aAAUA,EAAW/2E,EAAEtH,EAAGsH,EAAEnH,MAI9Bw+E,GAAa1yE,EAAK,YAGpB,SAASy0E,EAAsBz0E,EAAKmrB,GAQlC,IANA,IAEI2nD,EACAC,EACA2B,EAJAz+E,EAAYk1B,EAAWl1B,UAMlBhI,EAAI,EAAGA,EAAIgI,EAAUvH,OAAQT,IAEpC6kF,EAAe78E,EAAUhI,EAAI,GAC7B8kF,EAAa98E,EAAUhI,GAEnB,aAAc6kF,EAAcC,KAC9B2B,EAAoBpB,GAAkBtzE,EAAK8yE,EAAcC,GAEzD,aAAQ2B,EAAmB,CAAE,mBAAoBzmF,IAEjDomF,EAAsBK,EAAmB,YAAavpD,IAiB5D,SAASwpD,EAAWxpD,GAElB,IAAInrB,EAAMs0E,EAAuBnpD,GASjC,OAPKnrB,IAGHw0E,EAFAx0E,EAAMs0E,EAAuBnpD,GAAY,GAEnBA,GACtBspD,EAAsBz0E,EAAKmrB,IAGtBnrB,EAGT,SAAS40E,EAAczpD,GAErB,IAAInrB,EAAMs0E,EAAuBnpD,GAE7BnrB,KAxBN,SAA8BA,GAC5B,kBAAQ,mBAAY,uBAA2BA,IAAM,SAAS9S,GAC5D,aAAUA,MAuBV2nF,CAAqB70E,GA/BzB,SAAyBA,GACvB,kBAAQ,mBAAY,iBAAqBA,IAAM,SAAS9S,GACtD,aAAUA,MA8BV4nF,CAAgB90E,GAChBy0E,EAAsBz0E,EAAKmrB,GAC3BqpD,EAAiBx0E,EAAKmrB,IAgB1B,SAAS4pD,EAA6BpC,EAAWiB,EAAc39E,GAE7D,IAMI++E,EAAeC,EANfjC,EAAauB,EAAkBX,EAAatlF,MAAOqkF,GACnDG,EAAe78E,EAAU29E,EAAatlF,MAAQ,GAC9CykF,EAAa98E,EAAU29E,EAAatlF,OACpCgG,EAAQs/E,EAAat/E,MACrBi8C,EAAM,aAAYuiC,EAAcC,GAChCpI,EAAY,aAAcmI,EAAcC,GAGvCC,IAILgC,EAkJJ,SAA0BhC,GACxB,OAAO,gBAAS,cAAeA,GAnJbkC,CAAiBlC,GAEjCiC,EAAmB,CACjBlhF,EAAGO,EAAMP,EAAIw8C,EAAIx8C,EACjBG,EAAGI,EAAMJ,EAAIq8C,EAAIr8C,GAGD,MAAdy2E,IAGFsK,EAAmB,CACjBlhF,EAAGkhF,EAAiB/gF,EACpBA,EAAG+gF,EAAiBlhF,IAIxB,aAAUihF,EAAeC,EAAiBlhF,EAAGkhF,EAAiB/gF,IAGhEkJ,EAASK,GAAG,sBAAsB,SAASoB,GACzC+1E,EAAc/1E,EAAMhT,YAGtBuR,EAASK,GAAG,qBAAqB,SAASoB,GACxC,IAAImB,EAAMs0E,EAAuBz1E,EAAMhT,SAEnCmU,GACF,aAAUA,MAId5C,EAASK,GAAG,yBAAyB,SAASoB,GAE5C,IACIs2E,EADAtpF,EAAUgT,EAAMhT,QAGfA,EAAQoK,YAIbk/E,EAAgBR,EAAW9oF,GAEvBgT,EAAM5O,IACR,aAAWklF,GAAellF,IAAI4O,EAAM6b,QAEpC,aAAWy6D,GAAe3lF,OAAOqP,EAAM6b,YAI3Ctd,EAASK,GAAG,qBAAqB,SAASoB,GAExC,IAEIs2E,EACAvB,EAHA/nF,EAAUgT,EAAMhT,QAChBoK,EAAYpK,EAAQoK,UAIxB,GAAIA,EAAW,CAKb,GAJAk/E,EAAgBb,EAAuBzoF,GAAS,KAEhD+nF,EAAepB,GAA0Bn1E,EAAQpH,EAAW4I,EAAM8B,gBAGhE,QAxFN,SAAyCgyE,EAAWiB,GAClD,IAAIwB,EAAW,gBAAS,YAAazC,GACjCr+E,EAAQs/E,EAAat/E,MAEpB8gF,GAIL,aAAUA,EAAU9gF,EAAMP,EAAGO,EAAMJ,GAmFjCmhF,CAAgCF,EAAevB,GAE1CA,EAAaxB,WAChB2C,EAA6BI,EAAevB,EAAc39E,OAMhEmH,EAASK,GAAG,qBAAqB,SAASoB,GAExC,GAAK,aAAgBA,GAArB,CAIA,IAAI8B,EAAgB9B,EAAM8B,cACtB9U,EAAUgT,EAAMhT,QAEpB,GAAKA,EAAQoK,UAIb,OAAO09E,EAAsBhzE,EAAe9U,OAG9CuR,EAASK,GAAG,qBAAqB,SAASoB,GACxC,IACIy2E,EADez2E,EAAMb,aACE,GAEvBs3E,GAAWA,EAAQr/E,WACrB0+E,EAAWW,MAIfl4E,EAASK,GAAG,iBAAiB,SAASoB,GACpC,IAAIhT,EAAUgT,EAAMhT,QAEhBA,EAAQoK,YACV0+E,EAAW9oF,GACXooB,EAAkB5B,cAAcxT,EAAMmB,IAAK,YAAa,yBAI5D5C,EAASK,GAAG,eAAe,SAASoB,GAClCoV,EAAkBtB,gBAAgB9T,EAAMmB,IAAK,YAAa,wBAI5D5C,EAASK,GAAG,oBAAoB,SAASuB,GACvC,IAAInT,EAAUmT,EAAQnT,QAClB4wC,EAAQz9B,EAAQy9B,MAEpB,GAAI5wC,EAAQoK,UAAW,CACrB,IAAIs/E,EAAqBjB,EAAuBzoF,GAE5C0pF,GACF,aAAQA,EAAoB,CAAE,kBAAmB94C,QAOvDptC,KAAKslF,WAAaA,EAClBtlF,KAAKulF,cAAgBA,EACrBvlF,KAAKilF,uBAAyBA,EAC9BjlF,KAAKklF,kBAAoBA,EAG3Bf,GAAW51E,QAAU,CACnB,WACA,SACA,oBACA,gBACA,yBCjZF,IAAI,GAAQ5J,KAAKC,MAUF,SAASuhF,GAAct+D,EAAU9Z,EAAUC,EAAQowC,EAAUn2B,EAAO7U,GACjFpT,KAAKu4C,UAAY1wB,EAEjB7nB,KAAK+Z,MAAQ,SAASvK,EAAOssB,EAAYsqD,EAAgBC,GACvD,IAII5pF,EAJAkU,EAAM3C,EAAOkU,YAAY4Z,GACzBjzB,EAASizB,EAAWjzB,OACpBvL,EAASw+B,EAAWx+B,OACpBsJ,EAAYk1B,EAAWl1B,UAYvB0T,EAzBe,qBAsBjB7d,EANG4pF,GAA6B,IAAnBD,EAGVC,GAAUD,IAAmBx/E,EAAUvH,OAAS,EAnBlC,kBADH,eADE,kBA2BwB,6BAA+B,uBAErE0oB,EAAUE,EAAMF,QAAQzN,EAAS,CACnCwhB,WAAYA,EACZjzB,OAAQA,EACRvL,OAAQA,KAGM,IAAZyqB,IACFA,EAAUE,EAAMF,QAAQzN,EAAS,CAC/BwhB,WAAYA,EACZjzB,OAAQvL,EACRA,OAAQuL,MAII,IAAZkf,GAIJq2B,EAASj4B,KAAK3W,EAAO,iBAAkB,CACrC8X,KAAM,CACJwU,WAAYA,EACZwqD,cAAe31E,EACfhB,QAAS,CACPoY,QAASA,EACTq+D,eAAgBA,EAChBtqD,WAAYA,EACZjzB,OAAQA,EACRvL,OAAQA,EACR+oF,OAAQA,EACR5pF,KAAMA,OAMdsR,EAASK,GAAG,wBAAwB,SAASoB,GAC3C,IAUIuY,EAVApY,EAAUH,EAAMG,QAChBmsB,EAAansB,EAAQmsB,WACrBjzB,EAASizB,EAAWjzB,OACpBvL,EAASw+B,EAAWx+B,OACpB0S,EAAQR,EAAMQ,MACdvT,EAAOkT,EAAQlT,KAOnB,GAJAkT,EAAQK,MAAQA,EAIXA,EAAL,CAIA,IAAIsK,EA/Ee,oBA+EL7d,EAA4B,6BAA+B,uBAQzE,GANAsrB,EAAUpY,EAAQoY,QAAUE,EAAMF,QAAQzN,EAAS,CACjDwhB,WAAYA,EACZjzB,OArFgB,mBAqFRpM,EAA2BuT,EAAQnH,EAC3CvL,OArFc,iBAqFNb,EAAyBuT,EAAQ1S,IAOzC,OAHAqS,EAAQ9G,OA1FQ,mBA0FCpM,EAA2BuT,EAAQnH,OACpD8G,EAAQrS,OA1FM,iBA0FGb,EAAyBuT,EAAQ1S,IAKpC,IAAZyqB,IACFA,EAAUpY,EAAQoY,QAAUE,EAAMF,QAAQzN,EAAS,CACjDwhB,WAAYA,EACZjzB,OAlGY,iBAkGJpM,EAAyBuT,EAAQ1S,EACzCA,OApGc,mBAoGNb,EAA2BuT,EAAQnH,KAI3Ckf,IACFpY,EAAQ9G,OAxGM,iBAwGGpM,EAAyBuT,EAAQ1S,EAClDqS,EAAQrS,OA1GQ,mBA0GCb,EAA2BuT,EAAQnH,OAIxDkF,EAASK,GAAG,CAAE,qBAAsB,2BAA4B,SAASoB,GACvE,IAAIG,EAAUH,EAAMG,QAChBlT,EAAOkT,EAAQlT,KAEnBkT,EAAQK,MAAQ,KAChBL,EAAQ9G,OAAS,KACjB8G,EAAQrS,OAAS,KAlHE,oBAoHfb,IACFkT,EAAQoY,SAAU,MAItBha,EAASK,GAAG,sBAAsB,SAASoB,GACzC,IAAIG,EAAUH,EAAMG,QAChBoY,EAAUpY,EAAQoY,QAClBq+D,EAAiBz2E,EAAQy2E,eACzBtqD,EAAansB,EAAQmsB,WACrBuqD,EAAS12E,EAAQ02E,OACjBE,EAAezqD,EAAWl1B,UAAUC,QACpCgC,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OACjBb,EAAOkT,EAAQlT,KACfqT,EAAQH,EAAQG,OAAS,GAGzB02E,EAAU,CACZ9hF,EAAG,GAAM8K,EAAM9K,GACfG,EAAG,GAAM2K,EAAM3K,IAGjB,IAAKkjB,EACH,OAAO,EA5IU,oBA+IftrB,GACE4pF,EAGFE,EAAanlF,OAAOglF,EAAgB,EAAGI,GAIvCD,EAAaH,GAAkBI,EAKjC12E,EAAMs0E,cAAgB,CACpBiC,OAAQA,EACRD,eAAgBA,GAGlBG,EAAevmF,KAAKymF,cAAc3qD,EAAYyqD,GAE9CnzE,EAASszE,gBAAgB5qD,EAAY,YAAyByqD,GAAez2E,KArK7D,mBAuKZrT,GACFqT,EAAM02E,QAAU,SAEZG,GAAUh3E,KACZG,EAAM02E,QAAU,SAEhB12E,EAAMy2E,aAAeA,EAAa1mD,YA5KxB,iBA8KHpjC,IACTqT,EAAM02E,QAAU,SAEZG,GAAUh3E,KACZG,EAAM02E,QAAU,SAEhB12E,EAAMy2E,aAAeA,EAAa1mD,YAItCzsB,EAASwzE,UAAU9qD,EAAYjzB,EAAQvL,EAAQkpF,EAAS12E,MAEzD9P,MAmCE,SAAS2mF,GAAUh3E,GACxB,IAAIK,EAAQL,EAAQK,MAChBnH,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OACjBb,EAAOkT,EAAQlT,KAEnB,MApOoB,mBAoOhBA,EACKuT,GAAS1S,GAAU0S,IAAU1S,GAAUuL,IAAWvL,EApOzC,iBAuOdb,EACKuT,GAASnH,GAAUmH,IAAUnH,GAAUA,IAAWvL,OAD3D,EA1CF6oF,GAAc53E,QAAU,CACtB,WACA,WACA,SACA,WACA,QACA,YAGF43E,GAAc3mF,UAAUinF,cAAgB,SAAS3qD,EAAYyqD,GAC3D,IAAIM,EAAoB7mF,KAAKu4C,UAAU3pC,IAAI,qBAAqB,GAEhE,IAAKi4E,EACH,OAAON,EAGT,IAAI3/E,EAAYk1B,EAAWl1B,UAU3B,OARAk1B,EAAWl1B,UAAY2/E,EAEvBzqD,EAAWl1B,UAAYigF,EAAkBC,oBAAoBhrD,GAE7DyqD,EAAezqD,EAAWl1B,UAE1Bk1B,EAAWl1B,UAAYA,EAEhB2/E,GClMM,SAASQ,GAAqB3C,EAAev8D,EAAU9Z,EAAUC,GAC9EhO,KAAKu4C,UAAY1wB,EAEjB,IAAIm/D,EAAoBn/D,EAASjZ,IAAI,qBAAqB,GAE1Db,EAASK,GAAG,wBAAwB,SAASoB,GAC3C,IAAIG,EAAUH,EAAMG,QAChBy2E,EAAiBz2E,EAAQy2E,eACzBtqD,EAAansB,EAAQmsB,WACrBuqD,EAAS12E,EAAQ02E,OACjBz/E,EAAYk1B,EAAWl1B,UACvB2/E,EAAe3/E,EAAUC,QAE7B8I,EAAQ/I,UAAYA,EAEhBy/E,GAGFE,EAAanlF,OAAOglF,EAAgB,EAAG,CAAE1hF,EAAG8K,EAAM9K,EAAGG,EAAG2K,EAAM3K,IAGhEi3B,EAAWl1B,UAAY2/E,EAGvB,IAAI5C,EAAah0E,EAAQg0E,WAAaN,GAAar1E,EAAOw6B,SAAS,aAEnE,aAAWm7C,GAAY/iF,IAAI,gBAE3BoN,EAAOoB,UAAU0sB,EAnCO,sBAoCxB9tB,EAAOoB,UAAU0sB,EArCS,mBAwC5B/tB,EAASK,GAAG,wBAAwB,SAASoB,GAC3C,IAAIG,EAAUH,EAAMG,QAChBoY,EAAUpY,EAAQoY,QAClB/X,EAAQL,EAAQK,MAChBvT,EAAOkT,EAAQlT,KAEnB,GAAIuT,EAAO,CAGT,GAFAhC,EAAOoB,UAAUY,EAhDI,iBAJJ,oBAsDbvT,EACF,OAGEsrB,GACF/Z,EAAOsB,aAAaU,EAxDR,kBAyDZhC,EAAOoB,UAAUY,EA1DT,gBA2Da,IAAZ+X,IACT/Z,EAAOsB,aAAaU,EA5DZ,cA6DRhC,EAAOoB,UAAUY,EA5DL,uBAiElBjC,EAASK,GAAG,CACV,qBACA,0BA9DgB,MA+DA,SAASoB,GACzB,IAAIG,EAAUH,EAAMG,QAChBK,EAAQL,EAAQK,MAChB1S,EAASqS,EAAQrS,OAEjB0S,IACFhC,EAAOsB,aAAaU,EAzEC,iBA0ErBhC,EAAOsB,aAAaU,EAAO1S,EA5EjB,aACI,sBA+ElByQ,EAASK,GAAG,uBAAuB,SAASoB,GAC1C,IAAIG,EAAUH,EAAMG,QAChBoY,EAAUpY,EAAQoY,QAClBq+D,EAAiBz2E,EAAQy2E,eACzBzC,EAAah0E,EAAQg0E,WACrB3zE,EAAQL,EAAQK,MAChBvT,EAAOkT,EAAQlT,KACfq/B,EAAansB,EAAQmsB,WACrBjzB,EAASizB,EAAWjzB,OACpBvL,EAASw+B,EAAWx+B,OACpBipF,EAAezqD,EAAWl1B,UAAUC,QACpCk8E,EAAY,CAAEr+E,EAAG8K,EAAM9K,EAAGG,EAAG2K,EAAM3K,GACnCiL,EAAQH,EAAQG,OAAS,GACzBm3E,EAAmB,GAEnBD,IACEl3E,EAAMo3E,kBACRD,EAAiBC,gBAAkBp3E,EAAMo3E,iBAGvCp3E,EAAMq3E,gBACRF,EAAiBE,cAAgBr3E,EAAMq3E,eAzGzB,mBA6GZ1qF,EACEkqF,GAAUh3E,IACZs3E,EAAiBE,cAAgBF,EAAiBE,eAAiBpE,EAEnEkE,EAAiBp+E,OAASvL,EAC1B2pF,EAAiB3pF,OAAS0S,GAASnH,EAEnC09E,EAAeA,EAAa1mD,YAE5BonD,EAAiBC,gBAAkBD,EAAiBC,iBAAmBnE,EAEvEkE,EAAiBp+E,OAASmH,GAASnH,EACnCo+E,EAAiB3pF,OAASA,GAxHhB,iBA0HHb,EACLkqF,GAAUh3E,IACZs3E,EAAiBC,gBAAkBD,EAAiBC,iBAAmBnE,EAEvEkE,EAAiBp+E,OAASmH,GAAS1S,EACnC2pF,EAAiB3pF,OAASuL,EAE1B09E,EAAeA,EAAa1mD,YAE5BonD,EAAiBE,cAAgBF,EAAiBE,eAAiBpE,EAEnEkE,EAAiBp+E,OAASA,EAC1Bo+E,EAAiB3pF,OAAS0S,GAAS1S,IAIrC2pF,EAAiBG,YAAa,EAC9BH,EAAiBI,UAAW,EAC5Bd,EAAcH,GAAmBrD,GA3IlB,oBA8IbtmF,IACF8pF,EAAenC,EAAcqC,cAAc3qD,EAAYyqD,IAGzDU,EAAiBrgF,UAAY2/E,EAE7BS,EAAkBM,YAAY33E,EAASoY,EAASk/D,IAGlD,aAAUtD,EAAYn0E,EAAM9K,EAAG8K,EAAM3K,KACpC7E,MAEH+N,EAASK,GAAG,CACV,qBACA,yBApJgB,MAqJA,SAASoB,GACzB,IAAIG,EAAUH,EAAMG,QAChBmsB,EAAansB,EAAQmsB,WACrB6nD,EAAah0E,EAAQg0E,WACrB3zE,EAAQL,EAAQK,MAChB1S,EAASqS,EAAQrS,OACjBsJ,EAAY+I,EAAQ/I,UAExBk1B,EAAWl1B,UAAYA,EAGvB,aAAU+8E,GAEV31E,EAAOsB,aAAawsB,EArKM,gBAsK1B9tB,EAAOsB,aAAawsB,EArKI,sBAuKpB9rB,IACFhC,EAAOsB,aAAaU,EA5KV,cA6KVhC,EAAOsB,aAAaU,EAAO1S,EA7KjB,aACI,mBA+KZ0pF,GACFA,EAAkBO,QAAQ53E,MAKhCo3E,GAAqBx4E,QAAU,CAC7B,gBACA,WACA,WACA,UC7KF,SAASi5E,GAAQviF,EAAO41E,EAAMvjE,GAC5B,OAAOmwE,GAAQxiF,EAAO41E,EAAM51E,EAAM41E,GAAQvjE,GAG5C,SAASmwE,GAAQxiF,EAAO41E,EAAM78E,GAC5B,MAAO,CACL0G,EAAa,MAATm2E,EAAe78E,EAAQiH,EAAMP,EACjCG,EAAa,MAATg2E,EAAe78E,EAAQiH,EAAMJ,GAgBrC,SAAS6iF,GAAS7M,GAChB,MAAgB,MAATA,EAAe,IAAM,IAc9B,SAAS8M,GAAW1iF,EAAO2iF,EAAkBC,GAE3C,IAAIC,EACAC,EAEJ,OAAI9iF,EAAMihC,SACDjhC,EAAMihC,UAEb4hD,EAAe,YAAOF,GAGfH,GAAQxiF,EAFf8iF,EAAcL,GAASG,GAEYC,EAAaC,KAOrC,SAASC,GACpBngE,EAAU9Z,EAAUC,EACpBowC,EAAUjX,EAAiB/zB,GAG7B,IAAIyzE,EAAoBh/D,EAASjZ,IAAI,qBAAqB,GA0E1D,SAASq5E,EAAensD,EAAYyqD,GAGlC,IAAKM,EACH,OAAON,EAGT,IACI2B,EADAC,EAAersD,EAAWl1B,UAW9B,OAPAk1B,EAAWl1B,UAAY2/E,EAEvB2B,EAAmBrB,EAAkBC,oBAAoBhrD,GAGzDA,EAAWl1B,UAAYuhF,EAEhBD,EAKT,SAASE,EAAiB9gE,GACxB6f,EAAgBlb,OAAO,aAAc3E,EAAKwU,WAAYxU,EAAKg/D,eAG7D,SAAS+B,EAAc14E,EAAS24E,EAAe94E,GAE7C,IAAI+2E,EAAe52E,EAAQ42E,aASvBgC,EAlKR,SAAoB3+D,EAAU65D,EAAcC,EAAY7I,GAEtD,IAAI2N,EAAW7jF,KAAKwmB,IAAIs4D,EAAa5I,GAAO6I,EAAW7I,IACnD4N,EAAW9jF,KAAKumB,IAAIu4D,EAAa5I,GAAO6I,EAAW7I,IAMvD,OAAO4M,GAAQhE,EAAc5I,EAFXl2E,KAAKumB,IAAIvmB,KAAKwmB,IAAIs9D,EAFtB,GAE0C7+D,EAASixD,IAAQ2N,EAF3D,KA6JUE,CAAWl5E,EAPd+2E,EADK52E,EAAQg5E,kBAAoBL,GAGnC/B,EADK52E,EAAQi5E,gBAAkBN,GAErCZ,GAAS/3E,EAAQkrE,OAO5B,aAAUlrE,EAAQg0E,WAAY4E,EAAgB7jF,EAAG6jF,EAAgB1jF,GA9GnE7E,KAAK+Z,MAAQ,SAASvK,EAAOssB,EAAY90B,GAEvC,IAAI2I,EAQAoR,EAAW85D,EAAMgO,EAPjBl4E,EAAM3C,EAAOkU,YAAY4Z,GACzB6sD,EAAoB3hF,EAAM,EAC1B4hF,EAAkB5hF,EAClBJ,EAAYk1B,EAAWl1B,UACvB68E,EAAe78E,EAAU+hF,GACzBjF,EAAa98E,EAAUgiF,GACvBrE,EAAepB,GAA0Bn1E,EAAQpH,EAAW4I,IAGhEuR,EAAY,aAAc0iE,EAAcC,MAQxC7I,EAAqB,MAAd95D,EAAoB,IAAM,IAEP,IAAtB4nE,IACFlF,EAAekE,GAAWlE,EAAc3nD,EAAWjzB,OAAQgyE,IAGzD+N,IAAoBhiF,EAAUvH,OAAS,IACzCqkF,EAAaiE,GAAWjE,EAAY5nD,EAAWx+B,OAAQu9E,IAczDlrE,EAAU,CACRmsB,WAAYA,EACZ6sD,kBAAmBA,EACnBC,gBAAiBA,EACjBnF,aAAcA,EACdC,WAAYA,EACZ7I,KAAMA,EACNgO,aAjBAA,EADEtE,EACaA,EAAat/E,MAIb,CACbP,GAAI++E,EAAa/+E,EAAIg/E,EAAWh/E,GAAK,EACrCG,GAAI4+E,EAAa5+E,EAAI6+E,EAAW7+E,GAAK,IAczCu5C,EAASj4B,KAAK3W,EAAOq5E,EAAc,yBAA0B,CAC3D9H,OAAiB,MAATlG,EAAe,YAAc,YACrCvzD,KAAM,CACJwU,WAAYA,EACZwqD,cAAe31E,EACfhB,QAASA,OAwFf5B,EAASK,GAAG,gCAAgC,SAASoB,GAEnD,IAAIG,EAAUH,EAAMG,QAChBmsB,EAAatsB,EAAMssB,WACnB2M,EAAQz6B,EAAOw6B,SAAS,YAE5B74B,EAAQm5E,kBAAoBhtD,EAAWl1B,UAAUC,QAGjD8I,EAAQg0E,WAAaM,GAAkBx7C,EAAO94B,EAAQ8zE,aAAc9zE,EAAQ+zE,YAC5E,aAAW/zE,EAAQg0E,YAAY/iF,IAAI,gBAEnCoN,EAAOoB,UAAU0sB,EA1OS,mBA6O5B/tB,EAASK,GAAG,+BAA+B,SAASoB,GAElD,IAsBIu5E,EACAC,EAvBAr5E,EAAUH,EAAMG,QAChBmsB,EAAansB,EAAQmsB,WACrB6sD,EAAoBh5E,EAAQg5E,kBAC5BC,EAAkBj5E,EAAQi5E,gBAC1BnF,EAAe9zE,EAAQ8zE,aACvBC,EAAa/zE,EAAQ+zE,WACrB7I,EAAOlrE,EAAQkrE,KAEf0L,EAAe52E,EAAQm5E,kBAAkBjiF,QACzCoiF,EAAkBzB,GAAQ/D,EAAc5I,EAAMrrE,EAAM,IAAMqrE,IAC1DqO,EAAgB1B,GAAQ9D,EAAY7I,EAAMrrE,EAAM,IAAMqrE,IAKtDsO,EAAgB5C,EAAalnF,OAC7BipF,EAAgB,EAGpB/B,EAAaoC,GAAqBM,EAClC1C,EAAaqC,GAAmBM,EAM5BP,EAAoB,IACtBI,EAA6B,YAAejtD,EAAWjzB,OAAQogF,GAGrC,IAAtBN,EAEiC,cAA/BI,IACFxC,EAAa7kF,QACb6kF,EAAa,GAAK0C,EAClBX,KAMiC,cAA/BS,IACFxC,EAAa3oD,QAAQ6lD,GACrB6E,MAMFM,EAAkBO,EAAgB,IACpCH,EAA6B,YAAeltD,EAAWx+B,OAAQ4rF,GAG3DN,IAAoBO,EAAgB,EAEH,cAA/BH,IACFzC,EAAaxkD,MACbwkD,EAAaA,EAAalnF,OAAS,GAAK6pF,GAMP,cAA/BF,GACFzC,EAAazlF,KAAK4iF,IAMxB/zE,EAAQ42E,aAAezqD,EAAWl1B,UAAYqhF,EAAensD,EAAYyqD,GAGzE8B,EAAc14E,EAAS24E,EAAe94E,GAGtCG,EAAQy5E,qBAAuBT,EAAoBL,EAGnDF,EAAiB54E,MAGnBzB,EAASK,GAAG,gCAAgC,SAASoB,GAEnDA,EAAMG,QAAQK,MAAQR,EAAMQ,MAC5BhC,EAAOoB,UAAUI,EAAMQ,MArUA,oBAwUzBjC,EAASK,GAAG,CACV,6BACA,mCACC,SAASoB,GAIV,IAAIQ,EAAQR,EAAMG,QAAQK,MAEtBA,GACFhC,EAAOsB,aAAaU,EAlVC,oBAsVzBjC,EAASK,GAAG,kCAAkC,SAASoB,GAErD,IAAIG,EAAUH,EAAMG,QAChBmsB,EAAansB,EAAQmsB,WAGrBnsB,EAAQg0E,YACV,aAAUh0E,EAAQg0E,YAGpB31E,EAAOsB,aAAawsB,EA/VM,mBAkW5B/tB,EAASK,GAAG,CACV,gCACA,+BACC,SAASoB,GACV,IAAIG,EAAUH,EAAMG,QACHA,EAAQmsB,WAEdl1B,UAAY+I,EAAQm5E,kBAE/BV,EAAiB54E,MAGnBzB,EAASK,GAAG,8BAA8B,SAASoB,GAEjD,IAAIG,EAAUH,EAAMG,QAChBmsB,EAAansB,EAAQmsB,WACrByqD,EAAe52E,EAAQ42E,aACvB6C,EAAuBz5E,EAAQy5E,qBAa/B/7C,EAxLN,SAAkCzmC,EAAW+hF,GAE3C,IAAIL,EAAgB,EAcpB,MAAO,CACL1hF,UAbsBA,EAAUc,QAAO,SAASgP,EAAG1P,GACnD,OAAI,aAAaJ,EAAUI,EAAM,GAAIJ,EAAUI,EAAM,GAAI0P,KAGvD4xE,EAAgBthF,GAAO2hF,EAAoBL,EAAgB,EAAIA,GACxD,MASTA,cAAeA,GAsKF3hF,CATf4/E,EAAeA,EAAazrE,KAAI,SAAS9O,GACvC,MAAO,CACLk6B,SAAUl6B,EAAEk6B,SACZxhC,EAAGC,KAAKC,MAAMoH,EAAEtH,GAChBG,EAAGF,KAAKC,MAAMoH,EAAEnH,OAKkCukF,GAIlDlB,EAAmBD,EAAensD,EADduR,EAASzmC,WAE7B0hF,EAAgBj7C,EAASi7C,cAEzBx4E,EAAQ,CACVu5E,YAAa,CACXV,kBAAmBh5E,EAAQg5E,kBAC3BS,qBAAsBA,EAAuBd,IAIjDl1E,EAASszE,gBAAgB5qD,EAAYosD,EAAkBp4E,MAI3Dk4E,GAAsBz5E,QAAU,CAC9B,WACA,WACA,SACA,WACA,kBACA,YCxaF,IAAIuI,GAAMnS,KAAKmS,IACX,GAAQnS,KAAKC,MAuDV,SAAS,GAAIH,EAAQ6kF,GAE1B,OAAK7kF,GAAU4c,MAAM5c,EAAOC,IAAM2c,MAAM5c,EAAOI,GACtCykF,EAGF,CACL5kF,EAAG,GAAMD,EAAOC,EAAID,EAAOK,MAAQ,GACnCD,EAAG,GAAMJ,EAAOI,EAAIJ,EAAOM,OAAS,IAcjC,SAASwkF,GAAU/5E,EAAOqrE,GAC/B,IAAI2O,EAAUh6E,EAAMg6E,QAEpB,QAAKA,IAIe,iBAAT3O,EACF2O,EAAQ3O,GAGV2O,EAAQ9kF,GAAK8kF,EAAQ3kF,GAgBvB,SAAS4kF,GAAWj6E,EAAOqrE,EAAM78E,GACtC,GAAoB,iBAAT68E,EACT,MAAM,IAAI96E,MAAM,0BAGlB,GAAqB,iBAAV/B,IAAgC,IAAVA,EAC/B,MAAM,IAAI+B,MAAM,iCAGlB,IAAIuX,EACAoyE,EAAgBl6E,EAAMqrE,GAEtB2O,EAAUh6E,EAAMg6E,QAAWh6E,EAAMg6E,SAAW,GAchD,OAXc,IAAVxrF,EACFwrF,EAAQ3O,IAAQ,GAEhB2O,EAAQ3O,IAAQ,EAEhBvjE,EAAQtZ,EAAQ0rF,EAEhBl6E,EAAMqrE,IAASvjE,EACf9H,EAAM,IAAMqrE,IAASvjE,GAGhBoyE,EAUF,SAASvkE,GAAY/kB,GAC1B,OAAOA,EAAO2H,UAAY,GCtI5B,IAAI,GAAKpD,KAAKmS,IACV,GAAQnS,KAAKC,MAKF,SAAS+kF,GAAkB57E,GAExC,SAAS67E,EAAO36B,EAAQjxD,GAEtB,GAAI,kBAAQixD,IAGV,IAFA,IAAIrwD,EAAIqwD,EAAO5vD,OAERT,KAAK,GAAI,GAAIqwD,EAAOrwD,GAAKZ,IAVtB,GAWR,OAAOixD,EAAOrwD,OAEX,CAEL,IAAIirF,EAAM7rF,GADVixD,GAAUA,GAGV,GAAI46B,EAjBM,GAkBR,OAAO7rF,EAAQ6rF,EAGjB,GAAIA,EAAM56B,EArBA,GAsBR,OAAOjxD,EAAQ6rF,EAAM56B,EAIzB,OAAOjxD,EAGT,SAASkjD,EAAI1kD,GACX,GAAIA,EAAQsI,MACV,MAAO,CACLJ,EAAG,GAAMlI,EAAQsI,MAAQ,EAAItI,EAAQkI,GACrCG,EAAG,GAAMrI,EAAQuI,OAAS,EAAIvI,EAAQqI,IA2D5CkJ,EAASK,GAAG,8BAA+B,MAAM,SAASoB,GACxD,IAIIs6E,EAAIC,EAHJC,EAtDN,SAAmCr6E,GAEjC,IAAIq6E,EAAar6E,EAAQq6E,WACrBluD,EAAansB,EAAQmsB,WACrBl1B,EAAYk1B,EAAWl1B,UACvB68E,EAAe9zE,EAAQ8zE,aACvBkF,EAAoBh5E,EAAQg5E,kBAC5BjF,EAAa/zE,EAAQ+zE,WACrBkF,EAAkBj5E,EAAQi5E,gBAC1B/N,EAAOlrE,EAAQkrE,KAEnB,GAAImP,EACF,OAAOA,EAGT,IAAIC,EAAqB,CACvBrjF,EAAU+hF,EAAoB,GAC9BlF,EACAC,EACA98E,EAAUgiF,EAAkB,IA8B9B,OA3BID,EAAoB,GACtBsB,EAAmBrsD,QAAQsjB,EAAIplB,EAAWjzB,SAGxC+/E,EAAkBhiF,EAAUvH,OAAS,GACvC4qF,EAAmBrsD,QAAQsjB,EAAIplB,EAAWx+B,SAG5CqS,EAAQq6E,WAAaA,EAAa,CAAE/jF,WAAY,GAAKD,SAAU,IAE/D,kBAAQikF,GAAoB,SAASj+E,GAI/BA,IACFA,EAAIA,EAAEk6B,UAAYl6B,EAEL,MAAT6uE,GACFmP,EAAW/jF,WAAWnF,KAAKkL,EAAEnH,GAGlB,MAATg2E,GACFmP,EAAWhkF,SAASlF,KAAKkL,EAAEtH,OAK1BslF,EAKUE,CADH16E,EAAMG,SAEhBjL,EAAI8K,EAAM9K,EACVG,EAAI2K,EAAM3K,EAGd,GAAKmlF,EAAL,CAUA,IAAI5yD,EAAM1yB,GALVolF,EAAKF,EAAOI,EAAWhkF,SAAUtB,IAM7B2yB,EAAMxyB,GALVklF,EAAKH,EAAOI,EAAW/jF,WAAYpB,IAQnC,iBAAO2K,EAAO,CACZw7B,GAAIx7B,EAAMw7B,GAAK5T,EACf6T,GAAIz7B,EAAMy7B,GAAK5T,EACf3yB,EAAGolF,EACHjlF,EAAGklF,KAID3yD,IAA0C,IAApC4yD,EAAWhkF,SAAS5G,QAAQsF,KACpC+kF,GAAWj6E,EAAO,IAAKs6E,IAGrBzyD,IAA4C,IAAtC2yD,EAAW/jF,WAAW7G,QAAQyF,KACtC4kF,GAAWj6E,EAAO,IAAKu6E,OAqC3Bh8E,EAASK,GAAG,CAAE,sBAAuB,sBAAwB,MAAM,SAASoB,GAE1E,IAMIs6E,EAAIC,EANJp6E,EAAUH,EAAMG,QAChBq6E,EAjCN,SAA2Br6E,GAEzB,IAAIq6E,EAAar6E,EAAQq6E,WACrBpjF,EAAY+I,EAAQmsB,WAAWl1B,UAC/Bw/E,EAAiBz2E,EAAQy2E,eAE7B,GAAI4D,EACF,OAAOA,EAGT,IAAIC,EAAqB,CAAErjF,EAAUw/E,EAAiB,GAAIx/E,EAAUw/E,EAAiB,IAgBrF,OAdAz2E,EAAQq6E,WAAaA,EAAa,CAAE/jF,WAAY,GAAKD,SAAU,IAE/D,kBAAQikF,GAAoB,SAASj+E,GAI/BA,IACFA,EAAIA,EAAEk6B,UAAYl6B,EAElBg+E,EAAW/jF,WAAWnF,KAAKkL,EAAEnH,GAC7BmlF,EAAWhkF,SAASlF,KAAKkL,EAAEtH,OAIxBslF,EAOUG,CAAkBx6E,GAC/BK,EAAQL,EAAQK,MAChBo6E,EAAWp6E,GAASkxC,EAAIlxC,GACxBtL,EAAI8K,EAAM9K,EACVG,EAAI2K,EAAM3K,EAGd,GAAKmlF,EAAL,CASA,IAAI5yD,EAAM1yB,GAJVolF,EAAKF,EAAOQ,EAAWJ,EAAWhkF,SAASkT,OAAO,CAAEkxE,EAAS1lF,IAAOslF,EAAWhkF,SAAUtB,IAKrF2yB,EAAMxyB,GAJVklF,EAAKH,EAAOQ,EAAWJ,EAAW/jF,WAAWiT,OAAO,CAAEkxE,EAASvlF,IAAOmlF,EAAW/jF,WAAYpB,IAO7F,iBAAO2K,EAAO,CACZw7B,GAAIx7B,EAAMw7B,GAAK5T,EACf6T,GAAIz7B,EAAMy7B,GAAK5T,EACf3yB,EAAG8K,EAAM9K,EAAI0yB,EACbvyB,EAAG2K,EAAM3K,EAAIwyB,KAIXD,IAA0C,IAApC4yD,EAAWhkF,SAAS5G,QAAQsF,KACpC+kF,GAAWj6E,EAAO,IAAKs6E,IAGrBzyD,IAA4C,IAAtC2yD,EAAW/jF,WAAW7G,QAAQyF,KACtC4kF,GAAWj6E,EAAO,IAAKu6E,OAM7BJ,GAAkBp7E,QAAU,CAAE,YC9Mf,QACbiC,YAAa,CACX,GACA,IAEFD,SAAU,CAAE,aAAc,oBAAqB,wBAC/C85E,WAAY,CAAE,OAAQlG,IACtBC,cAAe,CAAE,OAAQ+B,IACzBmE,qBAAsB,CAAE,OAAQvD,IAChC1C,sBAAuB,CAAE,OAAQ2D,IACjCuC,kBAAmB,CAAE,OAAQZ,K,8BCahB,SAASa,GAAWrqE,EAAQpS,EAAU2b,GAEnD1pB,KAAKiO,UAAYF,EACjB/N,KAAK6oB,UAAYa,EAEjB,IAAIzY,EAAQ,oBAAUkP,GAAUA,EAAOlP,OAASkP,EAAOlP,MAAQ,CAC7Dia,IAAK,EACLC,IAAK,KAGPnrB,KAAKyqF,gBAAkB,CACrB7gE,SAAU,CACRxkB,OAAQ,EACRD,KAAM,GAER8L,MAAOA,GAGTjR,KAAK0qF,SAAW,KAEhB1qF,KAAKkpB,QAGPshE,GAAWj8E,QAAU,CACnB,oBACA,WACA,YAOFi8E,GAAWhrF,UAAU0pB,MAAQ,WAE3B,IAAInb,EAAW/N,KAAKiO,UAEhB/C,EAAOlL,KAEX+N,EAASK,GAAG,qBAAqB,SAAS3Q,GAExC,IAAIyR,EAAYzR,EAAEkR,aAEO,IAArBO,EAAU7P,OACZ6L,EAAK+tC,KAAK/pC,EAAU,IAEpBhE,EAAKy/E,WAIT58E,EAASK,GAAG,mBAAmB,SAASoB,GACtC,IAAItI,EAAWsI,EAAMtI,SAErB,kBAAQA,GAAU,SAASzJ,GACrByN,EAAK0/E,OAAOntF,IACdyN,EAAKy/E,cAKX58E,EAASK,GAAG,mBAAmB,SAASoB,GACtC,IAAIhT,EAAUgT,EAAMhT,QAChBquF,EAAU3/E,EAAKw/E,SAGfG,GAAWA,EAAQruF,UAAYA,GACjC0O,EAAK+tC,KAAKz8C,GAAS,OA6BzBguF,GAAWhrF,UAAUsrF,iBAAmB,SAAS5wE,EAAU6pB,GACpDA,IACHA,EAAW7pB,EACXA,EAhHmB,KAmHrBla,KAAKiO,UAAUG,GAAG,0BAA2B8L,GAAU,SAAS1K,GAC9DA,EAAM+yB,UAAUzhC,KAAKijC,OAYzBymD,GAAWhrF,UAAUurF,WAAa,SAASvuF,GACzC,IAAI+lC,EAAYviC,KAAKgrF,gBAEjBC,EAAU,GAgBd,OAZA,kBAAQ1oD,GAAW,SAASwB,GAC1B,IAAImnD,EAAmBnnD,EAASonD,qBAAqB3uF,GAEjD,qBAAW0uF,GACbD,EAAUC,EAAiBD,GAE3B,kBAAQC,GAAkB,SAAS5uB,EAAO3zD,GACxCsiF,EAAQtiF,GAAM2zD,QAKb2uB,GAWTT,GAAWhrF,UAAUg+B,QAAU,SAASvW,EAAQzX,EAAOuyE,GAErD,IAGI5+D,EACA7R,EAJA9U,EAAUwD,KAAK0qF,SAASluF,QACxByuF,EAAUjrF,KAAK0qF,SAASO,QAIxBl5E,EAASvC,EAAM2S,gBAAkB3S,EAAMlS,OAE3C,IAAKyU,EACH,OAAOvC,EAAM4S,iBASf,GALAe,EADQ8nE,EAAQ,eAAQl5E,EAAQ,gBAChBkV,OAEhB3V,EAAgB9B,EAAM8B,eAAiB9B,EAGnC,qBAAW2T,IACb,GAAe,UAAX8D,EACF,OAAO9D,EAAQ7R,EAAe9U,EAASulF,QAGzC,GAAI5+D,EAAQ8D,GACV,OAAO9D,EAAQ8D,GAAQ3V,EAAe9U,EAASulF,GAKnDvyE,EAAM4S,kBAURooE,GAAWhrF,UAAUy5C,KAAO,SAASz8C,EAAS+E,IACvCA,GAASvB,KAAK4qF,OAAOpuF,KAI1BwD,KAAK2qF,QACL3qF,KAAKorF,eAAe5uF,KAGtBguF,GAAWhrF,UAAUwrF,cAAgB,WAEnC,IAAIx7E,EAAQxP,KAAKiO,UAAUsd,YAAY,CACrC9uB,KAAM,0BACN8lC,UAAW,KAKb,OAFAviC,KAAKiO,UAAUS,KAAKc,GAEbA,EAAM+yB,WAGfioD,GAAWhrF,UAAU4rF,eAAiB,SAAS5uF,GAE7C,IAAIyuF,EAAUjrF,KAAK+qF,WAAWvuF,GAC1BklD,EAAM1hD,KAAKqrF,OAAO7uF,GAClBqtB,EAAO63B,EAAI73B,KAEf,kBAAQohE,GAAS,SAAS3uB,EAAO3zD,GAC/B,IAEIsQ,EAFAqyE,EAAWhvB,EAAMt1B,OAAS,UAC1BukD,EAAU,iBAAOjvB,EAAMzyC,MAAQ,8CAGnC,eAAQ0hE,EAAS,cAAe5iF,IAEhCsQ,EAAY,gBAAS,eAAiBqyE,EAAW,IAAKzhE,MAEpD5Q,EAAY,iBAAO,kCAAoCqyE,EAAW,YAClEzhE,EAAKlsB,YAAYsb,IAGnBA,EAAUtb,YAAY4tF,GAElBjvB,EAAMv7D,WAgGd,SAAoBvE,EAASsnB,GAE3B,IAAInkB,EAAU,kBAAWnD,IAEF,kBAAQsnB,GAAcA,EAAaA,EAAWriB,MAAM,SAC1DulB,SAAQ,SAAS3X,GAChC1P,EAAQiB,IAAIyO,MArGVm8E,CAAWD,EAASjvB,EAAMv7D,WAGxBu7D,EAAMmvB,OACR,eAAQF,EAAS,QAASjvB,EAAMmvB,OAG9BnvB,EAAMovB,UACRH,EAAQ5tF,YAAY,iBAAO,aAAe2+D,EAAMovB,SAAW,UAI/D,kBAAW7hE,GAAMjpB,IAAI,QAErBZ,KAAK0qF,SAAW,CACdluF,QAASA,EACTklD,IAAKA,EACLupC,QAASA,GAGXjrF,KAAKiO,UAAUS,KAAK,kBAAmB,CAAEm8E,QAAS7qF,KAAK0qF,YAIzDF,GAAWhrF,UAAU6rF,OAAS,SAAS7uF,GACrC,GAAIwD,KAAK4qF,SACP,OAAO5qF,KAAK0qF,SAAShpC,IAGvB,IAAIx2C,EAAOlL,KAEP0pB,EAAW1pB,KAAK6oB,UAEhBgB,EAAO,iBAAO,uCAEd8hE,EAAiB,iBAAO,CAC1B9hE,KAAMA,GACL7pB,KAAKyqF,iBAER,WAAYpnE,KAAKwG,EA1RC,SA0RoB,SAAS,SAASra,GACtDtE,EAAKsyB,QAAQ,QAAShuB,MAGxB,WAAY6T,KAAKwG,EA9RC,SA8RoB,aAAa,SAASra,GAC1DtE,EAAKsyB,QAAQ,YAAahuB,MAI5B,QAAS6T,KAAKwG,EAAM,aAAa,SAASra,GACxCA,EAAM4B,qBAGRpR,KAAK4rF,WAAaliE,EAAS9oB,IAAIpE,EAAS,cAAemvF,GAEvD,IAAIjqC,EAAMh4B,EAAS9a,IAAI5O,KAAK4rF,YAI5B,OAFA5rF,KAAKiO,UAAUS,KAAK,oBAAqB,CAAElS,QAASA,EAASklD,IAAKA,IAE3DA,GAOT8oC,GAAWhrF,UAAUmrF,MAAQ,WACtB3qF,KAAK4qF,WAIV5qF,KAAK6oB,UAAU1oB,OAAOH,KAAK4rF,YAE3B5rF,KAAK4rF,WAAa,KAElB5rF,KAAKiO,UAAUS,KAAK,mBAAoB,CAAEm8E,QAAS7qF,KAAK0qF,WAExD1qF,KAAK0qF,SAAW,OAUlBF,GAAWhrF,UAAUorF,OAAS,SAASpuF,GACrC,SAASwD,KAAK0qF,UAAcluF,GAAiBwD,KAAK0qF,SAASluF,UAAYA,ICrV1D,QACbgU,YAAa,CACX,KACA,MAEFiwC,WAAY,CAAE,OAAQ+pC,KCDT,SAASqB,GAAQ99E,EAAUqwC,EAAUhrC,EAAU6U,GAI5D,SAAS6jE,EAAWjjF,EAAQvL,GAC1B,OAAO2qB,EAAMF,QAAQ,oBAAqB,CACxClf,OAAQA,EACRvL,OAAQA,IAWZyQ,EAASK,GAAG,iBAAiB,SAASoB,GACpC,IAGII,EAHAD,EAAUH,EAAMG,QAChBoK,EAAQpK,EAAQoK,MAChB/J,EAAQR,EAAMQ,MASlB,GALAL,EAAQK,MAAQA,EAEhBJ,EAAaD,EAAQC,WAAak8E,EAAW/xE,EAAO/J,IAGhD,gBAAMJ,GAAV,CAIA,IAAmB,IAAfA,EAIF,OAHAD,EAAQ9G,OAASkR,OACjBpK,EAAQrS,OAAS0S,GAKnBJ,EAAaD,EAAQC,WA7Bdk8E,EA6BoD97E,EAAP+J,GAGhD,gBAAMnK,KAIS,IAAfA,IACFD,EAAQ9G,OAASmH,EACjBL,EAAQrS,OAASyc,OAIrBhM,EAASK,GAAG,CAAE,cAAe,oBAAqB,SAASoB,GACzD,IAAIG,EAAUH,EAAMG,QAEpBA,EAAQK,MAAQ,KAChBL,EAAQ9G,OAAS,KACjB8G,EAAQrS,OAAS,KAEjBqS,EAAQC,YAAa,KAGvB7B,EAASK,GAAG,eAAe,SAASoB,GAClC,IAAIG,EAAUH,EAAMG,QAChBC,EAAaD,EAAQC,WACrBs3E,EAAkBv3E,EAAQu3E,gBAC1BC,EAAgB,CACdziF,EAAG8K,EAAM9K,EACTG,EAAG2K,EAAM3K,GAEXgE,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OAErB,IAAKsS,EACH,OAAO,EAGT,IAAIjR,EAAQ,KACRmR,EAAQ,CACNo3E,gBAAiB,GAAUv3E,GAAWw3E,EAAgBD,EACtDC,cAAe,GAAUx3E,GAAWu3E,EAAkBC,GAGxD,mBAASv3E,KACXjR,EAAQiR,GAGVwD,EAAS24E,QAAQljF,EAAQvL,EAAQqB,EAAOmR,MAc1C9P,KAAK+Z,MAAQ,SAASvK,EAAOuK,EAAOmtE,EAAiBnF,GAC9C,mBAASmF,KACZnF,EAAemF,EACfA,EAAkB,YAAOntE,IAG3BqkC,EAASj4B,KAAK3W,EAAO,UAAW,CAC9BuyE,aAAcA,EACdz6D,KAAM,CACJpX,MAAO6J,EACPpK,QAAS,CACPoK,MAAOA,EACPmtE,gBAAiBA,OAiBpB,SAAS,GAAUv3E,GACxB,IAAIK,EAAQL,EAAQK,MAChBnH,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OAErB,OAAO0S,GAASnH,GAAUmH,IAAUnH,GAAUA,IAAWvL,EAf3DuuF,GAAQt9E,QAAU,CAChB,WACA,WACA,WACA,SCzHa,SAASy9E,GAAenkE,EAAU9Z,EAAUC,GACzD,IAAIg5E,EAAoBn/D,EAASjZ,IAAI,qBAAqB,GAE1Do4E,GAAqBj5E,EAASK,GAAG,gBAAgB,SAASoB,GACxD,IAAIG,EAAUH,EAAMG,QAChBm8E,EAAan8E,EAAQC,WACrBI,EAAQL,EAAQK,MAChBnH,EAAS8G,EAAQ9G,OACjBkR,EAAQpK,EAAQoK,MAChBkyE,EAAgBt8E,EAAQs8E,cACxB3uF,EAASqS,EAAQrS,OACjB4pF,EAAkBv3E,EAAQu3E,iBAAmB+E,EAC7C9E,EAAgBx3E,EAAQw3E,eAAiB,CACvCziF,EAAG8K,EAAM9K,EACTG,EAAG2K,EAAM3K,GAEXqnF,EAAehF,EACfiF,EAAahF,EAEb,GAAUx3E,KACZu8E,EAAe/E,EACfgF,EAAajF,GAGfF,EAAkBM,YAAY33E,EAASm8E,EAAY,CACjDjjF,OAAQA,GAAUkR,EAClBzc,OAAQA,GAAU0S,EAClBk3E,gBAAiBgF,EACjB/E,cAAegF,OAInBp+E,EAASK,GAAG,gBA5CK,KA4C0B,SAASoB,GAClD,IAAIG,EAAUH,EAAMG,QAChBK,EAAQR,EAAMQ,MACdJ,EAAaD,EAAQC,WAGN,OAAfA,GAIJ5B,EAAOoB,UAAUY,EAAOJ,EApDZ,aACI,qBAsDlB7B,EAASK,GAAG,CACV,cACA,mBA5DgB,MA6DA,SAASoB,GACzB,IAAIQ,EAAQR,EAAMQ,MAEdA,IACFhC,EAAOsB,aAAaU,EA9DV,cA+DVhC,EAAOsB,aAAaU,EA9DN,sBAkElBg3E,GAAqBj5E,EAASK,GAAG,mBAAmB,SAASoB,GAC3Dw3E,EAAkBO,QAAQ/3E,EAAMG,YAIpCq8E,GAAez9E,QAAU,CACvB,WACA,WACA,UCzEa,QACbiC,YAAa,CACX,IACA,GACA,IAEFD,SAAU,CACR,kBAEFw7E,QAAS,CAAE,OAAQF,IACnBO,eAAgB,CAAE,OAAQJ,K,UCAxBK,GAAe,CACjB,eACA,aACA,cAGEC,GAAwB,CAC1B,SACA,UACA,OACA,OACA,UACA,WACA,QAOa,SAASC,GAAe78E,EAAiB3B,EAAUC,EAAQmB,GACxEnP,KAAK2f,iBAAmBjQ,EACxB1P,KAAKkO,QAAUF,EACfhO,KAAKwsF,QAAUr9E,EAEfnP,KAAKysF,eAAiB,GAEtB,IAAIvhF,EAAOlL,KAEX+N,EAASK,GAAG,gBAAgB,WAC1B,kBAAQlD,EAAKuhF,gBAAgB,SAASC,GACpC,aAAUA,MAGZxhF,EAAKuhF,eAAiB,MAI1BF,GAAeh+E,QAAU,CACvB,kBACA,WACA,SACA,UAWFg+E,GAAe/sF,UAAUohD,OAAS,SAASpkD,GACzC,OAAOwD,KAAK2f,iBAAiBuC,YAAY1lB,IAY3C+vF,GAAe/sF,UAAUmtF,WAAa,SAASnwF,EAASwqC,EAAOr2B,GAC7DA,EAAMA,GAAO3Q,KAAK4gD,OAAOpkD,GAEzB,IAAIowF,EAAU,aAASj8E,GACnBrH,EAAOqH,EAAI4sC,wBAWf,OATAv9C,KAAK6sF,cAAc,aAAUD,IAE7B,aAAQA,EAAS5sF,KAAKwsF,QAAQn9E,IAAI,cAAe,GAAI,CACnD3K,EAAG4E,EAAKnE,IACRN,EAAGyE,EAAKhE,QAGV,aAAU0hC,EAAO4lD,GAEVA,GAWTL,GAAe/sF,UAAUstF,SAAW,SAAS58E,EAAO82B,GAElD,IAAI+lD,EAAQ,aAAU,OAAQ,CAC5BjrC,MAAO,qBACPh9C,MAAQoL,EAAMpL,MACdC,OAAQmL,EAAMnL,OACdL,EAAGwL,EAAMxL,EACTG,EAAGqL,EAAMrL,IAKX,OAFA,aAAUmiC,EAAO+lD,GAEVA,GAQTR,GAAe/sF,UAAUqtF,cAAgB,SAASl8E,GAChD,IAiHqB9S,EAjHjBqN,EAAOlL,KAEX,GAAI2Q,EAAImO,WAGN,IAAK,IAAIlgB,EAAI,EAAGA,EAAI+R,EAAImO,WAAWzf,OAAQT,IAGzCsM,EAAK2hF,cAAcl8E,EAAImO,WAAYlgB,KAyGlBf,EArGF8S,GAsGsC,IAAlD27E,GAAsBltF,QAAQvB,EAAKohB,YAlG1CotE,GAAarlE,SAAQ,SAASgmE,GAC5B,GAAI,aAAQr8E,EAAKq8E,GAAa,CAC5B,IAAI3hE,EA2DV,SAAmBxtB,EAAMmvF,EAAY3sF,GACnC,IAAIsI,GAaiB/C,EAbE,aAAQ/H,EAAMmvF,GAc9BpnF,EAAUgF,MAAM,8BAA8B,IADvD,IAAuBhF,EAXrB,OAAO,gBAAS,UAAY+C,EAAItI,GAAcoC,UA9D7BwqF,CAAUt8E,EAAKq8E,EAAY9hF,EAAKgD,QAAQ8a,gBAErD9d,EAAKgiF,aAAav8E,EAAK0a,EAAQ2hE,QAYrCT,GAAe/sF,UAAU0tF,aAAe,SAASv8E,EAAK0a,EAAQ2hE,GAC5D,IAAIG,EAAW9hE,EAAO1iB,GAElB+jF,EAAe1sF,KAAKysF,eAAgBU,GAExC,IAAKT,EAAc,CAGjB,IAAIU,EAAiBD,EAAW,UAFhCT,EAAe,aAASrhE,IAIX1iB,GAAKykF,EAElB,aAAWV,GACR9rF,IAAI,eACJA,IAAI,sBAEPZ,KAAKysF,eAAgBU,GAAaT,EAElC,IAAI57C,EAAO,gBAAS,OAAQ9wC,KAAKkO,QAAQw5B,MAEpCoJ,IACHA,EAAO,aAAU,QAEjB,aAAU9wC,KAAKkO,QAAQw5B,KAAMoJ,IAG/B,aAAUA,EAAM47C,GAGlB,IAAI9mF,EA0CG,QA1CuB5F,KAAKysF,eAAgBU,GAAWxkF,GA0CxC,IAxCtB,aAAQgI,EAAKq8E,EAAYpnF,IC/LZ,QACb2K,SAAU,CAAE,kBACZ88E,eAAgB,CAAE,OAAQd,K,UCJxB,GAAY,UACZ,GAAgB,cAChBe,GAAgB,YAChBC,GAAoB,aA4BT,SAASC,GACpBx/E,EACAowC,EACArwC,EACAqF,EACA6U,GA6FF,SAASwlE,EAAUjxF,EAAS6uB,GAC1B,CAAEiiE,GAAe,GAAW,GAAeC,IAAoBvmE,SAAQ,SAASqO,GAE1EA,IAAMhK,EACRrd,EAAOoB,UAAU5S,EAAS64B,GAE1BrnB,EAAOsB,aAAa9S,EAAS64B,MAoGnC,SAASwrD,IACP,IAAIlxE,EAAUyuC,EAASzuC,UAEnBA,GA7NK,WA6NMA,EAAQyY,QACrBg2B,EAASyiC,SAjGb9yE,EAASK,GAAG,CAAE,cAAe,iBAAkB,SAASoB,GACtD,IAAIG,EAAUH,EAAMG,QAChBzI,EAAWyI,EAAQzI,SACnB8I,EAAQR,EAAMQ,MACdnH,EAAS8G,EAAQ9G,OACjBiH,EAAQH,EAAQG,OAAS,GAE7B,IAAKE,EAIH,OAHAL,EAAQC,YAAa,OACrBD,EAAQrS,OAAS,MAKnBowF,GAAkBl+E,GAElB,IAAIoa,EAAW,CACbllB,EAAG8K,EAAM9K,EACTG,EAAG2K,EAAM3K,GAGP+K,EAAaD,EAAQC,WAAaI,GAhHxC,SAAmB9I,EAAU5J,EAAQssB,EAAU/gB,EAAQiH,GACrD,IAAKxS,EACH,OAAO,EAIT4J,EAAW,iBAAOA,GAAU,SAAS1K,GACnC,IAAIo/E,EAAcp/E,EAAQo/E,YAE1B,QAAQp/E,EAAQ4D,QA4StB,SAAiB5D,GACf,QAASA,EAAQo/E,YA7Se+R,CAAQnxF,KAA+C,IAAnC0K,EAAS9H,QAAQw8E,OAGnE,IAAI1rE,EAAQ,eAAKhJ,GAAU,SAAS1K,GAClC,OAAQoxF,GAAapxF,MAGnBqxF,GAAS,EACT9B,GAAU,EACVppF,GAAS,EAGTmrF,GAAc5mF,KAChB2mF,EAAS5lE,EAAMF,QAAQ,eAAgB,CACrC6B,SAAUA,EACV1Z,MAAOA,EACP5S,OAAQA,KAIPuwF,IAIDlrF,EADEmrF,GAAc5mF,GACP+gB,EAAMF,QAAQ,eAAgB,CACrC6B,SAAUA,EACV1Z,MAAOA,EACPrH,OAAQA,EACRvL,OAAQA,IAGD2qB,EAAMF,QAAQ,kBAAmB,CACxC7gB,SAAUA,EACV0iB,SAAUA,EACVtsB,OAAQA,KAMd,IAAIywF,EAAmBj+E,EAAMi+E,iBAG7B,OAAIprF,GAAUkrF,GACR39E,GAASrH,IACXkjF,EAAU9jE,EAAMF,QAAQ,oBAAqB,CAC3Clf,OAAQklF,IAAqBllF,EAASqH,EAAQrH,EAC9CvL,OAAQywF,IAAqBllF,EAASA,EAASqH,EAC/CJ,MAAO,CACLk+E,aAAc1wF,EACd2wF,aAAcJ,MAKb,CACLA,OAAQA,EACR9B,QAASA,KAKE,OAAXppF,GAA8B,OAAXkrF,IACd,KAwCsCK,CAAUhnF,EAAU8I,EAAO4Z,EAAU/gB,EAAQiH,GAExFE,GAAwB,OAAfJ,IACXD,EAAQrS,OAAS0S,EAEbJ,GAAcA,EAAWi+E,OAC3BJ,EAAUz9E,EAAOs9E,IAEjBG,EAAUz9E,EAAOJ,EAAa29E,GAAoB,QAKxDx/E,EAASK,GAAG,CAAE,aAAc,aAAc,mBAAoB,SAASoB,GACrE,IAAIQ,EAAQR,EAAMQ,MAEdA,GACFy9E,EAAUz9E,EAAO,SAIrBjC,EAASK,GAAG,cAAc,SAASoB,GACjC,IAAIG,EAAUH,EAAMG,QAChB9G,EAAS8G,EAAQ9G,OACjBqH,EAAQP,EAAQO,MAChBhJ,EAAWyI,EAAQzI,SACnB5J,EAASqS,EAAQrS,OACjBsS,EAAaD,EAAQC,WACrBi+E,EAASj+E,GAAcA,EAAWi+E,OAClC9B,EAAUn8E,GAAcA,EAAWm8E,QACnCj8E,EAAQH,EAAQG,OAAS,GAE7B,IAAmB,IAAfF,IAAyBtS,EAC3B,OAAO,EAGTowF,GAAkBl+E,GAElB,IAAIoa,EAAW,CACbllB,EAAG8K,EAAM9K,EACTG,EAAG2K,EAAM3K,GAGPknF,EACF77E,EAAQkD,EAAS4pE,YAAYn0E,EAAQqH,EAAO0Z,EAAUtsB,EAAQ,CAC5DuwF,OAAQA,EACR/xD,YAAwB,IAAZiwD,EAAmB,GAAKA,EACpCgC,iBAAkBj+E,EAAMi+E,oBAG1B7mF,EAAWkM,EAAS+6E,eAAejnF,EAAU0iB,EAAUtsB,EAAQ,iBAAO,GAAIwS,EAAO,CAC/E+9E,OAAQA,KAIV39E,EAAQ,eAAKhJ,GAAU,SAAS1K,GAC9B,OAAQoxF,GAAapxF,OAKzB,iBAAOmT,EAAS,CACdzI,SAAUA,EACVgJ,MAAOA,IAGT,iBAAOV,EAAO,CACZtI,SAAUA,EACVgJ,MAAOA,OAaXnC,EAASK,GAAG,eAAe,WACzBL,EAASK,GAAG,mBAAoByyE,GAEhC9yE,EAAS4f,KAAK,CAAE,gBAAiB,cApOjB,KAoOgD,WAC9D5f,EAAS+f,IAAI,mBAAoB+yD,SAMrC7gF,KAAK+Z,MAAQ,SAASvK,EAAOtI,EAAUyI,GAChC,kBAAQzI,KACXA,EAAW,CAAEA,IAGf,IAAIgJ,EAAQ,eAAKhJ,GAAU,SAAS1K,GAClC,OAAQoxF,GAAapxF,MAGvB,GAAK0T,EAAL,CAMAP,EAAU,iBAAO,CACfzI,SAAUA,EACV4I,MAAO,GACPI,MAAOA,GACNP,GAAW,IAGd,kBAAQzI,GAAU,SAAS1K,GACpB,mBAASA,EAAQkI,KACpBlI,EAAQkI,EAAI,GAGT,mBAASlI,EAAQqI,KACpBrI,EAAQqI,EAAI,MAIhB,IAAIyE,EAAO,aAAQpC,GAGnB,kBAAQA,GAAU,SAAS1K,GACrBoxF,GAAapxF,KACfA,EAAQoK,UAAY,cAAIpK,EAAQoK,WAAW,SAASywC,GAClD,MAAO,CACL3yC,EAAG2yC,EAAS3yC,EAAI4E,EAAK5E,EAAI4E,EAAKxE,MAAQ,EACtCD,EAAGwyC,EAASxyC,EAAIyE,EAAKzE,EAAIyE,EAAKvE,OAAS,OAK7C,iBAAOvI,EAAS,CACdkI,EAAGlI,EAAQkI,EAAI4E,EAAK5E,EAAI4E,EAAKxE,MAAQ,EACrCD,EAAGrI,EAAQqI,EAAIyE,EAAKzE,EAAIyE,EAAKvE,OAAS,OAI1Cq5C,EAASj4B,KAAK3W,EAhSL,SAgSoB,CAC3BuxE,OAAQ,WACRgB,cAAc,EACdz6D,KAAM,CACJpX,MAAOA,EACPhJ,SAAUA,EACVyI,QAASA,OAgBjB,SAAS+9E,GAAkBl+E,GACzB,IACI4+E,EADU5+E,EAAMG,QACYy+E,kBAE3BA,IAIDA,EAAkB9oF,OACpBkK,EAAM9K,EAAIC,KAAKwmB,IAAI3b,EAAM9K,EAAG0pF,EAAkB9oF,OAG5C8oF,EAAkBhpF,QACpBoK,EAAM9K,EAAIC,KAAKumB,IAAI1b,EAAM9K,EAAG0pF,EAAkBhpF,QAG5CgpF,EAAkBjpF,MACpBqK,EAAM3K,EAAIF,KAAKwmB,IAAI3b,EAAM3K,EAAGupF,EAAkBjpF,MAG5CipF,EAAkB/oF,SACpBmK,EAAM3K,EAAIF,KAAKumB,IAAI1b,EAAM3K,EAAGupF,EAAkB/oF,UAIlD,SAASuoF,GAAapxF,GACpB,QAASA,EAAQoK,UAGnB,SAASknF,GAAc5mF,GACrB,OAAOA,GAAgC,IAApBA,EAAS7H,SAAiBuuF,GAAa1mF,EAAS,IAxCrEsmF,GAAOj/E,QAAU,CACf,SACA,WACA,WACA,WACA,SClTa,SAAS8/E,GACpBrgF,EACAD,EACAo5B,EACAkmD,EACAl+E,GAqCFpB,EAASK,GAAG,cA7CK,KA6CwB,SAASoB,GAEhD,IAUI8+E,EAVAt+E,EAAQR,EAAMQ,MACdL,EAAUH,EAAMG,QAChBzI,EAAWyI,EAAQzI,SACnBqnF,EAAY5+E,EAAQ4+E,UAGnBA,IACHA,EAAY5+E,EAAQ4+E,UA5CxB,SAAyBrnF,GACvB,IAAIqnF,EAAY,aAAU,KAE1B,aAAQA,EAAWp/E,EAAOE,IAAI,iBAAkB,CAAE,eAElD,IAAIu+B,EAAc,aAAU,KA2B5B,OAzBA1mC,EAAS8f,SAAQ,SAASxqB,GAGxB,IAAImU,EAEAnU,EAAQ8T,SAIR9T,EAAQoK,WACV+J,EAAMw2B,EAAgB2G,iBAAiB,aAAcF,GAErDzG,EAAgB5B,eAAe,aAAU50B,GAAMnU,KAE/CmU,EAAMw2B,EAAgB2G,iBAAiB,QAASF,GAEhDzG,EAAgB7B,UAAU,aAAU30B,GAAMnU,GAE1C,aAAUmU,EAAKnU,EAAQkI,EAAGlI,EAAQqI,IAIpCwoF,EAAeV,WAAWnwF,EAAS+xF,EAAW59E,OAGzC49E,EAY2BC,CAAgBtnF,IAK9C8I,GACGu+E,EAAUluF,aACbiuF,EAActgF,EAAOk7B,iBAErB,aAAUolD,EAAaC,IAGzB,aAAUA,EAAW/+E,EAAM9K,EAAG8K,EAAM3K,IAEpC,aAAU0pF,MAIdxgF,EAASK,GAAG,kBAAkB,SAASoB,GACrC,IACI++E,EADU/+E,EAAMG,QACI4+E,UAEpBA,GACF,aAAUA,MAKhBF,GAAc9/E,QAAU,CACtB,SACA,WACA,kBACA,iBACA,UC3Fa,QACbiC,YAAa,CACX,GACA,GACA,GACA,KAEFD,SAAU,CACR,SACA,iBAEF5N,OAAQ,CAAE,OAAQ6qF,IAClBiB,cAAe,CAAE,OAAQJ,KCFvBK,GAAe,CACjB,mBACA,0BACA,wBAmBa,SAASC,GAAUxuE,EAAQpS,EAAUC,GAElD,IAAIiD,EAAQ,oBAAUkP,GAAUA,EAAOlP,OAASkP,EAAOlP,MAAQ,CAC7Dia,IAAK,EACLC,IAAK,KAGPnrB,KAAKo9B,QAAU,CACbnsB,MAAOA,GAGTjR,KAAKiO,UAAYF,EACjB/N,KAAKkO,QAAUF,EACfhO,KAAK6iC,WAAa,GAClB7iC,KAAK0qF,SAAW,GAGlBiE,GAAUpgF,QAAU,CAClB,mBACA,WACA,UAwBFogF,GAAUnvF,UAAUsrF,iBAAmB,SAASniF,EAAIuR,EAAU6pB,GACvDA,IACHA,EAAW7pB,EACXA,EA/DmB,KAkErBla,KAAKiO,UAAUG,GAAG,0BAA4BzF,EAAIuR,GAAU,SAAS1K,GACnEA,EAAM+yB,UAAUzhC,KAAKijC,OASzB4qD,GAAUnvF,UAAUghE,QAAU,SAAShkE,EAASoyF,GAC9C,IAAKpyF,EACH,MAAM,IAAIuD,MAAM,gCAGlB,IAAK6uF,EACH,MAAM,IAAI7uF,MAAM,mCAGlB,IAAIwiC,EAAYviC,KAAKgrF,cAAc4D,GAEnC,IAAKrsD,EACH,OAAO,EAGT,IAAI0oD,EAAUjrF,KAAK6uF,YAAYryF,EAAS+lC,GACpCusD,EAAgB9uF,KAAK+uF,kBAAkBvyF,EAAS+lC,GAEhDysD,EAAa,eAAK/D,GAAW,EAC7BgE,EAAmBH,GAAiB,eAAKA,GAAiB,EAE9D,OAAQE,IAAeC,GAazBN,GAAUnvF,UAAUy5C,KAAO,SAASz8C,EAASmM,EAAIihB,GAE/C,IAAI2Y,EAAYviC,KAAKgrF,cAAcriF,GAEnC,IAAKnM,EACH,MAAM,IAAIuD,MAAM,sBAGlB,IAAKwiC,IAAcA,EAAUljC,OAC3B,MAAM,IAAIU,MAAM,gCAAkC4I,GAGpD,IAAKihB,EACH,MAAM,IAAI7pB,MAAM,oCAGdC,KAAK4qF,UACP5qF,KAAK2qF,QAGP3qF,KAAKi8C,MAAM,QAEX,IAAI4uC,EAAU7qF,KAAK0qF,SAAW,CAC5B3pF,UAAW4H,EACXnM,QAASA,EACTotB,SAAUA,GAGRqhE,EAAUjrF,KAAK6uF,YAAYryF,EAAS+lC,GACpCusD,EAAgB9uF,KAAK+uF,kBAAkBvyF,EAAS+lC,GAEpDsoD,EAAQI,QAAU,iBAAO,GAAIA,EAAS6D,GAEtCjE,EAAQ5xE,UAAYjZ,KAAK8tC,mBAErB,eAAKghD,IACPjE,EAAQ5xE,UAAUtb,YAChBqC,KAAKkvF,eAAeJ,EAAe,qBAInC,eAAK7D,IACPJ,EAAQ5xE,UAAUtb,YAChBqC,KAAKkvF,eAAejE,EAAS,mBAIjC,IACI7qF,EADSJ,KAAKkO,QACE8a,eAEpBhpB,KAAKmvF,iBAAiBtE,EAAQ5xE,UAAW7Y,EAAQwpB,EAASm3D,QAC1D/gF,KAAKovF,kBAOPT,GAAUnvF,UAAUmrF,MAAQ,WAErB3qF,KAAK4qF,WAIV5qF,KAAKi8C,MAAM,SAEXj8C,KAAKqvF,mBACL,iBAAUrvF,KAAK0qF,SAASzxE,WACxBjZ,KAAK0qF,SAASzxE,UAAY,OAS5B01E,GAAUnvF,UAAUorF,OAAS,WAC3B,QAAS5qF,KAAK0qF,SAASzxE,WAWzB01E,GAAUnvF,UAAUg+B,QAAU,SAAShuB,GAGrCA,EAAM4S,iBAEN,IAAI5lB,EAAUgT,EAAM2S,gBAAkB3S,EAAMlS,OACxCgyF,EAAU,eAAQ9yF,EArNT,WAuNT8/D,EAAQt8D,KAAKuvF,UAAUD,GAE3B,GAAIhzB,EAAMr1C,OACR,OAAOq1C,EAAMr1C,OAAO/lB,KAAK,KAAMsO,EAAO8sD,IAI1CqyB,GAAUnvF,UAAUwrF,cAAgB,SAASriF,GAE3C,IAAI6G,EAAQxP,KAAKiO,UAAUsd,YAAY,CACrC9uB,KAAM,0BAA4BkM,EAClC45B,UAAW,KAKb,OAFAviC,KAAKiO,UAAUS,KAAKc,GAEbA,EAAM+yB,WAGfosD,GAAUnvF,UAAUqvF,YAAc,SAASryF,EAAS+lC,GAElD,IAAI0oD,EAAU,GA8Bd,OA5BA,kBAAQ1oD,GAAW,SAASwB,GAG1B,GAAKA,EAASyrD,oBAAd,CAcA,IAAItE,EAAmBnnD,EAASyrD,oBAAoBhzF,GAEhD,qBAAW0uF,GACbD,EAAUC,EAAiBD,GAE3B,kBAAQC,GAAkB,SAAS5uB,EAAO3zD,GACxCsiF,EAAQtiF,GAAM2zD,UAnBhB,kBAAQv4B,EAASgnD,WAAWvuF,IAAU,SAAS8/D,GAC7C,IAAI3zD,EAAK2zD,EAAM3zD,GAEf,IAAKA,EACH,MAAM,IAAI5I,MAAM,6CAGlBkrF,EAAQtiF,GAAM,eAAK2zD,EAAO,CAAE,aAiB3B2uB,GAGT0D,GAAUnvF,UAAUuvF,kBAAoB,SAASvyF,EAAS+lC,GAExD,IAAI0oD,EAAU,GAkCd,OAhCA,kBAAQ1oD,GAAW,SAASwB,GAG1B,GAAKA,EAAS0rD,0BAAd,CAkBA,IAAIvE,EAAmBnnD,EAAS0rD,0BAA0BjzF,GAEtD,qBAAW0uF,GACbD,EAAUC,EAAiBD,GAE3B,kBAAQC,GAAkB,SAAS5uB,EAAO3zD,GACxCsiF,EAAQtiF,GAAM2zD,SAxBlB,CACE,IAAKv4B,EAAS2rD,iBACZ,OAGF,kBAAQ3rD,EAAS2rD,iBAAiBlzF,IAAU,SAAS8/D,GACnD,IAAI3zD,EAAK2zD,EAAM3zD,GAEf,IAAKA,EACH,MAAM,IAAI5I,MAAM,6CAGlBkrF,EAAQtiF,GAAM,eAAK2zD,EAAO,CAAE,cAiB3B2uB,GAYT0D,GAAUnvF,UAAU+vF,UAAY,SAASD,GAEvC,IAAIhzB,EAAQt8D,KAAK0qF,SAASO,QAAQqE,GAElC,IAAKhzB,EACH,MAAM,IAAIv8D,MAAM,mBAGlB,OAAOu8D,GAGTqyB,GAAUnvF,UAAUy8C,MAAQ,SAASv3B,GACnC1kB,KAAKiO,UAAUS,KAAK,aAAegW,IAQrCiqE,GAAUnvF,UAAUsuC,iBAAmB,WACrC,IAAI70B,EAAY,iBAAO,2BACnB2Q,EAAW5pB,KAAK0qF,SAAS9gE,SACzB7oB,EAAYf,KAAK0qF,SAAS3pF,UAW9B,OATA,iBAAOkY,EAAU5a,MAAO,CACtBurB,SAAU,WACVtkB,KAAMskB,EAASllB,EAAI,KACnBS,IAAKykB,EAAS/kB,EAAI,KAClB8qF,WAAY,WAGd,kBAAW12E,GAAWrY,IAAIG,GAEnBkY,GAUT01E,GAAUnvF,UAAU2vF,iBAAmB,SAASl2E,EAAW7Y,EAAQ2gF,GACjE,IAAI71E,EAAOlL,KAGX,WAAYqjB,KAAKpK,EAAW,SAAU,SAAS,SAASzJ,GACtDtE,EAAKsyB,QAAQhuB,MAGfxP,KAAK4vF,aAAa32E,GAGlB7Y,EAAOzC,YAAYsb,GAEf8nE,GACF/gF,KAAK6vF,kBAAkB52E,EAAW8nE,IAYtC4N,GAAUnvF,UAAUowF,aAAe,SAAS32E,GAC1C,IAGI8R,EACAC,EAwKgBxuB,EAASwH,EA5KzBynC,EAAOzrC,KAAKkO,QAAQu9B,OAEpBqkD,EAAc9vF,KAAKo9B,QAAQnsB,MAG3BA,EAAQw6B,GAEQ,IAAhBqkD,KAEkB,IAAhBA,GACF/kE,EAAW,EACXC,EAAW,IAEXD,EAAW+kE,EAAY5kE,IACvBF,EAAW8kE,EAAY3kE,KAGrB,oBAAUJ,IAAa0gB,EAAO1gB,IAChC9Z,EAAQ8Z,GAGN,oBAAUC,IAAaygB,EAAOzgB,IAChC/Z,EAAQ+Z,IAsJiBhnB,EAjJL,SAAWiN,EAAQ,KAiJvBzU,EAjJPyc,GAkJL5a,MAAM,oBAAsB,WAEpC,CAAE,GAAI,OAAQ,YAAa2oB,SAAQ,SAASoB,GAC1C5rB,EAAQ6B,MAAM+pB,EAAS,aAAepkB,MAzI1C2qF,GAAUnvF,UAAUqwF,kBAAoB,SAAS52E,EAAW8nE,GAC1D,IAQIz7E,EAAMH,EAPN86E,EADSjgF,KAAKkO,QACMud,WAAW8xB,wBAE/BwyC,EAAa92E,EAAU+2E,WACvBC,EAAah3E,EAAUi3E,UACvBn+C,EAAiB94B,EAAUk3E,YAC3Bn+C,EAAkB/4B,EAAUm3E,aAC5BC,EAAW,GAGXC,EACCvP,EAAOr8E,EAAIu7E,EAAW36E,KADvBgrF,EAECvP,EAAOl8E,EAAIo7E,EAAW96E,IAGvB4qF,EAAah+C,EAAiBkuC,EAAWn7E,QAC3CurF,EAAS3rF,GAAI,GAGXurF,EAAaj+C,EAAkBiuC,EAAWl7E,SAC5CsrF,EAASxrF,GAAI,GAGXwrF,EAAS3rF,GAAK2rF,EAASxrF,GACzBS,EAAOgrF,EAAmBv+C,EAAiB,KAC3C5sC,EAAMmrF,EAAmBt+C,EAAkB,MAClCq+C,EAAS3rF,GAClBY,EAAOgrF,EAAmBv+C,EAAiB,KAC3C5sC,EAAMmrF,EAAmB,MAChBD,EAASxrF,GAAKyrF,EAAmBt+C,GAC1C1sC,EAAOgrF,EAAmB,KAC1BnrF,EAAM,QACGkrF,EAASxrF,IAClBS,EAAOgrF,EAAmB,KAC1BnrF,EAAMmrF,EAAmBt+C,EAAkB,MAG7C,iBAAO/4B,EAAU5a,MAAO,CAAEiH,KAAMA,EAAMH,IAAKA,GAAO,CAAEwqF,WAAY,UAAW,UAAW,OAYxFhB,GAAUnvF,UAAU0vF,eAAiB,SAASjE,EAASlqF,GAErD,IAAIwvF,EAAmB,iBAAO,SAC1BrlF,EAAOlL,KASX,OAPA,kBAAWuwF,GAAkB3vF,IAAIG,GAEjC,kBAAQkqF,GAAS,SAAS3uB,EAAO3zD,GAC/B,IAAI6nF,EAAiBtlF,EAAKulF,aAAan0B,EAAO3zD,GAC9C4nF,EAAiB5yF,YAAY6yF,MAGxBD,GAWT5B,GAAUnvF,UAAUixF,aAAe,SAASn0B,EAAO3zD,GAEjD,IAAI6nF,EAAiB,iBAAO,SACxBE,EAAe,kBAAWF,GAY9B,GAVAE,EAAa9vF,IAAI,SAEb07D,EAAMv7D,WACRu7D,EAAMv7D,UAAUU,MAAM,KAAKulB,SAAQ,SAASjmB,GAC1C2vF,EAAa9vF,IAAIG,MAIrB,eAAQyvF,EAjgBK,UAigBqB7nF,GAE9B2zD,EAAM5gC,MAAO,CACf,IAAIA,EAAQ,iBAAO,UACnBA,EAAM5d,YAAcw+C,EAAM5gC,MAC1B80D,EAAe7yF,YAAY+9B,GAmB7B,OAhBI4gC,EAAMovB,UACR8E,EAAe7yF,YAAY,iBAAO,aAAe2+D,EAAMovB,SAAW,UAG/C,IAAjBpvB,EAAMskB,QACR8P,EAAa9vF,IAAI,WAGI,IAAnB07D,EAAMq0B,UACRD,EAAa9vF,IAAI,YAGf07D,EAAMmvB,QACR+E,EAAe/E,MAAQnvB,EAAMmvB,OAGxB+E,GAOT7B,GAAUnvF,UAAU4vF,eAAiB,WACnCpvF,KAAKiO,UAAU0f,KAAK+gE,GAAc1uF,KAAK2qF,MAAO3qF,OAOhD2uF,GAAUnvF,UAAU6vF,iBAAmB,WACrCrvF,KAAKiO,UAAU6f,IAAI4gE,GAAc1uF,KAAK2qF,MAAO3qF,OCxjBhC,QACbuQ,SAAU,CAAE,aACZqgF,UAAW,CAAE,OAAQjC,KCAnB,GAAQhqF,KAAKC,MAKF,SAASisF,GAAQz9E,GAE9BpT,KAAK07D,UAAYtoD,EAGnBy9E,GAAQtiF,QAAU,CAAE,YAWpBsiF,GAAQrxF,UAAUsxF,eAAiB,SAASC,EAAYC,EAAgBnjF,GAEtE,GAAIkjF,EAAWnqF,UAGb,OAAO,KAGT,IAAIwM,EAAWpT,KAAK07D,UAEhB52D,EAAQksF,EAAelsF,OAASisF,EAAWjsF,MAC3CC,EAASisF,EAAejsF,QAAUgsF,EAAWhsF,OAC7CL,EAAIssF,EAAetsF,GAAKqsF,EAAWrsF,EACnCG,EAAImsF,EAAensF,GAAKksF,EAAWlsF,EACnCosF,EAAU,GAAMvsF,EAAII,EAAQ,GAC5BosF,EAAU,GAAMrsF,EAAIE,EAAS,GAKjC,OAAOqO,EAAS+9E,aACdJ,EACA,iBACE,GACAC,EACA,CACEtsF,EAAGusF,EACHpsF,EAAGqsF,EACHpsF,MAAOA,EACPC,OAAQA,IAGZ8I,ICvDW,QACb0C,SAAU,CAAE,WACZrS,QAAS,CAAE,OAAQ2yF,KCDN,SAASO,GAAW5T,EAAYt/E,EAASgR,EAAWkE,GAkDjEpT,KAAK8wF,eAvCL,SAAwBt0F,EAASc,EAAQwS,GACvCA,EAAQA,GAAS,GACjB,IAAIrT,EAAOa,EAAOb,KACd40F,EAAoB70F,EAAQO,eAC5Bu0F,EAAoB9T,EAAW76E,OAAOlG,GACtCszD,EAAa,CACftzD,KAAMA,EACNM,eAAgBu0F,GAMlB,GAJAvhC,EAAWjrD,MAAQtI,EAAQsI,MAC3BirD,EAAWhrD,OAASvI,EAAQuI,OAC5BusF,EAAkBr0F,KAAOo0F,EAAkBp0F,KAEvCK,EAAOi0F,MAAO,CAChB,IAAIA,EAAQ/T,EAAW76E,OAAO,qBAC9B2uF,EAAkBj5C,cAAgBk5C,EAClCA,EAAMt5C,QAAUq5C,EAChB,IAAI78E,EAAS+oE,EAAW76E,OAAO,oBAC/B8R,EAAO+8E,QAAU,SACjB/8E,EAAOwjC,QAAUs5C,EACjBA,EAAM98E,OAAS,CAACA,GAChB,IAAIP,EAAQspE,EAAW76E,OAAO,mBAC9BuR,EAAM+jC,QAAUs5C,EAChB,IAAIE,EAAkBjU,EAAW76E,OAAO,wBAAyB,CAC/D6uF,QAAS,WAEXt9E,EAAMu9E,gBAAkBA,EACxBA,EAAgBx5C,QAAU/jC,EAC1Bq9E,EAAMr9E,MAAQ,CAACA,GAQjB,OALI5W,EAAOo0F,aACTJ,EAAkBj5C,cAAgBmlC,EAAW76E,OAAO,yBACpD2uF,EAAkBK,SAAWnU,EAAW76E,OAAO,wBAG1CzE,EAAQ4yF,eAAet0F,EAASuzD,EAAYjgD,IAKvDshF,GAAW7iF,QAAU,CAAC,aAAc,UAAW,YAAa,YCpD7C,QACbiC,YAAa,CAAC,GAAgB,KAC9BohF,WAAY,CAAC,OAAQR,KCLR,GACH,CAAC,CACT11D,MAAO,QACPm2D,WAAY,8BACZ9wF,UAAW,iBACXzD,OAAQ,CACNb,KAAM,eACN80F,OAAO,EACPG,YAAY,IAEb,CACDh2D,MAAO,iBACPm2D,WAAY,8BACZ9wF,UAAW,0BACXzD,OAAQ,CACNb,KAAM,eACN80F,OAAO,EACPG,YAAY,IAEb,CACDh2D,MAAO,qBACPm2D,WAAY,kCACZ9wF,UAAW,8BACXzD,OAAQ,CACNb,KAAM,eACN80F,OAAO,EACPG,YAAY,KCnBH,SAASI,GAAoBlB,EAAWx9E,EAAU8nD,EAAQ02B,EAAY3pE,EAAO5d,GAC1FrK,KAAK+xF,WAAanB,EAClB5wF,KAAK07D,UAAYtoD,EACjBpT,KAAK23D,QAAUuD,EACfl7D,KAAKgyF,YAAcJ,EACnB5xF,KAAK8+D,OAAS72C,EACdjoB,KAAKiyF,WAAa5nF,EAClBrK,KAAK6V,WAEPi8E,GAAoBvjF,QAAU,CAAC,YAAa,WAAY,SAAU,aAAc,QAAS,aAKzFujF,GAAoBtyF,UAAUqW,SAAW,WACvC7V,KAAK+xF,WAAWjH,iBAAiB,cAAe9qF,OAWlD8xF,GAAoBtyF,UAAUurF,WAAa,SAAUvuF,GACnD,IAAIO,EAAiBP,EAAQO,eAG7B,IAFYiD,KAAK8+D,OAEN/2C,QAAQ,gBAAiB,CAClCvrB,QAASA,IAET,MAAO,GAGT,GAAI,YAAGO,EAAgB,gBAAiB,CACtC,IAAI8Q,EAAU,iBAAO,IAAyB,SAAUqkF,GACtD,IAAIC,EAAiC,gCAAtBD,EAAOL,YAAgD90F,EAAes7C,cACjF+5C,EAAiC,gCAAtBF,EAAOL,aAAiD,YAAG90F,EAAes7C,cAAe,qBACpGg6C,EAA+B,oCAAtBH,EAAOL,aAAqD,YAAG90F,EAAes7C,cAAe,yBAC1G,OAAO85C,GAAYC,GAAYC,KAEjC,OAAOryF,KAAKkvF,eAAe1yF,EAASqR,GAGtC,MAAO,IAYTikF,GAAoBtyF,UAAU0vF,eAAiB,SAAU1yF,EAAS81F,GAChE,IAAIC,EAAc,GACdrnF,EAAOlL,KAMX,OALA,kBAAQsyF,GAAgB,SAAUE,GAChC,IAAIl2B,EAAQpxD,EAAKunF,iBAAiBD,EAAYh2F,GAE9C+1F,EAAYzxF,KAAKw7D,MAEZi2B,GAcTT,GAAoBtyF,UAAUizF,iBAAmB,SAAUD,EAAYh2F,EAASyqB,GAC9E,IAAI6pE,EAAiB9wF,KAAKgyF,YAAYlB,eActC,OAPA7pE,EAASA,GAJW,WAClB,OAAO6pE,EAAet0F,EAASg2F,EAAWl1F,SAI5B,CACdo+B,OAAOrxB,EAROrK,KAAKiyF,YAQFO,EAAW92D,OAC5B36B,UAAWyxF,EAAWzxF,UACtB4H,GAAI6pF,EAAWX,WACf5qE,OAAQA,IAKZ6qE,GAAoBtyF,UAAUkwF,iBAAmB,SAAUlzF,GACzD,MAAO,ICtGM,QACbgU,YAAa,CAAC,KAAkB,GAAkB,IAClDD,SAAU,CAAC,uBACXmiF,oBAAqB,CAAC,OAAQZ,KCAjB,SAASa,GAAmB5kF,EAAU0yC,EAAYrtC,EAAU86B,EAAgB69C,EAASppF,EAAQslB,EAAO2oE,EAAW5iF,EAAQ3D,EAAW8V,EAAQ0H,GACvJ1H,EAASA,GAAU,GACnBsgC,EAAWqqC,iBAAiB9qF,MAC5BA,KAAK4yF,YAAcnyC,EACnBzgD,KAAK07D,UAAYtoD,EACjBpT,KAAK+2C,gBAAkB7I,EACvBluC,KAAK6yF,SAAW9G,EAChB/rF,KAAK8yF,QAAUnwF,EACf3C,KAAK8+D,OAAS72C,EACdjoB,KAAK+xF,WAAanB,EAClB5wF,KAAKkO,QAAUF,EACfhO,KAAKiyF,WAAa5nF,GAEO,IAArB8V,EAAO+8D,YACTl9E,KAAK+yF,WAAalrE,EAASjZ,IAAI,aAAa,IAG9Cb,EAASK,GAAG,aAAc,KAAK,SAAUoB,GACvC,IAAIU,EAAQV,EAAMG,QAAQO,MAE1B,GAAK,aAAmBV,GAAxB,CAIA,IAAIy7E,EAAUxqC,EAAWsqC,WAAW76E,GAEhC+6E,EAAQ/sF,SACV+sF,EAAQ/sF,QAAQ+oB,OAAOzE,MAAMhT,EAAOU,OAI1CyiF,GAAmBpkF,QAAU,CAAC,WAAY,aAAc,WAAY,iBAAkB,UAAW,SAAU,QAAS,YAAa,SAAU,YAAa,oBAAqB,YAE7KokF,GAAmBnzF,UAAU2rF,qBAAuB,SAAU3uF,GAC5D,IAAI4W,EAAWpT,KAAK07D,UAChBxtB,EAAiBluC,KAAK+2C,gBACtBg1C,EAAU/rF,KAAK6yF,SACflwF,EAAS3C,KAAK8yF,QACdlC,EAAY5wF,KAAK+xF,WACjB/jF,EAAShO,KAAKkO,QACduyC,EAAazgD,KAAK4yF,YAClB3qE,EAAQjoB,KAAK8+D,OACbz0D,EAAYrK,KAAKiyF,WACjB/U,EAAYl9E,KAAK+yF,WACjBx/E,EAAU,GAEd,GAAqB,UAAjB/W,EAAQC,KACV,OAAO8W,EAGT,IAAIxW,EAAiBP,EAAQO,eAE7B,SAASi2F,EAAaxjF,EAAOhT,EAASulF,GACpCgK,EAAQhyE,MAAMvK,EAAOhT,EAASulF,GAiChC,SAASkR,EAAax2F,EAAMsE,EAAW0qF,EAAO59E,GAQ5C,SAASqlF,EAAY1jF,EAAOhT,GAC1B,IAAI0T,EAAQg+B,EAAelT,YAAY,iBAAO,CAC5Cv+B,KAAMA,GACLoR,IACHlL,EAAOoX,MAAMvK,EAAOU,EAAO,CACzBrH,OAAQrM,EACRsT,MAAO,CACLi+E,iBAAkBvxF,KAaxB,MA3BqB,iBAAVivF,IACT59E,EAAU49E,EACVA,EAAQphF,EAAU,gBAAiB,CACjC5N,KAAMA,EAAKyB,QAAQ,QAAS,OAwBzB,CACL8oC,MAAO,QACPjmC,UAAWA,EACX0qF,MAAOA,EACPxkE,OAAQ,CACNksE,UAAWD,EACX1wE,MAdS06D,EAAY,SAAU1tE,EAAOhT,GACxC,IAAI0T,EAAQg+B,EAAelT,YAAY,iBAAO,CAC5Cv+B,KAAMA,GACLoR,IACHqvE,EAAUt/E,OAAOpB,EAAS0T,EAAO,CAC/B69E,iBAAkBvxF,KAElB02F,IAYF,YAAGn2F,EAAgB,iBACrB,iBAAOwW,EAAS,CACd,kBAAmB0/E,EAAa,eAAgB,uBAIhD,YAAMl2F,EAAgB,CAAC,6BAA8B,eAAgB,yBACvE,iBAAOwW,EAAS,CACd,0BAA2B0/E,EAAa,sBAAuB,+BAI/D,YAAMl2F,EAAgB,CAAC,6BAA8B,kBACvD,iBAAOwW,EAAS,CACd,kCAAmC0/E,EAAa,6BAA8B,iCAI9E,YAAMl2F,EAAgB,CAAC,eAAgB,yBACzC,iBAAOwW,EAAS,CACd,oBAAqB0/E,EAAa,gBAAiB,yBAInD,YAAGl2F,EAAgB,mBACrB,iBAAOwW,EAAS,CACd,yBAA0B0/E,EAAa,qBAAsB,4BAC7D,QAAW,CACTjsD,MAAO,UACPjmC,UAAW,4BACX0qF,MAAOphF,EAAU,4EACjB4c,OAAQ,CACNzE,MAAOwwE,EACPG,UAAWH,MAMf,YAAGj2F,EAAgB,uBACrB,iBAAOwW,EAAS,CACd,QAAW,CACTyzB,MAAO,UACPjmC,UAAW,4BACX0qF,MAAOphF,EAAU,6BACjB4c,OAAQ,CACNzE,MAAOwwE,EACPG,UAAWH,MAMdpC,EAAUpwB,QAAQhkE,EAAS,gBAE9B,iBAAO+W,EAAS,CACd,QAAW,CACTyzB,MAAO,OACPjmC,UAAW,wBACX0qF,MAAOphF,EAAU,eACjB4c,OAAQ,CACNzE,MAAO,SAAehT,EAAOhT,GAC3B,IAAIotB,EAAW,iBA/HzB,SAAgCptB,GAC9B,IACI42F,EAAmBplF,EAAOgb,eAC1B04B,EAAMjB,EAAW4qC,OAAO7uF,GAASqtB,KACjCwpE,EAAcD,EAAiB71C,wBAC/B+1C,EAAU5xC,EAAInE,wBACdp4C,EAAMmuF,EAAQnuF,IAAMkuF,EAAYluF,IAMpC,MAJU,CACRT,EAFS4uF,EAAQhuF,KAAO+tF,EAAY/tF,KAGpCT,EAAGM,EAAMmuF,EAAQvuF,OATJ,GA8HewuF,CAAuB/2F,GAAU,CACrDukF,OAAQ,CACNr8E,EAAG8K,EAAM9K,EACTG,EAAG2K,EAAM3K,KAGb+rF,EAAU33C,KAAKz8C,EAAS,cAAeotB,QAQjD,IAAI4pE,EAAgBvrE,EAAMF,QAAQ,kBAAmB,CACnD7gB,SAAU,CAAC1K,KAqBb,OAlBI,kBAAQg3F,KAEVA,EAAgBA,EAAc,KAAOh3F,GAGnCg3F,GACF,iBAAOjgF,EAAS,CACd,OAAU,CACRyzB,MAAO,OACPjmC,UAAW,iBACX0qF,MAAOphF,EAAU,UACjB4c,OAAQ,CACNzE,MAjKR,SAAuB/kB,GACrB2V,EAASqgF,eAAe,CAACj3F,SAsKpB+W,GC/NM,QACb/C,YAAa,CAAC,KAAkB,GAAmB,IAAkB,GAAgB,GAAe,IACpGD,SAAU,CAAC,sBACXmjF,mBAAoB,CAAC,OAAQf,KCoBhB,SAASgB,GACpB9rE,EACA7Z,EACAm5B,EACA+G,GAEFluC,KAAKkO,QAAUF,EACfhO,KAAKonC,iBAAmBD,EACxBnnC,KAAK+2C,gBAAkB7I,EAGvBluC,KAAK4zF,mBAAqB/rE,EAASjZ,IAAI,qBAAqB,GAC5D5O,KAAK6zF,UAAYhsE,EAASjZ,IAAI,YAAY,GAG5C+kF,GAAkBplF,QAAU,CAC1B,WACA,SACA,kBACA,kBAqBFolF,GAAkBn0F,UAAU8nF,YAAc,SAAS33E,EAASm8E,EAAYh8E,GAEtEA,EAAQA,GAAS,GAEjB,IAUIgsB,EAgLqBv0B,EACrBusF,EA3LAC,EAAuBpkF,EAAQokF,qBAC/BC,EAAgBrkF,EAAQqkF,cACxBnrF,EAASiH,EAAMjH,OACfvL,EAASwS,EAAMxS,OACfsJ,EAAYkJ,EAAMlJ,UAClBsgF,EAAkBp3E,EAAMo3E,gBACxBC,EAAgBr3E,EAAMq3E,cACtBE,EAAWv3E,EAAMu3E,SACjBD,EAAat3E,EAAMs3E,WACnB6M,EAASnkF,EAAMmkF,OAGf/oF,EAAOlL,KAEN+zF,IACHA,EAAuBpkF,EAAQokF,qBAAuB/zF,KAAKk0F,8BAG7D,aAASH,GAEJC,IACHA,EAAgBrkF,EAAQqkF,eAqKDzsF,EArKmC,SAASukF,EAAYjjF,EAAQvL,GACrF,OAAO4N,EAAK8oF,cAAclI,EAAYjjF,EAAQvL,IAqK9Cw2F,EAAe,GAOZ,SAASK,GACd,IAAIthF,EAAMqiE,KAAKC,UAAUgf,GAErBlmE,EAAc6lE,EAAajhF,GAM/B,OAJKob,IACHA,EAAc6lE,EAAajhF,GAAOtL,EAAGgY,MAAM,KAAM7b,YAG5CuqB,KAjLL69D,IACFhwD,EAAak4D,EAAclI,EAAYjjF,EAAQvL,IAG5Cw+B,GAKLA,EAAWl1B,UAAYA,GAAa,GAGhC5G,KAAK6zF,YAAcxM,IACrBvrD,EAAWl1B,UAAY5G,KAAK6zF,UAAUO,iBAAiBt4D,EAAY,CACjEjzB,OAAQA,EACRvL,OAAQA,EACR4pF,gBAAiBA,EACjBC,cAAeA,EACfvgF,UAAWkJ,EAAMlJ,WAAak1B,EAAWl1B,aAKxCk1B,EAAWl1B,WAAck1B,EAAWl1B,UAAUvH,SACjDy8B,EAAWl1B,UAAY,CACrBiC,EAAS,YAAOA,GAAUq+E,EAC1B5pF,EAAS,YAAOA,GAAU6pF,IAK1BnnF,KAAK4zF,qBAAuB/qF,GAAUvL,KAAY8pF,IACpDtrD,EAAWl1B,UAAY5G,KAAK4zF,mBAAmB9M,oBAAoBhrD,EAAYjzB,EAAQvL,IAGzF0C,KAAKonC,iBAAiB7B,eAAewuD,EAAsBj4D,KA9BxDm4D,GAAUj0F,KAAKq0F,gBAAgBN,EAAsBjkF,IA2C1D6jF,GAAkBn0F,UAAU60F,gBAAkB,SAASN,EAAsBjkF,GAC3E,IAAIjH,EAASiH,EAAMjH,OACfvL,EAASwS,EAAMxS,OACfyc,EAAQjK,EAAMo3E,iBAAmB,YAAOr+E,GACxCiR,EAAMhK,EAAMq3E,eAAiB,YAAO7pF,GAEpCsJ,EAAY5G,KAAKymF,cAAc1sE,EAAOD,EAAKjR,EAAQvL,GAEnDw+B,EAAa97B,KAAKs0F,qBAAqB1tF,EAAU,GAAIA,EAAU,IAEnE,aAAUmtF,EAAsBj4D,IAalC63D,GAAkBn0F,UAAUinF,cAAgB,SAAS1sE,EAAOD,EAAKjR,EAAQvL,GACvE,IAAI6pC,EAAkBnnC,KAAKonC,iBACvBmtD,EAAa1rF,GAAUs+B,EAAgB3B,aAAa38B,GACpD2rF,EAAal3F,GAAU6pC,EAAgB3B,aAAaloC,GACpD2oC,EAAiBkB,EAAgB1B,kBAAkB,CAAE7+B,UAAW,CAAEmT,EAAOD,KAK7E,MAAO,CAHPC,EAASlR,GAAU,YAA2B0rF,EAAYtuD,GAAgB,IAAUlsB,EACpFD,EAAOxc,GAAU,YAA2Bk3F,EAAYvuD,GAAgB,IAAWnsB,IAWrF65E,GAAkBn0F,UAAU+nF,QAAU,SAAS53E,GACzCA,GAAWA,EAAQokF,sBACrB,aAAUpkF,EAAQokF,uBAWtBJ,GAAkBn0F,UAAUw0F,cAAgB,SAASlI,GACnD,IAAIntF,EAqFN,SAA+BmtF,GAC7B,OAAI,mBAASA,GACJA,EAEA,GAzFG2I,CAAsB3I,GAElC,OAAO9rF,KAAK+2C,gBAAgB9b,iBAAiBt8B,IAS/Cg1F,GAAkBn0F,UAAU00F,2BAA6B,WACvD,IAAIvjF,EAAM,aAAU,KAUpB,OARA,aAAQA,EAAK,CACX21B,cAAe,SAGjB,aAAW31B,GAAK/P,IA1Mc,0BA4M9B,aAAUZ,KAAKkO,QAAQg7B,iBAAkBv4B,GAElCA,GAWTgjF,GAAkBn0F,UAAU80F,qBAAuB,SAASv6E,EAAOD,GACjE,IAAIgiB,EAAa,aAAU,YAW3B,OATA,aAAQA,EAAY,CAClB,OAAU,OACV,gBAAmB,CAAE,GACrB,YAAe,EACf,iBAAkB,SAGpB,aAAQA,EAAY,CAAE,OAAU,CAAE/hB,EAAMrV,EAAGqV,EAAMlV,EAAGiV,EAAIpV,EAAGoV,EAAIjV,KAExDi3B,GCtPM,QACbvrB,SAAU,CAAE,qBACZy2E,kBAAmB,CAAE,OAAQ2M,K,UCJ3B7pF,GAAc,KAEdC,GAAc,mCAEdC,GAAW,mBACX0qF,GAAoB,iBAUjB,SAASjqF,GAAW1N,EAAgB4L,GACzC,IAAI2B,EAAWvN,EAAewN,OAAOC,IAAIF,SAAS3B,GAGlD,OAAKA,EAFU2B,GAAYA,IAAavN,EAO/B,+BAMX,SAA0B4L,GAGxB,GAaF,SAAuB3K,GACrB,OAAO8L,GAAYzI,KAAKrD,GAdpB22F,CAFJhsF,EAmBF,SAA2BA,GAIzB,OAAOA,EAAGzK,QAAQw2F,GAAmB,MAvBhCE,CAAkBjsF,IAGrB,MAAO,8BAGT,IAAKqB,GAAS3I,KAAKsH,GACjB,OAAIoB,GAAY1I,KAAKsH,GACZ,8BAGF,4BAfFksF,CAAiBlsF,GAPf,wBCfI,SAASmsF,GAAiB/mF,EAAUqF,EAAUpF,EAAQqe,GACnErsB,KAAKiO,UAAYF,EACjB/N,KAAK07D,UAAYtoD,EACjBpT,KAAKkO,QAAUF,EACfhO,KAAK+0F,0BAA4B1oE,EACjCte,EAASK,GAAG,2BAA2B,SAAUoB,GAC/CxP,KAAKyrB,WAAajc,EAAMqa,KACxB,IAAIsC,EAAc,gBAAS,wBAAyBnsB,KAAKyrB,YACrDW,EAAY,gBAAS,sBAAuBpsB,KAAKyrB,YAErDzrB,KAAKg1F,OAAO7oE,EAAa,QAEzBnsB,KAAKg1F,OAAO5oE,EAAW,QACtBpsB,MAEL80F,GAAiBvmF,QAAU,CAAC,WAAY,WAAY,SAAU,4BAE9DumF,GAAiBt1F,UAAUysB,OAAS,SAAUxvB,EAAMw4F,GAClD,IAAIz4F,EAAUwD,KAAKkO,QAAQkC,iBAEvB8kF,EAAgB,GAGpB,GAFAA,EAAcz4F,GAAQw4F,EAET,OAATx4F,EAAe,CACjB,IAAI04F,EAAe1qF,GAAW,YAAkBjO,GAAUy4F,GAE1D,GAAIE,EAGF,YAFAn1F,KAAKo1F,iBAAiBD,GAKxBn1F,KAAKq1F,qBAGPr1F,KAAK07D,UAAU45B,iBAAiB94F,EAAS04F,IAG3CJ,GAAiBt1F,UAAUw1F,OAAS,SAAUn3F,EAAMpB,GAClD,IAAIyO,EAAOlL,KACXnC,EAAKE,aAAa,mBAAmB,GACrCF,EAAK+tB,iBAAiB,QAAS,oBAAS,SAAUuZ,GAChD,IAAInnC,EAAQmnC,EAAI7nC,OAAOU,OAASmnC,EAAI7nC,OAAOwgB,YAC3C5S,EAAK+gB,OAAOxvB,EAAMuB,EAAMqkC,UA/CP,MAiDnBxkC,EAAK+tB,iBAAiB,WAAW,SAAUuZ,GACrB,KAAhBA,EAAInI,UACNn/B,EAAK03F,OACL54E,OAAOC,eAAeE,sBAG1Bjf,EAAK+tB,iBAAiB,QAAQ,WAC5B1gB,EAAKmqF,qBAELnqF,EAAK6pF,0BAA0B9oE,aAInC6oE,GAAiBt1F,UAAU41F,iBAAmB,SAAUD,GACtD,IAAIK,EAAY,+CAAiDL,EAAe,UAC5E/oE,EAAY,gBAAS,sBAAuBpsB,KAAKyrB,YAErDzrB,KAAKq1F,qBAGL,kBAAWjpE,GAAWxrB,IAAI,yBAC1BwrB,EAAUqpE,cAAc93F,YAAY,iBAAO63F,KAG7CV,GAAiBt1F,UAAU61F,mBAAqB,WAC9C,IAAIjpE,EAAY,gBAAS,sBAAuBpsB,KAAKyrB,YAErD,GAAI,kBAAWW,GAAW5qB,IAAI,yBAA0B,CACtD,kBAAW4qB,GAAWjsB,OAAO,yBAC7B,IAAIu1F,EAAa,gBAAS,iCAAkC11F,KAAKyrB,YACjEW,EAAU/rB,WAAWC,YAAYo1F,K,cC7EtB,IACbllF,YAAa,CAAC,MACdD,SAAU,CAAC,2BAA4B,sCACvColF,yBAA0B,CAAC,OAAQ,IACnCrpE,mCAAoC,CAAC,OAAQC,GAAA,ICD3CqpE,GAAkB,CACpB3vF,WAAY,CAAE,IAAK,SACnBD,SAAU,CAAE,IAAK,WASJ,SAAS6vF,GAAmBziF,GACzCpT,KAAK07D,UAAYtoD,EAEjBpT,KAAK81F,SAAW,GAGhB91F,KAAK+1F,gBAAe,SAAS7uF,EAAU2zE,EAAMC,GAC3C,IAEIkb,EAFAC,EAAe,EACfC,EAAc,EAelB,OAZA,kBAAQhvF,GAAU,SAAS1K,GACrBA,EAAQoK,WAAapK,EAAQo/E,cAIjCqa,GAAgBz5F,EAAQs+E,GAExBob,GAAe,MAGjBF,EAAerxF,KAAKC,MAAMqxF,EAAeC,GAElC,iBAAOhvF,GAAU,SAAS1K,GAC/B,OAAOA,EAAQs+E,GAAckb,EAAe,SAMlDH,GAAmBtnF,QAAU,CAAE,YAS/BsnF,GAAmBr2F,UAAUu2F,eAAiB,SAASI,GACrD,GAAwB,mBAAbA,EACT,MAAM,IAAIp2F,MAAM,mCAGlBC,KAAK81F,SAASh1F,KAAKq1F,IASrBN,GAAmBr2F,UAAUg+B,QAAU,SAASt2B,EAAUm0E,GACxD,IAEI+a,EACAC,EAHAjjF,EAAWpT,KAAK07D,UAKpB,KAAIx0D,EAAS7H,OAAS,IAItBW,KAAKs2F,gBAAgBjb,GAErBgb,EAAwBr2F,KAAKu2F,gBAAgBrvF,IAE7CkvF,EAASp2F,KAAKw2F,cAAcH,IAGjBh3F,QAAU,IAMrB,OAFA+T,EAASqjF,mBAAmBL,EAAQp2F,KAAK02F,MAAO12F,KAAK22F,YAE9CP,GAUTP,GAAmBr2F,UAAU+2F,gBAAkB,SAASrvF,GACtD,IAAI0vF,EAAU52F,KAAK81F,SACfjb,EAAO76E,KAAK02F,MACZ5b,EAAY96E,KAAK22F,WACjBN,EAAwB,GAAGn9E,OAAOhS,GAEtC,OAAK0vF,EAAQv3F,QAIb,kBAAQu3F,GAAS,SAAST,GACxBE,EAAwBF,EAASE,EAAuBxb,EAAMC,MAGzDub,GAPEnvF,GA8BX2uF,GAAmBr2F,UAAUg3F,cAAgB,SAAStvF,GACpD,IAAI2vF,EAAc,GACd3rF,EAAOlL,KACP66E,EAAO76E,KAAK02F,MACZ5b,EAAY96E,KAAK22F,WAErB,IAAK9b,EACH,MAAM,IAAI96E,MAAM,8CAIlB,IAAIk7E,EAAiB,iBAAO/zE,EAAU2zE,GAiBtC,OAfA,kBAAQI,GAAgB,SAASz+E,EAASwK,GACxC,IACI6S,EADAi9E,EAAe5rF,EAAK6rF,WAAWv6F,EAASq+E,EAAMC,GAG9C1+D,EAAWy6E,EAAYA,EAAYx3F,OAAS,GAE5C+c,GAAYlR,EAAK8rF,iBAAiB56E,EAASvC,MAAOi9E,GACpDD,EAAYA,EAAYx3F,OAAS,GAAG6H,SAASpG,KAAKtE,IAElDqd,EAAQ,CAAEA,MAAOi9E,EAAc5vF,SAAU,CAAE1K,IAE3Cq6F,EAAY/1F,KAAK+Y,OAIdg9E,GASThB,GAAmBr2F,UAAU82F,gBAAkB,SAASv1E,GACtD,IAAIs6D,EAAcua,GAAgB70E,GAElC/gB,KAAK02F,MAAQrb,EAAY,GACzBr7E,KAAK22F,WAAatb,EAAY,IAYhCwa,GAAmBr2F,UAAUw3F,iBAAmB,SAASC,EAAQC,GAC/D,OAAOvyF,KAAKwmB,IAAI8rE,EAAO/rE,IAAK+rE,EAAO9rE,MAAQxmB,KAAKumB,IAAIgsE,EAAOhsE,IAAKgsE,EAAO/rE,MAChExmB,KAAKumB,IAAI+rE,EAAO/rE,IAAK+rE,EAAO9rE,MAAQxmB,KAAKwmB,IAAI+rE,EAAOhsE,IAAKgsE,EAAO/rE,MAazE0qE,GAAmBr2F,UAAUu3F,WAAa,SAASv6F,GACjD,IAAIq+E,EAAOr+E,EAAQwD,KAAK02F,OAGxB,MAAO,CACLxrE,IAAK2vD,EA1MO,EA2MZ1vD,IAAK0vD,EAJSr+E,EAAQwD,KAAK22F,YAvMf,ICTD,QACbpmF,SAAU,CAAE,sBACZkmF,mBAAoB,CAAE,OAAQZ,KCGjB,SAASsB,GAAsBV,GAC5CA,EAAmBV,gBAAe,SAAU7uF,GAC1C,OAAO,iBAAOA,GAAU,SAAU1K,GAChC,IAAI46F,EAAmB,YAAM56F,EAAS,CAAC,2BAA4B,6BAA8B,2BAA4B,kBAAmB,uBAChJ,QAASA,EAAQo/E,aAAewb,SAItCD,GAAsB5oF,QAAU,CAAC,sBCblB,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,yBACX8mF,sBAAuB,CAAC,OAAQF,KCwBnB,SAAS,GAAcppF,EAAU8Z,GAG9C7nB,KAAKq/D,SAAW,GAEhB,IAAIn0D,EAAOlL,KAEX+N,EAASK,GAAG,gBAAgB,WAI1BlD,EAAKosF,wBAAwBzvE,GAI7B9Z,EAASW,KAAK,qBAAsB,CAClCyE,cAAejI,OAkNrB,SAAS,GAAM+b,EAAQgoB,GACrB,OAAO,IAAIlvC,MAAMknB,EAAS,IAAMgoB,GA7MlC,GAAc1gC,QAAU,CACtB,WACA,YAQF,GAAc/O,UAAU83F,wBAA0B,SAASzvE,GAIzD,IAAIG,EAAeH,EAASjZ,IAAI,gBAAgB,GAC5CwE,EAAWyU,EAASjZ,IAAI,YAAY,GACpCM,EAAY2Y,EAASjZ,IAAI,aAAa,GACtCqvC,EAAap2B,EAASjZ,IAAI,cAAc,GACxC2oF,EAAY1vE,EAASjZ,IAAI,aAAa,GACtCZ,EAAS6Z,EAASjZ,IAAI,UAAU,GAChCqZ,EAAQJ,EAASjZ,IAAI,SAAS,GAC9B4oF,EAAe3vE,EAASjZ,IAAI,gBAAgB,GAC5C6oF,EAAwB5vE,EAASjZ,IAAI,yBAAyB,GAI9DoZ,IACFhoB,KAAK6V,SAAS,QAAQ,WACpBmS,EAAas3C,UAGft/D,KAAK6V,SAAS,QAAQ,WACpBmS,EAAau3C,WAIbg4B,GAAaroF,GACflP,KAAK6V,SAAS,QAAQ,WACpB,IAAIrH,EAAmBU,EAAUN,MAEjC2oF,EAAUliF,KAAK7G,MAIf+oF,GACFv3F,KAAK6V,SAAS,SAAS,WACrB0hF,EAAUG,WAIVz5C,GACFj+C,KAAK6V,SAAS,YAAY,SAASgqD,GACjC5hB,EAAWP,SAASmiB,EAAK7hE,UAIzBgQ,GACFhO,KAAK6V,SAAS,QAAQ,SAASgqD,GAC7B7xD,EAAOy9B,KAAKo0B,EAAK7hE,UAIjBoV,GAAYlE,GAAa+Y,GAC3BjoB,KAAK6V,SAAS,mBAAmB,WAE/B,IAAIrH,EAAmBU,EAAUN,MAEjC,GAAKJ,EAAiBnP,OAAtB,CAIA,IACIs4F,EADA5vE,EAAUE,EAAMF,QAAQ,kBAAmB,CAAE7gB,SAAUsH,KAG3C,IAAZuZ,IAIF4vE,EADO,kBAAQ5vE,GACKA,EAGAvZ,GAGAnP,QACpB+T,EAASqgF,eAAekE,EAAkB9wF,aAK5C2wF,GACFx3F,KAAK6V,SAAS,cAAc,SAASgqD,GACnC23B,EAAa/4C,WAAWohB,MAIxB43B,GACFz3F,KAAK6V,SAAS,iBAAiB,SAASgqD,GACtC43B,EAAsBG,cAAc/3B,EAAK9+C,UAAW8+C,EAAKg4B,iBAe/D,GAAcr4F,UAAUg+B,QAAU,SAASvW,EAAQ44C,GACjD,IAAK7/D,KAAKq/D,SAASp4C,GACjB,MAAM,GAAMA,EAjKW,8BAoKzB,OAAOjnB,KAAKq/D,SAASp4C,GAAQ44C,IA0B/B,GAAcrgE,UAAUqW,SAAW,SAAStC,EAAS8a,GACnD,IAAInjB,EAAOlL,KAEX,GAAuB,iBAAZuT,EACT,OAAOvT,KAAK8/D,gBAAgBvsD,EAAS8a,GAGvC,kBAAQ9a,GAAS,SAAS8a,EAAUpH,GAClC/b,EAAK40D,gBAAgB74C,EAAQoH,OAUjC,GAAc7uB,UAAUsgE,gBAAkB,SAAS74C,EAAQoH,GACzD,GAAIruB,KAAK+/D,aAAa94C,GACpB,MAAM,GAAMA,EAjNU,yBAoNxBjnB,KAAKq/D,SAASp4C,GAAUoH,GAQ1B,GAAc7uB,UAAUs4F,WAAa,SAAS7wE,GAC5C,IAAKjnB,KAAK+/D,aAAa94C,GACrB,MAAM,GAAMA,EA/NW,8BAkOzBjnB,KAAKq/D,SAASp4C,QAAUzoB,GAQ1B,GAAcgB,UAAUu4F,WAAa,WACnC,OAAOj5F,OAAOC,KAAKiB,KAAKq/D,WAU1B,GAAc7/D,UAAUugE,aAAe,SAAS94C,GAC9C,QAASjnB,KAAKq/D,SAASp4C,ICzPV,QACb1W,SAAU,CAAE,iBACZ4C,cAAe,CAAE,OAAQ,KCFZ,SAAS6kF,GAAiBnwE,GACvCA,EAAS6b,OAAO,GAAe1jC,MAEjC,IAASg4F,GAAkB,IAC3BA,GAAiBzpF,QAAU,CAAC,YAO5BypF,GAAiBx4F,UAAU83F,wBAA0B,SAAUzvE,GAE7D,GAAcroB,UAAU83F,wBAAwBp2F,KAAKlB,KAAM6nB,GAG3D,IAAI7Z,EAAS6Z,EAASjZ,IAAI,UAAU,GAChCc,EAAkBmY,EAASjZ,IAAI,mBAAmB,GAClDM,EAAY2Y,EAASjZ,IAAI,aAAa,GACtCqpF,EAAYpwE,EAASjZ,IAAI,aAAa,GACtCspF,EAAWrwE,EAASjZ,IAAI,YAAY,GACpCupF,EAAgBtwE,EAASjZ,IAAI,iBAAiB,GAC9C6nF,EAAqB5uE,EAASjZ,IAAI,sBAAsB,GACxDktE,EAAgBj0D,EAASjZ,IAAI,iBAAiB,GAE9CZ,GAAU0B,GAAmBR,GAC/BlP,KAAK8/D,gBAAgB,kBAAkB,WAGrC,IAAIj3B,EAAc76B,EAAOoC,iBACrBlJ,EAAWwI,EAAgBhI,QAAO,SAAUlL,GAC9C,OAAOA,IAAYqsC,KAGrB,OADA35B,EAAUZ,OAAOpH,GACVA,KAIPgI,GAAaunF,GACfz2F,KAAK8/D,gBAAgB,sBAAsB,SAAUD,GACnD,IAAI//C,EAAmB5Q,EAAUN,MAC7BnS,EAAOojE,EAAKpjE,KAEZqjB,EAAiBzgB,OAAS,GAC5Bo3F,EAAmBj5D,QAAQ1d,EAAkBrjB,MAK/CyS,GAAa4sE,GACf97E,KAAK8/D,gBAAgB,iBAAiB,SAAUD,GAC9C,IAAI//C,EAAmB5Q,EAAUN,MAC7BnS,EAAOojE,EAAKpjE,KAEZqjB,EAAiBzgB,OAAS,GAC5By8E,EAAct+C,QAAQ1d,EAAkBrjB,MAK1Cw7F,GACFj4F,KAAK8/D,gBAAgB,aAAa,WAChCm4B,EAAU32F,YAIV42F,GACFl4F,KAAK8/D,gBAAgB,YAAY,WAC/Bo4B,EAAS52F,YAIT4N,GAAaipF,GACfn4F,KAAK8/D,gBAAgB,iBAAiB,WACpC,IAAIhgD,EAAmB5Q,EAAUN,MAE7BkR,EAAiBzgB,QACnB84F,EAAc/X,SAAStgE,EAAiB,QC7EjC,QACbtP,YAAa,CAAC,IACd2C,cAAe,CAAC,OAAQ6kF,K,UCOX,SAASI,GAAY5a,EAAYtvC,EAAgBngC,EAAUsqF,GAgCxEtqF,EAASK,GAAG,gBAAgB,SAAUkH,GACpC,IAAI+P,EAAc/P,EAAK+P,YAElB,aAAWA,IAlClB,SAAkBA,GAEhB,IAAIC,EAAQD,EAAYC,MAEnBA,IACHA,EAAQk4D,EAAW76E,OAAO,eAC1B0iB,EAAYmW,IAAI,QAASlW,IAG3B,IAAIkqB,EAAUguC,EAAW76E,OAAO,oBAChC2iB,EAAMkW,IAAI,WAAY,CAACgU,IACvB,IAAIvwC,EAAQ,EACZ,kBAAQomB,EAAYzW,IAAI,eAAe,SAAU0qD,GAE/C,GAAK,YAAGA,EAAY,gBAApB,CAIA,IAAIvlB,EAAa7F,EAAe2vC,gBAAgBvkB,GAE5C7kC,EAAK+oD,EAAWI,cAActkB,EAAY,CAC5C50D,EAAG,IAAc,GAARzF,EACT4F,EAAG,IAAc,GAAR5F,EACT6F,MAAOivC,EAAWjvC,MAClBC,OAAQgvC,EAAWhvC,SAErBszF,EAAWC,eAAe7jE,EAAI+a,GAC9BvwC,QAQAs5F,CAASlzE,MAIf+yE,GAAY7pF,QAAU,CAAC,aAAc,iBAAkB,WAAY,cClDpD,QACbgC,SAAU,CAAC,eACXioF,YAAa,CAAC,OAAQJ,KCUjB,SAAS97D,GAAM9sB,GAIpB,OAAIA,EAAMgtB,SAIHhtB,EAAM8C,SAAW9C,EAAM6C,SASzB,SAASomF,GAAM15F,EAAMyQ,GAG1B,OAAoC,KAFpCzQ,EAAO,kBAAQA,GAAQA,EAAO,CAAEA,IAEpBK,QAAQoQ,EAAMqD,OAAgD,IAAjC9T,EAAKK,QAAQoQ,EAAMwtB,SAMvD,SAASP,GAAQjtB,GACtB,OAAOA,EAAMgD,SCtCR,SAASkmF,GAAS16F,EAAO26F,EAASpxF,GAKvC,OAJKA,IACHA,EAAK,SAGA5C,KAAM4C,GAAKvJ,EAAQ26F,GAAWA,ECiBxB,SAASC,GAAalpF,EAAiB3B,EAAUoS,GAE9D,IAAIygE,GAAUzgE,IAA4B,IAAlBA,EAAOygE,OAE/B5gF,KAAKiO,UAAYF,EAEjB,IAAI7C,EAAOlL,KAEX+N,EAASK,GAAG,eAdK,KAcyB,WACxClD,EAAK2tF,UAAUjY,MAGjB7yE,EAASK,GAAG,CACV,cACA,aACA,sBACA,qBACA,eACA,cACA,8BACA,6BACA,cACA,aACA,kBACA,kBA/BiB,MAgCA,SAASoB,GAC1B,IAAI8B,EAAgB9B,EAAM8B,cAE1B,MAAKpG,EAAK01E,QAAWtvE,GAAiBgrB,GAAMhrB,IAA5C,CAIA,IAAI3B,EAAUH,EAAMG,QAChBmpF,EAAsBnpF,EAAQmpF,oBAE7BA,IACHA,EAAsBnpF,EAAQmpF,oBAAsB,IAGtD,CAAE,IAAK,KAAM9xE,SAAQ,SAAS6zD,GAC5B,IAAIhtE,EAAU,GAGVkrF,EAqNV,SAAuBvpF,EAAOqrE,EAAMnrE,GAClC,IAAIC,EAAUH,EAAMG,QAChBO,EAAQV,EAAMU,MACd4oF,EAAsBnpF,EAAQmpF,oBAC9BE,EAAeF,EAAoBE,aACnCD,EAAaD,EAAoBC,WAGrC,GAAIA,GAAc,mBAASA,EAAYle,IACrC,OAAOke,EAAYle,GAGhBke,IACHA,EAAaD,EAAoBC,WAAa,IAG3C,mBAASA,EAAYle,MACxBke,EAAYle,GAAS,GAGvB,IAAK3qE,EACH,OAAO6oF,EAAYle,GAGhBnrE,EAAgBd,IAAIsB,EAAMvH,MAEzBswF,GAAape,GACfke,EAAYle,IAAU3qE,EAAO2qE,GAAS3qE,EAAMpL,MAAQ,EAEpDi0F,EAAYle,IAAU3qE,EAAO2qE,GAAS3qE,EAAMnL,OAAS,GAIzD,IAAKi0F,EACH,OAAOD,EAAYle,GAGR,MAATA,EACE,OAAOx5E,KAAK23F,GACdD,EAAYle,IAAU3qE,EAAMpL,MAAQ,EAC3B,QAAQzD,KAAK23F,KACtBD,EAAYle,IAAU3qE,EAAMpL,MAAQ,GAGlC,MAAMzD,KAAK23F,GACbD,EAAYle,IAAU3qE,EAAMnL,OAAS,EAC5B,SAAS1D,KAAK23F,KACvBD,EAAYle,IAAU3qE,EAAMnL,OAAS,GAIzC,OAAOg0F,EAAYle,GAxQEqe,CAAc1pF,EAAOqrE,EAAMnrE,GAExCqpF,IACFlrF,EAAQ4yB,OAASs4D,GAInB,IAAII,EAoHV,SAA4B3pF,EAAOqrE,GACjC,IAAIlrE,EAAUH,EAAMG,QAChBy+E,EAAoBz+E,EAAQy+E,kBAC5BgL,EAAoBzpF,EAAQypF,mBAAqB,GACjDN,EAAsBnpF,EAAQmpF,oBAC9BK,EAAkBL,EAAoBK,gBAG1C,GAAIA,GAAmBA,EAAiBte,GACtC,OAAOse,EAAiBte,GAGrBse,IACHA,EAAkBL,EAAoBK,gBAAkB,IAGrDA,EAAiBte,KACpBse,EAAiBte,GAAS,IAG5B,IAAI95D,EAAYpR,EAAQoR,UAGpBqtE,IACE6K,GAAape,IACfse,EAAgBz0F,EAAEwmB,IAAMkjE,EAAkB9oF,KAC1C6zF,EAAgBz0F,EAAEymB,IAAMijE,EAAkBhpF,QAE1C+zF,EAAgBt0F,EAAEqmB,IAAMkjE,EAAkBjpF,IAC1Cg0F,EAAgBt0F,EAAEsmB,IAAMijE,EAAkB/oF,SAK9C,IAAIg0F,EAAuBD,EAAkBluE,IACzCouE,EAAuBF,EAAkBjuE,IAEzCkuE,IACEJ,GAAape,GAEX0e,GAAOx4E,GACTo4E,EAAgBz0F,EAAEymB,IAAMkuE,EAAqB/zF,KAE7C6zF,EAAgBz0F,EAAEwmB,IAAMmuE,EAAqBj0F,MAK3Co0F,GAAQz4E,GACVo4E,EAAgBt0F,EAAEsmB,IAAMkuE,EAAqBl0F,IAE7Cg0F,EAAgBt0F,EAAEqmB,IAAMmuE,EAAqBh0F,QAM/Ci0F,IACEL,GAAape,GAEX0e,GAAOx4E,GACTo4E,EAAgBz0F,EAAEwmB,IAAMouE,EAAqBh0F,KAE7C6zF,EAAgBz0F,EAAEymB,IAAMmuE,EAAqBl0F,MAK3Co0F,GAAQz4E,GACVo4E,EAAgBt0F,EAAEqmB,IAAMouE,EAAqBn0F,IAE7Cg0F,EAAgBt0F,EAAEsmB,IAAMmuE,EAAqBj0F,QAMnD,OAAO8zF,EAAiBte,GAjME4e,CAAmBjqF,EAAOqrE,GAE5Cse,GACF,iBAAOtrF,EAASsrF,GAGb5P,GAAU/5E,EAAOqrE,IACpB3vE,EAAKwuF,UAAUlqF,EAAOqrE,EAAMhtE,UA6PpC,SAASorF,GAAape,GACpB,MAAgB,MAATA,EAGT,SAAS2e,GAAQz4E,GACf,OAAmC,IAA5BA,EAAU3hB,QAAQ,KAG3B,SAASm6F,GAAOx4E,GACd,OAAmC,IAA5BA,EAAU3hB,QAAQ,KAvP3Bw5F,GAAap5F,UAAUk6F,UAAY,SAASlqF,EAAOqrE,EAAMhtE,GAGvD47E,GAAWj6E,EAAOqrE,EAFC76E,KAAK25F,UAAUnqF,EAAOqrE,GAAQhtE,KAUnD+qF,GAAap5F,UAAUo6F,eAAiB,WACtC,OD5GmB,ICwHrBhB,GAAap5F,UAAUm6F,UAAY,SAAS37F,EAAO6P,GACjD,IAUIqd,EAAKC,EAVLsV,EAAS,EAkCb,OAhCI5yB,GAAWA,EAAQ4yB,SACrBA,EAAS5yB,EAAQ4yB,QAKnBziC,EAAQ06F,GAFR16F,GAASyiC,ED/HU,ICqIf5yB,GAAWA,EAAQqd,MACrBA,EAAMrd,EAAQqd,IAEV,mBAASA,KACXA,EAAMwtE,GAASxtE,EAAMuV,EDzIN,GCyIuB,QAEtCziC,EAAQ2G,KAAKwmB,IAAIntB,EAAOktB,KAIxBrd,GAAWA,EAAQsd,MACrBA,EAAMtd,EAAQsd,IAEV,mBAASA,KACXA,EAAMutE,GAASvtE,EAAMsV,EDnJN,GCmJuB,SAEtCziC,EAAQ2G,KAAKumB,IAAIltB,EAAOmtB,KAI5BntB,GAASyiC,GAKXm4D,GAAap5F,UAAUg/C,SAAW,WAChC,OAAOx+C,KAAK4gF,QAGdgY,GAAap5F,UAAUq5F,UAAY,SAASjY,GAC1C5gF,KAAK4gF,OAASA,EAEd5gF,KAAKiO,UAAUS,KAAK,sBAAuB,CAAEkyE,OAAQA,KAGvDgY,GAAap5F,UAAUq6F,aAAe,WACpC75F,KAAK64F,WAAW74F,KAAK4gF,SAGvBgY,GAAarqF,QAAU,CACrB,kBACA,WACA,uB,yBC7Ia,SAASyL,GAAmBjM,GACzC/N,KAAKiO,UAAYF,EAGnBiM,GAAmBzL,QAAU,CAAE,YAmB/ByL,GAAmBxa,UAAU4O,GAAK,SAASa,EAAQgL,EAAMC,EAAUC,EAAWnY,EAAQoY,GAsBpF,IApBI,qBAAWH,IAAS,mBAASA,MAC/BG,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EAAWD,EACXA,EAAO,MAGL,qBAAWC,KACbE,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EA9DmB,KAiEjB,mBAASlY,KACXoY,EAAOpY,EACPA,GAAS,IAGN,qBAAWmY,GACd,MAAM,IAAIpa,MAAM,gCAGb,kBAAQkP,KACXA,EAAS,CAAEA,IAGb,IAAIlB,EAAW/N,KAAKiO,UAEpB,kBAAQgB,GAAQ,SAASO,GAGvB,IAAI6K,EAAY,CAAE,eAAgB7K,EAAOyK,GAAOvS,QAAO,SAASjK,GAAK,OAAOA,KAAMwD,KAAK,KAEvF8M,EAASK,GAAGiM,EAAWH,EAAUlY,EAtDrC,SAAqBuF,EAAI6S,GACvB,OAAO,SAAS5K,GACd,OAAOjI,EAAGrG,KAAKkZ,GAAQ,KAAM5K,EAAMG,QAASH,EAAM8K,QAAS9K,IAoDjB+K,CAAYJ,EAAWC,GAAQD,EAAWC,OCjFzE,SAAS0/E,GAAe/rF,EAAUgsF,GAC/C//E,GAAmB9Y,KAAKlB,KAAM+N,GAE9B/N,KAAKg6F,cAAgBD,EAErB,IAAI7uF,EAAOlL,KAEXA,KAAKi6F,WAAW,gBAAgB,SAASzqF,GACvC,IAAIG,EAAUH,EAAMG,QAEhBuqF,GADQvqF,EAAQG,OAAS,IACNoqF,WAEvB,GAAKA,EAAL,CAIA,IAAIhqF,EAAQP,EAAQO,MAChBiqF,EAAYxqF,EAAQwqF,UAEpB,mBAASD,GACXvqF,EAAQwqF,UAAYjvF,EAAKkvF,YAAYD,EAAWD,GAEhDvqF,EAAQwqF,UAAYjvF,EAAKmvF,WAAWnqF,EAAOiqF,ODkFjD,kBAlBY,CACV,aACA,aACA,cACA,UACA,WACA,cACA,eACA,SACA,aASa,SAASlgF,GActBD,GAAmBxa,UAAUya,GAAQ,SAAShL,EAAQiL,EAAUC,EAAWnY,EAAQoY,IAE7E,qBAAWnL,IAAW,mBAASA,MACjCmL,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EAAWjL,EACXA,EAAS,MAGXjP,KAAKoO,GAAGa,EAAQgL,EAAMC,EAAUC,EAAWnY,EAAQoY,OCrGvD0/E,GAAevrF,QAAU,CACvB,WACA,eACA,YAGF,KAASurF,GAAgB9/E,IAUzB8/E,GAAet6F,UAAU66F,WAAa,SAASnqF,EAAOiqF,GACpD,IAAIJ,EAAe/5F,KAAKg6F,cAaxB,OAXAG,EAAUr1F,MAAQi1F,EAAaJ,UAAUQ,EAAUr1F,MAAO,CACxDomB,IAAKivE,EAAUr1F,QAGjBq1F,EAAUp1F,OAASg1F,EAAaJ,UAAUQ,EAAUp1F,OAAQ,CAC1DmmB,IAAKivE,EAAUp1F,SAGjBo1F,EAAUz1F,EAAIwL,EAAMxL,EAAKwL,EAAMpL,MAAQ,EAAMq1F,EAAUr1F,MAAQ,EAC/Dq1F,EAAUt1F,EAAIqL,EAAMrL,EAAKqL,EAAMnL,OAAS,EAAMo1F,EAAUp1F,OAAS,EAE1Do1F,GAWTL,GAAet6F,UAAU46F,YAAc,SAASD,EAAWG,GASzD,MARI,MAAMj5F,KAAKi5F,KACbH,EAAYn6F,KAAKu6F,iBAAiBJ,EAAWG,IAG3C,MAAMj5F,KAAKi5F,KACbH,EAAYn6F,KAAKw6F,eAAeL,EAAWG,IAGtCH,GAWTL,GAAet6F,UAAU+6F,iBAAmB,SAASJ,EAAWG,GAC9D,IAAIP,EAAe/5F,KAAKg6F,cACpBS,EAAO,IAAIp5F,KAAKi5F,GAChBI,EAAO,IAAIr5F,KAAKi5F,GAEhBK,EAAmB,GA4BvB,OA1BAA,EAAiB71F,MAAQi1F,EAAaJ,UAAUQ,EAAUr1F,MAAO,CAC/DomB,IAAKivE,EAAUr1F,QAGb41F,IAGED,GACFE,EAAiBj2F,EAAIq1F,EAAaJ,UAAUQ,EAAUz1F,EAAG,CACvDymB,IAAKgvE,EAAUz1F,IAGjBi2F,EAAiB71F,OAASi1F,EAAaJ,UAAUQ,EAAUz1F,EAAIi2F,EAAiBj2F,EAAG,CACjFwmB,IAAKivE,EAAUz1F,EAAIi2F,EAAiBj2F,KAMtCy1F,EAAUz1F,EAAIy1F,EAAUz1F,EAAIy1F,EAAUr1F,MAAQ61F,EAAiB71F,OAKnE,iBAAOq1F,EAAWQ,GAEXR,GAWTL,GAAet6F,UAAUg7F,eAAiB,SAASL,EAAWG,GAC5D,IAAIP,EAAe/5F,KAAKg6F,cACpBY,EAAQ,IAAIv5F,KAAKi5F,GACjBO,EAAQ,IAAIx5F,KAAKi5F,GAEjBK,EAAmB,GA4BvB,OA1BAA,EAAiB51F,OAASg1F,EAAaJ,UAAUQ,EAAUp1F,OAAQ,CACjEmmB,IAAKivE,EAAUp1F,SAGb61F,IAGEC,GACFF,EAAiB91F,EAAIk1F,EAAaJ,UAAUQ,EAAUt1F,EAAG,CACvDsmB,IAAKgvE,EAAUt1F,IAGjB81F,EAAiB51F,QAAUg1F,EAAaJ,UAAUQ,EAAUt1F,EAAI81F,EAAiB91F,EAAG,CAClFqmB,IAAKivE,EAAUt1F,EAAI81F,EAAiB91F,KAMtCs1F,EAAUt1F,EAAIs1F,EAAUt1F,EAAIs1F,EAAUp1F,OAAS41F,EAAiB51F,QAKpE,iBAAOo1F,EAAWQ,GAEXR,GC7KM,SAASW,GAAkB/sF,EAAUgsF,GAClDhsF,EAASK,GAAG,CACV,iBACA,iBARgB,KASA,SAASoB,GACzB,IAQIg6E,EARA75E,EAAUH,EAAMG,QAEfA,EAAQorF,cAQA,MAJFprF,EAAQkrE,MAOjB2O,EAAUuQ,EAAaJ,UAAUnqF,EAAMw7B,IAEvCx7B,EAAM9K,EAAI8K,EAAM9K,EAAI8kF,EAAUh6E,EAAMw7B,GACpCx7B,EAAMw7B,GAAKw+C,IAIXA,EAAUuQ,EAAaJ,UAAUnqF,EAAMy7B,IAEvCz7B,EAAM3K,EAAI2K,EAAM3K,EAAI2kF,EAAUh6E,EAAMy7B,GACpCz7B,EAAMy7B,GAAKu+C,OAKjBsR,GAAkBvsF,QAAU,CAC1B,WACA,gBCrCa,ICCA,IACbiC,YAAa,CDFA,CACbD,SAAU,CACR,6BACA,iCAEFyqF,2BAA4B,CAAE,OAAQlB,IACtCmB,8BAA+B,CAAE,OAAQH,MCHzCvqF,SAAU,CAAE,gBACZwpF,aAAc,CAAE,OAAQnB,KCyCX,SAAS,GAASz4E,EAAQpS,GACvC,IAAI7C,EAAOlL,KAEXA,KAAKo9B,QAAUjd,GAAU,GACzBngB,KAAKiO,UAAYF,EAEjB/N,KAAKk7F,gBAAkBl7F,KAAKk7F,gBAAgB73E,KAAKrjB,MACjDA,KAAKm7F,cAAgBn7F,KAAKm7F,cAAc93E,KAAKrjB,MAG7C+N,EAASK,GAAG,mBAAmB,WAC7BlD,EAAK2xB,MAAM,WAEX3xB,EAAKqY,YAGPxV,EAASK,GAAG,gBAAgB,WAC1BlD,EAAK2xB,MAAM,WAGb9uB,EAASK,GAAG,UAAU,WAChB+R,GAAUA,EAAOod,QACnBryB,EAAKmY,KAAKlD,EAAOod,WAIrBxvB,EAASK,GAAG,UAAU,WACpBlD,EAAKqY,YAIT,GAAShV,QAAU,CACjB,kBACA,YAGF,GAAS/O,UAAU07F,gBAAkB,SAAS1rF,GAC5CxP,KAAKm9B,YAAY3tB,EApEC,qBAuEpB,GAAShQ,UAAU27F,cAAgB,SAAS3rF,GAC1CxP,KAAKm9B,YAAY3tB,EAvED,mBA0ElB,GAAShQ,UAAU29B,YAAc,SAAS3tB,EAAO/S,GAG/C,IAAIuD,KAAKo7F,gBAAgB5rF,GAAzB,CAIA,IAAIG,EAAU,CACZ0rF,SAAU7rF,GAGKxP,KAAKiO,UAAUS,KAAKjS,GAtFnB,mBAsF0CkT,IAG1DH,EAAM4S,mBAIV,GAAS5iB,UAAU47F,gBAAkB,SAAS5rF,GAC5C,OA0FelS,EA1FAkS,EAAMlS,UA2FH,kBAAWA,EAAQ,oBAAiD,SAA3BA,EAAOg+F,kBA3FlCt7F,KAAKu7F,sBAAsB/rF,GA0F7D,IAAiBlS,GAvFjB,GAASkC,UAAU+7F,sBAAwB,SAAS/rF,GAClD,OAAK8sB,GAAM9sB,KAIYxP,KAAKw7F,qBAAqBhsF,EAAMlS,QAC9Bm+F,SAASjsF,EAAMqD,MAG1C,GAASrT,UAAUg8F,qBAAuB,SAASh/F,GACjD,IAAIk/F,EAAoB,kBAAWl/F,EAAS,gCAAuC,GAEnF,OAAKk/F,GAAsB17F,KAAKk9B,QAAUl9B,KAAKk9B,MAAMv7B,SAAS+5F,GACrD,GAGFA,EAAkBh9F,aA9GK,8BA8GmC+C,MAAM,MAGzE,GAASjC,UAAU6jB,KAAO,SAASxlB,GAGjCmC,KAAKujB,SAELvjB,KAAKk9B,MAAQr/B,EAGb,QAASwlB,KAAKxlB,EAAM,UAAWmC,KAAKk7F,iBAAiB,GACrD,QAAS73E,KAAKxlB,EAAM,QAASmC,KAAKm7F,eAAe,GAEjDn7F,KAAK68B,MAAM,SAGb,GAASr9B,UAAUm8F,WAAa,WAC9B,OAAO37F,KAAKk9B,OAGd,GAAS19B,UAAU+jB,OAAS,WAC1B,IAAI1lB,EAAOmC,KAAKk9B,MAEZr/B,IACFmC,KAAK68B,MAAM,UAGX,QAAStZ,OAAO1lB,EAAM,UAAWmC,KAAKk7F,iBAAiB,GACvD,QAAS33E,OAAO1lB,EAAM,QAASmC,KAAKm7F,eAAe,IAGrDn7F,KAAKk9B,MAAQ,MAGf,GAAS19B,UAAUq9B,MAAQ,SAASrtB,GAClCxP,KAAKiO,UAAUS,KAAK,YAAcc,EAAO,CAAE3R,KAAMmC,KAAKk9B,SAYxD,GAAS19B,UAAUo8F,YAAc,SAAS1hF,EAAUmU,EAAU5xB,GACxD,qBAAWyd,KACbzd,EAAO4xB,EACPA,EAAWnU,EACXA,EAhKmB,KAmKrBla,KAAKiO,UAAUG,GAAG3R,GAxKA,mBAwKuByd,EAAUmU,IAGrD,GAAS7uB,UAAUq8F,eAAiB,SAASxtE,EAAU5xB,GACrDuD,KAAKiO,UAAU6f,IAAIrxB,GA5KD,mBA4KwB4xB,IAG5C,GAAS7uB,UAAUs8F,YR1LZ,SAAqBtsF,GAC1B,OAAQA,EAAM8C,SAAW9C,EAAM6C,SAAW7C,EAAMgD,UAAYhD,EAAMgtB,QQ0LpE,GAASh9B,UAAU88B,MAAQA,GAC3B,GAAS98B,UAAUi9B,QAAUA,GAC7B,GAASj9B,UAAUi5F,MAAQA,GC7L3B,IAOWsD,GAAY,CAAC,IAAK,IALN,IAMZC,GAAa,CAAE,IAAK,IALR,IAMZC,GAAY,CAAE,IAAK,IALP,IAMZC,GAAY,CAAE,IAAK,IALP,IAiBR,SAASC,GAAiBpuF,EAAUquF,GAEjD,IAAIlxF,EAAOlL,KAEX+N,EAASK,GAAG,qBA1BK,KA0B+B,SAASoB,GAEvD,IAAI2D,EAAgB3D,EAAM2D,cAE1BjI,EAAKmxF,iBAAiBD,EAAUjpF,MAIpCgpF,GAAiB5tF,QAAU,CACzB,WACA,YAUF4tF,GAAiB38F,UAAU68F,iBAAmB,SAASD,EAAUjpF,GAS/D,SAASyoF,EAAY30E,EAAQ1f,GAEvB4L,EAAc4sD,aAAa94C,IAC7Bm1E,EAASR,YAAYr0F,GAOzBq0F,EAAY,QAAQ,SAASjsF,GAE3B,IAAIH,EAAQG,EAAQ0rF,SAEpB,GAAI/+D,GAAM9sB,KAAWitB,GAAQjtB,IAAUipF,GAAMyD,GAAW1sF,GAGtD,OAFA2D,EAAcqqB,QAAQ,SAEf,KAOXo+D,EAAY,QAAQ,SAASjsF,GAE3B,IAAIH,EAAQG,EAAQ0rF,SAEpB,GAAI/+D,GAAM9sB,KAAWipF,GAAMwD,GAAWzsF,IAAWipF,GAAMyD,GAAW1sF,IAAUitB,GAAQjtB,IAGlF,OAFA2D,EAAcqqB,QAAQ,SAEf,KAMXo+D,EAAY,QAAQ,SAASjsF,GAE3B,IAAIH,EAAQG,EAAQ0rF,SAEpB,GAAI/+D,GAAM9sB,IAAUipF,GAAMsD,GAAWvsF,GAGnC,OAFA2D,EAAcqqB,QAAQ,SAEf,KAMXo+D,EAAY,SAAS,SAASjsF,GAE5B,IAAIH,EAAQG,EAAQ0rF,SAEpB,GAAI/+D,GAAM9sB,IAAUipF,GAAMuD,GAAYxsF,GAGpC,OAFA2D,EAAcqqB,QAAQ,UAEf,KAMXo+D,EAAY,YAAY,SAASjsF,GAE/B,IAAIH,EAAQG,EAAQ0rF,SAIpB,GAAI5C,GAAM,CAAE,IAAK,MAAO,KAAOjpF,IAAU8sB,GAAM9sB,GAG7C,OAFA2D,EAAcqqB,QAAQ,WAAY,CAAEx/B,MAAO,KAEpC,KAMX49F,EAAY,YAAY,SAASjsF,GAE/B,IAAIH,EAAQG,EAAQ0rF,SAEpB,GAAI5C,GAAM,CAAE,IAAK,YAAcjpF,IAAU8sB,GAAM9sB,GAG7C,OAFA2D,EAAcqqB,QAAQ,WAAY,CAAEx/B,OAAQ,KAErC,KAMX49F,EAAY,QAAQ,SAASjsF,GAE3B,IAAIH,EAAQG,EAAQ0rF,SAEpB,GAAI5C,GAAM,IAAKjpF,IAAU8sB,GAAM9sB,GAG7B,OAFA2D,EAAcqqB,QAAQ,OAAQ,CAAEx/B,MAAO,KAEhC,KAMX49F,EAAY,mBAAmB,SAASjsF,GAItC,GAAI8oF,GAAM,CAAC,YAAa,SAAU,OAFtB9oF,EAAQ0rF,UAKlB,OAFAloF,EAAcqqB,QAAQ,oBAEf,MCzKE,QACbjtB,SAAU,CAAE,WAAY,oBACxB6rF,SAAU,CAAE,OAAQ,IACpBE,iBAAkB,CAAE,OAAQH,KCGf,SAASI,GAAoB10E,GAC1CA,EAAS6b,OAAOy4D,GAAkBn8F,MAEpC,IAASu8F,GAAqBJ,IAC9BI,GAAoBhuF,QAAU,CAAC,YAQ/BguF,GAAoB/8F,UAAU68F,iBAAmB,SAAUD,EAAUjpF,GAWnE,SAASyoF,EAAY30E,EAAQ1f,GACvB4L,EAAc4sD,aAAa94C,IAC7Bm1E,EAASR,YAAYr0F,GAXzB40F,GAAiB38F,UAAU68F,iBAAiBn7F,KAAKlB,KAAMo8F,EAAUjpF,GAiBjEyoF,EAAY,kBAAkB,SAAUjsF,GACtC,IAAIH,EAAQG,EAAQ0rF,SAEpB,GAAIe,EAAS3D,MAAM,CAAC,IAAK,KAAMjpF,IAAU4sF,EAAS9/D,MAAM9sB,GAEtD,OADA2D,EAAcqqB,QAAQ,mBACf,KAKXo+D,EAAY,aAAa,SAAUjsF,GACjC,IAAIH,EAAQG,EAAQ0rF,SAEpB,IAAIe,EAASN,YAAYtsF,GAIzB,OAAI4sF,EAAS3D,MAAM,CAAC,IAAK,KAAMjpF,IAC7B2D,EAAcqqB,QAAQ,cACf,QAFT,KAOFo+D,EAAY,YAAY,SAAUjsF,GAChC,IAAIH,EAAQG,EAAQ0rF,SAEpB,IAAIe,EAASN,YAAYtsF,GAIzB,OAAI4sF,EAAS3D,MAAM,CAAC,IAAK,KAAMjpF,IAC7B2D,EAAcqqB,QAAQ,aACf,QAFT,KAOFo+D,EAAY,iBAAiB,SAAUjsF,GACrC,IAAIH,EAAQG,EAAQ0rF,SAEpB,IAAIe,EAASN,YAAYtsF,GAIzB,OAAI4sF,EAAS3D,MAAM,CAAC,IAAK,KAAMjpF,IAC7B2D,EAAcqqB,QAAQ,kBACf,QAFT,MCnFW,QACbhtB,YAAa,CAAC,IACdD,SAAU,CAAC,oBACX+rF,iBAAkB,CAAC,OAAQC,KCFzBC,GAAiB,CACnBC,UAAW,GACXC,qBAAsB,KAaT,SAASC,GACpBx8E,EACAi8E,EACApuF,GAGF,IAAI9C,EAAOlL,KAEXA,KAAKo9B,QAAU,iBAAO,GAAIo/D,GAAgBr8E,GAAU,IAEpDi8E,EAASR,aAGT,SAAwBjsF,GAEtB,IAAIH,EAAQG,EAAQ0rF,SAChBl7E,EAASjV,EAAKkyB,QAElB,IAAKg/D,EAAS9/D,MAAM9sB,GAClB,OAGF,GAAI4sF,EAAS3D,MAAM,CACjB,YAAa,OACb,UAAW,KACX,YAAa,OACb,aAAc,SACbjpF,GAAQ,CAET,IAMIuR,EANA67E,EACFR,EAAS3/D,QAAQjtB,GACf2Q,EAAOu8E,qBACPv8E,EAAOs8E,UAKX,OAAQjtF,EAAMqD,KACd,IAAK,YACL,IAAK,OACHkO,EAAY,OACZ,MACF,IAAK,UACL,IAAK,KACHA,EAAY,KACZ,MACF,IAAK,aACL,IAAK,QACHA,EAAY,QACZ,MACF,IAAK,YACL,IAAK,OACHA,EAAY,OASd,OALA7V,EAAKuzC,WAAW,CACdm+C,MAAOA,EACP77E,UAAWA,KAGN,MAIX/gB,KAAKy+C,WAAa,SAASohB,GAEzB,IAAI70B,EAAK,EACLC,EAAK,EAGL4xD,EAFQh9B,EAAK+8B,MAESj4F,KAAKumB,IAAIvmB,KAAK2R,KAAKtI,EAAOqc,UAAUpZ,OAAQ,GAEtE,OAAQ4uD,EAAK9+C,WACb,IAAK,OACHiqB,EAAK6xD,EACL,MACF,IAAK,KACH5xD,EAAK4xD,EACL,MACF,IAAK,QACH7xD,GAAM6xD,EACN,MACF,IAAK,OACH5xD,GAAM4xD,EAIR7uF,EAAO88B,OAAO,CACZE,GAAIA,EACJC,GAAIA,KAOV0xD,GAAapuF,QAAU,CACrB,sBACA,WACA,UCjHa,QACbiC,YAAa,CACX,IAEFD,SAAU,CAAE,gBACZinF,aAAc,CAAE,OAAQmF,KCLtB,GAAiB,CACnBF,UAAW,EACXC,qBAAsB,IAUpBI,GAAmB,CACrBC,UANS,OAOTC,KAPS,OAQTC,QAPO,KAQPC,GARO,KASPC,WARU,QASVC,MATU,QAUVC,UATS,OAUTC,KAVS,QAaPC,GAAmB,CACrBj4F,KAAM,SAASs3F,GACb,MAAO,CACLl4F,GAAIk4F,EACJ/3F,EAAG,IAGP24F,GAAI,SAASZ,GACX,MAAO,CACLl4F,EAAG,EACHG,GAAI+3F,IAGRx3F,MAAO,SAASw3F,GACd,MAAO,CACLl4F,EAAGk4F,EACH/3F,EAAG,IAGP44F,KAAM,SAASb,GACb,MAAO,CACLl4F,EAAG,EACHG,EAAG+3F,KAkBM,SAASc,GACpBv9E,EACAi8E,EACAhpF,EACA6U,EACA/Y,GAGF,IAAIhE,EAAOlL,KAEXA,KAAKo9B,QAAU,iBAAO,GAAI,GAAgBjd,GAAU,IAEpDi8E,EAASR,YAtEW,MAsEkB,SAASpsF,GAE7C,IAAI6rF,EAAW7rF,EAAM6rF,SAEjBt6E,EAAY+7E,GAAiBzB,EAASxoF,KAE1C,GAAKkO,IAIDq7E,EAAS9/D,MAAM++D,GAAnB,CAIA,IAAIxD,EAAcuE,EAAS3/D,QAAQ4+D,GAInC,OAFAnwF,EAAK0sF,cAAc72E,EAAW82E,IAEvB,MAWT73F,KAAK43F,cAAgB,SAAS72E,EAAW82E,GAEvC,IAAIrpF,EAAmBU,EAAUN,MAEjC,GAAKJ,EAAiBnP,OAAtB,CAIA,IAAIu9F,EAAQ58F,KAAKo9B,QACfy6D,EACE,uBACA,aAGAvgF,EAAQimF,GAAiBx8E,GAAW67E,GAE1B30E,EAAMF,QAAQ,gBAAiB,CAC3Cu0D,OAAQ9tE,KAIR4E,EAASuqF,aAAanvF,EAAkB8I,KAM9ComF,GAAsBnvF,QAAU,CAC9B,+BACA,WACA,WACA,QACA,aCxIa,QACbiC,YAAa,CACX,GACA,KAEFD,SAAU,CACR,yBAEFknF,sBAAuB,CAAE,OAAQiG,KCqEpB,SAASE,GAAa7vF,EAAU8Z,GAO7C7nB,KAAK69F,YAAc,GAOnB79F,KAAK89F,OAAS,GAOd99F,KAAK+9F,WAAa,EAUlB/9F,KAAKg+F,kBAAoB,CACvBzqF,QAAS,GACT0qF,MAAO,GACPzgE,QAAS,MAIXx9B,KAAKu4C,UAAY1wB,EACjB7nB,KAAKiO,UAAYF,EAEjB/N,KAAK66B,KAAO,EAEZ9sB,EAASK,GAAG,CACV,kBACA,kBACC,WACDpO,KAAKO,OAAM,KACVP,MAGL49F,GAAarvF,QAAU,CAAE,WAAY,YASrCqvF,GAAap+F,UAAUw/D,QAAU,SAAS1kD,EAAS3K,GACjD,IAAK2K,EACH,MAAM,IAAIva,MAAM,oBAGlBC,KAAKg+F,kBAAkBxgE,QAAU,UAEjC,IAAIvW,EAAS,CAAE3M,QAASA,EAAS3K,QAASA,GAE1C3P,KAAKk+F,YAAYj3E,GACjBjnB,KAAKm+F,iBAAiBl3E,GACtBjnB,KAAKo+F,WAAWn3E,IAwBlB22E,GAAap+F,UAAUoQ,WAAa,SAAS0K,EAAS3K,GAEpD,IAAIsX,EAAS,CAAE3M,QAASA,EAAS3K,QAASA,GAEtCwT,EAAUnjB,KAAKq+F,YAAY/jF,GAE3BzS,EAAS7H,KAAK68B,MAAMviB,EAAS,aAAc2M,GAI/C,QAAezoB,IAAXqJ,EAAsB,CACxB,IAAKsb,EACH,OAAO,EAGLA,EAAQvT,aACV/H,EAASsb,EAAQvT,WAAWD,IAIhC,OAAO9H,GAOT+1F,GAAap+F,UAAUe,MAAQ,SAAS8f,GACtCrgB,KAAK89F,OAAOz+F,OAAS,EACrBW,KAAK+9F,WAAa,GAEL,IAAT19E,GACFrgB,KAAK68B,MAAM,UAAW,CAAEW,QAAS,WAQrCogE,GAAap+F,UAAU8/D,KAAO,WAC5B,IACIvnD,EADAkP,EAASjnB,KAAKs+F,iBAGlB,GAAIr3E,EAAQ,CAKV,IAJAjnB,KAAKg+F,kBAAkBxgE,QAAU,OAEjCx9B,KAAKk+F,YAAYj3E,GAEVA,IACLjnB,KAAKu+F,cAAct3E,IACnBlP,EAAO/X,KAAKs+F,mBAECvmF,EAAKpP,KAAOse,EAAOte,KAIhCse,EAASlP,EAGX/X,KAAKo+F,eAQTR,GAAap+F,UAAU+/D,KAAO,WAC5B,IACIxnD,EADAkP,EAASjnB,KAAKw+F,iBAGlB,GAAIv3E,EAAQ,CAKV,IAJAjnB,KAAKg+F,kBAAkBxgE,QAAU,OAEjCx9B,KAAKk+F,YAAYj3E,GAEVA,IACLjnB,KAAKm+F,iBAAiBl3E,GAAQ,IAC9BlP,EAAO/X,KAAKw+F,mBAECzmF,EAAKpP,KAAOse,EAAOte,KAIhCse,EAASlP,EAGX/X,KAAKo+F,eAWTR,GAAap+F,UAAUqW,SAAW,SAASyE,EAAS6I,GAClDnjB,KAAKy+F,YAAYnkF,EAAS6I,IAW5By6E,GAAap+F,UAAUu/D,gBAAkB,SAASzkD,EAASokF,GAEzD,IAAKpkF,IAAYokF,EACf,MAAM,IAAI3+F,MAAM,0CAGlB,IAAIojB,EAAUnjB,KAAKu4C,UAAU/U,YAAYk7D,GACzC1+F,KAAK6V,SAASyE,EAAS6I,IAGzBy6E,GAAap+F,UAAUm/F,QAAU,WAC/B,QAAS3+F,KAAKs+F,kBAGhBV,GAAap+F,UAAUo/F,QAAU,WAC/B,QAAS5+F,KAAKw+F,kBAKhBZ,GAAap+F,UAAUg/F,eAAiB,WACtC,OAAOx+F,KAAK89F,OAAO99F,KAAK+9F,UAAY,IAItCH,GAAap+F,UAAU8+F,eAAiB,WACtC,OAAOt+F,KAAK89F,OAAO99F,KAAK+9F,YAM1BH,GAAap+F,UAAU++F,cAAgB,SAASt3E,GAC9C,IAAI/b,EAAOlL,KAEPsa,EAAU2M,EAAO3M,QACjB3K,EAAUsX,EAAOtX,QAEjBwT,EAAUnjB,KAAKq+F,YAAY/jF,GAG/Bta,KAAK6+F,WAAU,WACb3zF,EAAK2xB,MAAMviB,EAAS,SAAU2M,GAE1B9D,EAAQ27E,QACV5zF,EAAK6zF,WAAW57E,EAAQ27E,OAAOnvF,IAGjCzE,EAAK8zF,gBAAgB/3E,GAErB/b,EAAK2xB,MAAMviB,EAAS,WAAY2M,OAKpC22E,GAAap+F,UAAUq9B,MAAQ,SAASviB,EAAS2kF,EAAWzvF,GACtD9L,UAAUrE,OAAS,IACrBmQ,EAAQyvF,EACRA,EAAY,MAGd,IACIrgG,EAAG3B,EAAM4K,EADThJ,EAAQogG,EAAY,CAAE3kF,EAAU,IAAM2kF,EAAWA,GAAc,CAAE3kF,GAKrE,IAFA9K,EAAQxP,KAAKiO,UAAUsd,YAAY/b,GAE9B5Q,EAAI,GAAI3B,EAAO4B,EAAMD,MACxBiJ,EAAS7H,KAAKiO,UAAUS,KAAK,gBAAkBzR,EAAMuS,IAEjDA,EAAMgc,cAHmB5sB,KAQ/B,OAAOiJ,GAGT+1F,GAAap+F,UAAU0/F,UAAY,WACjC,OAAOl/F,KAAK66B,QAGd+iE,GAAap+F,UAAUq/F,UAAY,SAASt3F,GAE1C,IAAI43F,EAAYn/F,KAAKg+F,kBAErBmB,EAAUC,QAAS,EAEnB,IACE73F,IACA,QACA43F,EAAUC,QAAS,IAIvBxB,GAAap+F,UAAU2+F,iBAAmB,SAASl3E,EAAQs4C,GACzD,IAAIr0D,EAAOlL,KAEPsa,EAAU2M,EAAO3M,QACjB3K,EAAUsX,EAAOtX,QAEjBwT,EAAUnjB,KAAKq+F,YAAY/jF,GAE/B,IAAK6I,EACH,MAAM,IAAIpjB,MAAM,sCAAwCua,EAAU,KAGpEta,KAAKk+F,YAAYj3E,GAEZs4C,IACHv/D,KAAK68B,MAAMviB,EAAS,aAAc2M,GAE9B9D,EAAQ82E,YACV92E,EAAQ82E,WAAWtqF,GAGrB3P,KAAK68B,MAAMviB,EAAS,cAAe2M,IAIrCjnB,KAAK6+F,WAAU,WAEb3zF,EAAK2xB,MAAMviB,EAAS,UAAW2M,GAE3B9D,EAAQ67C,SAGV9zD,EAAK6zF,WAAW57E,EAAQ67C,QAAQrvD,IAIlCzE,EAAKm0F,gBAAgBp4E,EAAQs4C,GAE7Br0D,EAAK2xB,MAAMviB,EAAS,WAAY2M,MAG7Bs4C,IACHv/D,KAAK68B,MAAMviB,EAAS,cAAe2M,GAE/B9D,EAAQm8E,aACVn8E,EAAQm8E,YAAY3vF,GAGtB3P,KAAK68B,MAAMviB,EAAS,eAAgB2M,IAGtCjnB,KAAKo+F,WAAWn3E,IAIlB22E,GAAap+F,UAAU0+F,YAAc,SAASj3E,GAE5C,IAAIk4E,EAAYn/F,KAAKg+F,kBACjBzqF,EAAU4rF,EAAU5rF,QAEpBgsF,EAAahsF,EAAQ,GAEzB,GAAI4rF,EAAUC,OACZ,MAAM,IAAIr/F,MAAM,8DAAgEknB,EAAO3M,QAAU,KAG9F2M,EAAOte,KACVse,EAAOte,GAAM42F,GAAcA,EAAW52F,IAAO3I,KAAKk/F,aAGpD3rF,EAAQzS,KAAKmmB,IAIf22E,GAAap+F,UAAU4+F,WAAa,WAClC,IAAIe,EAAYn/F,KAAKg+F,kBACjBxgE,EAAU2hE,EAAU3hE,QACpBjqB,EAAU4rF,EAAU5rF,QACpB0qF,EAAQkB,EAAUlB,MAEtB1qF,EAAQwuB,MAEHxuB,EAAQlU,SACXW,KAAKiO,UAAUS,KAAK,mBAAoB,CAAExH,SAAU,mBAAS,KAAM+2F,EAAMp+D,aAEzEo+D,EAAM5+F,OAAS,EAEfW,KAAK68B,MAAM,UAAW,CAAEW,QAASA,IAEjC2hE,EAAU3hE,QAAU,OAKxBogE,GAAap+F,UAAUu/F,WAAa,SAAS73F,GAC3C,IAAIi4F,EAAYn/F,KAAKg+F,kBAEhB92F,IAILA,EAAW,kBAAQA,GAAYA,EAAW,CAAEA,GAE5Ci4F,EAAUlB,MAAQkB,EAAUlB,MAAM/kF,OAAOhS,KAI3C02F,GAAap+F,UAAU6/F,gBAAkB,SAASp4E,EAAQs4C,GACxD,IAAIigC,IAAax/F,KAAK+9F,UAEjBx+B,GACHv/D,KAAK89F,OAAO18F,OAAOo+F,EAAUx/F,KAAK89F,OAAOz+F,OAAQ4nB,IAKrD22E,GAAap+F,UAAUw/F,gBAAkB,SAAS/3E,GAChDjnB,KAAK+9F,aAIPH,GAAap+F,UAAU6+F,YAAc,SAAS/jF,GAC5C,OAAOta,KAAK69F,YAAYvjF,IAG1BsjF,GAAap+F,UAAUi/F,YAAc,SAASnkF,EAAS6I,GACrD,IAAK7I,IAAY6I,EACf,MAAM,IAAIpjB,MAAM,gCAGlB,GAAIC,KAAK69F,YAAYvjF,GACnB,MAAM,IAAIva,MAAM,mCAAqCua,EAAU,KAGjEta,KAAK69F,YAAYvjF,GAAW6I,GClgBf,QACb6E,aAAc,CAAE,OAAQ41E,KCaX,SAAS6B,GACpB1xF,EAAUC,EAAQ0B,EAClBy3B,GAKFp5B,EAASK,GAAG,mBAAmB,SAASoB,GAEtC,IAAIhT,EAAUgT,EAAMhT,SAIhBA,EAAQ4D,QAAU5D,IAAYwR,EAAOoC,oBACvCZ,EAAMmB,IAAMjB,EAAgBwS,YAAY1lB,IAIrCgT,EAAMmB,KAIX5C,EAASW,KAAK,aAAelS,GAAW,WAAYgT,MAGtDzB,EAASK,GAAG,oBAAoB,SAASoB,GAEvC,IAAItI,EAAWsI,EAAMtI,SAErBA,EAAS8f,SAAQ,SAASvpB,GACxBsQ,EAASW,KAAK,kBAAmB,CAAElS,QAASiB,OAG9C0pC,EAAgB6G,mBAAmB9mC,MAGrC6G,EAASK,GAAG,iBAAiB,SAASoB,GACpC23B,EAAgBlb,OAAO,QAASzc,EAAMhT,QAASgT,EAAMmB,QAGvD5C,EAASK,GAAG,sBAAsB,SAASoB,GACzC23B,EAAgBlb,OAAO,aAAczc,EAAMhT,QAASgT,EAAMmB,QAI9D8uF,GAAclxF,QAAU,CACtB,WACA,SACA,kBACA,mBC/Da,QACbgC,SAAU,CAAE,iBACZmvF,cAAe,CAAE,OAAQD,K,UCF3B,SAASE,GAAavtD,GACpB,OAAI,YAAGA,EAAU,iBAAmB,YAAGA,EAAU,+BAAiC,YAAGA,EAAU,kBAAoB,YAAGA,EAAU,uBACvH,OAGL,YAAGA,EAAU,sBACR,YADT,EAKK,SAASwtD,GAASpjG,GACvB,IAAI41C,EAAW51C,EAAQO,eACnBwB,EAAOohG,GAAavtD,GAExB,GAAI7zC,EACF,OAAO6zC,EAAS7zC,IAAS,GCdd,SAASshG,GAAqB7xF,EAAQmqF,EAAepqF,EAAUqF,EAAU88B,GACtFlwC,KAAKkO,QAAUF,EACfhO,KAAK07D,UAAYtoD,EACjBpT,KAAK8/F,cAAgB5vD,EACrBioD,EAAcrN,iBAAiB9qF,MAE/B+N,EAASK,GAAG,oBAAoB,SAAUoB,GACxC2oF,EAAc/X,SAAS5wE,EAAMhT,YAG/BuR,EAASK,GAAG,CAAC,kBAAmB,0BAA2B,YAAa,kBAAmB,oBAAqB,mBAAmB,WACjI+pF,EAAc19B,cAGhB1sD,EAASK,GAAG,CAAC,yBAAyB,WACpC+pF,EAActX,YAEhB9yE,EAASK,GAAG,aAAc,KAAK,SAAU3Q,GACvC,IAAIjB,EAAUiB,EAAEyS,OAEZ,YAAG1T,EAAS,iBAAmB,YAAGA,EAAS,kBAAoB,YAAGA,EAAS,+BAAiC,YAAGA,EAAS,wBAA0B,YAAGA,EAAS,wBAChK27F,EAAc/X,SAAS5jF,MAG3BuR,EAASK,GAAG,gBAAiB,KAAK,SAAUoB,GAC1C2oF,EAAc/X,SAAS5wE,EAAMU,UAGjC2vF,GAAqBtxF,QAAU,CAAC,SAAU,gBAAiB,WAAY,WAAY,gBASnFsxF,GAAqBrgG,UAAU4gF,SAAW,SAAU5jF,GAClD,IAAI80C,EAAOsuD,GAASpjG,GAEpB,GAAK,oBAAU80C,GAAf,CAIA,IAAI3hC,EAAU,CACZ2hC,KAAMA,GAEJyuD,EAAc//F,KAAKggG,eAAexjG,GACtC,iBAAOmT,EAASowF,GAChB,IAAIlyF,EAAU,GAkBd,OAhBI,YAAGrR,EAAS,mBACd,iBAAOqR,EAAS,CACdoyF,kBAAkB,IAKlB,YAAGzjG,EAAS,uBACd,iBAAOqR,EAAS,CACdqyF,WAAW,IAIf,iBAAOvwF,EAAS,CACd9B,QAASA,IAEJ8B,IAaTkwF,GAAqBrgG,UAAUwgG,eAAiB,SAAUxjG,GACxD,IAAIwR,EAAShO,KAAKkO,QACd5Q,EAASd,EAAQk/B,OAASl/B,EAC1B8M,EAAO0E,EAAO8+B,gBAAgBxvC,GAE9BmH,EAAS,CACXC,EAAG4E,EAAK5E,EACRG,EAAGyE,EAAKzE,GAEN4mC,EAAOz9B,EAAOy9B,OAEdsJ,EAAe/0C,KAAK8/F,cAActqD,kBAGlC2qD,EAAkBprD,EAAaX,SAAW3I,EAC1C20D,EAAoBrrD,EAAaZ,WACjC91C,EAAQ,CACV22C,WAAYh1C,KAAK8/F,cAActqD,kBAAkBR,WACjDC,WAAYj1C,KAAK8/F,cAActqD,kBAAkBP,YAqCnD,OAlCI,YAAGz4C,EAAS,oBACd,iBAAOiI,EAAQ,CACbK,MAAOwE,EAAKxE,MACZC,OAAQuE,EAAKvE,SAEf,iBAAO1G,EAAO,CACZ+1C,SAAU+rD,EAAkB,KAC5BhsD,WAAYisD,EACZC,WAAY,EAAI50D,EAAO,KACvB60D,cAAe,EAAI70D,EAAO,KAC1B80D,YAAa,EAAI90D,EAAO,KACxB+0D,aAAc,EAAI/0D,EAAO,QAKzB,YAAGjvC,EAAS,wBACd,iBAAOiI,EAAQ,CACbK,MAAOwE,EAAKxE,MACZC,OAAQuE,EAAKvE,OACb07F,SAAU,GAAKh1D,EACfi1D,UAAW,GAAKj1D,IAElB,iBAAOptC,EAAO,CACZsiG,UAAW,OACXN,WAAY,EAAI50D,EAAO,KACvB60D,cAAe,EAAI70D,EAAO,KAC1B80D,YAAa,EAAI90D,EAAO,KACxB+0D,aAAc,EAAI/0D,EAAO,KACzB2I,SAAU+rD,EAAkB,KAC5BhsD,WAAYisD,KAIT,CACL37F,OAAQA,EACRpG,MAAOA,IAIXwhG,GAAqBrgG,UAAUysB,OAAS,SAAUzvB,EAASi/B,EAAUmlE,EAAmBn8F,GACtF,IAAI01F,EAAW7wF,EAoBIoyB,EAlBf,YAAGl/B,EAAS,wBACd8M,EAAOtJ,KAAKkO,QAAQ4+B,gBAAgBtwC,GACpC29F,EAAY,CACVz1F,EAAGlI,EAAQkI,EACXG,EAAGrI,EAAQqI,EACXC,MAAOtI,EAAQsI,MAAQwE,EAAKxE,MAAQL,EAAOK,MAC3CC,OAAQvI,EAAQuI,OAASuE,EAAKvE,OAASN,EAAOM,UAY/B22B,EARHD,IASEC,EAAM2G,SARtB5G,EAAW,MAGbz7B,KAAK07D,UAAUmlC,YAAYrkG,EAASi/B,EAAU0+D,IC7JjC,QACb3pF,YAAa,CAAC,GAAgB,GAAsB,YACpDD,SAAU,CAAC,wBACXuwF,qBAAsB,CAAC,OAAQjB,KCGlB,SAASkB,GAAyBvjB,EAAY31D,GAC3DA,EAAS6b,OAAO1pB,GAAoBha,MACpCA,KAAKi6F,WAAW,qBAAqB,SAAUtqF,GAC7C,IAAImsB,EAAansB,EAAQmsB,WACrBklE,EAAellE,EAAW/+B,eAC1B8L,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OAKjB,YAAGw+B,EAAY,qBACLklE,EAAatpD,UAAY8lC,EAAW76E,OAAO,0BAA2B,CAChFu0C,KAAM,IAAMruC,EAAOF,MAEXsvC,QAAU+oD,GACRA,EAAahpD,UAAYwlC,EAAW76E,OAAO,0BAA2B,CAChFu0C,KAAM,IAAM55C,EAAOqL,MAEXsvC,QAAU+oD,IAEPA,EAAa,WAUhC,SAA4Bn4F,GAC1B,GAAI,YAAGA,EAAQ,8BACb,MAAO,YACF,GAAI,YAAGA,EAAQ,gBACpB,MAAO,WACF,GAAI,YAAGA,EAAQ,iBACpB,MAAO,QACF,GAAI,YAAGA,EAAQ,uBACpB,MAAO,YAlBkCo4F,CAAmBp4F,IAAW20E,EAAW76E,OAAO,0BAA2B,CAChHu0C,KAAM,IAAMruC,EAAOF,MAEVsvC,QAAU+oD,KAEtB,GAELD,GAAyBxyF,QAAU,CAAC,aAAc,YAClD,IAASwyF,GAA0B/mF,ICjCpB,SAASknF,GAAyBr5E,EAAUs5E,EAAU/tF,EAAU6U,GAoC7E,SAASm5E,EAA8B9jG,EAAQ+jG,EAAyBhmB,GAEjEgmB,IACHA,EAA0B/jG,EAAOwL,SAASpB,QAAO,SAAUoB,GACzD,OAAO,YAAGA,EAAU,kCAIxB,IAAIw4F,EAA+C,GAE/CjmB,EACFimB,EAA6CjmB,GAAegmB,EAE5DC,EA0MN,SAAiDhkG,EAAQ+jG,GACvD,IAAIC,EAA+C,GAUnD,OATAD,EAAwBr6E,SAAQ,SAAUle,GACxC,IAAIuyE,EAAc,YAAevyE,EAASD,OAAQvL,GAAQmE,MAAM,KAAKC,QAEhE4/F,EAA6CjmB,KAChDimB,EAA6CjmB,GAAe,IAG9DimB,EAA6CjmB,GAAav6E,KAAKgI,MAE1Dw4F,EArN4CC,CAAwCjkG,EAAQ+jG,GAIjG,kBAAQC,GAA8C,SAAUD,EAAyBhmB,GAIvF,IAAImmB,EAiIV,SAAgCH,EAAyB/jG,EAAQ+9E,GAC/D,OAAOgmB,EAAwBvmF,KAAI,SAAU2mF,EAAwBxiG,GACnE,IAAI4J,EAAS44F,EAAuB54F,OAChCg0E,EAAY,YAAOh0E,GACnBk1E,EAAa,YAAOl1E,GACpB64F,EAAa,YAAOpkG,GACpB+B,EAASgiG,EAAwBhiG,OAErC,OAAIg8E,EAAYogB,SAAS,UAChB,CACL1hF,MAAO,CACLrV,EAAGm4E,EAAUn4E,EACbG,EAAGk5E,EAAW54E,KAEhB2U,IAAK,CACHpV,EAAGg9F,EAAWp8F,KAAOhI,EAAOwH,OAASzF,EAAS,IAAMJ,EAAQ,GAC5D4F,EAAG68F,EAAWr8F,SAGTg2E,EAAYogB,SAAS,OACvB,CACL1hF,MAAO,CACLrV,EAAGm4E,EAAUn4E,EACbG,EAAGk5E,EAAW14E,QAEhByU,IAAK,CACHpV,EAAGg9F,EAAWp8F,KAAOhI,EAAOwH,OAASzF,EAAS,IAAMJ,EAAQ,GAC5D4F,EAAG68F,EAAWv8F,MAGTk2E,EAAYogB,SAAS,SACvB,CACL1hF,MAAO,CACLrV,EAAGq5E,EAAWz4E,KACdT,EAAGg4E,EAAUh4E,GAEfiV,IAAK,CACHpV,EAAGg9F,EAAWt8F,MACdP,EAAG68F,EAAWv8F,IAAM7H,EAAOyH,QAAU1F,EAAS,IAAMJ,EAAQ,KAIzD,CACL8a,MAAO,CACLrV,EAAGq5E,EAAW34E,MACdP,EAAGg4E,EAAUh4E,GAEfiV,IAAK,CACHpV,EAAGg9F,EAAWp8F,KACdT,EAAG68F,EAAWv8F,IAAM7H,EAAOyH,QAAU1F,EAAS,IAAMJ,EAAQ,QAlLvC0iG,CAFzBN,EAsNN,SAAqCA,EAAyBhmB,GAC5D,IAAIR,EAGFA,EADEQ,EAAYogB,SAAS,QAAUpgB,EAAYogB,SAAS,UAC/C,IAEA,IAGT,OAAO4F,EAAwBj+B,MAAK,SAAUjgE,EAAGC,GAC/C,OAAO,YAAOD,EAAE0F,QAAQgyE,GAAQ,YAAOz3E,EAAEyF,QAAQgyE,MAhOrB+mB,CAA4BP,EAAyBhmB,GAEN/9E,EAAQ+9E,GAEjFgmB,EAAwBr6E,SAAQ,SAAUy6E,EAAwBxiG,GAChE,IAAIioF,EAAkBsa,EAAmBviG,GAAO8a,MAC5CotE,EAAgBqa,EAAmBviG,GAAO6a,IAC1ClT,EAAYu6F,EAAS/M,iBAAiBqN,EAAwB,CAChEva,gBAAiBA,EACjBC,cAAeA,IAEjB/zE,EAASszE,gBAAgB+a,EAAwB76F,SAjEvDihB,EAAS6b,OAAO1pB,GAAoBha,MAEpCA,KAAKi6F,WAAW,CAAC,oBAAqB,yBAAyB,SAAUtqF,GACvE,IAAImsB,EAAansB,EAAQmsB,WACrBjzB,EAAS8G,EAAQkyF,WAAalyF,EAAQ9G,OACtCvL,EAASqS,EAAQmyF,WAAanyF,EAAQrS,OAE1C,KAAI,YAAGw+B,EAAY,+BAAkC7T,EAAMF,QAAQ,qBAAsB,CACvF+T,WAAYA,EACZjzB,OAAQA,EACRvL,OAAQA,MAKL,YAAGw+B,EAAY,8BAApB,CAIA,IAAIu/C,EAAc,YAAexyE,EAAQvL,GAEpCqS,EAAQG,QACXH,EAAQG,MAAQ,IAGlB,iBAAOH,EAAQG,MA6HnB,SAA4BjH,EAAQvL,EAAQ+9E,GAC1C,IAAI6L,EAAkB,YAAOr+E,GACzBs+E,EAAgB,YAAO7pF,GAEvB+9E,EAAYogB,SAAS,WACvBvU,EAAgBriF,EAAIgE,EAAOhE,EAC3BsiF,EAActiF,EAAIvH,EAAOuH,EAAIvH,EAAOyH,QAC3Bs2E,EAAYogB,SAAS,QAC9BvU,EAAgBriF,EAAIgE,EAAOhE,EAAIgE,EAAO9D,OACtCoiF,EAActiF,EAAIvH,EAAOuH,GAChBw2E,EAAYogB,SAAS,UAC9BvU,EAAgBxiF,EAAImE,EAAOnE,EAC3ByiF,EAAcziF,EAAIpH,EAAOoH,EAAIpH,EAAOwH,QAEpCoiF,EAAgBxiF,EAAImE,EAAOnE,EAAImE,EAAO/D,MACtCqiF,EAAcziF,EAAIpH,EAAOoH,GAG3B,MAAO,CACLwiF,gBAAiBA,EACjBC,cAAeA,GAjJO4a,CAAmBl5F,EAAQvL,EAAQ+9E,QACxD,GA8CHr7E,KAAKgiG,aAAa,CAAC,oBAAqB,oBAAqB,yBAAyB,SAAUryF,GAC9F,IAAImsB,EAAansB,EAAQmsB,WACrBjzB,EAASizB,EAAWjzB,QAAU8G,EAAQ9G,OACtCvL,EAASw+B,EAAWx+B,QAAUqS,EAAQrS,OAE1C,GAAK,YAAGw+B,EAAY,8BAApB,CAIA,IAAIu/C,EAAc,YAAexyE,EAAQvL,GAErC+jG,EAA0B/jG,EAAOwL,SAASpB,QAAO,SAAUoB,GAC7D,IAAIm5F,EAAsB,YAAen5F,EAASD,OAAQC,EAASxL,QACnE,OAAO,YAAGwL,EAAU,+BAAiCo5F,GAAkBD,EAAqB5mB,MAGzFgmB,EAAwBhiG,QAI7B+hG,EAA8B9jG,EAAQ+jG,EAAyBhmB,OAC9D,GAEHr7E,KAAKi6F,WAAW,wBAAwB,SAAUtqF,GAChD,IAAImsB,EAAansB,EAAQmsB,WACrBjzB,EAASizB,EAAWjzB,OACpBvL,EAASw+B,EAAWx+B,OAExB,GAAK,YAAGw+B,EAAY,8BAApB,CAIA,IAAIu/C,EAAc,YAAexyE,EAAQvL,GAErC+jG,EAA0B/jG,EAAOwL,SAASpB,QAAO,SAAUoB,GAC7D,IAAIm5F,EAAsB,YAAen5F,EAASD,OAAQC,EAASxL,QACnE,OAAOwL,IAAagzB,GAAc,YAAGhzB,EAAU,+BAAiCo5F,GAAkBD,EAAqB5mB,MAGpHgmB,EAAwBhiG,QAI7B+hG,EAA8B9jG,EAAQ+jG,EAAyBhmB,OAC9D,GAEHr7E,KAAKgiG,aAAa,gBAxHD,KAwHgC,SAAUryF,GACzD,IAAI2sE,EAAS3sE,EAAQ2sE,OAEjB7zE,EADUkH,EAAQvH,QACYK,oBAClC6zE,EAAOt1D,SAAQ,SAAU9W,GACvB,GAAK,YAAMA,EAAO,CAAC,eAAgB,kBAAnC,CAKA,IAAIiyF,EAAkCjyF,EAAMpH,SAASpB,QAAO,SAAUoB,GACpE,OAAO,YAAGA,EAAU,gCAAkCL,EAAoBK,EAASH,OAGjFw5F,EAAgC9iG,QAClC+hG,EAA8BlxF,EAAOiyF,GAIvCjyF,EAAMnH,SAASie,SAAQ,SAAUje,GAC1B,YAAGA,EAAU,gCAAiCN,EAAoBM,EAASJ,KAIhFy4F,EAA8Br4F,EAASzL,kBAG1C,GAuHL,SAAS4kG,GAAkBE,EAAcC,GACvC,OAAOD,GAAgBC,GAAgBD,EAAa3gG,MAAM,KAAKC,UAAY2gG,EAAa5gG,MAAM,KAAKC,QC9QtF,SAAS4gG,GAA0Bz6E,EAAUzU,EAAU6U,GACpEJ,EAAS6b,OAAO1pB,GAAoBha,MACpCA,KAAKi6F,WAAW,wBAAwB,SAAUtqF,GAChD,IAAImsB,EAAansB,EAAQmsB,WACrBjzB,EAAS8G,EAAQkyF,WAAa/lE,EAAWjzB,OACzCvL,EAASqS,EAAQmyF,WAAahmE,EAAWx+B,OACzCsJ,EAAYk1B,EAAWl1B,UAAUC,QACjCkhB,EAAUE,EAAMF,QAAQ,uBAAwB,CAClD+T,WAAYA,EACZjzB,OAAQA,EACRvL,OAAQA,IAGLyqB,GAAWA,EAAQtrB,OAASq/B,EAAWr/B,OAI5CkT,EAAQmsB,WAAa1oB,EAAS24E,QAAQljF,EAAQvL,EAAQ,CACpDb,KAAMsrB,EAAQtrB,KACdmK,UAAWA,IAEbwM,EAASg3B,iBAAiBtO,OACzB,GCjBU,SAASymE,GAAwBx0F,EAAUqF,EAAUlE,GAClE8K,GAAmB9Y,KAAKlB,KAAM+N,GAC9B/N,KAAK07D,UAAYtoD,EACjBpT,KAAKgiG,aAAa,CAAC,iBAAkB,MAAM,SAAUvkG,GACnD,IAAIkS,EAAUlS,EAAEkS,QACZ6yF,EAAW7yF,EAAQ6yF,SACnBzlB,EAAWptE,EAAQotE,SACvB3pE,EAASqvF,UAAUD,EAASzlG,eAAe4L,GAAI65F,EAASzlG,gBACxDqW,EAASkiF,iBAAiBvY,EAAU,CAClCp0E,GAAI65F,EAAS75F,KAEfuG,EAAUZ,OAAOyuE,MFwIrBmkB,GAAyB3yF,QAAU,CAAC,WAAY,WAAY,WAAY,SACxE,IAAS2yF,GAA0BlnF,ICjInC,IAASsoF,GAA2BtoF,IACpCsoF,GAA0B/zF,QAAU,CAAC,WAAY,WAAY,SCN7D,IAASg0F,GAAyBvoF,IAClCuoF,GAAwBh0F,QAAU,CAAC,WAAY,WAAY,aCY5C,SAAS,GAAmBR,GACzC/N,KAAKiO,UAAYF,EAGnB,GAAmBQ,QAAU,CAAE,YAmB/B,GAAmB/O,UAAU4O,GAAK,SAASa,EAAQgL,EAAMC,EAAUC,EAAWnY,EAAQoY,GAsBpF,IApBI,qBAAWH,IAAS,mBAASA,MAC/BG,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EAAWD,EACXA,EAAO,MAGL,qBAAWC,KACbE,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EA9DmB,KAiEjB,mBAASlY,KACXoY,EAAOpY,EACPA,GAAS,IAGN,qBAAWmY,GACd,MAAM,IAAIpa,MAAM,gCAGb,kBAAQkP,KACXA,EAAS,CAAEA,IAGb,IAAIlB,EAAW/N,KAAKiO,UAEpB,kBAAQgB,GAAQ,SAASO,GAGvB,IAAI6K,EAAY,CAAE,eAAgB7K,EAAOyK,GAAOvS,QAAO,SAASjK,GAAK,OAAOA,KAAMwD,KAAK,KAEvF8M,EAASK,GAAGiM,EAAWH,EAAUlY,EAtDrC,SAAqBuF,EAAI6S,GACvB,OAAO,SAAS5K,GACd,OAAOjI,EAAGrG,KAAKkZ,GAAQ,KAAM5K,EAAMG,QAASH,EAAM8K,QAAS9K,IAoDjB,CAAY2K,EAAWC,GAAQD,EAAWC,OC9FxF,SAAS,GAAQjb,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GDiGxM,kBAlBY,CACV,aACA,aACA,cACA,UACA,WACA,cACA,eACA,SACA,aASa,SAASua,GActB,GAAmBza,UAAUya,GAAQ,SAAShL,EAAQiL,EAAUC,EAAWnY,EAAQoY,IAE7E,qBAAWnL,IAAW,mBAASA,MACjCmL,EAAOpY,EACPA,EAASmY,EACTA,EAAYD,EACZA,EAAWjL,EACXA,EAAS,MAGXjP,KAAKoO,GAAGa,EAAQgL,EAAMC,EAAUC,EAAWnY,EAAQoY,OCpHvD,IAEI,GAAgC,SAAUsoF,IAnB9C,SAAmBh3F,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUg3F,EAAkBD,GAE5B,IAxBoBv2F,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAau7E,GAE1B,SAASA,EAAiB50F,GACxB,IAAIvB,EAQJ,OAvCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAM2iG,IAEtBn2F,EAAQ4a,EAAOlmB,KAAKlB,KAAM+N,IAEpB60F,SAAS,2BAA4Bp2F,EAAMq2F,UAAUx/E,KAAK,GAAuB7W,KAEhFA,EAiCT,OApEoBL,EAsCPw2F,GAtCoB5vF,EAsCF,CAAC,CAC9BF,IAAK,YACL7U,MAAO,SAAmBsX,GACxB,IAAI3F,EAAU2F,EAAK3F,QACfnT,EAAUmT,EAAQnT,QAClBsmG,EAAgBnzF,EAAQmzF,cACxBvgD,EAAa5yC,EAAQ4yC,WACrB7lD,EAAK,YAAkBF,GAE3B,IAAIwD,KAAK+iG,iBAAiBrmG,EAAIomG,EAAevgD,GAA7C,CAIA,IAAIl9B,EAiCV,SAAwB7oB,GAGtB,IAFA,IAAI6oB,EAAc7oB,GAEV,YAAG6oB,EAAa,oBACtBA,EAAcA,EAAY4yB,QAG5B,OAAO5yB,EAxCe29E,CAAetmG,GACf2oB,EAAYzW,IAAI,cACtBoY,SAAQ,SAAUsyC,IAyCpC,SAAiC98D,EAASymG,EAAOt6F,GAC/C,IAAI0Z,EAAW,CACb6gF,qBAAsB,WACpB1mG,EAAQ0mG,qBAAqBl8E,SAAQ,SAAUk8E,GAC7C,IAAIprD,EAAoBorD,EAAqBprD,kBACzCH,EAAmBurD,EAAqBvrD,iBACxCC,EAAgBsrD,EAAqBtrD,cAErCE,GAAqBA,EAAkBZ,OAAS,IAAIh+B,OAAO+pF,KAC7DnrD,EAAkBZ,KAAO,IAAIh+B,OAAOvQ,IAGlCgvC,GAAoBA,EAAiBT,OAAS,IAAIh+B,OAAO+pF,KAC3DtrD,EAAiBT,KAAO,IAAIh+B,OAAOvQ,IAGjCivC,GAAiBA,EAAcV,OAAS,IAAIh+B,OAAO+pF,KACrDrrD,EAAcV,KAAO,IAAIh+B,OAAOvQ,QAItC84F,uBAAwB,WACtBjlG,EAAQilG,uBAAuBz6E,SAAQ,SAAUy6E,GAC/C,IAAI9pD,EAAmB8pD,EAAuB9pD,iBAC1CC,EAAgB6pD,EAAuB7pD,cAEvCD,GAAoBA,EAAiBT,OAAS,IAAIh+B,OAAO+pF,KAC3DtrD,EAAiBT,KAAO,IAAIh+B,OAAOvQ,IAGjCivC,GAAiBA,EAAcV,OAAS,IAAIh+B,OAAO+pF,KACrDrrD,EAAcV,KAAO,IAAIh+B,OAAOvQ,QAItCw6F,qBAAsB,WACpB3mG,EAAQ2mG,qBAAqBn8E,SAAQ,SAAUm8E,GAC7C,IAAItrD,EAAoBsrD,EAAqBtrD,kBAEzCA,GAAqBA,EAAkBX,OAAS,IAAIh+B,OAAO+pF,KAC7DprD,EAAkBX,KAAO,IAAIh+B,OAAOvQ,SAK5C,kBAAQ0Z,GAAU,SAAUc,EAAStQ,GAC/BrW,EAAQqW,IACVsQ,OAvFEigF,CAAwB9pC,EAAYwpC,EAAcn6F,GAAI45C,EAAW55C,OAEnD0c,EAAYzW,IAAI,YACtBoY,SAAQ,SAAUq8E,IAyFlC,SAAqC7mG,EAASymG,EAAOt6F,GACnD,IAAI0Z,EAAW,CACbq1B,UAAW,WACT,IAAIA,EAAYl7C,EAAQk7C,UAEpBA,EAAUR,OAAS,IAAIh+B,OAAO+pF,KAChCvrD,EAAUR,KAAO,IAAIh+B,OAAOvQ,KAGhCqvC,UAAW,WACT,IAAIA,EAAYx7C,EAAQw7C,UAEpBA,EAAUd,OAAS,IAAIh+B,OAAO+pF,KAChCjrD,EAAUd,KAAO,IAAIh+B,OAAOvQ,MAIlC,kBAAQ0Z,GAAU,SAAUc,EAAStQ,GAC/BrW,EAAQqW,IACVsQ,OA3GEmgF,CAA4BD,EAAUP,EAAcn6F,GAAI45C,EAAW55C,UAGtE,CACDkK,IAAK,mBACL7U,MAAO,SAA0BtB,EAAIomG,EAAe5N,GAClD,OAUN,SAAoB4N,EAAevgD,GACjC,MAxDO,OAwDMugD,GAxDN,OAwD6BvgD,EAXxBghD,CAAWT,EAAe5N,KAAmB,YAAGx4F,EAAI,oBAAsB,YAAGA,EAAI,2BAhEjB,GAAkByP,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoErP82F,EA/C2B,CAgDlC,IAGF,GAAiBp0F,QAAU,CAAC,YCzEb,QACbgC,SAAU,CAAC,2BAA4B,mBAAoB,2BAA4B,4BAA6B,0BACpHizF,yBAA0B,CAAC,OAAQzC,IACnC0C,iBAAkB,CAAC,OAAQ,IAC3BC,yBAA0B,CAAC,OAAQxC,IACnCyC,0BAA2B,CAAC,OAAQrB,IACpCsB,uBAAwB,CAAC,OAAQ,KCCpB,SAAS19E,GAAanY,GACnCiM,GAAmB9Y,KAAKlB,KAAM+N,GAE9B/N,KAAKmmB,OCPQ,SAAS09E,GAASh8E,GAC/BA,EAAS6b,OAAOxd,GAAclmB,MA6ChC,SAAS,GAAW6I,EAAQvL,GAC1B,IAAKuL,GAAU,GAAQA,KAAYvL,GAAU,GAAQA,GACnD,OAAO,KAGT,GAAIuL,IAAWvL,EACb,OAAO,EAGT,GAAI,YAAGuL,EAAQ,+BAAiC,YAAMvL,EAAQ,CAAC,6BAA8B,iBAC3F,MAAO,CACLb,KAAM,4BAIV,GAAI,YAAGoM,EAAQ,gBAAiB,CAC9B,GAAI,YAAGvL,EAAQ,gBACb,MAAO,CACLb,KAAM,8BAIV,GAAI,YAAGa,EAAQ,uBACb,MAAO,CACLb,KAAM,4BAKZ,GAAI,YAAGoM,EAAQ,oBAAsB,YAAGvL,EAAQ,mBAC9C,OAAO,EAGT,GAAI,YAAGuL,EAAQ,iBAAkB,CAC/B,GAAI,YAAGvL,EAAQ,gBACb,MAAO,CACLb,KAAM,8BAIV,GAAI,YAAGa,EAAQ,uBACb,MAAO,CACLb,KAAM,4BAKZ,OAAI,YAAGoM,EAAQ,wBAA0B,YAAMvL,EAAQ,CAAC,6BAA8B,eAAgB,wBAC7F,CACLb,KAAM,+BAIN,YAAGoM,EAAQ,wBAA0B,YAAGvL,EAAQ,wBAA0B,YAAGuL,EAAQ,uBAAyB,YAAGvL,EAAQ,wBACpH,CACLb,KAAM,mBAOZ,SAAS,GAAUyT,EAAO5S,GACxB,OAAO,YAAM4S,EAAO,CAAC,6BAA8B,eAAgB,gBAAiB,sBAAuB,wBAA0B,YAAG5S,EAAQ,mBAGlJ,SAAS,GAAQ4J,EAAU5J,GAMzB,OALK,kBAAQ4J,KACXA,EAAW,CAACA,KAIT5J,MAID,gBAAM4J,GAAU,SAAU1K,GAC5B,OAAO,YAAMA,EAAS,CAAC,6BAA8B,eAAgB,gBAAiB,sBAAuB,qBAAsB,6BAA8B,2BAA4B,2BAA4B,yBACrN,YAAGc,EAAQ,oBAOZ,SAAS,GAAQd,GACtB,QAASA,EAAQo/E,YD1HnB11D,GAAa3X,QAAU,CAAE,YAEzB,KAAS2X,GAAclM,IA+CvBkM,GAAa1mB,UAAUgU,QAAU,SAASD,EAAS2G,EAAU3S,GAE3D,IAAI2D,EAAOlL,KAEY,iBAAZuT,IACTA,EAAU,CAAEA,IAGdA,EAAQyT,SAAQ,SAASC,GAEvB/b,EAAK0E,WAAWqX,EAAQ/M,GAAU,SAASvK,EAASsX,EAAQzX,GAC1D,OAAOjI,EAAGoI,MACT,OAOPuW,GAAa1mB,UAAU2mB,KAAO,aC3E9B,IAAS09E,GAAU39E,IACnB29E,GAASt1F,QAAU,CAAC,YAEpBs1F,GAASrkG,UAAU2mB,KAAO,WACxBnmB,KAAKwT,QAAQ,qBAAqB,SAAU7D,GAG1C,OAAO,GAFMA,EAAQ9G,OACR8G,EAAQrS,WAGvB0C,KAAKwT,QAAQ,wBAAwB,SAAU7D,GAC5BA,EAAQmsB,WAGzB,OAAO,GAFMnsB,EAAQ9G,OACR8G,EAAQrS,WAGvB0C,KAAKwT,QAAQ,8BAA8B,SAAU7D,GACnD,IAAImsB,EAAansB,EAAQmsB,WACzB,MAAO,CACLr/B,KAAMq/B,EAAWr/B,KACjBM,eAAgB++B,EAAW/+B,mBAG/BiD,KAAKwT,QAAQ,iBAAiB,SAAU7D,GACtC,IAAIrS,EAASqS,EAAQrS,OACjBg/E,EAAS3sE,EAAQ2sE,OACN3sE,EAAQia,SACvB,OAAO,GAAQ0yD,EAAQh/E,MAEzB0C,KAAKwT,QAAQ,gBAAgB,SAAU7D,GAGrC,OAAO,GAFKA,EAAQO,MACPP,EAAQrS,WAGvB0C,KAAKwT,QAAQ,gBAAgB,SAAU7D,GACrC,IAAIO,EAAQP,EAAQO,MACpB,OAAO,YAAGA,EAAO,0BAIrB2zF,GAASrkG,UAAUssF,WAAa,GAChC+X,GAASrkG,UAAU0uF,UAAY,GAC/B2V,GAASrkG,UAAUskG,QAAU,GClDd,QACbtzF,YAAa,CAAC,IACdD,SAAU,CAAC,YACXwzF,SAAU,CAAC,OAAQF,KCHN,SAASG,GAAW9oC,GACjCl7D,KAAK88D,OAAS5B,EAEhB8oC,GAAWz1F,QAAU,CAAC,UAEtBy1F,GAAWxkG,UAAUykG,SAAW,SAAUznG,GACxC,OAAO,YAAMA,EAAS,CAAC,eAAgB,iBAAkB,iBAAkB,mBAAoB,6BAGjGwnG,GAAWxkG,UAAU0kG,UAAY,SAAU1nG,GACzC,IAAI4rB,GAAU5rB,EAAQkrB,OAAS,IAAIxpB,QAAQ,WAAY,IAAM,KAExD1B,EAAQmM,IAAM3I,KAAKikG,SAASznG,KAC/BA,EAAQmM,GAAK3I,KAAK88D,OAAOtyD,IAAIs2D,aAAa14C,EAAQ5rB,KAItDwnG,GAAWxkG,UAAUmD,OAAS,SAAUlG,EAAMkC,GAC5C,IAAInC,EAAUwD,KAAK88D,OAAOn6D,OAAOlG,EAAMkC,GAAS,IAIhD,OAFAqB,KAAKkkG,UAAU1nG,GAERA,GAGTwnG,GAAWxkG,UAAUo+E,cAAgB,SAAUxrC,EAAU3tC,EAAQ9F,GAC/D,OAAOqB,KAAK2C,OAAO,iBAAkB,iBAAO,CAC1C0sC,cAAe+C,EACf3tC,OAAQzE,KAAKmkG,eAAe1/F,IAC3B9F,KAGLqlG,GAAWxkG,UAAU2kG,eAAiB,SAAU1/F,GAC9C,OAAOzE,KAAK2C,OAAO,YAAa8B,IAGlCu/F,GAAWxkG,UAAUm+E,aAAe,SAAUvrC,EAAUxrC,EAAWjI,GACjE,OAAOqB,KAAK2C,OAAO,gBAAiB,CAClC0sC,cAAe+C,EACfiF,SAAUr3C,KAAKokG,kBAAkBx9F,IAChCjI,IAGLqlG,GAAWxkG,UAAU4kG,kBAAoB,SAAUx9F,GACjD,IAAIsE,EAAOlL,KACX,OAAO4G,EAAUkU,KAAI,SAAUu8B,GAC7B,OAAOnsC,EAAKm5F,iBAAiBhtD,OAIjC2sD,GAAWxkG,UAAU6kG,iBAAmB,SAAUhtD,GAChD,OAAOr3C,KAAK2C,OAAO,WAAY,eAAK00C,EAAU,CAAC,IAAK,QAGtD2sD,GAAWxkG,UAAU8kG,wBAA0B,WAC7C,OAAOtkG,KAAK2C,OAAO,wBAAyB,CAC1CssD,OAAQ,M,cCjDG,SAASs1C,GAAW1d,EAAmBx6D,EAA0BmxD,EAAYumB,EAAUl8E,GACpGA,EAAS6b,OAAO1pB,GAAoBha,MACpCA,KAAK+0F,0BAA4B1oE,EACjCrsB,KAAKy9E,YAAcD,EACnBx9E,KAAKwkG,UAAYT,EACjB,IAAI74F,EAAOlL,KAiBX,SAASykG,EAAa90F,GACpB,IAAImsB,EAAansB,EAAQmsB,WACrB17B,EAASuP,EAAQvP,OACjB8P,EAAQP,EAAQO,MAEhB4rB,IAAe,YAAGA,EAAY,qBAChC17B,EAAS07B,EAAWx+B,QAGtB4N,EAAKu5F,aAAav0F,GAAS4rB,EAAY17B,GAGzC,SAASskG,EAAoB/0F,GAC3B,IAAImsB,EAAansB,EAAQmsB,WACrB5rB,EAAQP,EAAQO,MAChBy0F,EAAYh1F,EAAQvP,QAAUuP,EAAQi1F,UAEtC9oE,IAAe,YAAGA,EAAY,qBAChC6oE,EAAY7oE,EAAWx+B,QAGzB4N,EAAKu5F,aAAav0F,GAAS4rB,EAAY6oE,GAMzC,SAASE,EAAal1F,GACpB,IAAIO,EAAQP,EAAQO,OAEd,YAAGA,EAAO,mBAAqB,YAAGA,EAAO,wBAI/ChF,EAAK25F,aAAa30F,GAMpB,SAAS40F,EAA0Bn1F,GACjCzE,EAAK45F,0BAA0Bn1F,GA9CjC3P,KAAK4iG,SAAS,CAAC,oBAAqB,sBAVpC,SAAwBjzF,GACtB,IAAImsB,EAAansB,EAAQmsB,WACXnsB,EAAQo1F,UAGpBjpE,EAAWl1B,UAAYigF,EAAkBC,oBAAoBhrD,GAC7DnsB,EAAQo1F,SAAU,MAIoD,GAC1E/kG,KAAKglG,SAAS,CAAC,sBAAsB,SAAUr1F,UACtCA,EAAQo1F,WACd,GA0BH/kG,KAAK4iG,SAAS,CAAC,oBAAqB,oBAAqB,kBAAmB,eAAgB,gBAAiB6B,GAAc,GAC3HzkG,KAAKglG,SAAS,CAAC,oBAAqB,oBAAqB,kBAAmB,eAAgB,gBAAiBN,GAAqB,GAYlI1kG,KAAK4iG,SAAS,CAAC,eAAgB,aAAc,gBAAiBiC,GAAc,GAC5E7kG,KAAKglG,SAAS,CAAC,eAAgB,aAAc,gBAAiBH,GAAc,GAM5E7kG,KAAK4iG,SAAS,CAAC,oBAAqB,oBAAqB,kBAAmB,8BAA+BkC,GAA2B,GACtI9kG,KAAKglG,SAAS,CAAC,oBAAqB,oBAAqB,kBAAmB,8BAA+BF,GAA2B,GACtI9kG,KAAK4iG,SAAS,qBAAqB,SAAUjzF,GAC3C,IAAImsB,EAAansB,EAAQmsB,WACrBklE,EAAellE,EAAW/+B,eAE1BkoG,EADSt1F,EAAQrS,OACCP,eAElB,YAAG++B,EAAY,mBACjB2oE,EAAa90F,GAGbzE,EAAKg6F,qBAAqBlE,EAAciE,MAEzC,GACHjlG,KAAKglG,SAAS,qBAAqB,SAAUr1F,GAC3C+0F,EAAoB/0F,MACnB,GACH3P,KAAK4iG,SAAS,wBAAwB,SAAUjzF,GAC9C,IACIqxF,EADarxF,EAAQmsB,WACK/+B,eAE1BooG,EADYx1F,EAAQmyF,UACI/kG,eAExB,YAAGikG,EAAc,oBAIrB91F,EAAKg6F,qBAAqBlE,EAAcmE,MACvC,GACHnlG,KAAKglG,SAAS,wBAAwB,SAAUr1F,GAC9C,IACIqxF,EADarxF,EAAQmsB,WACK/+B,eAE1BqoG,EADYz1F,EAAQ01F,UACItoG,eAExB,YAAGikG,EAAc,oBAIrB91F,EAAKg6F,qBAAqBlE,EAAcoE,MACvC,GACHplG,KAAK4iG,SAAS,4BAA4B,SAAUjzF,GAClD0c,EAAyBJ,YACxB,GACHjsB,KAAKglG,SAAS,4BAA4B,SAAUr1F,GAClD0c,EAAyBJ,YACxB,GAEL,IAASs4E,GAAYvqF,IACrBuqF,GAAWh2F,QAAU,CAAC,oBAAqB,2BAA4B,aAAc,WAAY,YAEjGg2F,GAAW/kG,UAAUqlG,aAAe,SAAU30F,GAC5C,IACIzL,EADiByL,EAAMnT,eACC03B,GAAGhwB,OAE/B,iBAAOA,EAAQ,CACbC,EAAGwL,EAAMxL,EACTG,EAAGqL,EAAMrL,EACTC,MAAOoL,EAAMpL,MACbC,OAAQmL,EAAMnL,UAIlBw/F,GAAW/kG,UAAUslG,0BAA4B,SAAUn1F,GACzD,IAAI6tE,EAAax9E,KAAKy9E,YAClB3hD,EAAansB,EAAQmsB,WAErBsb,EADiBtb,EAAW/+B,eACN03B,GAC1B2iB,EAAKC,SAAWmmC,EAAW4mB,kBAAkBtoE,EAAWl1B,WAAWkU,KAAI,SAAUu8B,GAE/E,OADAA,EAASY,QAAUb,EACZC,MAIXktD,GAAW/kG,UAAUilG,aAAe,SAAUjoG,EAASmoG,GACrD,IAAIvkG,EAAS5D,EAAQ4D,OAEhB,YAAG5D,EAAS,mBAAsB,YAAGA,EAAS,kBACjD4D,EAASukG,GAGX,IAAI5nG,EAAiBP,EAAQO,eACzBuoG,EAAWllG,GAAUA,EAAOrD,eAChCiD,KAAKklG,qBAAqBnoG,EAAgBuoG,GAC1CtlG,KAAKs4F,eAAev7F,EAAe03B,GAAI6wE,GAAYA,EAAS7wE,KAG9D8vE,GAAW/kG,UAAU0lG,qBAAuB,SAAUnoG,EAAgBqD,GACpE,IAAI2H,EAAUw9F,EAEVxoG,EAAek7C,UAAY73C,IAI3B,YAAGrD,EAAgB,kBACrBwoG,EAAc,aACL,YAAGxoG,EAAgB,gBAC5BwoG,EAAc,WACL,YAAGxoG,EAAgB,8BAC5BwoG,EAAc,yBACL,YAAGxoG,EAAgB,4BAC5BwoG,EAAc,uBACL,YAAGxoG,EAAgB,8BAC5BwoG,EAAc,wBAGZxoG,EAAek7C,UAEjBlwC,EAAWhL,EAAek7C,QAAQrpC,IAAI22F,GACtC,aAAiBx9F,EAAUhL,IAGzBqD,GAEF2H,EAAW3H,EAAOwO,IAAI22F,MAGpBx9F,EAASjH,KAAK/D,GACdA,EAAek7C,QAAU73C,GAG3BrD,EAAek7C,QAAU,OAI7BssD,GAAW/kG,UAAU84F,eAAiB,SAAU7jE,EAAI+wE,GAClD,GAAI/wE,EAAGwjB,UAAYutD,EAAnB,CAIA,IAAI,YAAM/wE,EAAI,CAAC,gBAAiB,mBAiB9B,MAAM,IAAI10B,MAAM,eAdhB,IAFA,IAAIyvC,EAAUg2D,GAAY/wE,GAElB,YAAG+a,EAAS,qBAClBA,EAAUA,EAAQyI,QAGpB,IAAIxI,EAAkBD,EAAQ5gC,IAAI,mBAE9B42F,GACF/wE,EAAGwjB,QAAUzI,EACb,aAAcC,EAAiBhb,KAE/BA,EAAGwjB,QAAU,KACb,aAAiBxI,EAAiBhb,M,cCtNzB,SAAS,GAAcrhB,EAAUpF,GAC9ChO,KAAK07D,UAAYtoD,EACjBpT,KAAKkO,QAAUF,ECGF,SAASy3F,GAAmBryF,GACzCpT,KAAK07D,UAAYtoD,ECZJ,SAASsyF,GAAwB13F,EAAQmzF,GACtDnhG,KAAKkO,QAAUF,EACfhO,KAAK6zF,UAAYsN,EFSnB,GAAc5yF,QAAU,CAAE,WAAY,UAGtC,GAAc/O,UAAUy6F,WAAa,SAAStqF,GAC5C,IAAIyD,EAAWpT,KAAK07D,UAEhBx0D,EAAWyI,EAAQzI,SACnBo0E,EAAY3rE,EAAQ2rE,UAGxB,kBAAQp0E,GAAU,SAAS1K,GACzB,IAAI8a,EAAQ,CACV5S,EAAG,EACHG,EAAG,GAGDy2E,EAAUh2E,KACZgS,EAAM5S,EAAI42E,EAAUh2E,KAAO9I,EAAQkI,EAE1B42E,EAAUl2E,MACnBkS,EAAM5S,EAAK42E,EAAUl2E,MAAQ5I,EAAQsI,MAAStI,EAAQkI,EAE7C42E,EAAUjkE,OACnBC,EAAM5S,EAAK42E,EAAUjkE,OAAS1S,KAAKC,MAAMpI,EAAQsI,MAAQ,GAAMtI,EAAQkI,EAE9D42E,EAAUn2E,IACnBmS,EAAMzS,EAAIy2E,EAAUn2E,IAAM3I,EAAQqI,EAEzBy2E,EAAUj2E,OACnBiS,EAAMzS,EAAKy2E,EAAUj2E,OAAS7I,EAAQuI,OAAUvI,EAAQqI,EAE/Cy2E,EAAUZ,SACnBpjE,EAAMzS,EAAKy2E,EAAUZ,OAAS/1E,KAAKC,MAAMpI,EAAQuI,OAAS,GAAMvI,EAAQqI,GAG1EuO,EAASuqF,aAAa,CAAEnhG,GAAW8a,EAAO9a,EAAQ4D,YAItD,GAAcZ,UAAU8/F,YAAc,SAAS3vF,KCnC/C81F,GAAmBl3F,QAAU,CAAE,YAe/Bk3F,GAAmBjmG,UAAUy6F,WAAa,SAAStqF,GAEjD,IAAI9G,EAAS8G,EAAQ9G,OAErB,IAAKA,EACH,MAAM,IAAI9I,MAAM,mBAGlB,IAAIzC,EAASqS,EAAQrS,QAAUuL,EAAOzI,OAClC8P,EAAQP,EAAQO,MAChBJ,EAAQH,EAAQG,OAAS,GAE7BI,EAAQP,EAAQO,MACdlQ,KAAK07D,UAAU1gC,YACb9qB,EACAP,EAAQia,SACRtsB,EAAQ,CAAEuwF,OAAQ/9E,EAAM+9E,SAE5Bl+E,EAAQO,MAAQA,GAGlBu1F,GAAmBjmG,UAAU8/F,YAAc,SAAS3vF,GAClD,IAcwB9G,EAAQvL,EAd5BwS,EAAQH,EAAQG,OAAS,GAcLjH,EAZF8G,EAAQ9G,OAYEvL,EAZMqS,EAAQO,MAavC,eAAKrH,EAAOE,UAAU,SAAS1F,GACpC,OAAOA,EAAE/F,SAAWA,OAXhBwS,EAAMi+E,mBAAqBp+E,EAAQ9G,OACrC7I,KAAK07D,UAAUqwB,QAAQp8E,EAAQO,MAAOP,EAAQ9G,OAAQ8G,EAAQmsB,YAE9D97B,KAAK07D,UAAUqwB,QAAQp8E,EAAQ9G,OAAQ8G,EAAQO,MAAOP,EAAQmsB,cCvDpE4pE,GAAwBn3F,QAAU,CAAE,SAAU,YAc9Cm3F,GAAwBlmG,UAAUw/D,QAAU,SAASrvD,GAEnD,IAAImsB,EAAansB,EAAQmsB,WACrBjzB,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OACjB8C,EAASuP,EAAQvP,OACjB2pC,EAAcp6B,EAAQo6B,YACtBj6B,EAAQH,EAAQG,MAEpB,IAAKjH,IAAWvL,EACd,MAAM,IAAIyC,MAAM,8BAGlB,IAAKK,EACH,MAAM,IAAIL,MAAM,mBAalB,OAVA+7B,EAAWjzB,OAASA,EACpBizB,EAAWx+B,OAASA,EAEfw+B,EAAWl1B,YACdk1B,EAAWl1B,UAAY5G,KAAK6zF,UAAUO,iBAAiBt4D,EAAYhsB,IAIrE9P,KAAKkO,QAAQg8B,cAAcpO,EAAY17B,EAAQ2pC,GAExCjO,GAGT4pE,GAAwBlmG,UAAUs/F,OAAS,SAASnvF,GAClD,IAAImsB,EAAansB,EAAQmsB,WAOzB,OALA97B,KAAKkO,QAAQk8B,iBAAiBtO,GAE9BA,EAAWjzB,OAAS,KACpBizB,EAAWx+B,OAAS,KAEbw+B,GC3CT,IAAI,GAAQn3B,KAAKC,MAEF,SAAS+gG,GAAsBvyF,GAC5CpT,KAAK07D,UAAYtoD,EAmGnB,SAAS,GAAa5W,GACpB,QAASA,EAAQoK,UAjGnB++F,GAAsBp3F,QAAU,CAC9B,YAGFo3F,GAAsBnmG,UAAUy6F,WAAa,SAAStqF,GACpD,IAAIzI,EAAWyI,EAAQzI,SACnB9G,EAASuP,EAAQvP,OACjB2pC,EAAcp6B,EAAQo6B,YACtBngB,EAAWja,EAAQia,SACnB9Z,EAAQH,EAAQG,MAEhBsD,EAAWpT,KAAK07D,UAGpB,kBAAQx0D,GAAU,SAAS1K,GACpB,mBAASA,EAAQkI,KACpBlI,EAAQkI,EAAI,GAGT,mBAASlI,EAAQqI,KACpBrI,EAAQqI,EAAI,MAIhB,IAAIyE,EAAO,aAAQpC,GAGnB,kBAAQA,GAAU,SAAS1K,GACrB,GAAaA,KACfA,EAAQoK,UAAY,cAAIpK,EAAQoK,WAAW,SAASywC,GAClD,MAAO,CACL3yC,EAAG,GAAM2yC,EAAS3yC,EAAI4E,EAAK5E,EAAI4E,EAAKxE,MAAQ,EAAI8kB,EAASllB,GACzDG,EAAG,GAAMwyC,EAASxyC,EAAIyE,EAAKzE,EAAIyE,EAAKvE,OAAS,EAAI6kB,EAAS/kB,QAKhE,iBAAOrI,EAAS,CACdkI,EAAG,GAAMlI,EAAQkI,EAAI4E,EAAK5E,EAAI4E,EAAKxE,MAAQ,EAAI8kB,EAASllB,GACxDG,EAAG,GAAMrI,EAAQqI,EAAIyE,EAAKzE,EAAIyE,EAAKvE,OAAS,EAAI6kB,EAAS/kB,QAI7D,IAAIopC,EAAU,aAAW/mC,GAErB+vB,EAAQ,GAEZ,kBAAQ/vB,GAAU,SAAS1K,GACzB,GAAI,GAAaA,GACfy6B,EAAOz6B,EAAQmM,IAAO,mBAASohC,GAC7B32B,EAAS6nB,iBACPhE,EAAOz6B,EAAQqM,OAAOF,IACtBsuB,EAAOz6B,EAAQc,OAAOqL,IACtBohC,EACAvtC,EACAA,EAAQ4D,QAAUA,EAClB0P,GAEFsD,EAAS6nB,iBACPhE,EAAOz6B,EAAQqM,OAAOF,IACtBsuB,EAAOz6B,EAAQc,OAAOqL,IACtBnM,EACAA,EAAQ4D,QAAUA,EAClB0P,OAfN,CAqBA,IAAI81F,EAAmB,iBAAO,GAAI91F,IAEA,IAA9Bm+B,EAAQ7uC,QAAQ5C,KAClBopG,EAAiB1L,YAAa,GAGhCjjE,EAAOz6B,EAAQmM,IAAO,mBAASohC,GAC7B32B,EAAS4nB,YACPx+B,EACA,eAAKA,EAAS,CAAE,IAAK,IAAK,QAAS,WACnCA,EAAQ4D,QAAUA,EAClB2pC,EACA67D,GAEFxyF,EAAS4nB,YACPx+B,EACA,eAAKA,EAAS,CAAE,IAAK,IAAK,QAAS,WACnCA,EAAQ4D,QAAUA,EAClBwlG,OAINj2F,EAAQzI,SAAW,iBAAO+vB,IC7G5B,IAAI,GAAQtyB,KAAKC,MAQF,SAASihG,GAAmB73F,GACzChO,KAAKkO,QAAUF,ECDF,SAAS83F,GAAmB93F,GACzC63F,GAAmB3kG,KAAKlB,KAAMgO,GDGhC63F,GAAmBt3F,QAAU,CAAE,UAa/Bs3F,GAAmBrmG,UAAUw/D,QAAU,SAASrvD,GAE9C,IAAIO,EAAQP,EAAQO,MAChB61F,EAAmBp2F,EAAQia,SAC3BxpB,EAASuP,EAAQvP,OACjB2pC,EAAcp6B,EAAQo6B,YAE1B,IAAK3pC,EACH,MAAM,IAAIL,MAAM,mBAGlB,IAAKgmG,EACH,MAAM,IAAIhmG,MAAM,qBAgBlB,YAZ+BvB,IAA3BunG,EAAiBjhG,MACnB,iBAAOoL,EAAO61F,GAEd,iBAAO71F,EAAO,CACZxL,EAAGqhG,EAAiBrhG,EAAI,GAAMwL,EAAMpL,MAAQ,GAC5CD,EAAGkhG,EAAiBlhG,EAAI,GAAMqL,EAAMnL,OAAS,KAKjD/E,KAAKkO,QAAQ+7B,SAAS/5B,EAAO9P,EAAQ2pC,GAE9B75B,GAOT21F,GAAmBrmG,UAAUs/F,OAAS,SAASnvF,GAE7C,IAAIO,EAAQP,EAAQO,MAKpB,OAFAlQ,KAAKkO,QAAQi8B,YAAYj6B,GAElBA,GCvDT,KAAS41F,GAAoBD,IAE7BC,GAAmBv3F,QAAU,CAAE,UAM/B,IAAIy3F,GAAkBH,GAAmBrmG,UAAUw/D,QAYnD8mC,GAAmBtmG,UAAUw/D,QAAU,SAASrvD,GAE9C,IAAI+rB,EAAQ/rB,EAAQO,MAMpB,OAiBF,SAA+BwrB,GAG7B,CAAE,QAAS,UAAW1U,SAAQ,SAASpZ,QACV,IAAhB8tB,EAAM9tB,KACf8tB,EAAM9tB,GAAQ,MA1BlBq4F,CAAsBvqE,GAEtBA,EAAMkgD,YAAcjsE,EAAQisE,YAErBoqB,GAAgB9kG,KAAKlB,KAAM2P,IAGpC,IAAIu2F,GAAiBL,GAAmBrmG,UAAUs/F,OCpCnC,SAASqH,GAAwBn4F,EAAQoF,GACtDpT,KAAKkO,QAAUF,EACfhO,KAAK07D,UAAYtoD,ECRJ,SAASgzF,GAAsBhzF,EAAU1D,GACtD1P,KAAK07D,UAAYtoD,EACjBpT,KAAK2f,iBAAmBjQ,ECWnB,SAAS22F,GAAU5zF,EAAY6zF,GAEpC,GAAwB,mBAAbA,EACT,MAAM,IAAIvmG,MAAM,wCAGlB,GAAK0S,EAAL,CAMA,IAFA,IAAIhV,EAEIA,EAAIgV,EAAW,IACrB6zF,EAAS7oG,GAGX,OAAOgV,GCpBM,SAAS8zF,GAAmBv4F,EAAQoF,GACjDpT,KAAKkO,QAAUF,EACfhO,KAAK07D,UAAYtoD,ECLJ,SAAS,GAAmBA,GACzCpT,KAAK07D,UAAYtoD,ELwCnB0yF,GAAmBtmG,UAAUs/F,OAAS,SAASnvF,GAG7C,OAFAA,EAAQO,MAAM0rE,YAAc,KAErBsqB,GAAehlG,KAAKlB,KAAM2P,ICvCnCw2F,GAAwB53F,QAAU,CAChC,SACA,YAIF43F,GAAwB3mG,UAAUw/D,QAAU,SAASrvD,GAEnD,IAAImsB,EAAansB,EAAQmsB,WACrB17B,EAAS07B,EAAW17B,OAexB,OAbAuP,EAAQvP,OAASA,EAGjBuP,EAAQo6B,YAAc,aAAc3pC,EAAO2H,SAAU+zB,GAErDnsB,EAAQ9G,OAASizB,EAAWjzB,OAC5B8G,EAAQrS,OAASw+B,EAAWx+B,OAE5B0C,KAAKkO,QAAQk8B,iBAAiBtO,GAE9BA,EAAWjzB,OAAS,KACpBizB,EAAWx+B,OAAS,KAEbw+B,GAMTqqE,GAAwB3mG,UAAUs/F,OAAS,SAASnvF,GAElD,IAAImsB,EAAansB,EAAQmsB,WACrB17B,EAASuP,EAAQvP,OACjB2pC,EAAcp6B,EAAQo6B,YAU1B,OARAjO,EAAWjzB,OAAS8G,EAAQ9G,OAC5BizB,EAAWx+B,OAASqS,EAAQrS,OAG5B,aAAc8C,EAAO2H,SAAU+zB,EAAYiO,GAE3C/pC,KAAKkO,QAAQg8B,cAAcpO,EAAY17B,GAEhC07B,GClDTsqE,GAAsB73F,QAAU,CAC9B,WACA,mBAIF63F,GAAsB5mG,UAAU8/F,YAAc,SAAS3vF,GAErD,IAAIyD,EAAWpT,KAAK07D,UAChBhsD,EAAkB1P,KAAK2f,iBACvBzY,EAAWyI,EAAQzI,SAEvB,kBAAQA,GAAU,SAAS1K,GAIpBkT,EAAgBd,IAAIpS,EAAQmM,MAI7BnM,EAAQoK,UACVwM,EAASg3B,iBAAiB5tC,GAE1B4W,EAAS+2B,YAAY3tC,QEd3B+pG,GAAmBh4F,QAAU,CAAE,SAAU,YAOzCg4F,GAAmB/mG,UAAUy6F,WAAa,SAAStqF,GAEjD,IAAIyD,EAAWpT,KAAK07D,UAEhBxrD,EAAQP,EAAQO,MAGpBm2F,GAAUn2F,EAAMpH,UAAU,SAASgzB,GAIjC1oB,EAASg3B,iBAAiBtO,EAAY,CAAE0qE,QAAQ,OAGlDH,GAAUn2F,EAAMnH,UAAU,SAAS+yB,GACjC1oB,EAASg3B,iBAAiBtO,EAAY,CAAE0qE,QAAQ,OAIlDH,GAAUn2F,EAAMnI,UAAU,SAASvH,GAChBA,EAiDJoG,UAhDXwM,EAASg3B,iBAAiB5pC,EAAO,CAAEgmG,QAAQ,IAE3CpzF,EAAS+2B,YAAY3pC,EAAO,CAAEgmG,QAAQ,QAQ5CD,GAAmB/mG,UAAUw/D,QAAU,SAASrvD,GAC9C,IAAI3B,EAAShO,KAAKkO,QAEdgC,EAAQP,EAAQO,MAChBy0F,EAAYz0F,EAAM9P,OAUtB,OARAuP,EAAQg1F,UAAYA,EAGpBh1F,EAAQ82F,eAAiB,aAAc9B,EAAU58F,SAAUmI,GAG3DlC,EAAOm8B,YAAYj6B,GAEZA,GAOTq2F,GAAmB/mG,UAAUs/F,OAAS,SAASnvF,GAE7C,IAAI3B,EAAShO,KAAKkO,QAEdgC,EAAQP,EAAQO,MAChBy0F,EAAYh1F,EAAQg1F,UACpB8B,EAAiB92F,EAAQ82F,eAO7B,OAJA,aAAc9B,EAAU58F,SAAUmI,EAAOu2F,GAEzCz4F,EAAOi8B,SAAS/5B,EAAOy0F,GAEhBz0F,GC5ET,GAAmB3B,QAAU,CAAE,YAE/B,IAAIm4F,GAAW,CACbhiG,EAAG,IACHG,EAAG,KCXU,SAAS8hG,GAAwBxF,EAAUnzF,GACxDhO,KAAK6zF,UAAYsN,EACjBnhG,KAAKkO,QAAUF,ECOF,SAAS44F,MCMjB,SAASC,GAAkB5hG,EAAO6hG,EAAW3M,GAClD,IAAI4M,EAAY,aAAOD,GACnBE,EAAY,aAAO7M,GACnB8M,EAAW,aAAMhiG,EAAO8hG,GAExBG,EACCD,EAASviG,GAAKy1F,EAAUr1F,MAAQgiG,EAAUhiG,OAD3CoiG,EAECD,EAASpiG,GAAKs1F,EAAUp1F,OAAS+hG,EAAU/hG,QAGhD,OAAO,YAAW,CAChBL,EAAGsiG,EAAUtiG,EAAIwiG,EACjBriG,EAAGmiG,EAAUniG,EAAIqiG,ICnBd,SAASC,GAAuBrrE,EAAY5rB,EAAO42F,GAExD,IAAIlgG,EAAYwgG,GAAiBtrE,GAC7BurE,EAA2BC,GAAyB1gG,EAAWsJ,GAC/Dq3F,EAAY3gG,EAAU,GAG1B,OAAIygG,EAAyBhoG,OACpBgoG,EAA0BA,EAAyBhoG,OAAS,GAG9DwnG,GAAkBU,EAAUrhE,UAAYqhE,EAAWT,EAAW52F,GAIhE,SAASs3F,GAAuB1rE,EAAY5rB,EAAO42F,GAExD,IAAIlgG,EAAYwgG,GAAiBtrE,GAC7BurE,EAA2BC,GAAyB1gG,EAAWsJ,GAC/Dq3F,EAAY3gG,EAAUA,EAAUvH,OAAS,GAG7C,OAAIgoG,EAAyBhoG,OACpBgoG,EAA0B,GAG5BR,GAAkBU,EAAUrhE,UAAYqhE,EAAWT,EAAW52F,GAIhE,SAASu3F,GAAqB3rE,EAAYjzB,EAAQ6+F,GAEvD,IAAI9gG,EAAYwgG,GAAiBtrE,GAC7BgrE,EAAYa,GAAS9+F,EAAQ6+F,GAC7BH,EAAY3gG,EAAW,GAE3B,OAAOigG,GAAkBU,EAAUrhE,UAAYqhE,EAAWT,EAAWj+F,GAIhE,SAAS++F,GAAqB9rE,EAAYx+B,EAAQoqG,GAEvD,IAAI9gG,EAAYwgG,GAAiBtrE,GAC7BgrE,EAAYa,GAASrqG,EAAQoqG,GAC7BH,EAAY3gG,EAAWA,EAAUvH,OAAS,GAE9C,OAAOwnG,GAAkBU,EAAUrhE,UAAYqhE,EAAWT,EAAWxpG,GAMvE,SAASqqG,GAASljG,EAAQ6S,GACxB,MAAO,CACL5S,EAAGD,EAAOC,EAAI4S,EAAM5S,EACpBG,EAAGJ,EAAOI,EAAIyS,EAAMzS,EACpBC,MAAOL,EAAOK,MACdC,OAAQN,EAAOM,QAYnB,SAASqiG,GAAiBtrE,GAExB,IAAIl1B,EAAYk1B,EAAWl1B,UAE3B,IAAKA,EAAUvH,OACb,MAAM,IAAIU,MAAM,cAAgB+7B,EAAWnzB,GAAK,kBAGlD,OAAO/B,EAGT,SAAS0gG,GAAyB1gG,EAAWnC,GAC3C,IAAIqkF,EAAoB,cAAIliF,EAAWyK,IAEvC,OAAO,iBAAOy3E,GAAmB,SAASzxC,GACxC,OAUJ,SAAwBpyC,EAAOR,GAC7B,MAA4C,cAArC,YAAeA,EAAQQ,EAAO,GAX5B4iG,CAAexwD,EAAU5yC,MAcpC,SAAS4M,GAAYpM,GACnB,OAAOA,EAAMihC,UAAYjhC,ECxGZ,SAAS6iG,KAEtB9nG,KAAKqI,UAAY,GACjBrI,KAAKuI,eAAiB,GAEtBvI,KAAKwI,iBAAmB,GACxBxI,KAAKyI,oBAAsB,GAE3BzI,KAAK0I,SAAW,GCCH,SAASq/F,GAAW30F,GACjCpT,KAAK07D,UAAYtoD,ECbJ,SAAS40F,GAAoB50F,GAC1CpT,KAAKioG,QAAU,IAAIF,GAAW30F,GCejB,SAAS80F,GAAiB90F,GACvCpT,KAAK07D,UAAYtoD,EAEjBpT,KAAKioG,QAAU,IAAIF,GAAW30F,GCnBjB,SAAS+0F,GAA2B/0F,GACjDpT,KAAK07D,UAAYtoD,EAgGnB,SAAS,GAAWnO,GAClB,OAAOA,EAAMihC,UAAYjhC,ECvFZ,SAASmjG,GAAoBh1F,EAAU6U,GACpDjoB,KAAK07D,UAAYtoD,EACjBpT,KAAK8+D,OAAS72C,ECHD,SAASogF,GAAmBj1F,GACzCpT,KAAK07D,UAAYtoD,ECqDnB,SAASqoF,GAAS56F,EAAO+uB,GACvB,OAAgC,IAAzB/uB,EAAMzB,QAAQwwB,GCjDR,SAAS04E,GAAiBl1F,GACvCpT,KAAK07D,UAAYtoD,EA0InB,SAASm1F,GAAalxD,GACpB,OAAO,iBAAO,GAAIA,GAgBpB,SAASmxD,GAAqBznF,GAC5B,OAAQA,GACR,IAAK,IACH,MAAO,IACT,IAAK,IACH,MAAO,IACT,IAAK,IACH,MAAO,IACT,IAAK,IACH,MAAO,KAIX,SAAS0nF,GAAmBpxD,EAAUt9B,EAAOgH,GAC3C,IAAI2nF,EAAeF,GAAqBznF,GAExC,MAAI,MAAM1f,KAAK0f,GACNs2B,EAAUqxD,GAAiB3uF,EACzB,MAAM1Y,KAAK0f,GACbs2B,EAAUqxD,GAAiB3uF,OAD7B,EAKT,SAAS,GAASlZ,EAAO+uB,GACvB,OAAgC,IAAzB/uB,EAAMzB,QAAQwwB,GC/LR,SAAS+4E,GAA2Bv1F,GACjDpT,KAAK07D,UAAYtoD,ECJJ,SAASw1F,GAAwBx1F,GAC9CpT,KAAK07D,UAAYtoD,EA2CnB,SAASy1F,GAAeltB,EAAMY,GAG5B,OAAO,aAAiBZ,GAAQA,EAAKU,UAAWE,GAGlD,SAASusB,GAAYntB,EAAMY,EAAUv1E,GAEnC,GAAK20E,EAAL,CAIA,IAAIU,EAAYV,EAAKU,UAEhBA,IACHV,EAAKU,UAAYA,EAAY,IAG/B,aAAcA,EAAWE,EAAUv1E,ICtEtB,SAAS+hG,MCwCT,SAAS,GAASh7F,EAAUmgC,EAAgBlmB,GACzDhoB,KAAKiO,UAAYF,EACjB/N,KAAK+2C,gBAAkB7I,EACvBluC,KAAK8nB,cAAgBE,EAErB,IAAI9c,EAAOlL,KAEX+N,EAASK,GAAG,gBAAgB,WAG1BlD,EAAK89F,iBAAiBhhF,MClDX,SAASihF,GAAe/tC,GACrCl7D,KAAK23D,QAAUuD,ECIF,SAASguC,KAStB,SAASC,EAAQ3sG,EAAS80C,GAExB,IAAI5V,EAAQl/B,EAAQk/B,OAASl/B,EACzBo/E,EAAcp/E,EAAQo/E,aAAep/E,EAEzC,O5CCG,SAAkBA,EAAS80C,EAAM83D,GACtC,IAAIh3D,EAAW51C,EAAQO,eACnBwB,EAAOohG,GAAavtD,GAEpB7zC,IACF6zC,EAAS7zC,GAAQ+yC,GAIf83D,IACF5sG,EAAQ8T,QAAUghC,G4CZlB+3D,CAAS3tE,EAAO4V,EAAMsqC,IAAgBlgD,GAC/B,CAACA,EAAOkgD,GAajB57E,KAAKg/D,QAVL,SAAiB1O,GAEf,OADAA,EAAIg5C,SAAW1J,GAAStvC,EAAI9zD,SACrB2sG,EAAQ74C,EAAI9zD,QAAS8zD,EAAI70B,WASlCz7B,KAAK8+F,OANL,SAAgBxuC,GACd,OAAO64C,EAAQ74C,EAAI9zD,QAAS8zD,EAAIg5C,WnBRpC,GAAmB9pG,UAAUy6F,WAAa,SAAStqF,GACjD,IAAIyD,EAAWpT,KAAK07D,UAEhB06B,EAASzmF,EAAQymF,OACjBvb,EAAOlrE,EAAQkrE,KACfC,EAAYnrE,EAAQmrE,UAExB,SAASyuB,EAAYviE,EAAOxqC,GAC1BwqC,EAAMntB,MAAMqR,IAAMvmB,KAAKumB,IAAI1uB,EAAQq+E,GAAO7zC,EAAMntB,MAAMqR,KACtD8b,EAAMntB,MAAMsR,IAAMxmB,KAAKwmB,IAAI3uB,EAAQq+E,GAAQr+E,EAAQs+E,GAAY9zC,EAAMntB,MAAMsR,KAG7E,SAAS9T,EAAO7a,GACd,OAAOA,EAAQq+E,GAAQr+E,EAAQs+E,GAAa,EAG9C,SAAS0uB,EAAQtqG,GACf,OAAOA,EAAIG,OAAS,EAGtB,SAASoqG,EAAU5vF,GACjB,OAAOA,EAAMsR,IAAMtR,EAAMqR,IAgB3B,IAIIkzD,EACAsrB,EALAC,EAAavT,EAAO,GACpBwT,EAAeJ,EAAQpT,GACvByT,EAAYzT,EAAQwT,GAIpBE,EAAa,EAEjB,kBAAQ1T,GAAQ,SAASpvD,EAAOhgC,GAC9B,IAAIi0E,EACA8uB,EACAC,EAEAhjE,EAAM9/B,SAAS7H,OAAS,EACtB2H,GAAOA,IAAQovF,EAAO/2F,OAAS,IACjCkqG,EAAYviE,EAAOA,EAAM9/B,SAAS,IAElC4iG,GAAcL,EAAUziE,EAAMntB,SAOlCkwF,GAFA9uB,EAAiB,iBAAOj0C,EAAM9/B,SAAU2zE,IAEf,GAErB7zE,IAAQ4iG,IACVG,EAAU9uB,EAAeuuB,EAAQvuB,KAGnC+uB,EAAY3yF,EAAO0yF,GAGnB/iE,EAAMntB,MAAQ,KAEd,kBAAQohE,GAAgB,SAASz+E,IAhDnC,SAAuBwtG,EAAWxtG,GAChC,IAAI8a,EAAQ,CAAEzS,EAAG,GAEjByS,EAAMujE,GAAQmvB,EAAY3yF,EAAO7a,GAE7B8a,EAAMujE,KAERvjE,EAAMovF,GAAS7rB,IAAS,EAExBznE,EAASuqF,aAAa,CAAEnhG,GAAW8a,EAAO9a,EAAQ4D,SAyClD6pG,CAAcD,EAAWxtG,GAEL,OAAhBwqC,EAAMntB,MAUV0vF,EAAYviE,EAAOxqC,GATjBwqC,EAAMntB,MAAQ,CACZqR,IAAK1uB,EAAQq+E,GACb1vD,IAAK3uB,EAAQq+E,GAAQr+E,EAAQs+E,OAU/B9zE,GAAOA,IAAQovF,EAAO/2F,OAAS,IACjCyqG,GAAcL,EAAUziE,EAAMntB,YAIlC6vF,EAAiB/kG,KAAKmS,IAAI+yF,EAAUhwF,MAAMqR,IAAMy+E,EAAW9vF,MAAMsR,MAEjEizD,EAASz5E,KAAKC,OAAO8kG,EAAiBI,IAAe1T,EAAO/2F,OAAS,KAExD+2F,EAAO/2F,OAAS,GAI7B,kBAAQ+2F,GAAQ,SAASpvD,EAAOkjE,GAC9B,IACIC,EADA7yF,EAAQ,GAGR0vB,IAAU2iE,GAAc3iE,IAAU6iE,IAItCM,EAAY/T,EAAO8T,EAAW,GAE9BljE,EAAMntB,MAAMsR,IAAM,EAElB,kBAAQ6b,EAAM9/B,UAAU,SAAS1K,EAASwK,GACxCsQ,EAAMovF,GAAS7rB,IAAS,EACxBvjE,EAAMujE,GAASsvB,EAAUtwF,MAAMsR,IAAM3uB,EAAQq+E,GAASuD,EAElDp3C,EAAMntB,MAAMqR,MAAQ1uB,EAAQq+E,KAC9BvjE,EAAMujE,IAASr+E,EAAQq+E,GAAQ7zC,EAAMntB,MAAMqR,KAGzC5T,EAAMujE,IACRznE,EAASuqF,aAAa,CAAEnhG,GAAW8a,EAAO9a,EAAQ4D,QAGpD4mC,EAAMntB,MAAMsR,IAAMxmB,KAAKwmB,IAAI3uB,EAAQq+E,GAAQr+E,EAAQs+E,GAAY9zE,EAAMggC,EAAMntB,MAAMsR,IAAM,WAK7F,GAAmB3rB,UAAU8/F,YAAc,SAAS3vF,KC5IpDg3F,GAAwBp4F,QAAU,CAAE,WAAY,UAEhDo4F,GAAwBnnG,UAAUw/D,QAAU,SAASrvD,GAEnD,IAAImsB,EAAansB,EAAQmsB,WAErBqsD,EAAersD,EAAWl1B,UAQ9B,OANA,iBAAO+I,EAAS,CACdw4E,aAAcA,IAGhBrsD,EAAWl1B,UAAY5G,KAAK6zF,UAAUO,iBAAiBt4D,EAAYnsB,EAAQG,OAEpEgsB,GAGT6qE,GAAwBnnG,UAAUs/F,OAAS,SAASnvF,GAElD,IAAImsB,EAAansB,EAAQmsB,WAIzB,OAFAA,EAAWl1B,UAAY+I,EAAQw4E,aAExBrsD,GChBT8qE,GAAsBpnG,UAAUw/D,QAAU,SAASrvD,GAEjD,IAAImsB,EAAansB,EAAQmsB,WACrBxkB,EAAQ3H,EAAQ2H,MAEhBstF,EAAYj1F,EAAQi1F,WAAa9oE,EAAW17B,OAC5CgqG,EAAiBz6F,EAAQy6F,eACzBzF,EAAY7oE,EAAW17B,OAuB3B,OApBAuP,EAAQg1F,UAAYA,EACpBh1F,EAAQ82F,eAAiB,aAAiB9B,EAAU58F,SAAU+zB,GAG9D,aAAc8oE,EAAU78F,SAAU+zB,EAAYsuE,GAG9CtuE,EAAW17B,OAASwkG,EAGpB,kBAAQ9oE,EAAWl1B,WAAW,SAASoF,GACrCA,EAAEtH,GAAK4S,EAAM5S,EACbsH,EAAEnH,GAAKyS,EAAMzS,EAETmH,EAAEk6B,WACJl6B,EAAEk6B,SAASxhC,GAAK4S,EAAM5S,EACtBsH,EAAEk6B,SAASrhC,GAAKyS,EAAMzS,MAInBi3B,GAGT8qE,GAAsBpnG,UAAUs/F,OAAS,SAASnvF,GAEhD,IAAImsB,EAAansB,EAAQmsB,WACrB8oE,EAAY9oE,EAAW17B,OACvBukG,EAAYh1F,EAAQg1F,UACpB8B,EAAiB92F,EAAQ82F,eACzBnvF,EAAQ3H,EAAQ2H,MAsBpB,OAnBA,aAAiBstF,EAAU78F,SAAU+zB,GAGrC,aAAc6oE,EAAU58F,SAAU+zB,EAAY2qE,GAG9C3qE,EAAW17B,OAASukG,EAGpB,kBAAQ7oE,EAAWl1B,WAAW,SAASoF,GACrCA,EAAEtH,GAAK4S,EAAM5S,EACbsH,EAAEnH,GAAKyS,EAAMzS,EAETmH,EAAEk6B,WACJl6B,EAAEk6B,SAASxhC,GAAK4S,EAAM5S,EACtBsH,EAAEk6B,SAASrhC,GAAKyS,EAAMzS,MAInBi3B,GG1DTgsE,GAAYtoG,UAAUoB,IAAM,SAASpE,EAAS2L,GAC5C,OAAOnI,KAAKqqG,OAAO,CAAE7tG,GAAW2L,IAIlC2/F,GAAYtoG,UAAU6qG,OAAS,SAASnjG,EAAUiB,GAEhD,IAAImiG,EAAa,aAAWpjG,IAAYiB,EAAYnI,MAIpD,OAFA,iBAAOA,KAAMsqG,GAENtqG,MCET+nG,GAAWvoG,UAAU+qG,cAAgB,SAASrjG,EAAUoQ,EAAOstF,GAC7D,OAAK19F,EAGIlH,KAAKwqG,YAAYxqG,KAAKkI,WAAWhB,GAAWoQ,EAAOstF,GAFnD,IAcXmD,GAAWvoG,UAAUgrG,YAAc,SAASpiG,EAASkP,EAAOstF,EAAW6F,EAASC,GAC9E,IAAIt3F,EAAWpT,KAAK07D,UAEhBrzD,EAAYD,EAAQC,UACpBE,EAAiBH,EAAQG,eACzBE,EAAsBL,EAAQK,oBAC9BC,EAAWN,EAAQM,SACnBiiG,GAAa,EAEbD,GAAgBA,EAAatqG,SAAWwkG,IAC1C+F,GAAa,GAIf,kBAAQtiG,GAAW,SAAS6H,GAG1BkD,EAASw3F,UAAU16F,EAAOoH,EAAO5O,EAASwH,EAAMvH,MAAQgiG,GAAc/F,EAAW,CAC/EiG,SAAS,EACTC,QAAQ,OAKZ,kBAAQviG,GAAgB,SAASlF,GAE/B,IAAI0nG,IAAgB1iG,EAAUhF,EAAEwF,OAAOF,IACnCqiG,IAAgB3iG,EAAUhF,EAAE/F,OAAOqL,IAEnCF,EAAoBpF,EAAEsF,KAAOoiG,GAAeC,EAC9C53F,EAAS63F,eAAe5nG,EAAGiU,EAAO5O,EAASrF,EAAEsF,MAAQgiG,GAAc/F,GAEnExxF,EAASghF,iBAAiB/wF,EAAG,CAC3B6jF,gBAAiB6jB,GAAetD,GAAqBpkG,EAAGA,EAAEwF,OAAQyO,GAClE6vE,cAAe6jB,GAAepD,GAAqBvkG,EAAGA,EAAE/F,OAAQga,SAYxEywF,GAAWvoG,UAAU0I,WAAa,SAAShB,GACzC,OAAO,IAAI4gG,IAAcuC,OAAOnjG,GAAU,ICvF5C8gG,GAAoBz5F,QAAU,CAAE,YAEhCy5F,GAAoBxoG,UAAUy6F,WAAa,SAAStqF,GAClDA,EAAQvH,QAAUpI,KAAKioG,QAAQ//F,WAAWyH,EAAQ2sE,SAGpD0rB,GAAoBxoG,UAAU8/F,YAAc,SAAS3vF,GAEnD,IACI+6F,EADA56F,EAAQH,EAAQG,MAGhBA,GAASA,EAAM46F,eACjBA,EAAe56F,EAAM46F,aACrB56F,EAAM60F,UAAY+F,EAAatqG,QAGjCJ,KAAKioG,QAAQuC,YACX76F,EAAQvH,QACRuH,EAAQ2H,MACR3H,EAAQi1F,UACRj1F,EAAQ86F,QACRC,ICHJxC,GAAiB35F,QAAU,CAAE,YAG7B25F,GAAiB1oG,UAAUw/D,QAAU,SAASrvD,GAE5C,IAAIO,EAAQP,EAAQO,MAChBoH,EAAQ3H,EAAQ2H,MAChBstF,EAAYj1F,EAAQi1F,WAAa10F,EAAM9P,OACvCgqG,EAAiBz6F,EAAQy6F,eACzBzF,EAAYz0F,EAAM9P,OAkBtB,OAhBAuP,EAAQm3F,UAAY,eAAK52F,EAAO,CAAE,IAAK,IAAK,QAAS,WAGrDP,EAAQg1F,UAAYA,EACpBh1F,EAAQ82F,eAAiB,aAAiB9B,EAAU58F,SAAUmI,GAG9D,aAAc00F,EAAU78F,SAAUmI,EAAOk6F,GAGzC,iBAAOl6F,EAAO,CACZ9P,OAAQwkG,EACRlgG,EAAGwL,EAAMxL,EAAI4S,EAAM5S,EACnBG,EAAGqL,EAAMrL,EAAIyS,EAAMzS,IAGdqL,GAGTg4F,GAAiB1oG,UAAU8/F,YAAc,SAAS3vF,GAEhD,IAAIO,EAAQP,EAAQO,MAChBoH,EAAQ3H,EAAQ2H,MAChBxH,EAAQH,EAAQG,MAEhBsD,EAAWpT,KAAK07D,WAEC,IAAjB5rD,EAAMg7F,SAER,kBAAQ56F,EAAMpH,UAAU,SAASzF,GAC/B+P,EAASghF,iBAAiB/wF,EAAG,CAC3B8jF,cAAeygB,GAAqBvkG,EAAG6M,EAAOoH,QAIlD,kBAAQpH,EAAMnH,UAAU,SAAS1F,GAC/B+P,EAASghF,iBAAiB/wF,EAAG,CAC3B6jF,gBAAiBugB,GAAqBpkG,EAAG6M,EAAOoH,UAKhC,IAAlBxH,EAAM+6F,SACR7qG,KAAKkrG,aAAav7F,IAItBu4F,GAAiB1oG,UAAUs/F,OAAS,SAASnvF,GAE3C,IAAIO,EAAQP,EAAQO,MAChBy0F,EAAYh1F,EAAQg1F,UACpB8B,EAAiB92F,EAAQ82F,eACzBnvF,EAAQ3H,EAAQ2H,MAYpB,OATA,aAAcqtF,EAAU58F,SAAUmI,EAAOu2F,GAGzC,iBAAOv2F,EAAO,CACZ9P,OAAQukG,EACRjgG,EAAGwL,EAAMxL,EAAI4S,EAAM5S,EACnBG,EAAGqL,EAAMrL,EAAIyS,EAAMzS,IAGdqL,GAGTg4F,GAAiB1oG,UAAU0rG,aAAe,SAASv7F,GAEjD,IAAI2H,EAAQ3H,EAAQ2H,MAChBpH,EAAQP,EAAQO,MAEpBlQ,KAAKioG,QAAQsC,cAAcr6F,EAAMnI,SAAUuP,EAAO,OAGpD4wF,GAAiB1oG,UAAU2rG,aAAe,SAASx7F,GACjD,OAAOA,EAAQi1F,WAAaj1F,EAAQO,MAAM9P,QCzG5C+nG,GAA2B55F,QAAU,CAAE,YAEvC45F,GAA2B3oG,UAAUw/D,QAAU,SAASrvD,GACtD,IAAIkyF,EAAYlyF,EAAQkyF,UACpBC,EAAYnyF,EAAQmyF,UACpBhmE,EAAansB,EAAQmsB,WACrBsvE,EAAkBz7F,EAAQy7F,gBAE9B,IAAKvJ,IAAcC,EACjB,MAAM,IAAI/hG,MAAM,mCAkBlB,OAfI,kBAAQqrG,KACVz7F,EAAQw4E,aAAersD,EAAWl1B,UAClCk1B,EAAWl1B,UAAYwkG,GAGrBvJ,IACFlyF,EAAQ07F,UAAYvvE,EAAWjzB,OAC/BizB,EAAWjzB,OAASg5F,GAGlBC,IACFnyF,EAAQ01F,UAAYvpE,EAAWx+B,OAC/Bw+B,EAAWx+B,OAASwkG,GAGfhmE,GAGTqsE,GAA2B3oG,UAAU8/F,YAAc,SAAS3vF,GAC1D,IAAImsB,EAAansB,EAAQmsB,WACrB+lE,EAAYlyF,EAAQkyF,UACpBC,EAAYnyF,EAAQmyF,UACpBsJ,EAAkBz7F,EAAQy7F,gBAC1Bt7F,EAAQH,EAAQG,OAAS,GAEzBw7F,EAAwB,GAExBx7F,EAAMo3E,kBACRokB,EAAsBpkB,gBAAkBp3E,EAAMo3E,iBAG5Cp3E,EAAMq3E,gBACRmkB,EAAsBnkB,cAAgBr3E,EAAMq3E,gBAGf,IAA3Br3E,EAAMskF,oBAINyN,GAAeC,GAA+B,WAAlBhyF,EAAM02E,UACpC8kB,EAAsBpkB,gBAAkBokB,EAAsBpkB,iBACzD,GAAW,kBAAQkkB,GAAmBA,EAAiB,GAAMA,KAGhEtJ,GAAeD,GAA+B,WAAlB/xF,EAAM02E,UACpC8kB,EAAsBnkB,cAAgBmkB,EAAsBnkB,eACvD,GAAW,kBAAQikB,GAAmBA,EAAiBA,EAAgB/rG,OAAS,GAAM+rG,IAGzFt7F,EAAMy2E,eACR+kB,EAAsB1kG,UAAYkJ,EAAMy2E,cAG1CvmF,KAAK07D,UAAU04B,iBAAiBt4D,EAAYwvE,KAG9CnD,GAA2B3oG,UAAUs/F,OAAS,SAASnvF,GACrD,IAAI07F,EAAY17F,EAAQ07F,UACpBhG,EAAY11F,EAAQ01F,UACpBld,EAAex4E,EAAQw4E,aACvBrsD,EAAansB,EAAQmsB,WAczB,OAZIuvE,IACFvvE,EAAWjzB,OAASwiG,GAGlBhG,IACFvpE,EAAWx+B,OAAS+nG,GAGlBld,IACFrsD,EAAWl1B,UAAYuhF,GAGlBrsD,GC1ETssE,GAAoB75F,QAAU,CAAE,WAAY,SAc5C65F,GAAoB5oG,UAAUy6F,WAAa,SAAStqF,GAClD,IAOIotE,EAPA7xE,EAAOlL,KACPoT,EAAWpT,KAAK07D,UAChBzzC,EAAQjoB,KAAK8+D,OAEb0jC,EAAW7yF,EAAQ6yF,SACnBzhE,EAAUpxB,EAAQoxB,QAClBjxB,EAAQH,EAAQG,OAAS,GAG7B,SAASy7F,EAAa1iG,EAAQvL,EAAQw+B,GACpC,OAAO7T,EAAMF,QAAQ,uBAAwB,CAC3C+T,WAAYA,EACZjzB,OAAQA,EACRvL,OAAQA,IAKZ,IAsBIyK,EAtBA6hB,EAAW,CACbllB,EAAGq8B,EAAQr8B,EACXG,EAAGk8B,EAAQl8B,GAGTiiG,EAAY,CACdpiG,EAAG89F,EAAS99F,EACZG,EAAG29F,EAAS39F,EACZC,MAAO09F,EAAS19F,MAChBC,OAAQy9F,EAASz9F,QAGnBg4E,EAAWptE,EAAQotE,SACjBptE,EAAQotE,UACR7xE,EAAK8vB,YAAY+F,EAASnX,EAAU44E,EAASpiG,OAAQ0P,GAGnD0yF,EAAS7mB,MACXvoE,EAASo4F,iBAAiBzuB,EAAUylB,EAAS7mB,OAMpB,IAAvB7rE,EAAMo7F,eACRnjG,EAAWy6F,EAASz6F,SAASlB,QAE7BuM,EAASuqF,aAAa51F,EAAU,CAAErD,EAAG,EAAGG,EAAG,GAAKk4E,EAAUjtE,IAI5D,IAAIhH,EAAW05F,EAAS15F,SAASjC,QAC7BkC,EAAWy5F,EAASz5F,SAASlC,QAEjC,kBAAQiC,GAAU,SAASgzB,GAEXyvE,EADDzvE,EAAWjzB,OACWk0E,EAAUjhD,IAG3C5wB,EAAKugG,aACH3vE,EAAYihD,EACZyqB,GAAuB1rE,EAAYihD,EAAU+pB,GAC7Ch3F,MAKN,kBAAQ/G,GAAU,SAAS+yB,GACzB,IAAIx+B,EAASw+B,EAAWx+B,OACViuG,EAAaxuB,EAAUz/E,EAAQw+B,IAG3C5wB,EAAKwgG,eACH5vE,EAAYihD,EACZoqB,GAAuBrrE,EAAYihD,EAAU+pB,GAC7Ch3F,OAURs4F,GAAoB5oG,UAAU8/F,YAAc,SAAS3vF,GACnD,IAAI6yF,EAAW7yF,EAAQ6yF,SAEvBxiG,KAAK07D,UAAUvxB,YAAYq4D,IAI7B4F,GAAoB5oG,UAAUw/D,QAAU,SAASrvD,KAGjDy4F,GAAoB5oG,UAAUs/F,OAAS,SAASnvF,KAGhDy4F,GAAoB5oG,UAAUw7B,YAAc,SAAS9qB,EAAO0Z,EAAUtsB,EAAQwS,GAC5E,OAAO9P,KAAK07D,UAAU1gC,YAAY9qB,EAAO0Z,EAAUtsB,EAAQwS,IAI7Ds4F,GAAoB5oG,UAAUksG,eAAiB,SAAS5vE,EAAY+lE,EAAW8J,EAAc77F,GAC3F9P,KAAK07D,UAAUgwC,eAAe5vE,EAAY+lE,EAAW8J,EAAc77F,IAIrEs4F,GAAoB5oG,UAAUisG,aAAe,SAAS3vE,EAAYgmE,EAAW6J,EAAc77F,GACzF9P,KAAK07D,UAAU+vC,aAAa3vE,EAAYgmE,EAAW6J,EAAc77F,IC5HnEu4F,GAAmB95F,QAAU,CAAE,YAc/B85F,GAAmB7oG,UAAUw/D,QAAU,SAASrvD,GAC9C,IAAIO,EAAQP,EAAQO,MAChBiqF,EAAYxqF,EAAQwqF,UACpByR,EAAYj8F,EAAQi8F,UAExB,QAAoBptG,IAAhB27F,EAAUz1F,QAAmClG,IAAhB27F,EAAUt1F,QACnBrG,IAApB27F,EAAUr1F,YAA4CtG,IAArB27F,EAAUp1F,OAC7C,MAAM,IAAIhF,MAAM,wDAGlB,GAAI6rG,IAAczR,EAAUr1F,MAAQ8mG,EAAU9mG,OACzCq1F,EAAUp1F,OAAS6mG,EAAU7mG,QAChC,MAAM,IAAIhF,MAAM,iEACX,IAAK6rG,GACPzR,EAAUr1F,MAAQ,IAAMq1F,EAAUp1F,OAAS,GAC9C,MAAM,IAAIhF,MAAM,6CAmBlB,OAfA4P,EAAQm3F,UAAY,CAClBhiG,MAAQoL,EAAMpL,MACdC,OAAQmL,EAAMnL,OACdL,EAAQwL,EAAMxL,EACdG,EAAQqL,EAAMrL,GAIhB,iBAAOqL,EAAO,CACZpL,MAAQq1F,EAAUr1F,MAClBC,OAAQo1F,EAAUp1F,OAClBL,EAAQy1F,EAAUz1F,EAClBG,EAAQs1F,EAAUt1F,IAGbqL,GAGTm4F,GAAmB7oG,UAAU8/F,YAAc,SAAS3vF,GAClD,IAAIyD,EAAWpT,KAAK07D,UAEhBxrD,EAAQP,EAAQO,MAChB42F,EAAYn3F,EAAQm3F,WAGH,KAFTn3F,EAAQG,OAAS,IAEnBg7F,SAIV,kBAAQ56F,EAAMpH,UAAU,SAASzF,GAC/B+P,EAASghF,iBAAiB/wF,EAAG,CAC3B8jF,cAAeqgB,GAAuBnkG,EAAG6M,EAAO42F,QAIpD,kBAAQ52F,EAAMnH,UAAU,SAAS1F,GAC/B+P,EAASghF,iBAAiB/wF,EAAG,CAC3B6jF,gBAAiBigB,GAAuB9jG,EAAG6M,EAAO42F,UAMxDuB,GAAmB7oG,UAAUs/F,OAAS,SAASnvF,GAE7C,IAAIO,EAAQP,EAAQO,MAChB42F,EAAYn3F,EAAQm3F,UAUxB,OAPA,iBAAO52F,EAAO,CACZpL,MAAQgiG,EAAUhiG,MAClBC,OAAQ+hG,EAAU/hG,OAClBL,EAAQoiG,EAAUpiG,EAClBG,EAAQiiG,EAAUjiG,IAGbqL,GEnFTo4F,GAAiB/5F,QAAU,CAAE,YAE7B+5F,GAAiB9oG,UAAUy6F,WAAa,SAAStqF,GAC/C,IAAI2H,EAAQ3H,EAAQ2H,MAChByJ,EAAYpR,EAAQoR,UACpB8qF,EAAel8F,EAAQk8F,aACvBC,EAAiBn8F,EAAQm8F,eACzB/xF,EAAQpK,EAAQoK,MAChB+sF,EAAY,GAGhB9mG,KAAK+rG,WAAWF,EAAcv0F,GAG9B,kBAAQw0F,GAAgB,SAAS57F,GAC/B42F,EAAU52F,EAAMvH,IAoKpB,SAAmBuH,GACjB,MAAO,CACLxL,EAAGwL,EAAMxL,EACTG,EAAGqL,EAAMrL,EACTE,OAAQmL,EAAMnL,OACdD,MAAOoL,EAAMpL,OAzKSknG,CAAU97F,MAIlClQ,KAAKisG,aAAaH,EAAgBx0F,EAAOyJ,GAGzC/gB,KAAK8kG,0BDJA,SAAyC+G,EAAcC,GAC5D,IAAII,EAA+B,GAsBnC,OApBA,kBAAQL,EAAa3yF,OAAO4yF,IAAiB,SAAS57F,GACpD,IAAIpH,EAAWoH,EAAMpH,SACjBC,EAAWmH,EAAMnH,SAErB,kBAAQD,EAASoQ,OAAOnQ,IAAW,SAAS+yB,GAC1C,IAAIjzB,EAASizB,EAAWjzB,OACpBvL,EAASw+B,EAAWx+B,QAEpBm+F,GAASoQ,EAAchjG,IACzB4yF,GAASoQ,EAAcvuG,IACvBm+F,GAASqQ,EAAgBjjG,IACzB4yF,GAASqQ,EAAgBxuG,MAEpBm+F,GAASyQ,EAA8BpwE,IAC1CowE,EAA6BprG,KAAKg7B,UAMnCowE,EClBLC,CAAgCN,EAAcC,GAC9Cx0F,EACAyJ,EACAhH,EACA8xF,EACAC,EACAhF,IAIJwB,GAAiB9oG,UAAUw/D,QAAU,aACrCspC,GAAiB9oG,UAAUs/F,OAAS,aAEpCwJ,GAAiB9oG,UAAUusG,WAAa,SAASzvB,EAAQhlE,GACvD,IAAIpM,EAAOlL,KAEX,kBAAQs8E,GAAQ,SAAS9/E,GACvB0O,EAAKwwD,UAAUkvC,UAAUpuG,EAAS8a,EAAO,KAAM,CAC7C4iF,YAAY,EACZ4Q,QAAQ,EACRD,SAAS,QAKfvC,GAAiB9oG,UAAUysG,aAAe,SAAS3vB,EAAQhlE,EAAOyJ,GAChE,IAAI7V,EAAOlL,KAEX,kBAAQs8E,GAAQ,SAASpsE,GACvB,IAAIiqF,EDWD,SAAsB11F,EAAQsc,EAAWzJ,GAC9C,IAAI5S,EAAID,EAAOC,EACXG,EAAIJ,EAAOI,EACXC,EAAQL,EAAOK,MACfC,EAASN,EAAOM,OAChBimC,EAAK1zB,EAAM5S,EACXumC,EAAK3zB,EAAMzS,EAEf,OAAQkc,GACR,IAAK,IACH,MAAO,CACLrc,EAAGA,EACHG,EAAGA,EAAIomC,EACPnmC,MAAOA,EACPC,OAAQA,EAASkmC,GAErB,IAAK,IACH,MAAO,CACLvmC,EAAGA,EACHG,EAAGA,EACHC,MAAOA,EACPC,OAAQA,EAASkmC,GAErB,IAAK,IACH,MAAO,CACLvmC,EAAGA,EAAIsmC,EACPnmC,EAAGA,EACHC,MAAOA,EAAQkmC,EACfjmC,OAAQA,GAEZ,IAAK,IACH,MAAO,CACLL,EAAGA,EACHG,EAAGA,EACHC,MAAOA,EAAQkmC,EACfjmC,OAAQA,GAEZ,QACE,MAAM,IAAIhF,MAAM,sBAAwBghB,ICjDxBqrF,CAAal8F,EAAO6Q,EAAWzJ,GAE/CpM,EAAKwwD,UAAU2wC,YAAYn8F,EAAOiqF,EAAW,KAAM,CACjDmS,eAAe,EACfpS,YAAY,EACZ4Q,QAAQ,QAUdxC,GAAiB9oG,UAAUslG,0BAA4B,SACnDyH,EACAj1F,EACAyJ,EACAhH,EACA8xF,EACAC,EACAhF,GAEF,IAAI57F,EAAOlL,KACPwsG,EAAiBX,EAAa3yF,OAAO4yF,GAEzC,kBAAQS,GAAa,SAASzwE,GAC5B,IAAIjzB,EAASizB,EAAWjzB,OACpBvL,EAASw+B,EAAWx+B,OACpBsJ,EAyDR,SAAuBk1B,GACrB,OAAO,cAAIA,EAAWl1B,WAAW,SAASywC,GAQxC,OANAA,EAAWkxD,GAAalxD,IAEXnR,WACXmR,EAASnR,SAAWqiE,GAAalxD,EAASnR,WAGrCmR,KAlESo1D,CAAc3wE,GAC1B++C,EAAO2tB,GAAqBznF,GAC5B2rF,EAAc,CACZC,eAAe,GAGjB,GAASH,EAAgB3jG,IAAW,GAAS2jG,EAAgBlvG,IAG/DsJ,EAAY,cAAIA,GAAW,SAASywC,GAalC,OAZIoxD,GAAmBpxD,EAAUt9B,EAAOgH,KAGtCs2B,EAAUwjC,GAASxjC,EAAUwjC,GAASvjE,EAAOujE,IAG3CxjC,EAASnR,UAAYuiE,GAAmBpxD,EAASnR,SAAUnsB,EAAOgH,KAGpEs2B,EAASnR,SAAU20C,GAASxjC,EAASnR,SAAU20C,GAASvjE,EAAOujE,IAG1DxjC,KAGTnsC,EAAKwwD,UAAUgrB,gBAAgB5qD,EAAYl1B,EAAW,CACpD+lG,eAAe,MAER,GAASH,EAAgB3jG,IAAW,GAAS2jG,EAAgBlvG,MAGlE,GAASuuG,EAAchjG,GACzB6jG,EAAYxlB,gBAAkBugB,GAAqB3rE,EAAYjzB,EAAQyO,GAC9D,GAASu0F,EAAcvuG,GAChCovG,EAAYvlB,cAAgBygB,GAAqB9rE,EAAYx+B,EAAQga,GAC5D,GAASw0F,EAAgBjjG,GAClC6jG,EAAYxlB,gBAAkBigB,GAC5BrrE,EAAYjzB,EAAQi+F,EAAUj+F,EAAOF,KAE9B,GAASmjG,EAAgBxuG,KAClCovG,EAAYvlB,cAAgBqgB,GAC1B1rE,EAAYx+B,EAAQwpG,EAAUxpG,EAAOqL,MAIzCuC,EAAKwwD,UAAU04B,iBAAiBt4D,EAAY4wE,QC1IlD/D,GAA2Bp6F,QAAU,CAAE,YAGvCo6F,GAA2BnpG,UAAUw/D,QAAU,SAASrvD,GAEtD,IAAIO,EAAQP,EAAQO,MAChBnI,EAAWmI,EAAMnI,SAGrB4H,EAAQi9F,sBAsCV,SAASC,EAA+B3lG,GAEtC,IAAIW,EAAS,GAUb,OARA,kBAAQX,GAAU,SAAS1K,GACzBqL,EAAOrL,EAAQmM,IAAMnM,EAAQ8T,OAEzB9T,EAAQuL,WACVF,EAAS,iBAAO,GAAIA,EAAQglG,EAA+BrwG,EAAQuL,eAIhEF,EAlDyBglG,CAA+B9kG,GAG/DmI,EAAM48F,WAAa58F,EAAM48F,UAGzB,IAAIjlG,EAgDN,SAASklG,EAAmB7lG,EAAU8lG,GACpC,IAAInlG,EAAS,GAWb,OAVA,kBAAQX,GAAU,SAAS1K,GACzBA,EAAQ8T,OAAS08F,EAEjBnlG,EAASA,EAAOqR,OAAO1c,GAEnBA,EAAQuL,WACVF,EAASA,EAAOqR,OAAO6zF,EAAmBvwG,EAAQuL,SAAUvL,EAAQswG,WAAaE,QAI9EnlG,EA5DMklG,CAAmBhlG,EAAUmI,EAAM48F,WAEhD,MAAO,CAAC58F,GAAOgJ,OAAOrR,IAIxB8gG,GAA2BnpG,UAAUs/F,OAAS,SAASnvF,GAErD,IAAIO,EAAQP,EAAQO,MAChB08F,EAAwBj9F,EAAQi9F,sBAKhC/kG,EAiDN,SAASolG,EAA2B/lG,EAAUgmG,GAC5C,IAAIrlG,EAAS,GAWb,OAVA,kBAAQX,GAAU,SAAS1K,GACzBA,EAAQ8T,OAAS48F,EAAU1wG,EAAQmM,IAEnCd,EAASA,EAAOqR,OAAO1c,GAEnBA,EAAQuL,WACVF,EAASA,EAAOqR,OAAO+zF,EAA2BzwG,EAAQuL,SAAUmlG,QAIjErlG,EA7DMolG,CAHE/8F,EAAMnI,SAG6B6kG,GAKlD,OAFA18F,EAAM48F,WAAa58F,EAAM48F,UAElB,CAAC58F,GAAOgJ,OAAOrR,ICrCxB+gG,GAAwBr6F,QAAU,CAAE,YAGpCq6F,GAAwBppG,UAAUw/D,QAAU,SAASrvD,GACnD,IAAIO,EAAQP,EAAQO,MAChBu6F,EAAU96F,EAAQ86F,QAClB0C,EAAUj9F,EAAMyrE,KAYpB,OATAhsE,EAAQw9F,QAAUA,EAClBx9F,EAAQy9F,YAAcvE,GAAesE,EAASj9F,GAG9C44F,GAAY2B,EAASv6F,GAGrBA,EAAMyrE,KAAO8uB,EAENv6F,GAGT04F,GAAwBppG,UAAUs/F,OAAS,SAASnvF,GAClD,IAAIO,EAAQP,EAAQO,MAChBu6F,EAAU96F,EAAQ86F,QAClB0C,EAAUx9F,EAAQw9F,QAClBC,EAAcz9F,EAAQy9F,YAW1B,OARAl9F,EAAMyrE,KAAOwxB,EAGbtE,GAAe4B,EAASv6F,GAGxB44F,GAAYqE,EAASj9F,EAAOk9F,GAErBl9F,GC9CT64F,GAAuBvpG,UAAUw/D,QAAU,SAASrvD,GAElD,IAAImsB,EAAansB,EAAQmsB,WACrByqD,EAAe52E,EAAQ42E,aAM3B,OAJA52E,EAAQw4E,aAAersD,EAAWl1B,UAElCk1B,EAAWl1B,UAAY2/E,EAEhBzqD,GAGTitE,GAAuBvpG,UAAUs/F,OAAS,SAASnvF,GAEjD,IAAImsB,EAAansB,EAAQmsB,WACrBqsD,EAAex4E,EAAQw4E,aAI3B,OAFArsD,EAAWl1B,UAAYuhF,EAEhBrsD,GCiCT,GAASvtB,QAAU,CAAE,WAAY,iBAAkB,gBAGnD,GAAS/O,UAAU6tG,YAAc,WAC/B,MAAO,CACL,eAAgB5H,GAChB,eAAgBI,GAChB,eAAgBU,GAChB,aAAc2B,GACd,eAAgBG,GAChB,gBAAiBD,GACjB,uBAAwBO,GAExB,UAAaL,GAEb,eAAgBxC,GAEhB,oBAAqBJ,GACrB,oBAAqBS,GACrB,kBAAmBS,GACnB,oBAAqBD,GAErB,6BAA8BoC,GAE9B,uBAAwBZ,GAExB,kBAAmBxC,GACnB,gBAAiBqC,GACjB,kBAAmB5B,GAEnB,sBAAuB,GACvB,iBAAkB,GAElB,2BAA4BwC,KAShC,GAASppG,UAAUwpG,iBAAmB,SAAShhF,GAC7C,kBAAQhoB,KAAKqtG,eAAe,SAASlqF,EAASxa,GAC5Cqf,EAAa+2C,gBAAgBp2D,EAAIwa,OAOrC,GAAS3jB,UAAUorG,UAAY,SAAS16F,EAAOoH,EAAOstF,EAAWwF,EAAgBt6F,GAEjD,iBAAnBs6F,IACTt6F,EAAQs6F,EACRA,EAAiB,MAGnB,IAAIz6F,EAAU,CACZO,MAAOA,EACPoH,MAAQA,EACRstF,UAAWA,EACXwF,eAAgBA,EAChBt6F,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,aAAcrvD,IAU3C,GAASnQ,UAAUgsG,iBAAmB,SAASt7F,EAAOu6F,GACpD,IAAI96F,EAAU,CACZO,MAAOA,EACPu6F,QAASA,GAGXzqG,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,IAczD,GAASnQ,UAAUm+F,aAAe,SAASrhB,EAAQhlE,EAAOha,EAAQwS,GAIhE,IAGI26F,EAHA5c,GAFJ/9E,EAAQA,GAAS,IAEE+9E,OAEf+W,EAAYtnG,GAGD,IAAXuwF,GACF4c,EAAUntG,EACVsnG,EAAYtnG,EAAO8C,SAGN,IAAXytF,IACF4c,EAAU,MAGZ,IAAI96F,EAAU,CACZ2sE,OAAQA,EACRhlE,MAAOA,EACPstF,UAAWA,EACX6F,QAASA,EACT36F,MAAOA,GAGT9P,KAAK8nB,cAAck3C,QAAQ,gBAAiBrvD,IAI9C,GAASnQ,UAAUyrG,eAAiB,SAASnvE,EAAYxkB,EAAOstF,EAAWwF,EAAgBt6F,GAE3D,iBAAnBs6F,IACTt6F,EAAQs6F,EACRA,OAAiB5rG,GAGnB,IAAImR,EAAU,CACZmsB,WAAYA,EACZxkB,MAAOA,EACPstF,UAAWA,EACXwF,eAAgBA,EAChBt6F,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,kBAAmBrvD,IAIhD,GAASnQ,UAAU40F,iBAAmB,SAASt4D,EAAYhsB,GACzD,IAAIH,EAAU,CACZmsB,WAAYA,EACZhsB,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,oBAAqBrvD,IAgBlD,GAASnQ,UAAUy7B,iBAAmB,SAASpyB,EAAQvL,EAAQysC,EAAajO,EAAY17B,EAAQ0P,GAEnE,iBAAhBi6B,IACTj6B,EAAQ1P,EACRA,EAAS07B,EACTA,EAAaiO,EACbA,OAAcvrC,GAKhB,IAAImR,EAAU,CACZ9G,OAAQA,EACRvL,OAAQA,EACR8C,OAAQA,EACR2pC,YAAaA,EACbjO,WAPFA,EAAa97B,KAAK8yF,QAAQ,aAAch3D,GAQtChsB,MAAOA,GAKT,OAFA9P,KAAK8nB,cAAck3C,QAAQ,oBAAqBrvD,GAEzCA,EAAQmsB,YAgBjB,GAASt8B,UAAUw7B,YAAc,SAAS9qB,EAAO0Z,EAAUtsB,EAAQysC,EAAaj6B,GAEnD,iBAAhBi6B,IACTj6B,EAAQi6B,EACRA,OAAcvrC,GAKhB,IACI4B,EACAu7E,EAFAkS,GAFJ/9E,EAAQA,GAAS,IAEE+9E,OAInB39E,EAAQlQ,KAAK8yF,QAAQ,QAAS5iF,GAE1B29E,GACFztF,EAAS9C,EAAO8C,OAChBu7E,EAAOr+E,GAEP8C,EAAS9C,EAGX,IAAIqS,EAAU,CACZia,SAAUA,EACV1Z,MAAOA,EACP9P,OAAQA,EACR2pC,YAAaA,EACb4xC,KAAMA,EACN7rE,MAAOA,GAKT,OAFA9P,KAAK8nB,cAAck3C,QAAQ,eAAgBrvD,GAEpCA,EAAQO,OAIjB,GAAS1Q,UAAU2uF,eAAiB,SAASjnF,EAAU0iB,EAAUxpB,EAAQ2pC,EAAaj6B,GAC/E,kBAAQ5I,KACXA,EAAW,CAAEA,IAGY,iBAAhB6iC,IACTj6B,EAAQi6B,EACRA,OAAcvrC,GAKhB,IAAImR,EAAU,CACZia,SAAUA,EACV1iB,SAAUA,EACV9G,OAAQA,EACR2pC,YAAaA,EACbj6B,MAPFA,EAAQA,GAAS,IAYjB,OAFA9P,KAAK8nB,cAAck3C,QAAQ,kBAAmBrvD,GAEvCA,EAAQzI,UAIjB,GAAS1H,UAAUu7B,YAAc,SAAS6gD,EAAahyD,EAAU8R,EAAOt7B,GAEtEs7B,EAAQ17B,KAAK8yF,QAAQ,QAASp3D,GAE9B,IAAI/rB,EAAU,CACZisE,YAAaA,EACbhyD,SAAUA,EACVxpB,OAAQA,GAAUw7E,EAAYx7E,OAC9B8P,MAAOwrB,GAKT,OAFA17B,KAAK8nB,cAAck3C,QAAQ,eAAgBrvD,GAEpCA,EAAQO,OAmBjB,GAAS1Q,UAAUw9E,YAAc,SAASn0E,EAAQqH,EAAO0Z,EAAUtsB,EAAQwS,GAEzEA,EAAQA,GAAS,GAIjB,IAAIH,EAAU,CACZ9G,OAAQA,EACR+gB,SAAUA,EACVtsB,OAAQA,EACR4S,MANFA,EAAQlQ,KAAK8yF,QAAQ,QAAS5iF,GAO5B4rB,WAAYhsB,EAAMgsB,WAClBwxE,iBAAkBx9F,EAAMw9F,iBACxBx9F,MAAOA,GAKT,OAFA9P,KAAK8nB,cAAck3C,QAAQ,eAAgBrvD,GAEpCA,EAAQO,OAIjB,GAAS1Q,UAAUi0F,eAAiB,SAASvsF,GAC3C,IAAIyI,EAAU,CACZzI,SAAUA,GAGZlH,KAAK8nB,cAAck3C,QAAQ,kBAAmBrvD,IAIhD,GAASnQ,UAAUi3F,mBAAqB,SAASL,EAAQvb,EAAMC,GAC7D,IAAInrE,EAAU,CACZymF,OAAQA,EACRvb,KAAMA,EACNC,UAAWA,GAGb96E,KAAK8nB,cAAck3C,QAAQ,sBAAuBrvD,IAIpD,GAASnQ,UAAU2qC,YAAc,SAASj6B,EAAOJ,GAC/C,IAAIH,EAAU,CACZO,MAAOA,EACPJ,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,eAAgBrvD,IAI7C,GAASnQ,UAAU4qC,iBAAmB,SAAStO,EAAYhsB,GACzD,IAAIH,EAAU,CACZmsB,WAAYA,EACZhsB,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,oBAAqBrvD,IAGlD,GAASnQ,UAAU2xF,aAAe,SAASqR,EAAUzlB,EAAUjtE,GAC7D,IAAIH,EAAU,CACZ6yF,SAAUA,EACVzhE,QAASg8C,EACTjtE,MAAOA,GAAS,IAKlB,OAFA9P,KAAK8nB,cAAck3C,QAAQ,gBAAiBrvD,GAErCA,EAAQotE,UAGjB,GAASv9E,UAAUs8E,cAAgB,SAAS50E,EAAUo0E,GACpD,IAAI3rE,EAAU,CACZzI,SAAUA,EACVo0E,UAAWA,GAGbt7E,KAAK8nB,cAAck3C,QAAQ,iBAAkBrvD,IAG/C,GAASnQ,UAAU6sG,YAAc,SAASn8F,EAAOiqF,EAAWyR,EAAW97F,GACrE,IAAIH,EAAU,CACZO,MAAOA,EACPiqF,UAAWA,EACXyR,UAAWA,EACX97F,MAAOA,GAGT9P,KAAK8nB,cAAck3C,QAAQ,eAAgBrvD,IAG7C,GAASnQ,UAAU+tG,YAAc,SAAS1B,EAAcC,EAAgBx0F,EAAOyJ,EAAWhH,GACxF,IAAIpK,EAAU,CACZ2H,MAAOA,EACPyJ,UAAWA,EACX8qF,aAAcA,EACdC,eAAgBA,EAChB/xF,MAAOA,GAGT/Z,KAAK8nB,cAAck3C,QAAQ,YAAarvD,IAG1C,GAASnQ,UAAUknF,gBAAkB,SAAS5qD,EAAYyqD,EAAcz2E,GACtE,IAAIH,EAAU,CACZmsB,WAAYA,EACZyqD,aAAcA,EACdz2E,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,6BAA8BrvD,IAG3D,GAASnQ,UAAUonF,UAAY,SAAS9qD,EAAYjzB,EAAQvL,EAAQ8tG,EAAiBt7F,GACnF,IAAIH,EAAU,CACZmsB,WAAYA,EACZ+lE,UAAWh5F,EACXi5F,UAAWxkG,EACX8tG,gBAAiBA,EACjBt7F,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,uBAAwBrvD,IAGrD,GAASnQ,UAAUksG,eAAiB,SAAS5vE,EAAY+lE,EAAWuJ,EAAiBt7F,GAC9EA,IACHA,EAAQ,IAGV9P,KAAK4mF,UAAU9qD,EAAY+lE,EAAW/lE,EAAWx+B,OAAQ8tG,EAAiB,iBAAOt7F,EAAO,CACtF02E,QAAS,aAIb,GAAShnF,UAAUisG,aAAe,SAAS3vE,EAAYgmE,EAAWsJ,EAAiBt7F,GAC5EA,IACHA,EAAQ,IAGV9P,KAAK4mF,UAAU9qD,EAAYA,EAAWjzB,OAAQi5F,EAAWsJ,EAAiB,iBAAOt7F,EAAO,CACtF02E,QAAS,aAIb,GAAShnF,UAAUusF,QAAU,SAASljF,EAAQvL,EAAQqB,EAAOmR,GAC3D,OAAO9P,KAAKi7B,iBAAiBpyB,EAAQvL,EAAQqB,GAAS,GAAIkK,EAAOzI,OAAQ0P,IAG3E,GAAStQ,UAAUszF,QAAU,SAASr2F,EAAMkC,GAC1C,OAAIA,aAAiB,KACZA,EAEAqB,KAAK+2C,gBAAgBp0C,OAAOlG,EAAMkC,IAI7C,GAASa,UAAUguG,eAAiB,SAASt9F,EAAOJ,GAClD,IAAIH,EAAU,CACZO,MAAOA,EACPJ,MAAOA,GAAS,IAGlB9P,KAAK8nB,cAAck3C,QAAQ,uBAAwBrvD,ICpgBrDs5F,GAAe16F,QAAU,CAAC,UAE1B06F,GAAezpG,UAAUw/D,QAAU,SAAUrvD,GAC3C,IAAInF,EAAMxK,KAAK23D,QAAQntD,IACnB7B,EAAKgH,EAAQhH,GACbnM,EAAUmT,EAAQnT,QACPmT,EAAQ89F,SAGrBjjG,EAAIu2D,MAAMp4D,EAAInM,GAEdgO,EAAIw2D,QAAQr4D,IAQhBsgG,GAAezpG,UAAUs/F,OAAS,SAAUnvF,GAC1C,IAAInF,EAAMxK,KAAK23D,QAAQntD,IACnB7B,EAAKgH,EAAQhH,GACbnM,EAAUmT,EAAQnT,QACPmT,EAAQ89F,SAGrBjjG,EAAIw2D,QAAQr4D,GAEZ6B,EAAIu2D,MAAMp4D,EAAInM,IElBH,SAASkxG,GAAwBh+F,EAAiBwrD,GAC/Dl7D,KAAK2f,iBAAmBjQ,EACxB1P,KAAK23D,QAAUuD,EA0EjB,SAAS,GAAW3Y,EAAYxlD,GAC9B,MAxFO,OAwFMwlD,GAAcA,EAAa,KAAMxlD,EAAiB,GAUjE,SAAS4wG,GAAc5wG,EAAgBwlD,GACrC,kBAAQA,GAAY,SAAUvkD,EAAO6U,GACnC9V,EAAey+B,IAAI3oB,EAAK7U,MCvFb,SAAS,GAASgQ,EAAQ+1F,EAAUl8E,GACjD7nB,KAAKkO,QAAUF,EACfhO,KAAKwkG,UAAYT,EACjBl8E,EAAS6b,OAAO,GAAc1jC,MCRjB,SAAS4tG,MFOxBF,GAAwBn/F,QAAU,CAAC,kBAAmB,UAYtDm/F,GAAwBluG,UAAUw/D,QAAU,SAAUrvD,GACpD,IAAInT,EAAUmT,EAAQnT,QAClBihC,EAAU,CAACjhC,GAEf,IAAKA,EACH,MAAM,IAAIuD,MAAM,oBAGlB,IAAI2P,EAAkB1P,KAAK2f,iBACvBnV,EAAMxK,KAAK23D,QAAQntD,IACnBzN,EAAiBP,EAAQO,eACzBwlD,EAAa5yC,EAAQ4yC,WACrBugD,EAAgBnzF,EAAQmzF,eAoD9B,SAAuB/lG,EAAgB8wG,GACrC,OAAO,iBAAOA,GAAe,SAAUhmG,EAAQgL,GAE7C,OADAhL,EAAOgL,GAAO9V,EAAe6R,IAAIiE,GAC1BhL,IACN,IAxD0CimG,CAAc/wG,EAAgB,eAAKwlD,IAkBhF,OAhBI,GAAWA,EAAYxlD,KACzByN,EAAIw2D,QAAQjkE,EAAiB,IAC7B2S,EAAgBy9B,SAAS3wC,EAAS+lD,EAAa,IAC/C/3C,EAAIu2D,MAAMxe,EAAa,GAAGxlD,IA7CnB,SAgDGwlD,GAAc/lD,EAAQk/B,OAChC+B,EAAQ38B,KAAKtE,EAAQk/B,OAIvBiyE,GAAc5wG,EAAgBwlD,GAE9B5yC,EAAQmzF,cAAgBA,EACxBnzF,EAAQ8tB,QAAUA,EAEXA,GAWTiwE,GAAwBluG,UAAUs/F,OAAS,SAAUnvF,GACnD,IAAInT,EAAUmT,EAAQnT,QAClB+lD,EAAa5yC,EAAQ4yC,WACrBugD,EAAgBnzF,EAAQmzF,cACxB/lG,EAAiBP,EAAQO,eACzB2S,EAAkB1P,KAAK2f,iBACvBnV,EAAMxK,KAAK23D,QAAQntD,IAUvB,OARAmjG,GAAc5wG,EAAgB+lG,GAE1B,GAAWvgD,EAAYxlD,KACzByN,EAAIw2D,QAAQze,EAAa,IACzB7yC,EAAgBy9B,SAAS3wC,EAASsmG,EAAgB,IAClDt4F,EAAIu2D,MAAM+hC,EAAgB,GAAG/lG,IAGxB4S,EAAQ8tB,SClEjB,IAAS,GAAU,IACnB,GAASlvB,QAAU,CAAC,SAAU,WAAY,YAE1C,GAAS/O,UAAUuuG,QAAU,SAAUplG,EAAIqlG,GACzChuG,KAAK8nB,cAAck3C,QAAQ,iBAAkB,CAC3Cr2D,GAAIA,EACJnM,QAASwxG,EACTP,UAAU,KAId,GAASjuG,UAAUusF,QAAU,SAAUljF,EAAQvL,EAAQqB,EAAOmR,GAC5D,IAAIi0F,EAAW/jG,KAAKwkG,UAChB37D,EAAc7oC,KAAKkO,QAAQkC,iBAQ/B,OANKzR,IACHA,EAAQolG,EAASjY,WAAWjjF,EAAQvL,IAAW,CAC7Cb,KAAM,oBAIHuD,KAAKi7B,iBAAiBpyB,EAAQvL,EAAQqB,EAAOkqC,EAAa/4B,IAGnE,GAAStQ,UAAU6tG,YAAc,WAC/B,IAAIhrF,EAAW,GAAa7iB,UAAU6tG,YAAYnsG,KAAKlB,MAIvD,OAHAqiB,EAAS,kBAAoB4mF,GAC7B5mF,EAAS,uBAAyB6mF,GAClC7mF,EAAS,4BAA8BqrF,GAChCrrF,GAGT,GAAS7iB,UAAUijG,UAAY,SAAU95F,EAAIqlG,GAC3ChuG,KAAK8nB,cAAck3C,QAAQ,iBAAkB,CAC3Cr2D,GAAIA,EACJnM,QAASwxG,KAIb,GAASxuG,UAAU81F,iBAAmB,SAAU94F,EAAS+lD,GACvDviD,KAAK8nB,cAAck3C,QAAQ,2BAA4B,CACrDxiE,QAASA,EACT+lD,WAAYA,KAIhB,GAAS/iD,UAAUqhG,YAAc,SAAUrkG,EAASi/B,EAAU0+D,EAAWrqF,GACvE9P,KAAK8nB,cAAck3C,QAAQ,sBAAuB,CAChDxiE,QAASA,EACTi/B,SAAUA,EACV0+D,UAAWA,EACXrqF,MAAOA,GAAS,MC3CpB89F,GAAapuG,UAAU40F,iBAAmB,SAASt4D,EAAYhsB,GAI7D,MAAO,EAFPA,EAAQA,GAAS,IAGTo3E,iBAAmB,YAAOp3E,EAAMjH,QAAUizB,EAAWjzB,QAC3DiH,EAAMq3E,eAAiB,YAAOr3E,EAAMxS,QAAUw+B,EAAWx+B,UC5B9C,SAAS2wG,GAAYpnB,GAClC7mF,KAAK4zF,mBAAqB/M,EAuD5B,SAASqnB,GAAqBjpG,EAAOiL,GACnC,OAAOjL,EAAQA,EAAMihC,UAAYjhC,EAAQ,YAAOiL,GCtDlD,SAASi+F,GAAe3nB,GAItB,OAAO,iBAAO,CAAEtgD,SAAUsgD,EAAQvhF,MAAMihC,UAAYsgD,EAAQvhF,OAASuhF,EAAQ4nB,QAUhE,SAASC,GAA0B3+F,EAAiBy3B,GACjEnnC,KAAK2f,iBAAmBjQ,EACxB1P,KAAKonC,iBAAmBD,EDhB1B,IAAS8mE,GAAaL,IACtBK,GAAY1/F,QAAU,CAAC,qBAEvB0/F,GAAYzuG,UAAU40F,iBAAmB,SAAUt4D,EAAYhsB,GAC7D,IAAI+2E,EAAoB7mF,KAAK4zF,mBAExB9jF,IACHA,EAAQ,IAGV,IAAIjH,EAASiH,EAAMjH,QAAUizB,EAAWjzB,OACpCvL,EAASwS,EAAMxS,QAAUw+B,EAAWx+B,OACpCsJ,EAAYkJ,EAAMlJ,WAAak1B,EAAWl1B,WAAa,GACvDsgF,EAAkBp3E,EAAMo3E,gBACxBC,EAAgBr3E,EAAMq3E,cACtB9L,EAAc,YAAexyE,EAAQvL,GAUzC,GARK4pF,IACHA,EAAkBgnB,GAAqBtnG,EAAU,GAAIiC,IAGlDs+E,IACHA,EAAgB+mB,GAAqBtnG,EAAUA,EAAUvH,OAAS,GAAI/B,IAGpE,YAAGw+B,EAAY,8BAA+B,CAChDl1B,EAAY,CAACsgF,EAAiBC,GAC9B,IAAIe,EAAmBrB,EAAkBC,oBAAoB,iBAAO,GAAIhrD,EAAY,CAClFl1B,UAAWA,IACTiC,EAAQvL,GAERgxG,EAAqB,CACvB5pG,GAFFyiF,EAAgBe,EAAiBnmD,OAEdr9B,EACjBG,EAAGsiF,EAActiF,GAcnB,OAXIw2E,EAAYogB,SAAS,UACvB6S,EAAmBzpG,GAzCU,GA0CpBw2E,EAAYogB,SAAS,OAC9B6S,EAAmBzpG,GA3CU,GA4CpBw2E,EAAYogB,SAAS,SAC9B6S,EAAmB5pG,GA7CU,GA+C7B4pG,EAAmB5pG,GA/CU,GAkD/BkC,EAAYshF,EAAiBhvE,OAAO,CAACo1F,EAAoBnnB,IAI3D,MAAO,CAACD,EAAiBC,IC/B3BknB,GAA0B9/F,QAAU,CAAE,kBAAmB,mBAMzD8/F,GAA0B7uG,UAAUsnF,oBAAsB,SAAShrD,EAAYjzB,EAAQvL,GAErFuL,EAASA,GAAUizB,EAAWjzB,OAC9BvL,EAASA,GAAUw+B,EAAWx+B,OAE9B,IAAIixG,EAAgBvuG,KAAKwuG,gBAAgB1yE,EAAYjzB,GAAQ,GACzD4lG,EAAgBzuG,KAAKwuG,gBAAgB1yE,EAAYx+B,GAEjD4qF,EAAmBpsD,EAAWl1B,UAAUC,MAAM0nG,EAAcvnG,IAAM,EAAGynG,EAAcznG,KAKvF,OAHAkhF,EAAiBtqD,QAAQuwE,GAAeI,IACxCrmB,EAAiBpnF,KAAKqtG,GAAeM,IAE9BvmB,GAQTmmB,GAA0B7uG,UAAUgvG,gBAAkB,SAAS1yE,EAAY5rB,EAAOw+F,GAEhF,IACIC,EACAhD,EAFA/kG,EAAYk1B,EAAWl1B,UAU3B,MAAO,CACL3B,MALF0mG,EAAe/kG,EADf+nG,EAAaD,EAAY,EAAI9nG,EAAUvH,OAAS,GAO9C+uG,OAJapuG,KAAK4uG,iBAAiB1+F,EAAO4rB,EAAY4yE,IAI9B/C,EACxB3kG,IAAK2nG,IAOTN,GAA0B7uG,UAAUovG,iBAAmB,SAAS1+F,EAAO4rB,EAAY+yE,GAEjF,IAAI7oE,EAAYhmC,KAAK8uG,cAAc5+F,GAC/B+1B,EAAiBjmC,KAAK+uG,mBAAmBjzE,GAE7C,OAAO,YAA2BkK,EAAWC,EAAgB4oE,IAG/DR,GAA0B7uG,UAAUuvG,mBAAqB,SAASjzE,GAChE,OAAO97B,KAAKonC,iBAAiB3B,kBAAkB3J,IAGjDuyE,GAA0B7uG,UAAUsvG,cAAgB,SAAS5+F,GAC3D,OAAOlQ,KAAKonC,iBAAiB5B,aAAat1B,IAG5Cm+F,GAA0B7uG,UAAUwvG,QAAU,SAASxyG,GACrD,OAAOwD,KAAK2f,iBAAiBuC,YAAY1lB,IClF5B,QACb+T,SAAU,CAAC,WAAY,cACvBC,YAAa,CAAC,GAAkB,GAAO,KAA4B,GAAgB,IAAkB,IACrGgtE,WAAY,CAAC,OAAQwmB,IACrB3L,WAAY,CAAC,OAAQkM,IACrBr2D,eAAgB,CAAC,OAAQ,GACzB96B,SAAU,CAAC,OAAQ,IACnB+tF,SAAU,CAAC,OAAQ8M,IACnBpnB,kBAAmB,CAAC,OAAQwnB,K,UCH1B,GAAQ1pG,KAAKC,MAkBF,SAASqqG,GACpBlhG,EAAUqwC,EAAUhrC,EACpBlE,EAAW+Y,GAIb,SAAS67E,EAAQxnB,EAAQhlE,EAAOsS,EAAUtsB,GAExC,OAAO2qB,EAAMF,QAAQ,gBAAiB,CACpCu0D,OAAQA,EACRhlE,MAAOA,EACPsS,SAAUA,EACVtsB,OAAQA,IAkJZ,SAASyc,EAAMvK,EAAOhT,EAAS4jF,EAAUzwE,GAOvC,GANI,mBAASywE,KACXzwE,EAAUywE,EACVA,GAAW,IAIT5jF,EAAQoK,WAAcpK,EAAQ4D,OAAlC,CAIA,IAAI8uG,EAzLR,SAAa1yG,GACX,MAAO,CACLkI,EAAGlI,EAAQkI,EAAI,GAAMlI,EAAQsI,MAAQ,GACrCD,EAAGrI,EAAQqI,EAAI,GAAMrI,EAAQuI,OAAS,IAsLjB,CAAIvI,GAYzB,OAVA4hD,EAASj4B,KAAK3W,EAAO0/F,EAAgB,aAAc,CACjDnuB,OAAQ,WACRgB,aAAc3B,EACd94D,KAAM,CACJpX,MAAO1T,EACPmT,QAASA,GAAW,OAKjB,GAvJT5B,EAASK,GAAG,mBAxDM,MAwD6B,SAASoB,GAEtD,IA8KkBtI,EAEhBsD,EAhLEmF,EAAUH,EAAMG,QAChBO,EAAQV,EAAMU,MACdosE,EAASptE,EAAUN,MAAM/H,SAIE,IAA3By1E,EAAOl9E,QAAQ8Q,KACjBosE,EAAS,CAAEpsE,IAuKKhJ,EAlKIo1E,EAoKpB9xE,EAAM,kBAAQtD,EAAU,MApK1Bo1E,EAsKK,iBAAOp1E,GAAU,SAAS1K,GAC/B,KAAQA,EAAUA,EAAQ4D,QAGxB,GAAIoK,EAAIhO,EAAQmM,IACd,OAAO,EAIX,OAAO,KA5KP,iBAAOgH,EAAS,CACd2sE,OAAQA,EACR6yB,gBAAiB7yB,EACjBpsE,MAAOA,OASXnC,EAASK,GAAG,mBAtFQ,MAsF6B,SAASoB,GAExD,IAAIG,EAAUH,EAAMG,QAChBw/F,EAAkBx/F,EAAQw/F,gBAM9B,KAHax/F,EAAQC,WAAak0F,EAAQqL,IAIxC,OAAO,KAQXphG,EAASK,GAAG,kBAzGK,KAyG4B,SAASoB,GAEpD,IAKII,EALAD,EAAUH,EAAMG,QAChBw/F,EAAkBx/F,EAAQw/F,gBAC1Bn/F,EAAQR,EAAMQ,MACdsH,EAAQ,CAAE5S,EAAG8K,EAAMw7B,GAAInmC,EAAG2K,EAAMy7B,IAKpCr7B,EAAak0F,EAAQqL,EAAiB73F,EAJvB,CAAE5S,EAAG8K,EAAM9K,EAAGG,EAAG2K,EAAM3K,GAIiBmL,GAEvDL,EAAQ2H,MAAQA,EAChB3H,EAAQC,WAAaA,EASrBD,EAAQrS,OANW,OAAfsS,EAMaI,EALE,QAQrBjC,EAASK,GAAG,kBAAkB,SAASoB,GAErC,IAAIG,EAAUH,EAAMG,QAEhB2H,EAAQ3H,EAAQ2H,MAChB1H,EAAaD,EAAQC,WACrBw/F,EAA0B,WAAfx/F,EACX0sE,EAAS3sE,EAAQ2sE,OAErB,IAAmB,IAAf1sE,EACF,OAAO,EAKT0H,EAAM5S,EAAI,GAAM4S,EAAM5S,GACtB4S,EAAMzS,EAAI,GAAMyS,EAAMzS,GAEN,IAAZyS,EAAM5S,GAAuB,IAAZ4S,EAAMzS,GAM3BuO,EAASuqF,aAAarhB,EAAQhlE,EAAO3H,EAAQrS,OAAQ,CACnDotG,aAAc/6F,EAAQO,MACtB29E,OAAQuhB,OAOZrhG,EAASK,GAAG,qBAAqB,SAASoB,GAExC,GAAK,aAAgBA,GAArB,CAIA,IAAI8B,EAAgB,YAAiB9B,GAErC,IAAK8B,EACH,MAAM,IAAIvR,MAAM,mCAGlB,OAAOga,EAAMzI,EAAe9B,EAAMhT,aAuCpCwD,KAAK+Z,MAAQA,EAGfk1F,GAAW1gG,QAAU,CACnB,WACA,WACA,WACA,YACA,SC7MF,IAGI,GAAY,UACZ,GAAgB,cAChB,GAAoB,aACpB,GAAgB,YAWL,SAAS8gG,GACpBthG,EAAUC,EAAQmB,EAAQk+E,GAE5B,SAASiiB,EAAoBhzB,GAK3B,OA+KJ,SAAqBp1E,GAenB,OAbuB,iBAAOA,GAAU,SAAS1K,GAE/C,OAqBJ,SAAsBA,GACpB,OAAOA,EAAQoK,UAtBR,CAAapK,IAKd,eAAK0K,EAAU,uBAAa,CAAEyB,GAAInM,EAAQqM,OAAOF,OACjD,eAAKzB,EAAU,uBAAa,CAAEyB,GAAInM,EAAQc,OAAOqL,SA3L9B4mG,CAFRC,EAAsBlzB,IAOvC,SAASkzB,EAAsBlzB,GAC7B,IAAIj0E,EAAY,aAAmBi0E,GAAQ,GAEvC/zE,EAAiB,cAAIF,GAAW,SAAS6H,GAC3C,OAAQA,EAAMpH,UAAY,IAAIoQ,OAAOhJ,EAAMnH,UAAY,OAGzD,OAAO,kBAAQV,EAAU6Q,OAAO3Q,IAMlC,SAASklF,EAAUjxF,EAAS6uB,GAE1B,CAAE,GAAe,GAAW,GAAe,IAAoBrE,SAAQ,SAASqO,GAE1EA,IAAMhK,EACRrd,EAAOoB,UAAU5S,EAAS64B,GAE1BrnB,EAAOsB,aAAa9S,EAAS64B,MA8BnCtnB,EAASK,GAAG,mBA9EK,KA8E6B,SAASoB,GACrD,IA2I0BtI,EA3ItByI,EAAUH,EAAMG,QAChB8/F,EAAa9/F,EAAQ2sE,OACrBozB,EAAqB//F,EAAQ+/F,mBAE7BC,EAAwBL,EAAoBG,GAEhD,IAAK9/F,EAAQ4+E,UAAW,CACtB,IAAIA,EAAY,aAAU,KAE1B,aAAQA,EAAWp/E,EAAOE,IAAI,iBAAkB,CAAE,eAElD,IAAIi/E,EAActgF,EAAOk7B,iBAEzB,aAAUolD,EAAaC,GAEvB5+E,EAAQ4+E,UAAYA,EAItBohB,EAAsB3oF,SAAQ,SAAS9W,GACrCm9E,EAAeV,WAAWz8E,EAAOP,EAAQ4+E,cAQzCmhB,EAHGA,EAGkB,kBAAQ,CAC3BA,EACAF,EAAsBC,KAJHD,EAAsBC,GAS7C,kBAAQC,GAAoB,SAASjyG,GACnCuQ,EAAOoB,UAAU3R,EAjHD,mBAoHlBkS,EAAQ+/F,mBAAqBA,EAG7B//F,EAAQigG,kBAiGkB1oG,EAjGsBuoG,EAkGkC,IAA7E,eAAK,kBAAQvoG,GAAU,SAASzJ,GAAK,OAAOA,EAAE2C,QAAU3C,EAAE2C,OAAOuI,WA9FxEoF,EAASK,GAAG,kBA7HK,KA6H4B,SAASoB,GAEpD,IAAIG,EAAUH,EAAMG,QAChB4+E,EAAY5+E,EAAQ4+E,UACpBjxF,EAASqS,EAAQrS,OACjB8C,EAASuP,EAAQO,MAAM9P,OACvBwP,EAAaD,EAAQC,WAErBtS,IACiB,WAAfsS,EACF69E,EAAUnwF,EAAQ,IACTqS,EAAQC,YAActS,GAAUA,EAAOqL,KAAOvI,EAAOuI,GAC9D8kF,EAAUnwF,EAAQ,IAElBmwF,EAAUnwF,EAAQqS,EAAQC,WAAa,GAAY,KAIvD,aAAU2+E,EAAW/+E,EAAMw7B,GAAIx7B,EAAMy7B,OAGvCl9B,EAASK,GAAG,CAAE,iBAAkB,uBAAwB,SAASoB,GAC/D,IACIlS,EADUkS,EAAMG,QACCrS,OAEjBA,GACFmwF,EAAUnwF,EAAQ,SAKtByQ,EAASK,GAAG,sBAAsB,SAASoB,GAEzC,IAAIG,EAAUH,EAAMG,QAChB+/F,EAAqB//F,EAAQ+/F,mBAC7BnhB,EAAY5+E,EAAQ4+E,UAIxB,kBAAQmhB,GAAoB,SAASjyG,GACnCuQ,EAAOsB,aAAa7R,EAnKJ,mBAsKd8wF,GACF,aAAUA,MAcdvuF,KAAK6vG,cA3HL,SAAuBlgG,EAASnT,EAAS4S,GAEvCi+E,EAAeV,WAAWnwF,EAASmT,EAAQ4+E,WAEvCn/E,GACFpB,EAAOoB,UAAU5S,EA/DD,gBAkEdmT,EAAQ+/F,mBACV//F,EAAQ+/F,mBAAmB5uG,KAAKtE,GAEhCmT,EAAQ+/F,mBAAqB,CAAElzG,IAmHrC6yG,GAAY9gG,QAAU,CACpB,WACA,SACA,SACA,kBC5Ma,QACbiC,YAAa,CACX,KACA,IACA,KACA,GACA,GACA,IAEFD,SAAU,CACR,OACA,eAEFiwC,KAAM,CAAE,OAAQ,IAChBsvD,YAAa,CAAE,OAAQT,KCSV,SAASU,GAAQhiG,EAAUC,GAExChO,KAAKiO,UAAYF,EACjB/N,KAAKkO,QAAUF,EAEf,IAAI9C,EAAOlL,KAEX+N,EAASK,GAAG,uBAAuB,SAASoB,GAC1C,IAAIwgG,EAAOxgG,EAAMwgG,KAEjB9kG,EAAK+kG,oBAAoBD,MAG3BjiG,EAASK,GAAG,gBAAgB,WAC1BlD,EAAKglG,aAGPniG,EAASK,GAAG,gBAAgB,WAE1BlD,EAAKilG,qBAAsB,EAE3BjlG,EAAKklG,cA6YT,SAASC,GAAkBplB,EAASlnD,GAElC,IAAImnD,EAAmBnnD,EAASusE,oBAEhC,OAAI,qBAAWplB,GACNA,EAAiBD,IAG1B,kBAAQC,GAAkB,SAAS5uB,EAAO3zD,GACxCsiF,EAAQtiF,GAAM2zD,KAGT2uB,GArZT8kB,GAAQxhG,QAAU,CAAE,WAAY,UA0BhCwhG,GAAQvwG,UAAUsrF,iBAAmB,SAAS5wE,EAAU6pB,GACjDA,IACHA,EAAW7pB,EACXA,EA5DmB,KA+DrBla,KAAKiO,UAAUG,GAAG,uBAAwB8L,GAAU,SAAS1K,GAC3DA,EAAM+yB,UAAUzhC,KAAKijC,MAGvB/jC,KAAKowG,YASPL,GAAQvwG,UAAUurF,WAAa,WAG7B,OAFgB/qF,KAAKgrF,gBAEJ9mD,OAAOmsE,GAAmB,KAG7CN,GAAQvwG,UAAU4wG,SAAW,WAEtBpwG,KAAKmwG,sBAIMnwG,KAAKgrF,gBAEN3rF,SAIVW,KAAKyrB,YACRzrB,KAAKkpB,QAGPlpB,KAAKkwG,aAMPH,GAAQvwG,UAAU0pB,MAAQ,WAExB,IAAIhe,EAAOlL,KAEP+N,EAAW/N,KAAKiO,UAEhBsiG,EAAkBvwG,KAAKwwG,sBAEvBv3F,EAAYjZ,KAAKyrB,WAAa,iBAAOskF,GAAQ7jF,aAEjDqkF,EAAgB5yG,YAAYsb,GAC5B,kBAAWs3F,GAAiB3vG,IAAI6vG,qBAEhC,WAAYptF,KAAKpK,EA5HIy3F,8BA4HyB,SAAS,SAASlhG,GAE9D,IAAIlS,EAASkS,EAAM2S,eAEnB,GAAI,kBAAW7kB,EAlIG,uBAmIhB,OAAO4N,EAAK5J,SAGd4J,EAAKsyB,QAAQ,QAAShuB,MAIxB,QAAS6T,KAAKpK,EAAW,aAAa,SAASzJ,GAC7CA,EAAM4B,qBAIR,WAAYiS,KAAKpK,EA9IE,SA8IyB,aAAa,SAASzJ,GAChEtE,EAAKsyB,QAAQ,YAAahuB,MAG5BzB,EAASK,GAAG,iBAAkBpO,KAAK2wG,eAAgB3wG,MAEnD+N,EAASW,KAAK,iBAAkB,CAC9BuK,UAAWA,KAIf82F,GAAQvwG,UAAUwrF,cAAgB,SAASriF,GAEzC,IAAI6G,EAAQxP,KAAKiO,UAAUsd,YAAY,CACrC9uB,KAAM,uBACN8lC,UAAW,KAKb,OAFAviC,KAAKiO,UAAUS,KAAKc,GAEbA,EAAM+yB,WAQfwtE,GAAQvwG,UAAUoxG,aAAe,SAASvwD,GAExCA,EAAQA,GAAS,GAEjB,IAKIrkB,EALA57B,EAASJ,KAAKwwG,sBACdv3F,EAAYjZ,KAAKyrB,WAEjB1d,EAAW/N,KAAKiO,UAIhBoB,EAAM,kBAAW4J,GACjB43F,EAAY,kBAAWzwG,GAGzB47B,EADE,cAAeqkB,EACLA,EAAMrkB,UAENh8B,KAAK8wG,eAAe1wG,EAAOysC,aAAc7sC,KAAK+wG,UAAY,IAIxE1hG,EAAI/N,OAzLuB,aAyLQ06B,GACnC60E,EAAUvvG,OAAOmvG,yBAAyCz0E,GAEtD,SAAUqkB,IACZhxC,EAAI/N,OA9Le,OA8LU++C,EAAMpH,MACnC43D,EAAUvvG,OAAOmvG,mBAAmCpwD,EAAMpH,OAG5DlrC,EAASW,KAAK,kBAAmB,CAC/BstB,UAAWA,EACXid,KAAMj5C,KAAK4qF,YAIfmlB,GAAQvwG,UAAU0wG,QAAU,WAE1B,IAAI3f,EAAmB,gBAAS,uBAAwBvwF,KAAKyrB,YACzDw/D,EAAUjrF,KAAK+wG,SAAW/wG,KAAK+qF,aAEnC,gBAASwF,GAET,kBAAQtF,GAAS,SAAS3uB,EAAO3zD,GAE/B,IAAI2iF,EAAWhvB,EAAMt1B,OAAS,UAE1B/tB,EAAY,gBAAS,eAAiBqyE,EAAW,IAAKiF,GACrDt3E,IACHA,EAAY,iBAAO,kCAAoCqyE,EAAW,YAClEiF,EAAiB5yF,YAAYsb,IAG/B,IAwMgBzc,EAASsnB,EAEvBnkB,EA1MEkqB,EAAOyyC,EAAMzyC,OACfyyC,EAAM00C,UACJ,2BACA,8CAGAzlB,EAAU,iBAAO1hE,GACrB5Q,EAAUtb,YAAY4tF,GAEjBjvB,EAAM00C,YACT,eAAQzlB,EAAS,cAAe5iF,GAE5B2zD,EAAMmvB,OACR,eAAQF,EAAS,QAASjvB,EAAMmvB,OAG9BnvB,EAAMv7D,YAwLIvE,EAvLD+uF,EAuLUznE,EAvLDw4C,EAAMv7D,UAyL5BpB,EAAU,kBAAWnD,IAEF,kBAAQsnB,GAAcA,EAAaA,EAAWriB,MAAM,SAC1DulB,SAAQ,SAAS3X,GAChC1P,EAAQiB,IAAIyO,OA1LNitD,EAAMovB,UACRH,EAAQ5tF,YAAY,iBAAO,aAAe2+D,EAAMovB,SAAW,WAMjE1rF,KAAKi5C,QAUP82D,GAAQvwG,UAAUg+B,QAAU,SAASvW,EAAQzX,EAAOuyE,GAClD,IACIzlB,EACAn5C,EACA7R,EAHA25E,EAAUjrF,KAAK+wG,SAIfh/F,EAASvC,EAAM2S,gBAAkB3S,EAAMlS,OAE3C,IAAKyU,EACH,OAAOvC,EAAM4S,kBAGfk6C,EAAQ2uB,EAAQ,eAAQl5E,EAAQ,mBAOhCoR,EAAUm5C,EAAMr1C,OAEhB3V,EAAgB9B,EAAM8B,eAAiB9B,EAGnC,qBAAW2T,GACE,UAAX8D,GACF9D,EAAQ7R,EAAeywE,GAGrB5+D,EAAQ8D,IACV9D,EAAQ8D,GAAQ3V,EAAeywE,GAKnCvyE,EAAM4S,mBAGR2tF,GAAQvwG,UAAUmxG,eAAiB,WACjC3wG,KAAK4wG,aAAa,KAWpBb,GAAQvwG,UAAUsxG,eAAiB,SAASG,EAAiBhmB,GAS3D,OAAOgmB,EAF2C,GAA9BnyG,OAAOC,KAAKksF,GAAS5rF,OAF5B,IAUf0wG,GAAQvwG,UAAUmrF,MAAQ,WAExB3qF,KAAK4wG,aAAa,CAChB33D,MAAM,EACNjd,WAAW,KAQf+zE,GAAQvwG,UAAUy5C,KAAO,WACvBj5C,KAAK4wG,aAAa,CAAE33D,MAAM,KAI5B82D,GAAQvwG,UAAU8B,OAAS,SAAS23C,GAC9Bj5C,KAAK4qF,SACP5qF,KAAK2qF,QAEL3qF,KAAKi5C,QAIT82D,GAAQvwG,UAAU0xG,aAAe,SAASlB,GACxC,OAAOA,GAAQhwG,KAAKmxG,cAAgBnB,GAGtCD,GAAQvwG,UAAUywG,oBAAsB,SAAShzG,GAC/C,IAAIszF,EACA6gB,EAECpxG,KAAKqxG,kBACR9gB,EAAmB,gBAAS,uBAAwBvwF,KAAKyrB,YAEzDzrB,KAAKqxG,gBAAkB,gBAAS,qBAAsB9gB,IAGxD6gB,EAAiBpxG,KAAKqxG,gBAEtB,kBAAQD,EAAerpG,UAAU,SAASioG,GACxC,IAAIne,EAAame,EAAKtxG,aAAa,eAEnC,GAAKmzF,EAAL,CAIA,IAAIyf,EAAc,kBAAWtB,GAE7Bne,EAAaA,EAAW3zF,QAAQ,QAAS,IAErCozG,EAAY3vG,SAAS,UAAYkwF,IAAe50F,EAClDq0G,EAAY1wG,IAAI,qBAEhB0wG,EAAYnxG,OAAO,0BAmBzB4vG,GAAQvwG,UAAUorF,OAAS,WACzB,OAAO,kBAAW5qF,KAAKyrB,YAAYjqB,IAzYd,SAiZvBuuG,GAAQvwG,UAAUgxG,oBAAsB,WACtC,OAAOxwG,KAAKkO,QAAQ8a,gBAMtB+mF,GAAQ7jF,YACN,+GC/aa,QACb3b,SAAU,CAAE,WACZmwC,QAAS,CAAE,OAAQqvD,KCaN,SAASwB,GAAYxjG,EAAUqwC,GAC5Cp+C,KAAKiO,UAAYF,EACjB/N,KAAKwxG,UAAYpzD,EAEjBp+C,KAAKyxG,OAAS,GACdzxG,KAAK0xG,QAAU,KAGjBH,GAAYhjG,QAAU,CAAE,WAAY,YAEpCgjG,GAAY/xG,UAAUmyG,aAAe,SAAS10G,EAAMgS,GAClD,IAAI2iG,EAAQ5xG,KAAKyxG,OAEjB,IAAKxiG,EACH,MAAM,IAAIlP,MAAM,mDAGlB6xG,EAAM9wG,KAAK7D,GAEX+C,KAAK6xG,WAAW50G,EAAMgS,IAGxBsiG,GAAY/xG,UAAUg/C,SAAW,SAASwxD,GACxC,OAAOA,GAAQhwG,KAAK0xG,UAAY1B,GAGlCuB,GAAY/xG,UAAUH,OAAS,SAAS2wG,GACtC,OAAOhwG,KAAKyxG,OAAOpyG,QAGrBkyG,GAAY/xG,UAAUq5F,UAAY,SAASmX,GACzC,IAAIjiG,EAAW/N,KAAKiO,UAEhBjO,KAAK0xG,UAAY1B,IACnBhwG,KAAK0xG,QAAU1B,EAEfjiG,EAASW,KAAK,sBAAuB,CAAEshG,KAAMA,MAIjDuB,GAAY/xG,UAAUqyG,WAAa,SAAS50G,EAAMgS,GAChD,IAAIlB,EAAW/N,KAAKiO,UAChBmwC,EAAWp+C,KAAKwxG,UAEhBM,EAAmB,GAEvB/jG,EAASK,GAAGa,EAAO+gG,KAAO,SAAS,SAASxgG,GAI1C,IAHcA,EAAMG,QAGPoiG,YAAc/xG,KAAKw+C,SAASvhD,GAIvC,OAHA+C,KAAK64F,UAAU,WAEfz6C,EAASyiC,SAIX7gF,KAAK64F,UAAU57F,KAEd+C,MAGH,kBAAQiP,GAAQ,SAASO,GACvBsiG,EAAiBhxG,KAAK0O,EAAQ,UAC9BsiG,EAAiBhxG,KAAK0O,EAAQ,gBAGhCzB,EAASK,GAAG0jG,EA5EK,KA4E2B,SAAStiG,GAK9CxP,KAAK0xG,UAuBd,SAAwBliG,GACtB,IAAIlS,EAASkS,EAAM8B,eAAiB9B,EAAM8B,cAAchU,OAExD,OAAOA,GAAU,kBAAWA,EAAQ,8BAtB9B00G,CAAexiG,IAInBxP,KAAK64F,UAAU,SACd74F,OC9FU,QACbwQ,YAAa,CACX,IAEFD,SAAU,CAAE,eACZ0hG,YAAa,CAAE,OAAQV,KCTV,SAAS,GAAMxjG,GAC5B,IAAI7C,EAAOlL,KAIX,SAASkyG,EAAiBC,GACxBjnG,EAAKknG,eAAiBD,EAHxBnyG,KAAKoyG,eAAiB,KAMtBrkG,EAASK,GAAG,eAAe,SAASuB,IACxBzE,EAAKw8B,KAAO/3B,EAAQ5N,KAE1B6pB,iBAAiB,YAAasmF,MAGpCnkG,EAASK,GAAG,kBAAkB,WAC5BlD,EAAKmnG,gBAAkB,KAEvBnnG,EAAKw8B,KAAK5b,oBAAoB,YAAaomF,MAI/C,GAAM3jG,QAAU,CAAE,YAElB,GAAM/O,UAAU8yG,iBAAmB,WACjC,OAAOtyG,KAAKoyG,gBAKP,SAAyB1tG,EAAGG,GACjC,IAAI2K,EAAQ/M,SAAS8oB,YAAY,cAE7BgnF,EAAU7tG,EACV8tG,EAAU3tG,EACV+M,EAAUlN,EACVmN,EAAUhN,EAEV2K,EAAMijG,gBACRjjG,EAAMijG,eACJ,aACA,GACA,EACA91F,OACA,EACA41F,EACAC,EACA5gG,EACAC,GACA,GACA,GACA,GACA,EACA,EACA,MAIJ,OAAOrC,EAjCuBkjG,CAAgB,EAAG,ICvBpC,QACbniG,SAAU,CAAE,SACZu5D,MAAO,CAAE,OAAQ,KCcJ,SAAS6oC,GACpB5kG,EAAUC,EAAQowC,EAClB1uC,EAAiBR,EAAW+iG,EAC5BnoC,GAEF9pE,KAAK6f,WAAa3Q,EAClBlP,KAAKwxG,UAAYpzD,EACjBp+C,KAAK4yG,OAAS9oC,EAEd,IAAI5+D,EAAOlL,KAOPolC,EAEM,SAASz1B,GACf,IACIo9E,EADA9zE,EAAYjL,EAAOk7B,iBAGvB6jD,EAAQp9E,EAAQo9E,MAAQ,aAAU,QAClC,aAAQA,EAAO,CACbjrC,MAAO,oBACPh9C,MAAQ,EACRC,OAAQ,EACRL,EAAG,EACHG,EAAG,IAGL,aAAUoU,EAAW8zE,IAfrB3nD,EAkBM,SAASz1B,GACf,IAAIo9E,EAAQp9E,EAAQo9E,MAChBzjF,EAAOqG,EAAQrG,KAEnB,aAAQyjF,EAAO,CACbroF,EAAG4E,EAAK5E,EACRG,EAAGyE,EAAKzE,EACRC,MAAOwE,EAAKxE,MACZC,OAAQuE,EAAKvE,UA1BfqgC,EA8BM,SAASz1B,GAEXA,EAAQo9E,OACV,aAAUp9E,EAAQo9E,QAKxBklB,EAAYN,aAAa,QAAS,CAChC3B,KAAM,kBACN5xD,SAAU,UAGZrwC,EAASK,GAAG,uBAAuB,SAASoB,GAC1C,IAAIlS,EAASkS,EAAM8B,cAAchU,QAI5BkS,EAAMQ,OAAW1S,aAAkBu1G,aAIxC9kG,EAAS4f,KAAK,yBAAyB,WACrCziB,EAAK4nG,cAActjG,EAAM8B,eAAe,SAM5CvD,EAASK,GAAG,aAAa,SAASoB,GAEhC,IAAIlG,EAAOypG,GAAOvjG,GAEdtI,EAAWwI,EAAgBhI,QAAO,SAASlL,GAC7C,OAAOA,KAGT0O,EAAKoD,OAAOpH,EAAUoC,MAGxByE,EAASK,GAAG,eAAe,SAASoB,GAElC,IAAIG,EAAUH,EAAMG,QAEpBA,EAAQrG,KAAOypG,GAAOvjG,GACtB41B,EAAez1B,MAGjB5B,EAASK,GAAG,cAAc,SAASoB,GAEjC,IAAIG,EAAUH,EAAMG,QAEpBA,EAAQrG,KAAOypG,GAAOvjG,GACtB41B,EAAez1B,MAGjB5B,EAASK,GAAG,iBAAiB,SAASoB,GAEpC,IAAIG,EAAUH,EAAMG,QAEpBy1B,EAAez1B,MAMjB5B,EAASK,GAAG,oBAAqB,MAAM,SAASoB,GAE9C,GAAK,aAAqBA,GAO1B,OAHAtE,EAAK4nG,cAActjG,EAAM8B,gBAGlB,KA8DX,SAASyhG,GAAOvjG,GAEd,IAAIuK,EAAQ,CAEVrV,EAAG8K,EAAM9K,EAAI8K,EAAMw7B,GACnBnmC,EAAG2K,EAAM3K,EAAI2K,EAAMy7B,IAGjBnxB,EAAM,CACRpV,EAAG8K,EAAM9K,EACTG,EAAG2K,EAAM3K,GAkDX,OA7CKkV,EAAMrV,GAAKoV,EAAIpV,GAAKqV,EAAMlV,EAAIiV,EAAIjV,GAClCkV,EAAMrV,EAAIoV,EAAIpV,GAAKqV,EAAMlV,GAAKiV,EAAIjV,EAE9B,CACLH,EAAGqV,EAAMrV,EACTG,EAAGkV,EAAMlV,EACTC,MAAQgV,EAAIpV,EAAIqV,EAAMrV,EACtBK,OAAQ+U,EAAIjV,EAAIkV,EAAMlV,GAEdkV,EAAMrV,GAAKoV,EAAIpV,GAAKqV,EAAMlV,EAAIiV,EAAIjV,GAClCkV,EAAMrV,EAAIoV,EAAIpV,GAAKqV,EAAMlV,GAAKiV,EAAIjV,EAErC,CACLH,EAAGoV,EAAIpV,EACPG,EAAGkV,EAAMlV,EACTC,MAAQiV,EAAMrV,EAAIoV,EAAIpV,EACtBK,OAAQ+U,EAAIjV,EAAIkV,EAAMlV,GAEdkV,EAAMrV,GAAKoV,EAAIpV,GAAKqV,EAAMlV,EAAIiV,EAAIjV,GAClCkV,EAAMrV,EAAIoV,EAAIpV,GAAKqV,EAAMlV,GAAKiV,EAAIjV,EAErC,CACLH,EAAGqV,EAAMrV,EACTG,EAAGiV,EAAIjV,EACPC,MAAQgV,EAAIpV,EAAIqV,EAAMrV,EACtBK,OAAQgV,EAAMlV,EAAIiV,EAAIjV,GAEdkV,EAAMrV,GAAKoV,EAAIpV,GAAKqV,EAAMlV,EAAIiV,EAAIjV,GAClCkV,EAAMrV,EAAIoV,EAAIpV,GAAKqV,EAAMlV,GAAKiV,EAAIjV,EAErC,CACLH,EAAGoV,EAAIpV,EACPG,EAAGiV,EAAIjV,EACPC,MAAQiV,EAAMrV,EAAIoV,EAAIpV,EACtBK,OAAQgV,EAAMlV,EAAIiV,EAAIjV,GAIjB,CACLH,EAAGoV,EAAIpV,EACPG,EAAGiV,EAAIjV,EACPC,MAAQ,EACRC,OAAQ,GAnHd4tG,GAAUpkG,QAAU,CAClB,WACA,SACA,WACA,kBACA,YACA,cACA,SAIFokG,GAAUnzG,UAAUszG,cAAgB,SAAStjG,EAAOuyE,GAElD/hF,KAAKwxG,UAAUrrF,KAAK3W,EAAO,QAAS,CAClCuyE,aAAcA,EACdhB,OA/IoB,YAgJpBz5D,KAAM,CACJ3X,QAAS,OAKfgjG,GAAUnzG,UAAUwzG,kBAAoB,SAASxjG,EAAOuyE,GAEtD/hF,KAAKwxG,UAAUrrF,KAAK3W,EAAO,kBAAmB,CAC5CswE,WAAW,EACXiC,aAAcA,EACdhB,OA3JoB,YA4JpBz5D,KAAM,CACJ3X,QAAS,OAKfgjG,GAAUnzG,UAAU8O,OAAS,SAASpH,EAAUoC,GAC9C,IAAIkF,EAAmB,aAAoBtH,EAAUoC,GAErDtJ,KAAK6f,WAAWvR,OAAO,iBAAOE,KAGhCmkG,GAAUnzG,UAAU8B,OAAS,WAC3B,GAAItB,KAAKw+C,WACP,OAAOx+C,KAAKwxG,UAAU3wB,SAGxB,IAAIoyB,EAAajzG,KAAK4yG,OAAON,mBAE7BtyG,KAAKgzG,kBAAkBC,IAAcA,IAGvCN,GAAUnzG,UAAUg/C,SAAW,WAC7B,IAAI7uC,EAAU3P,KAAKwxG,UAAU7hG,UAE7B,OAAOA,GAAW,SAAStO,KAAKsO,EAAQyY,SC/L3B,QACb5X,YAAa,CACX,GACA,IAEFD,SAAU,CAAE,aACZ0nF,UAAW,CAAE,OAAQ0a,KCDR,SAASO,GACpBnlG,EAAUC,EAAQowC,EAClBv2B,EAAUoqF,EAAanoC,GAEzB9pE,KAAKwxG,UAAYpzD,EACjBp+C,KAAK4yG,OAAS9oC,EAEd,IAAI5+D,EAAOlL,KACPo8F,EAAWv0E,EAASjZ,IAAI,YAAY,GAExCqjG,EAAYN,aAAa,OAAQ,CAC/B3B,KAAM,OACN5xD,SAAU,cAGZrwC,EAASK,GAAG,oBAnBM,MAmB8B,SAASoB,GAEvD,GAAK,aAAmBA,GAMxB,OAFAtE,EAAKioG,aAAa3jG,EAAM8B,eAAe,IAEhC,KAGT8qF,GAAYA,EAASR,YA9BH,MA8B8B,SAASn+F,GACvD,GAAK21G,GAAQ31G,EAAE49F,YAAanwF,EAAKszC,WAAjC,CAIA,IAAIy0D,EAAa/nG,EAAK0nG,OAAON,mBAE7BpnG,EAAKioG,aAAaF,IAAcA,MAC/B,oBAEH7W,GAAYA,EAASR,YAxCH,MAwC8B,SAASn+F,GAClD21G,GAAQ31G,EAAE49F,WAAcnwF,EAAKszC,YAIlCtzC,EAAK5J,WACJ,kBAEHyM,EAASK,GAAG,YAAY,SAASoB,GAC/B,IAAIlS,EAASkS,EAAM8B,cAAchU,OAIjC,KAAKkS,EAAMQ,OAAW1S,aAAkBu1G,YACtC,OAAO,EAGT9kG,EAAS4f,KAAK,cAAc,WAC1BziB,EAAKioG,aAAa3jG,EAAM8B,cAAe,CAAEygG,YAAY,UAKzDhkG,EAASK,GAAG,kBAAkB,SAASoB,GACrC,IAAIyB,EAAQjD,EAAOqc,UAAUpZ,MAE7BjD,EAAO88B,OAAO,CACZE,GAAIx7B,EAAMw7B,GAAK/5B,EACfg6B,GAAIz7B,EAAMy7B,GAAKh6B,OAInBlD,EAASK,GAAG,iBAAiB,SAASoB,GACpC,IACIuiG,EADUviG,EAAMG,QACKoiG,WAWzB,OARK,aAAmBviG,IAAUuiG,GAEhChkG,EAAS4f,KAAK,mBAAmB,SAASne,GACxCtE,EAAKmoG,aAAa7jG,EAAM8B,eAAe,GAAM,OAK1C,KAiEX,SAAS8hG,GAAQ/X,GACf,OAAO5C,GAAM,IAAK4C,GA7DpB6X,GAAS3kG,QAAU,CACjB,WACA,SACA,WACA,WACA,cACA,SAIF2kG,GAAS1zG,UAAU2zG,aAAe,SAAS3jG,EAAOuyE,EAAcpyE,GAClC,iBAAjBoyE,IACTpyE,EAAUoyE,EACVA,GAAe,GAGjB/hF,KAAKwxG,UAAUrrF,KAAK3W,EAAO,YAAa,CACtCuyE,aAAcA,EACdhB,OA3Gc,OA4Gdz5D,KAAM,CACJ3X,QAASA,GAAW,OAK1BujG,GAAS1zG,UAAU6zG,aAAe,SAAS7jG,EAAOuyE,EAAcgwB,GAC9D/xG,KAAKwxG,UAAUrrF,KAAK3W,EAAO,OAAQ,CACjCswE,WAAW,EACXiC,aAAcA,EACdhB,OAtHc,OAuHdz5D,KAAM,CACJ3X,QAAS,CACPoiG,WAAYA,OAMpBmB,GAAS1zG,UAAU8B,OAAS,WAC1B,GAAItB,KAAKw+C,WACP,OAAOx+C,KAAKwxG,UAAU3wB,SAGxB,IAAIoyB,EAAajzG,KAAK4yG,OAAON,mBAE7BtyG,KAAKqzG,aAAaJ,IAAcA,IAGlCC,GAAS1zG,UAAUg/C,SAAW,WAC5B,IAAI7uC,EAAU3P,KAAKwxG,UAAU7hG,UAE7B,QAAIA,GACK,sBAAsBtO,KAAKsO,EAAQyY,SC/I/B,QACb5X,YAAa,CACX,GACA,IAEFD,SAAU,CAAE,YACZ2nF,SAAU,CAAE,OAAQgb,KCNP,SAASI,GAAgB5yD,EAAS/9C,EAAQurC,EAAgBgqD,EAAUD,EAAW5tF,GAC5FrK,KAAKuzG,SAAW7yD,EAChB1gD,KAAK8yF,QAAUnwF,EACf3C,KAAK+2C,gBAAkB7I,EACvBluC,KAAKwzG,UAAYtb,EACjBl4F,KAAKyzG,WAAaxb,EAClBj4F,KAAKiyF,WAAa5nF,EAClBq2C,EAAQoqC,iBAAiB9qF,MAE3BszG,GAAgB/kG,QAAU,CAAC,UAAW,SAAU,iBAAkB,WAAY,YAAa,aAE3F+kG,GAAgB9zG,UAAU8wG,kBAAoB,SAAU9zG,GACtD,IAAI+W,EAAU,GACV5Q,EAAS3C,KAAK8yF,QACd5kD,EAAiBluC,KAAK+2C,gBACtBmhD,EAAWl4F,KAAKwzG,UAChBvb,EAAYj4F,KAAKyzG,WACjBppG,EAAYrK,KAAKiyF,WAErB,SAASyhB,EAAaj3G,EAAMuqC,EAAOjmC,EAAW0qF,EAAO59E,GACnD,SAAS8lG,EAAenkG,GACtB,IAAIU,EAAQg+B,EAAelT,YAAY,iBAAO,CAC5Cv+B,KAAMA,GACLoR,IACHlL,EAAOoX,MAAMvK,EAAOU,GAGtB,MAAO,CACL82B,MAAOA,EACPjmC,UAAWA,EACX0qF,MAAOA,EACPxkE,OAAQ,CACNksE,UAAWwgB,EACXnxF,MAAOmxF,IAmCb,OA9BA,iBAAOpgG,EAAS,CACd,YAAa,CACXyzB,MAAO,QACPjmC,UAAW,qBACX0qF,MAAOphF,EAAU,0BACjB4c,OAAQ,CACNzE,MAAO,SAAehT,GACpB0oF,EAASmb,aAAa7jG,MAI5B,aAAc,CACZw3B,MAAO,QACPjmC,UAAW,sBACX0qF,MAAOphF,EAAU,2BACjB4c,OAAQ,CACNzE,MAAO,SAAehT,GACpByoF,EAAU+a,kBAAkBxjG,MAIlC,iBAAkB,CAChBw3B,MAAO,QACPgqE,WAAW,GAEb,kBAAmB0C,EAAa,eAAgB,MAAO,oBAAqBrpG,EAAU,oBACtF,oBAAqBqpG,EAAa,gBAAiB,MAAO,sBAAuBrpG,EAAU,sBAC3F,0BAA2BqpG,EAAa,sBAAuB,MAAO,4BAA6BrpG,EAAU,4BAC7G,kCAAmCqpG,EAAa,6BAA8B,MAAO,8BAA+BrpG,EAAU,6BAEzHkJ,GCnEM,QACb/C,YAAa,CAAC,KAAkB,GAAgB,GAAe,GAAc,IAC7ED,SAAU,CAAC,mBACXqjG,gBAAiB,CAAC,OAAQN,KCJxB,GAAM3uG,KAAKwmB,IACX,GAAMxmB,KAAKumB,IAoGf,SAAS2oF,GAAiBt1G,EAAMiH,EAAM4zF,GAEpC,IAAIp7F,EAAQwH,EAAKjH,GACbkqF,EAAW2Q,EAAkBluE,KAAOkuE,EAAkBluE,IAAI3sB,GAC1DiqF,EAAW4Q,EAAkBjuE,KAAOiuE,EAAkBjuE,IAAI5sB,GAU9D,OARI,mBAASkqF,KACXzqF,GAAS,WAAWqD,KAAK9C,GAAQ,GAAM,IAAKP,EAAOyqF,IAGjD,mBAASD,KACXxqF,GAAS,WAAWqD,KAAK9C,GAAQ,GAAM,IAAKP,EAAOwqF,IAG9CxqF,EA2CT,SAAS81G,GAAUC,EAAczqB,GAC/B,YAA4B,IAAjByqB,EACFA,EA7JqB,GAiMhC,SAASC,GAAYx3G,GAGnB,OAAIA,EAAQoK,WAKS,UAAjBpK,EAAQC,KAgBP,SAASw3G,GAAoBC,EAAiBruG,GAEnD,IAAIqB,EAaJ,IANEA,OAJ6B1I,IAA3B01G,EAAgB70G,OAIP,iBAAO60G,EAAgBnsG,SAAUisG,IAGjCE,GAGA70G,OACX,OAtEG,SAAoBiK,EAAMzD,GAC/B,IAAIP,EAAMF,EAAOD,EAAKE,EAWtB,MATuB,iBAAZQ,GACTP,EAAOwuG,GAAUjuG,EAAQP,MACzBF,EAAQ0uG,GAAUjuG,EAAQT,OAC1BD,EAAM2uG,GAAUjuG,EAAQV,KACxBE,EAASyuG,GAAUjuG,EAAQR,SAE3BC,EAAOF,EAAQD,EAAME,EAASyuG,GAAUjuG,GAGnC,CACLnB,EAAG4E,EAAK5E,EAAIY,EACZT,EAAGyE,EAAKzE,EAAIM,EACZL,MAAOwE,EAAKxE,MAAQQ,EAAOF,EAC3BL,OAAQuE,EAAKvE,OAASI,EAAME,GAsDrB8uG,CAAW,aAAQjtG,GAAWrB,GCvL1B,SAASuuG,GAAOrmG,EAAUka,EAAO7U,EAAUgrC,GAExDp+C,KAAKwxG,UAAYpzD,EACjBp+C,KAAK8+D,OAAS72C,EAEd,IAAI/c,EAAOlL,KASX,SAASm+C,EAAWxuC,EAAS2H,GAE3B,IAGI6iF,EAHAjqF,EAAQP,EAAQO,MAChB6Q,EAAYpR,EAAQoR,UACpBq4E,EAAoBzpF,EAAQypF,kBAGhCzpF,EAAQ2H,MAAQA,EAEhB6iF,EDnCG,SAAsB11F,EAAQsc,EAAWzJ,GAC9C,IAAI0zB,EAAK1zB,EAAM5S,EACXumC,EAAK3zB,EAAMzS,EAEXs1F,EAAY,CACdz1F,EAAGD,EAAOC,EACVG,EAAGJ,EAAOI,EACVC,MAAOL,EAAOK,MACdC,OAAQN,EAAOM,QAiBjB,OAdgC,IAA5Bgc,EAAU3hB,QAAQ,MACpB+6F,EAAUt1F,EAAIJ,EAAOI,EAAIomC,EACzBkvD,EAAUp1F,OAASN,EAAOM,OAASkmC,IACE,IAA5BlqB,EAAU3hB,QAAQ,OAC3B+6F,EAAUp1F,OAASN,EAAOM,OAASkmC,IAGL,IAA5BlqB,EAAU3hB,QAAQ,KACpB+6F,EAAUr1F,MAAQL,EAAOK,MAAQkmC,GACI,IAA5BjqB,EAAU3hB,QAAQ,OAC3B+6F,EAAUz1F,EAAID,EAAOC,EAAIsmC,EACzBmvD,EAAUr1F,MAAQL,EAAOK,MAAQkmC,GAG5BmvD,ECUO,CAAajqF,EAAO6Q,EAAWzJ,GAG3C3H,EAAQwqF,UDuCL,SAA2Bka,EAAejb,GAE/C,IAAKA,EACH,OAAOib,EAGT,IAAIC,EAAc,YAAOD,GAEzB,OAAO,YAAS,CACdlvG,IAAK0uG,GAAiB,MAAOS,EAAalb,GAC1Ch0F,MAAOyuG,GAAiB,QAASS,EAAalb,GAC9C/zF,OAAQwuG,GAAiB,SAAUS,EAAalb,GAChD9zF,KAAMuuG,GAAiB,OAAQS,EAAalb,KCnDxB,CAAkBe,EAAWf,GAGjDzpF,EAAQC,WAAa1E,EAAKqpG,UAAU5kG,GAwDtC5B,EAASK,GAAG,gBAAgB,SAASoB,GAhDrC,IAAqBG,EAEfypF,EAGAwS,EALej8F,EAiDPH,EAAMG,QA/CdypF,EAAoBzpF,EAAQypF,kBAG5BwS,EAAYj8F,EAAQi8F,eAEEptG,IAAtB46F,SAIc56F,IAAdotG,IACFA,EAAY1gG,EAAKspG,oBAAoB7kG,IAGvCA,EAAQypF,kBAAoB,CAC1BluE,IAAK,YAAO0gF,QAoChB79F,EAASK,GAAG,eAAe,SAASoB,GAClC,IAAI8H,EAAQ,CACV5S,EAAG8K,EAAMw7B,GACTnmC,EAAG2K,EAAMy7B,IAGXkT,EAAW3uC,EAAMG,QAAS2H,MAG5BvJ,EAASK,GAAG,cAAc,SAASoB,IApCnC,SAAmBG,GACjB,IAAIO,EAAQP,EAAQO,MAChBN,EAAaD,EAAQC,WACrBuqF,EAAYxqF,EAAQwqF,UAExB,GAAIvqF,EAAY,CAMd,IA4GN,SAAuBM,EAAOiqF,GAC5B,OAAOjqF,EAAMxL,IAAMy1F,EAAUz1F,GAC3BwL,EAAMrL,IAAMs1F,EAAUt1F,GACtBqL,EAAMpL,QAAUq1F,EAAUr1F,OAC1BoL,EAAMnL,SAAWo1F,EAAUp1F,OAhHpB0vG,CAAcvkG,EAFnBiqF,EAAY,YAAYA,IAKtB,OAIF/mF,EAASi5F,YAAYn8F,EAAOiqF,IAmB9B77C,CAAU9uC,EAAMG,YAyFb,SAAS+kG,GAAkBxkG,EAAO6Q,GACvC,IAAImgC,EAAM,YAAOhxC,GACb1K,EAAO,YAAO0K,GAEdg/F,EAAiB,CACnBxqG,EAAGw8C,EAAIx8C,EACPG,EAAGq8C,EAAIr8C,GAeT,OAZgC,IAA5Bkc,EAAU3hB,QAAQ,KACpB8vG,EAAerqG,EAAIW,EAAKL,KACa,IAA5B4b,EAAU3hB,QAAQ,OAC3B8vG,EAAerqG,EAAIW,EAAKH,SAGM,IAA5B0b,EAAU3hB,QAAQ,KACpB8vG,EAAexqG,EAAIc,EAAKJ,OACa,IAA5B2b,EAAU3hB,QAAQ,OAC3B8vG,EAAexqG,EAAIc,EAAKF,MAGnB4pG,EAGT,SAASyF,GAAU5zF,GAGjB,MAAkB,MAAdA,GAAmC,MAAdA,EAChBqH,YACgB,MAAdrH,GAAmC,MAAdA,EACvBqH,YACgB,OAAdrH,GAAoC,OAAdA,EACxBqH,cAEAA,cArHXgsF,GAAO50G,UAAU+0G,UAAY,SAAS5kG,GACpC,IAAIsY,EAAQjoB,KAAK8+D,OAEbxO,EAAM,eAAK3gD,EAAS,CAAE,YAAa,QAAS,QAAS,cAEzD,OAAOsY,EAAMF,QAAQ,eAAgBuoC,IAavC8jD,GAAO50G,UAAU4gF,SAAW,SAAS5wE,EAAOU,EAAO0kG,GACjD,IACIjlG,EACAoR,EAFAq9B,EAAWp+C,KAAKwxG,UAcpB,GAVkC,iBAAvBoD,IACTA,EAAqB,CACnB7zF,UAAW6zF,MAMf7zF,GAFApR,EAAU,iBAAO,CAAEO,MAAOA,GAAS0kG,IAEf7zF,WAGlB,MAAM,IAAIhhB,MAAM,kDAGlBq+C,EAASj4B,KAAK3W,EAAOklG,GAAkBxkG,EAAO6Q,GAAY,SAAU,CAClEghE,cAAc,EACdhB,OAAQ4zB,GAAU5zF,GAClBuG,KAAM,CACJpX,MAAOA,EACPP,QAASA,MAKfykG,GAAO50G,UAAUg1G,oBAAsB,SAAS7kG,GAC9C,IAAIO,EAAQP,EAAQO,MAepB,ODtFK,SAA4B6Q,EAAWszF,EAAeQ,EAAeC,GAE1E,IAAIC,EAAa,YAAOV,GAEpBW,EAAS,CACX7vG,IAAK,IAAI9D,KAAK0f,GAAag0F,EAAW1vG,OAASwvG,EAAc9vG,OAASgwG,EAAW5vG,IACjFG,KAAM,IAAIjE,KAAK0f,GAAag0F,EAAW3vG,MAAQyvG,EAAc/vG,MAAQiwG,EAAWzvG,KAChFD,OAAQ,IAAIhE,KAAK0f,GAAag0F,EAAW5vG,IAAM0vG,EAAc9vG,OAASgwG,EAAW1vG,OACjFD,MAAO,IAAI/D,KAAK0f,GAAag0F,EAAWzvG,KAAOuvG,EAAc/vG,MAAQiwG,EAAW3vG,OAG9E6vG,EAAcH,EAAiB,YAAOA,GAAkBE,EAExDE,EAAc,CAChB/vG,IAAK,GAAI6vG,EAAO7vG,IAAK8vG,EAAY9vG,KACjCG,KAAM,GAAI0vG,EAAO1vG,KAAM2vG,EAAY3vG,MACnCD,OAAQ,GAAI2vG,EAAO3vG,OAAQ4vG,EAAY5vG,QACvCD,MAAO,GAAI4vG,EAAO5vG,MAAO6vG,EAAY7vG,QAGvC,OAAO,YAAS8vG,GCkETC,CAdSxlG,EAAQoR,UAca7Q,EAVrBP,EAAQklG,eAAiB,CACvC/vG,MAvMoB,GAwMpBC,OAxMoB,IA4MLkvG,GAAoB/jG,EAAOP,EAAQylG,sBAQtDhB,GAAO7lG,QAAU,CACf,WACA,QACA,WACA,YCvNa,SAAS8mG,GAActnG,EAAUC,EAAQq/E,GAmDtDt/E,EAASK,GAAG,cAnEK,KAmEwB,SAASoB,GA5ClD,IAAqBG,EAEfO,EACAzL,EACAsoF,EAJep9E,EA6CPH,EAAMG,QA3CdO,EAAQP,EAAQO,MAChBzL,EAASkL,EAAQwqF,WACjBpN,EAAQp9E,EAAQo9E,SAGlBA,EAAQp9E,EAAQo9E,MAAQM,EAAeP,SAAS58E,EAAOlC,EAAOk7B,kBAE9Dl7B,EAAOoB,UAAUc,EAnCD,iBAsCdzL,EAAOK,MAAQ,GACjB,aAAQioF,EAAO,CAAEroF,EAAGD,EAAOC,EAAGI,MAAOL,EAAOK,QAG1CL,EAAOM,OAAS,GAClB,aAAQgoF,EAAO,CAAEloF,EAAGJ,EAAOI,EAAGE,OAAQN,EAAOM,SAG3C4K,EAAQC,WACV,aAAWm9E,GAAO5sF,OA9CG,iBAgDrB,aAAW4sF,GAAOnsF,IAhDG,oBA0EzBmN,EAASK,GAAG,kBAAkB,SAASoB,GAjBvC,IAAqBG,EACfO,EADeP,EAkBPH,EAAMG,QAjBdO,EAAQP,EAAQO,MACRP,EAAQo9E,OAGlB,aAAUp9E,EAAQo9E,OAGpB/+E,EAAOsB,aAAaY,EAlEF,mBAiFtBmlG,GAAc9mG,QAAU,CACtB,WACA,SACA,kBCzDF,IAMI,GAAa,CAAE,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,MAW1C,SAAS+mG,GAAcvnG,EAAUC,EAAQkB,EAAWqmG,GAEjEv1G,KAAKw1G,QAAUD,EACfv1G,KAAKkO,QAAUF,EAEf,IAAI9C,EAAOlL,KAEX+N,EAASK,GAAG,qBAAqB,SAAS3Q,GACxC,IAAIkR,EAAelR,EAAEkR,aAGrBzD,EAAKuqG,iBAGuB,IAAxB9mG,EAAatP,QACf,kBAAQsP,EAAc,eAAKzD,EAAKwqG,WAAYxqG,OAIhD6C,EAASK,GAAG,iBAAiB,SAAS3Q,GACpC,IAAIyS,EAAQzS,EAAEjB,QAEV0S,EAAUL,WAAWqB,KACvBhF,EAAKuqG,iBAELvqG,EAAKwqG,WAAWxlG,OAMtBolG,GAAc91G,UAAUqwG,cAAgB,SAASrzG,EAASmU,EAAKoQ,GAC7D,IAAIw0F,EAASv1G,KAAKw1G,QAElB,SAASG,EAAYnmG,GAGf,aAAgBA,IAClB+lG,EAAOn1B,SAAS5wE,EAAOhT,EAASukB,GAIpC,QAASsC,KAAK1S,EAAK,YAAaglG,GAChC,QAAStyF,KAAK1S,EAAK,aAAcglG,IAInCL,GAAc91G,UAAUo2G,eAAiB,SAASp5G,EAASkI,EAAGG,EAAGkc,GAC/D,IAAI80F,EAAiB71G,KAAK81G,qBAEtBr1E,EA4FN,SAAyB1f,GACvB,IAAI0f,EAAS,CACX/7B,EAAG,EACHG,EAAG,IAG2B,IAA5Bkc,EAAU3hB,QAAQ,KACpBqhC,EAAO/7B,EAAI,GAC0B,IAA5Bqc,EAAU3hB,QAAQ,OAC3BqhC,EAAO/7B,GAxKS,IA2Kc,IAA5Bqc,EAAU3hB,QAAQ,KACpBqhC,EAAO57B,EAAI,GAC0B,IAA5Bkc,EAAU3hB,QAAQ,OAC3BqhC,EAAO57B,GA9KS,GAiLlB,OAAO47B,EA9GMs1E,CAAgBh1F,GAEzBimB,EAAQ,aAAU,KAEtB,aAAWA,GAAOpmC,IAnEF,eAoEhB,aAAWomC,GAAOpmC,IAAIo1G,eAAoBx5G,EAAQmM,IAClD,aAAWq+B,GAAOpmC,IAAIo1G,eAAoBj1F,GAE1C,aAAU80F,EAAgB7uE,GAE1B,IAAI6G,EAAS,aAAU,QAEvB,aAAQA,EAAQ,CACdnpC,GAAG,EAAmB+7B,EAAO/7B,EAC7BG,GAAG,EAAmB47B,EAAO57B,EAC7BC,MAjFc,EAkFdC,OAlFc,IAqFhB,aAAW8oC,GAAQjtC,IAAIo1G,sBAEvB,aAAUhvE,EAAO6G,GAEjB,IAAI3pB,EAAM,aAAU,QAepB,OAbA,aAAQA,EAAK,CACXxf,GAAG,GAAuB+7B,EAAO/7B,EACjCG,GAAG,GAAuB47B,EAAO57B,EACjCC,MA7FkB,GA8FlBC,OA9FkB,KAiGpB,aAAWmf,GAAKtjB,IAAIo1G,mBAEpB,aAAUhvE,EAAO9iB,GAEjB,aAAU8iB,EAAOtiC,EAAGG,GAEbmiC,GAGTsuE,GAAc91G,UAAUy2G,cAAgB,SAASz5G,EAASukB,GACxD,IAAI9b,EAAQyvG,GAAkBl4G,EAASukB,GAEnCm1F,EAAUl2G,KAAK41G,eAAep5G,EAASyI,EAAMP,EAAGO,EAAMJ,EAAGkc,GAE7D/gB,KAAK6vG,cAAcrzG,EAAS05G,EAASn1F,IAUvCu0F,GAAc91G,UAAUk2G,WAAa,SAASxlG,GAC5C,IAAIhF,EAAOlL,KAEEA,KAAKw1G,QAENjB,UAAU,CAAErkG,MAAOA,KAI/B,kBAAQ,IAAY,SAAS6Q,GAC3B7V,EAAK+qG,cAAc/lG,EAAO6Q,OAO9Bu0F,GAAc91G,UAAUi2G,eAAiB,WACvC,IAAII,EAAiB71G,KAAK81G,qBAE1B,aAASD,IAGXP,GAAc91G,UAAUs2G,mBAAqB,WAC3C,OAAO91G,KAAKkO,QAAQs6B,SAAS,aAG/B8sE,GAAc/mG,QAAU,CACtB,WACA,SACA,YACA,UC7Ka,QACbiC,YAAa,CACX,GACA,GACA,IAEFD,SAAU,CACR,SACA,gBACA,iBAEFglG,OAAQ,CAAE,OAAQnB,IAClB+B,cAAe,CAAE,OAAQd,IACzBe,cAAe,CAAE,OAAQd,KChBZ,SAASe,GAAqBtoG,GAC3CA,EAASK,GAAG,CAAC,sBAAuB,sBAFlB,KAEwD,SAAUoB,GAClF,IAAIG,EAAUH,EAAMG,QAChBoY,EAAUpY,EAAQoY,QAClB/X,EAAQL,EAAQK,MAChBnH,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OACjBb,EAAOkT,EAAQlT,KASnB,GAPKkT,EAAQG,QACXH,EAAQG,MAAQ,WAGXH,EAAQG,MAAMo3E,uBACdv3E,EAAQG,MAAMq3E,gBAEjBp/D,GAA4B,+BAAjBA,EAAQtrB,OAIlBuT,GAAU,YAAMA,EAAO,CAAC,eAAgB,mBAIzCnH,IAAWvL,EAAf,CAIA,IAAIspF,EA/Bc,mBA+BFnqF,GA9BA,iBA8B4BA,EACxC4+E,EAAc,YAAexyE,EAAQvL,GAErCspF,GAAa52E,IAAUnH,IAiD/B,SAAsB2G,EAAO6rE,GAC3B,IAEI6L,EAAkBovB,GAFR9mG,EAAMG,QACC9G,OAC4BwyE,GAC7CrwC,EAAKx7B,EAAM9K,EAAIwiF,EAAgBxiF,EAC/BumC,EAAKz7B,EAAM3K,EAAIqiF,EAAgBriF,EACnC2K,EAAM9K,GAAKsmC,EACXx7B,EAAM3K,GAAKomC,EACXz7B,EAAMw7B,IAAMA,EACZx7B,EAAMy7B,IAAMA,EAxDRsrE,CAAa/mG,EAAO6rE,GAEpB1rE,EAAQG,MAAMq3E,cAAgBqvB,GAAiBl5G,EAAQ+9E,IAC9CuL,GAAa52E,IAAU1S,IAEhCqS,EAAQG,MAAMo3E,gBAAkBovB,GAAmBztG,EAAQwyE,GAsDjE,SAAsB7rE,EAAO6rE,GAC3B,IAEI8L,EAAgBqvB,GAFNhnG,EAAMG,QACCrS,OACwB+9E,GACzCrwC,EAAK,EACLC,EAAK,EAELowC,EAAYogB,SAAS,QAAUpgB,EAAYogB,SAAS,UACtDxwD,EAAKz7B,EAAM3K,EAAIsiF,EAActiF,EAE7BmmC,EAAKx7B,EAAM9K,EAAIyiF,EAAcziF,EAG/B8K,EAAM9K,GAAKsmC,EACXx7B,EAAM3K,GAAKomC,EACXz7B,EAAMw7B,IAAMA,EACZx7B,EAAMy7B,IAAMA,EApERwrE,CAAajnG,EAAO6rE,QAM1B,SAASi7B,GAAmBztG,EAAQwyE,GAClC,IAAI0C,EAAa,YAAOl1E,GACpBq+E,EAAkB,YAAOr+E,GAY7B,OAVIwyE,EAAYogB,SAAS,UACvBvU,EAAgBriF,EAAIk5E,EAAW54E,IACtBk2E,EAAYogB,SAAS,OAC9BvU,EAAgBriF,EAAIk5E,EAAW14E,OACtBg2E,EAAYogB,SAAS,SAC9BvU,EAAgBxiF,EAAIq5E,EAAWz4E,KAE/B4hF,EAAgBxiF,EAAIq5E,EAAW34E,MAG1B8hF,EAGT,SAASsvB,GAAiBl5G,EAAQ+9E,GAChC,IAAIqmB,EAAa,YAAOpkG,GACpB6pF,EAAgB,YAAO7pF,GAY3B,OAVI+9E,EAAYogB,SAAS,UACvBtU,EAActiF,EAAI68F,EAAWr8F,OACpBg2E,EAAYogB,SAAS,OAC9BtU,EAActiF,EAAI68F,EAAWv8F,IACpBk2E,EAAYogB,SAAS,SAC9BtU,EAAcziF,EAAIg9F,EAAWt8F,MAE7B+hF,EAAcziF,EAAIg9F,EAAWp8F,KAGxB6hF,EAjCTkvB,GAAqB9nG,QAAU,CAAC,YC/CjB,SAASmoG,GAAmB3oG,GACzCA,EAASK,GAAG,CAAC,gBAAiB,eAAgB,eAF7B,KAE2D,SAAUoB,GACpF,IAAIG,EAAUH,EAAMG,QAChBC,EAAaD,EAAQC,WACrBI,EAAQL,EAAQK,MAChBnH,EAAS8G,EAAQ9G,OACjBvL,EAASqS,EAAQrS,OAErB,GAAIsS,GAAkC,+BAApBA,EAAWnT,KAAuC,CAClE,IAAI4+E,EAAc,YAAexyE,EAAQvL,GAEzCqS,EAAQu3E,gBAAkB,YAAOr+E,GAG/B8G,EAAQw3E,cADNn3E,IAAUnH,EACY,YAAOvL,GAEP,CACtBoH,EAAG8K,EAAM9K,EACTG,EAAG2K,EAAM3K,GAITw2E,EAAYogB,SAAS,WACvB9rF,EAAQu3E,gBAAgBriF,EAAI,YAAOgE,GAAQ1D,IAC3CwK,EAAQw3E,cAActiF,EAAI,YAAOvH,GAAQ+H,QAChCg2E,EAAYogB,SAAS,QAC9B9rF,EAAQu3E,gBAAgBriF,EAAI,YAAOgE,GAAQxD,OAC3CsK,EAAQw3E,cAActiF,EAAI,YAAOvH,GAAQ6H,KAChCk2E,EAAYogB,SAAS,UAC9B9rF,EAAQu3E,gBAAgBxiF,EAAI,YAAOmE,GAAQvD,KAC3CqK,EAAQw3E,cAAcziF,EAAI,YAAOpH,GAAQ8H,QAEzCuK,EAAQu3E,gBAAgBxiF,EAAI,YAAOmE,GAAQzD,MAC3CuK,EAAQw3E,cAAcziF,EAAI,YAAOpH,GAAQgI,kBAGpCqK,EAAQu3E,uBACRv3E,EAAQw3E,iBCzBN,SAASwvB,KAQtB32G,KAAK42G,SAAW,GAQhB52G,KAAK62G,aAAe,GAOpB72G,KAAK82G,eAAiB,GAOtB92G,KAAK+2G,cAAgB,GA4EhB,SAASC,GAAWC,GAQzBj3G,KAAKk3G,YAAc,GDrFrBR,GAAmBnoG,QAAU,CAAC,YCK9BooG,GAAYn3G,UAAU23G,cAAgB,SAASne,GAC7C,OAAOh5F,KAAK62G,aAAa7d,IAI3B2d,GAAYn3G,UAAU43G,cAAgB,SAASpe,EAAcqe,GAC3Dr3G,KAAK62G,aAAa7d,GAAgBqe,GAEiB,IAA/Cr3G,KAAK82G,eAAe13G,QAAQ45F,IAC9Bh5F,KAAK82G,eAAeh2G,KAAKk4F,IAK7B2d,GAAYn3G,UAAU83G,eAAiB,SAAS76G,EAAMwI,GAEpD,IAAIsyG,EAAav3G,KAAK+2G,cAAct6G,GAE/B86G,IACHA,EAAav3G,KAAK+2G,cAAct6G,GAAQ,IAG1C86G,EAAWz2G,KAAKmE,IASlB0xG,GAAYn3G,UAAUg4G,iBAAmB,WACvC,OAAOx3G,KAAK82G,gBAUdH,GAAYn3G,UAAUi4G,iBAAmB,SAASC,GAChD13G,KAAK82G,eAAiBY,GAQxBf,GAAYn3G,UAAUm4G,gBAAkB,SAASr6G,GAE/C,IAAIs6G,EAAWt6G,EAAOqL,IAAMrL,EAExB0sF,EAAahqF,KAAK42G,SAASgB,GAO/B,OALK5tB,IACHA,EAAahqF,KAAK42G,SAASgB,GAAY,IAAIZ,IAChCa,aAAa73G,KAAK+2G,eAGxB/sB,GAqBTgtB,GAAWx3G,UAAUoB,IAAM,SAASo4F,EAAc/zF,GAEhD,IAAIsyG,EAAav3G,KAAKk3G,YAAYle,GAE7Bue,IACHA,EAAav3G,KAAKk3G,YAAYle,GAAgB,CAAEt0F,EAAG,GAAIG,EAAG,MAGrB,IAAnC0yG,EAAW7yG,EAAEtF,QAAQ6F,EAAMP,IAC7B6yG,EAAW7yG,EAAE5D,KAAKmE,EAAMP,IAGa,IAAnC6yG,EAAW1yG,EAAEzF,QAAQ6F,EAAMJ,IAC7B0yG,EAAW1yG,EAAE/D,KAAKmE,EAAMJ,IAK5BmyG,GAAWx3G,UAAUs4G,KAAO,SAAS7yG,EAAO+zF,EAAcne,EAAMk9B,GAC9D,IAAIC,EAAiBh4G,KAAKk3G,YAAYle,GAEtC,OAAOgf,GrI3IF,SAAgBh6G,EAAOixD,EAAQ8oD,GAGpC,IAAI/wG,EAAK2yF,EAET,IAJAoe,OAA0Bv5G,IAAdu5G,EAA0B,GAAKA,EAItC/wG,EAAM,EAAGA,EAAMioD,EAAO5vD,OAAQ2H,IAGjC,GAFA2yF,EAAY1qC,EAAOjoD,GAEf8P,GAAI6iF,EAAY37F,IAAU+5G,EAC5B,OAAOpe,EqIkIc,CAAO10F,EAAM41E,GAAOm9B,EAAen9B,GAAOk9B,IAQrEf,GAAWx3G,UAAUq4G,aAAe,SAASZ,GAE3C,IAAI/rG,EAAOlL,KAEX,kBAAQi3G,GAAgB,IAAI,SAASjtB,EAAYgP,GAC/C,kBAAQhP,GAAY,SAAS/kF,GAC3BiG,EAAKtK,IAAIo4F,EAAc/zF,UC7Id,SAASgzG,GAAmBvoG,EAAiB3B,EAAUmqG,GACpE,IAAIhtG,EAAOlL,KAEXA,KAAK2f,iBAAmBjQ,EAExB3B,EAASK,GAAG,CACV,eACA,qBACC,SAASoB,GACVtE,EAAKitG,SAAS3oG,MAGhBzB,EAASK,GAAG,CACV,cACA,aACA,kBACA,kBA1BkB,MA2BA,SAASoB,GAC3B,IAAIG,EAAUH,EAAMG,QAChBO,EAAQP,EAAQO,MAChBkoG,EAAczoG,EAAQyoG,YACtB96G,EAASqS,EAAQrS,OAErB,KAAIkS,EAAM8B,gBAAiBgrB,GAAM9sB,EAAM8B,kBAInCi4E,GAAU/5E,IAAWlS,EAAzB,CAIA,IAAI0sF,EAAaouB,EAAYT,gBAAgBr6G,GAExC0sF,EAAW+Q,eACd/Q,EAAa9+E,EAAKmtG,oBAAoBruB,EAAY95E,EAAO5S,IAE9Cy9F,aAAc,GAG3Bmd,EAASJ,KAAKtoG,EAAOw6E,OAGvBj8E,EAASK,GAAG,CACV,iBACA,uBACC,WACD8pG,EAASluF,UAqIb,SAAS,GAAQxtB,GACf,QAASA,EAAQo/E,YAlInBq8B,GAAmB1pG,QAAU,CAC3B,kBACA,WACA,YAGF0pG,GAAmBz4G,UAAU24G,SAAW,SAAS3oG,GAC/C,IAUI8oG,EAVA5oG,EAAkB1P,KAAK2f,iBAEvBhQ,EAAUH,EAAMG,QAChBO,EAAQP,EAAQO,MAChBkoG,EAAczoG,EAAQyoG,YAErBA,IACHA,EAAczoG,EAAQyoG,YAAc,IAAIzB,IAkB1C,IAAI4B,GAVFD,EAHE5oG,EAAgBd,IAAIsB,EAAMvH,IAGjB,GAAIuH,EAAOV,GAIX,CACT9K,EAAG8K,EAAM9K,EAAI,GAAIwL,GAAOxL,EACxBG,EAAG2K,EAAM3K,EAAI,GAAIqL,GAAOrL,IAKVH,EAAIwL,EAAMpL,MAAQ,EADhCyzG,EAEKD,EAASzzG,EAAIqL,EAAMnL,OAAS,EAEjCyzG,EACKF,EAAS5zG,EAAIwL,EAAMpL,MAAQ,EADhC0zG,EAEKF,EAASzzG,EAAIqL,EAAMnL,OAAS,EASrC,OANAqzG,EAAYhB,cAAc,MAAO,CAC/B1yG,EAAG4zG,EAAS5zG,EAAI8K,EAAM9K,EACtBG,EAAGyzG,EAASzzG,EAAI2K,EAAM3K,IAIpB,GAAQqL,KAIZkoG,EAAYhB,cAAc,WAAY,CACpC1yG,EAAG6zG,EAAiB/oG,EAAM9K,EAC1BG,EAAG0zG,EAAiB/oG,EAAM3K,IAG5BuzG,EAAYhB,cAAc,eAAgB,CACxC1yG,EAAG8zG,EAAqBhpG,EAAM9K,EAC9BG,EAAG2zG,EAAqBhpG,EAAM3K,KAVvBuzG,GAgBXH,GAAmBz4G,UAAU64G,oBAAsB,SAASruB,EAAY95E,EAAO5S,GAC7E,IAAIm7G,EAAcz4G,KAAK04G,eAAexoG,EAAO5S,GAoC7C,OAlCA,kBAAQm7G,GAAa,SAASE,GAG5B,GAAI,GAAQA,GAEN,GAAQzoG,IACV85E,EAAWppF,IAAI,MAAO,GAAI+3G,SAO9B,GAAiBA,EA0CF/xG,UA1Cf,CAGE,GAAI+xG,EAAW/xG,UAAUvH,OAAS,EAChC,OAIF,IAAIuH,EAAY+xG,EAAW/xG,UAAUC,MAAM,GAAI,GAE/C,kBAAQD,GAAW,SAASywC,GAC1B2yC,EAAWppF,IAAI,MAAOy2C,UAX1B,CAkBA2yC,EAAWppF,IAAI,MAAO,GAAI+3G,QAGvB,mBAASzoG,EAAMxL,IAAO,mBAASwL,EAAMrL,IAKtC7E,KAAK2f,iBAAiB/Q,IAAIsB,EAAMvH,KAClCqhF,EAAWppF,IAAI,MAAO,GAAIsP,IAGrB85E,GAREA,GAWXiuB,GAAmBz4G,UAAUk5G,eAAiB,SAASxoG,EAAO5S,GAC5D,OAAO6nB,GAAY7nB,GAAQoK,QAAO,SAASlH,GACzC,OAAiBA,EAWF8P,WC7KJ,SAASsoG,GAAe7qG,EAAUmqG,GAC/C,IAAIhtG,EAAOlL,KAEX+N,EAASK,GAAG,CAAE,iBAAkB,SAASoB,GACvCtE,EAAKitG,SAAS3oG,MAGhBzB,EAASK,GAAG,CACV,cACA,cAlBkB,MAmBA,SAASoB,GAC3B,IAAIG,EAAUH,EAAMG,QAChBO,EAAQP,EAAQO,MAChB9P,EAAS8P,EAAM9P,OACf2gB,EAAYpR,EAAQoR,UACpBq3F,EAAczoG,EAAQyoG,YAE1B,KAAI5oG,EAAM8B,eAAiBgrB,GAAM9sB,EAAM8B,gBAInCi4E,GAAU/5E,IAAd,CAIA,IAAIw6E,EAAaouB,EAAYT,gBAAgBv3G,GAExC4pF,EAAW+Q,eACd/Q,EAAa9+E,EAAKmtG,oBAAoBruB,EAAY95E,EAAO9P,EAAQ2gB,IAEtDg6E,aAAc,GA4G/B,SAAsBh6E,GACpB,MAAqB,MAAdA,GAAmC,MAAdA,EA1GtB,CAAaA,IACf0oE,GAAWj6E,EAAO,IAAKA,EAAM9K,GA4GnC,SAAoBqc,GAClB,MAAqB,MAAdA,GAAmC,MAAdA,EA1GtB83F,CAAW93F,IACb0oE,GAAWj6E,EAAO,IAAKA,EAAM3K,GAG/BqzG,EAASJ,KAAKtoG,EAAOw6E,OAGvBj8E,EAASK,GAAG,CAAE,mBAAoB,WAChC8pG,EAASluF,UAqDb,SAASmtF,GAAcjnG,EAAO6Q,GAC5B,IAAImgC,EAAM,YAAOhxC,GACb1K,EAAO,YAAO0K,GAEd4oG,EAAa,CACfp0G,EAAGw8C,EAAIx8C,EACPG,EAAGq8C,EAAIr8C,GAeT,OAZgC,IAA5Bkc,EAAU3hB,QAAQ,KACpB05G,EAAWj0G,EAAIW,EAAKL,KACiB,IAA5B4b,EAAU3hB,QAAQ,OAC3B05G,EAAWj0G,EAAIW,EAAKH,SAGU,IAA5B0b,EAAU3hB,QAAQ,KACpB05G,EAAWp0G,EAAIc,EAAKJ,OACiB,IAA5B2b,EAAU3hB,QAAQ,OAC3B05G,EAAWp0G,EAAIc,EAAKF,MAGfwzG,EAtETF,GAAep5G,UAAU24G,SAAW,SAAS3oG,GAC3C,IAAIG,EAAUH,EAAMG,QAChBO,EAAQP,EAAQO,MAChB6Q,EAAYpR,EAAQoR,UACpBq3F,EAAczoG,EAAQyoG,YAErBA,IACHA,EAAczoG,EAAQyoG,YAAc,IAAIzB,IAG1C,IAAImC,EAAa3B,GAAcjnG,EAAO6Q,GAOtC,OALAq3F,EAAYhB,cAAc,SAAU,CAClC1yG,EAAGo0G,EAAWp0G,EAAI8K,EAAM9K,EACxBG,EAAGi0G,EAAWj0G,EAAI2K,EAAM3K,IAGnBuzG,GAGTQ,GAAep5G,UAAU64G,oBAAsB,SAASruB,EAAY95E,EAAO5S,EAAQyjB,GACjF,IAAI03F,EAAcz4G,KAAK04G,eAAexoG,EAAO5S,GAS7C,OAPA,kBAAQm7G,GAAa,SAASE,GvInDzB,IAAqBl0G,EuIoDxBulF,EAAWppF,IAAI,SvInDV,CACL8D,GAFwBD,EuIoDak0G,GvIlD3Bj0G,EAAID,EAAOK,MACrBD,EAAGJ,EAAOI,EAAIJ,EAAOM,SuIkDrBilF,EAAWppF,IAAI,SvI1EZ,SAAiB6D,GACtB,MAAO,CACLC,EAAGD,EAAOC,EACVG,EAAGJ,EAAOI,GuIuEek0G,CAAQJ,OAGnC3uB,EAAWppF,IAAI,SAAUu2G,GAAcjnG,EAAO6Q,IAEvCipE,GAGT4uB,GAAerqG,QAAU,CACvB,WACA,YAGFqqG,GAAep5G,UAAUk5G,eAAiB,SAASxoG,EAAO5S,GACxD,OAAO6nB,GAAY7nB,GAAQoK,QAAO,SAASlH,GACzC,QAiCgBhE,EAjCGgE,EAiCMm7E,EAjCCzrE,EAkCrB1T,EAAQm/E,OAASA,GAG1B,SAAsBn/E,GACpB,QAASA,EAAQoK,UArCT,CAAapG,IAwCvB,SAAkBhE,GAChB,QAASA,EAAQ8T,OAxCT,CAAS9P,IA2CnB,SAAiBhE,GACf,QAASA,EAAQo/E,YA3CT,CAAQp7E,IA8BlB,IAAoBhE,EAASm/E,MCvHd,SAASq9B,GAAShrG,GAC/BhO,KAAKkO,QAAUF,EAGfhO,KAAKi5G,WAAa,mBAAS,eAAKj5G,KAAKgqB,KAAMhqB,MAbX,KAgBlCg5G,GAASzqG,QAAU,CAAE,UAQrByqG,GAASx5G,UAAUs4G,KAAO,SAAStoG,EAAOw6E,GACxC,IACIouB,EADU5oG,EAAMG,QACMyoG,YACtBV,EAAgBU,EAAYZ,mBAE5BU,EAAW,CACbxzG,EAAG6kF,GAAU/5E,EAAO,KACpB3K,EAAG0kF,GAAU/5E,EAAO,MAGtB,kBAAQkoG,GAAe,SAASwB,GAC9B,IAAIJ,EAAaV,EAAYjB,cAAc+B,GAEvCC,EAAc,CAChBz0G,EAAG8K,EAAM9K,EAAIo0G,EAAWp0G,EACxBG,EAAG2K,EAAM3K,EAAIi0G,EAAWj0G,GAoB1B,GAhBA,kBAAQ,CAAE,IAAK,MAAO,SAASg2E,GAC7B,IAAIu+B,EAEClB,EAASr9B,SAGar8E,KAFzB46G,EAAmBpvB,EAAW8tB,KAAKqB,EAAaD,EAAUr+B,EAjD7C,MAoDXq9B,EAASr9B,GAAQ,CACf78E,MAAOo7G,EACPC,YAAaD,EAAmBN,EAAWj+B,QAO/Cq9B,EAASxzG,GAAKwzG,EAASrzG,EACzB,OAAO,KAKX7E,KAAKs5G,aAAa,WAAYpB,EAASxzG,GAAKwzG,EAASxzG,EAAE1G,OACvDgC,KAAKs5G,aAAa,aAAcpB,EAASrzG,GAAKqzG,EAASrzG,EAAE7G,OAGzD,kBAAQ,CAAE,IAAK,MAAO,SAAS68E,GAC7B,IAAI0+B,EAAerB,EAASr9B,GAExB,mBAAS0+B,IACX9vB,GAAWj6E,EAAOqrE,EAAM0+B,EAAaF,iBAK3CL,GAASx5G,UAAUg6G,YAAc,SAASn+B,GACxC,IAAI9tE,EAAOvN,KAAKkO,QAAQs6B,SAAS,QAE7BxjB,EAAO,aAAU,QAQrB,OANA,aAAQA,EAAM,CAAE1hB,EAAG,cAEnB,aAAW0hB,GAAMpkB,IAAI,iBAErB,aAAU2M,EAAMyX,GAET,CACLiH,OAAQ,SAASrC,GAEV,mBAASA,GAGQ,eAAhByxD,EACF,aAAQr2D,EAAM,CACZ1hB,EAAG,YAAcsmB,EAAW,aAAeA,EAC3CN,QAAS,KAGX,aAAQtE,EAAM,CACZ1hB,EAAG,KAAOsmB,EAAW,cAAgBA,EAAW,YAChDN,QAAS,KAVb,aAAQtE,EAAM,CAAEsE,QAAS,YAkBjC0vF,GAASx5G,UAAUi6G,iBAAmB,WACpCz5G,KAAK05G,WAAa,CAChBzzG,WAAYjG,KAAKw5G,YAAY,cAC7BxzG,SAAUhG,KAAKw5G,YAAY,cAI/BR,GAASx5G,UAAU85G,aAAe,SAASj+B,EAAazxD,GAEtD,IAAI5E,EAAOhlB,KAAK25G,YAAYt+B,GAExBr2D,GACFA,EAAKiH,OAAOrC,GAGd5pB,KAAKi5G,cAGPD,GAASx5G,UAAUm6G,YAAc,SAASt+B,GAKxC,OAJKr7E,KAAK05G,YACR15G,KAAKy5G,mBAGAz5G,KAAK05G,WAAWr+B,IAGzB29B,GAASx5G,UAAUwqB,KAAO,WACxB,kBAAQhqB,KAAK05G,YAAY,SAASE,GAChCA,EAAS3tF,aC7JE,ICDA,IACbzb,YAAa,CDAA,CACbD,SAAU,CACR,qBACA,iBACA,YAEFspG,mBAAoB,CAAE,OAAQ5B,IAC9B6B,eAAgB,CAAE,OAAQlB,IAC1BV,SAAU,CAAE,OAAQc,MCPpBzoG,SAAU,CAAC,oBAAqB,mBAChCg6E,kBAAmB,CAAC,OAAQ8rB,IAC5B0D,gBAAiB,CAAC,OAAQrD,KC4Fb,SAAS,GAAQ7oG,GAC9Bs0C,EAAA,EAAgBjhD,KAAKlB,KAAM6N,GAE7B,IAAS,GAASs0C,EAAA,GAKlB,GAAQ3iD,UAAUw6G,iBAAmB,CACrC,EAAqB,EAAiB,GAAkB,GAAkB,GAAkB,GAAsB,GAA4B,GAA0B,GAAqB,GAAkB,GAAoB,GAAgB,GAAoB,GAA6B,GAAoB,GAAgB,GAAY,GAAe,GAAc,IACjX,GAAQx6G,UAAUk8C,SAAW,GAAGxiC,OAAO,GAAQ1Z,UAAUk8C,SAAU,GAAQl8C,UAAUw6G,kBC7GrF,IAAIp4E,GAAgB,UAMpB,SAASx9B,GAAQjF,GACf,MAA+C,mBAAxCL,OAAOU,UAAUD,SAAS2B,KAAK/B,GAGxC,SAAS0iC,GAAW1iC,EAAKyO,GACvB,OAAO9O,OAAOU,UAAUiwB,eAAevuB,KAAK/B,EAAKyO,GAGnD,SAASk0B,KACP,IAAIziB,EAAOlb,MAAM3E,UAAUqH,MAAM3F,KAAKwC,WAElB,IAAhB2b,EAAKhgB,QAAgB+E,GAAQib,EAAK,MACpCA,EAAOA,EAAK,IAGd,IAAI9X,EAAK8X,EAAK0iB,MAId,OAFAx6B,EAAGgH,QAAU8Q,EAEN9X,EAiBT,IAAIy6B,GAAmB,qCACnBC,GAAU,mDACVC,GAAS,mBAEb,SAASC,GAAiB56B,GAExB,GAAkB,mBAAPA,EACT,MAAM,IAAIxH,MAAM,oBAAsBwH,EAAK,2BAG7C,IAAIqD,EAAQrD,EAAGhI,WAAWqL,MAlD5B,SAAiBrD,GACf,OAAOq6B,GAAcvgC,KAAKkG,EAAGhI,YAiDG6iC,CAAQ76B,GAAMy6B,GAAmBC,IAGjE,OAAKr3B,GAIEA,EAAM,IAAMA,EAAM,GAAGnJ,MAAM,KAAKqZ,KAAI,SAASkc,GAElD,OADApsB,EAAQosB,EAAIpsB,MAAMs3B,KACHt3B,EAAM,GAAGy3B,OAASrL,EAAIqL,WAL9B,GASX,SAASC,KACP,IAAIC,EAAY,GAEhBviC,KAAKwiC,QAAU,SAASvlC,EAAMulC,GAE5B,OADAD,EAAUzhC,KAAK,CAAC7D,EAAM,UAAWulC,IAC1BxiC,MAGTA,KAAKhC,MAAQ,SAASf,EAAMe,GAE1B,OADAukC,EAAUzhC,KAAK,CAAC7D,EAAM,QAASe,IACxBgC,MAGTA,KAAKvD,KAAO,SAASQ,EAAMR,GAEzB,OADA8lC,EAAUzhC,KAAK,CAAC7D,EAAM,OAAQR,IACvBuD,MAGTA,KAAKgnB,QAAU,SAASjc,GACtBw3B,EAAUvb,QAAQjc,IAKtB,SAAS03B,GAASC,EAAStiC,GACzBA,EAASA,GAAU,CACjBwO,IAAK,SAAS3R,EAAM0lC,GAGlB,GAFAC,EAAmB9hC,KAAK7D,IAET,IAAX0lC,EACF,OAAO,KAEP,MAAM3W,EAAM,oBAAsB/uB,EAAO,QAK/C,IAAI2lC,EAAqB,GACrBL,EAAYviC,KAAK6iC,WAAa/jC,OAAO6D,OAAOvC,EAAOyiC,YAAc,MACjEC,EAAY9iC,KAAK+iC,WAAajkC,OAAO6D,OAAO,MAE5CuI,EAAO43B,EAAUjb,SAAW7nB,KAE5BgsB,EAAQ,SAASgX,GACnB,IAAIC,EAAQL,EAAmB3hC,KAAK,QAEpC,OADA2hC,EAAmBvjC,OAAS,EACrB,IAAIU,MAAMkjC,EAAQD,EAAM,gBAAkBC,EAAQ,IAAMD,IAW7Dp0B,EAAM,SAAS3R,EAAM0lC,GACvB,IAAKJ,EAAUtlC,KAAgC,IAAvBA,EAAKmC,QAAQ,KAAa,CAIhD,IAHA,IAAI8jC,EAAQjmC,EAAKwE,MAAM,KACnB0hC,EAAQv0B,EAAIs0B,EAAMxhC,SAEfwhC,EAAM7jC,QACX8jC,EAAQA,EAAMD,EAAMxhC,SAGtB,OAAOyhC,EAGT,GAAItB,GAAWiB,EAAW7lC,GACxB,OAAO6lC,EAAU7lC,GAGnB,GAAI4kC,GAAWU,EAAWtlC,GAAO,CAC/B,IAA0C,IAAtC2lC,EAAmBxjC,QAAQnC,GAE7B,MADA2lC,EAAmB9hC,KAAK7D,GAClB+uB,EAAM,uCAOd,OAJA4W,EAAmB9hC,KAAK7D,GACxB6lC,EAAU7lC,GAAQslC,EAAUtlC,GAAM,GAAGslC,EAAUtlC,GAAM,IACrD2lC,EAAmBb,MAEZe,EAAU7lC,GAGnB,OAAOmD,EAAOwO,IAAI3R,EAAM0lC,IAGtBS,EAAQ,SAAS77B,EAAI87B,GAMvB,QAJsB,IAAXA,IACTA,EAAS,IAGO,mBAAP97B,EAAmB,CAC5B,IAAInD,GAAQmD,GAGV,MAAM,IAAIxH,MAAM,kBAAoBwH,EAAK,2BAFzCA,EAAKu6B,GAASv6B,EAAGV,SAerB,MAAO,CACLU,GAAIA,EACJ+7B,cAXW/7B,EAAGgH,SAAW4zB,GAAiB56B,IAClBuT,KAAI,SAASyoB,GACrC,OAAI1B,GAAWwB,EAAQE,GACdF,EAAOE,GAEP30B,EAAI20B,QAUbC,EAAc,SAAS71B,GACzB,IAAI81B,EAAML,EAAMz1B,GAEZpG,EAAKk8B,EAAIl8B,GACT+7B,EAAeG,EAAIH,aAKvB,OAAO,IAFW9mB,SAAShd,UAAU6jB,KAAK9D,MAAMhY,EAAI,CAAE,MAAO2R,OAAOoqB,MAKlEI,EAAS,SAASzd,EAAMtW,EAAS0zB,GACnC,IAAII,EAAML,EAAMnd,EAAMod,GAElB97B,EAAKk8B,EAAIl8B,GACT+7B,EAAeG,EAAIH,aAEvB,OAAO/7B,EAAGgY,MAAM5P,EAAS2zB,IAIvBK,EAA+B,SAASC,GAC1C,OAAO9B,IAAS,SAASjvB,GACvB,OAAO+wB,EAAqBh1B,IAAIiE,OA8DhCgxB,EAAa,CACfrB,QAASkB,EACTjnC,KAAM+mC,EACNxlC,MAAO,SAASA,GACd,OAAOA,IAIX0kC,EAAQ1b,SAAQ,SAASjR,GAEvB,SAAS+tB,EAAYrnC,EAAMuB,GAKzB,MAJa,UAATvB,GAAoB2H,GAAQpG,KAC9BA,EAAQ8jC,GAAS9jC,EAAM6I,UAGlB7I,EAIT,GAAI+X,aAAkBusB,GACpBvsB,EAAOiR,SAAQ,SAAS+c,GACtB,IAAI9mC,EAAO8mC,EAAS,GAChBtnC,EAAOsnC,EAAS,GAChB/lC,EAAQ+lC,EAAS,GAErBxB,EAAUtlC,GAAQ,CAAC4mC,EAAWpnC,GAAOqnC,EAAYrnC,EAAMuB,GAAQvB,WAE5D,GAAsB,iBAAXsZ,EAChB,GAAIA,EAAOiuB,YAAa,CACtB,IAAIC,EAAenlC,OAAOC,KAAKgX,GAAQmuB,QAAO,SAAS7O,EAAGxiB,GAIxD,MAH4B,OAAxBA,EAAI5Q,UAAU,EAAG,KACnBozB,EAAExiB,GAAOkD,EAAOlD,IAEXwiB,IACNv2B,OAAO6D,OAAO,OAEbwhC,EAAkB,IAAI1B,IAAU1sB,EAAOquB,aAAe,IAAIlrB,OAAO,CAAC+qB,IAAgB/4B,GAClFm5B,EAAyBvC,IAAS,SAASjvB,GAC7C,OAAOsxB,EAAgBv1B,IAAIiE,MAE7BkD,EAAOiuB,YAAYhd,SAAQ,SAASnU,GAClC0vB,EAAU1vB,GAAO,CAACwxB,EAAwBxxB,EAAK,UAAWsxB,WAG5DrlC,OAAOC,KAAKgX,GAAQiR,SAAQ,SAAS/pB,GACnC,GAAwB,YAApB8Y,EAAO9Y,GAAM,GAAjB,CAKA,IAAIR,EAAOsZ,EAAO9Y,GAAM,GACpBe,EAAQ+X,EAAO9Y,GAAM,GAEzBslC,EAAUtlC,GAAQ,CAAC4mC,EAAWpnC,GAAOqnC,EAAYrnC,EAAMuB,GAAQvB,QAP7D8lC,EAAUtlC,GAAQ8Y,EAAO9Y,SAcnC+C,KAAK4O,IAAMA,EACX5O,KAAK0jC,OAASA,EACd1jC,KAAKwjC,YAAcA,EACnBxjC,KAAKskC,YAzHa,SAAS5B,EAAS6B,GAClC,GAAIA,GAAqBA,EAAkBllC,OAAQ,CACjD,IAOI0kC,EACAS,EACAZ,EACAa,EAVAC,EAAmB5lC,OAAO6D,OAAO,MACjCgiC,EAAgB7lC,OAAO6D,OAAO,MAE9BiiC,EAAwB,GACxBC,EAAwB,GACxBC,EAAwB,GAM5B,IAAK,IAAI7nC,KAAQslC,EACfwB,EAAWxB,EAAUtlC,IAEoB,IAArCsnC,EAAkBnlC,QAAQnC,KACR,YAAhB8mC,EAAS,IAEO,KADlBS,EAAWI,EAAsBxlC,QAAQ2kC,EAAS,MAEhDH,EAAuBG,EAAS,GAAGO,YAAY,GAAIC,GACnDE,EAA8Bd,EAA6BC,GAC3DgB,EAAsB9jC,KAAKijC,EAAS,IACpCc,EAAsB/jC,KAAK8iC,GAC3BkB,EAAsBhkC,KAAK2jC,GAC3BC,EAAiBznC,GAAQ,CAACwnC,EAA6BxnC,EAAM,UAAW2mC,IAExEc,EAAiBznC,GAAQ,CAAC6nC,EAAsBN,GAAWvnC,EAAM,UAAW4nC,EAAsBL,IAGpGE,EAAiBznC,GAAQ,CAAC8mC,EAAS,GAAIA,EAAS,IAElDY,EAAc1nC,IAAQ,GAGH,YAAhB8mC,EAAS,IAAoC,SAAhBA,EAAS,KAAkBA,EAAS,GAAGgB,QAEvER,EAAkBvd,SAAQ,SAASge,IACU,IAAvCjB,EAAS,GAAGgB,OAAO3lC,QAAQ4lC,KAC7BN,EAAiBznC,GAAQ,CAAC8mC,EAAS,GAAIA,EAAS,IAChDY,EAAcK,IAAS,MAM/BT,EAAkBvd,SAAQ,SAASge,GACjC,IAAKL,EAAcK,GACjB,MAAM,IAAIjlC,MAAM,oBAAsBilC,EAAQ,8CAIlDtC,EAAQ9E,QAAQ8G,GAGlB,OAAO,IAAIjC,GAASC,EAASx3B,I,cCxQjC,SAAS,GAAkB5N,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,IAAI,GAEJ,WACE,SAASgoB,KAXX,SAAyB1uB,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAY5G,CAAgB5L,KAAM46B,GAEtB56B,KAAK66B,KAAO,GAVhB,IAAsB1uB,EAAa4G,EAAYC,EA8C7C,OA9CoB7G,EAaPyuB,GAboB7nB,EAaJ,CAAC,CAC5BF,IAAK,SACL7U,MAAO,SAAgBvB,GACrB,IAAIkC,EAAQ+E,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAMhF,OAJK/E,EAAMgK,KACThK,EAAMgK,GAAKlM,EAAO,IAAMuD,KAAK66B,QAGxB,aAAQp+B,EAAMkC,KAEtB,CACDkU,IAAK,aACL7U,MAAO,SAAoBW,GACzB,OAAOqB,KAAK2C,OAAO,OAAQhE,KAE5B,CACDkU,IAAK,YACL7U,MAAO,SAAmBW,GACxB,OAAOqB,KAAK2C,OAAO,MAAOhE,KAE3B,CACDkU,IAAK,YACL7U,MAAO,SAAmBW,GACxB,OAAOqB,KAAK2C,OAAO,MAAOhE,KAE3B,CACDkU,IAAK,aACL7U,MAAO,SAAoBW,GACzB,OAAOqB,KAAK2C,OAAO,OAAQhE,QA1C6C,GAAkBwN,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA8C3K4nB,EAxCT,GCRA,SAAS,GAAkBt9B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,IAAIq6B,GAEJ,WACE,SAASA,EAAgBl/B,IAT3B,SAAyB7B,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAU5G,CAAgB5L,KAAMitC,GAEtBjtC,KAAKiO,UAAYF,EACjB/N,KAAKqpC,UAAY,GACjBt7B,EAASK,GAAG,cAAepO,KAAKO,MAAM8iB,KAAKrjB,OAV/C,IAAsBmM,EAAa4G,EAAYC,EA8F7C,OA9FoB7G,EAaP8gC,GAboBl6B,EAaH,CAAC,CAC7BF,IAAK,MACL7U,MAAO,SAAaxB,EAASC,GAC3B,IAAIkM,EAAKnM,EAAQmM,GACjB3I,KAAKqpC,UAAU1gC,GAAMnM,IAEtB,CACDqW,IAAK,SACL7U,MAAO,SAAgBxB,GACrB,IAAImM,EAAKnM,EAAQmM,IAAMnM,SAChBwD,KAAKqpC,UAAU1gC,KAEvB,CACDkK,IAAK,MACL7U,MAAO,SAAa2K,GAClB,OAAO3I,KAAKqpC,UAAU1gC,KAEvB,CACDkK,IAAK,SACL7U,MAAO,WACL,OAAO,GAAOgC,KAAKqpC,aAEpB,CACDx2B,IAAK,UACL7U,MAAO,SAAiBuJ,GACtB,GAAOvH,KAAKqpC,WAAWriB,SAAQ,SAAUxqB,GACvC,OAAO+K,EAAG/K,QAGb,CACDqW,IAAK,SACL7U,MAAO,SAAgBuJ,GACrB,OAAO,GAAOvH,KAAKqpC,WAAW3hC,QAAO,SAAUlL,GAC7C,OAAO+K,EAAG/K,QAGb,CACDqW,IAAK,QACL7U,MAAO,WACLgC,KAAKqpC,UAAY,KAElB,CACDx2B,IAAK,WACL7U,MAAO,SAAkBxB,EAAS4wC,GAChCptC,KAAKktC,YAAYE,GAEM,iBAAZ5wC,IACTA,EAAUwD,KAAK4O,IAAIpS,IAGrBwD,KAAKiO,UAAUS,KAAK,mBAAoB,CACtClS,QAASA,EACT4wC,MAAOA,IAGTptC,KAAKG,OAAO3D,GACZA,EAAQmM,GAAKykC,EACbptC,KAAKY,IAAIpE,KAWV,CACDqW,IAAK,cACL7U,MAAO,SAAqB2K,GAC1B,IAAKA,EACH,MAAM,IAAI5I,MAAM,2BAGlB,GAAIC,KAAKqpC,UAAU1gC,GACjB,MAAM,IAAI5I,MAAM,mBAAqB4I,EAAK,uBAzF4B,GAAkBwD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA8F3Ki6B,EA1FT,GAgGA,SAAS,GAAO9tC,GACd,OAAOL,OAAOC,KAAKI,GAAK2b,KAAI,SAAU7X,GACpC,OAAO9D,EAAI8D,MAJfgqC,GAAgB1+B,QAAU,CAAC,YC9F3B,IAII1H,GAAQ1C,MAAM3E,UAAUqH,MAqFb,SAASwmB,KACtBrtB,KAAKstB,WAAa,GAIlBttB,KAAKoO,GAAG,kBAAmB,EAAGpO,KAAKutB,SAAUvtB,MAwY/C,SAASwtB,MC5eT,SAAS,GAAkBlwB,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDyH7Sya,GAAS7tB,UAAU4O,GAAK,SAASa,EAAQiL,EAAU0S,EAAUxS,GAU3D,GARAnL,EAAS,kBAAQA,GAAUA,EAAS,CAAEA,GAElC,qBAAWiL,KACbE,EAAOwS,EACPA,EAAW1S,EACXA,EAxHmB,MA2HhB,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,IAAI0tB,EAAiBb,EAEjBxS,KACFqT,EAAiB,eAAKb,EAAUxS,IAKX,KAAIwS,EAAe,MAAKA,GAG/C,IAAI1hB,EAAOlL,KAEXiP,EAAO+X,SAAQ,SAASvpB,GACtByN,EAAKwiB,aAAajwB,EAAG,CACnByc,SAAUA,EACV0S,SAAUa,EACV1V,KAAM,WAcZsV,GAAS7tB,UAAUmuB,KAAO,SAASne,EAAO0K,EAAU0S,EAAUxS,GAC5D,IAAIlP,EAAOlL,KAQX,GANI,qBAAWka,KACbE,EAAOwS,EACPA,EAAW1S,EACXA,EApKmB,MAuKhB,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,SAAS6tB,IACPA,EAAgBC,UAAW,EAE3B,IAAIhmB,EAAS+kB,EAASrN,MAAMnF,EAAM1W,WAIlC,OAFAwH,EAAK4iB,IAAIte,EAAOoe,GAET/lB,EAMT+lB,EAAsB,KAAIhB,EAE1B5sB,KAAKoO,GAAGoB,EAAO0K,EAAU0T,IAY3BP,GAAS7tB,UAAUsuB,IAAM,SAAS7e,EAAQ2d,GAExC3d,EAAS,kBAAQA,GAAUA,EAAS,CAAEA,GAEtC,IAAI/D,EAAOlL,KAEXiP,EAAO+X,SAAQ,SAASxX,GACtBtE,EAAK6iB,gBAAgBve,EAAOod,OAahCS,GAAS7tB,UAAU+rB,YAAc,SAASjE,GACxC,IAAI9X,EAAQ,IAAIge,GAIhB,OAFAhe,EAAM2W,KAAKmB,GAEJ9X,GAkCT6d,GAAS7tB,UAAUkP,KAAO,SAASjS,EAAM6qB,GACvC,IAAI9X,EACAwe,EACAC,EACA5O,EASJ,GAPAA,EAAOxY,GAAM3F,KAAKwC,WAEE,iBAATjH,IAETA,GADA6qB,EAAO7qB,GACKA,OAGTA,EACH,MAAM,IAAIsD,MAAM,2BAKlB,GAFAiuB,EAAgBhuB,KAAKstB,WAAW7wB,GAEhC,CASE+S,EAHE8X,aAAgBkG,GAGVlG,EAEAtnB,KAAKurB,YAAYjE,GAI3BjI,EAAK,GAAK7P,EAGV,IAAI0e,EAAe1e,EAAM/S,KAGrBA,IAASyxB,IACX1e,EAAM/S,KAAOA,GAGf,IACEwxB,EAAcjuB,KAAKmuB,iBAAiB3e,EAAO6P,EAAM2O,GACjD,QAGIvxB,IAASyxB,IACX1e,EAAM/S,KAAOyxB,GAUjB,YAJoB1vB,IAAhByvB,GAA6Bze,EAAMkR,mBACrCuN,GAAc,GAGTA,IAITZ,GAAS7tB,UAAU4uB,YAAc,SAASpC,GACxC,OAAgD,IAAzChsB,KAAK0O,KAAK,QAAS,CAAEsd,MAAOA,KAIrCqB,GAAS7tB,UAAU+tB,SAAW,WAC5BvtB,KAAKstB,WAAa,IAGpBD,GAAS7tB,UAAU2uB,iBAAmB,SAAS3e,EAAO6P,EAAMgP,GAI1D,IAFA,IAAIJ,EAEGI,IAGD7e,EAAMgc,cAIVyC,EAAcjuB,KAAKsuB,gBAAgB9e,EAAO6P,EAAMgP,GAEhDA,EAAWA,EAAStW,KAGtB,OAAOkW,GAGTZ,GAAS7tB,UAAU8uB,gBAAkB,SAAS9e,EAAO6P,EAAMgP,GAEzD,IAAIJ,EAEJ,GAAII,EAASzB,SAASiB,SACpB,OAAOI,EAGT,SAMsBzvB,KAHpByvB,EAmJJ,SAAwB1mB,EAAI8X,GAC1B,OAAO9X,EAAGgY,MAAM,KAAMF,GApJNkP,CAAeF,EAASzB,SAAUvN,MAI9C7P,EAAMye,YAAcA,EACpBze,EAAM4B,oBAIY,IAAhB6c,GACFze,EAAM4S,iBAER,MAAO4J,GACP,IAAKhsB,KAAKouB,YAAYpC,GAGpB,MAFAa,QAAQb,MAAM,oCAAqCA,GAE7CA,EAIV,OAAOiC,GAmBTZ,GAAS7tB,UAAUkuB,aAAe,SAASle,EAAOgf,GAEhD,IACIC,EADAJ,EAAWruB,KAAK0uB,cAAclf,GAIlC,GAAK6e,EAAL,CAQA,KAAOA,GAAU,CAEf,GAAIA,EAASnU,SAAWsU,EAAYtU,SAUlC,OARAsU,EAAYzW,KAAOsW,OAEfI,EACFA,EAAiB1W,KAAOyW,EAExBxuB,KAAK2uB,cAAcnf,EAAOgf,IAM9BC,EAAmBJ,EACnBA,EAAWA,EAAStW,KAItB0W,EAAiB1W,KAAOyW,OA3BtBxuB,KAAK2uB,cAAcnf,EAAOgf,IA+B9BnB,GAAS7tB,UAAUkvB,cAAgB,SAASzxB,GAC1C,OAAO+C,KAAKstB,WAAWrwB,IAGzBowB,GAAS7tB,UAAUmvB,cAAgB,SAAS1xB,EAAMoxB,GAChDruB,KAAKstB,WAAWrwB,GAAQoxB,GAG1BhB,GAAS7tB,UAAUuuB,gBAAkB,SAASve,EAAOod,GAEnD,IACIgC,EACAH,EACAI,EAHAR,EAAWruB,KAAK0uB,cAAclf,GAKlC,GAAKod,EAQL,KAAOyB,GAELO,EAAeP,EAAStW,MAExB8W,EAAmBR,EAASzB,YAEHA,GAAYiC,EAAuB,OAAMjC,IAC5D6B,EACFA,EAAiB1W,KAAO6W,EAIxB5uB,KAAK2uB,cAAcnf,EAAOof,IAI9BH,EAAmBJ,EACnBA,EAAWO,OAtBX5uB,KAAK2uB,cAAcnf,EAAO,OA+B9Bge,GAAchuB,UAAU4R,gBAAkB,WACxCpR,KAAKwrB,cAAe,GAGtBgC,GAAchuB,UAAU4iB,eAAiB,WACvCpiB,KAAK0gB,kBAAmB,GAG1B8M,GAAchuB,UAAU2mB,KAAO,SAASmB,GACtC,iBAAOtnB,KAAMsnB,GAAQ,KCnfvB,IAAI,GAEJ,WACE,SAASm4E,EAAc1xF,GACrB,IAAIvB,EAAQxM,MAVhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAY5G,CAAgB5L,KAAMy/F,GAEtBz/F,KAAKstB,WAAa,GAClBvf,EAASK,GAAG,oBAAoB,SAAUkH,GACxC,IAAIpO,EAAWoO,EAAKpO,SAEpBsF,EAAMytG,gBAAgB/yG,MAExB6G,EAASK,GAAG,eAAe,SAAUuB,GACnC,IAAIuqG,EAAYvqG,EAAQpC,KAAK5E,GAEzB6D,EAAM8gB,WAAW4sF,IACnBnsG,EAAS4f,KAAK,YAAY,SAAUhe,GAClC,IAAIwqG,EAAYxqG,EAAQpC,KAAK5E,GAE7B6D,EAAM2gC,SAAS+sE,EAAWC,SAIhCpsG,EAASK,GAAG,oBAAoB,SAAUoH,GACxC,IAAIhZ,EAAUgZ,EAAMhZ,QAChB4wC,EAAQ53B,EAAM43B,MAElB5gC,EAAM2gC,SAAS3wC,EAAQmM,GAAIykC,MA/BjC,IAAsBjhC,EAAa4G,EAAYC,EAgG7C,OAhGoB7G,EAmCPszF,GAnCoB1sF,EAmCL,CAAC,CAC3BF,IAAK,kBACL7U,MAAO,SAAyBkJ,GAI9B,IAHA,IAAIkzG,EAAU,GACVC,EAAiBnzG,EAAS7H,OAErBT,EAAI,EAAGA,EAAIy7G,EAAgBz7G,IAAK,CACvC,IAAI+J,EAAKzB,EAAStI,GAAG+J,GAErB,GAAIyxG,EAAQzxG,GACV,OAGFyxG,EAAQzxG,IAAM,EACd,IAAI2xG,EAAkBt6G,KAAKstB,WAAW3kB,IAAO3I,KAAKstB,WAAW3kB,GAAItJ,OAEjE,GAAIi7G,EACF,IAAK,IAAI9lF,EAAI,EAAGA,EAAI8lF,EAAiB9lF,IAEnCx0B,KAAKstB,WAAW3kB,GAAI6rB,IAAMx0B,KAAKstB,WAAW3kB,GAAI6rB,QAKrD,CACD3hB,IAAK,oBACL7U,MAAO,SAA2B2K,EAAI0lB,GAC/BruB,KAAKstB,WAAW3kB,KACnB3I,KAAKstB,WAAW3kB,GAAM,IAIxB3I,KAAKstB,WAAW3kB,GAAI3I,KAAKstB,WAAW3kB,GAAItJ,QAAUgvB,IAEnD,CACDxb,IAAK,qBACL7U,MAAO,SAA4B2K,EAAI0lB,GACrC,GAAKruB,KAAKstB,WAAW3kB,GAIrB,GAAI0lB,EAAU,CACZ,IAAIrnB,EAAMhH,KAAKstB,WAAW3kB,GAAIvJ,QAAQivB,IAEzB,IAATrnB,GACFhH,KAAKstB,WAAW3kB,GAAIvH,OAAO4F,EAAK,QAGlChH,KAAKstB,WAAW3kB,GAAItJ,OAAS,IAGhC,CACDwT,IAAK,WACL7U,MAAO,SAAkBilG,EAAO71D,GAC1BptC,KAAKstB,WAAW21E,KAClBjjG,KAAKstB,WAAW8f,GAASptC,KAAKstB,WAAW21E,UAClCjjG,KAAKstB,WAAW21E,SA3F+C,GAAkB92F,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAgG3KysF,EA5FT,GCNA,SAAS,GAAkBniG,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDsG7S,GAAcrE,QAAU,CAAC,YCjGzB,IAEI,GAEJ,WACE,SAASgsG,KAZX,SAAyBruG,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMu6G,GAEtBv6G,KAAKstB,WAAa,GAXtB,IAAsBnhB,EAAa4G,EAAYC,EA4H7C,OA5HoB7G,EAcPouG,GAdoBxnG,EAcR,CAAC,CACxBF,IAAK,eACL7U,MAAO,SAAsBvB,EAAMkT,GACjC,IAAImtB,EAAY98B,KAAKstB,WAAW7wB,GAEhC,GAAKqgC,EAAL,CAMA,IAFA,IAAI09E,EAEK57G,EAAI,EAAGA,EAAIk+B,EAAUz9B,UAC5Bm7G,EAAY19E,EAAUl+B,GAAGguB,SAASjd,IADE/Q,KAQtC,OAAO47G,KAER,CACD3nG,IAAK,gBACL7U,MAAO,SAAuBvB,EAAMkT,GAClC,IAAImtB,EAAY98B,KAAKstB,WAAW7wB,GAC5B4xC,EAAa,GAEjB,IAAKvR,EACH,OAAOuR,EAGT,IAAK,IAAIzvC,EAAI,EAAGA,EAAIk+B,EAAUz9B,OAAQT,IAAK,CACzC,IAAI47G,EAAY19E,EAAUl+B,GAAGguB,SAASjd,GAElC6qG,GACFnsE,EAAWvtC,KAAK05G,GAIpB,OAAKnsE,EAAWhvC,OAITgvC,IAER,CACDx7B,IAAK,iBACL7U,MAAO,SAAwBvB,EAAMyd,EAAU0S,GAM7C,GALI,qBAAW1S,KACb0S,EAAW1S,EACXA,EA7De,MAgEZ,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,IAEI06G,EAAkBzzG,EAFlB81B,EAAY98B,KAAK0uB,cAAcjyB,GAG/B+xB,EAAc,CAChBtU,SAAUA,EACV0S,SAAUA,GAGZ,IAAK5lB,EAAM,EAAGyzG,EAAmB39E,EAAU91B,GAAMA,IAC/C,GAAIyzG,EAAiBvgG,SAAWA,EAG9B,YADA4iB,EAAU17B,OAAO4F,EAAK,EAAGwnB,GAK7BsO,EAAUh8B,KAAK0tB,KAEhB,CACD3b,IAAK,kBACL7U,MAAO,SAAyBvB,EAAMmwB,GACpC,IAEIyB,EAA4BrnB,EAF5B81B,EAAY98B,KAAK0uB,cAAcjyB,GAInC,GAAImwB,EAGF,IAAK5lB,EAAM81B,EAAUz9B,OAAS,EAAGgvB,EAAWyO,EAAU91B,GAAMA,IACvCqnB,EAASzB,WAEHA,GACvBkQ,EAAU17B,OAAO4F,EAAK,QAK1B81B,EAAUz9B,OAAS,IAGtB,CACDwT,IAAK,gBACL7U,MAAO,SAAuBvB,GAC5B,IAAIqgC,EAAY98B,KAAKstB,WAAW7wB,GAMhC,OAJKqgC,IACH98B,KAAKstB,WAAW7wB,GAAQqgC,EAAY,IAG/BA,OAxHiE,GAAkB3wB,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA4H3KunG,EArHT,GCTIG,KAAiC,oBAAX/9F,SAA0BA,OAAOla,UACvD,GAAU0B,MAAMC,QACpB,SAASu2G,GAAiBj7G,GACtB,IAAIjD,SAAciD,EAClB,MAAgB,WAATjD,GAA8B,WAATA,EAEhC,SAASm+G,GAAcl7G,GACnB,OAAOy2E,GAAYz2E,IAAM01E,GAAO11E,GAEpC,SAASm7G,GAAUn7G,GACf,OAAO01E,GAAO11E,KAAY,IAANA,GAcxB,SAAgBA,GACZ,OAAa,IAANA,EAf4Bo7G,CAAOp7G,IAAMy2E,GAAYz2E,GAEhE,SAAS+2E,GAAW/2E,GAChB,MAAoB,mBAANA,EAElB,SAASo1E,GAASp1E,GACd,MAAoB,iBAANA,EAElB,SAASk3E,GAASl3E,GACd,MAAoB,iBAANA,EAElB,SAAS01E,GAAO11E,GACZ,OAAa,OAANA,EAKX,SAASy2E,GAAYz2E,GACjB,YAAa,IAANA,EAQX,SAASq7G,GAAYt/B,EAAOu/B,GACxB,IAAIz5D,EAAM,GACV,GAAIk6B,EACA,IAAK,IAAI5oE,KAAO4oE,EACZl6B,EAAI1uC,GAAO4oE,EAAM5oE,GAGzB,GAAImoG,EACA,IAAK,IAAIC,KAASD,EACdz5D,EAAI05D,GAASD,EAAOC,GAG5B,OAAO15D,EAIX,SAAS25D,GAASC,EAAYpzG,EAAUhH,EAAWq6G,EAAOvoG,EAAK7P,EAAOutC,EAAK9zC,GACvE,MAAO,CACH0+G,WAAYA,EACZpzG,SAAUA,EACVhH,UAAWA,EACXs6G,IAAK,KACLD,MAAOA,EACPvoG,SAAa,IAARA,EAAiB,KAAOA,EAC7ByoG,YAAa,KACbt4G,WAAiB,IAAVA,EAAmB,KAAOA,EACjCutC,SAAa,IAARA,EAAiB,KAAOA,EAC7B9zC,KAAMA,GAGd,SAAS8+G,GAAYH,EAAO3+G,EAAMsE,EAAWgH,EAAUozG,EAAYn4G,EAAO6P,EAAK09B,GAC3E,IAAIirE,OAA2B,IAAfL,EAAwB,EAA6BA,EACjEM,EAAQP,GAASM,EAAWzzG,EAAUhH,EAAWq6G,EAAOvoG,EAAK7P,EAAOutC,EAAK9zC,GACzEi/G,EAAY,GAAQH,YAOxB,MANyB,mBAAdG,GACPA,EAAUD,GAEI,IAAdD,GACAG,GAAkBF,EAAOA,EAAM1zG,UAE5B0zG,EAEX,SAASG,GAAqBR,EAAO3+G,EAAMuG,EAAO6P,EAAK09B,IACtC,EAAR6qE,GAAoC,IACrCA,EAAQ3+G,EAAK+C,WAAai3E,GAAWh6E,EAAK+C,UAAU68C,QAAU,EAAyB,GAG3F,IAAIw/D,EAAep/G,EAAKo/G,aACxB,IAAKjB,GAAciB,GAIf,IAAK,IAAIjuG,KAHJ5K,IACDA,EAAQ,IAEK64G,EACT1lC,GAAYnzE,EAAM4K,MAClB5K,EAAM4K,GAAQiuG,EAAajuG,IAIvC,IAAa,EAARwtG,GAAqC,EAAG,CACzC,IAAIU,EAAer/G,EAAKq/G,aACxB,IAAKlB,GAAckB,GACf,GAAKvrE,EAKD,IAAK,IAAIwrE,KAAUD,EACX3lC,GAAY5lC,EAAIwrE,MAChBxrE,EAAIwrE,GAAUD,EAAaC,SALnCxrE,EAAMurE,EAWlB,IAAIL,EAAQP,GAAS,EAA4B,KAAM,KAAME,EAAOvoG,EAAK7P,EAAOutC,EAAK9zC,GACjFi/G,EAAY,GAAQH,YAIxB,OAHI9kC,GAAWilC,IACXA,EAAUD,GAEPA,EAEX,SAASO,GAAgB1qE,EAAMz+B,GAC3B,OAAOqoG,GAAS,EAA4BN,GAActpE,GAAQ,GAAKA,EAAM,KAAM,GAAez+B,EAAK,KAAM,KAAM,MAEvH,SAASopG,GAAeR,GACpB,IAAIz4G,EAAQy4G,EAAMz4G,MAClB,GAAIA,EAAO,CACP,IAAIo4G,EAAQK,EAAML,MACN,IAARA,SACuB,IAAnBp4G,EAAM+E,UAAuB6yG,GAAca,EAAM1zG,WACjD4zG,GAAkBF,EAAOz4G,EAAM+E,eAEX,IAApB/E,EAAMjC,YACN06G,EAAM16G,UAAYiC,EAAMjC,WAAa,KACrCiC,EAAMjC,eAAYvC,SAGR,IAAdwE,EAAM6P,MACN4oG,EAAM5oG,IAAM7P,EAAM6P,IAClB7P,EAAM6P,SAAMrU,QAEE,IAAdwE,EAAMutC,MAEFkrE,EAAMlrE,IADE,EAAR6qE,EACYL,GAAYU,EAAMlrE,IAAKvtC,EAAMutC,KAG7BvtC,EAAMutC,IAEtBvtC,EAAMutC,SAAM/xC,GAGpB,OAAOi9G,EAEX,SAASS,GAAYC,GACjB,IAAIC,EACAhB,EAAQe,EAAaf,MACzB,GAAY,GAARA,EAA4B,CAC5B,IAAIp4G,EACAq5G,EAAeF,EAAan5G,MAChC,IAAKoyE,GAAOinC,GAER,IAAK,IAAIxpG,KADT7P,EAAQ,GACQq5G,EACZr5G,EAAM6P,GAAOwpG,EAAaxpG,GAGlCupG,EAAWR,GAAqBR,EAAOe,EAAa1/G,KAAMuG,EAAOm5G,EAAatpG,IAAKspG,EAAa5rE,UAEnF,IAAR6qE,EACLgB,EAAWb,GAAYH,EAAOe,EAAa1/G,KAAM0/G,EAAap7G,UAAWo7G,EAAap0G,SAAUo0G,EAAahB,WAAYgB,EAAan5G,MAAOm5G,EAAatpG,IAAKspG,EAAa5rE,KAE/J,GAAR6qE,EACLgB,EAAWJ,GAAgBG,EAAap0G,SAAUo0G,EAAatpG,KAElD,KAARuoG,IACLgB,EAAWD,GAEf,OAAOC,EAEX,SAASE,KACL,OAAON,GAAgB,GAAI,MAE/B,SAASO,GAAiBC,EAAO30G,EAAQ5I,EAAOw9G,GAC5C,IAAK,IAAIhkG,EAAM+jG,EAAMn9G,OAAQJ,EAAQwZ,EAAKxZ,IAAS,CAC/C,IAAIoZ,EAAImkG,EAAMv9G,GACd,IAAK47G,GAAUxiG,GAAI,CACf,IAAIqkG,EAASD,EAlIT,IAkIkCx9G,EACtC,GAAI,GAAQoZ,GACRkkG,GAAiBlkG,EAAGxQ,EAAQ,EAAG60G,OAE9B,CACD,GAAI/B,GAAiBtiG,GACjBA,EAAI2jG,GAAgB3jG,EAAGqkG,OAEtB,CACD,IAAIC,EAAStkG,EAAExF,IACX+pG,EAAgB9nC,GAAS6nC,IA5IjC,MA4I4CA,EAAO,GAC1CvnC,GAAO/8D,EAAEgjG,OAAQuB,IAClBvkG,EAAI6jG,GAAY7jG,IAEhB+8D,GAAOunC,IAAWC,EAClBvkG,EAAExF,IAAM6pG,EAGRrkG,EAAExF,IAAM4pG,EAAaE,EAG7B90G,EAAO/G,KAAKuX,MAoB5B,SAASsjG,GAAkBF,EAAO1zG,GAC9B,IAAI80G,EACAC,EAAgB,EAEpB,GAAIjC,GAAU9yG,GACV80G,EAAc90G,OAEb,GAAI+sE,GAAS/sE,GACd+0G,EAAgB,EAChBD,EAAcb,GAAgBj0G,QAE7B,GAAI6uE,GAAS7uE,GACd+0G,EAAgB,EAChBD,EAAcb,GAAgBj0G,EAAW,SAExC,GAAI,GAAQA,GAAW,CACxB,IAAI0Q,EAAM1Q,EAAS1I,OACnB,GAAY,IAARoZ,EACAokG,EAAc,KACdC,EAAgB,MAEf,EAKGh+G,OAAOi+G,SAASh1G,KAA+B,IAAlBA,EAAY,KACzCA,EAAWA,EAASlB,SAExBi2G,EAAgB,EAChB,IAAK,IAAIl+G,EAAI,EAAGA,EAAI6Z,EAAK7Z,IAAK,CAC1B,IAAIyZ,EAAItQ,EAASnJ,GACjB,GAAIi8G,GAAUxiG,IAAM,GAAQA,GAAI,CAC5BwkG,EAAcA,GAAe90G,EAASlB,MAAM,EAAGjI,GAC/C29G,GAAiBx0G,EAAU80G,EAAaj+G,EAAG,IAC3C,MAEC,GAAI+7G,GAAiBtiG,IACtBwkG,EAAcA,GAAe90G,EAASlB,MAAM,EAAGjI,IACnCkC,KAAKk7G,GAAgB3jG,EAlNrC,IAkNoDzZ,QAE/C,CACD,IAAIiU,EAAMwF,EAAExF,IACRmqG,EAAY5nC,GAAO/8D,EAAEgjG,KACrB4B,EAAY7nC,GAAOviE,GACnBqqG,GAAcD,GAAanoC,GAASjiE,IAxN5C,MAwNoDA,EAAI,IAC/CmqG,GAAaC,GAAaC,GAC3BL,EAAcA,GAAe90G,EAASlB,MAAM,EAAGjI,GAC1Co+G,IAAaE,IACd7kG,EAAI6jG,GAAY7jG,KAEhB4kG,GAAaC,KACb7kG,EAAExF,IA/Nd,IA+NgCjU,GAExBi+G,EAAY/7G,KAAKuX,IAEZwkG,GACLA,EAAY/7G,KAAKuX,KAI7BwkG,EAAcA,GAAe90G,GACjBo1G,GAAI,QAIpBN,EAAc90G,EACTqtE,GAAOrtE,EAASszG,OACjBwB,EAAcX,GAAYn0G,IAE9B+0G,EAAgB,EAIpB,OAFArB,EAAM1zG,SAAW80G,EACjBpB,EAAMN,WAAa2B,EACZrB,EAEX,IAAI,GAAU,CACV2B,YAAa,KACbC,aAAc,KACd9B,YAAa,KACb+B,eAAgB,MAgBpB,IAAIC,GAAU,+BACVC,GAAQ,uCAERznD,GAAa,CACb,gBAAiBwnD,GACjB,gBAAiBA,GACjB,aAAcA,GACd,aAAcA,GACd,aAAcA,GACd,cAAeA,GACf,aAAcA,GACd,WAAYC,GACZ,WAAYA,GACZ,YAAaA,IAKbC,GAAY,GACZC,GAAY,GAChB,SAAS//G,GAAYggH,EAAWtC,GAC5BsC,EAAUhgH,YAAY09G,GAE1B,SAASuC,GAAeD,EAAWlwE,EAASjsB,GACpCo5F,GAAcp5F,GACd7jB,GAAYggH,EAAWlwE,GAGvBkwE,EAAU10F,aAAawkB,EAASjsB,GASxC,SAASq8F,GAAaF,EAAWG,EAAQC,GACrCJ,EAAUE,aAAaC,EAAQC,GAKnC,SAASC,GAAQC,GAEb,IADA,IAAI5vF,OACoC7vB,KAAhC6vB,EAAW4vF,EAAQv8G,UACvB2sB,IAIR,IAAI6vF,GAAsB,GACtBC,GAAiB,GACrB,SAASC,GAAYnhH,EAAMohH,EAAWhD,GAClC,IAAIiD,EAAaJ,GAAoBjhH,GACjCshH,EAAelD,EAAImD,IACnBH,GACKC,IACDH,GAAelhH,GA0D3B,SAA+BA,GAC3B,IAAIwhH,EAAW,SAAUjvG,GACrB,IAAI/S,EAAO+S,EAAM/S,KACbiiH,EAAmB,UAATjiH,GAA6B,aAATA,EAClC,GAAIiiH,GAA4B,IAAjBlvG,EAAMuC,OAKjB,OADAvC,EAAM4B,mBACC,EAEX5B,EAAM4B,gBAAkBA,GAExB,IAAI84D,EAAY,CACZmxC,IAAK54G,UAET3D,OAAOuN,eAAemD,EAAO,gBAAiB,CAC1C1D,cAAc,EACd8C,IAAK,WACD,OAAOs7D,EAAUmxC,OAzDjC,SAAwB7rG,EAAOlS,EAAQohH,EAASzhH,EAAMitE,GAClD,IAAImxC,EAAM/9G,EACV,MAAQ83E,GAAOimC,IAAM,CAIjB,GAAIqD,GAAWrD,EAAI1qB,SACf,OAEJ,IAAI4tB,EAAelD,EAAImD,IACvB,GAAID,EAAc,CACd,IAAII,EAAeJ,EAAathH,GAChC,GAAI0hH,IAEAz0C,EAAUmxC,IAAMA,EACZsD,EAAanvG,MACbmvG,EAAanvG,MAAMmvG,EAAar3F,KAAM9X,GAGtCmvG,EAAanvG,GAEbA,EAAMgc,cACN,OAIZ6vF,EAAMA,EAAIh7G,YAkCVu+G,CAAepvG,EAAOA,EAAMlS,OAAQohH,EAASzhH,EAAMitE,IAIvD,OADAznE,SAASmpB,iBAAiBizF,GAAmB5hH,GAAOwhH,GAC7CA,EApFwBK,CAAsB7hH,GAC7CihH,GAAoBjhH,GAAQ,GAE3BshH,IACDA,EAAelD,EAAImD,IAAM,IAExBD,EAAathH,IACdihH,GAAoBjhH,KAExBshH,EAAathH,GAAQohH,GAEhBE,GAAgBA,EAAathH,KAClCihH,GAAoBjhH,KACD,IAAfqhH,IACA77G,SAASqpB,oBAAoB+yF,GAAmB5hH,GAAOkhH,GAAelhH,IACtEkhH,GAAelhH,GAAQ,MAE3BshH,EAAathH,GAAQohH,GAgC7B,SAASQ,GAAmB5hH,GACxB,OAAOA,EAAKuvD,OAAO,GAAGruD,cAE1B,SAASiT,KACLpR,KAAKwrB,cAAe,EACfxrB,KAAK++G,6BACN/+G,KAAK6+C,2BAgCb,SAASmgE,GAAgB3D,EAAK4D,GAC1B,IAAIC,EAAUz8G,SAAS8kC,cAAc,KAErC,OADA23E,EAAQD,UAAYA,EACbC,EAAQD,YAAc5D,EAAI4D,UAMrC,SAASE,GAAqBn8G,EAAOo8G,EAAY3hH,GAC7C,GAAIuF,EAAMo8G,GAAa,CACnB,IAAI/wF,EAAWrrB,EAAMo8G,GACjB/wF,EAAS7e,MACT6e,EAAS7e,MAAM6e,EAAS/G,KAAM7pB,GAG9B4wB,EAAS5wB,OAGZ,CACD,IAAI4hH,EAAqBD,EAAWjhH,cAChC6E,EAAMq8G,IACNr8G,EAAMq8G,GAAoB5hH,IAItC,SAAS6hH,GAAsBF,EAAYG,GACvC,IAAIC,EAAW,SAAU/hH,GACrBA,EAAE2T,kBACF,IAAIqqG,EAAQz7G,KAAKy/G,GAEjB,GAAKhE,EAAL,CAGA,IAAIz4G,EAAQy4G,EAAMz4G,OAASy6G,GACvBpC,EAAMI,EAAMJ,IAChB,GAAIvmC,GAASsqC,GACTD,GAAqBn8G,EAAOo8G,EAAY3hH,QAGxC,IAAK,IAAImB,EAAI,EAAGA,EAAIwgH,EAAW//G,OAAQT,IACnCugH,GAAqBn8G,EAAOo8G,EAAWxgH,GAAInB,GAGnD,GAAIg5E,GAAW8oC,GAAa,CACxB,IAAInD,EAAWp8G,KAAKy/G,GAChBC,EAAWtD,EAASp5G,OAASy6G,GACjC8B,EAAWG,EAAUrE,GAAK,EAAOe,MASzC,OANAt9G,OAAOuN,eAAemzG,EAAU,UAAW,CACvC1zG,cAAc,EACdW,YAAY,EACZzO,OAAO,EACP6N,UAAU,IAEP2zG,EAGX,SAASG,GAAcljH,GACnB,MAAgB,aAATA,GAAgC,UAATA,EAElC,IAAImjH,GAAoBN,GAAsB,UAAWO,IACrDC,GAAkBR,GAAsB,CAAC,UAAW,YAAaO,IAErE,SAASE,GAAavwG,GAClBA,EAAM4B,kBAYV,SAASyuG,GAAgBG,EAAkB3E,GACvC,IAAI5+G,EAAOujH,EAAiBvjH,KACxBuB,EAAQgiH,EAAiBhiH,MACzBiiH,EAAUD,EAAiBC,QAC3BC,EAAWF,EAAiBE,SAC5B52B,EAAe02B,EAAiB12B,aAChC62B,GAAYvF,GAAc58G,GAC1BvB,GAAQA,IAAS4+G,EAAI5+G,MACrB4+G,EAAIt9G,aAAa,OAAQtB,GAExBm+G,GAAcsF,IAAaA,IAAa7E,EAAI6E,WAC7C7E,EAAI6E,SAAWA,GAEdtF,GAActxB,IAAkB62B,IACjC9E,EAAI/xB,aAAeA,EAAe,IAElCq2B,GAAcljH,IACV0jH,IACA9E,EAAIr9G,MAAQA,GAEX48G,GAAcqF,KACf5E,EAAI4E,QAAUA,IAIdE,GAAY9E,EAAIr9G,QAAUA,GAC1Bq9G,EAAI/xB,aAAetrF,EACnBq9G,EAAIr9G,MAAQA,GAEN48G,GAAcqF,KACpB5E,EAAI4E,QAAUA,GAK1B,SAASG,GAAuB3E,EAAOz9G,GAEnC,GAAa,aADFy9G,EAAMh/G,KACQ,CACrB,IAAIsL,EAAW0zG,EAAM1zG,SACjBozG,EAAaM,EAAMN,WACvB,GAAiB,GAAbA,EACA,IAAK,IAAIv8G,EAAI,EAAG6Z,EAAM1Q,EAAS1I,OAAQT,EAAI6Z,EAAK7Z,IAC5CyhH,GAAkBt4G,EAASnJ,GAAIZ,QAGf,IAAfm9G,GACLkF,GAAkBt4G,EAAU/J,QAIhCqiH,GAAkB5E,EAAOz9G,GAGjC,SAASqiH,GAAkB5E,EAAOz9G,GAC9B,IAAIgF,EAAQy4G,EAAMz4G,OAASy6G,GACvBpC,EAAMI,EAAMJ,IAEhBA,EAAIr9G,MAAQgF,EAAMhF,MACb,GAAQA,KAA0C,IAAhCA,EAAMoB,QAAQ4D,EAAMhF,QAAkBgF,EAAMhF,QAAUA,EACzEq9G,EAAI76F,UAAW,EAETo6F,GAAc58G,IAAW48G,GAAc53G,EAAMwd,YACnD66F,EAAI76F,SAAWxd,EAAMwd,WAAY,GAxEzCu/F,GAAaO,SAAU,EA2EvB,IAAIC,GAAiBjB,GAAsB,WAAYkB,IAIvD,SAASA,GAAiBR,EAAkB3E,EAAKoF,EAAUhF,GACvD,IAAIiF,EAAwB/5F,QAAQq5F,EAAiBE,UAChDtF,GAAcoF,EAAiBE,WAAaQ,IAA0BrF,EAAI6E,WAC3E7E,EAAI6E,SAAWQ,GAEnB,IAAIvF,EAAaM,EAAMN,WACvB,GAAkD,IAAhC,EAAbA,GAAgD,CACjD,IAAIpzG,EAAW0zG,EAAM1zG,SACjB/J,EAAQgiH,EAAiBhiH,MAI7B,GAHIyiH,GAAY7F,GAAc58G,KAC1BA,EAAQgiH,EAAiB12B,cAEZ,GAAb6xB,EACA,IAAK,IAAIv8G,EAAI,EAAG6Z,EAAM1Q,EAAS1I,OAAQT,EAAI6Z,EAAK7Z,IAC5CwhH,GAAuBr4G,EAASnJ,GAAIZ,QAGpB,IAAfm9G,GACLiF,GAAuBr4G,EAAU/J,IAK7C,IAAI2iH,GAAwBrB,GAAsB,UAAWsB,IACzDC,GAAoBvB,GAAsB,YAO9C,SAASsB,GAAmBZ,EAAkB3E,EAAKoF,GAC/C,IAAIziH,EAAQgiH,EAAiBhiH,MACzB8iH,EAAWzF,EAAIr9G,MACnB,GAAI48G,GAAc58G,IACd,GAAIyiH,EAAU,CACV,IAAIn3B,EAAe02B,EAAiB12B,aAC/BsxB,GAActxB,IAAiBA,IAAiBw3B,IACjDzF,EAAI/xB,aAAeA,EACnB+xB,EAAIr9G,MAAQsrF,SAIfw3B,IAAa9iH,IAElBq9G,EAAI/xB,aAAetrF,EACnBq9G,EAAIr9G,MAAQA,GASpB,SAAS+iH,GAAe3F,EAAOK,EAAOJ,EAAK2E,EAAkBS,EAAUO,GACvD,GAAR5F,EACAyE,GAAgBG,EAAkB3E,GAErB,IAARD,EACLoF,GAAiBR,EAAkB3E,EAAKoF,EAAUhF,GAErC,IAARL,GACLwF,GAAmBZ,EAAkB3E,EAAKoF,GAE1CO,IACA3F,EAAIoE,GAAKhE,GAGjB,SAASwF,GAA4B7F,EAAOC,EAAK2E,GACjC,GAAR5E,EApJR,SAAqBC,EAAK2E,GAClBL,GAAcK,EAAiBvjH,OAC/B4+G,EAAI6F,SAAWpB,GACfzE,EAAI8F,QAAUpB,IAGd1E,EAAI+F,QAAUxB,GA+IdyB,CAAYhG,EAAK2E,GAEJ,IAAR5E,EA5Eb,SAAsBC,GAClBA,EAAI6F,SAAWX,GA4EXe,CAAajG,GAEA,IAARD,GAnDb,SAAwBC,EAAK2E,GACzB3E,EAAI+F,QAAUT,GACVX,EAAiBuB,WACjBlG,EAAI6F,SAAWL,IAiDfW,CAAenG,EAAK2E,GAG5B,SAASyB,GAAwBzB,GAC7B,OAAOA,EAAiBvjH,MAAQkjH,GAAcK,EAAiBvjH,OAASm+G,GAAcoF,EAAiBC,UAAYrF,GAAcoF,EAAiBhiH,OAGtJ,SAASmC,GAAOs7G,EAAOkC,GACnB+D,GAAQjG,GACJkC,GAAalC,EAAMJ,OAjV3B,SAAqBsC,EAAWtC,GAC5BsC,EAAUr9G,YAAY+6G,GAiVlB/6G,CAAYq9G,EAAWlC,EAAMJ,KAE7BI,EAAMJ,IAAM,MAGpB,SAASqG,GAAQjG,GACb,IAAIL,EAAQK,EAAML,MAClB,GAAY,IAARA,EAA2B,CAC3B,IAAI7qE,EAAMkrE,EAAMlrE,IACZvtC,EAAQy4G,EAAMz4G,MACdyzE,GAAWlmC,IACXA,EAAI,MAER,IAAIxoC,EAAW0zG,EAAM1zG,SACjBozG,EAAaM,EAAMN,WAOvB,GANiB,GAAbA,EACAwG,GAAmB55G,GAEC,IAAfozG,GACLuG,GAAQ35G,IAEPqtE,GAAOpyE,GACR,IAAK,IAAI/F,KAAQ+F,EACb,OAAQ/F,GACJ,IAAK,UACL,IAAK,aACL,IAAK,YACL,IAAK,aACL,IAAK,YACL,IAAK,aACL,IAAK,UACL,IAAK,cACL,IAAK,cACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,cACL,IAAK,eACDmhH,GAAYnhH,EAAM,KAAMw+G,EAAMJ,UAQ7C,CACD,IAAIuG,EAAanG,EAAM1zG,SAEvB,GAAI65G,EACA,GAAY,GAARxG,EAA4B,CAC5B,IAAIyG,EAAQpG,EAAMlrE,IACN,EAAR6qE,GACI3kC,GAAWmrC,EAAWE,uBACtBF,EAAWE,uBAEXrrC,GAAWorC,IACXA,EAAM,MAEVD,EAAWG,KAAM,EACbH,EAAWI,KACXN,GAAQE,EAAWI,QAIlBpH,GAAciH,IAAUprC,GAAWorC,EAAMI,yBAC1CJ,EAAMI,uBAAuBxG,EAAMJ,IAAKI,EAAMz4G,OAASy6G,IAE3DiE,GAAQE,SAGC,KAARxG,GACLj7G,GAAOyhH,EAAYnG,EAAMh/G,OAKzC,SAASklH,GAAmB55G,GACxB,IAAK,IAAInJ,EAAI,EAAG6Z,EAAM1Q,EAAS1I,OAAQT,EAAI6Z,EAAK7Z,IAC5C8iH,GAAQ35G,EAASnJ,IAGzB,SAASsjH,GAAkB7G,EAAKtzG,GAC5B45G,GAAmB55G,GACnBszG,EAAIv9F,YAAc,GAwBtB,SAASqkG,GAAoB9jH,EAAOL,GAChC,OAAQK,GACJ,IAAK,0BACL,IAAK,oBACL,IAAK,mBACL,IAAK,mBACL,IAAK,UACL,IAAK,eACL,IAAK,kBACL,IAAK,cACL,IAAK,cACL,IAAK,OACL,IAAK,WACL,IAAK,eACL,IAAK,YACL,IAAK,eACL,IAAK,aACL,IAAK,eACL,IAAK,aACL,IAAK,aACL,IAAK,UACL,IAAK,YACL,IAAK,aACL,IAAK,UACL,IAAK,QACL,IAAK,UACL,IAAK,cACL,IAAK,kBACL,IAAK,mBACL,IAAK,mBACL,IAAK,gBACL,IAAK,cACL,IAAK,UACL,IAAK,SACL,IAAK,SACL,IAAK,OACD,OAAOL,EACX,QACI,OAAOA,EAAQ,MAkC3B,SAASokH,GAAUx0G,EAAMy0G,EAAWC,EAAWjH,EAAKkH,EAAOC,EAAoBC,GAC3E,OAAQ70G,GACJ,IAAK,UACL,IAAK,aACL,IAAK,YACL,IAAK,aACL,IAAK,YACL,IAAK,aACL,IAAK,UACL,IAAK,cACL,IAAK,cACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,cACL,IAAK,eACDwwG,GAAYxwG,EAAM00G,EAAWjH,GAC7B,MACJ,IAAK,WACL,IAAK,eACL,IAAK,YACL,IAAK,eACL,IAAK,MACL,IAAK,WACL,IAAK,MACD,MACJ,IAAK,YACDA,EAAIqH,YAAcJ,EAClB,MACJ,IAAK,kBACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,UACL,IAAK,WACL,IAAK,SACL,IAAK,gBACL,IAAK,OACL,IAAK,QACL,IAAK,aACL,IAAK,OACL,IAAK,WACL,IAAK,WACL,IAAK,WACL,IAAK,SACL,IAAK,WACL,IAAK,WACDjH,EAAIztG,KAAU00G,EACd,MACJ,IAAK,iBACL,IAAK,QACL,IAAK,SACD,GAAIE,GAA+B,UAAT50G,EACtB,OAEJ,IAAI5P,EAAQ48G,GAAc0H,GAAa,GAAKA,EACxCjH,EAAIztG,KAAU5P,IACdq9G,EAAIztG,GAAQ5P,GAEhB,MACJ,IAAK,0BACD,IAAI2kH,EAAYN,GAAaA,EAAUO,QAAW,GAC9CC,EAAYP,GAAaA,EAAUM,QAAW,GAC9CD,IAAaE,IACRjI,GAAciI,IAAc7D,GAAgB3D,EAAKwH,KAC7CztC,GAAOqtC,KACmB,GAAvBA,EAAUtH,WACVwG,GAAmBc,EAAU16G,UAEC,IAAzB06G,EAAUtH,YACfuG,GAAQe,EAAU16G,UAEtB06G,EAAU16G,SAAW,KACrB06G,EAAUtH,WAAa,GAE3BE,EAAI4D,UAAY4D,IAGxB,MACJ,QACoB,MAAZj1G,EAAK,IAA0B,MAAZA,EAAK,GAzKxC,SAAoB3Q,EAAMqlH,EAAWjH,GACjC,IAAIyH,EAAgB7lH,EAAKkB,cACzB,GAAKs4E,GAAW6rC,IAAe1H,GAAc0H,GAMxC,CACD,IAAIS,EAAW1H,EAAIyH,GAEdC,GAAaA,EAASzC,UACvBjF,EAAIyH,GAAiBR,OAV4B,CACrD,IAAIU,EAAYV,EAAU9yG,MACtBwzG,GAAavsC,GAAWusC,KACxB3H,EAAIyH,GAVhB,SAAyBE,EAAWV,GAChC,OAAO,SAAU7kH,GACbulH,EAAUV,EAAUh7F,KAAM7pB,IAQDwlH,CAAgBD,EAAWV,KAqK5CY,CAAWt1G,EAAM00G,EAAWjH,GAEvBT,GAAc0H,GACnBjH,EAAI8H,gBAAgBv1G,GAEN,UAATA,EApHrB,SAAoBw1G,EAAeC,EAAehI,GAC9C,IACIh9G,EACAL,EAFAslH,EAAWjI,EAAIh9G,MAGnB,GAAIy2E,GAASuuC,GACTC,EAASC,QAAUF,OAGvB,GAAKzI,GAAcwI,IAAmBtuC,GAASsuC,GAe3C,IAAK/kH,KAASglH,EACVrlH,EAAQqlH,EAAchlH,GACtBilH,EAASjlH,GAASu4E,GAAS54E,GAASmkH,GAAoB9jH,EAAOL,GAASA,MAjBjB,CAC3D,IAAKK,KAASglH,GAEVrlH,EAAQqlH,EAAchlH,MACR+kH,EAAc/kH,KACxBilH,EAASjlH,GAASu4E,GAAS54E,GAASmkH,GAAoB9jH,EAAOL,GAASA,GAGhF,IAAKK,KAAS+kH,EACNxI,GAAcyI,EAAchlH,MAC5BilH,EAASjlH,GAAS,KAmGlBmlH,CAAWnB,EAAWC,EAAWjH,GAE5BkH,GAASxsD,GAAWnoD,GAGzBytG,EAAI/8G,eAAey3D,GAAWnoD,GAAOA,EAAM00G,GAG3CjH,EAAIt9G,aAAa6P,EAAM00G,IAKvC,SAASmB,GAAWhI,EAAOL,EAAOp4G,EAAOq4G,EAAKkH,GAC1C,IAAIC,GAAqB,EACrBkB,GAAyB,IAARtI,GAAiC,EAOtD,IAAK,IAAIxtG,KANL81G,IACAlB,EAAqBf,GAAwBz+G,KAEzCi+G,GAA4B7F,EAAOC,EAAKr4G,GAG/BA,EAEbo/G,GAAUx0G,EAAM,KAAM5K,EAAM4K,GAAOytG,EAAKkH,EAAOC,EAAoB,MAEnEkB,GACA3C,GAAe3F,EAAOK,EAAOJ,EAAKr4G,GAAO,EAAMw/G,GAIvD,SAASmB,GAA6BlI,EAAOmI,EAAW5gH,EAAO2M,GAC3D,IAAIzD,EAAW,IAAI03G,EAAU5gH,EAAO2M,GASpC,GARA8rG,EAAM1zG,SAAWmE,EACjBA,EAASuzG,GAAKhE,EACdvvG,EAAS23G,KAAM,EACf33G,EAASyD,QAAUA,EACfzD,EAASlJ,QAAUy6G,KACnBvxG,EAASlJ,MAAQA,GAErBkJ,EAAS61G,KAAM,EACXtrC,GAAWvqE,EAAS43G,oBAAqB,CAGzC,GAFA53G,EAAS63G,KAAM,EACf73G,EAAS43G,qBACL53G,EAAS83G,KAAM,CACf,IAAI3jE,EAAQn0C,EAASm0C,MACjB4jE,EAAU/3G,EAASg4G,IACvB,GAAI9uC,GAAO/0B,GACPn0C,EAASm0C,MAAQ4jE,OAGjB,IAAK,IAAIpxG,KAAOoxG,EACZ5jE,EAAMxtC,GAAOoxG,EAAQpxG,GAG7B3G,EAAS83G,MAAO,EAChB93G,EAASg4G,IAAM,KAEnBh4G,EAAS63G,KAAM,EAEfttC,GAAW,GAAQ4mC,eACnB,GAAQA,aAAanxG,GAEzB,IACIi4G,EADAjwG,EAAQkwG,GAAqBl4G,EAASmwC,OAAOr5C,EAAOkJ,EAASm0C,MAAO1wC,GAAU8rG,GAelF,OAbIhlC,GAAWvqE,EAASm4G,mBACpBF,EAAej4G,EAASm4G,mBAExBzJ,GAAcuJ,GACdj4G,EAASo4G,IAAM30G,EAGfzD,EAASo4G,IAAMvJ,GAAYprG,EAASw0G,GAEpC1tC,GAAW,GAAQ2mC,cACnB,GAAQA,YAAYlxG,GAExBA,EAAS81G,IAAM9tG,EACRhI,EAEX,SAASk4G,GAAqBlwG,EAAOqwG,GAkBjC,OAjBI1J,GAAU3mG,GACVA,EAAQooG,KAEH3B,GAAiBzmG,GACtBA,EAAQ8nG,GAAgB9nG,EAAO,OAG3BA,EAAMmnG,MACNnnG,EAAQgoG,GAAYhoG,IAEN,GAAdA,EAAMknG,QAINlnG,EAAMonG,YAAciJ,IAGrBrwG,EAGX,SAASswG,GAAM/I,EAAOkC,EAAWhuG,EAAS4yG,GACtC,IAAInH,EAAQK,EAAML,MAClB,OAAY,IAARA,EACOqJ,GAAahJ,EAAOkC,EAAWhuG,EAAS4yG,GAEvC,GAARnH,EAiER,SAAwBK,EAAOkC,EAAWhuG,EAAS4yG,EAAOngF,GACtD,IAAIi5E,EACA5+G,EAAOg/G,EAAMh/G,KACbuG,EAAQy4G,EAAMz4G,OAASy6G,GACvBltE,EAAMkrE,EAAMlrE,IAChB,GAAInO,EAAS,CACT,IAAIl2B,EAAWy3G,GAA6BlI,EAAOh/G,EAAMuG,EAAO2M,GAChE8rG,EAAMJ,IAAMA,EAAMmJ,GAAMt4G,EAAS81G,IAAK,KAAM91G,EAASo4G,IAAK/B,GAC1DmC,GAA6BjJ,EAAOlrE,EAAKrkC,GACzCA,EAASy4G,MAAO,MAEf,CACD,IAAIzwG,EAAQkwG,GAAqB3nH,EAAKuG,EAAO2M,GAAU8rG,GACvDA,EAAM1zG,SAAWmM,EACjBunG,EAAMJ,IAAMA,EAAMmJ,GAAMtwG,EAAO,KAAMvE,EAAS4yG,GAC9CqC,GAAkC5hH,EAAOutC,EAAK8qE,GAE7CjmC,GAAOuoC,IACRhgH,GAAYggH,EAAWtC,GAE3B,OAAOA,EApFIwJ,CAAepJ,EAAOkC,EAAWhuG,EAAS4yG,GAAgB,EAARnH,GAAkC,GAEnF,IAARA,GAAkC,GAARA,EACnB0J,GAAUrJ,EAAOkC,GAEhB,KAARvC,GACAoJ,GAAM/I,EAAM1zG,SAAU0zG,EAAMh/G,KAAMkT,GAAS,GACnC8rG,EAAMJ,IAAMyJ,GAAUxI,KAAmBqB,SAFrD,EAKJ,SAASmH,GAAUrJ,EAAOkC,GACtB,IAAItC,EAAOI,EAAMJ,IAAM54G,SAASsiH,eAAetJ,EAAM1zG,UAIrD,OAHKqtE,GAAOuoC,IACRhgH,GAAYggH,EAAWtC,GAEpBA,EAEX,SAASoJ,GAAahJ,EAAOkC,EAAWhuG,EAAS4yG,GAC7C,IAAInH,EAAQK,EAAML,MACdrzG,EAAW0zG,EAAM1zG,SACjB/E,EAAQy4G,EAAMz4G,MACdjC,EAAY06G,EAAM16G,UAClBwvC,EAAMkrE,EAAMlrE,IACZ4qE,EAAaM,EAAMN,WACvBoH,EAAQA,IAAkB,GAARnH,GAA+B,EACjD,IAAIC,EA3uBR,SAA+B2J,EAAKzC,GAChC,OAAIA,EACO9/G,SAASI,gBA/BZ,6BA+BmCmiH,GAEpCviH,SAAS8kC,cAAcy9E,GAuuBpBC,CAAsBxJ,EAAMh/G,KAAM8lH,GAa5C,GAZA9G,EAAMJ,IAAMA,EACPT,GAAc75G,IAA4B,KAAdA,IACzBwhH,EACAlH,EAAIt9G,aAAa,QAASgD,GAG1Bs6G,EAAIt6G,UAAYA,GAGnBq0E,GAAOuoC,IACRhgH,GAAYggH,EAAWtC,GAEuB,IAAhC,EAAbF,GAAgD,CACjD,IAAI+J,GAA0B,IAAV3C,GAAiC,kBAAf9G,EAAMh/G,KACzB,IAAf0+G,EACAqJ,GAAMz8G,EAAUszG,EAAK1rG,EAASu1G,GAEZ,GAAb/J,GACLgK,GAAmBp9G,EAAUszG,EAAK1rG,EAASu1G,GASnD,OANK9vC,GAAOpyE,IACRygH,GAAWhI,EAAOL,EAAOp4G,EAAOq4G,EAAKkH,GAErC9rC,GAAWlmC,IACX60E,GAAS/J,EAAK9qE,GAEX8qE,EAEX,SAAS8J,GAAmBp9G,EAAUszG,EAAK1rG,EAAS4yG,GAChD,IAAK,IAAI3jH,EAAI,EAAG6Z,EAAM1Q,EAAS1I,OAAQT,EAAI6Z,EAAK7Z,IAAK,CACjD,IAAI4B,EAAQuH,EAASnJ,GAChBw2E,GAAO50E,EAAM66G,OACdtzG,EAASnJ,GAAK4B,EAAQ07G,GAAY17G,IAEtCgkH,GAAMhkH,EAAO66G,EAAK1rG,EAAS4yG,IAgCnC,SAASmC,GAA6BjJ,EAAOlrE,EAAKrkC,GAC1CuqE,GAAWlmC,IACXA,EAAIrkC,GAEJuqE,GAAWvqE,EAASm5G,oBACpB3H,GAAU58G,KAZlB,SAAkCoL,GAC9B,OAAO,WACHA,EAASy4G,MAAO,EAChBz4G,EAASm5G,oBACTn5G,EAASy4G,MAAO,GAQDW,CAAyBp5G,IAMhD,SAAS04G,GAAkC5hH,EAAOutC,EAAK8qE,GAC9CT,GAAcrqE,KACXkmC,GAAWlmC,EAAIg1E,uBACfh1E,EAAIg1E,qBAAqBviH,GAEzByzE,GAAWlmC,EAAIi1E,sBACf9H,GAAU58G,KATtB,SAA+ByvC,EAAK8qE,EAAKr4G,GACrC,OAAO,WAAc,OAAOutC,EAAIi1E,oBAAoBnK,EAAKr4G,IAQlCyiH,CAAsBl1E,EAAK8qE,EAAKr4G,KAI3D,SAASoiH,GAAS/J,EAAKr9G,GACnB0/G,GAAU58G,MAAK,WAAc,OAAO9C,EAAMq9G,MAuB9C,SAASqK,GAAejK,EAAOJ,EAAK1rG,EAAS4yG,GACzC,IAAIx6G,EAAW0zG,EAAM1zG,SACjB/E,EAAQy4G,EAAMz4G,MACdjC,EAAY06G,EAAM16G,UAClBq6G,EAAQK,EAAML,MACd7qE,EAAMkrE,EAAMlrE,IAEhB,GADAgyE,EAAQA,IAAkB,GAARnH,GAA+B,EAC5B,IAAjBC,EAAIv7G,UAAkBu7G,EAAI9oD,QAAQp0D,gBAAkBs9G,EAAMh/G,KAAM,CAChE,IAAIqhH,EAAS2G,GAAahJ,EAAO,KAAM9rG,EAAS4yG,GAChD9G,EAAMJ,IAAMyC,EACZD,GAAaxC,EAAIh7G,WAAYy9G,EAAQzC,OAEpC,CACDI,EAAMJ,IAAMA,EACZ,IAAIsK,EAAYtK,EAAI56G,WAChB06G,EAAaM,EAAMN,WACvB,GAAkD,IAAhC,EAAbA,GAAgD,CAEjD,IADA,IAAIn8F,EAAc,KACX2mG,GACH3mG,EAAc2mG,EAAU3mG,YACG,IAAvB2mG,EAAU7lH,WACa,MAAnB6lH,EAAUr+F,KACV+zF,EAAIwC,aAAap7G,SAASsiH,eAAe,IAAKY,GAG9CtK,EAAI/6G,YAAYqlH,IAGxBA,EAAY3mG,EAGhB,GADA2mG,EAAYtK,EAAI56G,WACG,IAAf06G,EACI/lC,GAAOuwC,GACPnB,GAAMz8G,EAAUszG,EAAK1rG,EAAS4yG,IAG9BvjG,EAAc2mG,EAAU3mG,YACxB4mG,GAAa79G,EAAU49G,EAAWh2G,EAAS4yG,GAC3CoD,EAAY3mG,QAGf,GAAiB,GAAbm8F,EACL,IAAK,IAAIv8G,EAAI,EAAG6Z,EAAM1Q,EAAS1I,OAAQT,EAAI6Z,EAAK7Z,IAAK,CACjD,IAAI4B,EAAQuH,EAASnJ,GACjBw2E,GAAOuwC,GACPnB,GAAMhkH,EAAO66G,EAAK1rG,EAAS4yG,IAG3BvjG,EAAc2mG,EAAU3mG,YACxB4mG,GAAaplH,EAAOmlH,EAAWh2G,EAAS4yG,GACxCoD,EAAY3mG,GAKxB,KAAO2mG,GACH3mG,EAAc2mG,EAAU3mG,YACxBq8F,EAAI/6G,YAAYqlH,GAChBA,EAAY3mG,OAGVo2D,GAAOimC,EAAI56G,aAnyB7B,SAA8B46G,EAAKr4G,GAC/B,OAAO2jB,QAAQ3jB,GAASA,EAAM6iH,yBAA2B7iH,EAAM6iH,wBAAwBjD,QAAU5D,GAAgB3D,EAAKr4G,EAAM6iH,wBAAwBjD,SAkyB3GkD,CAAqBzK,EAAKr4G,KAC3Dq4G,EAAIv9F,YAAc,GACN,IAARs9F,IAEAC,EAAI/xB,aAAe,KAGtBlU,GAAOpyE,IACRygH,GAAWhI,EAAOL,EAAOp4G,EAAOq4G,EAAKkH,GAErC3H,GAAc75G,GACQ,KAAlBs6G,EAAIt6G,WACJs6G,EAAI8H,gBAAgB,SAGnBZ,EACLlH,EAAIt9G,aAAa,QAASgD,GAG1Bs6G,EAAIt6G,UAAYA,EAEhB01E,GAAWlmC,IACX60E,GAAS/J,EAAK9qE,IAkB1B,SAASq1E,GAAanK,EAAOJ,EAAK1rG,EAAS4yG,GACvC,IAAInH,EAAQK,EAAML,MACN,GAARA,EA3HR,SAA0BK,EAAOJ,EAAK1rG,EAAS4yG,EAAOngF,GAClD,IAAI3lC,EAAOg/G,EAAMh/G,KACb8zC,EAAMkrE,EAAMlrE,IACZvtC,EAAQy4G,EAAMz4G,OAASy6G,GAC3B,GAAIr7E,EAAS,CACT,IAAIl2B,EAAWy3G,GAA6BlI,EAAOh/G,EAAMuG,EAAO2M,GAC5DuE,EAAQhI,EAAS81G,IACrB4D,GAAa1xG,EAAOmnG,EAAKnvG,EAASo4G,IAAK/B,GACvC9G,EAAMJ,IAAMnnG,EAAMmnG,IAClBqJ,GAA6BjJ,EAAOlrE,EAAKrkC,GACzCA,EAASy4G,MAAO,MAEf,CACD,IAAIoB,EAAU3B,GAAqB3nH,EAAKuG,EAAO2M,GAAU8rG,GACzDmK,GAAaG,EAAS1K,EAAK1rG,EAAS4yG,GACpC9G,EAAM1zG,SAAWg+G,EACjBtK,EAAMJ,IAAM0K,EAAQ1K,IACpBuJ,GAAkC5hH,EAAOutC,EAAK8qE,IA2G9C2K,CAAiBvK,EAAOJ,EAAK1rG,EAAS4yG,GAAgB,EAARnH,GAAkC,GAEnE,IAARA,EACLsK,GAAejK,EAAOJ,EAAK1rG,EAAS4yG,GAEvB,GAARnH,EAtBb,SAAqBK,EAAOJ,GACxB,GAAqB,IAAjBA,EAAIv7G,SAAgB,CACpB,IAAIg+G,EAASgH,GAAUrJ,EAAO,MAC9BA,EAAMJ,IAAMyC,EACZD,GAAaxC,EAAIh7G,WAAYy9G,EAAQzC,OAEpC,CACD,IAAI/pE,EAAOmqE,EAAM1zG,SACbszG,EAAI4K,YAAc30E,IAClB+pE,EAAI4K,UAAY30E,GAEpBmqE,EAAMJ,IAAMA,GAYZ6K,CAAYzK,EAAOJ,GAEN,IAARD,EACLK,EAAMJ,IAAMA,EA5wCpB,SAAoBpsE,GAIhB,MAHKA,IACDA,EAjCQ,sFAmCN,IAAIlvC,MAAO,kBAAoBkvC,GA2wCjCk3E,GAwBR,SAASC,GAAmBC,EAAU7kG,EAAUm8F,EAAWhuG,EAAS4yG,GAChEb,GAAQ2E,GACRxI,GAAaF,EAAW6G,GAAMhjG,EAAU,KAAM7R,EAAS4yG,GAAQ8D,EAAShL,KAE5E,SAASiL,GAAM7D,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,GACrD,IAAIiE,EAA8B,EAAlBD,EAAUnL,MACtBqH,EAAUrH,QAAUoL,GAAyB,KAAZA,EACjCJ,GAAmB3D,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,GAE5C,IAAZiE,EAiCb,SAAsB/D,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,EAAOiE,GACnE,IAAIC,EAAUF,EAAU9pH,KACxB,GAAIgmH,EAAUhmH,OAASgqH,EACnBL,GAAmB3D,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,OAE5D,CACD,IAKIvC,EALA3E,EAAMoH,EAAUpH,IAChBqL,EAAYjE,EAAUz/G,MACtB2jH,EAAYJ,EAAUvjH,MACtB0gH,GAAgB,EAChBlB,GAAqB,EAKzB,GAHA+D,EAAUlL,IAAMA,EAChBkH,EAAQA,IAAsB,GAAZiE,GAAmC,EAEjDE,IAAcC,EAAW,CACzB,IAAIC,EAAmBF,GAAajJ,GAEpC,IADAuC,EAAmB2G,GAAalJ,MACPA,GAKrB,IAAK,IAAI7vG,KAJT81G,GAA6B,IAAZ8C,GAAqC,KAElDhE,EAAqBf,GAAwBzB,IAEhCA,EAAkB,CAC/B,IAAIqC,EAAYuE,EAAiBh5G,GAC7B00G,EAAYtC,EAAiBpyG,GAC7By0G,IAAcC,GACdF,GAAUx0G,EAAMy0G,EAAWC,EAAWjH,EAAKkH,EAAOC,EAAoBC,GAIlF,GAAImE,IAAqBnJ,GACrB,IAAK,IAAI1B,KAAU6K,EACV5G,EAAiBvwF,eAAessF,IAAYnB,GAAcgM,EAAiB7K,KAC5EqG,GAAUrG,EAAQ6K,EAAiB7K,GAAS,KAAMV,EAAKkH,EAAOC,EAAoBC,GAKlG,IAAIoE,EAAepE,EAAU16G,SACzB++G,EAAeP,EAAUx+G,SACzBg/G,EAAUR,EAAUh2E,IACpBy2E,EAAgBvE,EAAU1hH,UAC1BkmH,EAAgBV,EAAUxlH,UACd,KAAZylH,EA7DZ,SAAsCnL,EAAKkL,GACnClL,EAAIv9F,cAAgByoG,EAAUx+G,WAC9BszG,EAAIv9F,YAAcyoG,EAAUx+G,UA4DxBm/G,CAA6B7L,EAAKyL,GAGlCK,GAAc1E,EAAUtH,WAAYoL,EAAUpL,WAAY0L,EAAcC,EAAczL,EAAK1rG,EAAS4yG,GAAqB,kBAAZkE,GAE7G/C,GACA3C,GAAeyF,EAAWD,EAAWlL,EAAK2E,GAAkB,EAAOwC,GAGnEwE,IAAkBC,IACdrM,GAAcqM,GACd5L,EAAI8H,gBAAgB,SAEfZ,EACLlH,EAAIt9G,aAAa,QAASkpH,GAG1B5L,EAAIt6G,UAAYkmH,GAGpBxwC,GAAWswC,IAAYtE,EAAUlyE,MAAQw2E,GACzC3B,GAAS/J,EAAK0L,IAlGlBK,CAAa3E,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,EAAOiE,GAE7C,GAAZA,EAqOb,SAAwB/D,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,EAAOngF,GACrE,IAAIilF,EAAWd,EAAU9pH,KACrB6qH,EAAU7E,EAAU5vG,IACpBkvD,EAAUwkD,EAAU1zG,IACxB,GAAI4vG,EAAUhmH,OAAS4qH,GAAYC,IAAYvlD,EAC3CqkD,GAAmB3D,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,OAE5D,CACD,IAAIoE,EAAYJ,EAAUvjH,OAASy6G,GACnC,GAAIr7E,EAAS,CACT,IAAIl2B,EAAWu2G,EAAU16G,SACzBmE,EAASy4G,MAAO,EAChBz4G,EAASuzG,GAAK8G,EACdgB,GAAqBr7G,EAAUA,EAASm0C,MAAOkmE,EAAWI,EAAWhJ,EAAWhuG,EAAS4yG,GAAO,GAAO,GACvGr2G,EAASy4G,MAAO,MAEf,CACD,IAAI6C,GAAe,EACfd,EAAYjE,EAAUz/G,MACtBykH,EAAYlB,EAAUh2E,IACtBm3E,GAAoB9M,GAAc6M,GAClCE,EAAYlF,EAAU16G,SAM1B,GALAw+G,EAAUlL,IAAMoH,EAAUpH,IAC1BkL,EAAUx+G,SAAW4/G,EACjBD,GAAoBjxC,GAAWgxC,EAAUG,2BACzCJ,EAAeC,EAAUG,wBAAwBlB,EAAWC,KAE3C,IAAjBa,EAAwB,CACpBE,GAAoBjxC,GAAWgxC,EAAUI,wBACzCJ,EAAUI,sBAAsBnB,EAAWC,GAE/C,IAAImB,EAAYT,EAASV,EAAWh3G,GAvlDxC,WAwlDQm4G,IACAA,EAAY1D,GAAqB0D,EAAWvB,GAC5CD,GAAMqB,EAAWG,EAAWnK,EAAWhuG,EAAS4yG,GAChDgE,EAAUx+G,SAAW+/G,EACrBvB,EAAUlL,IAAMyM,EAAUzM,IACtBqM,GAAoBjxC,GAAWgxC,EAAUM,uBACzCN,EAAUM,qBAAqBrB,EAAWC,SAI3B,GAAlBgB,EAAUvM,QACfuM,EAAUrM,YAAciL,KA/QhCyB,CAAevF,EAAW8D,EAAW5I,EAAWhuG,EAAS4yG,GAAoB,EAAZiE,GAAsC,GAEtF,GAAZA,EAkRb,SAAmB/D,EAAW8D,GAC1B,IAAI0B,EAAW1B,EAAUx+G,SACrBszG,EAAMoH,EAAUpH,IAChB4M,IAAaxF,EAAU16G,WACvBszG,EAAI4K,UAAYgC,GAEpB1B,EAAUlL,IAAMA,EAvRZ6M,CAAUzF,EAAW8D,GAEJ,IAAZC,EACLD,EAAUlL,IAAMoH,EAAUpH,IAWlC,SAAqBoH,EAAW8D,EAAW52G,GACvC,IAAIw4G,EAAgB1F,EAAUhmH,KAC1B2rH,EAAgB7B,EAAU9pH,KAC1BqqH,EAAeP,EAAUx+G,SAG7B,GAFAo/G,GAAc1E,EAAUtH,WAAYoL,EAAUpL,WAAYsH,EAAU16G,SAAU++G,EAAcqB,EAAex4G,GAAS,GACpH42G,EAAUlL,IAAMoH,EAAUpH,IACtB8M,IAAkBC,IAAkBvN,GAAUiM,GAAe,CAC7D,IAAIjpH,EAAOipH,EAAazL,IACxB8M,EAAc7nH,YAAYzC,GAC1BuqH,EAAczqH,YAAYE,IAjB1BwqH,CAAY5F,EAAW8D,EAAW52G,GA0F1C,SAASw3G,GAAcmB,EAAgBC,EAAgB1B,EAAcC,EAAc0B,EAAW74G,EAAS4yG,GACnG,OAAQ+F,GACJ,KAAK,EACD,OAAQC,GACJ,KAAK,EACDjC,GAAMO,EAAcC,EAAc0B,EAAW74G,EAAS4yG,GACtD,MACJ,KAAK,EACDpiH,GAAO0mH,EAAc2B,GACrB,MACJ,QACIroH,GAAO0mH,EAAc2B,GACrBrD,GAAmB2B,EAAc0B,EAAW74G,EAAS4yG,GAG7D,MACJ,KAAK,EACD,OAAQgG,GACJ,KAAK,EACD/D,GAAMsC,EAAc0B,EAAW74G,EAAS4yG,GACxC,MACJ,KAAK,EACD,MACJ,QACI4C,GAAmB2B,EAAc0B,EAAW74G,EAAS4yG,GAG7D,MACJ,QACI,GAAqB,GAAjBgG,EAA4C,CAC5C,IAAIE,EAAa5B,EAAaxnH,OAC1BqpH,EAAa5B,EAAaznH,OAEX,IAAfopH,EACIC,EAAa,GACbvD,GAAmB2B,EAAc0B,EAAW74G,EAAS4yG,GAGrC,IAAfmG,EACLxG,GAAkBsG,EAAW3B,GAEL,IAAnB0B,GAAkE,IAAnBD,EA6KxE,SAA4BnlH,EAAGC,EAAGi4G,EAAK1rG,EAAS4yG,EAAOoG,EAASC,GAC5D,IAEIhqH,EAIAiqH,EANAC,EAAOH,EAAU,EACjBI,EAAOH,EAAU,EAEjBp0F,EAAI,EACJw0F,EAAQ7lH,EAAEqxB,GACVy0F,EAAQ7lH,EAAEoxB,GAIdqW,EAAO,CAEH,KAAOm+E,EAAMn2G,MAAQo2G,EAAMp2G,KAAK,CAO5B,GANIo2G,EAAM5N,MACNj4G,EAAEoxB,GAAKy0F,EAAQ/M,GAAY+M,IAE/B3C,GAAM0C,EAAOC,EAAO5N,EAAK1rG,EAAS4yG,GAClCp/G,EAAEqxB,GAAKy0F,IACPz0F,EACQs0F,GAAQt0F,EAAIu0F,EAChB,MAAMl+E,EAEVm+E,EAAQ7lH,EAAEqxB,GACVy0F,EAAQ7lH,EAAEoxB,GAKd,IAHAw0F,EAAQ7lH,EAAE2lH,GACVG,EAAQ7lH,EAAE2lH,GAEHC,EAAMn2G,MAAQo2G,EAAMp2G,KAAK,CAQ5B,GAPIo2G,EAAM5N,MACNj4G,EAAE2lH,GAAQE,EAAQ/M,GAAY+M,IAElC3C,GAAM0C,EAAOC,EAAO5N,EAAK1rG,EAAS4yG,GAClCp/G,EAAE2lH,GAAQG,EACVH,IACAC,IACIv0F,EAAIs0F,GAAQt0F,EAAIu0F,EAChB,MAAMl+E,EAEVm+E,EAAQ7lH,EAAE2lH,GACVG,EAAQ7lH,EAAE2lH,IAGlB,GAAIv0F,EAAIs0F,GACJ,GAAIt0F,GAAKu0F,EAGL,IADA,IAAIvnG,GADJqnG,EAAUE,EAAO,GACQH,EAAUxlH,EAAEylH,GAASxN,IAAM,KAC7C7mF,GAAKu0F,IACRE,EAAQ7lH,EAAEoxB,IACA6mF,MACNj4G,EAAEoxB,GAAKy0F,EAAQ/M,GAAY+M,IAE/Bz0F,IACAopF,GAAevC,EAAKmJ,GAAMyE,EAAO,KAAMt5G,EAAS4yG,GAAQ/gG,QAI/D,GAAIgT,EAAIu0F,EACT,KAAOv0F,GAAKs0F,GACR3oH,GAAOgD,EAAEqxB,KAAM6mF,OAGlB,CACD,IAAI6N,EAAS10F,EACT20F,EAAS30F,EACT40F,EAAQN,EAAOt0F,EAAI,EACnB60F,EAAQN,EAAOv0F,EAAI,EACnB80F,EAAU,GACd,IAAK1qH,EAAI,EAAGA,EAAIyqH,EAAOzqH,IACnB0qH,EAAQxoH,KAAK,GAGjB,IAAIyoH,EAAwBH,IAAUT,EAClCa,GAAQ,EACRC,EAAM,EACNC,EAAU,EAEd,GAAId,EAAU,IAAMQ,EAAQC,GAAS,GACjC,IAAKzqH,EAAIsqH,EAAQtqH,GAAKkqH,EAAMlqH,IAExB,GADAoqH,EAAQ7lH,EAAEvE,GACN8qH,EAAUL,EAAO,CACjB,IAAK70F,EAAI20F,EAAQ30F,GAAKu0F,EAAMv0F,IAExB,GADAy0F,EAAQ7lH,EAAEoxB,GACNw0F,EAAMn2G,MAAQo2G,EAAMp2G,IAAK,CAEzB,GADAy2G,EAAQ90F,EAAI20F,GAAUvqH,EAAI,EACtB2qH,EAEA,IADAA,GAAwB,EACjB3qH,EAAIsqH,GACP/oH,GAAOgD,EAAE+lH,KAAW7N,GAGxBoO,EAAMj1F,EACNg1F,GAAQ,EAGRC,EAAMj1F,EAENy0F,EAAM5N,MACNj4G,EAAEoxB,GAAKy0F,EAAQ/M,GAAY+M,IAE/B3C,GAAM0C,EAAOC,EAAO5N,EAAK1rG,EAAS4yG,GAClCmH,IACA,OAGHH,GAAyB/0F,EAAIu0F,GAC9B5oH,GAAO6oH,EAAO3N,QAGZkO,GACNppH,GAAO6oH,EAAO3N,OAIrB,CACD,IAAIsO,EAAW,GAEf,IAAK/qH,EAAIuqH,EAAQvqH,GAAKmqH,EAAMnqH,IACxB+qH,EAASvmH,EAAExE,GAAGiU,KAAOjU,EAGzB,IAAKA,EAAIsqH,EAAQtqH,GAAKkqH,EAAMlqH,IAExB,GADAoqH,EAAQ7lH,EAAEvE,GACN8qH,EAAUL,EAEV,QAAU,KADV70F,EAAIm1F,EAASX,EAAMn2G,MACD,CACd,GAAI02G,EAEA,IADAA,GAAwB,EACjB3qH,EAAIsqH,GACP/oH,GAAOgD,EAAE+lH,KAAW7N,GAG5B4N,EAAQ7lH,EAAEoxB,GACV80F,EAAQ90F,EAAI20F,GAAUvqH,EAAI,EACtB6qH,EAAMj1F,EACNg1F,GAAQ,EAGRC,EAAMj1F,EAENy0F,EAAM5N,MACNj4G,EAAEoxB,GAAKy0F,EAAQ/M,GAAY+M,IAE/B3C,GAAM0C,EAAOC,EAAO5N,EAAK1rG,EAAS4yG,GAClCmH,SAEMH,GACNppH,GAAO6oH,EAAO3N,QAGZkO,GACNppH,GAAO6oH,EAAO3N,GAK1B,GAAIkO,EACArH,GAAkB7G,EAAKl4G,GACvBgiH,GAAmB/hH,EAAGi4G,EAAK1rG,EAAS4yG,QAGpC,GAAIiH,EAAO,CACP,IAAII,EA0CpB,SAAuB1qH,GACnB,IAEIN,EACA41B,EACAq1F,EACAv0F,EACAjyB,EANA2I,EAAI9M,EAAI2H,QACRgB,EAAS,CAAC,GAMV4Q,EAAMvZ,EAAIG,OACd,IAAKT,EAAI,EAAGA,EAAI6Z,EAAK7Z,IAAK,CACtB,IAAIkrH,EAAO5qH,EAAIN,GACf,GAAa,IAATkrH,EAAY,CAEZ,GADAt1F,EAAI3sB,EAAOA,EAAOxI,OAAS,GACvBH,EAAIs1B,GAAKs1F,EAAM,CACf99G,EAAEpN,GAAK41B,EACP3sB,EAAO/G,KAAKlC,GACZ,SAIJ,IAFAirH,EAAI,EACJv0F,EAAIztB,EAAOxI,OAAS,EACbwqH,EAAIv0F,GAEHp2B,EAAI2I,EADRxE,GAAMwmH,EAAIv0F,GAAK,EAAK,IACCw0F,EACjBD,EAAIxmH,EAAI,EAGRiyB,EAAIjyB,EAGRymH,EAAO5qH,EAAI2I,EAAOgiH,MACdA,EAAI,IACJ79G,EAAEpN,GAAKiJ,EAAOgiH,EAAI,IAEtBhiH,EAAOgiH,GAAKjrH,IAIxBirH,EAAIhiH,EAAOxI,OACXi2B,EAAIztB,EAAOgiH,EAAI,GACf,KAAOA,KAAM,GACThiH,EAAOgiH,GAAKv0F,EACZA,EAAItpB,EAAEspB,GAEV,OAAOztB,EArFekiH,CAAcT,GAExB,IADA90F,EAAIo1F,EAAIvqH,OAAS,EACZT,EAAIyqH,EAAQ,EAAGzqH,GAAK,EAAGA,IACL,IAAf0qH,EAAQ1qH,KAERqqH,EAAQ7lH,EADRqmH,EAAM7qH,EAAIuqH,IAEA9N,MACNj4G,EAAEqmH,GAAOR,EAAQ/M,GAAY+M,IAEjCJ,EAAUY,EAAM,EAChB7L,GAAevC,EAAKmJ,GAAMyE,EAAO,KAAMt5G,EAAS4yG,GAAQsG,EAAUD,EAAUxlH,EAAEylH,GAASxN,IAAM,OAExF7mF,EAAI,GAAK51B,IAAMgrH,EAAIp1F,IAExBy0F,EAAQ7lH,EADRqmH,EAAM7qH,EAAIuqH,GAEVN,EAAUY,EAAM,EAChB7L,GAAevC,EAAK4N,EAAM5N,IAAKwN,EAAUD,EAAUxlH,EAAEylH,GAASxN,IAAM,OAGpE7mF,SAIP,GAAIk1F,IAAYL,EAGjB,IAAKzqH,EAAIyqH,EAAQ,EAAGzqH,GAAK,EAAGA,IACL,IAAf0qH,EAAQ1qH,MAERqqH,EAAQ7lH,EADRqmH,EAAM7qH,EAAIuqH,IAEA9N,MACNj4G,EAAEqmH,GAAOR,EAAQ/M,GAAY+M,IAEjCJ,EAAUY,EAAM,EAChB7L,GAAevC,EAAKmJ,GAAMyE,EAAO,KAAMt5G,EAAS4yG,GAAQsG,EAAUD,EAAUxlH,EAAEylH,GAASxN,IAAM,QAhXjG2O,CAAmBnD,EAAcC,EAAc0B,EAAW74G,EAAS4yG,EAAOkG,EAAYC,GA+I1G,SAA+B7B,EAAcC,EAAczL,EAAK1rG,EAAS4yG,EAAO0H,EAAoBC,GAKhG,IAJA,IAEIC,EACAlsG,EAHAmsG,EAAeH,EAAqBC,EAAqBA,EAAqBD,EAC9ErrH,EAAI,EAGDA,EAAIwrH,EAAcxrH,IACrBurH,EAAYrD,EAAaloH,GACzBqf,EAAY4oG,EAAajoH,GACrBurH,EAAU9O,MACV8O,EAAYrD,EAAaloH,GAAKs9G,GAAYiO,IAE9C7D,GAAMroG,EAAWksG,EAAW9O,EAAK1rG,EAAS4yG,GAC1CsE,EAAajoH,GAAKurH,EAEtB,GAAIF,EAAqBC,EACrB,IAAKtrH,EAAIwrH,EAAcxrH,EAAIsrH,EAAoBtrH,KAC3CurH,EAAYrD,EAAaloH,IACXy8G,MACV8O,EAAYrD,EAAaloH,GAAKs9G,GAAYiO,IAE9C3F,GAAM2F,EAAW9O,EAAK1rG,EAAS4yG,QAGlC,GAAI0H,EAAqBC,EAC1B,IAAKtrH,EAAIwrH,EAAcxrH,EAAIqrH,EAAoBrrH,IAC3CuB,GAAO0mH,EAAajoH,GAAIy8G,GArKhBgP,CAAsBxD,EAAcC,EAAc0B,EAAW74G,EAAS4yG,EAAOkG,EAAYC,QAGrE,IAAnBH,EACLrG,GAAkBsG,EAAW3B,GAEL,IAAnB0B,IACLrG,GAAkBsG,EAAW3B,GAC7BrC,GAAMsC,EAAc0B,EAAW74G,EAAS4yG,KAKxD,SAASgF,GAAqBr7G,EAAUo+G,EAAW/D,EAAWI,EAAWhJ,EAAWhuG,EAAS4yG,EAAOhhH,EAAOgpH,GACvG,IAGIC,EAHAtd,EAAYhhG,EAASm0C,MACrBqmE,EAAYx6G,EAASlJ,MAGzB,GAFAujH,EAAUx+G,SAAWmE,GAEjBA,EAAS61G,IAAb,CAGA,GAAI2E,IAAcC,GAAaA,IAAclJ,GAAW,CACpD,IAAK8M,GAAgB9zC,GAAWvqE,EAASu+G,2BAA4B,CAIjE,GAHAv+G,EAAS63G,KAAM,EACf73G,EAASu+G,0BAA0B9D,EAAWh3G,GAE1CzD,EAAS61G,IACT,OAEJ71G,EAAS63G,KAAM,EAEf73G,EAAS83G,OACTsG,EAAYvP,GAAYuP,EAAWp+G,EAASg4G,KAC5Ch4G,EAAS83G,MAAO,EAChB93G,EAASg4G,IAAM,MAIvB,IAAIwG,EAAS/jG,QAAQza,EAASy+G,uBAC9B,GAAIppH,IAAUmpH,GAAWA,GAAUx+G,EAASy+G,sBAAsBhE,EAAW2D,EAAW36G,GAAW,CAC3F8mE,GAAWvqE,EAAS0+G,uBACpB1+G,EAAS23G,KAAM,EACf33G,EAAS0+G,oBAAoBjE,EAAW2D,EAAW36G,GACnDzD,EAAS23G,KAAM,GAEnB33G,EAASlJ,MAAQ2jH,EACjBz6G,EAASm0C,MAAQiqE,EACjBp+G,EAASyD,QAAUA,EACf8mE,GAAW,GAAQ4mC,eACnB,GAAQA,aAAanxG,GAEzBs+G,EAAet+G,EAASmwC,OAAOsqE,EAAW2D,EAAW36G,GACjD8mE,GAAW,GAAQ2mC,cACnB,GAAQA,YAAYlxG,GAExB,IACIi4G,EADA0G,EA3hDA,WA2hDYL,EAYhB,GAVI/zC,GAAWvqE,EAASm4G,mBACpBF,EAAej4G,EAASm4G,mBAGxBF,EADAvJ,GAAcuJ,GACCx0G,EAGAorG,GAAYprG,EAASw0G,GAExCj4G,EAASo4G,IAAMH,EACX0G,EAAW,CACX,IAAIlD,EAAYz7G,EAAS81G,IACrB8F,EAAY1D,GAAqBoG,EAAcjE,GACnDD,GAAMqB,EAAWG,EAAWnK,EAAWwG,EAAc5B,GACrDr2G,EAAS81G,IAAM8F,EACXrxC,GAAWvqE,EAAS4+G,qBACpB5+G,EAAS4+G,mBAAmBpE,EAAWxZ,SAK/ChhG,EAASlJ,MAAQ2jH,EACjBz6G,EAASm0C,MAAQiqE,EACjBp+G,EAASyD,QAAUA,EAEvB42G,EAAUlL,IAAMnvG,EAAS81G,IAAI3G,KAiVdX,IAAYj4G,SAASiX,KACxC,SAAS,GAAOxF,EAAOypG,EAAW/wF,GAC9B,GAz4DQ,WAy4DJ1Y,EAAJ,CAGA,IAAI62G,EAAYpN,EAAU8B,GAsC1B,OArCI7E,GAAcmQ,GACTlQ,GAAU3mG,KACPA,EAAMmnG,MACNnnG,EAAQgoG,GAAYhoG,IAEpBkhE,GAAOuoC,EAAUl9G,aACjB+jH,GAAMtwG,EAAOypG,EAAWF,IAAW,GACnCE,EAAU8B,GAAKvrG,GAlmB/B,SAAiBA,EAAOypG,EAAW/wF,GAC/B,IAAIyuF,EAAMsC,EAAUl9G,WACpB,IAAK20E,GAAOimC,GAMR,IALKR,GAAU3mG,IACX0xG,GAAa1xG,EAAOmnG,EAAKoC,IAAW,GAExCpC,EAAMsC,EAAUl9G,WAER46G,EAAMA,EAAIr8F,aACd2+F,EAAUr9G,YAAY+6G,GAG1BqC,GAAUr+G,OAAS,GACnB2+G,GAAQN,IAEZC,EAAU8B,GAAKvrG,EACXuiE,GAAW7pD,IACXA,IAolBQo+F,CAAQ92G,EAAOypG,GAEnBoN,EAAY72G,GAIZ0mG,GAAc1mG,IACd/T,GAAO4qH,EAAWpN,GAClBA,EAAU8B,GAAK,OAGXvrG,EAAMmnG,MACNnnG,EAAQgoG,GAAYhoG,IAExBoyG,GAAMyE,EAAW72G,EAAOypG,EAAWF,IAAW,GAC9CsN,EAAYpN,EAAU8B,GAAKvrG,GAG/BwpG,GAAUr+G,OAAS,GACnB2+G,GAAQN,IAERjnC,GAAW7pD,IACXA,IAEA6pD,GAAW,GAAQ6mC,iBACnB,GAAQA,eAAeyN,GAEvBA,GAA+B,GAAlBA,EAAU3P,MAChB2P,EAAUhjH,cADrB,GAgBJ,IAAIkjH,GAAqC,oBAAZv+F,QAA0B,KAAOA,QAAQ0uB,UAElE8vE,GAAkD,oBAA1BC,sBAAwCl7F,WAAak7F,sBAAsB9nG,KAAK1G,QAO5G,SAASyuG,GAAkB5Q,EAAW6Q,EAAUz+F,EAAUrrB,GAClDk1E,GAAW40C,KACXA,EAAWA,EAAS7Q,EAAUn6D,MAAOm6D,EAAUx3G,MAAOw3G,EAAU7qG,UAEpE,IAVcpI,EAUV08G,EAAUzJ,EAAU0J,IACxB,GAAItJ,GAAcqJ,GACdzJ,EAAU0J,IAAMmH,OAGhB,IAAK,IAAIC,KAAYD,EACjBpH,EAAQqH,GAAYD,EAASC,GAGrC,GAAK9Q,EAAUwJ,MAASxJ,EAAUuJ,IAoB9BvJ,EAAUwJ,MAAO,EACbxJ,EAAUuJ,KAAOttC,GAAW7pD,IAC5B8wF,GAAU58G,KAAK8rB,EAASvJ,KAAKm3F,SArBjC,GAAKA,EAAUmK,KAMV,CAED,IAAI4G,EAAQ/Q,EAAUgR,IAClBp2C,GAAOm2C,KACPA,EAAQ/Q,EAAUgR,IAAM,GA9BtBjkH,EA6ClB,SAAyBizG,EAAW+Q,GAChC,OAAO,WACH/Q,EAAUgR,IAAM,KAChBhR,EAAUmK,MAAO,EACjB8G,GAAWjR,GAAW,GAAO,WACzB,IAAK,IAAI57G,EAAI,EAAG6Z,EAAM8yG,EAAMlsH,OAAQT,EAAI6Z,EAAK7Z,IACzC2sH,EAAM3sH,GAAGsC,KAAKs5G,MAGtBA,EAAUmK,MAAO,GAvBA+G,CAAgBlR,EAAW+Q,GA9B5CN,GACOA,GAAgBh+F,KAAK1lB,GAEzB2jH,GAAe3jH,IA6BVkvE,GAAW7pD,IACX2+F,EAAMzqH,KAAK8rB,QAbf4tF,EAAUwJ,MAAO,EACjBxJ,EAAUmK,MAAO,EACjB8G,GAAWjR,EAAWj5G,EAAOqrB,GAC7B4tF,EAAUmK,MAAO,EAiC7B,SAAS8G,GAAWjR,EAAWj5G,EAAOqrB,GAClC,IAAI4tF,EAAUuH,IAAd,CAGA,GAAIxgH,IAAUi5G,EAAUuJ,IAAK,CACzBvJ,EAAUwJ,MAAO,EACjB,IAAI2H,EAAenR,EAAU0J,IAEzBoG,EAAYvP,GADAP,EAAUn6D,MACasrE,GACnC3oH,EAAQw3G,EAAUx3G,MAClB2M,EAAU6qG,EAAU7qG,QACxB6qG,EAAU0J,IAAM,KAChB,IAAIzI,EAAQjB,EAAUiF,GAClBkI,EAAYnN,EAAUwH,IAG1B,GADAuF,GAAqB/M,EAAW8P,EAAW7O,EAAOz4G,EADlC2kH,EAAUtM,KAAOsM,EAAUtM,IAAIh7G,WACqBsP,GAAwB,GAAd8rG,EAAML,OAA+B,EAAG75G,GAAO,GACzHi5G,EAAUuH,IACV,OAEJ,GAAkD,IAAvB,KAAtBvH,EAAUwH,IAAI5G,OAEf,IADA,IAAIC,EAAMb,EAAUwH,IAAI3G,KAChBjmC,GAAQqmC,EAAQA,EAAMH,eACP,GAAdG,EAAML,OAA8B,IACrCK,EAAMJ,IAAMA,GAIpBqC,GAAUr+G,OAAS,GACnB2+G,GAAQN,SAIZlD,EAAUn6D,MAAQm6D,EAAU0J,IAC5B1J,EAAU0J,IAAM,KAEhBztC,GAAW7pD,IACXA,EAAS1rB,KAAKs5G,IAGtB,IAAI,GAAY,SAAmBx3G,EAAO2M,GACtC3P,KAAKqgD,MAAQ,KAEbrgD,KAAK+jH,KAAM,EACX/jH,KAAK6jH,KAAM,EACX7jH,KAAKgkH,MAAO,EACZhkH,KAAKkkH,IAAM,KACXlkH,KAAKgiH,IAAM,KACXhiH,KAAKy/G,GAAK,KACVz/G,KAAK+hH,KAAM,EACX/hH,KAAKskH,IAAM,KACXtkH,KAAK2kH,MAAO,EACZ3kH,KAAKwrH,IAAM,KAEXxrH,KAAKgD,MAAQA,GAASy6G,GAEtBz9G,KAAK2P,QAAUA,GAAW8tG,IAE9B,GAAUj+G,UAAUosH,YAAc,SAAsBh/F,GAChD5sB,KAAK+hH,KAITqJ,GAAkBprH,KAAM,GAAI4sB,GAAU,IAE1C,GAAUptB,UAAUqsH,SAAW,SAAmBR,EAAUz+F,GACpD5sB,KAAK+hH,KAGJ/hH,KAAK6jH,KACNuH,GAAkBprH,KAAMqrH,EAAUz+F,GAAU,IAOpD,GAAUptB,UAAU68C,OAAS,SAAiByvE,EAAYC,EAAYC,KCxkEtE,SAAS,GAAQ7sH,GAAwT,OAAtO,GAArD,mBAAX2L,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiB5L,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX2L,QAAyB3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAyBA,GAIxV,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAuBwL,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAIrK,IAAI,GAEJ,SAAUigH,GAGR,SAASC,EAAelpH,GACtB,IAAIwJ,GAxBR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA0B5G,CAAgB5L,KAAMksH,GAGtB,IAAIrkG,GADJrb,EAtBJ,SAAoCtB,EAAMhK,GAAQ,OAAIA,GAA2B,WAAlB,GAAQA,IAAsC,mBAATA,EAA8C,GAAuBgK,GAAtChK,EAsBvH,CAA2BlB,KAAM,GAAgBksH,GAAgBhrH,KAAKlB,KAAMgD,KAC/Du1C,UAAYv1C,EAAM6kB,SACvCrb,EAAM6a,OAASQ,EAASjZ,IAAI,SAC5BpC,EAAM2/G,eAAiBtkG,EAASjZ,IAAI,iBACpCpC,EAAM4/G,YAAcvkG,EAASjZ,IAAI,cACjCpC,EAAMyB,UAAY4Z,EAASjZ,IAAI,YAC/B,IAAIy9G,EAAWxkG,EAASjZ,IAAI,YAG5B,OAFApC,EAAM8/G,kBAAoB9/G,EAAM8/G,kBAAkBjpG,KAAK,GAAuB7W,IAC9EA,EAAM+/G,SAAWF,EAAS7/G,EAAM+/G,SAASlpG,KAAK,GAAuB7W,KAC9DA,EAjCX,IAAsBL,EAAa4G,EAAYC,EA2G7C,OAnGF,SAAmBtH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAeH,GAAY,GAAgBD,EAAUC,GASjX,CAAUugH,EAAgBD,GAjBN9/G,EAoCP+/G,GApCoBn5G,EAoCJ,CAAC,CAC5BF,IAAK,oBACL7U,MAAO,WACLgC,KAAK4rH,gBAEN,CACD/4G,IAAK,WACL7U,MAAO,WACLgC,KAAKiO,UAAUS,KAAK,kBAErB,CACDmE,IAAK,kBACL7U,MAAO,WACL,MAAO,CACL0hG,cAAe1/F,KAAKmsH,eACpB99E,WAAYruC,KAAKosH,YACjBvkG,SAAU7nB,KAAKu4C,aAGlB,CACD1lC,IAAK,qBACL7U,MAAO,WACL,IACI2K,EADuB3I,KAAKqnB,OAAOxT,UACTlL,GAE9B3I,KAAKmsH,eAAeG,kBAAkB3jH,EAAI3I,KAAKssH,qBAEhD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IACI2K,EADwB3I,KAAKqnB,OAAOxT,UACTlL,GAE/B3I,KAAKmsH,eAAeK,mBAAmB7jH,EAAI3I,KAAKssH,qBAEjD,CACDz5G,IAAK,SACL7U,MAAO,WACL,IAAIyuH,EAAwBzsH,KAAKqnB,OAAOxT,UACpCnH,EAAO+/G,EAAsB//G,KAC7BC,EAAO8/G,EAAsB9/G,KAE7B+/G,EAAwB1sH,KAAKosH,YAAYO,cAAc,gBAEvDC,EAAuB5sH,KAAKosH,YAAYO,cAAc,eAEtDE,EAAO7sH,KAAKosH,YAAYU,aAAa,cAErCC,EAAO/sH,KAAKosH,YAAYU,aAAa,cAErCE,EAAOhtH,KAAKosH,YAAYU,aAAa,cAEzC,OAAOvR,GAAY,EAAG,MAAO,gBAAiB,CAACmR,GAAyBA,EAAsB5xG,KAAI,SAAU8oG,EAAW3kH,GACrH,OAAO28G,GAAqB,EAAGgI,EAAW,KAAM3kH,MAC9Cs8G,GAAY,EAAG,MAAO,sBAAuBA,GAAY,EAAG,QAAS,YAAa,CAACsR,GAAQjR,GAAqB,EAAGiR,EAAM,CAC3H,KAAQngH,EACR,KAAQC,IACNogH,GAAQnR,GAAqB,EAAGmR,EAAM,CACxC,KAAQrgH,EACR,KAAQC,IACNqgH,GAAQpR,GAAqB,EAAGoR,EAAM,CACxC,KAAQtgH,EACR,KAAQC,KACL,GAAI,EAAG,CACV,SAAY3M,KAAKusH,WACfK,GAAwBA,EAAqB9xG,KAAI,SAAU8oG,EAAW3kH,GACxE,OAAO28G,GAAqB,EAAGgI,EAAW,KAAM3kH,OAC7C,QAvGmE,GAAkBkN,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA2G3Kk5G,EA3FT,CA4FE,IChHF,SAAS,GAAkB5uH,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAO7S,IAAI,GAEJ,WACE,SAASq6G,EAASvtB,EAAerxD,EAAYluB,EAAQpS,EAAU8Z,IAZjE,SAAyB3b,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMitH,GAEtB,IAAIh0G,EAAYkH,EAAOlH,UACvBjZ,KAAKyrB,WAAaxS,EAClBlL,EAASK,GAAG,cAAc,WACxB,GAAOwtG,GAAqB,EAAG,GAAgB,CAC7C,SAAY/zF,IACV5O,MAENlL,EAASK,GAAG,eAAe,WACzB,GAAO,KAAM6K,MAnBnB,IAAsB9M,EAAa4G,EAAYC,EA8B7C,OA9BoB7G,EAuBP8gH,GAvBoBl6G,EAuBV,CAAC,CACtBF,IAAK,eACL7U,MAAO,WACL,OAAOgC,KAAKyrB,gBA1B4D,GAAkBtf,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA8B3Ki6G,EAvBT,GA2BA,GAAS1+G,QAAU,CAAC,gBAAiB,aAAc,kBAAmB,WAAY,YCrCnE,QACbgC,SAAU,CAAC,gBAAiB,aAAc,YAC1CmvF,cAAe,CAAC,OAAQ,IACxBrxD,WAAY,CAAC,OAAQ,IACrB3uB,SAAU,CAAC,OAAQ,KCLrB,SAAS,GAAkBpiB,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,IAAIs6G,GAEJ,WACE,SAASA,EAAMx9G,EAAiB3B,GAC9B,IAAIvB,EAAQxM,MAVhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAY5G,CAAgB5L,KAAMktH,GAEtBltH,KAAK2f,iBAAmBjQ,EACxB1P,KAAKiO,UAAYF,EACjB/N,KAAKmtH,MAAQ,KACbp/G,EAASK,GAAG,eAAe,WACzB5B,EAAM4gH,QAAQ,SAdpB,IAAsBjhH,EAAa4G,EAAYC,EAmO7C,OAnOoB7G,EAkBP+gH,GAlBoBn6G,EAkBb,CAAC,CACnBF,IAAK,UACL7U,MAAO,SAAiBuP,GACtB,GAAIvN,KAAKmtH,MAAO,CACd,IAAIE,EAAUrtH,KAAKmtH,MAEnBntH,KAAKiO,UAAUS,KAAK,cAAe,CACjCnB,KAAM8/G,IAGRrtH,KAAKmtH,MAAQ,KAEbntH,KAAKiO,UAAUS,KAAK,eAAgB,CAClCnB,KAAM8/G,IAIN9/G,GACFvN,KAAKiO,UAAUS,KAAK,WAAY,CAC9BnB,KAAMA,IAIVvN,KAAKmtH,MAAQ5/G,EAETA,GACFvN,KAAKiO,UAAUS,KAAK,aAAc,CAChCnB,KAAMA,MAIX,CACDsF,IAAK,UACL7U,MAAO,WASL,OARKgC,KAAKmtH,OACRntH,KAAKotH,QAAQ,CACXzkH,GAAI,iBACJ+D,KAAM,GACNC,KAAM,KAIH3M,KAAKmtH,QAQb,CACDt6G,IAAK,SACL7U,MAAO,SAAgBwP,EAAKvO,GAC1B,IAAI6N,EAAS9M,KAETuN,EAAOvN,KAAK6T,UAEhB,GAAItG,EAAKZ,KAAKtN,QAAUmO,EAAIT,MAAM1N,OAChC,MAAM,IAAIU,MAAM,kDAwBlB,YArBqB,IAAVd,IACTA,EAAQsO,EAAKb,KAAKrN,QAGpBiuH,GAAWruH,EAAOsO,EAAKb,KAAMc,GAC7BA,EAAID,KAAOA,EAEXvN,KAAK2f,iBAAiB/e,IAAI4M,GAE1BA,EAAIT,MAAMia,SAAQ,SAAUtZ,EAAM1G,GAChC8F,EAAO6S,iBAAiB/e,IAAI8M,GAE5BA,EAAKF,IAAMA,EACXE,EAAKD,IAAMF,EAAKZ,KAAK3F,GACrBsmH,GAAWruH,EAAOsO,EAAKZ,KAAK3F,GAAK+F,MAAOW,MAG1C1N,KAAKiO,UAAUS,KAAK,UAAW,CAC7BlB,IAAKA,IAGAA,IAQR,CACDqF,IAAK,YACL7U,MAAO,SAAmBwP,GACxB,IAAIN,EAASlN,KAETuN,EAAOvN,KAAK6T,UAEG,iBAARrG,IACTA,EAAMxN,KAAK2f,iBAAiB/Q,IAAIpB,IAGlC,IAAIvO,EAAQsO,EAAKb,KAAKtN,QAAQoO,IAEf,IAAXvO,IAIJsuH,GAActuH,EAAOsO,EAAKb,MAC1Bc,EAAID,UAAO/O,EAEXwB,KAAK2f,iBAAiBxf,OAAOqN,GAE7BA,EAAIT,MAAMia,SAAQ,SAAUtZ,EAAM1G,GAChCkG,EAAOyS,iBAAiBxf,OAAOuN,GAE/BA,EAAKD,SAAMjP,EACX+uH,GAActuH,EAAOsO,EAAKZ,KAAK3F,GAAK+F,UAGtC/M,KAAKiO,UAAUS,KAAK,aAAc,CAChClB,IAAKA,OAUR,CACDqF,IAAK,SACL7U,MAAO,SAAgByP,EAAKxO,GAC1B,IAAIoO,EAASrN,KAETuN,EAAOvN,KAAK6T,UAIhB,GAFA7T,KAAK2f,iBAAiB/e,IAAI6M,GAEtBF,EAAKb,KAAKrN,QAAUoO,EAAIV,MAAM1N,OAChC,MAAM,IAAIU,MAAM,kDAqBlB,YAlBqB,IAAVd,IACTA,EAAQsO,EAAKZ,KAAKtN,QAGpBiuH,GAAWruH,EAAOsO,EAAKZ,KAAMc,GAC7BA,EAAIF,KAAOA,EACXE,EAAIV,MAAMia,SAAQ,SAAUtZ,EAAM1G,GAChCqG,EAAOsS,iBAAiB/e,IAAI8M,GAE5BA,EAAKD,IAAMA,EACXC,EAAKF,IAAMD,EAAKb,KAAK1F,GACrBsmH,GAAWruH,EAAOsO,EAAKb,KAAK1F,GAAK+F,MAAOW,MAG1C1N,KAAKiO,UAAUS,KAAK,UAAW,CAC7BjB,IAAKA,IAGAA,IAQR,CACDoF,IAAK,YACL7U,MAAO,SAAmByP,GACxB,IAAI+/G,EAASxtH,KAETuN,EAAOvN,KAAK6T,UAEG,iBAARpG,IACTA,EAAMzN,KAAK2f,iBAAiB/Q,IAAInB,IAGlC,IAAIxO,EAAQsO,EAAKZ,KAAKvN,QAAQqO,IAEf,IAAXxO,IAIJsuH,GAActuH,EAAOsO,EAAKZ,MAC1Bc,EAAIF,UAAO/O,EAEXwB,KAAK2f,iBAAiBxf,OAAOsN,GAE7BA,EAAIV,MAAMia,SAAQ,SAAUtZ,EAAM1G,GAChCwmH,EAAO7tG,iBAAiBxf,OAAOuN,GAE/BA,EAAKF,SAAMhP,EACX+uH,GAActuH,EAAOsO,EAAKb,KAAK1F,GAAK+F,UAGtC/M,KAAKiO,UAAUS,KAAK,aAAc,CAChCjB,IAAKA,OAGR,CACDoF,IAAK,UACL7U,MAAO,WACLgC,KAAKiO,UAAUS,KAAK,sBA/NoD,GAAkBvC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAmO3Kk6G,EA/NT,GA6OA,SAASI,GAAWruH,EAAO4B,EAAO7C,GAChC,OAAO6C,EAAMO,OAAOnC,EAAO,EAAGjB,GAShC,SAASuvH,GAActuH,EAAO4B,GAC5B,OAAOA,EAAMO,OAAOnC,EAAO,GCzPd,SAASwuH,KACtB,IAAIttG,IAASzc,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,KAAmBA,UAAU,GACxE+9D,EAA4B,iBAAXthD,EAAsBA,EAASA,EAAS,IAAM,EAEnE,OAAIshD,EACK,SAAUl6D,GACf,OAAO,mBAASA,EAAIk6D,IAGf,SAAUl6D,GACf,OAAOA,GD0Nb2lH,GAAM3+G,QAAU,CAAC,kBAAmB,YCtNpCk/G,GAAgBl/G,QAAU,CAAC,mBCfZ,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,iBAAkB,SAC7B29B,eAAgB,CAAC,OAAQ,IACzBx+B,gBAAiB,CAAC,OAAQu9B,IAC1Bl/B,SAAU,CAAC,OAAQsf,IACnB/Z,MAAO,CAAC,OAAQ45G,IAChBb,SAAU,CAAC,UAAW,KCbxB,SAAShyE,GAAyBxxC,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxMk9C,CAA8B3xC,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAIne,SAAS,GAAgB4O,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAgF7S,SAASu7B,GAAUC,GACjB,IAAI1L,EAAU,GACV2L,EAAa,GAEjB,SAASC,EAAUjZ,GACjB,OAAOqN,EAAQtjC,QAAQi2B,IAAM,EAwB/B+Y,EAAiBpnB,SAjBjB,SAASunB,EAAMlZ,GACTiZ,EAAUjZ,MAIbA,EAAE7kB,aAAe,IAAIwW,QAAQunB,GAE1BD,EAAUjZ,MAXhB,SAAmBA,GACjBqN,EAAQ5hC,KAAKu0B,GAcbmZ,CAAUnZ,IACTA,EAAE9kB,UAAY,IAAIyW,SAAQ,SAAU3jB,GACnCgrC,EAAWvtC,KAAKuC,WAKpB,IAAIwkB,EAAW,IAAI4a,GAASC,GAW5B,OAVA2L,EAAWrnB,SAAQ,SAAU3jB,GAC3B,IAEEwkB,EAAsB,iBAANxkB,EAAiB,MAAQ,UAAUA,GACnD,MAAO5F,GAGP,MAFAovB,QAAQb,MAAM,mCACda,QAAQb,MAAMvuB,EAAEwlC,OACVxlC,MAGHoqB,EAGT,SAAS6mB,GAAevuB,EAAQuiB,GAI9B,OAAOyL,GAHgB,CAAC,CACtBhuB,OAAQ,CAAC,QAASA,IACjButG,IAAMx0G,OAAOwpB,GAAW,KCpId,ODcf,WACE,SAASirF,IACP,IAAI9/G,EAAUnK,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAgB1D,KAAM2tH,GAEtB,IAAI9lG,EAAWha,EAAQga,SAEvB,IAAKA,EAAU,CACb,IAAI+lG,EAAc5tH,KAAKkpB,MAAMrb,GACzB60B,EAAUkrF,EAAYlrF,QACtBviB,EAASytG,EAAYztG,OAEzB0H,EAAW6mB,GAAevuB,EAAQuiB,GAGpC1iC,KAAK4O,IAAMiZ,EAASjZ,IACpB5O,KAAK0jC,OAAS7b,EAAS6b,OACvB1jC,KAAK4O,IAAI,YAAYF,KAAK,cAC1B1O,KAAK4O,IAAI,YAAYF,KAAK,gBA1B9B,IAAsBvC,EAAa4G,EAAYC,EAwE7C,OAxEoB7G,EAqCPwhH,GArCoB56G,EAqCb,CAAC,CACnBF,IAAK,QACL7U,MAAO,SAAe6P,GAIpB,MAAO,CACL60B,QAJY70B,EAAQ60B,QAKpBviB,OAJWk6B,GAAyBxsC,EAAS,CAAC,eAWjD,CACDgF,IAAK,UACL7U,MAAO,WACL,IAAI+P,EAAW/N,KAAK4O,IAAI,YACxBb,EAASW,KAAK,iBACdX,EAASW,KAAK,qBAMf,CACDmE,IAAK,QACL7U,MAAO,WACL,IAAI+P,EAAW/N,KAAK4O,IAAI,YACxBb,EAASW,KAAK,eACdX,EAASW,KAAK,sBApE0D,GAAkBvC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAwE3K26G,EAjET,GEfO,SAASE,GAAgBrxH,GAC9B,IAAKA,EACH,MAAO,SAGT,IAAImM,EAAKnM,EAAQmM,GAAK,QAASuQ,OAAO1c,EAAQmM,GAAI,KAAQ,GAC1D,MAAO,IAAIuQ,OAAO1c,EAAQkrB,OAAOxO,OAAOvQ,EAAI,OCJ/B,SAASmlH,GAAgB3qG,EAAStV,GAC/C,SAAS0gC,EAAM/xC,EAAS8zD,EAAKjrC,GAG3B,GAFU7oB,EAAQmU,IAGhB,MAAM,IAAI5Q,MAAM,oBAAoBmZ,OAAO20G,GAAgBrxH,KAI7D,OAAO2mB,EAAQ3mB,QAAQA,EAAS8zD,EAAKjrC,GAmCvC,SAAS0oG,EAAcC,EAASr+G,EAAS0V,GACvC,kBAAQ2oG,GAAS,SAAUvwH,GACzB8wC,EAAM9wC,EAAGkS,EAAS0V,MAYtB,SAAS4oG,EAAY3xD,EAAO3sD,EAAS0V,GACnC,kBAAQi3C,GAAO,SAAU7+D,GACvB8wC,EAAM9wC,EAAGkS,EAAS0V,MAKtB,MAAO,CACL6oG,eAjDF,SAAwBC,GACjBA,EAASxlH,KACZwlH,EAASxlH,GAAK,YAGhB,IAAI4oF,EAAQ48B,EAAS91E,cAErB,IAAIk5C,EAgBF,MAAM,IAAIxxF,MAAM,gBAAgBmZ,OAAO20G,GAAgBM,KAfvD,IAAK58B,EAAM98E,OACT,MAAM,IAAI1U,MAAM,sBAAsBmZ,OAAO20G,GAAgBt8B,KAG/D,IAqBiBtpE,EAAOtY,EAAS0V,EAtCjB7oB,EAiBZ8zD,GAjBY9zD,EAiBK+0F,EAhBhBpuE,EAAQouE,MAAM/0F,IAkBf+0F,EAAMr9E,OACR65G,EAAcx8B,EAAMr9E,MAAOo8C,EAAKihC,GAGlCw8B,EAAcx8B,EAAM98E,OAAQ67C,EAAKihC,GAehBtpE,EAZLspE,EAAM59E,KAYMhE,EAZA2gD,EAYSjrC,EAZJksE,EAa/B,kBAAQtpE,GAAO,SAAUxqB,GACvB8wC,EAAM9wC,EAAGkS,EAAS0V,GAClB4oG,EAAYxwH,EAAE2wH,WAAY3wH,GAC1BwwH,EAAYxwH,EAAE4wH,YAAa5wH,QCtDlB,QACb4M,UAAW,CAAE,QCeA,SAAmBqX,EAAUC,GAI1C,OAFAA,EAAeA,GAAgB,GAExBD,EAASxjB,QAAQ,cAAc,SAAS0c,EAAG/H,GAChD,OAAO8O,EAAa9O,IAAQ,IAAMA,EAAM,UCvB5C,SAASmnC,GAAmB96C,GAAO,OAMnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,CAAE,IAAK,IAAIN,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMjF,EAAIG,QAAST,EAAIM,EAAIG,OAAQT,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,GANnHuhC,CAAmB/6C,IAI7D,SAA0Bg7C,GAAQ,GAAIpvC,OAAOC,YAAYjM,OAAOo7C,IAAkD,uBAAzCp7C,OAAOU,UAAUD,SAAS2B,KAAKg5C,GAAgC,OAAO/1C,MAAMmU,KAAK4hC,GAJrFC,CAAiBj7C,IAEtF,WAAgC,MAAM,IAAI0M,UAAU,mDAF0CwuC,GAQvF,SAASk0E,GAAO9T,GAErB,OAAO+T,GADI/T,EAAUxvG,YACGwvG,GAEnB,SAAS+T,GAAW5gH,EAAM6sG,GAC/B,IAAIgU,EAAa7gH,EAAKY,QAEtB,GAAKigH,EAAL,CAIA,IAAI3mG,EAAW2yF,EAAU7qG,QAAQkY,SAC7B4mG,EAAU,GAAGv1G,OAAO8gC,GAAmBw0E,GAAa,CAAC,WACvD,IAAK,IAAIE,EAAOhrH,UAAUrE,OAAQggB,EAAO,IAAIlb,MAAMuqH,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtvG,EAAKsvG,GAAQjrH,UAAUirH,GAGzB,IAAK,IAAI3nH,KAAOqY,EAAM,CACpB,IAAIpiB,EAAOuxH,EAAWxnH,GAClBhJ,EAAQqhB,EAAKrY,GACjBwzG,EAAUv9G,GAAQe,MAGtB6pB,EAAS6b,OAAO+qF,ICtBH,SAASG,GAAMpU,EAAWqU,GACvC/vH,OAAOC,KAAK8vH,GAAU7nG,SAAQ,SAAUnU,GACtC,GAAY,YAARA,GAA6B,WAARA,EAAzB,CAIA,IAAIi8G,EAAUD,EAASh8G,GAEX,gBAARA,GACFi8G,EAAQ5tH,KAAKs5G,EAAWA,EAAUx3G,MAAOw3G,EAAU7qG,SAGrD,IAAIo/G,EAAcvU,EAAU3nG,GAE5B,QAA2B,IAAhBk8G,EAA6B,CACtC,GAA2B,mBAAhBA,EACT,MAAM,IAAIhvH,MAAM,oBAAoBmZ,OAAOrG,EAAK,kDAGlD2nG,EAAU3nG,GCjBD,SAAiB3H,GAC9B,IAAK,IAAIwjH,EAAOhrH,UAAUrE,OAAQ2vH,EAAM,IAAI7qH,MAAMuqH,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IACjGK,EAAIL,EAAO,GAAKjrH,UAAUirH,GAG5B,OAAO,WACL,IAAK,IAAIM,EAAQvrH,UAAUrE,OAAQggB,EAAO,IAAIlb,MAAM8qH,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpF7vG,EAAK6vG,GAASxrH,UAAUwrH,GAG1B,IAAIrnH,EAQJ,OAPAmnH,EAAIhoG,SAAQ,SAAUzf,GAGpB,QAAsB,KAFtBM,EAASN,EAAGrG,KAAKqe,MAAMhY,EAAI,CAAC2D,GAAMgO,OAAOmG,KAGvC,OAAO,KAGJxX,GACPwb,KAAKnY,GDFcikH,CAAQ3U,EAAWuU,EAAaD,QAEjDtU,EAAU3nG,GAAOi8G,EAAQzrG,KAAKm3F,OAI9B,YAAaqU,GACfN,GAAWM,EAAUrU,GAInB,WAAYqU,GACdA,EAASO,OAAOluH,KAAKs5G,EAAWA,EAAUx3G,MAAOw3G,EAAU7qG,SExC/D,IAAI2pC,GAAY,CAAC,OAAQ,WACrB+1E,GAAa,CAAC,OAAQ,WAG1B,SAAS91E,GAAQx2C,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS86C,GAAcv8C,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI26C,GAAQz6C,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO6pB,GAAgBp/B,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW0wC,GAAQz6C,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAEjf,SAASo/B,GAAgBv9B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAE3M,SAAS,GAAyB0J,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxM,CAA8BuL,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EASne,IAAIgyH,GAAqB,CACvBC,SAAU,SAAkBC,EAAWC,GACrC,IAAIhzH,EAAO+yH,EAAU/yH,KACjBkT,EAAU6/G,EAAU7/G,QACpB3M,EAAQ,GAAyBwsH,EAAWl2E,IAE5Co2E,EAAO1vH,KAAKquC,WAAWy+E,aAAarwH,EAAMkT,IAAY8/G,EAE1D,OAAIC,EACKzT,GAAeL,GAAqB,EAAG8T,EAAM71E,GAAcA,GAAc,GAAIlqC,GAAU3M,KAGzF,MAET2sH,UAAW,SAAmBH,GAC5B,IAAI/yH,EAAO+yH,EAAU/yH,KACjBkT,EAAU6/G,EAAU7/G,QACpB3M,EAAQ,GAAyBwsH,EAAWH,IAGhD,OADYrvH,KAAKquC,WAAWs+E,cAAclwH,EAAMkT,GACnCmL,KAAI,SAAU40G,GACzB,OAAOzT,GAAeL,GAAqB,EAAG8T,EAAM71E,GAAcA,GAAc,GAAIlqC,GAAU3M,UAIrF,MC5Cf,SAAS,GAAQ7D,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GDuBxM4vH,GAAmB/gH,QAAU,CAAC,cChB9B,IAEI,GAAgC,SAAU09G,IArB9C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAUikH,EAAkB3D,GAE5B,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAawoG,GAE1B,SAASA,EAAiB5sH,EAAO2M,GAC/B,IAAInD,EAbiBrN,EAAK0T,EAAK7U,EAyB/B,OA7CJ,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAM4vH,GAEtBpjH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAjBZxQ,EAmBL,GAAuBqN,GAnBRxO,EAmBqC,WAClEwO,EAAMo/G,gBApBkB/4G,EAmBqB,uBAnBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAuBvL4wH,GAAM,GAAuBpiH,GAAQ,IACrC8hH,GAAO,GAAuB9hH,IACvBA,EAuCT,OAhFoBL,EA4CPyjH,GA5CoB78G,EA4CF,CAAC,CAC9BF,IAAK,oBACL7U,MAAO,WACLgC,KAAK0/F,cAAc4sB,kBAAkBtsH,KAAK6T,UAAW7T,KAAKssH,qBAE3D,CACDz5G,IAAK,uBACL7U,MAAO,WACLgC,KAAK0/F,cAAc8sB,mBAAmBxsH,KAAK6T,UAAW7T,KAAKssH,qBAE5D,CACDz5G,IAAK,UACL7U,MAAO,WACL,OAAOgC,KAAKsT,MAAMO,YAEnB,CACDhB,IAAK,SACL7U,MAAO,WACL,IAEI8G,GAFgB9E,KAAK6T,UACY9W,eAAe6R,IAAI,qBA1C9C,KA2CoC,KAC9C,OAAO2sG,GAAY,EAAG,KAAM,oBAAqB,CAACv7G,KAAK2vH,UAAU,CAC/DlzH,KAAM,aACNkT,QAAS,CACPkgH,SAAU,cACVpiH,IAAKzN,KAAKsT,MAAMO,UAChB4sF,SAjDM,OAmDNzgG,KAAKqK,UAAU,gBAAiB,EAAG,CACrC,MAAS,CACPvF,MAAOA,UA1E6D,GAAkBqH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAgFrP+jH,EAzD2B,CA0DlC,ICzFF,SAAS,GAAQzwH,GAAwT,OAAtO,GAArD,mBAAX2L,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiB5L,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX2L,QAAyB3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAyBA,GAExV,SAAS,GAAQ4D,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAwO,OAA3NjE,OAAO26C,uBAAyB16C,EAAK+B,KAAKye,MAAMxgB,EAAMD,OAAO26C,sBAAsB12C,IAAgBy2C,IAAgBz6C,EAAOA,EAAK2I,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAuB1N,EAEjT,SAAS,GAAczB,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAyB,MAAhBnF,UAAU9E,GAAa8E,UAAU9E,GAAK,GAAQA,EAAI,EAAK,GAAQiK,GAAQ,GAAMme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAsB/T,OAAOg7C,0BAA6Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAmB,GAAQA,GAAQme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAe,OAAOvV,EAE7f,SAAS,GAAgB6B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAE3M,SAAS,GAAmBD,GAAO,OAMnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,CAAE,IAAK,IAAIN,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMjF,EAAIG,QAAST,EAAIM,EAAIG,OAAQT,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,GANnH,CAAmBxZ,IAI7D,SAA0Bg7C,GAAQ,GAAIpvC,OAAOC,YAAYjM,OAAOo7C,IAAkD,uBAAzCp7C,OAAOU,UAAUD,SAAS2B,KAAKg5C,GAAgC,OAAO/1C,MAAMmU,KAAK4hC,GAJrF,CAAiBh7C,IAEtF,WAAgC,MAAM,IAAI0M,UAAU,mDAF0C,GAe9F,SAAS,GAAI4vB,EAAKh/B,GAChB,IAAI0K,EAAWs0B,EAAIt0B,SACfjI,EAAQu8B,EAAIv8B,MAEhB,OAAIA,EAAMzC,GACDg/B,EAEA,CACLt0B,SAAU,GAAGgS,OAAO,GAAmBhS,GAAW,CAAC1K,IACnDyC,MAAO,GAAc,GAAIA,EAAO,GAAgB,GAAIzC,GAAS,KAKnE,SAASyE,GAAKu6B,EAAKw1E,GACjB,OAAOx1E,EAAIt0B,SAASjG,KAAK+vG,GAGZ,SAAS,KAGtB,IAFA,IAAIx1E,EAzBG,CACLt0B,SAAU,GACVjI,MAAO,IAyBAyvH,EAAOhrH,UAAUrE,OAAQggB,EAAO,IAAIlb,MAAMuqH,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtvG,EAAKsvG,GAAQjrH,UAAUirH,GAkBzB,OAfAtvG,EAAK2H,SAAQ,SAAU4I,GACrB,IAAInzB,EAAO,GAAQmzB,GAEN,WAATnzB,GAAqBmzB,EAAKvwB,OAAS,EACrCm8B,EAAM,GAAIA,EAAK5L,GACG,WAATnzB,GAA8B,OAATmzB,GAC9B9wB,OAAOC,KAAK6wB,GAAM5I,SAAQ,SAAUnU,GACtB+c,EAAK/c,KAGf2oB,EAAM,GAAIA,EAAK3oB,UAKhB5R,GAAKu6B,EAAK,KD6BnB,GAAiBjtB,QAAU,CAAC,gBAAiB,QAAS,aEvFtD,IAAIuhH,GAAiB,CACnBC,oBAAqB,WACnB,IAAIC,EAAchwH,KAAKqgD,MAIvB,OAAO,GAAW,CAChB,SAJa2vE,EAAYxvG,SAKzB,qBAJsBwvG,EAAYC,kBAKlC,SAJaD,EAAYzvG,YAO7B2vG,iBAAkB,SAA0BvhH,GAE1C3O,KAAK6rH,SAASl9G,IAEhBi8G,oBAAqB,SAA6BlL,GAC5CA,EAAStmG,YAAcpZ,KAAKgD,MAAMoW,WACpCpZ,KAAKmwH,6BAA4B,IAGrCrF,mBAAoB,SAA4BsF,GAC1CA,EAASh3G,YAAcpZ,KAAKgD,MAAMoW,WACpCpZ,KAAKmwH,6BAA4B,IAGrC9K,kBAAmB,WACjBrlH,KAAKmwH,6BAA4B,IAEnCrO,qBAAsB,WACpB9hH,KAAKmwH,6BAA4B,IAEnCA,4BAA6B,SAAqC5rD,GAChE,IAAInrD,EAAYpZ,KAAKgD,MAAMoW,UAEtBA,GAIDA,GACFpZ,KAAK+N,SAASw2D,EAAS,KAAO,OAAO,aAAarrD,OAAOE,EAAW,YAAapZ,KAAKkwH,oBAI7E,MCjDf,SAAS,GAAQ/wH,GAAwT,OAAtO,GAArD,mBAAX2L,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiB5L,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX2L,QAAyB3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAyBA,GAExV,SAAS,GAAQ4D,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAwO,OAA3NjE,OAAO26C,uBAAyB16C,EAAK+B,KAAKye,MAAMxgB,EAAMD,OAAO26C,sBAAsB12C,IAAgBy2C,IAAgBz6C,EAAOA,EAAK2I,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAuB1N,EAEjT,SAAS,GAAczB,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAyB,MAAhBnF,UAAU9E,GAAa8E,UAAU9E,GAAK,GAAQA,EAAI,EAAK,GAAQiK,GAAQ,GAAMme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAsB/T,OAAOg7C,0BAA6Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAmB,GAAQA,GAAQme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAe,OAAOvV,EAE7f,SAAS,GAAgB6B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAE3M,SAAS,GAAyB0J,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxM,CAA8BuL,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAMne,SAAS,GAAkBA,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAuBwL,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GCxBrK,SAAS,GAAQ7M,GAAwT,OAAtO,GAArD,mBAAX2L,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiB5L,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX2L,QAAyB3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAyBA,GAExV,SAAS,GAAQ4D,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAwO,OAA3NjE,OAAO26C,uBAAyB16C,EAAK+B,KAAKye,MAAMxgB,EAAMD,OAAO26C,sBAAsB12C,IAAgBy2C,IAAgBz6C,EAAOA,EAAK2I,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAuB1N,EAIjT,SAAS,GAAgBI,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,GAA2B1H,EAAMhK,GAAQ,OAAIA,GAA2B,WAAlB,GAAQA,IAAsC,mBAATA,EAEpG,SAAgCgK,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFb,CAAuBA,GAAtChK,EAInI,SAAS,GAAgBxB,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAIxM,SAAS,GAAgBA,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GF0BrK8jH,GAAevhH,QAAU,CAAC,YEtB1B,IAAI,GAEJ,SAAU8hH,GAGR,SAASC,EAAWttH,EAAO2M,GACzB,IAAInD,EAMJ,OA9BJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA0B5G,CAAgB5L,KAAMswH,IAEtB9jH,EAAQ,GAA2BxM,KAAM,GAAgBswH,GAAYpvH,KAAKlB,KAAMgD,EAAO2M,KACjF0wC,MAAQ,GACP7zC,EA1BX,IAAsBL,EAAa4G,EAAYC,EAsC7C,OA9BF,SAAmBtH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAeH,GAAY,GAAgBD,EAAUC,GASjX,CAAU2kH,EAAYD,GAjBFlkH,EA6BPmkH,GA7BoBv9G,EA6BR,CAAC,CACxBF,IAAK,SACL7U,MAAO,WAGL,OAAOi+G,GAAeV,GAAY,EAAG,KAAM,KAF5Bv7G,KAAKgD,MAAM+E,SAEiC,EA1CjE,SAAuBzK,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAyB,MAAhBnF,UAAU9E,GAAa8E,UAAU9E,GAAK,GAAQA,EAAI,EAAK,GAAQiK,GAAQ,GAAMme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAsB/T,OAAOg7C,0BAA6Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAmB,GAAQA,GAAQme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAe,OAAOvV,EA0Czb,CAAc,GADhE0C,KAAKuwH,eAAe,gBAjCwC,GAAkBpkH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAsC3Ks9G,EAtBT,CDIA,SAAUrE,GAGR,SAASuE,EAASxtH,EAAO2M,GACvB,IAAInD,EAOJ,OAjCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA4B5G,CAAgB5L,KAAMwwH,GAEtBhkH,EAxBJ,SAAoCtB,EAAMhK,GAAQ,OAAIA,GAA2B,WAAlB,GAAQA,IAAsC,mBAATA,EAA8C,GAAuBgK,GAAtChK,EAwBvH,CAA2BlB,KAAM,GAAgBwwH,GAAUtvH,KAAKlB,KAAMgD,EAAO2M,IACrFi/G,GAAM,GAAuBpiH,GAAQ,IACrC8hH,GAAO,GAAuB9hH,IACvBA,EA7BX,IAAsBL,EAAa4G,EAAYC,EA6D7C,OArDF,SAAmBtH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAeH,GAAY,GAAgBD,EAAUC,GAWjX,CAAU6kH,EAAUvE,GAnBA9/G,EAgCPqkH,GAhCoBz9G,EAgCV,CAAC,CACtBF,IAAK,iBACL7U,MAAO,WAOL,IANA,IAAIyyH,EAAczwH,KAAKgD,MACnBjC,EAAY0vH,EAAY1vH,UACxBqY,EAAYq3G,EAAYr3G,UACxB6H,EAASwvG,EAAYxvG,OACrBje,EAAQ,GAAyBytH,EAAa,CAAC,YAAa,YAAa,WAEpE/B,EAAOhrH,UAAUrE,OAAQgQ,EAAM,IAAIlL,MAAMuqH,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC9Et/G,EAAIs/G,GAAQjrH,UAAUirH,GAGxB,IAAI+B,EAAY,CACd3vH,UAAW,GAAWwe,WAAM,EAAQlQ,EAAI6J,OAAO,CAAClZ,KAAK+vH,sBAAuBhvH,MAW9E,OARIqY,IACFs3G,EAAU,mBAAqBt3G,GAG7B6H,IACFyvG,EAAU,eAAiBzvG,GAGtB,GAAc,GAAIyvG,EAAW,GAAI1tH,QAzDgC,GAAkBmJ,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA6D3Kw9G,EA3CT,CA4CE,KE5Ea,SAASG,GAAe3tH,GACrC,IACI4tH,EADM5tH,EAAMwK,IACczQ,eAC1B4L,EAAKioH,EAAoBjoH,GACzBkoH,EAAcD,EAAoBC,YACtC,OAAOjV,GAAqB,EAAG,GAAM,CACnC,UAAa,aACb,UAAajzG,EACbZ,SAAU8oH,GAAe,MCRd,SAASC,GAAoBziF,GAC1CA,EAAW0iF,eAAe,QAAQ,SAAUz7G,GAC1C,IAAIu6G,EAAWv6G,EAAKu6G,SAEpB,MAAiB,sBAAbA,EACK,GACe,qBAAbA,EACFc,QADF,KAKXG,GAAoBviH,QAAU,CAAC,cCZhB,QACbgC,SAAU,CAAC,uBACXygH,oBAAqB,CAAC,OAAQF,KCHhC,SAAS,GAAmB5xH,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAOkZ,GAAkBlZ,GAR1C,CAAmBA,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjF,CAAiBh7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO0Y,GAAkB1Y,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAOD,GAAkB1Y,EAAGyY,GAJxTI,CAA4BrZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8E,GAUlI,SAASwM,GAAkBlZ,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAIhL,SAAS,GAAkBpb,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAO7S,SAASokC,GAAY5E,EAAUzzC,GAC7B,OAAO,iBAAO,CACZgK,GAAIypC,EAASzpC,GACblM,KAAM21C,EAAS1qB,MACf3qB,eAAgBq1C,GACfzzC,GAGL,IAAI,GAA6B,WAC/B,SAASsyH,EAAc/iF,EAAgBngC,EAAUuF,IAlBnD,SAAyBpH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmB5G,CAAgB5L,KAAMixH,GAEtBjxH,KAAK+2C,gBAAkB7I,EACvBluC,KAAKiO,UAAYF,EACjB/N,KAAKqnB,OAAS/T,EAnBlB,IAAsBnH,EAAa4G,EAAYC,EA2E7C,OA3EoB7G,EA0BP8kH,GA1BoBl+G,EA0BL,CAAC,CAC3BF,IAAK,MACL7U,MAAO,SAAao0C,GAClB,IAEI51C,EAFAgQ,EAAQxM,KAIZ,GAAI,YAAGoyC,EAAU,qBACf51C,EAAUwD,KAAK+2C,gBAAgBjc,WAAWkc,GAAY5E,IAEtDpyC,KAAKqnB,OAAO+lG,QAAQ5wH,QAEjB,GAAI,YAAG41C,EAAU,mBACpB51C,EAAUwD,KAAK+2C,gBAAgBm6E,UAAUl6E,GAAY5E,IAErDpyC,KAAKqnB,OAAOlT,OAAO3X,QAEhB,GAAI,YAAG41C,EAAU,oBACpB51C,EAAUwD,KAAK+2C,gBAAgBm6E,UAAUl6E,GAAY5E,IAErDpyC,KAAKqnB,OAAOlT,OAAO3X,QAEhB,GAAI,YAAG41C,EAAU,oBAAqB,CACpCA,EAASg8E,aACZh8E,EAASg8E,WAAa,IAGnBh8E,EAASi8E,cACZj8E,EAASi8E,YAAc,IAGzB,IAAIthH,EAAQ,GAAGmM,OAAO,GAAmBk5B,EAASg8E,YAAa,GAAmBh8E,EAASi8E,cAAcvzG,KAAI,SAAUwhD,GACrH,OAAO9vD,EAAMuqC,gBAAgBo6E,WAAWn6E,GAAYslB,OAEtD9/D,EAAUwD,KAAK+2C,gBAAgBq6E,UAAU,iBAAOp6E,GAAY5E,GAAW,CACrErlC,MAAOA,KAGT/M,KAAKqnB,OAAO5T,OAAOjX,GAOrB,OAJAwD,KAAKiO,UAAUS,KAAK,mBAAoB,CACtClS,QAASA,IAGJA,OAvEiE,GAAkB2P,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2ErPolH,EA9DwB,GAkEjC,GAAc1iH,QAAU,CAAC,iBAAkB,WAAY,SC7FxC,ICAA,IACbiC,YAAa,CDDA,CACbA,YAAa,CAAC,IACd6gH,cAAe,CAAC,OAAQ,KCDI,KCH9B,SAAS,GAAQlyH,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GASxM,IAAI,GAAiC,SAAUusH,IArB/C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAU2lH,EAAmBrF,GAE7B,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAakqG,GAE1B,SAASA,EAAkBtuH,EAAO2M,GAChC,IAAInD,EAbiBrN,EAAK0T,EAAK7U,EA0B/B,OA9CJ,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAMsxH,GAEtB9kH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAjBZxQ,EAmBL,GAAuBqN,GAnBRxO,EAmBqC,WAClEwO,EAAMo/G,gBApBkB/4G,EAmBqB,uBAnBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAuBvL4wH,GAAM,GAAuBpiH,GAAQ,IACrCA,EAAM6a,OAAS1X,EAAQkY,SAASjZ,IAAI,SACpCpC,EAAM2/G,eAAiBx8G,EAAQ+vF,cACxBlzF,EAqET,OA/GoBL,EA6CPmlH,GA7CoBv+G,EA6CD,CAAC,CAC/BF,IAAK,qBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAKqnB,OAAOxT,UAEvB7T,KAAKmsH,eAAeG,kBAAkB/+G,EAAK5E,GAAI3I,KAAKssH,qBAErD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAKqnB,OAAOxT,UAEvB7T,KAAKmsH,eAAeK,mBAAmBj/G,EAAK5E,GAAI3I,KAAKssH,qBAEtD,CACDz5G,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAETuN,EAAOvN,KAAKqnB,OAAOxT,UAEvB,IAAK,YAAGtG,EAAM,kBACZ,OAAO,KAGT,IAAIxQ,EAAiB,YAAkBwQ,GACnCgkH,EAASx0H,EAAemX,MACxBs9G,EAAUz0H,EAAe0X,OAC7B,OAAO8mG,GAAY,EAAG,QAAS,KAAMA,GAAY,EAAG,KAAM,KAAM,CAACA,GAAY,EAAG,KAAM,gBAAiBv7G,KAAK2vH,UAAU,CACpHlzH,KAAM,OACNkT,QAAS,CACPkgH,SAAU,wBAEV0B,GAAUA,EAAOz2G,KAAI,SAAU5G,EAAOjV,GACxC,IAAI6F,EAAQoP,EAAMpP,OAAS,QAC3B,OAAOgI,EAAOyiH,SAAS,CACrB9yH,KAAM,OACNkT,QAAS,CACPkgH,SAAU,eACV37G,MAAOA,EACPjV,MAAOA,EACPwyH,aAAcF,EAAOlyH,OACrByF,MAAOA,GAET+N,IAAKqB,EAAMvL,IACV+oH,OACDF,EAAQ12G,KAAI,SAAUrG,EAAQxV,GAChC,OAAO6N,EAAOyiH,SAAS,CACrB9yH,KAAM,OACNkT,QAAS,CACPkgH,SAAU,gBACVp7G,OAAQA,EACRxV,MAAOA,EACP0yH,cAAeH,EAAQnyH,QAEzBwT,IAAK4B,EAAO9L,IACXipH,OACD5xH,KAAK2vH,UAAU,CACjBlzH,KAAM,OACNkT,QAAS,CACPkgH,SAAU,wBAET,GAAI,QA3G+D,GAAkB1jH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA+GrPylH,EAxF4B,CAyFnC,IAKF,SAASI,GAAuB1uH,EAAO2M,GACrC,IAAIuE,EAAQlR,EAAMkR,MACdnT,EAAYiC,EAAMjC,UAClB9B,EAAQ+D,EAAM/D,MACdy8B,EAAQxnB,EAAMwnB,MACd+1D,EAAkBv9E,EAAMu9E,gBACxBogC,EAAc39G,EAAM29G,YACpBxnH,EAAYsF,EAAQkY,SAASjZ,IAAI,aAErC,OAAO2sG,GAAY,EAAG,MADCx6G,GAAa,IAAM,cACG,CAACw6G,GAAY,EAAG,MAAO,SAAwBlxG,EAAJ,IAAVpL,EAAwB,OAAoB,OAAQ,GAAIy8B,EAAQ6/E,GAAY,EAAG,MAAO,cAAe7/E,EAAO,EAAG,CAC3L,MAASrxB,EAAU,iBAChBkxG,GAAY,EAAG,MAAO,mBAAoB9pB,EAAgBngD,KAAM,EAAG,CACtE,MAASjnC,EAAU,sBACjBkxG,GAAY,EAAG,MAAO,iBAAkBsW,GAAeA,EAAYvgF,MAAQmgD,EAAgBD,QAAS,EAAG,CACzG,MAASqgC,GAAeA,EAAYvgF,KAAOjnC,EAAU,gBAAkBA,EAAU,iBAC9E,EAAG,CACN,cAAe6J,EAAMvL,IACpBuL,EAAMvL,IAGX,SAASipH,GAAwB5uH,EAAO2M,GACtC,IAAI8E,EAASzR,EAAMyR,OACf1T,EAAYiC,EAAMjC,UAClB9B,EAAQ+D,EAAM/D,MACdy8B,EAAQjnB,EAAOinB,MACfz+B,EAAOwX,EAAOxX,KACd60H,EAAer9G,EAAOq9G,aACtBtgC,EAAU/8E,EAAO+8E,QACjBnnF,EAAYsF,EAAQkY,SAASjZ,IAAI,aAErC,OAAO2sG,GAAY,EAAG,MADCx6G,GAAa,IAAM,eACG,CAACw6G,GAAY,EAAG,MAAO,SAAwBlxG,EAAJ,IAAVpL,EAAwB,OAAoB,OAAQ,GAAIy8B,EAAQ6/E,GAAY,EAAG,MAAO,eAAgB7/E,EAAO,EAAG,CAC5L,MAASrxB,EAAU,kBAChBkxG,GAAY,EAAG,MAAO,cAAet+G,EAAM,EAAG,CACjD,MAASoN,EAAU,iBACjBkxG,GAAY,EAAG,MAAO,kBAAmBuW,GAAgBA,EAAaxgF,MAAQkgD,EAAS,EAAG,CAC5F,MAASsgC,GAAgBA,EAAaxgF,KAAOjnC,EAAU,iBAAmBA,EAAU,kBACjF,EAAG,KAAMoK,EAAO9L,IChKR,SAASopH,GAA0B1jF,GAChDA,EAAW0iF,eAAe,cAAc,WACtC,OAAO,MAGXgB,GAA0BxjH,QAAU,CAAC,cCLtB,QACbgC,SAAU,CAAC,6BACXyhH,0BAA2B,CAAC,OAAQD,KCHtC,SAAS,GAAQ5yH,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAAgD,SAAUusH,IAlB9D,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAUsmH,EAAkChG,GAE5C,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAa6qG,GAE1B,SAASA,EAAiCjvH,EAAO2M,GAC/C,IAAInD,EAMJ,OApCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAMiyH,GAGtB3D,GAAO,GADP9hH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,KAE1BnD,EAoBT,OApDoBL,EAmCP8lH,GAnCoBl/G,EAmCc,CAAC,CAC9CF,IAAK,SACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAKsT,MAAMO,UAEtB,IAAK,YAAGtG,EAAM,kBACZ,OAAO,KAGT,IAAItQ,EAAOsQ,EAAKxQ,eAAek7C,QAAQh7C,KACnCi1H,EAAYlyH,KAAKquC,WAAWy+E,aAAa,eAAiBqF,GAC9D,OAAO5W,GAAY,EAAG,MAAO,4BAA6B,CAACA,GAAY,EAAG,MAAO,sBAAuBt+G,EAAM,EAAG,CAC/G,MAAS,kBAAoBA,IAC3Bs+G,GAAY,EAAG,MAAO,mCAAoCK,GAAqB,EAAGsW,IAAa,QAhD3B,GAAkB/lH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoDrPomH,EAhC2C,CAiClD,IAKF,SAASE,KACP,OAAO,KCnET,SAAS,GAAkB70H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,ED8D/Q,GAAiCoC,QAAU,CAAC,QAAS,cCzDrD,IAEI,GAAuC,IAAa,SAAS6jH,EAAwB/jF,IALzF,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMoyH,GAEtB/jF,EAAW0iF,eAAe,eALT,KAKuC,WACtD,OAAO,SAKX,GAAwBxiH,QAAU,CAAC,cCjBpB,QACbgC,SAAU,CAAC,2BACX8hH,wBAAyB,CAAC,OAAQ,KCHpC,SAAS,GAAQlzH,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAIxM,IAAI,GAA+C,SAAUusH,IAhB7D,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiBpb,CAAU2mH,EAAiCrG,GAE3C,IArBoB9/G,EAAa4G,EAAYC,EAqBzCoU,EAAS,GAAakrG,GAE1B,SAASA,IAGP,OAFA,GAAgBtyH,KAAMsyH,GAEflrG,EAAO7H,MAAMvf,KAAM0D,WA2B5B,OArDoByI,EA6BPmmH,GA7BoBv/G,EA6Ba,CAAC,CAC7CF,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnBwK,EAAMijH,EAAYjjH,IAClB2T,EAAWsvG,EAAYtvG,SAEvBoxG,EADavyH,KAAK2P,QAAQ0+B,WACGs+E,cAAc,aAAc,CAC3DkD,SAAU,aACVriH,IAAKA,EACL2T,SAAUA,IAEZ,OAAOo6F,GAAY,EAAG,KAAM,aAAc,CAACgX,GAAmBA,EAAgBz3G,KAAI,SAAU03G,GAC1F,OAAO5W,GAAqB,EAAG4W,EAAgB,CAC7C,IAAOhlH,EACP,SAAY2T,OAEZA,EAAW,GAAI,EAAG,CACpB,kBAAmB3T,EAAI7E,GACvB,cAAe6E,EAAI7E,UAhDmD,GAAkBwD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqDrPymH,EAnC0C,CAoCjD,IC9DF,SAAS,GAAkBh1H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAM/Q,IAAI,GAAmC,IAAa,SAASsmH,EAAoBpkF,IAJjF,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAK9G,CAAgB5L,KAAMyyH,GAEtBpkF,EAAW0iF,eAAe,QAAQ,SAAUz7G,GAG1C,GAAiB,sBAFFA,EAAKu6G,SAGlB,OAAO,SAMb,GAAoBthH,QAAU,CAAC,cCpBhB,QACbgC,SAAU,CAAC,uBACXmiH,oBAAqB,CAAC,OAAQ,KCDhC,SAAS,GAAkBp1H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAK7S,IAAI+/G,GAA8B,CAAC,CACjCj3F,MAAO,OACP19B,MAAO,QACN,CACD09B,MAAO,OACP19B,MAAO,QACN,CACD09B,MAAO,aACP19B,MAAO,cACN,CACD09B,MAAO,SACP19B,MAAO,UACN,CACD09B,MAAO,SACP19B,MAAO,UACN,CACD09B,MAAO,QACP19B,MAAO,UA8BL,GAAmC,WACrC,SAAS40H,EAAoB/qG,IAvD/B,SAAyB3b,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAwD5G,CAAgB5L,KAAM4yH,GAEtB5yH,KAAKu4C,UAAY1wB,EACjB,IAAI1H,EAAS0H,EAASjZ,IAAI,+BAAiC,GAC3D5O,KAAKo9B,QAAU,CACbvvB,QAAS8kH,GACT/pG,SAAU,CACRiqG,OAAQ,SAIR1yG,EAAOtS,UACT7N,KAAKo9B,QAAQvvB,QAAUsS,EAAOtS,SAGhC,IAAIilH,EAAiB9yH,KAAK+yH,qBAE1B,iBAAO/yH,KAAKo9B,QAAQxU,SAAUkqG,EAAgB3yG,EAAOyI,UArEzD,IAAsBzc,EAAa4G,EAAYC,EA2I7C,OA3IoB7G,EAgFPymH,GAhFoB7/G,EAgFC,CAAC,CACjCF,IAAK,aACL7U,MAAO,SAAoBg1H,GACzB,IAAIpqG,EAAW5oB,KAAKo9B,QAAQxU,SACxBqqG,EAAoBrqG,EAASoqG,IAAkBpqG,EAASiqG,OAC5D,OAAO7yH,KAAKkzH,oBAAoBD,IAAsBjzH,KAAKooC,SAAS,KASrE,CACDv1B,IAAK,WACL7U,MAAO,SAAkBm1H,GACvB,IAAIC,EAAWpzH,KAAKkzH,oBAAoBC,GAExC,OAAOC,EAAWA,EAAS13F,MAAQy3F,IAQpC,CACDtgH,IAAK,SACL7U,MAAO,WACL,OAAOgC,KAAKo9B,QAAQvvB,UAErB,CACDgF,IAAK,qBACL7U,MAAO,WACL,IAAI4qB,EAAW,GACXf,EAAW7nB,KAAKu4C,UAChB86E,EAAiBxrG,EAASjZ,IAAI,yCAC9B0kH,EAAkBzrG,EAASjZ,IAAI,0CAUnC,OARIykH,IACFzqG,EAAS2qG,UAAYF,GAGnBC,IACF1qG,EAAS4qG,WAAaF,GAGjB1qG,IAER,CACD/V,IAAK,sBACL7U,MAAO,SAA6BA,GAClC,OAAO,eAAKgC,KAAKooC,UAAU,SAAUqrF,GACnC,OAAOz1H,IAAUy1H,EAASz1H,cAtI4C,GAAkBmO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2IrP+mH,EAzF8B,GA6FvC,GAAoBrkH,QAAU,CAAC,YClJhB,QACbgC,SAAU,CAAC,uBACXmjH,oBAAqB,CAAC,OAAQ,KCHhC,SAAS,GAAQv0H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAIxM,IAAI,GAA0C,SAAUusH,IAhBxD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiBpb,CAAUgoH,EAA4B1H,GAEtC,IArBoB9/G,EAAa4G,EAAYC,EAqBzCoU,EAAS,GAAausG,GAE1B,SAASA,IAGP,OAFA,GAAgB3zH,KAAM2zH,GAEfvsG,EAAO7H,MAAMvf,KAAM0D,WAsB5B,OAhDoByI,EA6BPwnH,GA7BoB5gH,EA6BQ,CAAC,CACxCF,IAAK,SACL7U,MAAO,SAAgBsX,GACrB,IAAI5I,EAAO4I,EAAK5I,KACZC,EAAO2I,EAAK3I,KACZ0hC,EAAaruC,KAAK2P,QAAQ0+B,WAC9B,OAAOktE,GAAY,EAAG,QAAS,KAAM7uG,EAAKoO,KAAI,SAAUtN,EAAK2T,GAC3D,IAAIyyG,EAAevlF,EAAWy+E,aAAa,MAAO,CAChD+G,QAAS,SAEX,OAAOD,GAAgBhY,GAAqB,EAAGgY,EAAc,CAC3D,IAAOpmH,EACP,SAAY2T,EACZ,KAAQxU,GACPa,EAAI7E,OACL,QA5CoE,GAAkBwD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAgDrP8nH,EA9BqC,CA+B5C,ICzDF,SAAS,GAAQx0H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAAyC,SAAUusH,IAlBvD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAUmoH,EAA2B7H,GAErC,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAa0sG,GAE1B,SAASA,EAA0B9wH,EAAO2M,GACxC,IAAInD,EAMJ,OApCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAM8zH,GAGtBlF,GAAM,GADNpiH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IACI,IAC9BnD,EA4CT,OA5EoBL,EAmCP2nH,GAnCoB/gH,EAmCO,CAAC,CACvCF,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAETywH,EAAczwH,KAAKgD,MACnBwK,EAAMijH,EAAYjjH,IAClB2T,EAAWsvG,EAAYtvG,SACvBxU,EAAO8jH,EAAY9jH,KACnBI,EAAQS,EAAIT,MAChB,OAAOwuG,GAAY,EAAG,KAAM,KAAM,CAACv7G,KAAK2vH,UAAU,CAChDlzH,KAAM,OACNkT,QAAS,CACPkgH,SAAU,oBACVriH,IAAKA,EACL2T,SAAUA,KAEVpU,EAAM+N,KAAI,SAAUpN,EAAM4T,GAC5B,OAAOxU,EAAOyiH,SAAS,CACrB9yH,KAAM,OACNkT,QAAS,CACPkgH,SAAU,OACVniH,KAAMA,EACNyT,SAAUA,EACVG,SAAUA,GAEZzO,IAAKnF,EAAK/E,GACV6E,IAAKA,EACLC,IAAKd,EAAK2U,QAEVthB,KAAK2vH,UAAU,CACjBlzH,KAAM,OACNkT,QAAS,CACPkgH,SAAU,mBACVriH,IAAKA,EACL2T,SAAUA,MAET,QAxEmE,GAAkBhV,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4ErPioH,EAxDoC,CAyD3C,ICrFF,SAAS,GAAQ30H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAA0C,SAAUusH,IAlBxD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAUooH,EAA4B9H,GAEtC,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAa2sG,GAE1B,SAASA,IAGP,OAFA,GAAgB/zH,KAAM+zH,GAEf3sG,EAAO7H,MAAMvf,KAAM0D,WA+B5B,OA3DoByI,EA+BP4nH,GA/BoBhhH,EA+BQ,CAAC,CACxCF,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnB0K,EAAO+iH,EAAY/iH,KACnBF,EAAMijH,EAAYjjH,IAClBC,EAAMgjH,EAAYhjH,IAEtB,OAAI,YAAGC,EAAM,kBACJkuG,GAAqB,EAAG,GAAM,CACnC,UAAa,aACb,UAAaluG,EAAK/E,GAClB,cAAe6E,EAAI7E,GACnB,cAAe8E,EAAI9E,GACnBZ,SAAU2F,EAAK3Q,eAAeu0C,OAGzBsqE,GAAqB,EAAG,GAAM,CACnC,UAAa,cACb,UAAaluG,EAAK/E,GAClB,cAAe6E,EAAI7E,GACnB,cAAe8E,EAAI9E,GACnBZ,SAAU2F,EAAK3Q,eAAeu0C,YArDsC,GAAkBnlC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2DrPkoH,EAvCqC,CAwC5C,ICpEF,SAAS,GAAkBz2H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAQ/Q,IAAI,GAAqB,IAAa,SAASyb,EAAMymB,IANrD,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAO9G,CAAgB5L,KAAM4nB,GAEtBymB,EAAW0iF,eAAe,cAAc,WACtC,OAAO,MAET1iF,EAAW0iF,eAAe,OAAO,SAAUz7G,GAGzC,GAAgB,SAFFA,EAAKu+G,QAGjB,OAAO,MAGXxlF,EAAW0iF,eAAe,QAAQ,SAAUv7G,GAG1C,GAAiB,SAFFA,EAAMq6G,SAGnB,OAAO,SAMb,GAAMthH,QAAU,CAAC,cC/BF,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,iBACXyjH,cAAe,CAAC,OAAQ,KCJfC,GAAe,CAAC,CACzBv4F,MAAO,SACP19B,MAAO,CACLk2H,UAAW,SACXC,iBAAa31H,GAEf41H,YAAa,wFACZ,CACD14F,MAAO,QACP19B,MAAO,CACLk2H,UAAW,QACXC,iBAAa31H,GAEf41H,YAAa,6DACZ,CACD14F,MAAO,WACP19B,MAAO,CACLk2H,UAAW,WACXC,iBAAa31H,GAEf41H,YAAa,uEACZ,CACD14F,MAAO,MACP19B,MAAO,CACLk2H,UAAW,MACXC,iBAAa31H,GAEf41H,YAAa,iDACZ,CACD14F,MAAO,UACP19B,MAAO,CACLk2H,UAAW,UACXC,iBAAa31H,GAEf41H,YAAa,6CACZ,CACD14F,MAAO,gBACP19B,MAAO,CACLk2H,UAAW,UACXC,YAAa,OAEfC,YAAa,2EACZ,CACD14F,MAAO,gBACP19B,MAAO,CACLk2H,UAAW,UACXC,YAAa,OAEfC,YAAa,uEACZ,CACD14F,MAAO,gBACP19B,MAAO,CACLk2H,UAAW,UACXC,YAAa,OAEfC,YAAa,wEACZ,CACD14F,MAAO,kBACP19B,MAAO,CACLk2H,UAAW,UACXC,YAAa,SAEfC,YAAa,2EACZ,CACD14F,MAAO,aACP19B,MAAO,CACLk2H,UAAW,aACXC,iBAAa31H,GAEf41H,YAAa,2DACZ,CACD14F,MAAO,eACP19B,MAAO,CACLk2H,UAAW,eACXC,iBAAa31H,GAEf41H,YAAa,kFC7Ef,SAAS,GAAQj1H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAOxM,IAAI,GAAyB,SAAUusH,IAnBvC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUumH,EAAWjG,GAErB,IAxBoB9/G,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAa8qG,GAE1B,SAASA,EAAUlvH,EAAO2M,GACxB,IAAInD,EAMJ,OArCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAMkyH,GAGtB5D,GAAO,GADP9hH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,KAE1BnD,EA2BT,OA5DoBL,EAoCP+lH,GApCoBn/G,EAoCT,CAAC,CACvBF,IAAK,UACL7U,MAAO,WACL,OAAOgC,KAAKsT,MAAMO,YAEnB,CACDhB,IAAK,SACL7U,MAAO,WACL,IACIjB,EADOiD,KAAK6T,UACU9W,eACtBo3H,EAAcp3H,EAAeo3H,YAC7BD,EAAYn3H,EAAem3H,UAC3BG,EAAiB,eAAKJ,IAAc,SAAU33D,GAChD,OAiBkBn5D,EAjBMm5D,EAAMt+D,MAiBToF,EAjBgB,CACnC+wH,YAAaA,EACbD,UAAWA,GAgBZ/wH,EAAE+wH,YAAc9wH,EAAE8wH,WAAa/wH,EAAEgxH,cAAgB/wH,EAAE+wH,YAD5D,IAA0BhxH,EAAGC,KAZvB,OAAOm4G,GAAY,EAAG,MAAO,oBAAqB,CAACA,GAAY,EAAG,QAAS,YAAaS,GAAgB,eAAgB,GAAIT,GAAY,EAAG,OAAQ,mBAAoB8Y,EAAe34F,MAAO,IAAK,EAAG,CACnM,MAAS24F,EAAeD,mBAvD8C,GAAkBjoH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4DrPqmH,EAvCoB,CAwC3B,ICpEa,SAASoC,GAAkBjmF,GACxCA,EAAW0iF,eAAe,cAAc,WACtC,OAAO,MDqEX,GAAUxiH,QAAU,CAAC,SClErB+lH,GAAkB/lH,QAAU,CAAC,cCLd,QACbgC,SAAU,CAAC,qBACXgkH,kBAAmB,CAAC,OAAQD,KCH9B,SAAS,GAAQn1H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAAgC,SAAUusH,IAlB9C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAU6oH,EAAkBvI,GAE5B,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAaotG,GAE1B,SAASA,EAAiBxxH,EAAO2M,GAC/B,IAAInD,EAViBrN,EAAK0T,EAAK7U,GApBnC,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAMw0H,GAEtBhoH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAdZxQ,EAgBL,GAAuBqN,GAhBRxO,EAgB2B,WACxDwO,EAAMyB,UAAUS,KAAK,aAjBGmE,EAgBqB,aAhBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAoBvL,IAAI6pB,EAAWlY,EAAQkY,SAEvB,OADArb,EAAMyB,UAAY4Z,EAASjZ,IAAI,YACxBpC,EAgBT,OAtDoBL,EAyCPqoH,GAzCoBzhH,EAyCF,CAAC,CAC9BF,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAEb,OAAOu7G,GAAY,EAAG,MAAO,WAAYA,GAAY,EAAG,SAAU,kBAAmBS,GAAgB,YAAa,EAAG,CACnH,QAAWh8G,KAAKy0H,UACd,EAAG,KAAM,MAAM,SAAU52H,GAC3B,OAAOiP,EAAOjP,KAAOA,UAjDiD,GAAkBsO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAsDrP2oH,EAlC2B,CAmClC,IC7DF,SAAS,GAAkBl3H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,IAAI,GAAuB,WACzB,SAAS8hH,EAAQrmF,EAAYtgC,EAAU8Z,EAAUvU,GAC/C,IAAI9G,EAAQxM,MAVhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAY5G,CAAgB5L,KAAM00H,GAEtB10H,KAAKu4C,UAAY1wB,EACjB7nB,KAAKqnB,OAAS/T,EACd+6B,EAAW0iF,eAAe,gBAAgB,WACxC,GAAIvkH,EAAMmoH,aACR,OAAO,MAGX5mH,EAASK,GAAG,WAAW,WACrB,IAAIhO,EAASynB,EAASjZ,IAAI,WAAW,GAEjCyW,EAAc,GADP/R,EAAMO,WAGjB,GAAKwR,EAAL,CAKA,IAAI0zB,EAAO34C,EAAO44C,QAAQ3zB,GAC1BjlB,EAAO64C,KAAKF,OA5BlB,IAAsB5sC,EAAa4G,EAAYC,EAgD7C,OAhDoB7G,EAgCPuoH,GAhCoB3hH,EAgCX,CAAC,CACrBF,IAAK,aACL7U,MAAO,WACL,IAAIoC,EAASJ,KAAKu4C,UAAU3pC,IAAI,WAAW,GAE3C,IAAKxO,EACH,OAAO,EAGT,IAEIilB,EAAc,GAFPrlB,KAAKqnB,OAAOxT,WAGvB,QAASzT,EAAO44C,QAAQ3zB,QA5CgD,GAAkBlZ,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAgDrP6oH,EA5CkB,GAkD3B,SAAS,GAAennH,GACtB,IAAIxQ,EAAiBwQ,EAAKxQ,eAE1B,GAAKA,EAML,OAFeA,EAAek7C,QACHA,QAV7B,GAAQ1pC,QAAU,CAAC,aAAc,WAAY,WAAY,SCvD1C,QACbgC,SAAU,CAAC,WACXqkH,QAAS,CAAC,OAAQ,KCFL,SAASC,KACtB,OAAOtZ,GAAY,GAAI,MAAO,KAAM,CAACA,GAAY,EAAG,OAAQ,KAAM,KAAM,EAAG,CACzE,KAAQ,UACR,EAAK,wpBACHA,GAAY,EAAG,OAAQ,KAAM,KAAM,EAAG,CACxC,KAAQ,UACR,EAAK,oEACF,EAAG,CACN,MAAS,6BACT,QAAW,iBACX,MAAS,KACT,OAAU,KACV,MAAS,0BCbb,SAAS,GAAQp8G,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAOxM,IAAI,GAAsC,SAAUusH,IAnBpD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUmpH,EAAwB7I,GAElC,IAxBoB9/G,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAa0tG,GAE1B,SAASA,EAAuB9xH,EAAO2M,GACrC,IAAInD,EAXiBrN,EAAK0T,EAAK7U,GApBnC,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAM80H,GAEtBtoH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAfZxQ,EAiBL,GAAuBqN,GAjBRxO,EAiB2B,WACxDwO,EAAMyB,UAAUS,KAAK,oBAlBGmE,EAiBqB,aAjBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAqBvL,IAAI6pB,EAAWlY,EAAQkY,SAEvB,OADArb,EAAMyB,UAAY4Z,EAASjZ,IAAI,YACxBpC,EAiBT,OAxDoBL,EA0CP2oH,GA1CoB/hH,EA0CI,CAAC,CACpCF,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAEb,OAAOu7G,GAAY,EAAG,MAAO,aAAcA,GAAY,EAAG,MAAO,mBAAoBK,GAAqB,EAAGiZ,IAAO,EAAG,CACrH,MAAS,qBACT,QAAW70H,KAAKy0H,SACf,MAAM,SAAU52H,GACjB,OAAOiP,EAAOjP,KAAOA,KACnB,QApDoE,GAAkBsO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAwDrPipH,EAnCiC,CAoCxC,ICjEF,SAAS,GAAQ31H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAKxM,IAAI,GAAyC,SAAUusH,IAjBvD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAkBpb,CAAUopH,EAA2B9I,GAErC,IAtBoB9/G,EAAa4G,EAAYC,EAsBzCoU,EAAS,GAAa2tG,GAE1B,SAASA,EAA0B/xH,GACjC,IAAIwJ,EAUJ,OAvCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA+B5G,CAAgB5L,KAAM+0H,IAEtBvoH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,IACpBq9C,MAAQ,CACZ13B,MAAM,GAERnc,EAAMioH,QAAUjoH,EAAMioH,QAAQpxG,KAAK,GAAuB7W,IAC1DA,EAAMwoH,OAASxoH,EAAMwoH,OAAO3xG,KAAK,GAAuB7W,IACjDA,EAiDT,OApFoBL,EAsCP4oH,GAtCoBhiH,EAsCO,CAAC,CACvCF,IAAK,UACL7U,MAAO,WACLgC,KAAK6rH,SAAS,CACZljG,MAAM,MAGT,CACD9V,IAAK,SACL7U,MAAO,WACLgC,KAAK6rH,SAAS,CACZljG,MAAM,MAGT,CACD9V,IAAK,qBACL7U,MAAO,YACUgC,KAAKiO,UAAYjO,KAAK2P,QAAQkY,SAASjZ,IAAI,aACjDR,GAAG,iBAAkBpO,KAAKg1H,UAEpC,CACDniH,IAAK,uBACL7U,MAAO,WACLgC,KAAKiO,UAAU6f,IAAI,iBAAkB9tB,KAAKg1H,UAE3C,CACDniH,IAAK,SACL7U,MAAO,WAEL,OADWgC,KAAKqgD,MAAM13B,MACP4yF,GAAY,EAAG,MAAO,qBAAsBA,GAAY,EAAG,MAAO,6BAA8B,CAACA,GAAY,EAAG,IAAK,OAAQK,GAAqB,EAAGiZ,IAAO,EAAG,CAC5K,KAAQ,kBACR,OAAU,SACV,IAAO,aACLtZ,GAAY,EAAG,OAAQ,KAAM,CAACS,GAAgB,iEAAkET,GAAY,EAAG,IAAK,KAAMS,GAAgB,WAAY,EAAG,CAC3K,KAAQ,iBACR,OAAU,WACRA,GAAgB,MAAO,IAAK,EAAG,CACjC,QAAW,SAAiBv+G,GAC1B,OAAOA,EAAE2T,qBAET,EAAG,CACL,QAAWpR,KAAKy0H,eA/EsD,GAAkBtoH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoFrPkpH,EAjEoC,CAkE3C,IC7FF,SAAS,GAAkBz3H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAO/Q,IAAI,GAAyB,IAAa,SAAS8oH,EAAU5mF,EAAYtgC,IALzE,SAAyB7B,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMi1H,GAEtB5mF,EAAW0iF,eAAe,gBAAgB,WACxC,OAAO,MAET1iF,EAAW0iF,eAAe,gBAAgB,WACxC,OAAO,SAKX,GAAUxiH,QAAU,CAAC,aAAc,YCpBpB,QACbgC,SAAU,CAAC,aACX2kH,UAAW,CAAC,OAAQ,KCHtB,SAAS,GAAQ/1H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,IAAI,GAAY,CAAC,UAAW,qBAE5B,SAAS,GAAmBD,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAO,GAAkBA,GAR1C,CAAmBA,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjF,CAAiBh7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO,GAAkBA,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAO,GAAkB3Y,EAAGyY,GAJxT,CAA4BjZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8E,GAUlI,SAAS,GAAkB1M,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAEhL,SAAS,GAAyB7P,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxM,CAA8BuL,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAIne,SAAS,GAAgB4O,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,KAAoX,OAAtT,GAA9B,oBAAZ2T,SAA2BA,QAAQ3X,IAAc2X,QAAQ3X,IAAqB,SAActR,EAAQkyB,EAAUyqD,GAAY,IAAI7X,EAAO,GAAe9kE,EAAQkyB,GAAW,GAAK4yC,EAAL,CAAmB,IAAI0V,EAAOh5E,OAAO86C,yBAAyBwoB,EAAM5yC,GAAW,OAAIsoD,EAAKlpE,IAAckpE,EAAKlpE,IAAI1N,KAAKwC,UAAUrE,OAAS,EAAI/B,EAAS28E,GAAoBnC,EAAK95E,SAAwBuhB,MAAMvf,KAAM0D,WAErZ,SAAS,GAAeX,EAAQysB,GAAY,MAAQ1wB,OAAOU,UAAUiwB,eAAevuB,KAAK6B,EAAQysB,IAA8D,QAAjDzsB,EAAS,GAAgBA,MAAuC,OAAOA,EAIrL,SAAS,GAAgBrD,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAwBxM,IAAI,GAAsB,SAAUy1H,IApCpC,SAAmBzpH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAqCpb,CAAUgvC,EAAQw6E,GAElB,IA7CoBhpH,EAAa4G,EAAYC,EA6CzCoU,EAAS,GAAauzB,GAE1B,SAASA,IACP,IAAInuC,EAEAqB,EAAUnK,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAgB1D,KAAM26C,GAEtB,IAAI1hC,EAAY0hC,EAAO7M,mBAQvB,OANAthC,EAAQ4a,EAAOlmB,KAAKlB,KAAM,iBAAO6N,EAAS,CACxC6R,SAAU,CACRzG,UAAWA,OAGTwS,WAAaxS,EACZzM,EAwLT,OAtPoBL,EAyEPwuC,EAzEgC3nC,EA0OzC,CAAC,CACHH,IAAK,cACL7U,MAAO,WACL,MAAO,CAACo3H,GAAmB,GAAY,GAAiB,GAAyB,GAA+B,GAA2B,GAAqB,GAAiB,MAElL,CACDviH,IAAK,mBACL7U,MAAO,WACL,OAAO,iBAAO,wDAlPe+U,EAyEZ,CAAC,CACpBF,IAAK,OACL7U,MAAO,SAAcmwH,GACnB,IAAIjjH,EAAOlL,KACX,OAAO,IAAI0sB,SAAQ,SAAU0uB,EAAS7+B,GACpC,IAAItE,EAGJ,IASE,OARI/M,EAAKmqH,WAEPnqH,EAAK3K,QAIP2K,EAAKmqH,UAAYlH,ECpGpB,SAAwBmH,EAAenH,EAAUn2G,GACtD,IAIIgU,EAJAmwB,EAAWm5E,EAAc1mH,IAAI,iBAC7Bb,EAAWunH,EAAc1mH,IAAI,YAC7B0E,EAAQgiH,EAAc1mH,IAAI,SAC1B2mH,EAAcD,EAAc1mH,IAAI,YAAY,GAE5Cue,EAAW,GA2Bfpf,EAASW,KAAK,sBAAuB,CACnCy/G,SAAUA,IAGZ,KA7BA,SAAgBA,GAkBD,IAAIL,GAjBH,CACZnrH,OAAQ,SAAgBlG,EAAM2D,EAAQ0U,EAAQnB,GAC5C,OAAOwoC,EAASx5C,OAAOlG,EAAM2D,EAAQ0U,EAAQnB,IAE/C49E,MAAO,SAAe/0F,GACpB,OAAO2/C,EAASv7C,IAAIpE,IAEtBA,QAAS,SAAiB4/C,EAAUo5E,EAAanwG,GAC/C,OAAO82B,EAASv7C,IAAIw7C,EAAUo5E,EAAanwG,IAE7C2G,MAAO,SAAeijB,EAASt/B,GAC7Bwd,EAASrsB,KAAK,CACZmuC,QAASA,EACTt/B,QAASA,MAI2B,CACxC8lH,qBAAsBF,IAGjBrH,eAAeC,GAQtB9xE,CAAO8xE,GACP,MAAO1wH,GACPuuB,EAAQvuB,EAGVsQ,EAASW,KAAK,yBAA0B,CACtCsd,MAAOA,EACPmB,SAAUA,IAEZpf,EAASW,KAAK,mBAAoB,CAChCxH,SAAU,CAACoM,EAAMO,aAEnBmE,EAAKgU,EAAOmB,GDoDGuoG,CAAexqH,EAAMijH,GAAU,SAAUl2G,EAAKkV,GAC/ClV,GACFA,EAAIkV,SAAWA,GAAY,GAC3B5Q,EAAOtE,IAEPmjC,EAAQ,CACNjuB,SAAUA,GAAY,QAI5B,MAAO1vB,GACPwa,EAAMxa,EAIJwa,GACFA,EAAIkV,SAAWlV,EAAIkV,UAAY,GAC/B5Q,EAAOtE,IAEPmjC,EAAQ,CACNjuB,SAAU,UAajB,CACDta,IAAK,QACL7U,MAAO,SAAe6P,GACpB,IAAI60B,EAAU70B,EAAQ60B,QAClBiZ,EAAoB9tC,EAAQ8tC,kBAC5Bx7B,EAAS,GAAyBtS,EAAS,IAE3CguC,EAAcnZ,GAAW1iC,KAAKy7C,aAC9Bk6E,EAAeh6E,GAAqB,GACpCi6E,EAAgB,CAAC,CACnBN,cAAe,CAAC,QAASt1H,QAG3B,MAAO,CACL0iC,QAFe,CAAC,IAAiBxpB,OAAO,GAAmB2iC,GAAc,GAAmB85E,GAAeC,GAG3Gz1G,OAAQA,KAcX,CACDtN,IAAK,KACL7U,MAAO,SAAYwR,EAAO0K,EAAU0S,EAAUtvB,GAC5C,OAAO0C,KAAK4O,IAAI,YAAYR,GAAGoB,EAAO0K,EAAU0S,EAAUtvB,KAS3D,CACDuV,IAAK,MACL7U,MAAO,SAAawR,EAAOod,GACzB5sB,KAAK4O,IAAI,YAAYkf,IAAIte,EAAOod,KAWjC,CACD/Z,IAAK,QACL7U,MAAO,SAAevB,EAAM+S,GAC1B,OAAOxP,KAAK4O,IAAI,YAAYF,KAAKjS,EAAM+S,KAQxC,CACDqD,IAAK,WACL7U,MAAO,SAAkBqC,GACvB,IAAKA,EACH,MAAM,IAAIN,MAAM,uBAKlBC,KAAKu8C,SACL,IAAItjC,EAAYjZ,KAAKyrB,WACrBprB,EAAW1C,YAAYsb,GAEvBjZ,KAAKi8C,MAAM,SAAU,MAMtB,CACDppC,IAAK,SACL7U,MAAO,WACL,IAAIib,EAAYjZ,KAAKyrB,WACJxS,EAAU5Y,aAM3BL,KAAKi8C,MAAM,SAAU,IAErB,iBAAUhjC,MAEX,CACDpG,IAAK,UACL7U,MAAO,WACL,GAAK,GAAgB28C,EAAOn7C,WAAY,UAAWQ,MAAMkB,KAAKlB,MAE9DA,KAAKu8C,WAEN,CACD1pC,IAAK,aACL7U,MAAO,WACL,OAAO28C,EAAOk7E,mBAxO0D,GAAkB1pH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAsPrP8uC,EA5MiB,CA6MxB,IE/QF,SAAS,GAAQx7C,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAOxM,IAAI,GAAoC,SAAUusH,IAnBlD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUmqH,EAAsB7J,GAEhC,IAxBoB9/G,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAa0uG,GAE1B,SAASA,EAAqB9yH,EAAO2M,GACnC,IAAInD,EAXiBrN,EAAK0T,EAAK7U,EAyB/B,OA7CJ,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAM81H,GAEtBtpH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAfZxQ,EAiBL,GAAuBqN,GAjBRxO,EAiB+B,SAAUP,GACtEA,EAAE2T,kBAEF5E,EAAMgH,QAAQ/V,EAAEH,OAAOy4H,QAAQz0G,YApBPzO,EAiBqB,iBAjBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAuBvLswH,GAAO,GAAuB9hH,IAC9BA,EAAMgH,QAAUhH,EAAMgH,QAAQ6P,KAAK,GAAuB7W,IACnDA,EA6DT,OAtGoBL,EA4CP2pH,GA5CoB/iH,EA4CE,CAAC,CAClCF,IAAK,qBACL7U,MAAO,WACLgC,KAAKiO,UAAYjO,KAAK2P,QAAQkY,SAASjZ,IAAI,cAE5C,CACDiE,IAAK,UACL7U,MAAO,SAAiBsjB,GACtBthB,KAAKiO,UAAUS,KAAK,UAAW,CAC7B4S,SAAUA,MAGb,CACDzO,IAAK,SACL7U,MAAO,WACL,IAAI2O,EAAO3M,KAAKgD,MAAM2J,KAClBI,EAAQ,CAACwuG,GAAY,EAAG,KAAM,eAAgBA,GAAY,EAAG,OAAQ,4BAA6B,KAAM,EAAG,CAC7G,MAAS,aACP,IAGAx+G,EADsBiD,KAAKsT,MAAMO,UACI9W,eAEpCA,EAAemX,OAAUnX,EAAemX,MAAM7U,QACjD0N,EAAMjM,KAAKy6G,GAAY,EAAG,KAAM,aAAcS,GAAgB,KAAM,IAGtE,IAAK,IAAIp9G,EAAI,EAAGA,EAAI+N,EAAKtN,OAAS,EAAGT,IAAK,CACxC,IAAImC,EAAY,WAEZi1H,EAAkBrpH,EAAK/N,IAAM+N,EAAK/N,GAAG7B,eAErCyiB,EAAc,GAEdw2G,GACEA,EAAgBp5H,YAAY,qBAC9BmE,GAAa,cACbye,EAAc,KAGZw2G,EAAgBp5H,YAAY,sBAC9BmE,GAAa,iBAGfA,GAAa,cAGfgM,EAAMjM,KAAKy6G,GAAY,EAAG,KAAMx6G,EAAWye,EAAa,EAAG,CACzD,iBAAkB5gB,KAItB,OAAO28G,GAAY,EAAG,QAAS,sBAAuBA,GAAY,EAAG,KAAM,KAAMxuG,EAAO,GAAI,EAAG,CAC7F,QAAW/M,KAAKi2H,mBAjGsD,GAAkB9pH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAsGrPiqH,EAjF+B,CAkFtC,IC/GF,SAAS,GAAkBx4H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EDgH/Q,GAAqBoC,QAAU,CAAC,SC1GhC,IAAI,GAAuB,IAAa,SAAS2nH,EAAQ7nF,EAAYl7B,EAAepF,EAAUmB,IAJ9F,SAAyBhD,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAK9G,CAAgB5L,KAAMk2H,GAEtB7nF,EAAW0iF,eAAe,cAAc,WACtC,OAAO,MAEThjH,EAASK,GAAG,WAAW,SAAU3Q,EAAGkS,GAClC,IAAIgE,EAAOR,EAAcqqB,QAAQ,WAC7Blc,EAAW3R,EAAQ2R,SAEnB3N,EAAK5G,MAAMuU,GACbpS,EAAUZ,OAAOqF,EAAK5G,MAAMuU,IAE5BpS,EAAUZ,OAAOqF,EAAK5G,MAAM,UAMlC,GAAQwB,QAAU,CAAC,aAAc,gBAAiB,WAAY,a,cCzB/C,IACbiC,YAAa,CAAC,MACdD,SAAU,CAAC,WACXiD,QAAS,CAAC,OAAQ,K,oDCLpB,SAAS,GAAQrU,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAkC3M,IAAI,GAA+B,SAAU8sH,IAhD7C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiDpb,CAAUwqH,EAAiBlK,GAE3B,IArDoB9/G,EAAa4G,EAAYC,EAqDzCoU,EAAS,GAAa+uG,GAE1B,SAASA,EAAgBnzH,EAAO2M,GAC9B,IAAInD,EA2MF4pH,EAzGF,OA9JJ,SAAyBlqH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA8D5G,CAAgB5L,KAAMm2H,GAItB,GAAgB,GAFhB3pH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,WAAW,SAAUH,GAClE,IAAI6mH,EAAa7pH,EAAMxJ,MAAMszH,QAE7B9pH,EAAMq/G,SAAS,CACbtrG,UAAU,IAGc,mBAAf81G,GACTA,EAAW7mH,MAIf,GAAgB,GAAuBhD,GAAQ,UAAU,SAAUgD,GACjE,IAAI+mH,EAAY/pH,EAAMxJ,MAAMwzH,OAE5BhqH,EAAMq/G,SAAS,CACbtrG,UAAU,IAGa,mBAAdg2G,GACTA,EAAU/mH,MAId,GAAgB,GAAuBhD,GAAQ,aAAa,SAAUgD,GAEpE,GAAoB,KAAhBA,EAAM43D,MAAc,CAItB,GAFA53D,EAAM4S,iBAEF5V,EAAMxJ,MAAMyzH,iBA8KxB,SAAejnH,GACb,OAAOA,EAAM6C,SAAW7C,EAAM8C,QA/KW,CAAM9C,GACvC,OAGF,GAAIhD,EAAMxJ,MAAM0zH,WACd,OAGFlnH,EAAM4B,kBA0Id,WAIE,IACIyI,EADY,eACM0E,WAAW,GAEjC,IAAK1E,EACH,OAGF,IAAI88G,EAAW98G,EAAM+8G,aACjBC,EApBGp0H,SAAS8kC,cAAc,MAqB9BovF,EAASG,iBACTH,EAASI,WAAWF,GACpBF,EAASt5G,cAAcw5G,GACvBF,EAASp5G,YAAYs5G,GACrB,aAAWF,GA1JLK,GAEAxqH,EAAMyqH,QAAQznH,OAIlB,GAAgB,GAAuBhD,GAAQ,WAAW,SAAUgD,GAClE,IAAI0nH,EAAa1qH,EAAMxJ,MAAMi0H,QAEH,mBAAfC,GAKXA,EADWC,GAAU3qH,EAAM3O,UAI7B,GAAgB,GAAuB2O,GAAQ,cAAc,SAAUgD,GACjEhD,EAAM4qH,mBACR5qH,EAAM4qH,kBAAkB5nH,MAI5B,GAAgB,GAAuBhD,GAAQ,WAAW,SAAUgD,GAMlE,GAJIhD,EAAM4qH,mBACR5qH,EAAM4qH,kBAAkB5nH,GAGtBhD,EAAMxJ,MAAM0zH,WAAY,CAC1B,IAAIplF,GAAQ9hC,EAAM2vD,eAAiBxiD,OAAOwiD,eAAel+B,QAAQ,QAEjEx+B,SAAS40H,YAAY,cAAc,EAAO/lF,EAAKpzC,QAAQ,MAAO,MAC9DsR,EAAM4S,qBAIV5V,EAAM6zC,MAAQ,KAyHZ+1E,EAAKz5G,OAAOxK,UAAU4xD,WAErB3kE,QAAQ,SAAW,GACtBg3H,EAAGh3H,QAAQ,YAAc,KAxHvBoN,EAAM4qH,kBAAoB,SAAU5nH,GAClC,IAAI8nH,EAAU9qH,EAAM3O,KAAKohH,UACzBhvF,YAAW,WACT,IAAIqhB,EAAO9kC,EAAM3O,KAAKohH,UAElBqY,IAAYhmF,GACd9kC,EAAMyqH,QAAQznH,KAEf,KAIAhD,EAsET,OAhOoBL,EA6JPgqH,GA7JoBpjH,EA6JH,CAAC,CAC7BF,IAAK,sBACL7U,MAAO,SAA6B0hH,EAAU2L,GAE5C,IAAIxtH,EAAOmC,KAAKnC,KACZgc,EAAQwxG,EAAS9qG,UAAY,aAAS1iB,GAC1CmC,KAAKwgB,SAAW3G,GAAS,CACvBA,MAAOA,EACPy3B,KAAM6lF,GAAUt5H,MAGnB,CACDgV,IAAK,qBACL7U,MAAO,WACL,IAAIwiB,EAAWxgB,KAAKwgB,SAEpB,GAAKA,EAAL,CAMA,IAAI3G,EAAQ2G,EAAS3G,MACjBy3B,EAAO9wB,EAAS8wB,KAChBzzC,EAAOmC,KAAKnC,KACZ05H,EAAUJ,GAAUt5H,GACpB84H,EAAWY,IAAYjmF,EAAO,KAAgBz3B,EAAOy3B,EAAMimF,GAAW19G,EAC1E,aAAShc,EAAM84H,MAEhB,CACD9jH,IAAK,eACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnBjC,EAAY0vH,EAAY1vH,UACxBye,EAAcixG,EAAYjxG,YAE9B,MAAO,CAACze,GAAa,GAAI,oBADb0vH,EAAYzyH,OAC+BwhB,EAAc,qCAAuC,IAAIve,KAAK,OAEtH,CACD4R,IAAK,SACL7U,MAAO,SAAgBgF,GACrB,IAAI8J,EAAS9M,KAEThC,EAAQgF,EAAMhF,MACdwhB,EAAcxc,EAAMwc,YAIxB,OADAxhB,EAAQ,KAAWA,GAAOE,QAAQ,SAAU,SAAW,QAChDq9G,GAAY,EAAG,MAAOv7G,KAAKw3H,eAAgB,KAAM,EAAG,CACzD,gBAAmB,OACnB,WAAc,QACd,mBAAoBh4G,GAAe,GACnC,QAAWxf,KAAKi3H,QAChB,WAAcj3H,KAAKy3H,WACnB,QAAWz3H,KAAK03H,QAChB,QAAW13H,KAAKs2H,QAChB,OAAUt2H,KAAKw2H,OACf,UAAax2H,KAAK23H,UAClB,wBAA2B,CACzB/U,OAAQ5kH,IAET,MAAM,SAAUH,GACjB,OAAOiP,EAAOjP,KAAOA,UA3NiD,GAAkBsO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAgOrPsqH,EA9K0B,CA+KjC,IAQF,SAASgB,GAAUt5H,GAEjB,OAAOA,EAAKs5H,UAAUj5H,QAAQ,MAAO,ICnPvC,SAAS,GAAQiB,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAkC3M,IAAI,GAAiC,SAAU8sH,IAhD/C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiDpb,CAAUisH,EAAmB3L,GAE7B,IArDoB9/G,EAAa4G,EAAYC,EAqDzCoU,EAAS,GAAawwG,GAE1B,SAASA,EAAkB50H,EAAO2M,GAChC,IAAInD,GA5DR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA8D5G,CAAgB5L,KAAM43H,GAItB,GAAgB,GAFhBprH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,WAAW,SAAUH,GAClEhD,EAAMq/G,SAAS,CACbtrG,UAAU,IAGZ,IAAI+1G,EAAU9pH,EAAMxJ,MAAMszH,QAEH,mBAAZA,GACTA,EAAQ9mH,MAIZ,GAAgB,GAAuBhD,GAAQ,UAAU,SAAUgD,GACjEhD,EAAMq/G,SAAS,CACbtrG,UAAU,IAGE/T,EAAM6zC,MAAMw3E,SAGxBrrH,EAAMq/G,SAAS,CACbiM,UAAU,EACVD,SAAS,IAIb,IAAIrB,EAAShqH,EAAMxJ,MAAMwzH,OAEH,mBAAXA,GACTA,EAAOhnH,MAIXhD,EAAM6zC,MAAQ,CACZy3E,UAAU,EACVv3G,UAAU,GAEZ,IACIw3G,EADWpoH,EAAQkY,SACMjZ,IAAI,iBAiCjC,OAhCApC,EAAMwrH,aAAeD,GAAc,SAAU/5H,GAC3C,IAAIujH,EAAW/0G,EAAMxJ,MAAMu+G,SAEH,mBAAbA,GACTA,EAASvjH,GAMX,IAAI+gF,EAAevyE,EAAM6zC,MAAMy3E,SAE/BtrH,EAAMq/G,SAAS,CACbiM,SAAU/4C,IAAiB/gF,GAAgB+gF,OAI/CvyE,EAAMyqH,QAAU,SAAUj5H,GACxB,IAEI65H,GAFWrrH,EAAMxJ,MAAMgiD,UAAY,cAEhBhnD,GAEvBwO,EAAMq/G,SAAS,CACbiM,SAAU95H,EACV65H,QAASA,IAGNA,GACHrrH,EAAMwrH,aAAah6H,IAIhBwO,EAgET,OArMoBL,EAwIPyrH,GAxIoB7kH,EAwID,CAAC,CAC/BF,IAAK,eACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnBjC,EAAY0vH,EAAY1vH,UACxB/C,EAAQyyH,EAAYzyH,MACpBgyH,EAAchwH,KAAKqgD,MACnBy3E,EAAW9H,EAAY8H,SAiB3B,OAdA/2H,GAAa,YAFEivH,EAAYzvG,WAKzBxf,GAAa,aAJDivH,EAAY6H,UAQxB92H,GAAa,YAGV/C,GAAU85H,IACb/2H,GAAa,UAGRA,IAER,CACD8R,IAAK,kBACL7U,MAAO,WACL,IAAIi6H,EAAej4H,KAAKgD,MACpBhF,EAAQi6H,EAAaj6H,MACrBwhB,EAAcy4G,EAAaz4G,YAC3B04G,EAAel4H,KAAKqgD,MACpB9/B,EAAW23G,EAAa33G,SACxBu3G,EAAWI,EAAaJ,SAU5B,MARwB,iBAAbA,IACT95H,EAAQ85H,GAGL95H,IACHA,EAAQuiB,EAAW,GAAKf,GAAe,IAGlCxhB,IAER,CACD6U,IAAK,YACL7U,MAAO,WACL,IAAIgF,EAAQU,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAChF,OAAOk4G,GAAqB,EAAG,GAAiB,CAC9C,UAAa54G,EAAMjC,UACnB,eAAkBiC,EAAMyzH,eACxB,QAAWz2H,KAAKs2H,QAChB,OAAUt2H,KAAKw2H,OACf,QAAWx2H,KAAKi3H,QAChB,MAASj3H,KAAKm4H,yBAhMwD,GAAkBhsH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqMrP+rH,EAnJ4B,CAoJnC,IC9MF,SAAS,GAAQz4H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAE/Q,SAAS,GAAUT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAEtb,SAAS,GAAgBjM,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAM3M,IAAI,GAAsC,SAAU8sH,GAClD,GAAUmM,EAAwBnM,GAElC,IAAI7kG,EAAS,GAAagxG,GAE1B,SAASA,EAAuBp1H,EAAO2M,GACrC,IAAInD,EAiBJ,OAfA,GAAgBxM,KAAMo4H,GAItB,GAAgB,GAFhB5rH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,sBAAsB,SAAU8kC,GAC7E,IAAI9jC,EAAMhB,EAAMxJ,MAAMwK,IAEtBhB,EAAM4G,SAASilH,eAAe7qH,EAAIzQ,eAAgBu0C,MAGpDg9E,GAAO,GAAuB9hH,IACvBA,EAyCT,OAtCA,GAAa4rH,EAAwB,CAAC,CACpCvlH,IAAK,qBACL7U,MAAO,WACL,IAAIwP,EAAMxN,KAAKgD,MAAMwK,IACrBxN,KAAK0/F,cAAc4sB,kBAAkB9+G,EAAI7E,GAAI3I,KAAKssH,qBAEnD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIwP,EAAMxN,KAAKgD,MAAMwK,IACrBxN,KAAK0/F,cAAc8sB,mBAAmBh/G,EAAI7E,GAAI3I,KAAKssH,qBAEpD,CACDz5G,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnBwK,EAAMijH,EAAYjjH,IAClB2T,EAAWsvG,EAAYtvG,SACvByvG,EAAsBpjH,EAAIzQ,eAC1B8zH,EAAcD,EAAoBC,YAClCloH,EAAKioH,EAAoBjoH,GAC7B,OAAOizG,GAAqB,EAAG,GAAM,CACnC,UAAa,aACb,SAAY57G,KAAKs4H,mBACjB,OAAU,GAAGp/G,OAAOiI,EAAU,eAC9B,MAAS0vG,EACT,UAAaloH,EACb,cAAe6E,EAAI7E,GACnBZ,SAAU6zG,GAAqB,EAAG,GAAkB,CAClD,gBAAkB,EAClB,UAAa,oBACb,SAAY57G,KAAKs4H,mBACjB,MAASzH,UAMVuH,EAhEiC,CAiExC,IAGF,GAAuB7pH,QAAU,CAAC,gBAAiB,YAEnD,IAAI,GAAgC,SAAUgqH,GAC5C,GAAUC,EAAkBD,GAE5B,IAAIE,EAAU,GAAaD,GAE3B,SAASA,IAGP,OAFA,GAAgBx4H,KAAMw4H,GAEfC,EAAQl5G,MAAMvf,KAAM0D,WAU7B,OAPA,GAAa80H,EAAkB,CAAC,CAC9B3lH,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,MAAOv7G,KAAKw3H,eAAgBx3H,KAAK04H,YAAa,OAIjEF,EAlB2B,CAmBlC,ICrHa,SAASG,GAA2BtqF,GACjDA,EAAW0iF,eAAe,QAAQ,SAAUz7G,GAC1C,IAAIu6G,EAAWv6G,EAAKu6G,SAEpB,MAAiB,sBAAbA,EACK,GACe,qBAAbA,EACF,QADF,KAKX8I,GAA2BpqH,QAAU,CAAC,cCXvB,SAAS,GAAcqqH,GACpC,OAAO,SAAwBrxH,GAC7B,IAAuB,IAAnBqxH,EAA0B,CAC5B,IAAIC,EAAe,mBAASD,GAAkBA,EAJxB,IAKtB,OAAO,mBAASrxH,EAAIsxH,GAEpB,OAAOtxH,GAIb,GAAcgH,QAAU,CAAC,wBCXV,QACbwpH,cAAe,CAAC,UAAW,KCAd,IACbvnH,YAAa,CAAC,IACdD,SAAU,CAAC,uBACXygH,oBAAqB,CAAC,OAAQ2H,KCHhC,SAAS,GAAQx5H,GAAwT,OAAtO,GAArD,mBAAX2L,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiB5L,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX2L,QAAyB3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAyBA,GAExV,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAmJ,OAAhID,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAqB7G,EAEzM,SAAS,GAA2BjB,EAAMhK,GAAQ,OAAIA,GAA2B,WAAlB,GAAQA,IAAsC,mBAATA,EAA8C,GAAuBgK,GAAtChK,EAEnI,SAAS,GAAgBxB,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAuBwL,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAE/J,SAAS,GAAUQ,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAeH,GAAY,GAAgBD,EAAUC,GAEnX,SAAS,GAAgBjM,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAgB7M,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAO3M,IAAI25H,GAAgB,CAClBlvG,SAAU,YAWR,GAEJ,SAAUqiG,GAGR,SAAS8M,EAAqB/1H,EAAOg2H,GACnC,IAAIxsH,EAgDJ,OA9CA,GAAgBxM,KAAM+4H,GAItB,GAAgB,GAFhBvsH,EAAQ,GAA2BxM,KAAM,GAAgB+4H,GAAsB73H,KAAKlB,KAAMgD,EAAOg2H,KAElD,QAAQ,SAAU1jH,GAC/D,IAAIsU,EAAWtU,EAAKsU,SAChBja,EAAU2F,EAAK3F,QAGnBnD,EAAMm+E,QAENn+E,EAAMq/G,SAAS,CACbjhC,QAAQ,EACRhhE,SAAUA,GAAY,CACpBllB,EAAG,EACHG,EAAG,GAEL8K,QAASA,GAAW,QAIxB,GAAgB,GAAuBnD,GAAQ,SAAS,WAClDA,EAAM6zC,MAAMuqC,QACdp+E,EAAMq/G,SAAS,CACbl8G,aAASnR,EACTosF,QAAQ,EACRhhE,SAAU,CACRllB,EAAG,EACHG,EAAG,QAMX,GAAgB,GAAuB2H,GAAQ,gBAAgB,WAC7DA,EAAMuB,SAASW,KAAK,wBAGtBlC,EAAM6zC,MAAQ,CACZuqC,QAAQ,EACRhhE,SAAU,CACRllB,EAAG,EACHG,EAAG,IAGPypH,GAAO,GAAuB9hH,IACvBA,EA4DT,OA/GA,GAAUusH,EAAsB9M,GAiEhC,GAAa8M,EAAsB,CAAC,CAClClmH,IAAK,oBACL7U,MAAO,WACLgC,KAAK+N,SAASK,GAAG,mBAAoBpO,KAAKi5C,MAC1Cj5C,KAAK+N,SAASK,GAAG,oBAAqBpO,KAAK2qF,SAE5C,CACD93E,IAAK,uBACL7U,MAAO,WACLgC,KAAK+N,SAAS+f,IAAI,mBAAoB9tB,KAAKi5C,MAC3Cj5C,KAAK+N,SAAS+f,IAAI,oBAAqB9tB,KAAK2qF,SAE7C,CACD93E,IAAK,SACL7U,MAAO,WACL,IAAIgyH,EAAchwH,KAAKqgD,MACnBuqC,EAASolC,EAAYplC,OACrBj7E,EAAUqgH,EAAYrgH,QACtBia,EAAWomG,EAAYpmG,SAE3B,IAAKghE,EACH,OAAO,KAGT,IAAIv8C,EAAaruC,KAAKquC,WAAWs+E,cAAc,eAAgBh9G,GAE/D,OAAK0+B,EAAWhvC,OAITu8G,GAAqB,EAAG,GAAa,CAC1C,UAAa,2BACb,QAAWjsG,EACX,SAAYia,EACZ,OAAUja,EAAQ8wB,QAAU,CAC1B/7B,EAAG,EACHG,EAAG,GAEL,WAAmC,IAAtB8K,EAAQspH,UACrB,WAAmC,IAAtBtpH,EAAQupH,UACrB,WAAc7qF,EACd,QAAWruC,KAAKm5H,eAdT,SAmBNJ,EAhHT,CAiHE,IAGF,GAAqBxqH,QAAU,CAAC,WAAY,cAK5C,IAAI,GAEJ,SAAU6qH,GAGR,SAASC,EAAYr2H,EAAO2M,GAC1B,IAAI7C,EAuCJ,OArCA,GAAgB9M,KAAMq5H,GAItB,GAAgB,GAFhBvsH,EAAS,GAA2B9M,KAAM,GAAgBq5H,GAAan4H,KAAKlB,KAAMgD,EAAO2M,KAEzC,qBAAqB,SAAUH,GAC7E1C,EAAOwsH,WAAW9pH,EAAMlS,WAG1B,GAAgB,GAAuBwP,GAAS,eAAe,SAAU0C,GACvE,IAAIwtB,EAAUxtB,EAAM43D,MAEJ,KAAZpqC,GAA8B,KAAZA,IACpBxtB,EAAM4B,kBACN5B,EAAM4S,iBAENtV,EAAO69E,YAIX,GAAgB,GAAuB79E,GAAS,kBAAkB,SAAU0C,GAC1E1C,EAAOwsH,WAAW9pH,EAAMlS,WAG1B,GAAgB,GAAuBwP,GAAS,WAAW,SAAUjP,GACnEiP,EAAOjP,KAAOA,EACd,IAmLe+B,EACf6Z,EApLIw/G,EAAYnsH,EAAO9J,MAAMi2H,UAEzBp7H,IACFiP,EAAOysH,iBAEHN,IA8KSr5H,EA7KC/B,GA8KhB4b,EAAU,gBAHU,uKAGoB7Z,MAG1C6Z,EAAQG,QAEJH,EAAQ6E,gBAAmC,SAAjB7E,EAAQhd,KACpCgd,EAAQ6E,eAAiB,IAErB,oBAAqB7E,GACvB,aAASA,EAAS,CAChBM,MAAO,IACPD,IAAK,YApLXw0G,GAAO,GAAuBxhH,IACvBA,EA4JT,OAtMA,GAAUusH,EAAaD,GA6CvB,GAAaC,EAAa,CAAC,CACzBxmH,IAAK,QACL7U,MAAO,WACL,IAAIw7H,EAAUx5H,KAAKgD,MAAMw2H,QAErB,qBAAWA,IACbA,MAQH,CACD3mH,IAAK,aACL7U,MAAO,SAAoBy7H,GAGzB,GAFgBz5H,KAAKgD,MAAMk2H,UAE3B,CAIA,IAAIr7H,EAAOmC,KAAKnC,KAEXA,GAIDA,IAAS47H,IAIT57H,EAAK8D,SAAS83H,IAIlBz5H,KAAK2qF,YAMN,CACD93E,IAAK,oBACL7U,MAAO,WACLyE,SAASmpB,iBAAiB,UAAW5rB,KAAK05H,gBAC1Cj3H,SAASmpB,iBAAiB,UAAW5rB,KAAK25H,aAC1Cl3H,SAASmpB,iBAAiB,YAAa5rB,KAAK45H,qBAE7C,CACD/mH,IAAK,uBACL7U,MAAO,WACLyE,SAASqpB,oBAAoB,UAAW9rB,KAAK05H,gBAC7Cj3H,SAASqpB,oBAAoB,UAAW9rB,KAAK25H,aAC7Cl3H,SAASqpB,oBAAoB,YAAa9rB,KAAK45H,qBAEhD,CACD/mH,IAAK,iBAKL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnB4mB,EAAW6mG,EAAY7mG,SACvB6W,EAASgwF,EAAYhwF,OACrB5iC,EAAOmC,KAAKnC,KACZ4G,EAAS5G,EAAK0/C,wBAEb3zB,EAAS9kB,QACZ8kB,EAAS9kB,MAAQ,GAGd8kB,EAAS7kB,SACZ6kB,EAAS7kB,OAAS,GAGpB,IACI80H,EADY75H,KAAK0f,SAASsJ,eACEu0B,wBAE5Bs8E,EAAgB/0H,MAAQ+0H,EAAgB90H,QAC1C/E,KAAKnC,KAAKqC,UAAUU,IAAI,cACxBZ,KAAKnC,KAAKqC,UAAUC,OAAO,cAE3BH,KAAKnC,KAAKqC,UAAUU,IAAI,YACxBZ,KAAKnC,KAAKqC,UAAUC,OAAO,eAG7B,IAKIm7E,EAMAh2E,EAAMH,EAXN20H,EA6FV,SAAiCj8H,GAC/B,IAAIk8H,EAAiB,kBAAWl8H,EAAM,kBAEtC,IAAKk8H,EACH,MAAO,CACLC,UAAW,EACXC,WAAY,GAIhB,IAAIA,EAAaF,EAAeE,WAEhC,MAAO,CACLD,UAFcD,EAAeC,UAG7BC,WAAYA,GA3GkBC,CAAwBr8H,GAChDo8H,EAAaH,EAAsBG,WACnCD,EAAYF,EAAsBE,UAElC37H,EAAQ,GAGRurB,EAAS6nB,QACX6pC,EAAY1xD,EAAS6nB,MAAMhwC,MAAM,MAMP,UAFF65E,GAAaA,EAAU,KAAO1xD,EAASllB,EAAIklB,EAAS9kB,MAAQ,EAAI+0H,EAAgB/0H,MAAQ,EAAI,OAAS,WAG7HQ,EAAOskB,EAASllB,EAAIm1H,EAAgBv0H,KAAOb,EAAOK,MAAQ27B,EAAO/7B,EAAIu1H,EACrEp8H,EAAKqC,UAAUC,OAAO,SACtBtC,EAAKqC,UAAUU,IAAI,UAEnB0E,GAAQu0H,EAAgBv0H,KAAOskB,EAASllB,EAAIklB,EAAS9kB,MAAQ27B,EAAO/7B,EAAIu1H,EACxEp8H,EAAKqC,UAAUC,OAAO,QACtBtC,EAAKqC,UAAUU,IAAI,UAGrB0E,EAAOg2E,EAAYh2E,EAAO60H,GAAY70H,EAAM,EAAI20H,EAAYJ,EAAgB/0H,MAAQL,EAAOK,MAAQm1H,GACnG57H,EAAMiH,KAAOA,EAAO,KAGM,SAFFg2E,GAAaA,EAAU,KAAO1xD,EAAS/kB,EAAI+kB,EAAS7kB,OAAS,EAAI80H,EAAgB90H,OAAS,EAAI,MAAQ,YAG5HI,EAAMykB,EAAS/kB,EAAIg1H,EAAgB10H,IAAMV,EAAOM,OAAS07B,EAAO57B,EAAIm1H,EACpEn8H,EAAKqC,UAAUC,OAAO,UACtBtC,EAAKqC,UAAUU,IAAI,SAEnBuE,GAAO00H,EAAgB10H,IAAMykB,EAAS/kB,EAAI47B,EAAO57B,EAAIm1H,EACrDn8H,EAAKqC,UAAUC,OAAO,OACtBtC,EAAKqC,UAAUU,IAAI,WAGrBuE,EAAMm2E,EAAYn2E,EAAMg1H,GAAYh1H,EAAK,EAAI60H,EAAWH,EAAgB90H,OAASN,EAAOM,OAASi1H,GACjG37H,EAAM8G,IAAMA,EAAM,KAElB9G,EAAM+7H,UAAY,OAClB/7H,EAAMg8H,UAAYR,EAAgB90H,OAASI,EAAM60H,EAAY,KAC7D,iBAAOh6H,KAAKnC,KAAKQ,MAAOy6H,GAAez6H,KAExC,CACDwU,IAAK,SACL7U,MAAO,WACL,IAAIi6H,EAAej4H,KAAKgD,MACpB2M,EAAUsoH,EAAatoH,QACvB0+B,EAAa4pF,EAAa5pF,WAE9B,OAAOktE,GAAY,EAAG,MADN0c,EAAal3H,UACWstC,EAAWvzB,KAAI,SAAU8oG,EAAW58G,GAC1E,OAAO40G,GAAqB,EAAGgI,EAAW,CACxC,QAAWj0G,GACV3I,MACD,EAAG,CACL,cAAiB,SAAuBvJ,GACtC,OAAOA,EAAE2kB,mBAEV,KAAMpiB,KAAKs6H,aAIXjB,EAvMT,CAwME,IAIF,SAASc,GAAY3mG,EAAQtI,EAAKC,GAChC,OAAOxmB,KAAKwmB,IAAID,EAAKvmB,KAAKumB,IAAIC,EAAKqI,IAHrC,GAAYjlB,QAAU,CAAC,YC5WvB,SAAS,GAAkBjR,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,IAAI,GAEJ,WACE,SAASymH,EAAYhrF,EAAYtgC,EAAU2R,IAX7C,SAAyBxT,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAY5G,CAAgB5L,KAAMq5H,GAEtBr5H,KAAKiO,UAAYF,EACjBsgC,EAAW0iF,eAAe,gBAAgB,WACxC,OAAO,MAZb,IAAsB5kH,EAAa4G,EAAYC,EA+B7C,OA/BoB7G,EAgBPktH,GAhBoBtmH,EAgBP,CAAC,CACzBF,IAAK,OACL7U,MAAO,SAAc4rB,EAAUja,GAC7B3P,KAAKiO,UAAUS,KAAK,mBAAoB,CACtCkb,SAAUA,EACVja,QAASA,MAGZ,CACDkD,IAAK,QACL7U,MAAO,WACLgC,KAAKiO,UAAUS,KAAK,0BA3BoD,GAAkBvC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA+B3KqmH,EAzBT,GA6BA,GAAY9qH,QAAU,CAAC,aAAc,WAAY,YCtClC,QACbgC,SAAU,CAAC,eACXgqH,YAAa,CAAC,OAAQ,K,kDCDxB,SAAS,GAAkBj9H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,GAAgBzT,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAU3M,IAAI,GAAoC,WACtC,SAASq7H,EAAqB3yG,EAAU9Z,EAAUytD,EAAWnoD,EAAe3D,EAAiByD,EAAeuM,GAC1G,IAAIlT,EAAQxM,MAlBhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAoB5G,CAAgB5L,KAAMw6H,GAEtB,GAAgBx6H,KAAM,mBAAmB,WACvCwM,EAAMivD,WAAWl7D,WAGnB,GAAgBP,KAAM,qBAAqB,WAqFzC,CAlFW,SAAc6S,EAAK0pB,GAC5B,GAAI,aAAMA,IAAsB,KAAR1pB,EAAY,CAClC,IAAInF,EAAOlB,EAAMiuH,mBAEjB,IAAK/sH,EACH,OAaF,OAVI,aAAQ6uB,GACV/vB,EAAM6wB,eAAeG,QAAQ,OAAQ,CACnChhC,QAASkR,EAAKD,MAGhBjB,EAAM6wB,eAAeG,QAAQ,OAAQ,CACnChhC,QAASkR,EAAKF,OAIX,IAMD,SAAaqF,EAAK0pB,GAC1B,GAAI,aAAMA,IAAsB,KAAR1pB,EAAY,CAClC,IAAInF,EAAOlB,EAAMiuH,mBAEjB,IAAK/sH,EACH,OAaF,OAVI,aAAQ6uB,GACV/vB,EAAM6wB,eAAeG,QAAQ,MAAO,CAClChhC,QAASkR,EAAKD,MAGhBjB,EAAM6wB,eAAeG,QAAQ,MAAO,CAClChhC,QAASkR,EAAKF,OAIX,IAMC,SAAeqF,EAAK0pB,GAC9B,IAAIm+F,EAEJ,GAAI,aAAMn+F,IAAsB,KAAR1pB,EAAY,CAClC,IAAInF,EAAOlB,EAAMiuH,mBAEjB,IAAK/sH,EACH,OAGE,aAAQ6uB,IACVm+F,EAASluH,EAAM6wB,eAAeG,QAAQ,aAAc,CAClDhhC,QAASkR,EAAKD,QAIdjB,EAAM8wB,eAAenoB,WAAW,UAGlCulH,EAASluH,EAAM6wB,eAAeG,QAAQ,aAAc,CAClDhhC,QAASkR,EAAKF,QAIdhB,EAAM8wB,eAAenoB,WAAW,SAMtC,YAAyB,IAAXulH,IAIG1zG,SAAQ,SAAUoO,GACnC5oB,EAAMmuH,UAAU/+B,YAAYxmE,SAIhCp1B,KAAKy7D,WAAaD,EAClBx7D,KAAKs9B,eAAiBjqB,EACtBrT,KAAK2f,iBAAmBjQ,EACxB1P,KAAKq9B,eAAiBlqB,EACtBnT,KAAK26H,UAAY9yG,EAASjZ,IAAI,YAAY,GAC1C5O,KAAK4f,UAAYF,EAEZ1f,KAAK26H,YAIV5sH,EAASK,GAAG,gBAAiBpO,KAAK46H,mBAClC7sH,EAASK,GAAG,iBAAiB,WAC3B,QAASiV,KAAK5gB,SAAU,OAAQ+J,EAAMquH,iBAAiB,GACvD,QAASx3G,KAAK5gB,SAAU,MAAO+J,EAAMquH,iBAAiB,MAExD9sH,EAASK,GAAG,mBAAmB,WAC7B,QAASmV,OAAO9gB,SAAU,OAAQ+J,EAAMquH,iBAAiB,GACzD,QAASt3G,OAAO9gB,SAAU,MAAO+J,EAAMquH,iBAAiB,OAlI9D,IAAsB1uH,EAAa4G,EAAYC,EAqL7C,OArLoB7G,EAsIPquH,GAtIoBznH,EAsIE,CAAC,CAClCF,IAAK,mBACL7U,MASA,WACE,IAAIob,EAAYpZ,KAAKs9B,eAAexc,mBAGpC,GAAK1H,EAAL,CAIA,IAAI1L,EAAO1N,KAAK2f,iBAAiB/Q,IAAIwK,GAGrC,GAAK1L,EAAL,CAIA,IAAIuL,EAAYjZ,KAAK4f,UAAUoJ,eAE3BnrB,EAAO,aAAYub,EAAWH,GAC9B6hH,EAAgB,aAAiBj9H,GAGrC,GAAI4E,SAASkX,gBAAkBmhH,EAA/B,CAIA,IAAIjhH,EAAQ,aAAShc,GAGrB,IAAIgc,GAASA,EAAME,QAAUF,EAAMC,IAInC,OAAOpM,UAjLiE,GAAkBvB,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqLrP2uH,EAzK+B,GA6KxC,GAAqBjsH,QAAU,CAAC,WAAY,WAAY,YAAa,gBAAiB,kBAAmB,gBAAiB,YC1L3G,QACbiC,YAAa,CAAC,KAAiB,MAC/BD,SAAU,CAAC,2BACXwqH,wBAAyB,CAAC,OAAQ,KCNpC,SAAS,GAAQ57H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAOxM,IAAI,GAAsC,SAAUusH,IAnBpD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUqvH,EAAwB/O,GAElC,IAxBoB9/G,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAa4zG,GAE1B,SAASA,EAAuBh4H,EAAO2M,GACrC,IAAInD,EAXiBrN,EAAK0T,EAAK7U,EAsB/B,OA1CJ,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAMg7H,GAEtBxuH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAfZxQ,EAiBL,GAAuBqN,GAjBRxO,EAiB2B,SAAUwR,GAClEhD,EAAM2G,cAAcqqB,QAAQ,cAlBJ3qB,EAiBqB,aAjBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAqBvLswH,GAAO,GAAuB9hH,IACvBA,EAeT,OArDoBL,EAyCP6uH,GAzCoBjoH,EAyCI,CAAC,CACpCF,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,KAAM,6CAA8C,CAACv7G,KAAKqK,UAAU,SAAU2xG,GAAgB,KAAMT,GAAY,EAAG,OAAQ,sCAAuC,KAAM,EAAG,CAC/L,MAASv7G,KAAKqK,UAAU,gBACrB,EAAG,CACN,QAAWrK,KAAKy0H,QAChB,MAASz0H,KAAKqK,UAAU,oBAhD8C,GAAkB8B,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqDrPmvH,EAhCiC,CAiCxC,IC9DF,SAAS,GAAQ77H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GD2CxM,GAAuB6O,QAAU,CAAC,gBAAiB,aCpCnD,IAAI,GAAgC,SAAU09G,IAnB9C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUsvH,EAAkBhP,GAE5B,IAxBoB9/G,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAa6zG,GAE1B,SAASA,EAAiBj4H,EAAO2M,GAC/B,IAAInD,EAXiBrN,EAAK0T,EAAK7U,EAsB/B,OA1CJ,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAMi7H,GAEtBzuH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAfZxQ,EAiBL,GAAuBqN,GAjBRxO,EAiB2B,SAAUwR,GAClEhD,EAAM2G,cAAcqqB,QAAQ,cAlBJ3qB,EAiBqB,aAjBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAqBvLswH,GAAO,GAAuB9hH,IACvBA,EAaT,OAnDoBL,EAyCP8uH,GAzCoBloH,EAyCF,CAAC,CAC9BF,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,KAAM,2BAA4BS,GAAgB,KAAM,EAAG,CAC/E,QAAWh8G,KAAKy0H,QAChB,MAASz0H,KAAKqK,UAAU,oBA9C8C,GAAkB8B,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAmDrPovH,EA9B2B,CA+BlC,IC5DF,SAAS,GAAkB39H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,ED6D/Q,GAAiBoC,QAAU,CAAC,gBAAiB,aCvD7C,IAEI,GAAoC,IAAa,SAAS2sH,EAAqB7sF,EAAY/6B,IAN/F,SAAyBpH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAO9G,CAAgB5L,KAAMk7H,GAEtB7sF,EAAW0iF,eAAe,OALT,KAK+B,SAAUz7G,GACxD,IAAIu6G,EAAWv6G,EAAKu6G,SAGhB9yH,EADiBuW,EAAMO,UACS9W,eAEpC,IAAIA,EAAemX,QAASnX,EAAemX,MAAM7U,OAIjD,MAAiB,uBAAbwwH,EACK,GACe,sBAAbA,EACF,QADF,QAOX,GAAqBthH,QAAU,CAAC,aAAc,SC9B/B,QACbiC,YAAa,CAAC,MACdD,SAAU,CAAC,wBACX4qH,qBAAsB,CAAC,OAAQ,KCDjC,SAAS,GAAkB79H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAQ7S,IAAI,GAA2B,WAC7B,SAASymH,EAAYhrF,EAAYksF,EAAa/+D,EAAWroD,EAAepF,EAAU2B,EAAiB0D,EAAUlE,EAAWoE,EAAO2U,EAAO5d,GACpI,IAAImC,EAAQxM,MAZhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAc5G,CAAgB5L,KAAMq5H,GAEtBr5H,KAAKo7H,aAAeb,EACpBv6H,KAAKy7D,WAAaD,EAClBx7D,KAAKq9B,eAAiBlqB,EACtBnT,KAAK2f,iBAAmBjQ,EACxB1P,KAAKiO,UAAYF,EACjB/N,KAAK07D,UAAYtoD,EACjBpT,KAAK6f,WAAa3Q,EAClBlP,KAAKqnB,OAAS/T,EACdtT,KAAK8+D,OAAS72C,EACdjoB,KAAKiyF,WAAa5nF,EAClBrK,KAAK6uF,YAAc7uF,KAAK6uF,YAAYxrE,KAAKrjB,MACzCquC,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,iBAA5B1rH,EAAQ0rH,gBAAoC,CACzE,IAAIpwC,EAAUz+E,EAAMqiF,YAAYl/E,GAE5BnT,EAAUgQ,EAAMmT,iBAAiB/Q,IAAIe,EAAQhH,IAE7C2yH,EAAwBC,GAAO/+H,IAAY6xC,EAAWs+E,cAAc,+BAAgCh9G,GAExG,GAAI2rH,GAAyBA,EAAsBj8H,OAAQ,CACzD,IAAIm8H,EAAmBjgB,GAAY,EAAG,MAAO,6CAA8C+f,EAAuB,GAClH,OAAO,WACL,OAAO/f,GAAY,EAAG,MAAO,qBAAsBtwB,GAAW,IAAI/xE,OAAOsiH,GAAmB,IAG9F,OAAO,WACL,OAAOjgB,GAAY,EAAG,MAAO,oBAAqBtwB,GAAW,GAAI,QAKzEl9E,EAASK,GAAG,oBAAoB,SAAUkH,GACxC,IAAI9F,EAAQ8F,EAAK9F,MACb7G,EAAK2M,EAAK3M,GACH2M,EAAKzX,KAChB2R,EAAM4S,iBACNm4G,EAAYthF,KAAK,CACfv0C,EAAG8K,EAAMisH,MACT52H,EAAG2K,EAAMksH,OACR,CACDL,gBAAiB,eACjB7rH,MAAOA,EACP7G,GAAIA,OAxDZ,IAAsBwD,EAAa4G,EAAYC,EA8T7C,OA9ToB7G,EA6DPktH,GA7DoBtmH,EA6DP,CAAC,CACzBF,IAAK,cACL7U,MAAO,SAAqB2R,GAC1B,IAAI7C,EAAS9M,KAETqiB,EACY,SAAsB1O,GAClC,IAAIgoH,EAAgBhoH,EAAK5G,MAAM+N,KAAI,SAAUpN,GAC3C,OAAOA,EAAK/E,MACXvJ,QAAQuQ,EAAQhH,IAEfizH,EAAU9uH,EAAOuwB,eAAeG,QAAQ,eAAgB,CAC1D7pB,KAAMA,IAGJioH,EAAQ7uH,MAAM4uH,GAChB7uH,EAAO+S,WAAWvR,OAAOstH,EAAQ7uH,MAAM4uH,IAEvC7uH,EAAO+S,WAAWvR,OAAOstH,EAAQ7uH,MAAM,IAGzCD,EAAOsuH,aAAazwC,SAhBpBtoE,EAkBY,SAAsB1O,GAClC,IAAIgoH,EAAgBhoH,EAAK5G,MAAM+N,KAAI,SAAUpN,GAC3C,OAAOA,EAAK/E,MACXvJ,QAAQuQ,EAAQhH,IAEfizH,EAAU9uH,EAAOuwB,eAAeG,QAAQ,eAAgB,CAC1D7pB,KAAMA,IAGJioH,EAAQ7uH,MAAM4uH,GAChB7uH,EAAO+S,WAAWvR,OAAOstH,EAAQ7uH,MAAM4uH,IAEvC7uH,EAAO+S,WAAWvR,OAAOstH,EAAQ7uH,MAAM,IAGzCD,EAAOsuH,aAAazwC,SAjCpBtoE,EAmCU,SAAoB1O,GAC9B7G,EAAOuwB,eAAeG,QAAQ,aAAc,CAC1C7pB,KAAMA,IAGR7G,EAAOsuH,aAAazwC,SAxCpBtoE,EA0CY,SAAsBnO,GAClCpH,EAAOuwB,eAAeG,QAAQ,eAAgB,CAC5CtpB,MAAOA,IAGTpH,EAAOsuH,aAAazwC,SA/CpBtoE,EAiDa,SAAuBnO,GACpCpH,EAAOuwB,eAAeG,QAAQ,gBAAiB,CAC7CtpB,MAAOA,IAGTpH,EAAOsuH,aAAazwC,SAtDpBtoE,EAwDW,SAAqBnO,GAChCpH,EAAOuwB,eAAeG,QAAQ,cAAe,CAC3CtpB,MAAOA,IAGTpH,EAAOsuH,aAAazwC,SA7DpBtoE,EA+Da,SAAuB5N,GACpC3H,EAAOuwB,eAAeG,QAAQ,gBAAiB,CAC7C/oB,OAAQA,IAGV3H,EAAOsuH,aAAazwC,SApEpBtoE,EAsEc,SAAwB5N,GACtC3H,EAAOuwB,eAAeG,QAAQ,iBAAkB,CAC9C/oB,OAAQA,IAGV3H,EAAOsuH,aAAazwC,SA3EpBtoE,EA6EY,SAAsB5N,GAClC3H,EAAOuwB,eAAeG,QAAQ,eAAgB,CAC5C/oB,OAAQA,IAGV3H,EAAOsuH,aAAazwC,SAlFpBtoE,EAoFI,SAAc7lB,GAClBsQ,EAAOuwB,eAAeG,QAAQ,OAAQ,CACpChhC,QAASA,IAGXsQ,EAAOsuH,aAAazwC,SAzFpBtoE,EA2FG,SAAa7lB,GAChBsQ,EAAOuwB,eAAeG,QAAQ,MAAO,CACnChhC,QAASA,IAGXsQ,EAAOsuH,aAAazwC,SAhGpBtoE,EAkGW,SAAqB7lB,GAChCsQ,EAAOuwB,eAAeG,QAAQ,cAAe,CAC3ChhC,QAASA,IAGXsQ,EAAOsuH,aAAazwC,SAvGpBtoE,EAyGU,SAAoB7lB,GAC9BsQ,EAAOuwB,eAAeG,QAAQ,aAAc,CAC1ChhC,QAASA,IAGXsQ,EAAOsuH,aAAazwC,SAGpBhiF,EAAKgH,GAAWA,EAAQhH,GAE5B,IAAKA,EACH,OAAO,KAGT,IAAInM,EAAUwD,KAAK2f,iBAAiB/Q,IAAIjG,GAExC,IAAKnM,EACH,OAAO,KAGT,IAAI2iE,EAAgBn/D,KAAKy7D,WAAW7sD,OAAS,GACzCq8E,EAAU,GACVz9E,EAAMhR,EAAQgR,KAAOhR,EAEzB,GAAI,YAAGgR,EAAK,oBAAqB,CAC/B,IAAIquH,EAAW77H,KAAK8+D,OAAO/2C,QAAQ,QAAS,CAC1CT,KAAM63C,EAAcj4D,SACpB5J,OAAQkQ,IAGVy9E,EAAQnqF,KAAKy6G,GAAY,EAAG,MAAO,qBAAsB,CAACA,GAAY,EAAG,MAAO,wDAAyDv7G,KAAKiyF,WAAW,aAAc,EAAG,CACxK,QAAW,WACT,OAAO5vE,EAAc7U,MAErB+tG,GAAY,EAAG,MAAO,uDAAwDv7G,KAAKiyF,WAAW,YAAa,EAAG,CAChH,QAAW,WACT,OAAO5vE,EAAa7U,MAEpB+tG,GAAY,EAAG,MAAO,4BAA4BriG,OAAO2iH,EAAW,GAAK,WAAY,wCAAyC77H,KAAKiyF,WAAW,oBAAqB,EAAG,CACxK,QAAW,WACT,OAAO5vE,EAAqB7U,MAE5B+tG,GAAY,EAAG,MAAO,4BAA4BriG,OAAO2iH,EAAW,GAAK,WAAY,wCAAyC77H,KAAKiyF,WAAW,oBAAqB,EAAG,CACxK,QAAW,WACT,OAAO5vE,EAAoB7U,OAE1B,GAAI+tG,GAAY,EAAG,MAAO,qBAAsB,CAACA,GAAY,EAAG,MAAO,6DAA8Dv7G,KAAKiyF,WAAW,kBAAmB,EAAG,CAC9K,QAAW,WACT,OAAO5vE,EAAsB7U,MAE7B+tG,GAAY,EAAG,MAAO,6DAA8Dv7G,KAAKiyF,WAAW,kBAAmB,EAAG,CAC5H,QAAW,WACT,OAAO5vE,EAAsB7U,MAE7B+tG,GAAY,EAAG,MAAO,0DAA2Dv7G,KAAKiyF,WAAW,eAAgB,EAAG,CACtH,QAAW,WACT,OAAO5vE,EAAoB7U,OAE1B,SACA,GAAI,YAAGhR,EAAS,mBAAoB,CACzC,IAAImkB,EAAgB,YAAGnkB,EAAS,mBAAqBA,EAAUA,EAAQiR,IAEnEquH,EAAY97H,KAAK8+D,OAAO/2C,QAAQ,aAAc,CAChDta,IAAKjR,EAAQiR,KAAOjR,IAGlBu/H,EAAY/7H,KAAK8+D,OAAO/2C,QAAQ,QAAS,CAC3CT,KAAM63C,EAAcj4D,SACpB5J,OAAQd,EAAQiR,KAAOjR,IAGzByuF,EAAQnqF,KAAKy6G,GAAY,EAAG,MAAO,qBAAsB,CAACA,GAAY,EAAG,MAAO,yDAA0Dv7G,KAAKiyF,WAAW,qBAAsB,EAAG,CACjL,QAAW,WACT,OAAO5vE,EAAc1B,MAErB46F,GAAY,EAAG,MAAO,4BAA4BriG,OAAO4iH,EAAY,GAAK,WAAY,iCAAkC97H,KAAKiyF,WAAW,oBAAqB,EAAG,CAClK,QAAW,WACT,OAAO5vE,EAAa1B,MAEpB46F,GAAY,EAAG,MAAO,4BAA4BriG,OAAO6iH,EAAY,GAAK,WAAY,wCAAyC/7H,KAAKiyF,WAAW,2BAA4B,EAAG,CAChL,QAAW,WACT,OAAO5vE,EAAqB1B,MAE5B46F,GAAY,EAAG,MAAO,4BAA4BriG,OAAO6iH,EAAY,GAAK,WAAY,yCAA0C/7H,KAAKiyF,WAAW,4BAA6B,EAAG,CAClL,QAAW,WACT,OAAO5vE,EAAoB1B,OAE1B,GAAI46F,GAAY,EAAG,MAAO,qBAAsB,CAACA,GAAY,EAAG,MAAO,6DAA8Dv7G,KAAKiyF,WAAW,yBAA0B,EAAG,CACrL,QAAW,WACT,OAAO5vE,EAAsB1B,MAE7B46F,GAAY,EAAG,MAAO,8DAA+Dv7G,KAAKiyF,WAAW,0BAA2B,EAAG,CACrI,QAAW,WACT,OAAO5vE,EAAuB1B,MAE9B46F,GAAY,EAAG,MAAO,4BAA4BriG,OAAO4iH,EAAY,GAAK,WAAY,oCAAqC97H,KAAKiyF,WAAW,uBAAwB,EAAG,CACxK,QAAW,WACT,OAAO5vE,EAAqB1B,OAE3B,SACA,GAAI,YAAGnkB,EAAS,qBAAuB,YAAGA,EAAQiR,IAAK,oBAAqB,CACjF,IAAIuuH,EAAiB,YAAGx/H,EAAS,oBAAsBA,EAAUA,EAAQiR,IAErEwuH,EAAaj8H,KAAK8+D,OAAO/2C,QAAQ,aAAc,CACjDta,IAAKjR,EAAQiR,KAAOjR,IAGlB0/H,EAAal8H,KAAK8+D,OAAO/2C,QAAQ,QAAS,CAC5CT,KAAM63C,EAAcj4D,SACpB5J,OAAQd,EAAQiR,KAAOjR,IAGzByuF,EAAQnqF,KAAKy6G,GAAY,EAAG,MAAO,qBAAsB,CAACA,GAAY,EAAG,MAAO,0DAA2Dv7G,KAAKiyF,WAAW,sBAAuB,EAAG,CACnL,QAAW,WACT,OAAO5vE,EAAc25G,MAErBzgB,GAAY,EAAG,MAAO,4BAA4BriG,OAAO+iH,EAAa,GAAK,WAAY,kCAAmCj8H,KAAKiyF,WAAW,qBAAsB,EAAG,CACrK,QAAW,WACT,OAAO5vE,EAAa25G,MAEpBzgB,GAAY,EAAG,MAAO,4BAA4BriG,OAAOgjH,EAAa,GAAK,WAAY,yCAA0Cl8H,KAAKiyF,WAAW,4BAA6B,EAAG,CACnL,QAAW,WACT,OAAO5vE,EAAqB25G,MAE5BzgB,GAAY,EAAG,MAAO,4BAA4BriG,OAAOgjH,EAAa,GAAK,WAAY,0CAA2Cl8H,KAAKiyF,WAAW,6BAA8B,EAAG,CACrL,QAAW,WACT,OAAO5vE,EAAoB25G,OAE1B,GAAIzgB,GAAY,EAAG,MAAO,qBAAsB,CAACA,GAAY,EAAG,MAAO,8DAA+Dv7G,KAAKiyF,WAAW,0BAA2B,EAAG,CACvL,QAAW,WACT,OAAO5vE,EAAuB25G,MAE9BzgB,GAAY,EAAG,MAAO,+DAAgEv7G,KAAKiyF,WAAW,2BAA4B,EAAG,CACvI,QAAW,WACT,OAAO5vE,EAAwB25G,MAE/BzgB,GAAY,EAAG,MAAO,4BAA4BriG,OAAO+iH,EAAa,GAAK,WAAY,qCAAsCj8H,KAAKiyF,WAAW,wBAAyB,EAAG,CAC3K,QAAW,WACT,OAAO5vE,EAAsB25G,OAE5B,IAGP,OAAO/wC,OA1TiE,GAAkB9+E,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8TrPwtH,EAxTsB,GA8T/B,SAASkC,GAAO/+H,GACd,OAAOA,aAAmB,KAH5B,GAAY+R,QAAU,CAAC,aAAc,cAAe,YAAa,gBAAiB,WAAY,kBAAmB,WAAY,YAAa,QAAS,QAAS,a,cCxU5J,SAAS,GAAkBjR,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAI/Q,IAAIgwH,GAAW,CAAC,UAAW,aAAc,UAAW,cAEhDC,GAAwC,IAAa,SAASA,EAAyB7B,EAAaxsH,IAJxG,SAAyB7B,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAK9G,CAAgB5L,KAAMo8H,GAEtBruH,EAASK,GAAG,yBAAyB,SAAUkH,GAC7C,IAAIgF,EAAUhF,EAAKgF,SAGgB,IAA/B6hH,GAAS/8H,QAAQkb,IACnBigH,EAAY5vC,WAIhB58E,EAASK,GAAG,yBAAyB,WACnCmsH,EAAY5vC,cAKhByxC,GAAyB7tH,QAAU,CAAC,cAAe,YCrBpC,QACbiC,YAAa,CAAC,KAAe,GAAkB,MAC/CD,SAAU,CAAC,2BAA4B,4BACvC8rH,yBAA0B,CAAC,OAAQ,IACnCC,yBAA0B,CAAC,OAAQF,KCTrC,SAAS,GAAQj9H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAM3M,IAAI,GAA0B,SAAU8sH,IApBxC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAqBpb,CAAU4wH,EAAYtQ,GAEtB,IAzBoB9/G,EAAa4G,EAAYC,EAyBzCoU,EAAS,GAAam1G,GAE1B,SAASA,EAAWv5H,EAAO2M,GACzB,IAAInD,EA8BJ,OA9DJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAkC5G,CAAgB5L,KAAMu8H,GAItB,GAAgB,GAFhB/vH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,WAAW,SAAUH,GAClE,IAAIiF,EAASjI,EAAMxJ,MAAMyR,OAEzBjI,EAAMyB,UAAUS,KAAK,cAAe,CAClCc,MAAOA,EACPiF,OAAQA,OAIZ,GAAgB,GAAuBjI,GAAQ,iBAAiB,SAAUgD,GACxE,IAAI7G,EAAK6D,EAAMxJ,MAAMyR,OAAO9L,GAE5B6D,EAAMyB,UAAUS,KAAK,mBAAoB,CACvCc,MAAOA,EACP7G,GAAIA,OAIR,GAAgB,GAAuB6D,GAAQ,qBAAqB,WAClEA,EAAMo/G,iBAGRgD,GAAM,GAAuBpiH,GAAQ,IACrCA,EAAMylF,WAAatiF,EAAQkY,SAASjZ,IAAI,aACjCpC,EA2DT,OArHoBL,EA6DPowH,GA7DoBxpH,EA6DR,CAAC,CACxBF,IAAK,qBACL7U,MAAO,WACL,IAAI6pB,EAAW7nB,KAAK2P,QAAQkY,SAC5B7nB,KAAKmsH,eAAiBnsH,KAAK2P,QAAQ+vF,cACnC1/F,KAAKiO,UAAY4Z,EAASjZ,IAAI,YAC9B5O,KAAK2f,iBAAmBkI,EAASjZ,IAAI,mBACrC,IAAI6F,EAASzU,KAAKgD,MAAMyR,OAExBzU,KAAKmsH,eAAeG,kBAAkB73G,EAAO9L,GAAI3I,KAAKssH,qBAEvD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIyW,EAASzU,KAAKgD,MAAMyR,OAExBzU,KAAKmsH,eAAeK,mBAAmB/3G,EAAO9L,GAAI3I,KAAKssH,qBAExD,CACDz5G,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnByR,EAASg8G,EAAYh8G,OACrBxV,EAAQwxH,EAAYxxH,MACpB0yH,EAAgBlB,EAAYkB,cAC5Bj2F,EAAQjnB,EAAOinB,MACfz+B,EAAOwX,EAAOxX,KACd60H,EAAer9G,EAAOq9G,aACtBtgC,EAAU/8E,EAAO+8E,QACjB1sF,EAAQ2P,EAAO3P,MAAQ2P,EAAO3P,MAAQ,KAAO,QACjD,OAAOy2G,GAAY,EAAG,KAAM,4BAA6B,CAACv7G,KAAK2vH,UAAU,CACvElzH,KAAM,aACNkT,QAAS,CACPkgH,SAAU,cACVpiH,IAAKzN,KAAK2f,iBAAiB/Q,IAAI6F,EAAO9L,IACtC1J,MAAOA,EACP0yH,cAAeA,GAEjBlkH,IAAKgH,IACH8mG,GAAY,EAAG,MAAO,SAAoB,IAAVt8G,EAAce,KAAKiyF,WAAW,QAAUjyF,KAAKiyF,WAAW,OAAQ,GAAIv2D,EAAQ6/E,GAAY,EAAG,MAAO,eAAgB7/E,EAAO,EAAG,CAC9J,MAAS17B,KAAKiyF,WAAW,kBACtBspB,GAAY,EAAG,MAAO,cAAet+G,EAAM,EAAG,CACjD,MAAS+C,KAAKiyF,WAAW,iBACvBspB,GAAY,EAAG,MAAO,kBAAmBuW,GAAgBA,EAAaxgF,MAAQkgD,EAAS,EAAG,CAC5F,MAASsgC,GAAgBA,EAAaxgF,KAAOtxC,KAAKiyF,WAAW,iBAAmBjyF,KAAKiyF,WAAW,kBAC7F,EAAG,CACN,cAAex9E,EAAO9L,GACtB,WAAc3I,KAAKy0H,QACnB,cAAiBz0H,KAAKw8H,cACtB,MAAS,CACP13H,MAAOA,UA/G6D,GAAkBqH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqHrP0wH,EA/FqB,CAgG5B,IC9HF,SAAS,GAAQp9H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,IAAI,GAAqB,SAAU8sH,IAlBnC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAUu4D,EAAO+nD,GAEjB,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAa88C,GAE1B,SAASA,EAAMlhE,EAAO2M,GACpB,IAAInD,EAoCJ,OAlEJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAMkkE,GAItB,GAAgB,GAFhB13D,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,WAAW,SAAUH,GAClE,IAAIynH,EAAUzqH,EAAMxJ,MAAMi0H,QAEH,mBAAZA,GAIXA,EAAQznH,EAAMlS,OAAOU,UAGvB,GAAgB,GAAuBwO,GAAQ,aAAa,SAAUgD,GACpE,IAAIitH,EAAYjwH,EAAMxJ,MAAMy5H,UAEH,mBAAdA,GAIXA,EAAUjtH,MAGZ,GAAgB,GAAuBhD,GAAQ,WAAW,SAAUgD,GAClE,IAAIktH,EAAUlwH,EAAMxJ,MAAM05H,QAEH,mBAAZA,GAIXA,EAAQltH,MAGHhD,EAuBT,OArFoBL,EAiEP+3D,GAjEoBnxD,EAiEb,CAAC,CACnBF,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnBjC,EAAY0vH,EAAY1vH,UACxBye,EAAcixG,EAAYjxG,YAC1B/iB,EAAOg0H,EAAYh0H,KACnBuB,EAAQyyH,EAAYzyH,MACxB,OAAOu9G,GAAY,GAAI,QAAS,CAACx6G,GAAa,GAAI,aAAaE,KAAK,KAAM,KAAM,EAAG,CACjF,YAAeue,GAAe,GAC9B,QAAWxf,KAAKi3H,QAChB,UAAaj3H,KAAKy8H,UAClB,QAAWz8H,KAAK08H,QAChB,WAAc,QACd,KAAQjgI,GAAQ,OAChB,MAASuB,SAhF6D,GAAkBmO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqFrPq4D,EAjEgB,CAkEvB,IC9FF,SAAS,GAAQ/kE,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAA4B,SAAUusH,IAlB1C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAUgxH,EAAc1Q,GAExB,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAau1G,GAE1B,SAASA,EAAa35H,EAAO2M,GAC3B,IAAInD,EAuBJ,OArDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAM28H,IAEtBnwH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3BtF,UAAYsF,EAAQkY,SAAWlY,EAAQkY,SAASjZ,IAAI,aAAeguH,GAEzEpwH,EAAMqwH,QAAU,SAAU5/H,GACxBA,EAAOA,QAAQuB,EAEfgO,EAAMswH,aAAa,CACjB7/H,KAAMA,KAIVuP,EAAM68F,SAAW,SAAU3tE,GACzBA,EAAQA,QAASl9B,EAEjBgO,EAAMswH,aAAa,CACjBphG,MAAOA,KAIJlvB,EAgCT,OAjFoBL,EAoDPwwH,GApDoB5pH,EAoDN,CAAC,CAC1BF,IAAK,eACL7U,MAAO,SAAsB++H,GAC3B,IAAIxb,EAAWvhH,KAAKgD,MAAMu+G,SAEF,mBAAbA,GACTA,EAASwb,KAGZ,CACDlqH,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnB/F,EAAOwzH,EAAYxzH,KACnBy+B,EAAQ+0F,EAAY/0F,MACxB,OAAO6/E,GAAY,EAAG,MAAO,uDAAwD,CAACA,GAAY,EAAG,MAAO,mBAAoBK,GAAqB,EAAG,GAAiB,CACvK,UAAa,mBACb,MAASlgF,GAAS,GAClB,YAAe17B,KAAKqK,UAAU,UAC9B,YAAc,EACd,QAAWrK,KAAKqpG,WACd,GAAIkS,GAAY,EAAG,MAAO,mBAAoB,CAACA,GAAY,EAAG,QAAS,YAAav7G,KAAKqK,UAAU,eAAgB,GAAIuxG,GAAqB,EAAG,GAAO,CACxJ,UAAa,kBACb,MAAS3+G,GAAQ,GACjB,QAAW+C,KAAK68H,WACb,IAAK,QA7E8D,GAAkB1wH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAiFrP8wH,EA7DuB,CA8D9B,IAIF,SAASC,GAAcjyH,GACrB,OAAOA,EC/FT,SAAS,GAAQxL,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAQ4D,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS,GAAczB,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI,GAAQE,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW,GAAQ/J,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAIjf,SAAS,GAAkBA,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAM3M,IAAI,GAAqC,SAAU8sH,IApBnD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAqBpb,CAAUqxH,EAAuB/Q,GAEjC,IAzBoB9/G,EAAa4G,EAAYC,EAyBzCoU,EAAS,GAAa41G,GAE1B,SAASA,EAAsBh6H,EAAO2M,GACpC,IAAInD,EA8BJ,OA9DJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAkC5G,CAAgB5L,KAAMg9H,GAItB,GAAgB,GAFhBxwH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,kBAAkB,WAC/D,IAAI8E,EAASjI,EAAMxJ,MAAM2M,QAAQ8E,OAC7BwoH,EAAUzwH,EAAM6zC,MAAM48E,QAErBA,IAILzwH,EAAM4G,SAASkiF,iBAAiB7gF,EAAQwoH,GAExCzwH,EAAMq/G,SAAS,CACboR,SAAS,QAIb,GAAgB,GAAuBzwH,GAAQ,gBAAgB,SAAUuwH,GACvEvwH,EAAMq/G,SAAS,CACboR,QAAS,GAAc,GAAc,GAAIzwH,EAAM6zC,MAAM48E,SAAUF,IAC9DvwH,EAAM0wH,mBAGX1wH,EAAM6zC,MAAQ,GACdiuE,GAAO,GAAuB9hH,IAC9BA,EAAM0wH,eAAiB1wH,EAAMurH,cAAcvrH,EAAM0wH,gBAC1C1wH,EAqBT,OA/EoBL,EA6DP6wH,GA7DoBjqH,EA6DG,CAAC,CACnCF,IAAK,WACL7U,MAAO,SAAkBO,GACvB,IAAIkW,EAASzU,KAAKgD,MAAM2M,QAAQ8E,OAC5BwoH,EAAUj9H,KAAKqgD,MAAM48E,QACzB,OAAOA,GAAW1+H,KAAQ0+H,EAAUA,EAAQ1+H,GAAQkW,EAAO7F,IAAIrQ,KAEhE,CACDsU,IAAK,SACL7U,MAAO,WACL,OAAO49G,GAAqB,EAAG,GAAc,CAC3C,KAAQ57G,KAAKm9H,SAAS,QACtB,MAASn9H,KAAKm9H,SAAS,SACvB,SAAYn9H,KAAK88H,oBA1EqD,GAAkB3wH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA+ErPmxH,EAzDgC,CA0DvC,IC5FF,SAAS,GAAkB1/H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,ED6F/Q,GAAsBoC,QAAU,CAAC,gBAAiB,YCrFlD,IAAI,GAAqC,IAAa,SAAS6uH,EAAsB/uF,EAAYksF,EAAaxsH,EAAU2R,IANxH,SAAyBxT,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAO9G,CAAgB5L,KAAMo9H,GAEtB/uF,EAAW0iF,eAAe,QAAQ,SAAUz7G,GAG1C,GAAiB,kBAFFA,EAAKu6G,SAGlB,OAAO,MAGXxhF,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAgC,gBAA5BiM,EAAQ0rH,gBACV,OAAO,MAGXttH,EAASK,GAAG,eAAe,SAAUoH,GACnC,IAAIhG,EAAQgG,EAAMhG,MACdiF,EAASe,EAAMf,OACfnX,EAASkS,EAAMlS,OACfO,EAAO,kBAAWP,EAAQ,MAAM,GAEhC+/H,EAAwBx/H,EAAK0/C,wBAC7Bj4C,EAAO+3H,EAAsB/3H,KAC7BH,EAAMk4H,EAAsBl4H,IAE5Bs7B,EAgBR,SAAmBjkC,GACjB,IAAK,kBAAWA,EAAS,+BACvB,MAAO,CACLkI,GAAI,EACJG,EAAG,GApBQy4H,CAAUz/H,GACvB08H,EAAYthF,KAAK,CACfv0C,EAAGY,EACHT,EAAGM,EACHssC,MAAO,gBACN,CACD4pF,gBAAiB,cACjB5mH,OAAQA,EACRgsB,OAAQA,UC7Cd,SAAS,GAAQthC,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,ED2B3M,GAAsBoP,QAAU,CAAC,aAAc,cAAe,WAAY,YCrB1E,IAAI,GAAyB,SAAU09G,IApBvC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAqBpb,CAAU4xH,EAAWtR,GAErB,IAzBoB9/G,EAAa4G,EAAYC,EAyBzCoU,EAAS,GAAam2G,GAE1B,SAASA,EAAUv6H,EAAO2M,GACxB,IAAInD,EA8BJ,OA9DJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAkC5G,CAAgB5L,KAAMu9H,GAItB,GAAgB,GAFhB/wH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,WAAW,SAAUH,GAClE,IAAI0E,EAAQ1H,EAAMxJ,MAAMkR,MAExB1H,EAAMyB,UAAUS,KAAK,aAAc,CACjCc,MAAOA,EACP0E,MAAOA,OAIX,GAAgB,GAAuB1H,GAAQ,iBAAiB,SAAUgD,GACxE,IAAI7G,EAAK6D,EAAMxJ,MAAMkR,MAAMvL,GAE3B6D,EAAMyB,UAAUS,KAAK,mBAAoB,CACvCc,MAAOA,EACP7G,GAAIA,OAIR,GAAgB,GAAuB6D,GAAQ,qBAAqB,WAClEA,EAAMo/G,iBAGRgD,GAAM,GAAuBpiH,GAAQ,IACrCA,EAAMylF,WAAatiF,EAAQkY,SAASjZ,IAAI,aACjCpC,EAoET,OA9HoBL,EA6DPoxH,GA7DoBxqH,EA6DT,CAAC,CACvBF,IAAK,qBACL7U,MAAO,WACL,IAAI6pB,EAAW7nB,KAAK2P,QAAQkY,SAC5B7nB,KAAKmsH,eAAiBnsH,KAAK2P,QAAQ+vF,cACnC1/F,KAAKqnB,OAASQ,EAASjZ,IAAI,SAC3B5O,KAAKiO,UAAY4Z,EAASjZ,IAAI,YAC9B5O,KAAK2f,iBAAmBkI,EAASjZ,IAAI,mBAErC,IAAIrB,EAAOvN,KAAKqnB,OAAOxT,UAEnBK,EAAQlU,KAAKgD,MAAMkR,MAEvBlU,KAAKmsH,eAAeG,kBAAkB/+G,EAAK5E,GAAI3I,KAAKssH,mBAEpDtsH,KAAKmsH,eAAeG,kBAAkBp4G,EAAMvL,GAAI3I,KAAKssH,qBAEtD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAKqnB,OAAOxT,UAEnBK,EAAQlU,KAAKgD,MAAMkR,MAEvBlU,KAAKmsH,eAAeK,mBAAmBj/G,EAAK5E,GAAI3I,KAAKssH,mBAErDtsH,KAAKmsH,eAAeK,mBAAmBt4G,EAAMvL,GAAI3I,KAAKssH,qBAEvD,CACDz5G,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnBkR,EAAQu8G,EAAYv8G,MACpBjV,EAAQwxH,EAAYxxH,MACpBwyH,EAAehB,EAAYgB,aAC3BhgC,EAAkBv9E,EAAMu9E,gBACxBogC,EAAc39G,EAAM29G,YACpBn2F,EAAQxnB,EAAMtF,IAAI,SAClB9J,EAAQoP,EAAMpP,MAAQoP,EAAMpP,MAAQ,KAAO,QAC/C,OAAOy2G,GAAY,EAAG,KAAM,0BAA2B,CAACv7G,KAAK2vH,UAAU,CACrElzH,KAAM,aACNkT,QAAS,CACPkgH,SAAU,aACVpiH,IAAKzN,KAAK2f,iBAAiB/Q,IAAIsF,EAAMvL,IACrC1J,MAAOA,EACPwyH,aAAcA,GAEhBhkH,IAAKyG,IACHqnG,GAAY,EAAG,MAAO,SAAoB,IAAVt8G,EAAce,KAAKiyF,WAAW,QAAUjyF,KAAKiyF,WAAW,OAAQ,GAAIv2D,EAAQ6/E,GAAY,EAAG,MAAO,cAAe7/E,EAAO,EAAG,CAC7J,MAAS17B,KAAKiyF,WAAW,iBACtBspB,GAAY,EAAG,MAAO,mBAAoB9pB,EAAgBngD,KAAM,EAAG,CACtE,MAAStxC,KAAKiyF,WAAW,sBACvBspB,GAAY,EAAG,MAAO,iBAAkBsW,GAAeA,EAAYvgF,MAAQmgD,EAAgBD,QAAS,EAAG,CACzG,MAASqgC,GAAeA,EAAYvgF,KAAOtxC,KAAKiyF,WAAW,gBAAkBjyF,KAAKiyF,WAAW,iBAC1F,EAAG,CACN,cAAe/9E,EAAMvL,GACrB,WAAc3I,KAAKy0H,QACnB,cAAiBz0H,KAAKw8H,cACtB,MAAS,CACP13H,MAAOA,UAxH6D,GAAkBqH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8HrP0xH,EAxGoB,CAyG3B,ICvIF,SAAS,GAAQp+H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAO3M,IAAI,GAA2B,SAAU8sH,IArBzC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAU6xH,EAAavR,GAEvB,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAao2G,GAE1B,SAASA,EAAYx6H,EAAO2M,GAC1B,IAAInD,GAjCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAMw9H,GAItB,GAAgB,GAFhBhxH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,YAAY,SAAU3R,GACnEwO,EAAMq/G,SAAS,CACb7tH,MAAOA,IAGT,IAAIujH,EAAW/0G,EAAMxJ,MAAMu+G,SAEH,mBAAbA,GAIXA,EAASvjH,MAGX,GAAgB,GAAuBwO,GAAQ,gBAAgB,SAAUgD,GACvEA,EAAM4S,iBACN5S,EAAM4B,kBAEN5E,EAAMixH,mBAAmBjxH,EAAM6zC,MAAMq9E,gBAErClxH,EAAMmxH,gBAGR,GAAgB,GAAuBnxH,GAAQ,WAAW,SAAUgD,GAClE,IAAIxR,EAAQwR,EAAMlS,OAAOU,MAEzBwO,EAAM+0G,SAASvjH,MAGjB,GAAgB,GAAuBwO,GAAQ,iBAAiB,SAAUxO,EAAOwR,GAC/EA,EAAM4S,iBACN5S,EAAM4B,kBAEN5E,EAAMixH,mBAAkB,GAExBjxH,EAAM+0G,SAASvjH,GAEfwO,EAAMmxH,gBAGR,GAAgB,GAAuBnxH,GAAQ,kBAAkB,SAAU24B,GACzE34B,EAAM8sH,WAAWn0F,EAAI7nC,WAGvB,GAAgB,GAAuBkP,GAAQ,iBAAiB,SAAU24B,GACxE34B,EAAM8sH,WAAWn0F,EAAI7nC,WAGvB,GAAgB,GAAuBkP,GAAQ,aAAa,SAAU24B,GACpE,IAAIu4F,EAAiBlxH,EAAM6zC,MAAMq9E,eAC7B3gG,EAAOoI,EAAIiiC,MAEF,KAATrqC,GAAwB,KAATA,IACjBoI,EAAI/zB,kBACJ+zB,EAAI/iB,iBAECs7G,EAGHlxH,EAAM8B,OAAgB,KAATyuB,EAAc,GAAK,GAFhCvwB,EAAMixH,mBAAkB,IAMxBC,IAGW,KAAT3gG,GAAwB,KAATA,IACjBoI,EAAI/zB,kBACJ+zB,EAAI/iB,iBAEJ5V,EAAMixH,mBAAkB,QAK9B,GAAgB,GAAuBjxH,GAAQ,cAAc,SAAUoxH,GAGrE,GAFqBpxH,EAAM6zC,MAAMq9E,eAOjC,OAAgB,KAAZE,GACFpxH,EAAMixH,mBAAkB,IAEjB,QAHT,KAOFnP,GAAO,GAAuB9hH,IAC9B,IAAIqxH,EAAS76H,EAAMhF,MAMnB,OALAwO,EAAM6zC,MAAQ,CACZriD,MAAO6/H,EACPH,gBAAgB,GAElBlxH,EAAMsxH,UAAY,KACXtxH,EAkMT,OAtUoBL,EAuIPqxH,GAvIoBzqH,EAuIP,CAAC,CACzBF,IAAK,oBACL7U,MAAO,WACLyE,SAASmpB,iBAAiB,YAAa5rB,KAAK+9H,eAC5Ct7H,SAASmpB,iBAAiB,UAAW5rB,KAAK05H,gBAC1C15H,KAAKo8F,SAASR,YAAY57F,KAAKg+H,cAEhC,CACDnrH,IAAK,uBACL7U,MAAO,WACLyE,SAASqpB,oBAAoB,UAAW9rB,KAAK05H,gBAC7Cj3H,SAASqpB,oBAAoB,YAAa9rB,KAAK+9H,eAC/C/9H,KAAKo8F,SAASP,eAAe77F,KAAKg+H,YAClCh+H,KAAKi+H,mBAEN,CACDprH,IAAK,4BACL7U,MAAO,SAAmCgF,GACxC,IAAIhF,EAAQgF,EAAMhF,MAClBgC,KAAK6rH,SAAS,CACZ7tH,MAAOA,MAGV,CACD6U,IAAK,sBACL7U,MAAO,SAA6B2oH,EAAW2D,GACxBA,EAAUoT,eAGxB19H,KAAK89H,WACR99H,KAAKk+H,cAGHl+H,KAAK89H,WACP99H,KAAKi+H,mBAIV,CACDprH,IAAK,qBACL7U,MAAO,WAGL,GAFqBgC,KAAKqgD,MAAMq9E,gBAER19H,KAAKm+H,UAA7B,CAIA,IAAIC,EAAgBp+H,KAAKq+H,mBACzB,iBAAOr+H,KAAK89H,UAAUz/H,MAAO+/H,MAE9B,CACDvrH,IAAK,mBACL7U,MAAO,WACL,IAAIib,EAAYjZ,KAAK0f,SAASsJ,eAE1Bs1G,EAAwBrlH,EAAUskC,wBAClCghF,EAAeD,EAAsBn5H,IACrCq5H,EAAgBF,EAAsBh5H,KAEtCm5H,EAAwBz+H,KAAKm+H,UAAU5gF,wBACvCmhF,EAAWD,EAAsBt5H,IACjCw5H,EAAYF,EAAsBn5H,KAClCR,EAAQ25H,EAAsB35H,MAG9BK,EAAMu5H,EAFGD,EAAsB15H,OAELw5H,EAAetlH,EAAU+gH,UACnD10H,EAAOq5H,EAAYH,EAAgBvlH,EAAUghH,WACjD,MAAO,CACL90H,IAAK,GAAG+T,OAAO/T,EAAK,MACpBG,KAAM,GAAG4T,OAAO5T,EAAM,MACtBR,MAAO,GAAGoU,OAAOpU,EAAO,SAG3B,CACD+N,IAAK,cACL7U,MAAO,WACLgC,KAAK89H,UAAY,iBAAO,0CACR99H,KAAK0f,SAASsJ,eACpBrrB,YAAYqC,KAAK89H,WAE3B99H,KAAK89H,UAAUlyG,iBAAiB,YAAa,MAE9C,CACD/Y,IAAK,iBACL7U,MAAO,WACDgC,KAAK89H,YACP99H,KAAK89H,UAAUhyG,oBAAoB,YAAa,IAEhD,iBAAU9rB,KAAK89H,WACf99H,KAAK89H,UAAY,QAGpB,CACDjrH,IAAK,aACL7U,MAIA,WACE,IAAIH,EAAOmC,KAAKm+H,UAChBtgI,EAAK+b,QAED,mBAAoB/b,IACtBA,EAAKygB,eAAiB,OAGzB,CACDzL,IAAK,aACL7U,MAAO,SAAoBy7H,IACrBz5H,KAAK89H,WAAc99H,KAAK89H,UAAUn8H,SAAS83H,IAAiBz5H,KAAKK,WAAWsB,SAAS83H,IACvFz5H,KAAKy9H,mBAAkB,KAG1B,CACD5qH,IAAK,SACL7U,MAAO,SAAgB+iB,GACrB,IAAIlT,EAAU7N,KAAKgD,MAAM6K,QACrB7P,EAAQgC,KAAKqgD,MAAMriD,MAEvB,GAAK6P,EAAL,CAIA,IAAIqkF,EAASrkF,EAAQnG,QAAO,SAAUhI,GACpC,OAAOA,EAAE1B,QAAUA,KAClB,GACCgJ,EAAMkrF,EAASrkF,EAAQzO,QAAQ8yF,IAAW,EAC1C0sC,GAAmB,IAAT53H,EAA2B,IAAd+Z,EAAkB,EAAIlT,EAAQxO,OAAS,GAAK2H,EAAM+Z,GAAalT,EAAQxO,OAC9Fw/H,EAAahxH,EAAQ+wH,EAAU,EAAI/wH,EAAQxO,OAASu/H,EAAUA,GAClE5+H,KAAKuhH,SAASsd,EAAW7gI,UAE1B,CACD6U,IAAK,oBACL7U,MAAO,SAA2B0/H,GAChC19H,KAAK6rH,SAAS,CACZ6R,eAAgBA,MAGnB,CACD7qH,IAAK,gBACL7U,MAAO,SAAuB6P,EAASixH,GACrC,IAAIhyH,EAAS9M,KAEb,OAAOu7G,GAAY,EAAG,MAAO,UAAW1tG,EAAQiN,KAAI,SAAUo3E,GAC5D,OAAOqpB,GAAY,EAAG,MAAO,CAAC,SAAUujB,IAAiB5sC,EAAS,SAAW,IAAIjxF,KAAK,KAAMixF,EAAOx2D,MAAO,EAAG,CAC3G,aAAcw2D,EAAOl0F,MACrB,QAAW,SAAiBP,GAC1B,OAAOqP,EAAOiyH,cAAc7sC,EAAOl0F,MAAOP,SAG5C,KAEL,CACDoV,IAAK,SACL7U,MAAO,WACL,ItFopDgB+J,EAAUkR,EsFppDtB/L,EAASlN,KAETywH,EAAczwH,KAAKgD,MACnBjC,EAAY0vH,EAAY1vH,UACxB8M,EAAU4iH,EAAY5iH,QACtBmxH,EAAUvO,EAAYuO,QACtBvzC,EAAQglC,EAAYhlC,MACpBukC,EAAchwH,KAAKqgD,MACnBq9E,EAAiB1N,EAAY0N,eAC7B1/H,EAAQgyH,EAAYhyH,MACpBk0F,IAASrkF,GAAUA,EAAQnG,QAAO,SAAUhI,GAC9C,OAAOA,EAAE1B,QAAUA,KAClB,GACC09B,EAAQw2D,EAASA,EAAOx2D,MAAQ19B,EACpC,OAAOu9G,GAAY,EAAG,MAAO,CAACx6G,GAAa,GAAI,oBAAoBE,KAAK,KAAM,CAAC+9H,EAAUzjB,GAAY,EAAG,MAAO,YAAa7/E,EAAO,EAAG,CACpI,SAAY,IACZ,UAAa17B,KAAKy8H,WACjB,MAAM,SAAU5+H,GACjB,OAAOqP,EAAOixH,UAAYtgI,KACvB09G,GAAY,GAAI,QAAS,YAAa,KAAM,EAAG,CAClD,QAAWv7G,KAAKi3H,QAChB,UAAaj3H,KAAKy8H,UAClB,WAAc,QACd,KAAQ,OACR,MAASz+H,GACR,MAAM,SAAUH,GACjB,OAAOqP,EAAOixH,UAAYtgI,KACxB09G,GAAY,EAAG,OAAQ,CAAC,wBAAyBmiB,EAAiB,cAAgB,iBAAiBz8H,KAAK,MAAOy8H,ItFynDnG31H,EsFznDkI/H,KAAKi/H,cAAcpxH,EAASqkF,GtFynDpJj5E,EsFznD6JjZ,KAAK89H,UtF0nDvLviB,GAAY,KAAmBtiG,EAAW,KAAMlR,EAAU,EAAyB,KAAM8yG,GAAU9yG,GAAY,KAAOA,EAAS8K,IAAK,QsF1nDgE,EAAG,CAC1M,MAAS44E,EACT,QAAWzrF,KAAKk/H,cACf,MAAM,SAAUrhI,GACjB,OAAOqP,EAAO7M,WAAaxC,UAjU2C,GAAkBsO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAsUrP2xH,EA/SsB,CAgT7B,IAKF,SAAS,GAAgBhuH,GACvBA,EAAM4B,kBCrVR,SAAS,GAAQjS,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GD4TxM,GAAY6O,QAAU,CAAC,WAAY,YCrTnC,IAAI,GAA2B,SAAU09G,IAnBzC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUwzH,EAAalT,GAEvB,IAxBoB9/G,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAa+3G,GAE1B,SAASA,EAAYn8H,EAAO2M,GAC1B,IAAInD,GA/BR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAMm/H,IAEtB3yH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3BtF,UAAYsF,EAAQkY,SAAWlY,EAAQkY,SAASjZ,IAAI,aAAe,GACzE,IAAIwwH,EAA4Bp8H,EAAMo8H,0BAA0BphI,MA+ChE,OA7CAwO,EAAM6yH,sBAAwB,SAAUC,GACtC9yH,EAAMswH,aAAa,CACjBwC,mBAAoBA,KAIxB9yH,EAAM+yH,YAAc,SAAUjuF,GAC5B,IAAIguF,EAAqB9yH,EAAMxJ,MAAMs8H,mBACjCE,EAAS,CACXluF,KAAMA,GAGJmuF,GAAYnuF,KAAUguF,IACxBE,EAAOF,mBAAqBF,GAGzBK,GAAYnuF,IAASguF,IAAuBF,IAC/CI,EAAOF,wBAAqB9gI,GAG9BgO,EAAMswH,aAAa0C,IAGrBhzH,EAAMkzH,qBAAuB,SAAUjM,GACrCjnH,EAAM6yH,sBAAsB5L,IAG9BjnH,EAAMmzH,kBAAoB,SAAU3hI,GAElC,IAAI09B,EAAQ19B,QAASQ,EAErBgO,EAAMswH,aAAa,CACjBphG,MAAOA,KAIXlvB,EAAMozH,0BAA4B,SAAU5hI,GAE1C,IAAI6hI,EAAgB7hI,QAASQ,EAE7BgO,EAAMswH,aAAa,CACjB+C,cAAeA,KAIZrzH,EA8CT,OA9HoBL,EAmFPgzH,GAnFoBpsH,EAmFP,CAAC,CACzBF,IAAK,eACL7U,MAAO,SAAsB++H,GAC3B,IAAIxb,EAAWvhH,KAAKgD,MAAMu+G,SAEF,mBAAbA,GACTA,EAASwb,KAGZ,CACDlqH,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnBs8H,EAAqB7O,EAAY6O,mBACjC5L,EAAsBjD,EAAYiD,oBAClCmM,EAAgBpP,EAAYoP,cAC5BnkG,EAAQ+0F,EAAY/0F,MACpB4V,EAAOm/E,EAAYn/E,KACvB,OAAOiqE,GAAY,EAAG,MAAO,qDAAsD,CAACA,GAAY,EAAG,MAAO,mBAAoBK,GAAqB,EAAG,GAAiB,CACrK,UAAa,kBACb,MAASlgF,GAAS,GAClB,YAAe17B,KAAKqK,UAAU,SAC9B,YAAc,EACd,QAAWrK,KAAK2/H,oBACd,GAAIpkB,GAAY,EAAG,MAAO,mBAAoB,CAACA,GAAY,EAAG,QAAS,YAAav7G,KAAKqK,UAAU,cAAe,GAAIuxG,GAAqB,EAAG,GAAiB,CACjK,YAAe,mBACf,UAAa,CAAC,WAAY,aAAa36G,KAAK,KAC5C,QAAWjB,KAAKu/H,YAChB,MAASjuF,GAAQ,MACd,GAAIiqE,GAAY,EAAG,MAAO,mBAAoB,CAACA,GAAY,EAAG,QAAS,YAAav7G,KAAKqK,UAAU,uBAAwB,GAAIuxG,GAAqB,EAAG,GAAa,CACvK,UAAa,eACb,MAAS0jB,GAAsB,GAC/B,SAAYt/H,KAAK0/H,qBACjB,QAAWhM,KACR,GAAInY,GAAY,EAAG,MAAO,mBAAoB,CAACA,GAAY,EAAG,QAAS,YAAav7G,KAAKqK,UAAU,kBAAmB,GAAIuxG,GAAqB,EAAG,GAAO,CAC5J,UAAa,qBACb,MAASikB,GAAiB,GAC1B,QAAW7/H,KAAK4/H,0BAChB,YAAe5/H,KAAKqK,UAAU,gBAC3B,IAAK,QA1H8D,GAAkB8B,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8HrPszH,EAzGsB,CA0G7B,IAIF,SAASM,GAAYnuF,GACnB,OAAOA,GAAQA,EAAK7vC,MAAM,MAAMpC,OAAS,EAG3C,SAAS,GAAcsL,GACrB,OAAOA,EChJT,SAAS,GAAQxL,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,IAAI,GAAY,CAAC,gBAAiB,SAGlC,SAAS,GAAQ4D,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS,GAAczB,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI,GAAQE,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW,GAAQ/J,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAEjf,SAAS,GAAyBuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxM,CAA8BuL,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAMne,SAAS,GAAkBA,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAM3M,IAAI,GAAoC,SAAU8sH,IApBlD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAqBpb,CAAUm0H,EAAsB7T,GAEhC,IAzBoB9/G,EAAa4G,EAAYC,EAyBzCoU,EAAS,GAAa04G,GAE1B,SAASA,EAAqB98H,EAAO2M,GACnC,IAAInD,EAiDJ,OAjFJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAkC5G,CAAgB5L,KAAM8/H,GAItB,GAAgB,GAFhBtzH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,kBAAkB,WAC/D,IAAIuE,EAAQ1H,EAAMxJ,MAAM2M,QAAQuE,MAC5B+oH,EAAUzwH,EAAM6zC,MAAM48E,QAE1B,GAAKA,EAAL,CAIA,IA2EW99H,EA3EP0gI,EAAgB5C,EAAQ4C,cACxBnkG,EAAQuhG,EAAQvhG,MAChBqkG,EAA4B,GAAyB9C,EAAS,IAE9DF,EAAU,GAEV,kBAAmBE,IACrBF,EAAQ8C,cAAgBA,GAGtB,UAAW5C,IACbF,EAAQrhG,MAAQA,GAgEPv8B,EA7DC4gI,EA8DTjhI,OAAOC,KAAKI,GAAKE,SA7DlB09H,EAAQtrC,gBAAkBsuC,GAG5BvzH,EAAM4G,SAASkiF,iBAAiBphF,EAAO6oH,GAEvCvwH,EAAMq/G,SAAS,CACboR,SAAS,QAIb,GAAgB,GAAuBzwH,GAAQ,gBAAgB,SAAUuwH,GACvEvwH,EAAMq/G,SAAS,CACboR,QAAS,GAAc,GAAc,GAAIzwH,EAAM6zC,MAAM48E,SAAUF,IAC9DvwH,EAAM0wH,mBAGX1wH,EAAM6zC,MAAQ,GACdiuE,GAAO,GAAuB9hH,IAC9BA,EAAM0wH,eAAiB1wH,EAAMurH,cAAcvrH,EAAM0wH,gBACjD1wH,EAAMwzH,qBAAuBrwH,EAAQkY,SAASjZ,IAAI,uBAC3CpC,EAkCT,OA/GoBL,EAgFP2zH,GAhFoB/sH,EAgFE,CAAC,CAClCF,IAAK,WACL7U,MAAO,SAAkBO,GACvB,IAAI2V,EAAQlU,KAAKgD,MAAM2M,QAAQuE,MAC3B+oH,EAAUj9H,KAAKqgD,MAAM48E,QACrB3/H,EAAS4W,EAMb,MAJa,uBAAT3V,GAA0C,SAATA,IACnCjB,EAASA,EAAOm0F,iBAGXwrC,GAAW1+H,KAAQ0+H,EAAUA,EAAQ1+H,GAAQjB,EAAOsR,IAAIrQ,KAEhE,CACDsU,IAAK,SACL7U,MAAO,WACL,IAAIiiI,EAAkBjgI,KAAKggI,qBAAqBE,WAAW,iBACvDxM,EAAsB1zH,KAAKggI,qBAAqB53F,SAEpD,OAAOwzE,GAAqB,EAAG,GAAa,CAC1C,mBAAsB57G,KAAKm9H,SAAS,uBAAyB8C,EAAgBjiI,MAC7E,oBAAuB01H,EACvB,0BAA6BuM,EAC7B,cAAiBjgI,KAAKm9H,SAAS,iBAC/B,MAASn9H,KAAKm9H,SAAS,SACvB,KAAQn9H,KAAKm9H,SAAS,QACtB,SAAYn9H,KAAK88H,oBA1GqD,GAAkB3wH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA+GrPi0H,EAzF+B,CA0FtC,ICjIF,SAAS,GAAkBxiI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EDkI/Q,GAAqBoC,QAAU,CAAC,gBAAiB,WAAY,YC1H7D,IAAI,GAAiC,IAAa,SAAS4xH,EAAkB9xF,EAAYksF,EAAaxsH,EAAU2R,IANhH,SAAyBxT,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAO9G,CAAgB5L,KAAMmgI,GAEtB9xF,EAAW0iF,eAAe,QAAQ,SAAUz7G,GAG1C,GAAiB,iBAFFA,EAAKu6G,SAGlB,OAAO,MAGXxhF,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAgC,eAA5BiM,EAAQ0rH,gBACV,OAAO,MAGXttH,EAASK,GAAG,cAAc,SAAUoH,GAClC,IAAIhG,EAAQgG,EAAMhG,MACd0E,EAAQsB,EAAMtB,MACd5W,EAASkS,EAAMlS,OAGf+/H,EAFO,kBAAW//H,EAAQ,MAAM,GAEHigD,wBAC7Bj4C,EAAO+3H,EAAsB/3H,KAC7BH,EAAMk4H,EAAsBl4H,IAEhCo1H,EAAYthF,KAAK,CACfv0C,EAAGY,EACHT,EAAGM,EACHssC,MAAO,gBACN,CACD4pF,gBAAiB,aACjBnnH,MAAOA,UC3Cb,SAAS,GAAQ/U,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GD2BxM,GAAkB6O,QAAU,CAAC,aAAc,cAAe,WAAY,YCpBtE,IAAIjB,GAAQ,CAAC,SAAU,UAAW,UAAW,OAAQ,SAAU,QAE3D,GAAsC,SAAU2+G,IArBpD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAUy0H,EAAwBnU,GAElC,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAag5G,GAE1B,SAASA,EAAuBp9H,EAAO2M,GACrC,IAAInD,EA6BJ,OA9DJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAMogI,GAf1B,SAAyBjhI,EAAK0T,EAAK7U,GAAa6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAmBvL,CAAgB,GAFhBwO,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,IAEqB,gBAAgB,SAAUhF,GACvE,IAGIk3F,EAHA14F,EAAUgQ,EAAM6zH,aAEhB1/G,EAAgB,YAAGnkB,EAAS,yBAA2BA,EAAQy7C,QAAUz7C,EAGzE,YAAQmkB,GACVu0E,EAAgB,CACdzD,gBAAiB,CACfD,QAASxzF,IAGJ,YAAS2iB,KAClBu0E,EAAgB,CACd1D,QAASxzF,IAIbwO,EAAMkvD,UAAU45B,iBAAiB30E,EAAeu0E,MAGlD1oF,EAAMylF,WAAatiF,EAAQkY,SAASjZ,IAAI,aACxCpC,EAAMkvD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YAChCpC,EA4BT,OAtFoBL,EA6DPi0H,GA7DoBrtH,EA6DI,CAAC,CACpCF,IAAK,aACL7U,MAAO,WACL,OAAOgC,KAAKgD,MAAM2M,QAAQuE,OAASlU,KAAKgD,MAAM2M,QAAQ8E,SAEvD,CACD5B,IAAK,SACL7U,MAAO,WACL,IAAIxB,EAAUwD,KAAKqgI,aACf7uC,GAAW,YAAGh1F,EAAS,mBAAqBA,EAAQi1F,gBAAkBj1F,GAASg1F,QAC/E8uC,EAAiBhzH,GAAMwN,KAAI,SAAU1d,GACvC,MAAO,CACLs+B,MAAOt+B,EACPY,MAAOZ,MAGX,OAAOm+G,GAAY,EAAG,MAAO,uCAAwCA,GAAY,EAAG,MAAO,mBAAoB,CAACA,GAAY,EAAG,QAAS,YAAa,CAACv7G,KAAKiyF,WAAW,QAAS+pB,GAAgB,MAAO,GAAIJ,GAAqB,EAAG,GAAa,CAC7O,UAAa,uBACb,SAAY57G,KAAKugI,aACjB,QAAWD,EACX,MAAS9uC,KACN,GAAI,QAlF+D,GAAkBrlF,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAsFrPu0H,EA/DiC,CAgExC,IC/FF,SAAS,GAAkB9iI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAAuB,IAAa,SAASq0H,EAAQnyF,IALzD,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMwgI,GAEtBnyF,EAAW0iF,eAAe,eALT,KAKuC,WACtD,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAC9E23H,EAAkB1rH,EAAQ0rH,gBAE9B,GAAwB,eAApBA,GAAwD,gBAApBA,EACtC,OAAO,SAMb,GAAQ9sH,QAAU,CAAC,cCrBJ,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,0BACXkwH,uBAAwB,CAAC,OAAQ,K,UCLnC,SAAS,GAAQthI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAQ7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GASxM,IAAI,GAA2C,SAAUgjG,IArBzD,SAAmBh3F,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAU+0H,EAA6Bh+B,GAEvC,IA5BoBv2F,EAAa4G,EAAYC,EA4BzCoU,EAAS,GAAas5G,GAE1B,SAASA,EAA4B3yH,EAAUqF,GAC7C,IAAI5G,EAmBJ,OAhDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA+B5G,CAAgB5L,KAAM0gI,IAEtBl0H,EAAQ4a,EAAOlmB,KAAKlB,KAAM+N,IAEpBi0F,aAAa,4BAA4B,SAAUxyF,GACvD,IAAImxH,EAAiBnxH,EAAMG,QACvBnT,EAAUmkI,EAAenkI,QACzB+lD,EAAao+E,EAAep+E,WAC5Bq+E,EAAmB,YAAQpkI,GAAW+lD,EAAWkvC,gBAAkBlvC,EAEvE,GAAIq+E,GAAoBA,EAAiBpvC,SAAwC,WAA7BovC,EAAiBpvC,QAAsB,CACzF,IAAIl0F,EAAS,YAAGd,EAAS,yBAA2BA,EAAQy7C,QAAUz7C,EAEtE4W,EAASytH,kBAAkBvjI,EAAQ,UAIhCkP,EAGT,OArDoBL,EAqDAu0H,EArD4C3tH,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAyBhO,CA6B7C,MC1DF,SAAS,GAAQhN,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EDqC3M,GAA4BoP,QAAU,CAAC,WAAY,YCjCnD,IAeI,GAAoB,SAAU09G,IAjClC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAkCpb,CAAUm1H,EAAM7U,GAEhB,IAtCoB9/G,EAAa4G,EAAYC,EAsCzCoU,EAAS,GAAa05G,GAE1B,SAASA,EAAK99H,EAAO2M,GACnB,IAAInD,GA7CR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA+C5G,CAAgB5L,KAAM8gI,GAItB,GAAgB,GAFhBt0H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,yBAAyB,SAAUigB,GAChF,OAAO,SAAUnyB,GACfA,EAAE2T,kBAEF5E,EAAMu0H,WAAWnxG,OAIrB,GAAgB,GAAuBpjB,GAAQ,yBAAyB,SAAUojB,GAChF,OAAO,SAAUnyB,GACfA,EAAE2T,kBAEF5E,EAAMw0H,WAAWpxG,OAIrB,GAAgB,GAAuBpjB,GAAQ,cAAc,SAAUojB,GACrE,IAAI2xF,EAAW/0G,EAAMxJ,MAAMu+G,SAEvB0f,EAAWz0H,EAAM6zC,MAAM6gF,MAAMx5H,QAAO,SAAU9I,GAChD,OAAOA,IAAMgxB,KAGfpjB,EAAMq/G,SAAS,CACbqV,MAAOD,IAGT1f,GAAYA,EAAS0f,MAGvB,GAAgB,GAAuBz0H,GAAQ,cAAc,SAAUojB,GACrE,IAAI6gG,EAAcjkH,EAAMxJ,MACpBu+G,EAAWkP,EAAYlP,SACvB9kH,EAAOg0H,EAAYh0H,KAEnBwkI,EAAWz0H,EAAM6zC,MAAM6gF,MAAMpmH,KAAI,SAAUlc,GAS7C,OARIA,IAAMgxB,EACRhxB,EAAEuiI,WAAaviI,EAAEuiI,UAhEf,UAkEE1kI,IACFmC,EAAEuiI,WAAY,GAIXviI,KAGT4N,EAAMq/G,SAAS,CACbqV,MAAOD,IAGT1f,GAAYA,EAAS0f,MAGvB,IAAIC,EAAQl+H,EAAMk+H,MAIlB,OAHA10H,EAAM6zC,MAAQ,CACZ6gF,MAAOA,GAEF10H,EA+CT,OAxJoBL,EA4GP20H,GA5GoB/tH,EA4Gd,CAAC,CAClBF,IAAK,4BACL7U,MAAO,SAAmCgF,GACxC,IAAIk+H,EAAQl+H,EAAMk+H,MAClBlhI,KAAK6rH,SAAS,CACZqV,MAAOA,MAGV,CACDruH,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAETi4H,EAAej4H,KAAKgD,MACpBjC,EAAYk3H,EAAal3H,UACzBmgI,EAAQjJ,EAAaiJ,MACrBzkI,EAAOw7H,EAAax7H,KACpB2kI,EAAiBnJ,EAAamJ,eAC9BzhI,EAAU,CAAC,sBAEXoB,GACFpB,EAAQmB,KAAKC,GAIf,IACIsgI,EAwBV,SAAiBt+H,GACf,IAAIu+H,EAAS,GAEb,IAAK,IAAIzuH,KAAO9P,EACdu+H,EAAOxgI,KAAK,CAAC+R,EAAK9P,EAAO8P,KAG3B,OAAOyuH,EA/BWC,CADK,kBAAQL,EAAO,UAElC,OAAO3lB,GAAY,EAAG,MAAO57G,EAAQsB,KAAK,KAAMogI,EAAQvmH,KAAI,SAAUq5D,GACpE,IAAIqtD,EAAartD,EAAK,GAClBstD,EAAattD,EAAK,GACtB,OAAOonC,GAAY,EAAG,MAAO,QAAS,CAAC6lB,GAAkBA,EAAeI,IAAejmB,GAAY,EAAG,KAAM,cAAeimB,EAAY,GAAIjmB,GAAY,EAAG,KAAM,gBAAiBkmB,EAAW3mH,KAAI,SAAU8U,GACxM,OAAO2rF,GAAY,EAAG,KAAM,OAAQ,CAAC9+G,GAAQ8+G,GAAY,GAAI,QAAS,cAAe,KAAM,EAAG,CAC5F,KAAQ9+G,EACR,QAAWmzB,EAAKuxG,UAChB,QAAWr0H,EAAO40H,sBAAsB9xG,KACtCosF,GAAgB,KAASpsF,EAAK5xB,MAAO4xB,EAAK+xG,aAAepmB,GAAY,EAAG,OA1HjE,wBA0HyF,KAAM,EAAG,CAC3G,MAAS,cACT,QAAWzuG,EAAO80H,sBAAsBhyG,MACrC,MACH,IAAK,MACP,QApJoE,GAAkBzjB,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAwJrPi1H,EArHe,CAsHtB,ICjKF,SAAS,GAAQ3hI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GASxM,IAAI,GAA8B,SAAUusH,IArB5C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAUk2H,EAAgB5V,GAE1B,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAay6G,GAE1B,SAASA,EAAe7+H,EAAO2M,GAC7B,IAAInD,GAjCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAM6hI,GAEtBr1H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GACjC,IAAIq1C,EAAWhiD,EAAMgiD,SACjBhnD,EAAQgF,EAAMhF,MACd8jI,EAAoB98E,EAAWA,EAAShnD,GAAS,SAAMQ,EAQ3D,OAPAgO,EAAM6zC,MAAQ,CACZyhF,kBAAmBA,EACnB9jI,MAAOA,GAETwO,EAAMyqH,QAAUzqH,EAAMyqH,QAAQ5zG,KAAK,GAAuB7W,IAC1DA,EAAMiwH,UAAYjwH,EAAMiwH,UAAUp5G,KAAK,GAAuB7W,IAC9DA,EAAMkwH,QAAUlwH,EAAMkwH,QAAQr5G,KAAK,GAAuB7W,IACnDA,EAwGT,OApJoBL,EA+CP01H,GA/CoB9uH,EA+CJ,CAAC,CAC5BF,IAAK,4BACL7U,MAAO,SAAmCgF,GACxC,IAAIgiD,EAAWhiD,EAAMgiD,SACjBhnD,EAAQgF,EAAMhF,MACd8jI,EAAoB98E,EAAWA,EAAShnD,GAAS,SAAMQ,EAC3DwB,KAAK6rH,SAAS,CACZiW,kBAAmBA,EACnB9jI,MAAOA,MAGV,CACD6U,IAAK,UACL7U,MAAO,SAAiBA,GACtB,IAAIyyH,EAAczwH,KAAKgD,MACnBi0H,EAAUxG,EAAYwG,QACtBjyE,EAAWyrE,EAAYzrE,SACvB88E,EAAoB98E,EAAWA,EAAShnD,QAASQ,EACrDwB,KAAK6rH,SAAS,CACZiW,kBAAmBA,EACnB9jI,MAAOA,IAGc,mBAAZi5H,GAIXA,GAAWA,EAAQ,CACjB1oD,SAAUuzD,EACV9jI,MAAOA,MAGV,CACD6U,IAAK,YACL7U,MAAO,SAAmBwR,GACxB,IACIxR,EADSwR,EAAMlS,OACAU,MACfi6H,EAAej4H,KAAKgD,MACpBy5H,EAAYxE,EAAawE,UACzBz3E,EAAWizE,EAAajzE,SACxB88E,EAAoB98E,EAAWA,EAAShnD,QAASQ,EAE5B,mBAAdi+H,GAIXA,EAAU,CACRluD,SAAUuzD,EACV9jI,MAAOA,EACPwR,MAAOA,MAGV,CACDqD,IAAK,UACL7U,MAAO,SAAiBwR,GACtB,IACIxR,EADSwR,EAAMlS,OACAU,MACf+jI,EAAe/hI,KAAKgD,MACpB05H,EAAUqF,EAAarF,QACvB13E,EAAW+8E,EAAa/8E,SACxB88E,EAAoB98E,EAAWA,EAAShnD,QAASQ,EAE9B,mBAAZk+H,GAIXA,EAAQ,CACNnuD,SAAUuzD,EACV9jI,MAAOA,EACPwR,MAAOA,MAGV,CACDqD,IAAK,SACL7U,MAAO,WACL,IAAIgkI,EAAehiI,KAAKgD,MACpBwc,EAAcwiH,EAAaxiH,YAC3B/iB,EAAOulI,EAAavlI,KACpBsE,EAAYihI,EAAajhI,UACzBivH,EAAchwH,KAAKqgD,MACnByhF,EAAoB9R,EAAY8R,kBAChC9jI,EAAQgyH,EAAYhyH,MACpBikI,EAAgB,CAAC,sBAAuBlhI,GAAWE,KAAK,KACxDihI,EAAe,GAMnB,OAJIJ,GACFI,EAAaphI,KAAK,WAGby6G,GAAY,EAAG,MAAO0mB,EAAe,CAACrmB,GAAqB,EAAG,GAAO,CAC1E,UAAasmB,EACb,QAAWliI,KAAKi3H,QAChB,UAAaj3H,KAAKy8H,UAClB,QAAWz8H,KAAK08H,QAChB,YAAel9G,GAAe,GAC9B,KAAQ/iB,EACR,MAASuB,GAAS,KAChB8jI,GAAqBvmB,GAAY,EAAG,IAAK,kCAAmCumB,EAAmB,IAAK,QAhJhC,GAAkB31H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoJrPg2H,EA7HyB,CA8HhC,IC7JK,SAASM,GAAY/0G,GAE1B,IAAKA,GA4BP,SAAuBA,GACrB,MAAkB,KAAXA,EA7BQg1G,CAAch1G,EAAOiV,QAClC,MAAO,CACL4sB,OAAQ,IAKZ,IAAIA,EAAS7hC,EAAO3rB,MAAM,KACtBoG,EAAS,CACXonD,OAAQ,IAENozE,EAAa,GAYjB,OAXApzE,EAAOjoC,SAAQ,SAAUhpB,GAGnB,YAAYqD,MAFhBghI,GAAcrkI,GAEkBqkC,SAC9Bx6B,EAAOonD,OAAOnuD,KAAKuhI,EAAWhgG,QAC9BggG,EAAa,IAEbA,GAAc,OAIbA,OAAL,EACSx6H,EC1BX,SAAS,GAAQ1I,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAQ3M,IAAI,GAAoC,SAAU8sH,IAtBlD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAuBpb,CAAU22H,EAAsBrW,GAEhC,IA3BoB9/G,EAAa4G,EAAYC,EA2BzCoU,EAAS,GAAak7G,GAE1B,SAASA,EAAqBt/H,EAAO2M,GACnC,IAAInD,GAlCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAoC5G,CAAgB5L,KAAMsiI,GAItB,GAAgB,GAFhB91H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,uBAAuB,SAAUyiD,GAE9E,IAAI3xD,EAASkP,EAAM+1H,yBAEnB/1H,EAAMq/G,SAAS,CACb58D,OAAQA,IAGVziD,EAAMkvD,UAAUmlE,kBAAkBvjI,EAAQ2xD,GDtBzC,SAAwBA,GAC7B,OAAOA,EAAOn0C,KAAI,SAAU9c,GAC1B,OAAOA,EAAMA,SCoByCwkI,CAAevzE,OAGrE,GAAgB,GAAuBziD,GAAQ,gBAAgB,SAAUyiD,GACvEziD,EAAMi2H,oBAAoBxzE,MAG5B,GAAgB,GAAuBziD,GAAQ,WAAW,SAAU8I,GACpDA,EAAKi5D,QAAnB,IACIvwE,EAAQsX,EAAKtX,MAEjBwO,EAAMq/G,SAAS,CACb6W,WAAY1kI,OAIhB,GAAgB,GAAuBwO,GAAQ,aAAa,SAAUgJ,GACpE,IAAI+4D,EAAU/4D,EAAM+4D,QAChB/+D,EAAQgG,EAAMhG,MAElB,GA4Ie,KA5IFA,EAAMwtB,UAInBxtB,EAAM4B,kBACN5B,EAAM4S,iBAEFmsD,GAAS,CACX,IAAIyhD,EAAcxjH,EAAM6zC,MACpBqiF,EAAa1S,EAAY0S,WACzBzzE,EAAS+gE,EAAY/gE,OACrB0zE,EAAeR,GAAYO,GAE/Bl2H,EAAMo2H,cAAc3zE,GAAU,IAAI/1C,OAAOypH,EAAa1zE,OAAOn0C,KAAI,SAAU9c,GACzE,MAAO,CACLA,MAAOA,EACP6kI,aAAa,EACblB,aAAa,EACb36F,MAAO,0BAIXx6B,EAAMq/G,SAAS,CACb6W,WAAY,SAKlB,GAAgB,GAAuBl2H,GAAQ,qCAAqC,SAAU/O,GAC5FA,EAAE2T,kBAEF5E,EAAMs2H,4BAGR,GAAgB,GAAuBt2H,GAAQ,0BAA0B,WACvEA,EAAMi2H,oBAAoB,SAG5Bj2H,EAAMylF,WAAatiF,EAAQkY,SAASjZ,IAAI,aACxCpC,EAAMkvD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvCpC,EAAM2/G,eAAiBx8G,EAAQ+vF,cAE/B,IAAIqjC,EAAUv2H,EAAM+1H,yBAEhBS,EAAgBb,GAAYY,EAAQlR,aAAekR,EAAQlR,YAAYvgF,MAAQyxF,EAAQjR,cAAgBiR,EAAQjR,aAAaxgF,MAAQ,IAqBxI,OAlBE9kC,EAAM6zC,MADJ2iF,EACY,CACZ/zE,OAAQ+zE,EAAc/zE,OAAOn0C,KAAI,SAAU9c,GACzC,MAAO,CACLA,MAAOA,EACP6kI,aAAa,EACblB,aAAa,EACb36F,MAAO,wBAGX07F,WAAY,IAGA,CACZzzE,OAAQ,KACRyzE,WAAY,IAITl2H,EAgET,OArMoBL,EAwIPm2H,GAxIoBvvH,EAwIE,CAAC,CAClCF,IAAK,qBACL7U,MAAO,WACL,IAAIV,EAAS0C,KAAKuiI,yBAElBviI,KAAKmsH,eAAeG,kBAAkBhvH,EAAOqL,GAAI3I,KAAKssH,qBAEvD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIV,EAAS0C,KAAKuiI,yBAElBviI,KAAKmsH,eAAeK,mBAAmBlvH,EAAOqL,GAAI3I,KAAKssH,qBAExD,CACDz5G,IAAK,yBACL7U,MAAO,WACL,IAAIxB,EAAUwD,KAAKqgI,aAEnB,OAAI,YAAG7jI,EAAS,yBACPA,EAAQy7C,QAERz7C,IAGV,CACDqW,IAAK,aACL7U,MAAO,WACL,OAAOgC,KAAKgD,MAAM2M,QAAQ8E,QAAUzU,KAAKgD,MAAM2M,QAAQuE,MAAMu9E,kBAE9D,CACD5+E,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAETxD,EAAUwD,KAAKqgI,aACfnI,EAAel4H,KAAKqgD,MACpBqiF,EAAaxK,EAAawK,WAC1BzzE,EAASipE,EAAajpE,OAC1B,MAA2B,WAApBzyD,EAAQg1F,QAAuB+pB,GAAY,EAAG,MAAO,6CAA8CA,GAAY,EAAG,MAAO,mBAAoB,EAAE,GAAOtsD,IAAWA,EAAO5vD,OAAS,GAAKu8G,GAAqB,EAAG,GAAM,CACzN,eAAkBhgF,GAClB,MAASqzB,EACT,SAAYjvD,KAAK4iI,gBACd,GAAO3zE,KAAYA,EAAO5vD,QAAUk8G,GAAY,EAAG,MAAO,KAAM,CAACA,GAAY,EAAG,QAAS,YAAav7G,KAAKiyF,WAAW,qBAAsB,GAAIspB,GAAY,EAAG,OAAQ,cAAev7G,KAAKiyF,WAAW,aAAc,IAAK,IAAK,GAAOhjC,IAAWssD,GAAY,EAAG,IAAK,WAAYA,GAAY,EAAG,SAAU,aAAcv7G,KAAKiyF,WAAW,4BAA6B,EAAG,CAC1W,KAAQ,SACR,QAAWjyF,KAAKijI,oCACd,GAAI1nB,GAAY,EAAG,QAAS,YAAav7G,KAAKiyF,WAAW,yBAA0B,GAAI2pB,GAAqB,EAAG,GAAgB,CACjI,QAAW57G,KAAKi3H,QAChB,UAAaj3H,KAAKy8H,UAClB,YAAe,wBACf,KAAQ,OACR,SAAY,SAAkBz+H,GAC5B,IAAKmkI,GAAYnkI,GACf,OAAO8O,EAAOmlF,WAAW,sCAG7B,MAASywC,KACN,GAAI,GAAK,UAjM0D,GAAkBv2H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqMrPy2H,EA7K+B,CA8KtC,IAIF,SAAS1mG,GAAMF,GACb,OAAO6/E,GAAY,EAAG,QAAS,YAAa7/E,EAAO,GAQrD,SAAS,GAAO19B,GACd,OAAiB,OAAVA,EC5NT,SAAS,GAAkBV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAAiC,IAAa,SAAS+2H,EAAkB70F,IAL7E,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMkjI,GAEtB70F,EAAW0iF,eAAe,eALT,KAKuC,WACtD,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAC9E23H,EAAkB1rH,EAAQ0rH,gBAE9B,GAAwB,eAApBA,GAAwD,gBAApBA,EACtC,OAAO,SAMb,GAAkB9sH,QAAU,CAAC,cCrBd,QACbgC,SAAU,CAAC,8BAA+B,gCAC1C4yH,4BAA6B,CAAC,OAAQ,IACtCC,6BAA8B,CAAC,OAAQ,KCLzC,SAAS,GAAQjkI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,IAAI,GAAwB,SAAU8sH,IAlBtC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAU03H,EAAUpX,GAEpB,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAai8G,GAE1B,SAASA,EAASrgI,EAAO2M,GACvB,IAAInD,EAwBJ,OAtDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAMqjI,GAItB,GAAgB,GAFhB72H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,eAAe,SAAU/O,GACtEA,EAAE2T,kBAEF5E,EAAM5L,SAGR,GAAgB,GAAuB4L,GAAQ,OAAO,WACpDA,EAAMyB,UAAUS,KAAK,eAGvBlC,EAAM6a,OAAS1X,EAAQkY,SAASjZ,IAAI,SACpCpC,EAAMyB,UAAY0B,EAAQkY,SAASjZ,IAAI,YACvCpC,EAAM2/G,eAAiBx8G,EAAQ+vF,cAC/BlzF,EAAMylF,WAAatiF,EAAQkY,SAASjZ,IAAI,aACjCpC,EAgCT,OAlFoBL,EAqDPk3H,GArDoBtwH,EAqDV,CAAC,CACtBF,IAAK,qBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAK6T,UAEhB7T,KAAKmsH,eAAeG,kBAAkB/+G,EAAK5E,GAAI3I,KAAKssH,qBAErD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAK6T,UAEhB7T,KAAKmsH,eAAeK,mBAAmBj/G,EAAK5E,GAAI3I,KAAKssH,qBAEtD,CACDz5G,IAAK,UACL7U,MAAO,WACL,OAAOgC,KAAKqnB,OAAOxT,YAEpB,CACDhB,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,MAAO,uBAAwBA,GAAY,EAAG,OAAQ,6BAA8B,EAAG,CAC3G,QAAWv7G,KAAKi2H,YAChB,MAASj2H,KAAKiyF,WAAW,oBA7E6C,GAAkB9lF,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAkFrPw3H,EA9DmB,CA+D1B,IC3FF,SAAS,GAAQlkI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,IAAI,GAAyB,SAAU8sH,IAlBvC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAU23H,EAAWrX,GAErB,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAak8G,GAE1B,SAASA,EAAUtgI,EAAO2M,GACxB,IAAInD,EAwBJ,OAtDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAMsjI,GAItB,GAAgB,GAFhB92H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,eAAe,SAAU/O,GACtEA,EAAE2T,kBAEF5E,EAAM5L,SAGR,GAAgB,GAAuB4L,GAAQ,OAAO,WACpDA,EAAMyB,UAAUS,KAAK,gBAGvBlC,EAAM6a,OAAS1X,EAAQkY,SAASjZ,IAAI,SACpCpC,EAAMyB,UAAY0B,EAAQkY,SAASjZ,IAAI,YACvCpC,EAAM2/G,eAAiBx8G,EAAQ+vF,cAC/BlzF,EAAMylF,WAAatiF,EAAQkY,SAASjZ,IAAI,aACjCpC,EAgCT,OAlFoBL,EAqDPm3H,GArDoBvwH,EAqDT,CAAC,CACvBF,IAAK,qBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAK6T,UAEhB7T,KAAKmsH,eAAeG,kBAAkB/+G,EAAK5E,GAAI3I,KAAKssH,qBAErD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAK6T,UAEhB7T,KAAKmsH,eAAeK,mBAAmBj/G,EAAK5E,GAAI3I,KAAKssH,qBAEtD,CACDz5G,IAAK,UACL7U,MAAO,WACL,OAAOgC,KAAKqnB,OAAOxT,YAEpB,CACDhB,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,MAAO,wBAAyBA,GAAY,EAAG,OAAQ,6BAA8B,EAAG,CAC5G,QAAWv7G,KAAKi2H,YAChB,MAASj2H,KAAKiyF,WAAW,qBA7E6C,GAAkB9lF,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAkFrPy3H,EA9DoB,CA+D3B,ICzFa,SAASC,GAAuBl1F,EAAYl7B,EAAepF,GACxEsgC,EAAW0iF,eAAe,cAAc,WACtC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAC9EmsH,EAAWlgH,EAAQkgH,SACnB5wH,EAAQ0Q,EAAQ1Q,MAChBwyH,EAAe9hH,EAAQ8hH,aACvBE,EAAgBhiH,EAAQgiH,cAE5B,MAAiB,eAAb9B,GAA6B5wH,IAAUwyH,EAAe,EACjD,GAGQ,gBAAb5B,GAA8B5wH,IAAU0yH,EAAgB,EACnD,QADT,KAIF5jH,EAASK,GAAG,YAAY,WACtB+E,EAAcqqB,QAAQ,eAExBzvB,EAASK,GAAG,aAAa,WACvB+E,EAAcqqB,QAAQ,gBAG1B+lG,GAAuBh1H,QAAU,CAAC,aAAc,gBAAiB,YCvBlD,QACbiC,YAAa,CAAC,MACdD,SAAU,CAAC,0BACXizH,uBAAwB,CAAC,OAAQD,K,UCHpB,IACb/yH,YAAa,CAAC,MACdD,SAAU,CAAC,YACX6rF,SAAU,CAAC,OAAQ,OCIN,IACb5rF,YAAa,CAAC,GAAgB,GAAsB,GAAa,GAAe,GAA2B,GAAgB,IAC3HD,SAAU,CAAC,uBAAwB,yBACnCkzH,qBAAsB,CAAC,OAAQ,IAC/BC,sBAAuB,CAAC,OAAQ,KCXlC,SAAS,GAAkBpmI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,GAAgBzT,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,IAEI,GAEJ,WACE,SAASwkI,EAAY51H,EAAU2R,EAAUtM,EAAUE,GACjD,IAAI9G,EAAQxM,MAhBhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAkB5G,CAAgB5L,KAAM2jI,GAEtB,GAAgB3jI,KAAM,kBAAkB,SAAUwP,GAEhDovC,GAAUpvC,GACV,IAAIo0H,EAAWp0H,EAAMlS,OACjBumI,EAAS,kBAAWD,EAdR,0EAcmC,GAC/C77G,IAAY87G,EACZC,EAAUt3H,EAAMu3H,aAAaD,QAE7BA,GAAWA,IAAYD,IACzBr3H,EAAMyvC,MAAM,wBAAyBzsC,GAGrChD,EAAMu3H,aAAaH,SAAW,KAE9Bp3H,EAAMu3H,aAAaD,QAAU,MAG3BD,IAEEA,IAAWC,IAEbt3H,EAAMu3H,aAAaD,QAAUD,GAGb,KAFhB97G,EAAUvb,EAAMyvC,MAAM,wBAAyBzsC,MAI7ChD,EAAMu3H,aAAaH,SAAWC,IAKlC97G,EAAUvb,EAAMyvC,MAAM,uBAAwBzsC,IAGhDA,EAAMw0H,aAAaC,YAAyB,IAAZl8G,EAAoB,OAAS,UAG/D,GAAgB/nB,KAAM,cAAc,SAAUwP,GAG5CovC,GAAUpvC,GAEV,IAAIlS,EAASkP,EAAMyvC,MAAM,mBAAoBzsC,GAE7C,GAAIlS,EAAQ,CACV,IAAI4mI,EAAiB13H,EAAMu3H,aAAaG,eAExC,GAAIA,aAA0B,KAAK,CACjC,IAGIjlI,EAHuBuN,EAAM6a,OAAOxT,UACRnH,KAEftN,QAAQ9B,GAEzBkP,EAAMkvD,UAAU8D,QAAQ0kE,EAAgBjlI,QACnC,GAAIilI,aAA0B,KAAK,CACxC,IAGIvlE,EAHwBnyD,EAAM6a,OAAOxT,UACRlH,KAEfvN,QAAQ9B,GAE1BkP,EAAMkvD,UAAUiE,QAAQukE,EAAgBvlE,IAO5CnyD,EAAM23H,cAAc30H,MAGtB,GAAgBxP,KAAM,iBAAiB,SAAUwP,GAE/CovC,GAAUpvC,GAEVhD,EAAM43H,mBAEN53H,EAAMyvC,MAAM,sBAAuBzsC,GAEnChD,EAAMu3H,aAAe,QAGvB/jI,KAAKiO,UAAYF,EACjB/N,KAAK4f,UAAYF,EACjB1f,KAAK07D,UAAYtoD,EACjBpT,KAAKqnB,OAAS/T,EACdtT,KAAK+jI,aAAe,KACpBh2H,EAASK,GAAG,iBAAiB,WAC3B5B,EAAM43H,sBAvGZ,IAAsBj4H,EAAa4G,EAAYC,EAqJ7C,OArJoB7G,EA2GPw3H,GA3GoB5wH,EA2GP,CAAC,CACzBF,IAAK,iBACL7U,MAAO,WACL,QAASqlB,KAAK5gB,SAAU,WAAYzC,KAAKqkI,gBACzC,QAAShhH,KAAK5gB,SAAU,OAAQzC,KAAKskI,YACrC,QAASjhH,KAAK5gB,SAAU,UAAWzC,KAAKmkI,iBAEzC,CACDtxH,IAAK,mBACL7U,MAAO,WACL,QAASulB,OAAO9gB,SAAU,WAAYzC,KAAKqkI,gBAC3C,QAAS9gH,OAAO9gB,SAAU,OAAQzC,KAAKskI,YACvC,QAAS/gH,OAAO9gB,SAAU,UAAWzC,KAAKmkI,iBAE3C,CACDtxH,IAAK,QACL7U,MAAO,SAAe0mB,EAAWpT,GAC/B,OAAOtR,KAAKiO,UAAUS,KAAKgW,EAAW,CACpCw7D,YAAalgF,KAAK+jI,aAClBzyH,cAAeA,MAGlB,CACDuB,IAAK,YACL7U,MAAO,SAAmBxB,EAASgT,GACjCovC,GAAUpvC,GAAO,GACjBA,EAAMw0H,aAAaO,cAAgB,OAE/B/0H,EAAMw0H,aAAarjG,SACrBnxB,EAAMw0H,aAAarjG,QAAQ,OAAQ,WAGrC3gC,KAAK+jI,aAAe,CAClBG,eAAgB1nI,GAGlBwD,KAAKwkI,iBAELxkI,KAAKi8C,MAAM,wBAAyBzsC,QAjJoC,GAAkBrD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAqJ3K2wH,EA3IT,GAiJA,SAAS/kF,GAAUpvC,EAAO4S,GACxB5S,EAAM4B,mBAEiB,IAAnBgR,GACF5S,EAAM4S,iBANV,GAAY7T,QAAU,CAAC,WAAY,WAAY,WAAY,SC5J5C,QACbgC,SAAU,CAAC,eACXk0H,YAAa,CAAC,OAAQ,KCCxB,SAAS,GAAkBnnI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAU7S,IAKI,GAA2B,WAC7B,SAAS+wH,EAAYt1F,EAAY3+B,EAAiB3B,EAAU02H,EAAa/kH,EAAUuI,EAAO3U,GACxF,IAbqBnU,EAAK0T,EAAK7U,EAa3BwO,EAAQxM,MAnBhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAqB5G,CAAgB5L,KAAM2jI,GAfS3lI,EAiBG,WAChC,IAAIib,EAAYzM,EAAMoT,UAAUoJ,eAEhC07G,GAAgBzrH,GA+StB,SAAuBA,GACrB,IAAIlM,EAAQ,mBAAY,WAAYkM,GACpC,kBAAQlM,GAAO,SAAUW,GAEnBi3H,GAAOj3H,IACT,kBAAWA,GAAMvN,OAAO,cAnTxBykI,CAAc3rH,GAEVzM,EAAMq4H,aACR,iBAAUr4H,EAAMq4H,YAChBr4H,EAAMq4H,WAAa,QAzBGhyH,EAiBJ,cAjBD1T,EAiBLa,MAjB0ClB,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EA6BvLgC,KAAK2f,iBAAmBjQ,EACxB1P,KAAK8kI,aAAeL,EACpBzkI,KAAK4f,UAAYF,EACjB1f,KAAK8+D,OAAS72C,EACdjoB,KAAKqnB,OAAS/T,EAEd+6B,EAAW0iF,eAAe,cAAc,SAAUz7G,GAChD,IAAIu6G,EAAWv6G,EAAKu6G,SAChBpiH,EAAM6H,EAAK7H,IACXD,EAAM8H,EAAK9H,IAEf,GAAiB,eAAbqiH,EACF,OAAO,WACL,OAAOtU,GAAY,EAAG,OAAQ,yBAA0BS,GAAgB,KAAS,EAAG,CAClF,UAAa,OACb,YAAe,SAAqBv+G,GAClC,OAAO+O,EAAMu4H,UAAUv3H,EAAK/P,IAE9B,MAAS,eAGR,GAAiB,eAAboyH,GAA0C,gBAAbA,EAA4B,CAClE,IAAIpkC,EAAQ,QAAQvyE,OAAO,YAAQzL,GAAO,QAAU,UACpD,OAAO,WACL,OAAO8tG,GAAY,EAAG,OAAQ,2BAA4B,KAAM,EAAG,CACjE,UAAa,OACb,YAAe,SAAqB99G,GAClC,OAAO+O,EAAMu4H,UAAUt3H,EAAKhQ,IAE9B,MAASguF,SAMjB19E,EAASK,GAAG,yBAAyB,SAAUoB,GAC7C,IAAI0wE,EAAc1wE,EAAM0wE,YACpBgkD,EAAiBhkD,EAAYgkD,eAC7BJ,EAAU5jD,EAAY4jD,QAE1B,GAAII,aAA0B,KAC5B,OAAO,EAGT,GAAIA,aAA0B,KAAK,CACjC,IAAIc,EAwKZ,SAA2BnB,EAAQn0H,EAAiB4D,GAClD,IAAIqU,EAAYjY,EAAgBd,IAAIi1H,EAAO9N,QAAQkP,OAEnD,IAAKt9G,EACH,OAAQ,EAMV,OAHqBrU,EAAMO,UACDlH,KAEdvN,QAAQuoB,GAlLEu9G,CAAkBpB,EAASt3H,EAAMmT,iBAAkBnT,EAAM6a,QAEzE,OAAmB,IAAf29G,GAIUx4H,EAAMsyD,OAAO/2C,QAAQ,WAAY,CAC7Cta,IAAKy2H,EACLjlI,MAAO+lI,IAMX,OAAO,KAGTj3H,EAASK,GAAG,yBAAyB,SAAUoB,GAC3BA,EAAM0wE,YACG0jD,UAQ3Bc,GAFgBl4H,EAAMoT,UAAUoJ,mBAKlCjb,EAASK,GAAG,wBAAwB,SAAUoB,GAC5C,IAYI21H,EAZAjlD,EAAc1wE,EAAM0wE,YACpB5uE,EAAgB9B,EAAM8B,cACtB4yH,EAAiBhkD,EAAYgkD,eAC7B7lF,EAAe6hC,EAAY7hC,aAC3BulF,EAAW1jD,EAAY0jD,SAEvB3qH,EAAYzM,EAAMoT,UAAUoJ,eAEhC,QAAK46G,IAMDM,aAA0B,OAC5BiB,EAAcC,GAAoB9zH,EAAesyH,IAG/CM,aAA0B,OAC5BiB,EAAcE,GAAsB/zH,EAAesyH,IAIjDvlF,IAAiB8mF,IAKrBT,GAAgBzrH,GAEZirH,aAA0B,MAG1BoB,GAAa1B,EAAU3qH,EApIvB,QAkIEksH,EAEgC,MAGA,UAIlCjB,aAA0B,MAG1BqB,GAAa3B,EAAU3qH,EA3ItB,SAyICksH,EAEgC,OAGA,SAKtCjlD,EAAY7hC,aAAe8mF,IA3BlB,MAgCXp3H,EAASK,GAAG,oBAAoB,SAAUoB,GACxC,IAAI0wE,EAAc1wE,EAAM0wE,YACpB5uE,EAAgB9B,EAAM8B,cACtB4yH,EAAiBhkD,EAAYgkD,eAC7BN,EAAW1jD,EAAY0jD,SAE3B,IAAKA,EACH,OAAO,EAGT,GAAIM,aAA0B,KAAK,CACjC,IAAIsB,EAAmBJ,GAAoB9zH,EAAesyH,GAEtD6B,EAAQ7B,EAAS7N,QAAQ0P,MACzBj4H,EAAMhB,EAAMmT,iBAAiB/Q,IAAI62H,GAErC,IAAKj4H,GAAOA,IAAQ02H,EAClB,OAGF,IAAIwB,EAkKZ,SAAsBC,EAAYD,EAAWF,EAAkB94H,GACzDA,EAAKtN,QAAQumI,GAAcj5H,EAAKtN,QAAQsmI,KAC1CA,EA+BJ,SAAqBl4H,EAAKd,GACxB,IAAIzN,EAAQyN,EAAKtN,QAAQoO,GACzB,OAAOd,EAAK/H,KAAKumB,IAAIxe,EAAKrN,OAAS,EAAGJ,EAAQ,IAjChC2mI,CAAYF,EAAWh5H,IAGrC,MAtVQ,QAsVJ84H,EAuBN,SAAqBh4H,EAAKd,GACxB,IAAIzN,EAAQyN,EAAKtN,QAAQoO,GACzB,OAAOd,EAAK/H,KAAKwmB,IAAI,EAAGlsB,EAAQ,IAvBvB4mI,CAAYH,EAAWh5H,GAGvBg5H,EA5KaI,CAAa5B,EAAgB12H,EAAKg4H,EAAkBh5H,EAAM6a,OAAOxT,UAAUnH,MAE3F,GAAIg5H,IAAcxB,EAChB,OAGF,OAAOwB,EAGT,GAAIxB,aAA0B,KAAK,CACjC,IAAI6B,EAAqBV,GAAsB/zH,EAAesyH,GAG1DqB,EAAQrB,EAAS7N,QAAQkP,MACzBx3H,EAAMjB,EAAMmT,iBAAiB/Q,IAAIq2H,GAErC,IAAKx3H,GAAOA,IAAQy2H,EAClB,OAGF,IAAIv8G,EA4JZ,SAAsBq+G,EAAYr+G,EAAWo+G,EAAoBp5H,GAC3DA,EAAKvN,QAAQ4mI,GAAcr5H,EAAKvN,QAAQuoB,KAC1CA,EAoCJ,SAAqBla,EAAKd,GACxB,IAAI1N,EAAQ0N,EAAKvN,QAAQqO,GAEzB,GAAI,YAAQA,GAAM,CAChB,IAAI8jH,EAAS5kH,EAAKjF,QAAO,SAAU+F,GACjC,OAAO,YAAQA,MAEbk6G,EAAY4J,EAAOA,EAAOlyH,OAAS,GACnC4mI,EAAiBt5H,EAAKvN,QAAQuoH,GAClC,OAAOh7G,EAAKhI,KAAKumB,IAAI+6G,EAAgBhnI,EAAQ,IAG/C,OAAO0N,EAAKhI,KAAKumB,IAAIve,EAAKtN,OAAS,EAAGJ,EAAQ,IAhDhCinI,CAAYv+G,EAAWhb,IAGrC,MAjWS,SAiWLo5H,EAmBN,SAAoBt4H,EAAKd,GACvB,IAAI1N,EAAQ0N,EAAKvN,QAAQqO,GAEzB,GAAI,YAASA,GAAM,CACjB,IAAI04H,EAAcx5H,EAAKjF,QAAO,SAAU+F,GACtC,OAAO,YAASA,MACf,GACC24H,EAAmBz5H,EAAKvN,QAAQ+mI,GACpC,OAAOx5H,EAAKhI,KAAKwmB,IAAIi7G,EAAkBnnI,EAAQ,IAGjD,OAAO0N,EAAKhI,KAAKwmB,IAAI,EAAGlsB,EAAQ,IA5BvBonI,CAAW1+G,EAAWhb,GAGtBgb,EAtKa2+G,CAAapC,EAAgBz2H,EAAKs4H,EAAoBv5H,EAAM6a,OAAOxT,UAAUlH,MAE7F,GAAIgb,IAAcu8G,EAChB,OAGF,OAAOv8G,MAGX5Z,EAASK,GAAG,sBAAuBpO,KAAKumI,UApN5C,IAAsBp6H,EAAa4G,EAAYC,EA8O7C,OA9OoB7G,EAuNPw3H,GAvNoB5wH,EAuNP,CAAC,CACzBF,IAAK,YACL7U,MAAO,SAAmBxB,EAASgT,GACjC,IAAIyJ,EAAYjZ,KAAK4f,UAAUoJ,eAE/BhpB,KAAK6kI,WAAa,iBAAO,sHAEzBpiI,SAASiX,KAAK/b,YAAYqC,KAAK6kI,YAE3Br1H,EAAMw0H,aAAawC,cACrBh3H,EAAMw0H,aAAawC,aAAaxmI,KAAK6kI,WAAY,EAAG,GAGlDroI,aAAmB,KA6E7B,SAAoBgR,EAAKyL,GACvB,IAAIlM,EAAQ,mBAAY,gBAAgBmM,OAAO1L,EAAI7E,GAAI,KAAMsQ,GAC7D,kBAAQlM,GAAO,SAAUW,GAEnBi3H,GAAOj3H,IACT,kBAAWA,GAAM9M,IAAI,cAjFnB6lI,CAAWjqI,EAASyc,GACXzc,aAAmB,MAqFpC,SAAoBiR,EAAKwL,GACvB,IAAIlM,EAAQ,mBAAY,gBAAgBmM,OAAOzL,EAAI9E,GAAI,KAAMsQ,GAC7D,kBAAQlM,GAAO,SAAUW,GAEnBi3H,GAAOj3H,IACT,kBAAWA,GAAM9M,IAAI,cAzFnB8lI,CAAWlqI,EAASyc,GAGtBjZ,KAAK8kI,aAAaC,UAAUvoI,EAASgT,QA1OmC,GAAkBrD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8OrP83H,EAjOsB,GAoP/B,SAAS2B,GAAaqB,EAAc1tH,EAAW2Q,GAC7C,IAAI67G,EAAQkB,EAAa5Q,QAAQ0P,MAEjC,GAAKA,EAAL,CAIA,IAAI14H,EAAQ,mBAAY,gBAAgBmM,OAAOusH,EAAO,KAAMxsH,GAC5D,kBAAQlM,GAAO,SAAUW,GAEnBi3H,GAAOj3H,KACT,kBAAWA,GAAM9M,IAAI,YACrB,kBAAW8M,GAAM9M,IAAIgpB,QAK3B,SAAS27G,GAAaoB,EAAc1tH,EAAW2Q,GAC7C,IAAIq7G,EAAQ0B,EAAa5Q,QAAQkP,MAEjC,GAAKA,EAAL,CAIA,IAAIl4H,EAAQ,mBAAY,gBAAgBmM,OAAO+rH,EAAO,KAAMhsH,GAC5D,kBAAQlM,GAAO,SAAUW,GAEnBi3H,GAAOj3H,KACT,kBAAWA,GAAM9M,IAAI,YACrB,kBAAW8M,GAAM9M,IAAIgpB,QAK3B,SAAS86G,GAAgBzrH,GACvB,IAAIlM,EAAQ,mBAAY,YAAakM,GACrC,kBAAQlM,GAAO,SAAUW,GAEnBi3H,GAAOj3H,KACT,kBAAWA,GAAMvN,OAAO,YACxB,kBAAWuN,GAAMvN,OAAO,OACxB,kBAAWuN,GAAMvN,OAAO,SACxB,kBAAWuN,GAAMvN,OAAO,UACxB,kBAAWuN,GAAMvN,OAAO,YAmC9B,SAASklI,GAAsB71H,EAAOo3H,GACpC,IAAIniI,EAASmiI,EAAgBrpF,wBAC7B,OAAO/tC,EAAMoC,QAAUnN,EAAOa,KAAOb,EAAOK,MAAQ,EAtU3C,OAFC,QA2UZ,SAASsgI,GAAoB51H,EAAOo3H,GAClC,IAAIniI,EAASmiI,EAAgBrpF,wBAC7B,OAAO/tC,EAAMqC,QAAUpN,EAAOU,IAAMV,EAAOM,OAAS,EA9U5C,MAEG,SAmZb,SAAS4/H,GAAO9mI,GACd,OAAOA,IAA2B,IAAlBA,EAAKiC,UAAmC,IAAjBjC,EAAKiC,UA5K9C,GAAYyO,QAAU,CAAC,aAAc,kBAAmB,WAAY,cAAe,WAAY,QAAS,SCrPzF,QACbiC,YAAa,CAAC,GAAa,MAC3BD,SAAU,CAAC,kBACXs2H,eAAgB,CAAC,OAAQ,K,UCN3B,SAAS,GAAQ1nI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAE/Q,SAAS,GAAUT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAEtb,SAAS,GAAgBjM,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAO3M,IAAI,GAAiC,SAAU8sH,GAC7C,GAAU6a,EAAmB7a,GAE7B,IAAI7kG,EAAS,GAAa0/G,GAE1B,SAASA,EAAkB9jI,EAAO2M,GAChC,IAAInD,EAEJ,GAAgBxM,KAAM8mI,GAItB,GAAgB,GAFhBt6H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,qBAAqB,SAAUxO,GAC5EwO,EAAMkvD,UAAU45B,iBAAiB9oF,EAAM4vC,SAAU,CAC/Cy0E,YAAa7yH,OAIjBwO,EAAMmT,iBAAmBhQ,EAAQkY,SAASjZ,IAAI,mBAC9CpC,EAAMkvD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvCpC,EAAM2/G,eAAiB3/G,EAAMmD,QAAQ+vF,cACrC,IAAI/2F,EAAK6D,EAAMxJ,MAAM2M,QAAQhH,GAE7B,OADA6D,EAAM4vC,SAAW5vC,EAAMmT,iBAAiB/Q,IAAIjG,GACrC6D,EA4DT,OAzDA,GAAas6H,EAAmB,CAAC,CAC/Bj0H,IAAK,qBACL7U,MAAO,WACDgC,KAAKo8C,UACPp8C,KAAKmsH,eAAeG,kBAAkBtsH,KAAKo8C,SAASzzC,GAAI3I,KAAKssH,qBAGhE,CACDz5G,IAAK,oBACL7U,MAAO,WACL,IA0Eaib,EA1EGjZ,KAAKgD,MAAM2M,QAAQspH,WAElBj5H,KAAKnC,OAwETob,EAvEYjZ,KAAKnC,KAwE3B,gBAAS,oBAAqBob,IAvExBW,UAGV,CACD/G,IAAK,uBACL7U,MAAO,WACL,GAAIgC,KAAKo8C,SAAU,CACjBp8C,KAAKmsH,eAAeK,mBAAmBxsH,KAAKo8C,SAASzzC,GAAI3I,KAAKssH,mBAE9D,IACIuE,EADiB7wH,KAAKo8C,SAASr/C,eACF8zH,YAE7B,mBAASA,KAAiBA,EAAYxxH,QACxCW,KAAK+mI,kBAAkB,SAI5B,CACDl0H,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAEb,GAAKA,KAAKo8C,SAAV,CAIA,IACIy0E,EADiB7wH,KAAKo8C,SAASr/C,eACF8zH,YAEjC,GAAK,mBAASA,GAId,OAAOtV,GAAY,EAAG,MAAO,4CAA6CK,GAAqB,EAAG,GAAQ,CACxG,UAAa,YACb,SAAY57G,KAAK+mI,kBACjB,MAASlW,IACP,EAAG,KAAM,MAAM,SAAUhzH,GAC3B,OAAOiP,EAAOjP,KAAOA,UAKpBipI,EAvF4B,CAwFnC,IAIE,GAAsB,SAAUvO,GAClC,GAAUyO,EAAQzO,GAElB,IAAIE,EAAU,GAAauO,GAE3B,SAASA,IAGP,OAFA,GAAgBhnI,KAAMgnI,GAEfvO,EAAQl5G,MAAMvf,KAAM0D,WAU7B,OAPA,GAAasjI,EAAQ,CAAC,CACpBn0H,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,MAAOv7G,KAAKw3H,eAAgBx3H,KAAK04H,YAAa,OAIjEsO,EAlBiB,CAmBxB,IC5IF,SAAS,GAAkB1pI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAI/Q,SAAS,GAAgBhN,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAM3M,IAII,GAA2B,IAAa,SAAS8nI,EAAY54F,EAAYksF,EAAa7qH,EAAiB3B,EAAUqF,EAAUsM,EAAUrV,GACvI,IAAImC,EAAQxM,MAbd,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAe9G,CAAgB5L,KAAMinI,GAEtB,GAAgBjnI,KAAM,kBAAkB,SAAU0N,GAChDlB,EAAMkvD,UAAU45B,iBAAiB5nF,EAAM,CACrCmjH,YAAa,KAGf,IAAI53G,EAAYzM,EAAMoT,UAAUoJ,eAI5BY,EAAWs9G,GAAYjuH,EAFhB,aAAYvL,EAAK/E,GAAIsQ,GACdskC,yBAGlB/wC,EAAM4uH,aAAaniF,KAAKrvB,EAAU,CAChCyxG,gBAAiB,mBACjB1yH,GAAI+E,EAAK/E,GACTswH,WAAW,EACXx4F,OAAQ,CACN/7B,EAAG,EACHG,EAAG,QAKT,GAAgB7E,KAAM,qBAAqB,SAAU0N,GACnDlB,EAAMkvD,UAAU45B,iBAAiB5nF,EAAM,CACrCmjH,YAAa,OAGfrkH,EAAM4uH,aAAazwC,WAGrB3qF,KAAKo7H,aAAeb,EACpBv6H,KAAK07D,UAAYtoD,EACjBpT,KAAK4f,UAAYF,EACjB1f,KAAKiyF,WAAa5nF,EAClB0D,EAASK,GAAG,aA1CO,KA0CuB,SAAUoB,GAClD,IAAIA,EAAMkR,iBAAV,CAIA,IAAIpjB,EAASkS,EAAMlS,OACfqL,EAAK6G,EAAM7G,GACXnM,EAAUkT,EAAgBd,IAAIjG,GAElC,GAAK,YAAMnM,EAAS,CAAC,iBAAkB,0BAAvC,CAIkB2qI,GAAe3qI,IAI/BgT,EAAM4S,iBAGR,IAEIwH,EAAWs9G,GAFCxnH,EAASsJ,eACZ1rB,EAAOigD,yBAEpBg9E,EAAYthF,KAAKrvB,EAAU,CACzByxG,gBAAiB,mBACjBpC,WAAW,EACXtwH,GAAIA,EACJ83B,OAAQ,CACN/7B,EAAG,EACHG,EAAG,UAITwpC,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,qBAA5B1rH,EAAQ0rH,gBAAwC,CAC7E,IAAI7+H,EAAUkT,EAAgBd,IAAIe,EAAQhH,IACtCkoH,EAAcsW,GAAe3qI,GAEjC,GAAI,mBAASq0H,GACX,OAAO,OAIbxiF,EAAW0iF,eAAe,+BAxFT,KAwFuD,WACtE,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,iBAA5B1rH,EAAQ0rH,gBAAoC,CACzE,IAAI1yH,EAAKgH,EAAQhH,GAEjB,IAAKA,EACH,OAGF,IAAInM,EAAUkT,EAAgBd,IAAIjG,GAElC,IAAKnM,EACH,OAGF,IAAIO,EAAiBP,EAAQO,eACzB8zH,EAAc9zH,EAAe8zH,YAC7BuW,EAAsB,mBAASvW,GAC/B9vH,EAAYqmI,EAAsB,qBAAuB,kBACzD3S,EAAU2S,EAAsB,WAClC,OAAO56H,EAAM66H,kBAAkB7qI,IAC7B,WACF,OAAOgQ,EAAM86H,eAAe9qI,IAE9B,OAAO++G,GAAY,EAAG,MAAO,4BAA4BriG,OAAOnY,GAAY,mBAAS8vH,GAAerkH,EAAMylF,WAAW,2BAA6BzlF,EAAMylF,WAAW,wBAAyB,EAAG,CAC7L,QAAWwiC,WASnB,SAASyS,GAAYjuH,EAAWxU,GAC9B,IAAIU,EAAMV,EAAOU,IACbG,EAAOb,EAAOa,KACdR,EAAQL,EAAOK,MACfC,EAASN,EAAOM,OACpB,MAAO,CACLL,EAAGY,EAAO2T,EAAU5Y,WAAW45H,WA/HpB,GAgIXp1H,EAAGM,EAAM8T,EAAU5Y,WAAW25H,UAC9Bl1H,MAAOA,EAAQ,GACfC,OAAQA,GAIZ,SAASoiI,GAAe3qI,GACtB,OAAOA,GAAWA,EAAQO,gBAAkBP,EAAQO,eAAe8zH,YAhBrE,GAAYtiH,QAAU,CAAC,aAAc,cAAe,kBAAmB,WAAY,WAAY,WAAY,aCpI5F,QACbiC,YAAa,CAAC,GAAmB,MACjCD,SAAU,CAAC,eACXsgH,YAAa,CAAC,OAAQ,KCFxB,SAAS,GAAkBvzH,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAQ7S,IAAI,GAAkC,WACpC,SAAS20H,EAAmBl5F,EAAY3+B,EAAiB0D,EAAUsgH,EAAqBrpH,EAAWkwH,GACjG,IAAI/tH,EAAQxM,MAZhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAc5G,CAAgB5L,KAAMunI,GAEtBvnI,KAAK07D,UAAYtoD,EACjBpT,KAAKiyF,WAAa5nF,EAClBgkC,EAAW0iF,eAAe,gCAAgC,WACxD,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,iBAA5B1rH,EAAQ0rH,gBAAoC,CACzE,IAAI7rH,EAAQG,EAAQH,MAChB7G,EAAKgH,EAAQhH,GAEjB,IAAKA,EACH,OAGF,IAAInM,EAAUkT,EAAgBd,IAAIjG,GAElC,IAAKnM,EACH,OAGF,IAAIgrI,EAAW,SAAkBC,GAC/BlN,EAAYthF,KAAK,CACfv0C,GAAI8K,GAASi4H,GAAYhM,MACzB52H,GAAI2K,GAASi4H,GAAY/L,OACxB,CACDL,gBAAiB,sBACjB1yH,GAAIA,KAIR,OAAO4yG,GAAY,EAAG,MAAO,2BAA4B/uG,EAAMylF,WAAW,mCAAoC,EAAG,CAC/G,QAAWu1C,QAIjBn5F,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,wBAA5B1rH,EAAQ0rH,gBAA2C,CAChF,IAAI1yH,EAAKgH,EAAQhH,GAEjB,IAAKA,EACH,OAGF,IAAInM,EAAUkT,EAAgBd,IAAIjG,GAElC,IAAKnM,EACH,OAGF,IAAI8iI,EAAqB9iI,EAAQO,eAAeuiI,oBAAsB5L,EAAoBwM,WAAW,YAAQ1jI,EAAQiR,KAAO,YAAc,cAAczP,MACpJ6P,EAAU6lH,EAAoBtrF,SAClC,OAAO,WACL,OAAOmzE,GAAY,EAAG,MAAO,oBAAqBA,GAAY,EAAG,MAAO,qBAAsBA,GAAY,EAAG,MAAO,sEAAuE,CAACA,GAAY,EAAG,MAAO,KAAM/uG,EAAMylF,WAAW,uBAAwB,GAAI2pB,GAAqB,EAAG,GAAa,CACxS,UAAa,sBACb,SAAY,SAAkB59G,GAC5B,OAAOwO,EAAM+0G,SAAS/kH,EAASwB,IAEjC,QAAW6P,EACX,MAASyxH,KACN,GAAI,GAAI,QAxEvB,IAAsBnzH,EAAa4G,EAAYC,EAqF7C,OArFoB7G,EA8EPo7H,GA9EoBx0H,EA8EA,CAAC,CAChCF,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4xH,GAC7Bt/H,KAAK07D,UAAUgsE,uBAAuBh6H,EAAK3Q,eAAgBuiI,QAjFa,GAAkBnzH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqFrP07H,EA/E6B,GAmFtC,GAAmBh5H,QAAU,CAAC,aAAc,kBAAmB,WAAY,sBAAuB,YAAa,eC7FhG,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,sBACX+uH,mBAAoB,CAAC,OAAQ,KCL/B,SAAS,GAAQngI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAE/Q,SAAS,GAAUT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAEtb,SAAS,GAAgBjM,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAM3M,IAAI,GAAgD,SAAU8sH,GAC5D,GAAUgG,EAAkChG,GAE5C,IAAI7kG,EAAS,GAAa6qG,GAE1B,SAASA,EAAiCjvH,EAAO2M,GAC/C,IAAInD,EAeJ,OAbA,GAAgBxM,KAAMiyH,GAItB,GAAgB,GAFhBzlH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,wBAAwB,SAAUvP,GAC/EuP,EAAM4G,SAASu0H,sBAAsB1qI,MAGvCqxH,GAAO,GAAuB9hH,IACvBA,EAsDT,OAnDA,GAAaylH,EAAkC,CAAC,CAC9Cp/G,IAAK,qBACL7U,MAAO,WACLgC,KAAK4nI,qBAAqB,CACxBvkH,KAAMrjB,KAAKrD,oBAAoBgM,OAGlC,CACDkK,IAAK,uBACL7U,MAAO,WACLgC,KAAK4nI,qBAAqB,CACxBrkH,OAAQvjB,KAAKrD,oBAAoBgM,OAGpC,CACDkK,IAAK,uBACL7U,MAAO,SAA8BsX,GACnC,IAAI+N,EAAO/N,EAAK+N,KACZE,EAASjO,EAAKiO,OAEI,iBAAXA,GACTvjB,KAAK0/F,cAAc8sB,mBAAmBjpG,EAAQvjB,KAAKssH,mBAGjC,iBAATjpG,GACTrjB,KAAK0/F,cAAc4sB,kBAAkBjpG,EAAMrjB,KAAKssH,qBAGnD,CACDz5G,IAAK,oBACL7U,MAAO,WACL,OAAOgC,KAAKsT,MAAMO,UAAU9W,eAAek7C,UAE5C,CACDplC,IAAK,SACL7U,MAAO,WACL,IACIf,EADK+C,KAAKrD,oBACAM,KACVi1H,EAAYlyH,KAAKquC,WAAWy+E,aAAa,eAAiB,GAC9D,OAAOvR,GAAY,EAAG,MAAO,4BAA6B,CAACK,GAAqB,EAAG,GAAmB,CACpG,UAAa,sBACb,MAAS3+G,EACT,gBAAkB,EAClB,OAAU4qI,GACV,SAAY7nI,KAAK8nI,qBACjB,UAAa,4BACb,OAAU,2BACRvsB,GAAY,EAAG,MAAO,mCAAoCK,GAAqB,EAAGsW,IAAa,OAIhGD,EA3E2C,CA4ElD,IAGF,GAAiC1jH,QAAU,CAAC,QAAS,WAAY,gBAAiB,cAElF,IAAI,GAAiC,SAAUgqH,GAC7C,GAAUwP,EAAmBxP,GAE7B,IAAIE,EAAU,GAAasP,GAE3B,SAASA,EAAkB/kI,EAAO2M,GAChC,IAAI7C,EAMJ,OAJA,GAAgB9M,KAAM+nI,GAGtBnZ,GAAM,GADN9hH,EAAS2rH,EAAQv3H,KAAKlB,KAAMgD,EAAO2M,IACG,IAC/B7C,EAgBT,OAbA,GAAai7H,EAAmB,CAAC,CAC/Bl1H,IAAK,SACL7U,MAAO,WACL,IAAIf,EAAO+C,KAAKgD,MAAMhF,MAEtB,OAAOu9G,GAAY,EAAG,MADN,GAAWv7G,KAAK+vH,sBAAuB/vH,KAAKw3H,gBACpBx3H,KAAK04H,YAAa,EAAG,CAC3D,kBAAmB14H,KAAKgD,MAAMoW,UAC9B,cAAepZ,KAAKgD,MAAMie,OAC1B,MAAS,kBAAoBhkB,QAK5B8qI,EA5B4B,CA6BnC,IAEF,SAAS,KACP,OAAO,KAGT,SAASF,GAAYr4H,GACnBA,EAAMlS,OAAOwtC,OAAO,EAAG,GCnJzB,SAAS,GAAkBxtC,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAAuC,IAAa,SAASimH,EAAwB/jF,IALzF,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMoyH,GAEtB/jF,EAAW0iF,eAAe,eALT,KAKuC,WACtD,OAAO,SAKX,GAAwBxiH,QAAU,CAAC,cChBpB,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,2BACX8hH,wBAAyB,CAAC,OAAQ,K,UCLpC,SAAS,GAAQlzH,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAQ3M,IAAI,GAAiC,SAAU8sH,IAtB/C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAuBpb,CAAUq8H,EAAmB/b,GAE7B,IA3BoB9/G,EAAa4G,EAAYC,EA2BzCoU,EAAS,GAAa4gH,GAE1B,SAASA,EAAkBhlI,EAAO2M,GAChC,IAAInD,EAkBJ,OApDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAoC5G,CAAgB5L,KAAMgoI,GAItB,GAAgB,GAFhBx7H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,YAAY,SAAU2F,GACnE,IAAI6+G,EAAc7+G,EAAK6+G,YACnBD,EAAY5+G,EAAK4+G,UAErB1nH,EAAM4G,SAAS60H,cAAc/T,EAAWC,MAG1C,GAAgB,GAAuB3nH,GAAQ,qBAAqB,WAClEA,EAAMo/G,iBAGR0C,GAAO,GAAuB9hH,IACvBA,EA4CT,OA5FoBL,EAmDP67H,GAnDoBj1H,EAmDD,CAAC,CAC/BF,IAAK,oBACL7U,MAAO,WACLgC,KAAK0/F,cAAc4sB,kBAAkBtsH,KAAK6T,UAAUlL,GAAI3I,KAAKssH,qBAE9D,CACDz5G,IAAK,uBACL7U,MAAO,WACLgC,KAAK0/F,cAAc8sB,mBAAmBxsH,KAAK6T,UAAUlL,GAAI3I,KAAKssH,qBAE/D,CACDz5G,IAAK,UACL7U,MAAO,WACL,OAAOgC,KAAKsT,MAAMO,YAEnB,CACDhB,IAAK,SACL7U,MAAO,WACL,IACIjB,EADOiD,KAAK6T,UACU9W,eACtBo3H,EAAcp3H,EAAeo3H,YAC7BD,EAAYn3H,EAAem3H,UAC3BG,EAAiB,eAAKJ,IAAc,SAAU33D,GAChD,OAwBkBn5D,EAxBMm5D,EAAMt+D,MAwBToF,EAxBgB,CACnC+wH,YAAaA,EACbD,UAAWA,GAuBZ/wH,EAAE+wH,YAAc9wH,EAAE8wH,WAAa/wH,EAAEgxH,cAAgB/wH,EAAE+wH,YAD5D,IAA0BhxH,EAAGC,KAnBvB,OAAOm4G,GAAY,EAAG,MAAO,aAAc,CAACA,GAAY,EAAG,QAAS,YAAaS,GAAgB,eAAgB,GAAIJ,GAAqB,EAAG,GAAa,CACxJ,UAAa,gCACb,SAAY57G,KAAKuhH,SACjB,QAAW0S,GACX,MAASI,EAAer2H,MACxB,kBAAmB,OACnB,SAAW,KACR,EAAG,CACN,MAASq2H,EAAeD,mBAvF8C,GAAkBjoH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4FrPm8H,EApE4B,CAqEnC,ICpGa,SAASE,GAAyB75F,GAC/CA,EAAW0iF,eAAe,cAAc,WACtC,OAAO,MDqGX,GAAkBxiH,QAAU,CAAC,gBAAiB,QAAS,YClGvD25H,GAAyB35H,QAAU,CAAC,cCJrB,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,qBACXgkH,kBAAmB,CAAC,OAAQ2T,KC6Ef,SAAS,GAAan6H,EAAU8Z,GAO7C7nB,KAAK69F,YAAc,GAOnB79F,KAAK89F,OAAS,GAOd99F,KAAK+9F,WAAa,EAUlB/9F,KAAKg+F,kBAAoB,CACvBzqF,QAAS,GACT0qF,MAAO,GACPzgE,QAAS,MAIXx9B,KAAKu4C,UAAY1wB,EACjB7nB,KAAKiO,UAAYF,EAEjB/N,KAAK66B,KAAO,EAEZ9sB,EAASK,GAAG,CACV,kBACA,kBACC,WACDpO,KAAKO,OAAM,KACVP,MAGL,GAAauO,QAAU,CAAE,WAAY,YASrC,GAAa/O,UAAUw/D,QAAU,SAAS1kD,EAAS3K,GACjD,IAAK2K,EACH,MAAM,IAAIva,MAAM,oBAGlBC,KAAKg+F,kBAAkBxgE,QAAU,UAEjC,IAAIvW,EAAS,CAAE3M,QAASA,EAAS3K,QAASA,GAE1C3P,KAAKk+F,YAAYj3E,GACjBjnB,KAAKm+F,iBAAiBl3E,GACtBjnB,KAAKo+F,WAAWn3E,IAwBlB,GAAaznB,UAAUoQ,WAAa,SAAS0K,EAAS3K,GAEpD,IAAIsX,EAAS,CAAE3M,QAASA,EAAS3K,QAASA,GAEtCwT,EAAUnjB,KAAKq+F,YAAY/jF,GAE3BzS,EAAS7H,KAAK68B,MAAMviB,EAAS,aAAc2M,GAI/C,QAAezoB,IAAXqJ,EAAsB,CACxB,IAAKsb,EACH,OAAO,EAGLA,EAAQvT,aACV/H,EAASsb,EAAQvT,WAAWD,IAIhC,OAAO9H,GAOT,GAAarI,UAAUe,MAAQ,SAAS8f,GACtCrgB,KAAK89F,OAAOz+F,OAAS,EACrBW,KAAK+9F,WAAa,GAEL,IAAT19E,GACFrgB,KAAK68B,MAAM,UAAW,CAAEW,QAAS,WAQrC,GAAah+B,UAAU8/D,KAAO,WAC5B,IACIvnD,EADAkP,EAASjnB,KAAKs+F,iBAGlB,GAAIr3E,EAAQ,CAKV,IAJAjnB,KAAKg+F,kBAAkBxgE,QAAU,OAEjCx9B,KAAKk+F,YAAYj3E,GAEVA,IACLjnB,KAAKu+F,cAAct3E,IACnBlP,EAAO/X,KAAKs+F,mBAECvmF,EAAKpP,KAAOse,EAAOte,KAIhCse,EAASlP,EAGX/X,KAAKo+F,eAQT,GAAa5+F,UAAU+/D,KAAO,WAC5B,IACIxnD,EADAkP,EAASjnB,KAAKw+F,iBAGlB,GAAIv3E,EAAQ,CAKV,IAJAjnB,KAAKg+F,kBAAkBxgE,QAAU,OAEjCx9B,KAAKk+F,YAAYj3E,GAEVA,IACLjnB,KAAKm+F,iBAAiBl3E,GAAQ,IAC9BlP,EAAO/X,KAAKw+F,mBAECzmF,EAAKpP,KAAOse,EAAOte,KAIhCse,EAASlP,EAGX/X,KAAKo+F,eAWT,GAAa5+F,UAAUqW,SAAW,SAASyE,EAAS6I,GAClDnjB,KAAKy+F,YAAYnkF,EAAS6I,IAW5B,GAAa3jB,UAAUu/D,gBAAkB,SAASzkD,EAASokF,GAEzD,IAAKpkF,IAAYokF,EACf,MAAM,IAAI3+F,MAAM,0CAGlB,IAAIojB,EAAUnjB,KAAKu4C,UAAU/U,YAAYk7D,GACzC1+F,KAAK6V,SAASyE,EAAS6I,IAGzB,GAAa3jB,UAAUm/F,QAAU,WAC/B,QAAS3+F,KAAKs+F,kBAGhB,GAAa9+F,UAAUo/F,QAAU,WAC/B,QAAS5+F,KAAKw+F,kBAKhB,GAAah/F,UAAUg/F,eAAiB,WACtC,OAAOx+F,KAAK89F,OAAO99F,KAAK+9F,UAAY,IAItC,GAAav+F,UAAU8+F,eAAiB,WACtC,OAAOt+F,KAAK89F,OAAO99F,KAAK+9F,YAM1B,GAAav+F,UAAU++F,cAAgB,SAASt3E,GAC9C,IAAI/b,EAAOlL,KAEPsa,EAAU2M,EAAO3M,QACjB3K,EAAUsX,EAAOtX,QAEjBwT,EAAUnjB,KAAKq+F,YAAY/jF,GAG/Bta,KAAK6+F,WAAU,WACb3zF,EAAK2xB,MAAMviB,EAAS,SAAU2M,GAE1B9D,EAAQ27E,QACV5zF,EAAK6zF,WAAW57E,EAAQ27E,OAAOnvF,IAGjCzE,EAAK8zF,gBAAgB/3E,GAErB/b,EAAK2xB,MAAMviB,EAAS,WAAY2M,OAKpC,GAAaznB,UAAUq9B,MAAQ,SAASviB,EAAS2kF,EAAWzvF,GACtD9L,UAAUrE,OAAS,IACrBmQ,EAAQyvF,EACRA,EAAY,MAGd,IACIrgG,EAAG3B,EAAM4K,EADThJ,EAAQogG,EAAY,CAAE3kF,EAAU,IAAM2kF,EAAWA,GAAc,CAAE3kF,GAKrE,IAFA9K,EAAQxP,KAAKiO,UAAUsd,YAAY/b,GAE9B5Q,EAAI,GAAI3B,EAAO4B,EAAMD,MACxBiJ,EAAS7H,KAAKiO,UAAUS,KAAK,gBAAkBzR,EAAMuS,IAEjDA,EAAMgc,cAHmB5sB,KAQ/B,OAAOiJ,GAGT,GAAarI,UAAU0/F,UAAY,WACjC,OAAOl/F,KAAK66B,QAGd,GAAar7B,UAAUq/F,UAAY,SAASt3F,GAE1C,IAAI43F,EAAYn/F,KAAKg+F,kBAErBmB,EAAUC,QAAS,EAEnB,IACE73F,IACA,QACA43F,EAAUC,QAAS,IAIvB,GAAa5/F,UAAU2+F,iBAAmB,SAASl3E,EAAQs4C,GACzD,IAAIr0D,EAAOlL,KAEPsa,EAAU2M,EAAO3M,QACjB3K,EAAUsX,EAAOtX,QAEjBwT,EAAUnjB,KAAKq+F,YAAY/jF,GAE/B,IAAK6I,EACH,MAAM,IAAIpjB,MAAM,sCAAwCua,EAAU,KAGpEta,KAAKk+F,YAAYj3E,GAEZs4C,IACHv/D,KAAK68B,MAAMviB,EAAS,aAAc2M,GAE9B9D,EAAQ82E,YACV92E,EAAQ82E,WAAWtqF,GAGrB3P,KAAK68B,MAAMviB,EAAS,cAAe2M,IAIrCjnB,KAAK6+F,WAAU,WAEb3zF,EAAK2xB,MAAMviB,EAAS,UAAW2M,GAE3B9D,EAAQ67C,SAGV9zD,EAAK6zF,WAAW57E,EAAQ67C,QAAQrvD,IAIlCzE,EAAKm0F,gBAAgBp4E,EAAQs4C,GAE7Br0D,EAAK2xB,MAAMviB,EAAS,WAAY2M,MAG7Bs4C,IACHv/D,KAAK68B,MAAMviB,EAAS,cAAe2M,GAE/B9D,EAAQm8E,aACVn8E,EAAQm8E,YAAY3vF,GAGtB3P,KAAK68B,MAAMviB,EAAS,eAAgB2M,IAGtCjnB,KAAKo+F,WAAWn3E,IAIlB,GAAaznB,UAAU0+F,YAAc,SAASj3E,GAE5C,IAAIk4E,EAAYn/F,KAAKg+F,kBACjBzqF,EAAU4rF,EAAU5rF,QAEpBgsF,EAAahsF,EAAQ,GAEzB,GAAI4rF,EAAUC,OACZ,MAAM,IAAIr/F,MAAM,8DAAgEknB,EAAO3M,QAAU,KAG9F2M,EAAOte,KACVse,EAAOte,GAAM42F,GAAcA,EAAW52F,IAAO3I,KAAKk/F,aAGpD3rF,EAAQzS,KAAKmmB,IAIf,GAAaznB,UAAU4+F,WAAa,WAClC,IAAIe,EAAYn/F,KAAKg+F,kBACjBxgE,EAAU2hE,EAAU3hE,QACpBjqB,EAAU4rF,EAAU5rF,QACpB0qF,EAAQkB,EAAUlB,MAEtB1qF,EAAQwuB,MAEHxuB,EAAQlU,SACXW,KAAKiO,UAAUS,KAAK,mBAAoB,CAAExH,SAAU,mBAAS,KAAM+2F,EAAMp+D,aAEzEo+D,EAAM5+F,OAAS,EAEfW,KAAK68B,MAAM,UAAW,CAAEW,QAASA,IAEjC2hE,EAAU3hE,QAAU,OAKxB,GAAah+B,UAAUu/F,WAAa,SAAS73F,GAC3C,IAAIi4F,EAAYn/F,KAAKg+F,kBAEhB92F,IAILA,EAAW,kBAAQA,GAAYA,EAAW,CAAEA,GAE5Ci4F,EAAUlB,MAAQkB,EAAUlB,MAAM/kF,OAAOhS,KAI3C,GAAa1H,UAAU6/F,gBAAkB,SAASp4E,EAAQs4C,GACxD,IAAIigC,IAAax/F,KAAK+9F,UAEjBx+B,GACHv/D,KAAK89F,OAAO18F,OAAOo+F,EAAUx/F,KAAK89F,OAAOz+F,OAAQ4nB,IAKrD,GAAaznB,UAAUw/F,gBAAkB,SAAS/3E,GAChDjnB,KAAK+9F,aAIP,GAAav+F,UAAU6+F,YAAc,SAAS/jF,GAC5C,OAAOta,KAAK69F,YAAYvjF,IAG1B,GAAa9a,UAAUi/F,YAAc,SAASnkF,EAAS6I,GACrD,IAAK7I,IAAY6I,EACf,MAAM,IAAIpjB,MAAM,gCAGlB,GAAIC,KAAK69F,YAAYvjF,GACnB,MAAM,IAAIva,MAAM,mCAAqCua,EAAU,KAGjEta,KAAK69F,YAAYvjF,GAAW6I,GClgBf,QACb6E,aAAc,CAAE,OAAQ,KCH1B,SAAS,GAAQ7oB,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GASxM,IAAI,GAA0B,SAAUgjG,IArBxC,SAAmBh3F,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAUw8H,EAAYzlC,GAEtB,IA1BoBv2F,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAa+gH,GAE1B,SAASA,EAAWp6H,EAAUuF,GAC5B,IAAI9G,EAoBJ,OArDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAMmoI,IAEtB37H,EAAQ4a,EAAOlmB,KAAKlB,KAAM+N,IAEpB60F,SAAS,CAAC,UAAW,aAAc,UAAW,cAAewlC,IAAM,SAAU3qI,GACjF,IAAIkS,EAAUlS,EAAEkS,QACZnT,EAAUmT,EAAQnC,KAAOmC,EAAQlC,IAErCjB,EAAM67H,WAAW7rI,EAASmT,EAAQ09G,aAGpC7gH,EAAMw4F,SAAS,CAAC,UAAW,aAAc,UAAW,cAAeojC,IAAM,SAAU3qI,GACjF,IAAIkS,EAAUlS,EAAEkS,QACZnT,EAAUmT,EAAQnC,KAAOmC,EAAQlC,IAErCjB,EAAM67H,WAAW7rI,EAASmT,EAAQ24H,aAG7B97H,EAgKT,OAjNoBL,EAoDPg8H,GApDoBp1H,EAoDR,CAAC,CACxBF,IAAK,aACL7U,MAAO,SAAoBxB,EAAS6wH,GAClC,IAAIvgH,EAAS9M,KAETsoI,EAAU9rI,EAAQ+Q,KAClBxQ,EAAiBP,EAAQO,eAE7B,GAAI,YAAGP,EAAS,oBAAqB,CAEnC,GAAI6wH,EAAS,CACX,IACIkb,EADWlb,EAAQtwH,eACC6R,IAAI,QACxB45H,EAASD,EAASnpI,QAAQrC,GAE9BwrI,EAASnnI,OAAOonI,EAAQ,GACxBzrI,EAAek7C,QAAU,KAI3B,GAAIqwF,EAAS,CACX,IAAIG,EAAWH,EAAQvrI,eACnB2rI,EAASJ,EAAQ57H,KAAKtN,QAAQ5C,GAElCisI,EAAS75H,IAAI,QAAQxN,OAAOsnI,EAAQ,EAAG3rI,GACvCA,EAAek7C,QAAUwwF,EACzBjsI,EAAQuQ,MAAMia,SAAQ,SAAUtZ,EAAM1G,GAEpC8F,EAAO67H,SAASj7H,EAAMlR,EAASwK,OAKrC,GAAI,YAAGxK,EAAS,oBAAsB,YAAGA,EAAS,oBAAqB,CACrE,IAAIiW,EAAYm2H,EAEhB,GAAIvb,EAAS,CACX,IAAIwb,EAAYxb,EAAQtwH,eAEpBw0H,EAASsX,EAAUj6H,IAAI,SAEvB4iH,EAAUqX,EAAUj6H,IAAI,UAY5B,GAVI,YAAGpS,EAAS,qBACdiW,EAAa8+G,EACbqX,EAAgBrX,EAAOnyH,QAAQrC,IAG7B,YAAGP,EAAS,sBACdiW,EAAa++G,EACboX,EAAgBpX,EAAQpyH,QAAQrC,KAGX,IAAnB6rI,EACF,MAAM,IAAI7oI,MAAM,2CAIlB0S,EAAWrR,OAAOwnI,EAAe,GACjC7rI,EAAek7C,QAAU,KACzBz7C,EAAQuQ,MAAMia,SAAQ,SAAU8hH,EAAKC,GAEnCj8H,EAAOk8H,WAAWF,EAAKzb,EAAQ3gH,KAAKq8H,OAIxC,GAAIT,EAAS,CACX,IAQIW,EAAgBC,EARhBC,EAAYb,EAAQvrI,eAEpBqsI,EAAUD,EAAUv6H,IAAI,SAExBy6H,EAAWF,EAAUv6H,IAAI,UAEzB06H,EAAShB,EAAQ37H,KAAKvN,QAAQ5C,GAI9B,YAAGA,EAAS,qBACd0sI,EAAcE,EACdH,EAAiBK,GAGf,YAAG9sI,EAAS,sBACd0sI,EAAcG,EACdJ,EAAiBK,EAASF,EAAQ/pI,QAIpC6pI,EAAY9nI,OAAO6nI,EAAgB,EAAGlsI,GAEtCA,EAAek7C,QAAUkxF,EACzB3sI,EAAQuQ,MAAMia,SAAQ,SAAUtZ,EAAMq7H,GAEpCj8H,EAAO67H,SAASj7H,EAAM46H,EAAQ57H,KAAKq8H,GAASO,UAKnD,CACDz2H,IAAK,aACL7U,MAAO,SAAoB0P,EAAM67H,GAC/B,IAII92H,EAAYm2H,EAJZY,EAAS97H,EAAK3Q,eACd0sI,EAAWF,EAAOxsI,eAClB2sI,EAAeD,EAAS76H,IAAI,cAC5B+6H,EAAgBF,EAAS76H,IAAI,eAcjC,GAXI,YAAGlB,EAAM,oBACX+E,EAAai3H,GAIX,YAAGh8H,EAAM,2BACX+E,EAAak3H,IAKQ,KAFvBf,EAAgBn2H,EAAWrT,QAAQoqI,IAGjC,MAAM,IAAIzpI,MAAM,mBAIlB0S,EAAWrR,OAAOwnI,EAAe,GACjCY,EAAOvxF,QAAU,OAElB,CACDplC,IAAK,WACL7U,MAAO,SAAkB0P,EAAMF,EAAK87H,GAClC,IAII72H,EAAYm2H,EAJZY,EAAS97H,EAAK3Q,eACd6sI,EAAQp8H,EAAIzQ,eACZ2sI,EAAeE,EAAMh7H,IAAI,cACzB+6H,EAAgBC,EAAMh7H,IAAI,eAG1B46H,EAAOvxF,UAAY2xF,IAKnB,YAAGl8H,EAAM,oBACX+E,EAAai3H,EACbd,EAAgBU,GAId,YAAG57H,EAAM,2BACX+E,EAAak3H,EACbf,EAAgBU,EAASI,EAAarqI,QAIxCoT,EAAWrR,OAAOwnI,EAAe,EAAGY,GACpCA,EAAOvxF,QAAU2xF,QA7MuD,GAAkBz9H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAiNrPs8H,EA1LqB,CA2L5B,MAaF,SAASC,GAAM7gI,GACb,OAAO,SAAUiI,GACf,IAAIG,EAAUH,EAAMG,QAChBnT,EAAUmT,EAAQnC,KAAOmC,EAAQlC,IAEjC,YAAGjR,EAAS,mBACd+K,EAAGiI,ICzOT,SAAS,GAAkBlS,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDyN7S,GAAWrE,QAAU,CAAC,WAAY,SCnNlC,IAAI,GAA0B,WAC5B,SAASs7H,EAAW3uE,IATtB,SAAyBhvD,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAU5G,CAAgB5L,KAAM6pI,GAEtB7pI,KAAK88D,OAAS5B,EARlB,IAAsB/uD,EAAa4G,EAAYC,EA2D7C,OA3DoB7G,EAWP09H,GAXoB92H,EAWR,CAAC,CACxBF,IAAK,SACL7U,MAAO,SAAgBvB,GACrB,IAAIkC,EAAQ+E,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAE5ElH,EAAUwD,KAAK88D,OAAOn6D,OAAOlG,EAAMkC,GAAS,IAuBhD,OArBI,YAAGnC,EAAS,qBACVmC,EAAM8yF,gBACRj1F,EAAQi1F,gBAAkB9yF,EAAM8yF,iBAEhCj1F,EAAQi1F,gBAAkBzxF,KAAK2C,OAAO,wBAAyB,CAC7D6uF,QAAS,WAEXh1F,EAAQi1F,gBAAgBx5C,QAAUz7C,IAIlC,YAAGA,EAAS,sBACdA,EAAQg1F,QAAU7yF,EAAM6yF,SAAW,WAGjC,YAAGh1F,EAAS,mBAAqB,YAAGA,EAAS,4BAC/CA,EAAQ80C,KAAO3yC,EAAM2yC,MAAQ,IAG/BtxC,KAAKkkG,UAAU1nG,GAERA,IAER,CACDqW,IAAK,WACL7U,MAAO,SAAkBxB,GACvB,OAAO,YAAGA,EAAS,oBAEpB,CACDqW,IAAK,YACL7U,MAAO,SAAmBxB,GAGxB,IAAI4rB,GAAU5rB,EAAQkrB,OAAS,IAAIxpB,QAAQ,WAAY,IAAM,KAExD1B,EAAQmM,IAAM3I,KAAKikG,SAASznG,KAC/BA,EAAQmM,GAAK3I,KAAK88D,OAAOtyD,IAAIs2D,aAAa14C,EAAQ5rB,SAtDoB,GAAkB2P,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2DrPg+H,EAvDqB,GCR9B,SAAS,GAAQ1qI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GDmEzU,GAAWoP,QAAU,CAAC,UCjEtB,IAAI,GAAY,CAAC,iBAAkB,QAEnC,SAAS,GAAQxL,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAI9U,SAAS,GAAgBI,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAE3M,SAAS,GAAyB0J,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxM,CAA8BuL,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAMne,SAAS,GAAkBA,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,KAAoX,OAAtT,GAA9B,oBAAZ2T,SAA2BA,QAAQ3X,IAAc2X,QAAQ3X,IAAqB,SAActR,EAAQkyB,EAAUyqD,GAAY,IAAI7X,EAAO,GAAe9kE,EAAQkyB,GAAW,GAAK4yC,EAAL,CAAmB,IAAI0V,EAAOh5E,OAAO86C,yBAAyBwoB,EAAM5yC,GAAW,OAAIsoD,EAAKlpE,IAAckpE,EAAKlpE,IAAI1N,KAAKwC,UAAUrE,OAAS,EAAI/B,EAAS28E,GAAoBnC,EAAK95E,SAAwBuhB,MAAMvf,KAAM0D,WAErZ,SAAS,GAAeX,EAAQysB,GAAY,MAAQ1wB,OAAOU,UAAUiwB,eAAevuB,KAAK6B,EAAQysB,IAA8D,QAAjDzsB,EAAS,GAAgBA,MAAuC,OAAOA,EAIrL,SAAS,GAAgBrD,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAKxM,IAAI,GAA8B,SAAUoqI,IAjB5C,SAAmBp+H,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAkBpb,CAAUivB,EAAgBkvG,GAE1B,IA1BoB39H,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAawT,GAE1B,SAASA,EAAe4jC,GACtB,IAAIhyD,EAMJ,OAvCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAM46B,IAEtBpuB,EAAQ4a,EAAOlmB,KAAKlB,OACdg9D,YAAcwB,EACbhyD,EA2CT,OA9EoBL,EAsCPyuB,GAtCoB7nB,EAsCJ,CAAC,CAC5BF,IAAK,SACL7U,MAAO,SAAgB+rI,EAAOprI,GAC5B,IAAI6/D,EAAax+D,KAAKg9D,YAElBjgE,EAAiB4B,EAAM5B,eACvBN,EAAOkC,EAAMlC,KACb+pC,EAAkB,GAAyB7nC,EAAO,IAEtD,IAAK5B,EAAgB,CACnB,IAAKN,EAAM,CACT,GAAc,SAAVstI,EACFttI,EAAO,yBACF,GAAc,SAAVstI,EAAkB,CAC3B,IAAIt8H,EAAM+4B,EAAgB/4B,IAEtB,YAAGA,EAAK,sBACVhR,EAAO,yBAGL,YAAGgR,EAAK,qBACVhR,EAAO,kBAIX,IAAKA,EACH,MAAM,IAAIsD,MAAM,uBAIpBhD,EAAiByhE,EAAW77D,OAAOlG,GAGrC,OAAO,GAAK,GAAgBm+B,EAAep7B,WAAY,SAAUQ,MAAMkB,KAAKlB,KAAM+pI,EAnFxF,SAAuBzsI,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI,GAAQE,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW,GAAQ/J,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAmFlZ,CAAc,CACrGP,eAAgBA,EAChB4L,GAAI5L,EAAe4L,IAClB69B,SA1EqE,GAAkBr6B,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8ErP+uB,EAvDyB,CAwDhC,IC/FF,SAAS,GAAkBt9B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDkG7S,GAAerE,QAAU,CAAC,cC3F1B,IAAIy7H,GAEJ,WACE,SAASA,EAAc12H,EAAO46B,IAZhC,SAAyBhiC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMgqI,GAEtBhqI,KAAKqnB,OAAS/T,EACdtT,KAAK+2C,gBAAkB7I,EAZ3B,IAAsB/hC,EAAa4G,EAAYC,EA6D7C,OA7DoB7G,EAmBP69H,GAnBoBj3H,EAmBL,CAAC,CAC3BF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAI2D,EAAQtT,KAAKqnB,OACb6mB,EAAiBluC,KAAK+2C,gBACtBxpC,EAAO+F,EAAMO,UACbrG,EAAMmC,EAAQnC,IACdvO,EAAQ0Q,EAAQ1Q,MAmBpB,YAjBqB,IAAVA,IACTA,EAAQ0Q,EAAQ1Q,MAAQsO,EAAKb,KAAKrN,QAGpCsQ,EAAQ24H,QAAU/6H,EAEbC,EAAIT,MAAM1N,QACbkO,EAAKZ,KAAKqa,SAAQ,SAAUvZ,EAAKzG,GAC/B,IAAI0G,EAAOwgC,EAAevrC,OAAO,OAAQ,CACvC6K,IAAKA,EACLC,IAAKA,IAEPD,EAAIT,MAAM/F,GAAO0G,KAIrB4F,EAAMG,OAAOjG,EAAKvO,GACXqU,EAAMO,YAMd,CACDhB,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAInC,EAAMmC,EAAQnC,IACd8F,EAAQtT,KAAKqnB,OAEjB,OADA/T,EAAMU,UAAUxG,GACT8F,EAAMO,eAzD2D,GAAkB1H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA6D3Kg3H,EAtDT,GCTA,SAAS,GAAkB1sI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDmE7So3H,GAAcz7H,QAAU,CAAC,QAAS,kBC5DlC,IAAI07H,GAEJ,WACE,SAASA,EAAiB32H,IAZ5B,SAAyBpH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMiqI,GAEtBjqI,KAAKqnB,OAAS/T,EAXlB,IAAsBnH,EAAa4G,EAAYC,EAkD7C,OAlDoB7G,EAkBP89H,GAlBoBl3H,EAkBF,CAAC,CAC9BF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAI2D,EAAQtT,KAAKqnB,OACb9Z,EAAO+F,EAAMO,UACbrG,EAAMmC,EAAQnC,IAEd08H,EAAWv6H,EAAQu6H,SAAW38H,EAAKb,KAAKtN,QAAQoO,GAGpD,GAFAmC,EAAQ09G,QAAU7/G,EAAID,MAEJ,IAAd28H,EACF,MAAM,IAAInqI,MAAM,OAAOmZ,OAAO1L,EAAI7E,GAAI,kBAIxC,OADA2K,EAAMU,UAAUxG,GACT8F,EAAMO,YAMd,CACDhB,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAInC,EAAMmC,EAAQnC,IACd08H,EAAWv6H,EAAQu6H,SACnB52H,EAAQtT,KAAKqnB,OAEjB,OADA/T,EAAMG,OAAOjG,EAAK08H,GACX52H,EAAMO,eA9C2D,GAAkB1H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAkD3Ki3H,EA3CT,GCTA,SAAS,GAAkB3sI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDwD7Sq3H,GAAiB17H,QAAU,CAAC,SCjD5B,IAAI47H,GAEJ,WACE,SAASA,EAAe/2H,IAZ1B,SAAyBlH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMmqI,GAEtBnqI,KAAK07D,UAAYtoD,EAXrB,IAAsBjH,EAAa4G,EAAYC,EAuC7C,OAvCoB7G,EAkBPg+H,GAlBoBp3H,EAkBJ,CAAC,CAC5BF,IAAK,aACL7U,MAAO,SAAoB2R,GACzB,IAAInC,EAAMmC,EAAQnC,IAElBxN,KAAK07D,UAAU1nD,UAAUxG,KAM1B,CACDqF,IAAK,cACL7U,MAAO,SAAqB2R,GAC1B,IAAInC,EAAMmC,EAAQnC,IACdvO,EAAQ0Q,EAAQ1Q,MAEpBe,KAAK07D,UAAUjoD,OAAOjG,EAAKvO,QAnC6C,GAAkBkN,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAuC3Km3H,EAhCT,GCTA,SAAS,GAAkB7sI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,ID6C7Su3H,GAAe57H,QAAU,CAAC,YCtC1B,IAAI67H,GAEJ,WACE,SAASA,EAAc92H,EAAO46B,IAZhC,SAAyBhiC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMoqI,GAEtBpqI,KAAKqnB,OAAS/T,EACdtT,KAAK+2C,gBAAkB7I,EAZ3B,IAAsB/hC,EAAa4G,EAAYC,EA6D7C,OA7DoB7G,EAmBPi+H,GAnBoBr3H,EAmBL,CAAC,CAC3BF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAI2D,EAAQtT,KAAKqnB,OACb6mB,EAAiBluC,KAAK+2C,gBACtBxpC,EAAO+F,EAAMO,UACbpG,EAAMkC,EAAQlC,IACdxO,EAAQ0Q,EAAQ1Q,MAmBpB,YAjBqB,IAAVA,IACTA,EAAQ0Q,EAAQ1Q,MAAQsO,EAAKZ,KAAKtN,QAGpCsQ,EAAQ24H,QAAU/6H,EAEbE,EAAIV,MAAM1N,QACbkO,EAAKb,KAAKsa,SAAQ,SAAUxZ,EAAKxG,GAC/B,IAAI0G,EAAOwgC,EAAevrC,OAAO,OAAQ,CACvC6K,IAAKA,EACLC,IAAKA,IAEPA,EAAIV,MAAM/F,GAAO0G,KAIrB4F,EAAMa,OAAO1G,EAAKxO,GACXqU,EAAMO,YAMd,CACDhB,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAIlC,EAAMkC,EAAQlC,IACd6F,EAAQtT,KAAKqnB,OAEjB,OADA/T,EAAMiB,UAAU9G,GACT6F,EAAMO,eAzD2D,GAAkB1H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GA6D3Ko3H,EAtDT,GCTA,SAAS,GAAkB9sI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDmE7Sw3H,GAAc77H,QAAU,CAAC,QAAS,kBC5DlC,IAAI87H,GAEJ,WACE,SAASA,EAAiB/2H,EAAO46B,IAZnC,SAAyBhiC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMqqI,GAEtBrqI,KAAKqnB,OAAS/T,EACdtT,KAAK+2C,gBAAkB7I,EAZ3B,IAAsB/hC,EAAa4G,EAAYC,EAkD7C,OAlDoB7G,EAmBPk+H,GAnBoBt3H,EAmBF,CAAC,CAC9BF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAI2D,EAAQtT,KAAKqnB,OACb5Z,EAAMkC,EAAQlC,IACdF,EAAOoC,EAAQ09G,QAAU5/G,EAAIF,KAIjC,IAAkB,KAFHoC,EAAQu6H,SAAW38H,EAAKZ,KAAKvN,QAAQqO,IAGlD,MAAM,IAAI1N,MAAM,OAAOmZ,OAAOzL,EAAI9E,GAAI,kBAIxC,OADA2K,EAAMiB,UAAU9G,GACT6F,EAAMO,YAMd,CACDhB,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAIlC,EAAMkC,EAAQlC,IACdy8H,EAAWv6H,EAAQu6H,SACnB52H,EAAQtT,KAAKqnB,OAEjB,OADA/T,EAAMa,OAAO1G,EAAKy8H,GACX52H,EAAMO,eA9C2D,GAAkB1H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAkD3Kq3H,EA3CT,GCTA,SAAS,GAAkB/sI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDwD7Sy3H,GAAiB97H,QAAU,CAAC,QAAS,kBCjDrC,IAAI+7H,GAEJ,WACE,SAASA,EAAel3H,IAZ1B,SAAyBlH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMsqI,GAEtBtqI,KAAK07D,UAAYtoD,EAXrB,IAAsBjH,EAAa4G,EAAYC,EAuC7C,OAvCoB7G,EAkBPm+H,GAlBoBv3H,EAkBJ,CAAC,CAC5BF,IAAK,aACL7U,MAAO,SAAoB2R,GACzB,IAAIlC,EAAMkC,EAAQlC,IAElBzN,KAAK07D,UAAUnnD,UAAU9G,KAM1B,CACDoF,IAAK,cACL7U,MAAO,SAAqB2R,GAC1B,IAAIlC,EAAMkC,EAAQlC,IACdxO,EAAQ0Q,EAAQ1Q,MAEpBe,KAAK07D,UAAUvnD,OAAO1G,EAAKxO,QAnC6C,GAAkBkN,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAuC3Ks3H,EAhCT,GCTA,SAAS,GAAkBhtI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,ID6C7S03H,GAAe/7H,QAAU,CAAC,YCjC1B,IAAIg8H,GAEJ,WACE,SAASA,KAjBX,SAAyBr+H,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAkB5G,CAAgB5L,KAAMuqI,GAd1B,IAAsBp+H,EAAa4G,EAAYC,EAuC7C,OAvCoB7G,EAiBPo+H,GAjBoBx3H,EAiBH,CAAC,CAC7BF,IAAK,UAKL7U,MAAO,SAAiB2R,GAEtB,OADWA,EAAQjC,OAOpB,CACDmF,IAAK,SACL7U,MAAO,SAAgB2R,GAErB,OADWA,EAAQjC,UAlCqD,GAAkBvB,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAuC3Ku3H,EA3BT,GChBA,SAAS,GAAQxnI,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAwO,OAA3NjE,OAAO26C,uBAAyB16C,EAAK+B,KAAKye,MAAMxgB,EAAMD,OAAO26C,sBAAsB12C,IAAgBy2C,IAAgBz6C,EAAOA,EAAK2I,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAuB1N,EAIjT,SAAS,GAAgBI,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAqB7S,IAAI,GAEJ,WACE,SAAS43H,EAASz8H,EAAUmgC,EAAgBlmB,GAC1C,IAAIxb,EAAQxM,MA3BhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA6B5G,CAAgB5L,KAAMwqI,GAEtBxqI,KAAKiO,UAAYF,EACjB/N,KAAK+2C,gBAAkB7I,EACvBluC,KAAK8nB,cAAgBE,EACrBja,EAASK,GAAG,cAAc,YAwH9B,SAA0BiU,EAAU2F,GAClC,kBAAQ3F,GAAU,SAAUc,EAASxa,GACnCqf,EAAa+2C,gBAAgBp2D,EAAIwa,MAxH/B6lF,CAAiBx8F,EAAM6gG,cAAerlF,MAhC5C,IAAsB7b,EAAa4G,EAAYC,EAyI7C,OAzIoB7G,EAoCPq+H,EApCgCx3H,EA0HzC,CAAC,CACHH,IAAK,eACL7U,MAAO,WACL,MAAO,CACL,UAAWgsI,GACX,aAAcC,GACd,WAAYE,GACZ,UAAWC,GACX,aAAcC,GACd,WAAYC,GACZ,YAAaC,QApIcx3H,EAoCV,CAAC,CACtBF,IAAK,cACL7U,MAAO,WACL,OAAOwsI,EAASC,iBAEjB,CACD53H,IAAK,UACL7U,MAAO,SAAiBvB,EAAMkC,GAC5B,OAAIA,aAAiB,KACZA,EAEAqB,KAAK+2C,gBAAgBp0C,OAAOlG,EAAMkC,KAI5C,CACDkU,IAAK,SACL7U,MAAO,SAAgBW,EAAOM,GAC5B,IAAIuO,EAAMxN,KAAK8yF,QAAQ,MAAOn0F,GAE1BgR,EAAU,CACZnC,IAAKA,EACLvO,MAAOA,GAKT,OAFAe,KAAK8nB,cAAck3C,QAAQ,UAAWrvD,GAE/BnC,IAER,CACDqF,IAAK,YACL7U,MAAO,SAAmBwP,GACxBxN,KAAK8nB,cAAck3C,QAAQ,aAAc,CACvCxxD,IAAKA,MAGR,CACDqF,IAAK,UACL7U,MAAO,SAAiBwP,EAAKvO,GAC3B,IAAI0Q,EAAU,CACZnC,IAAKA,EACLvO,MAAOA,GAGTe,KAAK8nB,cAAck3C,QAAQ,WAAYrvD,KAExC,CACDkD,IAAK,SACL7U,MAAO,SAAgBW,EAAOM,GAC5B,IAAIwO,EAAMzN,KAAK8yF,QAAQ,MAAOn0F,GAE1BgR,EAAU,CACZlC,IAAKA,EACLxO,MAAOA,GAKT,OAFAe,KAAK8nB,cAAck3C,QAAQ,UAAWrvD,GAE/BlC,IAER,CACDoF,IAAK,YACL7U,MAAO,SAAmByP,GACxBzN,KAAK8nB,cAAck3C,QAAQ,aAAc,CACvCvxD,IAAKA,MAGR,CACDoF,IAAK,UACL7U,MAAO,SAAiByP,EAAKxO,GAC3B,IAAI0Q,EAAU,CACZlC,IAAKA,EACLxO,MAAOA,GAGTe,KAAK8nB,cAAck3C,QAAQ,WAAYrvD,KAExC,CACDkD,IAAK,WACL7U,MAAO,SAAkB0P,EAAMg9H,GAC7B,IAAI/6H,EA5HV,SAAuBrS,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAyB,MAAhBnF,UAAU9E,GAAa8E,UAAU9E,GAAK,GAAQA,EAAI,EAAK,GAAQiK,GAAQ,GAAMme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAsB/T,OAAOg7C,0BAA6Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAmB,GAAQA,GAAQme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAe,OAAOvV,EA4Hze,CAAc,CAC1BoQ,KAAMA,GACLg9H,GAEH1qI,KAAK8nB,cAAck3C,QAAQ,YAAarvD,QAxHgC,GAAkBxD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAyI3Kw3H,EApHT,GC7BA,SAAS,GAAkBltI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDqJ7S,GAASrE,QAAU,CAAC,WAAY,iBAAkB,gBC5IlD,IAAI,GAA0C,WAC5C,SAASo8H,EAA2BnsE,EAAYtD,EAAQ9nD,IAZ1D,SAAyBlH,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAM2qI,GAEtB3qI,KAAKg9D,YAAcwB,EACnBx+D,KAAK23D,QAAUuD,EACfl7D,KAAK07D,UAAYtoD,EAbrB,IAAsBjH,EAAa4G,EAAYC,EA4G7C,OA5GoB7G,EAoBPw+H,GApBoB53H,EAoBQ,CAAC,CACxCF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAInT,EAAUmT,EAAQnT,QAClBouI,EAAgBj7H,EAAQi7H,cAyC5B,OAxCc,YAAGpuI,EAAS,oBAGpBA,EAAQq1H,YACVliH,EAAQk7H,iBAAmBruI,EAAQq1H,YAAYvgF,KAE1C,GAAOs5F,KACVpuI,EAAQq1H,YAAc7xH,KAAKg9D,YAAYr6D,OAAO,iBAAkB,CAC9D2uC,KAAM,MAKR,GAAOs5F,GACLpuI,EAAQq1H,oBACHr1H,EAAQq1H,YAGjBr1H,EAAQq1H,YAAYvgF,KAAOs5F,EAAc3pI,KAAK,OAG5CzE,EAAQs1H,cAAgBt1H,EAC1BmT,EAAQk7H,iBAAmBruI,EAAQs1H,aAAaxgF,KAE3C,GAAOs5F,KACVpuI,EAAQs1H,aAAe9xH,KAAKg9D,YAAYr6D,OAAO,iBAAkB,CAC/D2uC,KAAM,MAKR,GAAOs5F,GACLpuI,EAAQs1H,qBACHt1H,EAAQs1H,aAGjBt1H,EAAQs1H,aAAaxgF,KAAOs5F,EAAc3pI,KAAK,MAI5CzE,IAMR,CACDqW,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAInT,EAAUmT,EAAQnT,QAClBquI,EAAmBl7H,EAAQk7H,iBA6B/B,OA5Bc,YAAGruI,EAAS,mBAGpBquI,GACGruI,EAAQq1H,cACXr1H,EAAQq1H,YAAc7xH,KAAKg9D,YAAYr6D,OAAO,iBAAkB,CAC9D2uC,KAAM,MAIV90C,EAAQq1H,YAAYvgF,KAAOu5F,UAEpBruI,EAAQq1H,YAGbgZ,GACGruI,EAAQs1H,eACXt1H,EAAQs1H,aAAe9xH,KAAKg9D,YAAYr6D,OAAO,iBAAkB,CAC/D2uC,KAAM,MAIV90C,EAAQs1H,aAAaxgF,KAAOu5F,UAErBruI,EAAQs1H,aAIZt1H,OAxGiE,GAAkB2P,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4GrP8+H,EArGqC,GA2G9C,SAAS,GAAO3sI,GACd,OAAiB,OAAVA,ECvHT,SAAS,GAAQ+E,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS,GAAczB,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI,GAAQE,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW,GAAQ/J,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAEjf,SAAS,GAAgB6B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAE3M,SAAS,GAAmBD,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAO,GAAkBA,GAR1C,CAAmBA,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjF,CAAiBh7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO,GAAkBA,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAO,GAAkB3Y,EAAGyY,GAJxT,CAA4BjZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8E,GAUlI,SAAS,GAAkB1M,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAIhL,SAAS,GAAkBpb,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDgG7S,GAA2BrE,QAAU,CAAC,aAAc,SAAU,YC1F9D,IAKI,GAAqC,WACvC,SAASu8H,EAAsBp7H,EAAiBwrD,IAdlD,SAAyBhvD,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAe5G,CAAgB5L,KAAM8qI,GAEtB9qI,KAAK2f,iBAAmBjQ,EACxB1P,KAAK23D,QAAUuD,EAdnB,IAAsB/uD,EAAa4G,EAAYC,EA4G7C,OA5GoB7G,EAqBP2+H,GArBoB/3H,EAqBG,CAAC,CACnCF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAInT,EAAUmT,EAAQnT,QAClB+lD,EAAa5yC,EAAQ4yC,WACrB7lD,EAAK,YAAkBF,GAEvBuuI,EAAwB/qI,KAAKs1F,iBAAiB54F,EAAI6lD,GAClD9kB,EAAUstG,EAAsBttG,QAChCqlE,EAAgBioC,EAAsBjoC,cAG1C,OADAnzF,EAAQmzF,cAAgBA,EACjB,GAAG5pF,OAAO,GAAmBukB,GAAU,CAACjhC,MAMhD,CACDqW,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAInT,EAAUmT,EAAQnT,QAClBsmG,EAAgBnzF,EAAQmzF,cACxBpmG,EAAK,YAAkBF,GAGvBihC,EADyBz9B,KAAKs1F,iBAAiB54F,EAAIomG,GAClBrlE,QAErC,MAAO,GAAGvkB,OAAO,GAAmBukB,GAAU,CAACjhC,MAOhD,CACDqW,IAAK,mBACL7U,MAAO,SAA0BtB,EAAIgjH,GACnC,IAAIlzG,EAAQxM,KAERwK,EAAMxK,KAAK23D,QAAQntD,IAOvB,OAAO,iBAAOk1G,GAAU,SAAU73G,EAAQ7J,EAAO6U,GAC/C,IA6CqBu6B,EA7CjB49F,EAAgBtuI,EAAGkS,IAAIiE,GAE3B,GAAIo4H,GAAYjtI,GAAQ,CACtB,IAAKitI,GAAYD,GACf,MAAM,IAAIjrI,MAAM,0BAA0BmZ,OAAOrG,EAAK,4BAGxD,IAAIq4H,EAAyB1+H,EAAM8oF,iBAAiB01C,EAAehtI,GAC/Dy/B,EAAUytG,EAAuBztG,QACjCqlE,EAAgBooC,EAAuBpoC,cAE3C,MAAO,CACLrlE,QAAS,GAAGvkB,OAAO,GAAmBrR,EAAO41B,SAAU,GAAmBA,GAAU,CAACutG,IACrFloC,cAAe,GAAc,GAAc,GAAIj7F,EAAOi7F,eAAgB,GAAI,GAAgB,GAAIjwF,EAAKiwF,KAevG,MA7FC,OAmFGjwF,IA2BiBu6B,EA3BYpvC,EAAJtB,EA4BlB,KAAM0wC,KA3Bf5iC,EAAIw2D,QAAQtkE,EAAK,IAEjB8P,EAAMmT,iBAAiBwtB,SAASzwC,EAAIsB,GAEpCwM,EAAIu2D,MAAM/iE,EAAOtB,IAInBA,EAAG8+B,IAAI3oB,EAAK7U,GACL,CACLy/B,QAAS51B,EAAO41B,QAChBqlE,cAAe,GAAc,GAAc,GAAIj7F,EAAOi7F,eAAgB,GAAI,GAAgB,GAAIjwF,EAAKm4H,OAEpG,CACDvtG,QAAS,GACTqlE,cAAe,UAvGuD,GAAkB32F,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4GrPi/H,EAnGgC,GA6GzC,SAASG,GAAYvrI,GACnB,OAAO,oBAAUA,IAAM,mBAASA,GC3IlC,SAAS,GAAkBpC,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDoI7S,GAAsBrE,QAAU,CAAC,kBAAmB,UChIpD,IAAI,GAA8B,WAChC,SAAS06F,EAAe/tC,IAP1B,SAAyBhvD,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAQ5G,CAAgB5L,KAAMipG,GAEtBjpG,KAAK23D,QAAUuD,EANnB,IAAsB/uD,EAAa4G,EAAYC,EA+C7C,OA/CoB7G,EAaP88F,GAboBl2F,EAaJ,CAAC,CAC5BF,IAAK,UACL7U,MAAO,SAAiB2R,GACtB,IAAInF,EAAMxK,KAAK23D,QAAQntD,IACnB7B,EAAKgH,EAAQhH,GACbnM,EAAUmT,EAAQnT,QACPmT,EAAQ89F,SAGrBjjG,EAAIu2D,MAAMp4D,EAAInM,GAEdgO,EAAIw2D,QAAQr4D,KAOf,CACDkK,IAAK,SACL7U,MAAO,SAAgB2R,GACrB,IAAInF,EAAMxK,KAAK23D,QAAQntD,IACnB7B,EAAKgH,EAAQhH,GACbnM,EAAUmT,EAAQnT,QACPmT,EAAQ89F,SAGrBjjG,EAAIw2D,QAAQr4D,GAEZ6B,EAAIu2D,MAAMp4D,EAAInM,QA1CwD,GAAkB2P,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA+CrPo9F,EA7CyB,GCNlC,SAAS,GAAQ9pG,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,KAAoX,OAAtT,GAA9B,oBAAZ2T,SAA2BA,QAAQ3X,IAAc2X,QAAQ3X,IAAqB,SAActR,EAAQkyB,EAAUyqD,GAAY,IAAI7X,EAAO,GAAe9kE,EAAQkyB,GAAW,GAAK4yC,EAAL,CAAmB,IAAI0V,EAAOh5E,OAAO86C,yBAAyBwoB,EAAM5yC,GAAW,OAAIsoD,EAAKlpE,IAAckpE,EAAKlpE,IAAI1N,KAAKwC,UAAUrE,OAAS,EAAI/B,EAAS28E,GAAoBnC,EAAK95E,SAAwBuhB,MAAMvf,KAAM0D,WAErZ,SAAS,GAAeX,EAAQysB,GAAY,MAAQ1wB,OAAOU,UAAUiwB,eAAevuB,KAAK6B,EAAQysB,IAA8D,QAAjDzsB,EAAS,GAAgBA,MAAuC,OAAOA,EAIrL,SAAS,GAAgBrD,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GD+BxM,GAAe6O,QAAU,CAAC,UCvB1B,IAAI,GAAwB,SAAU48H,IApBtC,SAAmBz/H,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAqBpb,CAAU6+H,EAAUW,GAEpB,IA7BoBh/H,EAAa4G,EAAYC,EA6BzCoU,EAAS,GAAaojH,GAE1B,SAASA,EAASz8H,EAAUmgC,EAAgBlmB,EAAc1U,GACxD,IAAI9G,EASJ,OA7CJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAsC5G,CAAgB5L,KAAMwqI,IAEtBh+H,EAAQ4a,EAAOlmB,KAAKlB,KAAM+N,EAAUmgC,EAAgBlmB,IAC9C/Z,UAAYF,EAClBvB,EAAMuqC,gBAAkB7I,EACxB1hC,EAAMsb,cAAgBE,EACtBxb,EAAM6a,OAAS/T,EACR9G,EA8LT,OAvOoBL,EA4CPq+H,EA5CgCx3H,EA4NzC,CAAC,CACHH,IAAK,eACL7U,MAAO,WACL,OAAO,iBAAO,GAAI,GAAK,GAAgBwsI,GAAW,eAAgBxqI,MAAMkB,KAAKlB,MAAO,CAClF,kBAAqB,GACrB,2BAA4B,GAC5B,iBAAkB,SAlOS+S,EA4CV,CAAC,CACtBF,IAAK,cACL7U,MAAO,WACL,OAAOwsI,EAASC,iBAEjB,CACD53H,IAAK,wBACL7U,MAAO,SAA+Bf,GACpC,IAII0S,EAAU,CACZnT,QALSwD,KAAKqnB,OAAOxT,UACG9W,eACgBk7C,QAIxCsK,WAAY,CACVtlD,KAAMA,IAIV+C,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,sBACL7U,MAAO,SAA6B2K,GAClC,IAIIgH,EAAU,CACZnT,QALSwD,KAAKqnB,OAAOxT,UACG9W,eACgBk7C,QAIxCsK,WAAY,CACV55C,GAAIA,IAIR3I,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,gBACL7U,MAAO,SAAuBk2H,EAAWC,GACvC,IAGIxkH,EAAU,CACZnT,QAJSwD,KAAKqnB,OAAOxT,UACG9W,eAIxBwlD,WAAY,CACV2xE,UAAWA,EACXC,YAAaA,IAIjBn0H,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,mBACL7U,MAAO,SAA0B4B,EAAIoD,GACnC,IAAI2M,EAAU,CACZnT,QAASoD,EACT2iD,WAAYv/C,GAGdhD,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,sBACL7U,MAAO,SAA6ByzF,EAAiBzuF,GACnD,IAAI2M,EAAU,CACZnT,QAASi1F,EACTlvC,WAAYv/C,GAGdhD,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,iBACL7U,MAAO,SAAwByW,EAAQxX,GACrC,IAAI0S,EAAU,CACZnT,QAASiY,EACT8tC,WAAY,CACVtlD,KAAMA,IAIV+C,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,6BACL7U,MAAO,SAAoCyzF,EAAiBD,GAC1D,IAAI7hF,EAAU,CACZnT,QAASi1F,EACTlvC,WAAY,CACVivC,QAASA,IAIbxxF,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,oBACL7U,MAAO,SAA2ByW,EAAQ+8E,GACxC,IAAI7hF,EAAU,CACZnT,QAASiY,EACT8tC,WAAY,CACVivC,QAASA,IAIbxxF,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4jC,GAC7B,IAAI3hC,EAAU,CACZnT,QAASkR,EACT60C,WAAY,CACVjR,KAAMA,IAIVtxC,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,iBACL7U,MAAO,SAAwB2V,EAAMk9G,GACnC,IAAIlhH,EAAU,CACZnT,QAASmX,EACT4uC,WAAY,CACVsuE,YAAaA,IAIjB7wH,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,oBACL7U,MAAO,SAA2BxB,EAASouI,GACzC,IAAIj7H,EAAU,CACZnT,QAASA,EACTouI,cAAeA,GAGjB5qI,KAAK8nB,cAAck3C,QAAQ,oBAAqBrvD,KAEjD,CACDkD,IAAK,yBACL7U,MAAO,SAAgCxB,EAAS8iI,GAC9C,IAAI3vH,EAAU,CACZnT,QAASA,EACT+lD,WAAY,CACV+8E,mBAAoBA,IAIxBt/H,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,UACL7U,MAAO,SAAiB2K,EAAIqlG,GAC1B,IAAIr+F,EAAU,CACZhH,GAAIA,EACJnM,QAASwxG,EACTP,UAAU,GAGZztG,KAAK8nB,cAAck3C,QAAQ,iBAAkBrvD,KAE9C,CACDkD,IAAK,YACL7U,MAAO,SAAmB2K,EAAIqlG,GAC5B,IAAIr+F,EAAU,CACZhH,GAAIA,EACJnM,QAASwxG,GAGXhuG,KAAK8nB,cAAck3C,QAAQ,iBAAkBrvD,QA1N2B,GAAkBxD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAuOrP2+H,EA7MmB,CA8M1B,IC9OF,SAAS,GAAQrrI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GD6NxM,GAAS6O,QAAU,CAAC,WAAY,iBAAkB,eAAgB,SCxNlE,IAAI,GAA+B,SAAUm0F,IAjB7C,SAAmBh3F,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAkBpb,CAAUy/H,EAAiB1oC,GAE3B,IAtBoBv2F,EAAa4G,EAAYC,EAsBzCoU,EAAS,GAAagkH,GAE1B,SAASA,EAAgBr9H,EAAUmtD,EAAQ9nD,GACzC,IAAI5G,EAqBJ,OAlDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA+B5G,CAAgB5L,KAAMorI,IAEtB5+H,EAAQ4a,EAAOlmB,KAAKlB,KAAM+N,IACpB0a,KAAOyyC,EAAO1wD,IACpBgC,EAAMkvD,UAAYtoD,EAElB5G,EAAMytF,WAAW,CAAC,UAAW,YAAY,SAAUzqF,GACjD,IAAIG,EAAUH,EAAMG,QAChBnT,EAAUmT,EAAQnC,KAAOmC,EAAQlC,IAErCjB,EAAMuhG,QAAQvxG,EAAQO,gBAElBP,EAAQuQ,OACVvQ,EAAQuQ,MAAMia,SAAQ,SAAUtZ,GAC9B,OAAOlB,EAAMuhG,QAAQrgG,EAAK3Q,sBAKzByP,EAkCT,OAhFoBL,EAiDPi/H,GAjDoBr4H,EAiDH,CAAC,CAC7BF,IAAK,UACL7U,MAAO,SAAiBjB,GACtB,IAAI+P,EAAS9M,KAETjD,EAAe4L,KAAO3I,KAAKyoB,KAAKne,SAASvN,EAAe4L,KAC1D3I,KAAK07D,UAAUqyC,QAAQhxG,EAAe4L,GAAI5L,GAG5CA,EAAe0rD,YAAYlG,WAAWv7B,SAAQ,SAAUwI,GACtD,IAAIxxB,EAAQjB,EAAeyyB,EAASvyB,MAE/Be,IAKD,kBAAQA,IACVA,EAAMgpB,SAAQ,SAAUsO,GACtB,OAAOxoB,EAAOihG,QAAQz4E,MAKtBt3B,EAAM0pB,OACR5a,EAAOihG,QAAQ/vG,YA1EqD,GAAkBmO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAgFrPu/H,EA7D0B,CA8DjC,MCvFF,SAAS,GAAQjsI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GDsExM,GAAgB6O,QAAU,CAAC,WAAY,SAAU,YCjEjD,IAAI,GAAiC,SAAUm0F,IAjB/C,SAAmBh3F,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAkBpb,CAAU0/H,EAAmB3oC,GAE7B,IAtBoBv2F,EAAa4G,EAAYC,EAsBzCoU,EAAS,GAAaikH,GAE1B,SAASA,EAAkBt9H,EAAUqF,GACnC,IAAI5G,EAoBJ,OAjDJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA+B5G,CAAgB5L,KAAMqrI,IAEtB7+H,EAAQ4a,EAAOlmB,KAAKlB,KAAM+N,IACpB2tD,UAAYtoD,EAElB5G,EAAMytF,WAAW,CAAC,aAAc,eAAe,SAAUzqF,GACvD,IAAIG,EAAUH,EAAMG,QAChBnT,EAAUmT,EAAQnC,KAAOmC,EAAQlC,IAErCjB,EAAMi2F,UAAUjmG,EAAQO,gBAEpBP,EAAQuQ,OACVvQ,EAAQuQ,MAAMia,SAAQ,SAAUtZ,GAC9B,OAAOlB,EAAMi2F,UAAU/0F,EAAK3Q,sBAK3ByP,EAkCT,OA/EoBL,EAgDPk/H,GAhDoBt4H,EAgDD,CAAC,CAC/BF,IAAK,YACL7U,MAAO,SAAmBjB,GACxB,IAAI+P,EAAS9M,KAETjD,EAAe4L,IACjB3I,KAAK07D,UAAU+mC,UAAU1lG,EAAe4L,GAAI5L,GAG9CA,EAAe0rD,YAAYlG,WAAWv7B,SAAQ,SAAUwI,GACtD,IAAIxxB,EAAQjB,EAAeyyB,EAASvyB,MAE/Be,IAKD,kBAAQA,IACVA,EAAMgpB,SAAQ,SAAUsO,GACtB,OAAOxoB,EAAO21F,UAAUntE,MAKxBt3B,EAAM0pB,OACR5a,EAAO21F,UAAUzkG,YAzEmD,GAAkBmO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA+ErPw/H,EA5D4B,CA6DnC,MAGF,GAAkB98H,QAAU,CAAC,WAAY,YCvF1B,ICKA,IACbgC,SAAU,CAAC,aAAc,mBAAoB,YAC7CC,YAAa,CDPA,CACbD,SAAU,CAAC,kBAAmB,qBAC9B+6H,gBAAiB,CAAC,OAAQ,IAC1BC,kBAAmB,CAAC,OAAQ,KCIJ,IACxBC,WAAY,CAAC,OAAQ,IACrBhtE,WAAY,CAAC,OAAQ,IACrBtwB,eAAgB,CAAC,OAAQ,IACzBu1D,iBAAkB,CAAC,OAAQ,IAC3BrwF,SAAU,CAAC,OAAQ,KCdrB,SAAS,GAAQjU,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAE/Q,SAAS,GAAUT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAEtb,SAAS,GAAgBjM,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAQxM,IAAI,GAAgD,SAAUusH,GAC5D,GAAUwf,EAAkCxf,GAE5C,IAAI7kG,EAAS,GAAaqkH,GAE1B,SAASA,EAAiCzoI,EAAO2M,GAC/C,IAAInD,EAYJ,OAVA,GAAgBxM,KAAMyrI,IAEtBj/H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B0wC,MAAQ,CACZqrF,YAAY,GAEdl/H,EAAMm/H,gBAAkBn/H,EAAMm/H,gBAAgBtoH,KAAK,GAAuB7W,IAC1EA,EAAM8pH,QAAU9pH,EAAM8pH,QAAQjzG,KAAK,GAAuB7W,IAC1DA,EAAMgqH,OAAShqH,EAAMgqH,OAAOnzG,KAAK,GAAuB7W,IACxDA,EAAM8/G,kBAAoB9/G,EAAM8/G,kBAAkBjpG,KAAK,GAAuB7W,IACvEA,EA8ET,OA3EA,GAAai/H,EAAkC,CAAC,CAC9C54H,IAAK,oBACL7U,MAAO,WACLgC,KAAK4rH,gBAEN,CACD/4G,IAAK,qBACL7U,MAAO,WACL,IAAI6pB,EAAW7nB,KAAK2P,QAAQkY,SACxBna,EAAO1N,KAAKgD,MAAM0K,KAClBgyF,EAAgB1/F,KAAKmsH,eAAiBnsH,KAAK2P,QAAQ+vF,cACvD1/F,KAAK07D,UAAY7zC,EAASjZ,IAAI,YAC9B8wF,EAAc4sB,kBAAkB5+G,EAAK/E,GAAI3I,KAAKssH,qBAE/C,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAI0P,EAAO1N,KAAKgD,MAAM0K,KAEtB1N,KAAKmsH,eAAeK,mBAAmB9+G,EAAK/E,GAAI3I,KAAKssH,qBAEtD,CACDz5G,IAAK,kBACL7U,MAAO,SAAyBA,GAC9B,IAAI0P,EAAO1N,KAAKgD,MAAM0K,KAEtB1N,KAAK07D,UAAUkwE,SAASl+H,EAAK3Q,eAAgBiB,KAE9C,CACD6U,IAAK,UACL7U,MAAO,WACLgC,KAAK6rH,SAAS,CACZ6f,YAAY,MAGf,CACD74H,IAAK,SACL7U,MAAO,WACLgC,KAAK6rH,SAAS,CACZ6f,YAAY,MAGf,CACD74H,IAAK,SACL7U,MAAO,WACL,IAAIyyH,EAAczwH,KAAKgD,MACnB0K,EAAO+iH,EAAY/iH,KACnByT,EAAWsvG,EAAYtvG,SACvB3T,EAAMijH,EAAYjjH,IAClBC,EAAMgjH,EAAYhjH,IAClB6T,EAAWmvG,EAAYnvG,SACvBoqH,EAAa1rI,KAAKqgD,MAAMqrF,WACxBG,EAAc,YAAGn+H,EAAM,kBACvB3Q,EAAiB2Q,EAAK3Q,eAC1B,OAAO6+G,GAAqB,EAAG,GAAM,CACnC,UAAaiwB,EAAc,aAAe,cAC1C,UAAan+H,EAAK/E,GAClB,OAAU,GAAGuQ,OAAOiI,EAAU,KAAKjI,OAAOoI,GAC1C,cAAe9T,EAAI7E,GACnB,cAAe8E,EAAI9E,GACnBZ,SAAU6zG,GAAqB,EAAG,GAAiB,CACjD,UAAa,cACb,YAAeiwB,EAAc,IAAM,GACnC,gBAAkB,EAClB,QAAW7rI,KAAKs2H,QAChB,OAAUt2H,KAAKw2H,OACf,WAAckV,EACd,SAAY1rI,KAAK2rI,gBACjB,MAAS5uI,EAAeu0C,KACxB,eAAkBv0C,UAMnB0uI,EAhG2C,CAiGlD,IAIE,GAA+B,SAAUlT,GAC3C,GAAUuT,EAAiBvT,GAE3B,IAAIE,EAAU,GAAaqT,GAE3B,SAASA,EAAgB9oI,EAAO2M,GAC9B,IAAI7C,EAOJ,OALA,GAAgB9M,KAAM8rI,IAEtBh/H,EAAS2rH,EAAQv3H,KAAKlB,KAAMgD,EAAO2M,IAC5BqwH,qBAAuBrwH,EAAQkY,SAASjZ,IAAI,uBACnD9B,EAAOmlF,WAAatiF,EAAQkY,SAASjZ,IAAI,aAClC9B,EAgET,OA7DA,GAAag/H,EAAiB,CAAC,CAC7Bj5H,IAAK,8BACL7U,MAAO,SAAqCjB,GAC1C,IAAIuiI,EAAqBviI,EAAeuiI,mBACpCF,EAA4Bp/H,KAAK+rI,6BAA6BhvI,GAAgBiB,MAClF,OAAQshI,GAAsBA,IAAuBF,IAEtD,CACDvsH,IAAK,iBACL7U,MAAO,SAAwBjB,GAC7B,OAAOA,EAAe8zH,cAEvB,CACDh+G,IAAK,6BACL7U,MAAO,SAAoCjB,GACzC,IAAIuiI,EAAqBviI,EAAeuiI,mBACpCF,EAA4Bp/H,KAAK+rI,6BAA6BhvI,GAClE,OAAOiD,KAAKggI,qBAAqBpgC,SAAS0/B,IAAuBF,EAA0B1jG,QAE5F,CACD7oB,IAAK,WACL7U,MAAO,SAAkBjB,GACvB,IAAIqiI,EAA4Bp/H,KAAK+rI,6BAA6BhvI,GAGlE,QAFkB,YAAGA,EAAgB,qBAMM,IAAvCA,EAAeu0C,KAAKlyC,QAAQ,OAIzBrC,EAAeuiI,oBAAsBviI,EAAeuiI,qBAAuBF,KAEnF,CACDvsH,IAAK,+BACL7U,MAAO,SAAsCjB,GAC3C,IAAIqyD,EAAc,YAAGryD,EAAgB,kBAAoB,YAAc,aACvE,OAAOiD,KAAKggI,qBAAqBE,WAAW9wE,KAE7C,CACDv8C,IAAK,SACL7U,MAAO,WACL,IAAIi6H,EAAej4H,KAAKgD,MACpBjG,EAAiBk7H,EAAal7H,eAC9B2uI,EAAazT,EAAayT,WAC1B7a,EAAc7wH,KAAKmnI,eAAepqI,GAClCivI,EAA8BhsI,KAAKgsI,4BAA4BjvI,GAC/DkvI,EAA0BjsI,KAAKksI,2BAA2BnvI,GAC1DovI,EAAWnsI,KAAKmsI,SAASpvI,GAC7B,OAAOw+G,GAAY,EAAG,MAAOv7G,KAAKw3H,eAAgB,CAAC,mBAAS3G,KAAiB6a,GAAcnwB,GAAY,EAAG,MAAO,yBAA0Bv7G,KAAK04H,UAAU,CACxJ33H,UAAWorI,EAAW,gBAAkB,QACrCH,IAAgCN,GAAcnwB,GAAY,EAAG,OAAQ,oCAAqC,CAACA,GAAY,EAAG,OAAQ,qCAAsCA,GAAY,EAAG,OAAQ,kBAAmB0wB,EAAyB,IAAK,EAAG,CACtP,MAASjsI,KAAKiyF,WAAW,kDAAmD,CAC1Eg6C,wBAAyBA,OAExB,OAIFH,EA7E0B,CA8EjC,ICjNF,SAAS,GAAkBxuI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAA2B,IAAa,SAASigI,EAAY/9F,IALjE,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMosI,GAEtB/9F,EAAW0iF,eAAe,OALR,MAK+B,SAAUz7G,GAGzD,GAAiB,SAFFA,EAAKu6G,SAGlB,OAAO,SAMb,GAAYthH,QAAU,CAAC,cCnBR,QACbiC,YAAa,CAAC,GAAe,IAC7BD,SAAU,CAAC,uBACX87H,oBAAqB,CAAC,OAAQ,K,UCNhC,SAAS,GAAQltI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAQ4D,EAAQy2C,GAAkB,IAAIz6C,EAAOD,OAAOC,KAAKgE,GAAS,GAAIjE,OAAO26C,sBAAuB,CAAE,IAAIC,EAAU56C,OAAO26C,sBAAsB12C,GAASy2C,IAAmBE,EAAUA,EAAQhyC,QAAO,SAAUiyC,GAAO,OAAO76C,OAAO86C,yBAAyB72C,EAAQ42C,GAAKltC,eAAiB1N,EAAK+B,KAAKye,MAAMxgB,EAAM26C,GAAY,OAAO36C,EAE9U,SAAS,GAAczB,GAAU,IAAK,IAAIsB,EAAI,EAAGA,EAAI8E,UAAUrE,OAAQT,IAAK,CAAE,IAAIiK,EAAS,MAAQnF,UAAU9E,GAAK8E,UAAU9E,GAAK,GAAIA,EAAI,EAAI,GAAQE,OAAO+J,IAAS,GAAIme,SAAQ,SAAUnU,GAAO,GAAgBvV,EAAQuV,EAAKhK,EAAOgK,OAAY/T,OAAOg7C,0BAA4Bh7C,OAAOi7C,iBAAiBz8C,EAAQwB,OAAOg7C,0BAA0BjxC,IAAW,GAAQ/J,OAAO+J,IAASme,SAAQ,SAAUnU,GAAO/T,OAAOuN,eAAe/O,EAAQuV,EAAK/T,OAAO86C,yBAAyB/wC,EAAQgK,OAAa,OAAOvV,EAEjf,SAAS,GAAgB6B,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAI3M,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAQxM,IAEI,GAAyC,SAAUusH,IAtBvD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAuBpb,CAAU2gI,EAA2BrgB,GAErC,IA3BoB9/G,EAAa4G,EAAYC,EA2BzCoU,EAAS,GAAaklH,GAE1B,SAASA,EAA0BtpI,EAAO2M,GACxC,IAAInD,GAlCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAoC5G,CAAgB5L,KAAMssI,IAEtB9/H,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B0wC,MAAQ,CACZl7C,IAAK,EACLG,KAAM,EACNinI,WAAW,EACXC,YAAY,EACZt9H,UAAW,MAEbo/G,GAAO,GAAuB9hH,IAE9B,IACIurH,EADwB,GAAuBvrH,GACTurH,cAO1C,OALAvrH,EAAMioH,QAAUjoH,EAAMioH,QAAQpxG,KAAK,GAAuB7W,IAC1DA,EAAMigI,uBAAyBjgI,EAAMigI,uBAAuBppH,KAAK,GAAuB7W,IACxFA,EAAMkgI,qBAAuBlgI,EAAMkgI,qBAAqBrpH,KAAK,GAAuB7W,IACpFA,EAAMmgI,cAAgB5U,EAAcvrH,EAAMmgI,cAActpH,KAAK,GAAuB7W,KACpFA,EAAM+sH,eAAiB/sH,EAAM+sH,eAAel2G,KAAK,GAAuB7W,IACjEA,EA6KT,OAjOoBL,EAuDPmgI,GAvDoBv5H,EAuDO,CAAC,CACvCF,IAAK,oBACL7U,MAAO,WACL,IAAI+P,EAAW/N,KAAK+N,SACpBA,EAASK,GAAG,wBAAyBpO,KAAKysI,wBAC1C1+H,EAASK,GAAG,uBAAwBpO,KAAKu5H,gBACzCxrH,EAASK,GAAG,eAAgBpO,KAAK0sI,wBAElC,CACD75H,IAAK,uBACL7U,MAAO,WACL,IAAI+P,EAAW/N,KAAK+N,SACpBA,EAAS+f,IAAI,wBAAyB9tB,KAAKysI,wBAC3C1+H,EAAS+f,IAAI,uBAAwB9tB,KAAKu5H,gBAC1CxrH,EAAS+f,IAAI,eAAgB9tB,KAAK0sI,wBAEnC,CACD75H,IAAK,uBACL7U,MAAO,WACLgC,KAAKgqB,OACLhqB,KAAK2sI,kBAEN,CACD95H,IAAK,gBACL7U,MAAO,WACLgC,KAAK2oB,SAEN,CACD9V,IAAK,OACL7U,MAAO,WACL,IAAIqiD,EAAQ38C,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAChF1D,KAAK6rH,SAAS,GAAc,GAAc,GAAIxrE,GAAQ,GAAI,CACxDksF,WAAW,OAGd,CACD15H,IAAK,OACL7U,MAAO,WACL,IAAIqiD,EAAQ38C,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAChF1D,KAAK6rH,SAAS,GAAc,GAAc,GAAIxrE,GAAQ,GAAI,CACxDksF,WAAW,KAEbvsI,KAAKu5H,mBAEN,CACD1mH,IAAK,yBACL7U,MAAO,SAAgCsX,GACrC,IAAI8D,EAAY9D,EAAK8D,UACjB1J,EAAkB1P,KAAK0P,gBACvBgkH,EAAsB1zH,KAAK0zH,oBAC3BkZ,EAAa5sI,KAAK4sI,WAClB19H,EAAYQ,EAAgBd,IAAIwK,GAEpC,GAAKlK,GAAc09H,EAAWC,cAAc39H,GAA5C,CAQA,IACIs9H,GA4HV,SAAqC9+H,EAAM4xH,EAAoB5L,GAC7D,OAAQ4L,GAAsBA,IAGhC,SAAsC5xH,EAAMgmH,GAC1C,OAAI,YAAQhmH,EAAKD,KACRimH,EAAoBwM,WAAW,aAAaliI,MAC1C,YAAS0P,EAAKD,KAChBimH,EAAoBwM,WAAW,cAAcliI,WAD/C,EAN8C,CAA6B0P,EAAMgmH,GA7HlE,CAA4BxkH,EADCA,EA0HvCnS,eAAeuiI,mBAzHsD5L,GAC7E1zH,KAAK2oB,KAAK,CACR6jH,WAAYA,EACZt9H,UAAWA,SAXXlP,KAAKgqB,KAAK,CACRwiH,YAAY,EACZt9H,UAAW,SAahB,CACD2D,IAAK,iBACL7U,MAAO,WACL,IAAIkR,EAAYlP,KAAKqgD,MAAMnxC,UACvBrR,EAAOmC,KAAKnC,KAEhB,GAAKqR,GAAcrR,EAAnB,CAIA,IACIob,EADWjZ,KAAK0f,SACKsJ,eACrB6wG,EAAkB5gH,EAAUskC,wBAE5BuvF,EADW,aAAY59H,EAAUvG,GAAIsQ,GACfskC,wBACtBwvF,EAAa/sI,KAAKnC,KAAK0/C,wBAEvBu8E,EAgHV,SAAiCj8H,GAC/B,IAAIk8H,EAAiB,kBAAWl8H,EAAM,wBAEtC,IAAKk8H,EACH,MAAO,CACLC,UAAW,EACXC,WAAY,GAIhB,IAAIA,EAAaF,EAAeE,WAEhC,MAAO,CACLD,UAFcD,EAAeC,UAG7BC,WAAYA,GA9HkB,CAAwBp8H,GAChDo8H,EAAaH,EAAsBG,WACnCD,EAAYF,EAAsBE,UAElCgT,EAAe,GAEfF,EAAWxnI,KAAOwnI,EAAWhoI,MAAQ,EAAI+0H,EAAgB/0H,MAAQ,GAEnEkoI,EAAa1nI,MAAQu0H,EAAgBv0H,KAAOwnI,EAAWxnI,KAAOynI,EAAWjoI,MA/HpE,EA+HqFm1H,EAAa,KACvGp8H,EAAKqC,UAAUC,OAAO,SACtBtC,EAAKqC,UAAUU,IAAI,UAGnBosI,EAAa1nI,MAAQu0H,EAAgBv0H,KAAOwnI,EAAWxnI,KAAOwnI,EAAWhoI,MApIpE,EAoIqFm1H,EAAa,KACvGp8H,EAAKqC,UAAUC,OAAO,QACtBtC,EAAKqC,UAAUU,IAAI,UAGjBksI,EAAW3nI,IAAM2nI,EAAW/nI,OAAS,EAAI80H,EAAgB90H,OAAS,GAEpEioI,EAAa7nI,KAAO00H,EAAgB10H,IAAM2nI,EAAW3nI,IAAM4nI,EAAWhoI,OA3IjE,EA2ImFi1H,EAAY,KACpGn8H,EAAKqC,UAAUC,OAAO,OACtBtC,EAAKqC,UAAUU,IAAI,YAGnBosI,EAAa7nI,KAAO00H,EAAgB10H,IAAM2nI,EAAW3nI,IAhJhD,EAgJ+D60H,EAAY,KAChFn8H,EAAKqC,UAAUC,OAAO,UACtBtC,EAAKqC,UAAUU,IAAI,QAGrB,iBAAOZ,KAAKnC,KAAKQ,MAAO2uI,MAEzB,CACDn6H,IAAK,UACL7U,MAAO,WACL,IAAI+P,EAAW/N,KAAK+N,SAGpB,IAFiB/N,KAAKqgD,MAAMmsF,WAE5B,CAIA,IACIhwI,EADYwD,KAAKkP,UACGN,MAEnBpS,IAILuR,EAASW,KAAK,kBAAmB,CAC/BlS,QAASA,EACTqB,KAAM,aAAYrB,EAAQmM,GAAI3I,KAAKyrB,cAErCzrB,KAAKgqB,WAEN,CACDnX,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAETgwH,EAAchwH,KAAKqgD,MACnBmsF,EAAaxc,EAAYwc,WACzBD,EAAYvc,EAAYuc,UACxBpnI,EAAM6qH,EAAY7qH,IAClBG,EAAO0qH,EAAY1qH,KACnB3F,EAAU,CAAC,qBAAsB,eAMrC,OAJI6sI,GACF7sI,EAAQmB,KAAK,YAGRyrI,EAAYhxB,GAAY,EAAG,MAAO57G,EAAQsB,KAAK,KAAMs6G,GAAY,EAAG,OAAQ,iBAAkB,EAAG,CACtG,QAAWv7G,KAAKy0H,QAChB,MAAS,CACPtvH,IAAKA,EACLG,KAAMA,GAER,MAASknI,EAAa,oDAAsD,QAC3E,MAAM,SAAU3uI,GACjB,OAAOiP,EAAOjP,KAAOA,KAClB,UA7NmE,GAAkBsO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAiOrPygI,EAzMoC,CA0M3C,IC9OF,SAAS,GAAkBhvI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDiP7S,GAA0BrE,QAAU,CAAC,gBAAiB,kBAAmB,WAAY,sBAAuB,WAAY,YAAa,cC3OrI,IAAI,GAA0B,WAC5B,SAAS0+H,EAAW5+F,EAAYksF,EAAa7qH,EAAiB3B,EAAU2R,IAT1E,SAAyBxT,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAU5G,CAAgB5L,KAAMitI,GAEtBjtI,KAAK6iC,WAAa,GAClBwL,EAAW0iF,eAAe,gBAAgB,WACxC,OAAO,MAEThjH,EAASK,GAAG,mBAAmB,SAAUkH,GACvC,IAAI9Y,EAAU8Y,EAAK9Y,QAGf6gI,EAFO/nH,EAAKzX,KAEiB0/C,wBAC7Bj4C,EAAO+3H,EAAsB/3H,KAC7BH,EAAMk4H,EAAsBl4H,IAC5BL,EAAQu4H,EAAsBv4H,MAC9BC,EAASs4H,EAAsBt4H,OAE/BkU,EAAYyG,EAASsJ,eACzBuxG,EAAYthF,KAAK,CACfv0C,EAAGY,EAAO2T,EAAU5Y,WAAW45H,WAC/Bp1H,EAAGM,EAAM8T,EAAU5Y,WAAW25H,UAC9Bl1H,MAAOA,EACPC,OAAQA,GACP,CACDs2H,gBAAiB,mBACjB7+H,QAASA,EACTikC,OAAQ,CACN/7B,EAAG,EACHG,EAAG,QAITkJ,EAASK,GAAG,cAAc,SAAU3Q,GAClC,IAAI+R,EAAQ/R,EAAE+R,MACV3R,EAAOJ,EAAEI,KACT8K,EAAKlL,EAAEkL,GAEX,GAoCC,SAAe6G,GAGpB,GAAIA,EAAMgtB,OACR,OAAO,EAGT,OAAOhtB,EAAM8C,SAAW9C,EAAM6C,QA3CtB,CAAM7C,GAAQ,CAChB,IAAIhT,EAAUkT,EAAgBd,IAAIjG,GAE9BnM,GACFuR,EAASW,KAAK,kBAAmB,CAC/B7Q,KAAMA,EACNrB,QAASA,IAKbiB,EAAE2kB,qBArDV,IAAsBjW,EAAa4G,EAAYC,EAwE7C,OAxEoB7G,EA0DP8gI,GA1DoBl6H,EA0DR,CAAC,CACxBF,IAAK,mBACL7U,MAAO,SAA0B+lC,GAC/B/jC,KAAK6iC,WAAW/hC,KAAKijC,KAEtB,CACDlxB,IAAK,gBACL7U,MAAO,SAAuBxB,GAC5B,OAAOwD,KAAK6iC,WAAWqB,QAAO,SAAU2oG,EAAe9oG,GACrD,OAAO8oG,GAAiB9oG,EAASvnC,MAChC,QApEqE,GAAkB2P,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAwErPohI,EApEqB,GAwE9B,GAAW1+H,QAAU,CAAC,aAAc,cAAe,kBAAmB,WAAY,YC5EnE,QACbiC,YAAa,CAAC,GAAa,KAAe,IAC1CD,SAAU,CAAC,cACXq8H,WAAY,CAAC,OAAQ,KCPvB,SAAS,GAAQztI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAKxM,IAII,GAA2B,SAAUusH,IArBzC,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAUuhI,EAAajhB,GAEvB,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAa8lH,GAE1B,SAASA,EAAYlqI,EAAO2M,GAC1B,IAAInD,GAjCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAMktI,IAEtB1gI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B+rD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvC,IC3CwBwe,ED2CpB5wB,EAAUgQ,EAAMxJ,MAAM2M,QAAQnT,QAC9BmmI,IC5CoBv1G,ED4CO5wB,EAAQO,eAAeu0C,OClC1D,SAAuBlkB,GACrB,MAAkB,KAAXA,EAVQ,CAAcA,GACpB,OACoB,SAAlBA,EAAOiV,OACT,OACoB,UAAlBjV,EAAOiV,OACT,aADF,ED6CL,OALA71B,EAAM6zC,MAAQ,CACZriD,MAAO2kI,GAjBF,QAmBPn2H,EAAMo/H,SAAWp/H,EAAMo/H,SAASvoH,KAAK,GAAuB7W,IAC5DA,EAAM+0G,SAAW/0G,EAAM+0G,SAASl+F,KAAK,GAAuB7W,IACrDA,EAyCT,OAnFoBL,EA6CP+gI,GA7CoBn6H,EA6CP,CAAC,CACzBF,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4jC,GAC7BtxC,KAAK07D,UAAUkwE,SAASl+H,EAAM4jC,KAE/B,CACDz+B,IAAK,WACL7U,MAAO,SAAkBA,GACvB,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QACjCwD,KAAK4rI,SAASpvI,EAAQO,eAjCjB,SAiCiCiB,EAAiB,GAAKA,GAC5DgC,KAAK6rH,SAAS,CACZ7tH,MAAOA,MAGV,CACD6U,IAAK,SACL7U,MAAO,WACL,IAAIA,EAAQgC,KAAKqgD,MAAMriD,MACnB6P,EAAU,CAAC,CACb6tB,MAAO,IACP19B,MA5CG,QA6CF,CACD09B,MAAO,MACP19B,MAjDG,QAkDF,CACD09B,MAAO,KACP19B,MAnDI,UAqDN,OAAOu9G,GAAY,EAAG,MAAO,6CAA8C,CAACA,GAAY,EAAG,KAAM,cAAeS,GAAgB,gBAAiB,GAAIT,GAAY,EAAG,KAAM,cAAeS,GAAgB,aAAc,GAAIJ,GAAqB,EAAG,GAAa,CAC9P,SAAW,EACX,UAAa,YACb,SAAY57G,KAAKuhH,SACjB,QAAW1zG,EACX,MAAS7P,KACN,QA/EmE,GAAkBmO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAmFrPqhI,EA5DsB,CA6D7B,IE5FF,SAAS,GAAkB5vI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAO/Q,IAAI,GAAiC,IAAa,SAASghI,EAAkB9+F,EAAYu+F,IALzF,SAAyB1gI,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMmtI,GAEtBP,EAAW9hD,kBAAiB,SAAUtuF,GACpC,OAAQ,YAAQA,EAAQiR,MAAQ,YAASjR,EAAQiR,OAAiC,YAAxB2/H,GAAW5wI,MAEvE6xC,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,qBAA5B1rH,EAAQ0rH,gBAAwC,CAC7E,IAAK1rH,EAAQnT,QACX,OAGF,IAAIg1F,EAAU47C,GAAWz9H,EAAQnT,SAEjC,GAAgB,YAAZg1F,EACF,OAAO,UASf,SAAS47C,GAAW5wI,GAClB,OAAI,YAAQA,EAAQiR,KACXjR,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAe00F,gBAAgBD,QAE1Dh1F,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAey0F,QANrD,GAAkBjjF,QAAU,CAAC,aAAc,cC9B5B,QACbiC,YAAa,CAAC,GAAU,IACxBD,SAAU,CAAC,qBACX88H,kBAAmB,CAAC,OAAQ,KCN1BC,GAAiB,uCAEjBC,GAAqB,oHAErBC,GAA0B,mEAC1BC,GAAmB,4DAKhB,SAASC,GAAkBtgH,GAChC,IAAKkgH,GAAejsI,KAAK+rB,EAAOiV,QAC9B,MAAO,+CAGJ,SAASsrG,GAAclxI,EAAMmxI,GAClC,MAVU,UAUNnxI,EACK,kBAAmByc,OAAO00H,EAAM,GAAI,MAVlC,WAWAnxI,EACF,oBAAqByc,OAAO00H,EAAM,GAAI,MAXrC,UAYCnxI,EACF,oBAAqByc,OAAO00H,EAAM,GAAI,MAZnC,YAaDnxI,EACF,mBAAoByc,OAAO00H,EAAM,GAAI,uBAAyB10H,OAAO00H,EAAM,GAAI,YADjF,EAIF,SAASC,KACd,IAAIC,EAAO,IAAIvsE,KAEf,OADAusE,EAAKC,YAAY,EAAG,EAAG,EAAG,GACnBD,EAAKE,cAAcnnI,MAAM,GAAI,GAE/B,SAAS,GAAYumB,GAE1B,IAAKA,GAA4B,KAAlBA,EAAOiV,OACpB,MAAO,CACL5lC,KAAM,QACNqxI,KAAM,IAKV,IAAI11F,EAAUhrB,EAAOxiB,MAAM2iI,IAE3B,OAAIn1F,EACK,CACL37C,KAAM,UACNmxI,MAAO,CAACx1F,EAAQ,GAAIA,EAAQ,MAKhCA,EAAUhrB,EAAOxiB,MAAM4iI,KAGd,CACL/wI,KAAqB,MAAf27C,EAAQ,GAAa,SAAW,QACtC01F,KAAM11F,EAAQ,KAKlBA,EAAUhrB,EAAOxiB,MAAM6iI,KAGd,CACLhxI,KAAM,QACNqxI,KAAM11F,EAAQ,SAHlB,EC/DF,SAAS,GAAQj5C,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAKI,GAA6B,SAAUusH,IAvB3C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAwBpb,CAAUsiI,EAAehiB,GAEzB,IA5BoB9/G,EAAa4G,EAAYC,EA4BzCoU,EAAS,GAAa6mH,GAE1B,SAASA,EAAcjrI,EAAO2M,GAC5B,IAAInD,GAnCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAqC5G,CAAgB5L,KAAMiuI,IAEtBzhI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B+rD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvC,IAIMg/H,EAHFjL,EAAe,GADLn2H,EAAMxJ,MAAM2M,QAAQnT,QACKO,eAAeu0C,MAElDqxF,GAIAiL,EADEjL,EAAamL,KACP,CAACnL,EAAamL,KAAM,IACnBnL,EAAaiL,MACdjL,EAAaiL,MAEb,CAAC,GAAI,IAGfphI,EAAM6zC,MAAQ,CACZ5jD,KAAMkmI,EAAalmI,KACnBmxI,MAAOA,IAGTphI,EAAM6zC,MAAQ,CACZ5jD,KArCI,QAsCJmxI,MAAO,CAAC,GAAI,KAIhB,IAAI7V,EAAgBpoH,EAAQkY,SAASjZ,IAAI,iBAQzC,OAPApC,EAAM0hI,kBAAoBnW,EAAcvrH,EAAMo/H,SAASvoH,KAAK,GAAuB7W,KACnFA,EAAMo/H,SAAWp/H,EAAMo/H,SAASvoH,KAAK,GAAuB7W,IAC5DA,EAAM+zH,aAAe/zH,EAAM+zH,aAAal9G,KAAK,GAAuB7W,IACpEA,EAAM2hI,yBAA2B3hI,EAAM2hI,yBAAyB9qH,KAAK,GAAuB7W,IAC5FA,EAAM4hI,uBAAyB5hI,EAAM4hI,uBAAuB/qH,KAAK,GAAuB7W,IACxFA,EAAM6hI,iBAAmB7hI,EAAM6hI,iBAAiBhrH,KAAK,GAAuB7W,IAC5EA,EAAM8hI,eAAiB9hI,EAAM8hI,eAAejrH,KAAK,GAAuB7W,IACjEA,EAqIT,OA3MoBL,EAyEP8hI,GAzEoBl7H,EAyEL,CAAC,CAC3BF,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4jC,GAC7BtxC,KAAK07D,UAAUkwE,SAASl+H,EAAM4jC,KAE/B,CACDz+B,IAAK,eACL7U,MAAO,SAAsBA,GAC3B,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BoxI,EAAQ5tI,KAAKqgD,MAAMutF,MACvB5tI,KAAK6rH,SAAS,CACZpvH,KAAMuB,IAGJ,GAAY2vI,GAAc3vI,EAAO4vI,KACnC5tI,KAAK4rI,SAASpvI,EAAQO,eAAgB4wI,GAAc3vI,EAAO4vI,MAG9D,CACD/6H,IAAK,2BACL7U,MAAO,WACL,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BwzH,EAAchwH,KAAKqgD,MACnButF,EAAQ5d,EAAY4d,MACpBnxI,EAAOuzH,EAAYvzH,KACnBqxI,EAAOD,KACX7tI,KAAK6rH,SAAS,CACZ+hB,MAAO,CAACE,EAAMF,EAAM,MAGlB,GAAYD,GAAclxI,EAAM,CAACqxI,EAAMF,EAAM,OAC/C5tI,KAAK4rI,SAASpvI,EAAQO,eAAgB4wI,GAAclxI,EAAM,CAACqxI,EAAMF,EAAM,QAG1E,CACD/6H,IAAK,yBACL7U,MAAO,WACL,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7B07H,EAAel4H,KAAKqgD,MACpButF,EAAQ1V,EAAa0V,MACrBnxI,EAAOy7H,EAAaz7H,KACpBqxI,EAAOD,KACX7tI,KAAK6rH,SAAS,CACZ+hB,MAAO,CAACA,EAAM,GAAIE,KAGhB,GAAYH,GAAclxI,EAAM,CAACmxI,EAAM,GAAIE,MAC7C9tI,KAAK4rI,SAASpvI,EAAQO,eAAgB4wI,GAAclxI,EAAM,CAACmxI,EAAM,GAAIE,OAGxE,CACDj7H,IAAK,mBACL7U,MAAO,SAA0BsX,GAC/B,IAAIi5D,EAAUj5D,EAAKi5D,QACfvwE,EAAQsX,EAAKtX,MAEjB,GAAIuwE,EAAS,CACX,IAAI/xE,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7B+xI,EAAevuI,KAAKqgD,MACpButF,EAAQW,EAAaX,MACrBnxI,EAAO8xI,EAAa9xI,KACxBuD,KAAK6rH,SAAS,CACZ+hB,MAAO,CAAC5vI,EAAO4vI,EAAM,MAEvB5tI,KAAKkuI,kBAAkB1xI,EAAQO,eAAgB4wI,GAAclxI,EAAM,CAACuB,EAAO4vI,EAAM,SAGpF,CACD/6H,IAAK,iBACL7U,MAAO,SAAwBwX,GAC7B,IAAI+4D,EAAU/4D,EAAM+4D,QAChBvwE,EAAQwX,EAAMxX,MAElB,GAAIuwE,EAAS,CACX,IAAI/xE,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BgyI,EAAexuI,KAAKqgD,MACpButF,EAAQY,EAAaZ,MACrBnxI,EAAO+xI,EAAa/xI,KACxBuD,KAAK6rH,SAAS,CACZ+hB,MAAO,CAACA,EAAM,GAAI5vI,KAEpBgC,KAAKkuI,kBAAkB1xI,EAAQO,eAAgB4wI,GAAclxI,EAAM,CAACmxI,EAAM,GAAI5vI,QAGjF,CACD6U,IAAK,SACL7U,MAAO,WACL,IAAIywI,EAAezuI,KAAKqgD,MACpButF,EAAQa,EAAab,MACrBnxI,EAAOgyI,EAAahyI,KACpBoR,EAAU,CAAC,CACb6tB,MAAO,UACP19B,MAjJI,SAkJH,CACD09B,MAAO,SACP19B,MAnJK,UAoJJ,CACD09B,MAAO,QACP19B,MArJI,SAsJH,CACD09B,MAAO,UACP19B,MAvJM,YAyJR,OAAOu9G,GAAY,EAAG,MAAO,0CAA2C,CAACA,GAAY,EAAG,KAAM,cAAeS,GAAgB,aAAc,GAAIT,GAAY,EAAG,MAAO,eAAgBK,GAAqB,EAAG,GAAa,CACxN,SAAW,EACX,SAAY57G,KAAKugI,aACjB,QAAW1yH,EACX,MAASpR,IACP,GAAI8+G,GAAY,EAAG,KAAM,cA9JrB,YA8JoC9+G,EAAmB,kBAAoB,WAAY,GAAI8+G,GAAY,EAAG,MAAO,KAAM,CAACK,GAAqB,EAAG,GAAgB,CACtK,UAAa,6BACb,QAAW57G,KAAKquI,iBAChB,YAAe,QAAQn1H,OAAO20H,MAC9B,SAAYH,GACZ,MAASE,EAAM,KACbryB,GAAY,EAAG,IAAK,WAAY,CAACA,GAAY,EAAG,SAAU,YAAaS,GAAgB,aAAc,EAAG,CAC1G,KAAQ,SACR,QAAWh8G,KAAKmuI,2BACdnyB,GAAgB,MAAO,IAAK,GAvKxB,YAuK4Bv/G,GAAoB8+G,GAAY,EAAG,KAAM,cAAeS,GAAgB,iBAAkB,GAvKtH,YAuK0Hv/G,GAAoB8+G,GAAY,EAAG,MAAO,KAAM,CAACK,GAAqB,EAAG,GAAgB,CACzN,UAAa,2BACb,QAAW57G,KAAKsuI,eAChB,YAAe,QAAQp1H,OAAO20H,MAC9B,SAAYH,GACZ,MAASE,EAAM,KACbryB,GAAY,EAAG,IAAK,WAAY,CAACA,GAAY,EAAG,SAAU,YAAaS,GAAgB,aAAc,EAAG,CAC1G,KAAQ,SACR,QAAWh8G,KAAKouI,yBACdpyB,GAAgB,MAAO,IAAK,IAAK,QAvMmC,GAAkB7vG,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2MrPoiI,EAlLwB,CAmL/B,ICpNF,SAAS,GAAQ9uI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAA8B,SAAUusH,IAlB5C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAU+iI,EAAgBziB,GAE1B,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAasnH,GAE1B,SAASA,EAAe1rI,EAAO2M,GAC7B,IAAInD,GA9BR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAM0uI,IAEtBliI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B+rD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvC,IACI+zH,EAAe,GADLn2H,EAAMxJ,MAAM2M,QAAQnT,QACKO,eAAeu0C,MACtD9kC,EAAM6zC,MAAQ,CACZytF,KAAMnL,EAAeA,EAAamL,KAAO,IAE3C,IAAI/V,EAAgBpoH,EAAQkY,SAASjZ,IAAI,iBAKzC,OAJApC,EAAM0hI,kBAAoBnW,EAAcvrH,EAAMo/H,SAASvoH,KAAK,GAAuB7W,KACnFA,EAAMo/H,SAAWp/H,EAAMo/H,SAASvoH,KAAK,GAAuB7W,IAC5DA,EAAMioH,QAAUjoH,EAAMioH,QAAQpxG,KAAK,GAAuB7W,IAC1DA,EAAMyqH,QAAUzqH,EAAMyqH,QAAQ5zG,KAAK,GAAuB7W,IACnDA,EAiDT,OA3FoBL,EA6CPuiI,GA7CoB37H,EA6CJ,CAAC,CAC5BF,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4jC,GAC7BtxC,KAAK07D,UAAUkwE,SAASl+H,EAAM4jC,KAE/B,CACDz+B,IAAK,UACL7U,MAAO,WACL,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BsxI,EAAOD,KACX7tI,KAAK6rH,SAAS,CACZiiB,KAAMA,IAER9tI,KAAK4rI,SAASpvI,EAAQO,eAAgB,kBAAmBmc,OAAO40H,EAAM,SAEvE,CACDj7H,IAAK,UACL7U,MAAO,SAAiBsX,GACtB,IAAIi5D,EAAUj5D,EAAKi5D,QACfvwE,EAAQsX,EAAKtX,MAEjB,GAAIuwE,EAAS,CACX,IAAI/xE,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QACjCwD,KAAK6rH,SAAS,CACZiiB,KAAM9vI,IAERgC,KAAKkuI,kBAAkB1xI,EAAQO,eAAgB,kBAAmBmc,OAAOlb,EAAO,UAGnF,CACD6U,IAAK,SACL7U,MAAO,WACL,IAAI8vI,EAAO9tI,KAAKqgD,MAAMytF,KACtB,OAAOvyB,GAAY,EAAG,MAAO,0CAA2C,CAACA,GAAY,EAAG,KAAM,cAAeS,GAAgB,aAAc,GAAIT,GAAY,EAAG,KAAM,cAAeS,GAAgB,YAAa,GAAIT,GAAY,EAAG,MAAO,KAAM,CAACK,GAAqB,EAAG,GAAgB,CACvR,QAAW57G,KAAKi3H,QAChB,YAAe,QAAQ/9G,OAAO20H,MAC9B,SAAYH,GACZ,MAASI,EACT,UAAa,cACXvyB,GAAY,EAAG,IAAK,WAAY,CAACS,GAAgB,aAAcT,GAAY,EAAG,SAAU,YAAaS,GAAgB,YAAa,EAAG,CACvI,KAAQ,SACR,QAAWh8G,KAAKy0H,UACdzY,GAAgB,MAAO,IAAK,IAAK,QAvFmC,GAAkB7vG,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2FrP6iI,EAvEyB,CAwEhC,ICpGF,SAAS,GAAkBpxI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAQ/Q,IAAI,GAA8B,IAAa,SAASwiI,EAAetgG,EAAYu+F,IANnF,SAAyB1gI,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAO9G,CAAgB5L,KAAM2uI,GAEtB/B,EAAW9hD,kBAAiB,SAAUtuF,GACpC,IAAIg1F,EAAU,GAAWh1F,GACzB,OAAQ,YAAQA,EAAQiR,MAAQ,YAASjR,EAAQiR,OAAS6pE,GAAOka,MAEnEnjD,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,qBAA5B1rH,EAAQ0rH,gBAAwC,CAC7E,IAAK1rH,EAAQnT,QACX,OAGF,IAAIg1F,EAAU,GAAW7hF,EAAQnT,SAEjC,GAAI86E,GAAOka,GAAU,CACnB,GAAI,YAAQ7hF,EAAQnT,QAAQiR,KAC1B,OAAO,GACF,GAAI,YAASkC,EAAQnT,QAAQiR,KAClC,OAAO,WAUjB,SAAS,GAAWjR,GAClB,OAAI,YAAQA,EAAQiR,KACXjR,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAe00F,gBAAgBD,QAE1Dh1F,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAey0F,QAIrD,SAASla,GAAOka,GACd,MAAmB,SAAZA,EAXT,GAAejjF,QAAU,CAAC,aAAc,cCpCzB,QACbiC,YAAa,CAAC,GAAU,IACxBD,SAAU,CAAC,kBACXq+H,eAAgB,CAAC,OAAQ,KCJvBC,GAAgC,uEAEhCC,GAA2B,iFACpBC,GAAY,CACrBC,OAAQ,IACRC,KAAM,IACNC,WAAY,KACZC,QAAS,IACTC,cAAe,MAGjB,SAASC,GAAgBjiH,GACvB,OAAO,eAAK2hH,IAAWrnI,QAAO,SAAUmL,GACtC,OAAOua,IAAW2hH,GAAUl8H,MAC3B,GAGE,SAAS,GAAYua,GAC1B,IAAKA,GAkCA,SAAuBA,GAC5B,MAAkB,KAAXA,EAnCQ,CAAcA,EAAOiV,QAClC,MAAO,CACL5lC,KAAM,cAIV,IAgCgB27C,EAhCZk3F,EAAoBliH,EAAOxiB,MAAMikI,IACjCU,EAAeniH,EAAOxiB,MAAMkkI,IAEhC,GAAIQ,EAAmB,CACrB,IA4Bcl3F,EA5BDk3F,GA6BA,IAAMl3F,EAAQ,KAAOA,EAAQ,KAAOA,EAAQ,GA5BvD,MAAO,CACL37C,KAAM,aACNuB,MAAOgxB,WAAWsgH,EAAkB,IACpCE,SAAU,UAEP,GA0BX,SAAsBp3F,GACpB,OAAOA,EAAQ,KAAOA,EAAQ,IAAMA,EAAQ,IAAMA,EAAQ,GA3B7Cq3F,CAAaH,GACtB,MAAO,CACL7yI,KAAM,aACNuB,MAAOgxB,WAAWsgH,EAAkB,IACpCE,SAAUH,GAAgBC,EAAkB,UAG3C,GAAIC,EACT,MAAO,CACL9yI,KAAM,QACNwyD,OAAQ,CAACsgF,EAAa,GAAIA,EAAa,IAAIz0H,KAAI,SAAU9c,GACvD,OAAOgxB,WAAWhxB,MAEpB+b,MAA2B,MAApBw1H,EAAa,GAAa,UAAY,UAC7Cz1H,IAAyB,MAApBy1H,EAAa,GAAa,UAAY,WAgB1C,SAASG,GAAoBC,EAAoBC,GACtD,MAA2B,WAAvBD,EACK,GAAGz2H,OAAO02H,GAEV,GAAG12H,OAAO61H,GAAUY,GAAqB,KAAKz2H,OAAO02H,GAGzD,SAASC,GAAeC,EAAiBC,EAAeC,EAAgBC,GAC7E,IACIC,EAAgC,YAAjBD,EAA6B,IAAM,IACtD,MAAO,GAAG/2H,OAF8B,YAAnB82H,EAA+B,IAAM,KAEzB92H,OAAO42H,EAAiB,MAAM52H,OAAO62H,GAAe72H,OAAOg3H,GC5E9F,SAAS,GAAQ/wI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAGI,GAA+B,SAAUusH,IArB7C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAUwkI,EAAiBlkB,GAE3B,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAa+oH,GAE1B,SAASA,EAAgBntI,EAAO2M,GAC9B,IAAInD,GAjCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAMmwI,IAEtB3jI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B+rD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvC,IACI+zH,EAAe,GADLn2H,EAAMxJ,MAAM2M,QAAQnT,QACKO,eAAeu0C,MAGpD9kC,EAAM6zC,MADJsiF,EACY,CACZlmI,KAAMkmI,EAAalmI,KACnBkzI,mBAAoBhN,EAAa6M,UAAY,SAC7CI,gBAAiBjN,EAAa3kI,OAAS,EACvC8xI,gBAAiBnN,EAAa1zE,OAAS0zE,EAAa1zE,OAAO,GAAK,EAChE8gF,cAAepN,EAAa1zE,OAAS0zE,EAAa1zE,OAAO,GAAK,EAC9D+gF,eAAgBrN,EAAa5oH,OAAS,UACtCk2H,aAActN,EAAa7oH,KAAO,WAGtB,CACZrd,KA9BS,aA+BTkzI,mBAAoB,SACpBC,gBAAiB,EACjBE,gBAAiB,EACjBC,cAAe,EACfC,eAAgB,UAChBC,aAAc,WAIlB,IAAIlY,EAAgBpoH,EAAQkY,SAASjZ,IAAI,iBAUzC,OATApC,EAAM0hI,kBAAoBnW,EAAcvrH,EAAMo/H,SAASvoH,KAAK,GAAuB7W,KACnFA,EAAMo/H,SAAWp/H,EAAMo/H,SAASvoH,KAAK,GAAuB7W,IAC5DA,EAAM4jI,2BAA6B5jI,EAAM4jI,2BAA2B/sH,KAAK,GAAuB7W,IAChGA,EAAM6jI,wBAA0B7jI,EAAM6jI,wBAAwBhtH,KAAK,GAAuB7W,IAC1FA,EAAM+zH,aAAe/zH,EAAM+zH,aAAal9G,KAAK,GAAuB7W,IACpEA,EAAM8jI,uBAAyB9jI,EAAM8jI,uBAAuBjtH,KAAK,GAAuB7W,IACxFA,EAAM+jI,wBAA0B/jI,EAAM+jI,wBAAwBltH,KAAK,GAAuB7W,IAC1FA,EAAMgkI,qBAAuBhkI,EAAMgkI,qBAAqBntH,KAAK,GAAuB7W,IACpFA,EAAMikI,sBAAwBjkI,EAAMikI,sBAAsBptH,KAAK,GAAuB7W,IAC/EA,EA0NT,OAhSoBL,EAyEPgkI,GAzEoBp9H,EAyEH,CAAC,CAC7BF,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4jC,GAC7BtxC,KAAK07D,UAAUkwE,SAASl+H,EAAM4jC,KAE/B,CACDz+B,IAAK,eACL7U,MAAO,SAAsBA,GAC3B,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BwzH,EAAchwH,KAAKqgD,MACnBsvF,EAAqB3f,EAAY2f,mBACjCC,EAAkB5f,EAAY4f,gBAC9BE,EAAkB9f,EAAY8f,gBAC9BC,EAAgB/f,EAAY+f,cAC5BC,EAAiBhgB,EAAYggB,eAC7BC,EAAejgB,EAAYigB,aApEpB,eAsEPjyI,EACFgC,KAAK4rI,SAASpvI,EAAQO,eAAgB2yI,GAAoBC,EAAoBC,IAE9E5vI,KAAK4rI,SAASpvI,EAAQO,eAAgB8yI,GAAeC,EAAiBC,EAAeC,EAAgBC,IAGvGjwI,KAAK6rH,SAAS,CACZpvH,KAAMuB,MAGT,CACD6U,IAAK,6BACL7U,MAAO,SAAoCA,GACzC,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7B07H,EAAel4H,KAAKqgD,MACpB5jD,EAAOy7H,EAAaz7H,KACpBmzI,EAAkB1X,EAAa0X,gBAtFxB,eAwFPnzI,IACFuD,KAAK4rI,SAASpvI,EAAQO,eAAgB2yI,GAAoB1xI,EAAO4xI,IACjE5vI,KAAK6rH,SAAS,CACZ8jB,mBAAoB3xI,OAIzB,CACD6U,IAAK,0BACL7U,MAAO,SAAiC4xI,GACtC,IAAIpzI,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7B+xI,EAAevuI,KAAKqgD,MACpB5jD,EAAO8xI,EAAa9xI,KACpBkzI,EAAqBpB,EAAaoB,mBArG3B,eAuGPlzI,IACFuD,KAAKkuI,kBAAkB1xI,EAAQO,eAAgB2yI,GAAoBC,EAAoBC,IACvF5vI,KAAK6rH,SAAS,CACZ+jB,gBAAiBA,OAItB,CACD/8H,IAAK,yBACL7U,MAAO,SAAgCA,GACrC,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BgyI,EAAexuI,KAAKqgD,MACpB5jD,EAAO+xI,EAAa/xI,KACpBqzI,EAAkBtB,EAAasB,gBAC/BC,EAAgBvB,EAAauB,cAC7BE,EAAezB,EAAayB,aArH1B,UAuHFxzI,IACFuD,KAAK4rI,SAASpvI,EAAQO,eAAgB8yI,GAAeC,EAAiBC,EAAe/xI,EAAOiyI,IAC5FjwI,KAAK6rH,SAAS,CACZmkB,eAAgBhyI,OAIrB,CACD6U,IAAK,0BACL7U,MAAO,SAAiCA,GACtC,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BiyI,EAAezuI,KAAKqgD,MACpB5jD,EAAOgyI,EAAahyI,KACpBszI,EAAgBtB,EAAasB,cAC7BC,EAAiBvB,EAAauB,eAC9BC,EAAexB,EAAawB,aAtI1B,UAwIFxzI,IACFuD,KAAK4rI,SAASpvI,EAAQO,eAAgB8yI,GAAe7xI,EAAO+xI,EAAeC,EAAgBC,IAC3FjwI,KAAK6rH,SAAS,CACZikB,gBAAiB9xI,OAItB,CACD6U,IAAK,uBACL7U,MAAO,SAA8BA,GACnC,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7Bk0I,EAAe1wI,KAAKqgD,MACpB5jD,EAAOi0I,EAAaj0I,KACpBqzI,EAAkBY,EAAaZ,gBAC/BC,EAAgBW,EAAaX,cAC7BC,EAAiBU,EAAaV,eAvJ5B,UAyJFvzI,IACFuD,KAAK4rI,SAASpvI,EAAQO,eAAgB8yI,GAAeC,EAAiBC,EAAeC,EAAgBhyI,IACrGgC,KAAK6rH,SAAS,CACZokB,aAAcjyI,OAInB,CACD6U,IAAK,wBACL7U,MAAO,SAA+BA,GACpC,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7Bm0I,EAAe3wI,KAAKqgD,MACpB5jD,EAAOk0I,EAAal0I,KACpBqzI,EAAkBa,EAAab,gBAC/BE,EAAiBW,EAAaX,eAC9BC,EAAeU,EAAaV,aAxK1B,UA0KFxzI,IACFuD,KAAK4rI,SAASpvI,EAAQO,eAAgB8yI,GAAeC,EAAiB9xI,EAAOgyI,EAAgBC,IAC7FjwI,KAAK6rH,SAAS,CACZkkB,cAAe/xI,OAIpB,CACD6U,IAAK,mBACL7U,MAAO,SAA0B2xI,EAAoBC,GAiBnD,OAAOr0B,GAAY,EAAG,MAAO,aAAc,CAACA,GAAY,EAAG,KAAM,cAAeS,GAAgB,SAAU,GAAIT,GAAY,EAAG,MAAO,eAAgB,CAACK,GAAqB,EAAG,GAAa,CACxL,SAAW,EACX,SAAY57G,KAAKowI,2BACjB,QAnB8B,CAAC,CAC/B10G,MAAO,SACP19B,MAAO,UACN,CACD09B,MAAO,OACP19B,MAAO,QACN,CACD09B,MAAO,iBACP19B,MAAO,cACN,CACD09B,MAAO,UACP19B,MAAO,WACN,CACD09B,MAAO,oBACP19B,MAAO,kBAMP,MAAS2xI,IACP3zB,GAAgB,KAASJ,GAAqB,EAAG,GAAO,CAC1D,UAAa,0BACb,QAAW57G,KAAKqwI,wBAChB,KAAQ,SACR,MAAST,KACN,IAAK,KAEX,CACD/8H,IAAK,cACL7U,MAAO,SAAqB8xI,EAAiBC,EAAeC,EAAgBC,GAC1E,IAAIW,EAAmB,CAAC,CACtBl1G,MAAO,UACP19B,MAAO,WACN,CACD09B,MAAO,UACP19B,MAAO,YAET,OAAOu9G,GAAY,EAAG,MAAO,QAAS,CAACA,GAAY,EAAG,KAAM,cAAeS,GAAgB,eAAgB,GAAIT,GAAY,EAAG,MAAO,eAAgB,CAACK,GAAqB,EAAG,GAAa,CACzL,SAAW,EACX,SAAY57G,KAAKswI,uBACjB,QAAWM,EACX,MAASZ,IACPh0B,GAAgB,KAASJ,GAAqB,EAAG,GAAO,CAC1D,UAAa,2BACb,QAAW57G,KAAKuwI,wBAChB,KAAQ,SACR,MAAST,KACN,GAAIv0B,GAAY,EAAG,KAAM,cAAeS,GAAgB,aAAc,GAAIT,GAAY,EAAG,MAAO,eAAgB,CAACK,GAAqB,EAAG,GAAa,CACzJ,SAAW,EACX,SAAY57G,KAAKwwI,qBACjB,QAAWI,EACX,MAASX,IACPj0B,GAAgB,KAASJ,GAAqB,EAAG,GAAO,CAC1D,UAAa,yBACb,QAAW57G,KAAKywI,sBAChB,KAAQ,SACR,MAASV,KACN,IAAK,KAEX,CACDl9H,IAAK,SACL7U,MAAO,WACL,IAAI6yI,EAAe7wI,KAAKqgD,MACpB5jD,EAAOo0I,EAAap0I,KACpBkzI,EAAqBkB,EAAalB,mBAClCC,EAAkBiB,EAAajB,gBAC/BE,EAAkBe,EAAaf,gBAC/BC,EAAgBc,EAAad,cAC7BC,EAAiBa,EAAab,eAC9BC,EAAeY,EAAaZ,aAC5Ba,EAAc,CAAC,CACjBp1G,MAAO,aACP19B,MA9PS,cA+PR,CACD09B,MAAO,QACP19B,MAhQI,UAkQN,OAAOu9G,GAAY,EAAG,MAAO,4CAA6C,CAACA,GAAY,EAAG,KAAM,cAAeS,GAAgB,eAAgB,GAAIT,GAAY,EAAG,MAAO,eAAgBK,GAAqB,EAAG,GAAa,CAC5N,SAAW,EACX,SAAY57G,KAAKugI,aACjB,QAAWuQ,EACX,MAASr0I,IACP,GAxQO,eAwQHA,GAAuBuD,KAAK+wI,iBAAiBpB,EAAoBC,GAvQnE,UAuQqFnzI,GAAkBuD,KAAKgxI,YAAYlB,EAAiBC,EAAeC,EAAgBC,IAAgB,QA5RtH,GAAkB9jI,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAgSrPskI,EAzQ0B,CA0QjC,ICzSF,SAAS,GAAQhxI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAAgC,SAAUusH,IAlB9C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAUslI,EAAkBhlB,GAE5B,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAa6pH,GAE1B,SAASA,EAAiBjuI,EAAO2M,GAC/B,IAAInD,GA9BR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAMixI,IAEtBzkI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B+rD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvC,IACI+zH,EAAe,GADLn2H,EAAMxJ,MAAM2M,QAAQnT,QACKO,eAAeu0C,MAGpD9kC,EAAM6zC,MADJsiF,EACY,CACZ3kI,MAAO2kI,EAAa3kI,OAGR,CACZA,MAAO,IAIX,IAAI+5H,EAAgBpoH,EAAQkY,SAASjZ,IAAI,iBAIzC,OAHApC,EAAM0hI,kBAAoBnW,EAAcvrH,EAAMo/H,SAASvoH,KAAK,GAAuB7W,KACnFA,EAAMo/H,SAAWp/H,EAAMo/H,SAASvoH,KAAK,GAAuB7W,IAC5DA,EAAMyqH,QAAUzqH,EAAMyqH,QAAQ5zG,KAAK,GAAuB7W,IACnDA,EA6BT,OA9EoBL,EAoDP8kI,GApDoBl+H,EAoDF,CAAC,CAC9BF,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4jC,GAC7BtxC,KAAK07D,UAAUkwE,SAASl+H,EAAM4jC,KAE/B,CACDz+B,IAAK,UACL7U,MAAO,SAAiBA,GACtB,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QACjCwD,KAAKkuI,kBAAkB1xI,EAAQO,eAAgBiB,GAC/CgC,KAAK6rH,SAAS,CACZ7tH,MAAOA,MAGV,CACD6U,IAAK,SACL7U,MAAO,WACL,IAAIA,EAAQgC,KAAKqgD,MAAMriD,MACvB,OAAOu9G,GAAY,EAAG,MAAO,4CAA6C,CAACA,GAAY,EAAG,KAAM,cAAeS,GAAgB,eAAgB,GAAIT,GAAY,EAAG,KAAM,cAAeS,GAAgB,aAAc,GAAIJ,GAAqB,EAAG,GAAO,CACtP,QAAW57G,KAAKi3H,QAChB,KAAQ,SACR,MAASj5H,KACN,QA1EmE,GAAkBmO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA8ErPolI,EA1D2B,CA2DlC,ICvFF,SAAS,GAAkB3zI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAQ/Q,IAAI,GAAgC,IAAa,SAAS+kI,EAAiB7iG,EAAYu+F,IANvF,SAAyB1gI,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAO9G,CAAgB5L,KAAMkxI,GAEtBtE,EAAW9hD,kBAAiB,SAAUtuF,GACpC,IAAIg1F,EAAU,GAAWh1F,GACzB,OAAQ,YAAQA,EAAQiR,MAAQ,YAASjR,EAAQiR,QAAsB,YAAZ+jF,GAAqC,SAAZA,GAAkC,WAAZA,MAE5GnjD,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,qBAA5B1rH,EAAQ0rH,gBAAwC,CAC7E,IAAK1rH,EAAQnT,QACX,OAGF,IAAIg1F,EAAU,GAAW7hF,EAAQnT,SAEjC,GAAI,GAASg1F,GAAU,CACrB,GAAI,YAAQ7hF,EAAQnT,QAAQiR,KAC1B,OAAO,GACF,GAAI,YAASkC,EAAQnT,QAAQiR,KAClC,OAAO,WAUjB,SAAS,GAAWjR,GAClB,OAAI,YAAQA,EAAQiR,KACXjR,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAe00F,gBAAgBD,QAE1Dh1F,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAey0F,QAIrD,SAAS,GAASA,GAChB,MAAmB,YAAZA,GAAqC,SAAZA,GAAkC,WAAZA,EAXxD,GAAiBjjF,QAAU,CAAC,aAAc,cCpC3B,QACbiC,YAAa,CAAC,GAAU,IACxBD,SAAU,CAAC,oBACX4gI,iBAAkB,CAAC,OAAQ,KCYtB,SAAS,GAAY/jH,GAE1B,IAAKA,GAAU,GAAcA,EAAOiV,QAClC,MAAO,CACL5lC,KAAM,cACNwyD,OAAQ,IAKZ,IAAIA,EAAS7hC,EAAO3rB,MAAM,KACtBoG,EAAS,CACXpL,KAAM,cACNwyD,OAAQ,IAENozE,EAAa,GAYjB,GAXApzE,EAAOjoC,SAAQ,SAAUhpB,GAGnB,YAAYqD,MAFhBghI,GAAcrkI,GAEkBqkC,SAC9Bx6B,EAAOonD,OAAOnuD,KAAKuhI,EAAWhgG,QAC9BggG,EAAa,IAEbA,GAAc,QAIbA,EACH,OAAOx6H,EAITA,EAAOpL,KAAO,WACdoL,EAAOonD,OAAS,GAChBozE,EAAa,GACb,IAAIjqF,EAAUhrB,EAAOxiB,MAAM,uBAE3B,OAAIwtC,KACF6W,EAAS7W,EAAQ,GAAG32C,MAAM,MACnBulB,SAAQ,SAAUhpB,GAGnB,YAAYqD,MAFhBghI,GAAcrkI,GAEkBqkC,SAC9Bx6B,EAAOonD,OAAOnuD,KAAKuhI,EAAWhgG,QAC9BggG,EAAa,IAEbA,GAAc,QAIbA,GACIx6H,OAdX,EA+BF,SAAS,GAAculB,GACrB,MAAkB,KAAXA,ECvFT,SAAS,GAAQjuB,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAQxM,IAMI,GAAoD,SAAUusH,IA1BlE,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GA2Bpb,CAAUylI,EAAsCnlB,GAEhD,IA/BoB9/G,EAAa4G,EAAYC,EA+BzCoU,EAAS,GAAagqH,GAE1B,SAASA,EAAqCpuI,EAAO2M,GACnD,IAAInD,GAtCR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAwC5G,CAAgB5L,KAAMoxI,IAEtB5kI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3BsiF,WAAatiF,EAAQkY,SAASjZ,IAAI,aACxCpC,EAAMkvD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvC,IAAI+zH,EAAe,GAAY3/H,EAAM2M,QAAQnT,QAAQO,eAAeu0C,MAE/DqxF,IACHA,EAAe,CACb1zE,OAAQ,GACRxyD,KAxBU,gBA4Bd,IAAI40I,EDgBD,SAAgCC,GACrC,IAAID,EAAsB,YAAQC,GAAiBA,EAAczf,YAAcyf,EAAcxf,aAE7F,OAAKuf,GAAuB,GAAcA,EAAoB//F,MACrD,GAEA+/F,EAAoB//F,KAAK7vC,MAAM,KAAKqZ,KAAI,SAAU9c,GACvD,OAAOA,EAAMqkC,UCvBWkvG,CAAuBvuI,EAAM2M,QAAQnT,QAAQiR,IAAI1Q,gBACvEy0I,EAAiB7O,EAAa1zE,OAAOvnD,QAAO,SAAU1J,GACxD,OAAQ,GAASqzI,EAAqBrzI,MAEpCyzI,EAAgB,YAAQzuI,EAAM2M,QAAQnT,QAAQiR,KAC9CyzH,EAAQmQ,EAAoBv2H,KAAI,SAAU9c,GAC5C,MAAO,CACLA,MAAOA,EACPmjI,UAAW,GAASwB,EAAa1zE,OAAQjxD,GACzC2jI,aAAa,EACb36F,MApCiB,wBAwCjByqG,IACFvQ,EAAQA,EAAMhoH,OAAOs4H,EAAe12H,KAAI,SAAU9c,GAChD,MAAO,CACLA,MAAOA,EACPmjI,WAAW,EACXQ,aAAa,EACb36F,MA5CqB,sBAiD3B,IAAI07F,EAAa,GAEZ+O,IAAiB9O,EAAa1zE,OAAO5vD,QAAW,GAASgyI,EAAqB1O,EAAa1zE,OAAO,MACrGyzE,EAAaC,EAAa1zE,OAAO,IAGnCziD,EAAM6zC,MAAQ,CACZ6gF,MAAOA,EACPwQ,eAAgB/O,EAAalmI,KAC7BimI,WAAYA,EACZiP,0BAA0C,KAAfjP,GAE7B,IAAI3K,EAAgBpoH,EAAQkY,SAASjZ,IAAI,iBASzC,OARApC,EAAM0hI,kBAAoBnW,EAAcvrH,EAAMo/H,SAASvoH,KAAK,GAAuB7W,KACnFA,EAAMo/H,SAAWp/H,EAAMo/H,SAASvoH,KAAK,GAAuB7W,IAC5DA,EAAMolI,sBAAwBplI,EAAMolI,sBAAsBvuH,KAAK,GAAuB7W,IACtFA,EAAMyqH,QAAUzqH,EAAMyqH,QAAQ5zG,KAAK,GAAuB7W,IAC1DA,EAAMiwH,UAAYjwH,EAAMiwH,UAAUp5G,KAAK,GAAuB7W,IAC9DA,EAAMqlI,wBAA0BrlI,EAAMqlI,wBAAwBxuH,KAAK,GAAuB7W,IAC1FA,EAAMslI,wBAA0BtlI,EAAMslI,wBAAwBzuH,KAAK,GAAuB7W,IAC1FA,EAAMulI,uBAAyBvlI,EAAMulI,uBAAuB1uH,KAAK,GAAuB7W,IACjFA,EAiOT,OAjUoBL,EAmGPilI,GAnGoBr+H,EAmGkB,CAAC,CAClDF,IAAK,WACL7U,MAAO,SAAkB0P,EAAM4jC,GAC7BtxC,KAAK07D,UAAUkwE,SAASl+H,EAAM4jC,KAM/B,CACDz+B,IAAK,yBACL7U,MAAO,SAAgCA,GACrC,IACIixD,EAAS+iF,GADDhyI,KAAKqgD,MAAM6gF,OAEnB1kI,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QA3FrB,gBA6FRwB,GACFgC,KAAK4rI,SAASpvI,EAAQO,eAAgBkyD,EAAOhuD,KAAK,MAClDjB,KAAK6rH,SAAS,CACZ6lB,eAhGQ,kBAmGV1xI,KAAK4rI,SAASpvI,EAAQO,eAAgB,OAAOmc,OAAO+1C,EAAOhuD,KAAK,KAAM,MACtEjB,KAAK6rH,SAAS,CACZ6lB,eApGK,gBA4GV,CACD7+H,IAAK,0BACL7U,MAAO,SAAiCkjI,GAEtC,IAAIjyE,EAAS+iF,GAAU9Q,GACnB1kI,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAlHrB,gBAmHSwD,KAAKqgD,MAAMqxF,eAG9B1xI,KAAK4rI,SAASpvI,EAAQO,eAAgBkyD,EAAOhuD,KAAK,MAElDjB,KAAK4rI,SAASpvI,EAAQO,eAAgB,OAAOmc,OAAO+1C,EAAOhuD,KAAK,KAAM,MAGxEjB,KAAK6rH,SAAS,CACZqV,MAAOA,EACPyQ,2BAA2B,MAO9B,CACD9+H,IAAK,0BACL7U,MAAO,WACL,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7BwzH,EAAchwH,KAAKqgD,MACnBqiF,EAAa1S,EAAY0S,WACzBxB,EAAQlR,EAAYkR,MACpByB,EAAe,GAAYD,IAE1BC,GAAgBA,EAAa1zE,OAAO5vD,OAAS,IAIlDW,KAAK4rI,SAASpvI,EAAQO,eAAgB,GAAGmc,OAAOypH,EAAa1zE,OAAOhuD,KAAK,MAEzEjB,KAAK6rH,SAAS,CACZqV,MAAOA,EAAMpmH,KAAI,SAAU8U,GAEzB,OADAA,EAAKuxG,WAAY,EACVvxG,KAET+hH,2BAA2B,OAO9B,CACD9+H,IAAK,UACL7U,MAAO,SAAiBsX,GACtB,IAAIi5D,EAAUj5D,EAAKi5D,QACfvwE,EAAQsX,EAAKtX,MACb2zI,EAA4B3xI,KAAKqgD,MAAMsxF,0BAC3C3xI,KAAK6rH,SAAS,CACZ6W,WAAY1kI,IAEd,IAAIxB,EAAUwD,KAAKgD,MAAM2M,QAAQnT,SAE5B,YAAQA,IAAY+xE,GAAWojE,GAClC3xI,KAAKkuI,kBAAkB1xI,EAAQO,eAAgBiB,KAOlD,CACD6U,IAAK,YACL7U,MAAO,SAAmBwX,GACxB,IAAI+4D,EAAU/4D,EAAM+4D,QAChB/+D,EAAQgG,EAAMhG,MAElB,GA0He,KA1HFA,EAAMwtB,QAAnB,CAyHN,IArHUxgC,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7Bi1I,EAAgB,YAAQj1I,EAAQiR,MAEhCgkI,GAAkBljE,IACpB/+D,EAAM4B,kBACN5B,EAAM4S,kBAGJmsD,IACEkjE,EACFzxI,KAAK4xI,wBAEL5xI,KAAK6xI,8BAQV,CACDh/H,IAAK,wBACL7U,MAAO,WACL,IAAIk6H,EAAel4H,KAAKqgD,MACpBqiF,EAAaxK,EAAawK,WAC1BxB,EAAQhJ,EAAagJ,MACrBwQ,EAAiBxZ,EAAawZ,eAC9BO,EAAc,GAAYvP,GAE9B,GAAKuP,EAAL,CAIA,IAAIz1I,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7ByyD,EAAS+iF,GAAU9Q,GACnBgR,EAAY,GAAGh5H,OAAO+1C,EAAQgjF,EAAYhjF,QA/NlC,gBAiORyiF,EACF1xI,KAAK4rI,SAASpvI,EAAQO,eAAgBm1I,EAAUjxI,KAAK,MAErDjB,KAAK4rI,SAASpvI,EAAQO,eAAgB,OAAOmc,OAAOg5H,EAAUjxI,KAAK,KAAM,MAG3E,IAAIggI,EAAWC,EAAMhoH,OAAO+4H,EAAYhjF,OAAOn0C,KAAI,SAAU9c,GAC3D,MAAO,CACLA,MAAOA,EACPmjI,WAAW,EACXQ,aAAa,EACb36F,MAAO,qBAGXhnC,KAAK6rH,SAAS,CACZqV,MAAOD,EACPyB,WAAY,QAGf,CACD7vH,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAETxD,EAAUwD,KAAKgD,MAAM2M,QAAQnT,QAC7B+xI,EAAevuI,KAAKqgD,MACpBqiF,EAAa6L,EAAa7L,WAC1BiP,EAA4BpD,EAAaoD,0BACzCzQ,EAAQqN,EAAarN,MACrBwQ,EAAiBnD,EAAamD,eAC9B7jI,EAAU,CAAC,CACb6tB,MAAO,YACP19B,MAjQU,eAkQT,CACD09B,MAAO,aACP19B,MAnQO,aAqQLyzI,EAAgB,YAAQj1I,EAAQiR,KAChC0kI,EAtQK,aAsQQT,EACbU,GAAaX,GAAiBvQ,EAAM7hI,OAAS,EACjD,OAAOk8G,GAAY,EAAG,MAAO,4CAA6C,CAACA,GAAY,EAAG,KAAM,cAAev7G,KAAKiyF,WAAW,eAAgB,GAAIw/C,GAAiBl2B,GAAY,EAAG,IAAK,KAAMK,GAAqB,EAAG,GAAa,CACjO,SAAW,EACX,SAAY57G,KAAK+xI,uBACjB,QAAWlkI,EACX,MAASskI,EA5QF,WADG,eA8QT,MAAM,SAAUt0I,GACjB,OAAOiP,EAAOulI,WAAax0I,KACzB,GAAI+9G,GAAqB,EAAG,GAAM,CACpC,SAAY57G,KAAK8xI,wBACjB,MAAS5Q,EACT,KAAQuQ,EAAgB,WAAa,UACnBl2B,GAAY,EAAG,KAAM,cAArCk2B,EAAoDzxI,KAAKiyF,WAAW,cAAwDjyF,KAAKiyF,WAAW,aAAzD,GAA2EspB,GAAY,EAAG,MAAO,eAAgB,CAAC62B,GAAa72B,GAAY,GAAI,QAAS,iBAAkB,KAAM,EAAG,CACxQ,QAAWo2B,EACX,QAAW3xI,KAAK6xI,wBAChB,KAAQ,QACR,MAAS,CACPS,YAAa,SAEb12B,GAAqB,EAAG,GAAgB,CAC1C,UAAa,YACb,UAAa57G,KAAKy8H,UAClB,QAAWz8H,KAAKi3H,QAChB,YAAewa,EAAgB,wBAA0B,UACzD,KAAQ,OACR,SAAY,SAAkBzzI,GAC5B,IAAK,GAAYA,GACf,OAAO8O,EAAOmlF,WAAW,sCAG7B,MAASywC,KACN,IAAK,QA7T8D,GAAkBv2H,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAiUrPulI,EArS+C,CAsStD,IAeF,SAASY,GAAU9Q,GACjB,OAAOA,EAAMx5H,QAAO,SAAUkoB,GAC5B,OAAOA,EAAKuxG,aACXrmH,KAAI,SAAU8U,GACf,OAAOA,EAAK5xB,SAIhB,SAAS,GAAS6C,EAAO7C,GACvB,OAAiC,IAA1B6C,EAAMzB,QAAQpB,GClWvB,SAAS,GAAkBV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAO/Q,IAAI,GAAgC,IAAa,SAASomI,EAAiBlkG,EAAYu+F,IALvF,SAAyB1gI,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMuyI,GAEtB3F,EAAW9hD,kBAAiB,SAAUtuF,GACpC,OAAQ,YAAQA,EAAQiR,MAAQ,YAASjR,EAAQiR,OAAiC,WAAxB,GAAWjR,MAEvE6xC,EAAW0iF,eAAe,gBAAgB,WACxC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIiM,EAAQ0rH,iBAA+C,qBAA5B1rH,EAAQ0rH,gBAAwC,CAC7E,IAAK1rH,EAAQnT,QACX,OAGF,IAAIg1F,EAAU,GAAW7hF,EAAQnT,SAEjC,GAAgB,WAAZg1F,EACF,OAAO,UASf,SAAS,GAAWh1F,GAClB,OAAI,YAAQA,EAAQiR,KACXjR,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAe00F,gBAAgBD,QAE1Dh1F,EAAQiR,KAAOjR,EAAQiR,IAAI1Q,eAAey0F,QANrD,GAAiBjjF,QAAU,CAAC,aAAc,cC9B3B,QACbiC,YAAa,CAAC,GAAU,IACxBD,SAAU,CAAC,oBACXiiI,iBAAkB,CAAC,OAAQ,KCN7B,SAAS,GAAQrzI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAO3M,IAAI,GAA4B,SAAU8sH,IArB1C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsBpb,CAAU8mI,EAAcxmB,GAExB,IA1BoB9/G,EAAa4G,EAAYC,EA0BzCoU,EAAS,GAAaqrH,GAE1B,SAASA,EAAazvI,EAAO2M,GAC3B,IAAInD,EAkCJ,OAnEJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmC5G,CAAgB5L,KAAMyyI,GAItB,GAAgB,GAFhBjmI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,mBAAmB,SAAUgD,IAgFhF,SAAqB8F,GACnB,IAAIzX,EAAOyX,EAAKzX,KACZ2R,EAAQ8F,EAAK9F,MACbixF,EAAWnrF,EAAKmrF,SAChBiyC,EAAap9H,EAAKq9H,MAClBA,OAAuB,IAAfD,EAAwB1xG,GAAO0xG,EAC3CljI,EAAM4S,iBACN,IAEIwwH,EAFAC,EAAeh1I,EAAK0/C,wBAAwBz4C,MAC5CguI,EAAWtjI,EAAMoC,QAKrB,SAASmhI,EAAgBvjI,GACvBA,EAAM4S,iBACN,IAAI4wH,EAAeC,EAAgBzjI,EAAMoC,SAErCghI,GACFM,qBAAqBN,GAGvBA,EAAgBznB,uBAAsB,WACpCttH,EAAKQ,MAAMyG,MAAQkuI,EAAe,QAYtC,SAASC,EAAgBE,GACvB,IAAI77H,EAAQ67H,EAAWL,EACvB,OAAOnuI,KAAKwmB,IAAI0nH,EAAev7H,EAAOmpF,GA1BxCh+F,SAASmpB,iBAAiB,YAAamnH,GACvCtwI,SAASmpB,iBAAiB,WAe1B,SAASwnH,EAAc5jI,GACrBA,EAAM4S,iBACN3f,SAASqpB,oBAAoB,YAAainH,GAC1CtwI,SAASqpB,oBAAoB,UAAWsnH,GACxC,IAAIJ,EAAeC,EAAgBzjI,EAAMoC,SACzC+gI,EAAMK,MA7GJ,CAAY,CACVn1I,KAFS,kBAAW2R,EAAMlS,OAAQ,MAAM,GAGxCkS,MAAOA,EACPixF,SAAUj0F,EAAMxJ,MAAMy9F,UAAY,IAClCkyC,MAAOnmI,EAAM6mI,eAIjB,GAAgB,GAAuB7mI,GAAQ,aAAa,SAAU8mI,GACpE,IAAI7lI,EAAMjB,EAAMxJ,MAAMyK,IAClBwe,EAAS,GAET,YAAGxe,EAAK,qBACVwe,EAAOsnH,iBAAmBD,EAE1BrnH,EAAOnnB,MAAQwuI,EAGjB9mI,EAAM4G,SAASkiF,iBAAiB7nF,EAAKwe,MAGvCqiG,GAAO,GAAuB9hH,IACvBA,EAkDT,OAjHoBL,EAkEPsmI,GAlEoB1/H,EAkEN,CAAC,CAC1BF,IAAK,oBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAK6T,UAChB7T,KAAK0/F,cAAc4sB,kBAAkB/+G,EAAMvN,KAAKssH,qBAEjD,CACDz5G,IAAK,uBACL7U,MAAO,WACL,IAAIuP,EAAOvN,KAAK6T,UAChB7T,KAAK0/F,cAAc8sB,mBAAmBj/G,EAAMvN,KAAKssH,qBAElD,CACDz5G,IAAK,UACL7U,MAAO,WACL,OAAOgC,KAAKsT,MAAMO,YAEnB,CACDhB,IAAK,sBACL7U,MAAO,WACL,IAAIyP,EAAMzN,KAAKgD,MAAMyK,IACjBF,EAAOvN,KAAK6T,UACZnX,EAAK,YAAkB6Q,GAE3B,GAAI,YAAGE,EAAK,mBAAoB,CAC9B,IAAI8jH,EAAS70H,EAAGkS,IAAI,SACpB,OAAO2iH,EAAOnyH,QAAQqO,KAAS8jH,EAAOlyH,OAAS,EAC1C,GAAI,YAAGoO,EAAK,oBAAqB,CACtC,IAAI+jH,EAAU90H,EAAGkS,IAAI,UACrB,OAAO4iH,EAAQpyH,QAAQqO,KAAS+jH,EAAQnyH,OAAS,KAGpD,CACDwT,IAAK,SACL7U,MAAO,WACL,IAAIK,EAAQ2B,KAAKwzI,sBAAwB,CACvCpuI,MAAO,OACPN,MAAO,QACL,KACJ,OAAOy2G,GAAY,EAAG,MAAO,uBAAwB,KAAM,EAAG,CAC5D,YAAev7G,KAAKyzI,gBACpB,MAASzzI,KAAKqK,UAAU,UACxB,MAAShM,SA5G6D,GAAkB8N,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAiHrP4mI,EA1FuB,CA2F9B,IA6CF,SAASzxG,MCtKM,SAAS0yG,GAAqBrlG,GAC3CA,EAAW0iF,eAAe,cAAc,WACtC,IAAIphH,EAAUjM,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAC9EmsH,EAAWlgH,EAAQkgH,SAEvB,GAAiB,eAAbA,GAA0C,gBAAbA,GAA2C,gBAAbA,EAC7D,OAAO,MDsHb,GAAathH,QAAU,CAAC,QAAS,gBAAiB,YAAa,YClH/DmlI,GAAqBnlI,QAAU,CAAC,cCVjB,QACbgC,SAAU,CAAC,wBACXojI,qBAAsB,CAAC,OAAQD,KCHjC,SAAS,GAAQv0I,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,SAAS,GAAmBD,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAO,GAAkBA,GAR1C,CAAmBA,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjF,CAAiBh7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO,GAAkBA,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAO,GAAkB3Y,EAAGyY,GAJxT,CAA4BjZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8E,GAUlI,SAAS,GAAkB1M,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAEhL,SAAS,GAAgBxM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAgCxM,IAAI,GAAsB,SAAUk0I,IA5CpC,SAAmBloI,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GA6Cpb,CAAUq7H,EAAQ4M,GAElB,IAjDoBznI,EAAa4G,EAAYC,EAiDzCoU,EAAS,GAAa4/G,GAE1B,SAASA,IAGP,OAFA,GAAgBhnI,KAAMgnI,GAEf5/G,EAAO7H,MAAMvf,KAAM0D,WAe5B,OArEoByI,EAyDP66H,EAzDgCh0H,EA8DzC,CAAC,CACHH,IAAK,cACL7U,MAAO,WACL,MAAO,CAAC,GAAe,GAAyB,KAAqB,GAAmB,KAAoB,GAA+B,GAAoB,GAA0B,KAAkC,GAA+B,GAAoB,GAAmB,GAAmB,GAA0B,GAA2B,GAAgB,GAA6B,KAAqB,GAAuB,KAAyB,GAAgB,GAA2B,KAAiB,GAAkB,GAAyB,GAAsB,GAAwB,QAjEnlB+U,EAyDZ,CAAC,CACpBF,IAAK,aACL7U,MAAO,WACL,MAAO,GAAGkb,OAAO,GAAmB,GAAO28G,eAAgB,GAAmBmR,EAAOnR,qBA5Db,GAAkB1pH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqErPm7H,EAvBiB,CAwBxB,ICxFE,GAAgB,UAMpB,SAAS,GAAQ7nI,GACf,MAA+C,mBAAxCL,OAAOU,UAAUD,SAAS2B,KAAK/B,GAGxC,SAAS,GAAWA,EAAKyO,GACvB,OAAO9O,OAAOU,UAAUiwB,eAAevuB,KAAK/B,EAAKyO,GAGnD,SAAS,KACP,IAAIyR,EAAOlb,MAAM3E,UAAUqH,MAAM3F,KAAKwC,WAElB,IAAhB2b,EAAKhgB,QAAgB,GAAQggB,EAAK,MACpCA,EAAOA,EAAK,IAGd,IAAI9X,EAAK8X,EAAK0iB,MAId,OAFAx6B,EAAGgH,QAAU8Q,EAEN9X,EAiBT,IAAI,GAAmB,qCACnB,GAAU,mDACV,GAAS,mBAEb,SAAS,GAAiBA,GAExB,GAAkB,mBAAPA,EACT,MAAM,IAAIxH,MAAM,oBAAsBwH,EAAK,2BAG7C,IAAIqD,EAAQrD,EAAGhI,WAAWqL,MAlD5B,SAAiBrD,GACf,OAAO,GAAclG,KAAKkG,EAAGhI,YAiDG,CAAQgI,GAAM,GAAmB,IAGjE,OAAKqD,GAIEA,EAAM,IAAMA,EAAM,GAAGnJ,MAAM,KAAKqZ,KAAI,SAASkc,GAElD,OADApsB,EAAQosB,EAAIpsB,MAAM,KACHA,EAAM,GAAGy3B,OAASrL,EAAIqL,WAL9B,GASX,SAAS,KACP,IAAIE,EAAY,GAEhBviC,KAAKwiC,QAAU,SAASvlC,EAAMulC,GAE5B,OADAD,EAAUzhC,KAAK,CAAC7D,EAAM,UAAWulC,IAC1BxiC,MAGTA,KAAKhC,MAAQ,SAASf,EAAMe,GAE1B,OADAukC,EAAUzhC,KAAK,CAAC7D,EAAM,QAASe,IACxBgC,MAGTA,KAAKvD,KAAO,SAASQ,EAAMR,GAEzB,OADA8lC,EAAUzhC,KAAK,CAAC7D,EAAM,OAAQR,IACvBuD,MAGTA,KAAKgnB,QAAU,SAASjc,GACtBw3B,EAAUvb,QAAQjc,IAKtB,SAAS,GAAS23B,EAAStiC,GACzBA,EAASA,GAAU,CACjBwO,IAAK,SAAS3R,EAAM0lC,GAGlB,GAFAC,EAAmB9hC,KAAK7D,IAET,IAAX0lC,EACF,OAAO,KAEP,MAAM3W,EAAM,oBAAsB/uB,EAAO,QAK/C,IAAI2lC,EAAqB,GACrBL,EAAYviC,KAAK6iC,WAAa/jC,OAAO6D,OAAOvC,EAAOyiC,YAAc,MACjEC,EAAY9iC,KAAK+iC,WAAajkC,OAAO6D,OAAO,MAE5CuI,EAAO43B,EAAUjb,SAAW7nB,KAE5BgsB,EAAQ,SAASgX,GACnB,IAAIC,EAAQL,EAAmB3hC,KAAK,QAEpC,OADA2hC,EAAmBvjC,OAAS,EACrB,IAAIU,MAAMkjC,EAAQD,EAAM,gBAAkBC,EAAQ,IAAMD,IAW7Dp0B,EAAM,SAAS3R,EAAM0lC,GACvB,IAAKJ,EAAUtlC,KAAgC,IAAvBA,EAAKmC,QAAQ,KAAa,CAIhD,IAHA,IAAI8jC,EAAQjmC,EAAKwE,MAAM,KACnB0hC,EAAQv0B,EAAIs0B,EAAMxhC,SAEfwhC,EAAM7jC,QACX8jC,EAAQA,EAAMD,EAAMxhC,SAGtB,OAAOyhC,EAGT,GAAI,GAAWL,EAAW7lC,GACxB,OAAO6lC,EAAU7lC,GAGnB,GAAI,GAAWslC,EAAWtlC,GAAO,CAC/B,IAA0C,IAAtC2lC,EAAmBxjC,QAAQnC,GAE7B,MADA2lC,EAAmB9hC,KAAK7D,GAClB+uB,EAAM,uCAOd,OAJA4W,EAAmB9hC,KAAK7D,GACxB6lC,EAAU7lC,GAAQslC,EAAUtlC,GAAM,GAAGslC,EAAUtlC,GAAM,IACrD2lC,EAAmBb,MAEZe,EAAU7lC,GAGnB,OAAOmD,EAAOwO,IAAI3R,EAAM0lC,IAGtBS,EAAQ,SAAS77B,EAAI87B,GAMvB,QAJsB,IAAXA,IACTA,EAAS,IAGO,mBAAP97B,EAAmB,CAC5B,IAAI,GAAQA,GAGV,MAAM,IAAIxH,MAAM,kBAAoBwH,EAAK,2BAFzCA,EAAK,GAASA,EAAGV,SAerB,MAAO,CACLU,GAAIA,EACJ+7B,cAXW/7B,EAAGgH,SAAW,GAAiBhH,IAClBuT,KAAI,SAASyoB,GACrC,OAAI,GAAWF,EAAQE,GACdF,EAAOE,GAEP30B,EAAI20B,QAUbC,EAAc,SAAS71B,GACzB,IAAI81B,EAAML,EAAMz1B,GAEZpG,EAAKk8B,EAAIl8B,GACT+7B,EAAeG,EAAIH,aAKvB,OAAO,IAFW9mB,SAAShd,UAAU6jB,KAAK9D,MAAMhY,EAAI,CAAE,MAAO2R,OAAOoqB,MAKlEI,EAAS,SAASzd,EAAMtW,EAAS0zB,GACnC,IAAII,EAAML,EAAMnd,EAAMod,GAElB97B,EAAKk8B,EAAIl8B,GACT+7B,EAAeG,EAAIH,aAEvB,OAAO/7B,EAAGgY,MAAM5P,EAAS2zB,IAIvBK,EAA+B,SAASC,GAC1C,OAAO,IAAS,SAAS/wB,GACvB,OAAO+wB,EAAqBh1B,IAAIiE,OA8DhCgxB,EAAa,CACfrB,QAASkB,EACTjnC,KAAM+mC,EACNxlC,MAAO,SAASA,GACd,OAAOA,IAIX0kC,EAAQ1b,SAAQ,SAASjR,GAEvB,SAAS+tB,EAAYrnC,EAAMuB,GAKzB,MAJa,UAATvB,GAAoB,GAAQuB,KAC9BA,EAAQ,GAASA,EAAM6I,UAGlB7I,EAIT,GAAI+X,aAAkB,GACpBA,EAAOiR,SAAQ,SAAS+c,GACtB,IAAI9mC,EAAO8mC,EAAS,GAChBtnC,EAAOsnC,EAAS,GAChB/lC,EAAQ+lC,EAAS,GAErBxB,EAAUtlC,GAAQ,CAAC4mC,EAAWpnC,GAAOqnC,EAAYrnC,EAAMuB,GAAQvB,WAE5D,GAAsB,iBAAXsZ,EAChB,GAAIA,EAAOiuB,YAAa,CACtB,IAAIC,EAAenlC,OAAOC,KAAKgX,GAAQmuB,QAAO,SAAS7O,EAAGxiB,GAIxD,MAH4B,OAAxBA,EAAI5Q,UAAU,EAAG,KACnBozB,EAAExiB,GAAOkD,EAAOlD,IAEXwiB,IACNv2B,OAAO6D,OAAO,OAEbwhC,EAAkB,IAAI,IAAUpuB,EAAOquB,aAAe,IAAIlrB,OAAO,CAAC+qB,IAAgB/4B,GAClFm5B,EAAyB,IAAS,SAASxxB,GAC7C,OAAOsxB,EAAgBv1B,IAAIiE,MAE7BkD,EAAOiuB,YAAYhd,SAAQ,SAASnU,GAClC0vB,EAAU1vB,GAAO,CAACwxB,EAAwBxxB,EAAK,UAAWsxB,WAG5DrlC,OAAOC,KAAKgX,GAAQiR,SAAQ,SAAS/pB,GACnC,GAAwB,YAApB8Y,EAAO9Y,GAAM,GAAjB,CAKA,IAAIR,EAAOsZ,EAAO9Y,GAAM,GACpBe,EAAQ+X,EAAO9Y,GAAM,GAEzBslC,EAAUtlC,GAAQ,CAAC4mC,EAAWpnC,GAAOqnC,EAAYrnC,EAAMuB,GAAQvB,QAP7D8lC,EAAUtlC,GAAQ8Y,EAAO9Y,SAcnC+C,KAAK4O,IAAMA,EACX5O,KAAK0jC,OAASA,EACd1jC,KAAKwjC,YAAcA,EACnBxjC,KAAKskC,YAzHa,SAAS5B,EAAS6B,GAClC,GAAIA,GAAqBA,EAAkBllC,OAAQ,CACjD,IAOI0kC,EACAS,EACAZ,EACAa,EAVAC,EAAmB5lC,OAAO6D,OAAO,MACjCgiC,EAAgB7lC,OAAO6D,OAAO,MAE9BiiC,EAAwB,GACxBC,EAAwB,GACxBC,EAAwB,GAM5B,IAAK,IAAI7nC,KAAQslC,EACfwB,EAAWxB,EAAUtlC,IAEoB,IAArCsnC,EAAkBnlC,QAAQnC,KACR,YAAhB8mC,EAAS,IAEO,KADlBS,EAAWI,EAAsBxlC,QAAQ2kC,EAAS,MAEhDH,EAAuBG,EAAS,GAAGO,YAAY,GAAIC,GACnDE,EAA8Bd,EAA6BC,GAC3DgB,EAAsB9jC,KAAKijC,EAAS,IACpCc,EAAsB/jC,KAAK8iC,GAC3BkB,EAAsBhkC,KAAK2jC,GAC3BC,EAAiBznC,GAAQ,CAACwnC,EAA6BxnC,EAAM,UAAW2mC,IAExEc,EAAiBznC,GAAQ,CAAC6nC,EAAsBN,GAAWvnC,EAAM,UAAW4nC,EAAsBL,IAGpGE,EAAiBznC,GAAQ,CAAC8mC,EAAS,GAAIA,EAAS,IAElDY,EAAc1nC,IAAQ,GAGH,YAAhB8mC,EAAS,IAAoC,SAAhBA,EAAS,KAAkBA,EAAS,GAAGgB,QAEvER,EAAkBvd,SAAQ,SAASge,IACU,IAAvCjB,EAAS,GAAGgB,OAAO3lC,QAAQ4lC,KAC7BN,EAAiBznC,GAAQ,CAAC8mC,EAAS,GAAIA,EAAS,IAChDY,EAAcK,IAAS,MAM/BT,EAAkBvd,SAAQ,SAASge,GACjC,IAAKL,EAAcK,GACjB,MAAM,IAAIjlC,MAAM,oBAAsBilC,EAAQ,8CAIlDtC,EAAQ9E,QAAQ8G,GAGlB,OAAO,IAAI,GAAShC,EAASx3B,ICxQjC,SAAS,GAAkB5N,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,IAAI,GAA6B,WAC/B,SAAS6sF,EAAc1xF,GACrB,IAAIvB,EAAQxM,MARhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAU5G,CAAgB5L,KAAMy/F,GAEtBz/F,KAAKstB,WAAa,GAClBvf,EAASK,GAAG,oBAAoB,SAAUkH,GACxC,IAAIpO,EAAWoO,EAAKpO,SAEpBsF,EAAMytG,gBAAgB/yG,MAExB6G,EAASK,GAAG,oBAAoB,SAAUoH,GACxC,IAAIhZ,EAAUgZ,EAAMhZ,QAChB4wC,EAAQ53B,EAAM43B,MAElB5gC,EAAM2gC,SAAS3wC,EAAQmM,GAAIykC,MAlBjC,IAAsBjhC,EAAa4G,EAAYC,EAmF7C,OAnFoB7G,EAsBPszF,GAtBoB1sF,EAsBL,CAAC,CAC3BF,IAAK,kBACL7U,MAAO,SAAyBkJ,GAI9B,IAHA,IAAIkzG,EAAU,GACVC,EAAiBnzG,EAAS7H,OAErBT,EAAI,EAAGA,EAAIy7G,EAAgBz7G,IAAK,CACvC,IAAI+J,EAAKzB,EAAStI,GAAG+J,GAErB,GAAIyxG,EAAQzxG,GACV,OAGFyxG,EAAQzxG,IAAM,EACd,IAAI2xG,EAAkBt6G,KAAKstB,WAAW3kB,IAAO3I,KAAKstB,WAAW3kB,GAAItJ,OAEjE,GAAIi7G,EACF,IAAK,IAAI9lF,EAAI,EAAGA,EAAI8lF,EAAiB9lF,IAEnCx0B,KAAKstB,WAAW3kB,GAAI6rB,IAAMx0B,KAAKstB,WAAW3kB,GAAI6rB,QAKrD,CACD3hB,IAAK,oBACL7U,MAAO,SAA2B2K,EAAI0lB,GAC/BruB,KAAKstB,WAAW3kB,KACnB3I,KAAKstB,WAAW3kB,GAAM,IAIxB3I,KAAKstB,WAAW3kB,GAAI3I,KAAKstB,WAAW3kB,GAAItJ,QAAUgvB,IAEnD,CACDxb,IAAK,qBACL7U,MAAO,SAA4B2K,EAAI0lB,GACrC,GAAKruB,KAAKstB,WAAW3kB,GAIrB,GAAI0lB,EAAU,CACZ,IAAIrnB,EAAMhH,KAAKstB,WAAW3kB,GAAIvJ,QAAQivB,IAEzB,IAATrnB,GACFhH,KAAKstB,WAAW3kB,GAAIvH,OAAO4F,EAAK,QAGlChH,KAAKstB,WAAW3kB,GAAItJ,OAAS,IAGhC,CACDwT,IAAK,WACL7U,MAAO,SAAkBilG,EAAO71D,GAC1BptC,KAAKstB,WAAW21E,KAClBjjG,KAAKstB,WAAW8f,GAASptC,KAAKstB,WAAW21E,UAClCjjG,KAAKstB,WAAW21E,SA9E+C,GAAkB92F,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAmFrP4zF,EAjFwB,GCJjC,SAAS,GAAkBniG,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDyF7S,GAAcrE,QAAU,CAAC,YCpFzB,IAEI,GAA0B,WAC5B,SAASgsG,KAVX,SAAyBruG,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAW5G,CAAgB5L,KAAMu6G,GAEtBv6G,KAAKstB,WAAa,GATtB,IAAsBnhB,EAAa4G,EAAYC,EA2H7C,OA3HoB7G,EAYPouG,GAZoBxnG,EAYR,CAAC,CACxBF,IAAK,eACL7U,MAAO,SAAsBvB,EAAMkT,GACjC,IAAImtB,EAAY98B,KAAKstB,WAAW7wB,GAEhC,GAAKqgC,EAAL,CAMA,IAFA,IAAI09E,EAEK57G,EAAI,EAAGA,EAAIk+B,EAAUz9B,UAC5Bm7G,EAAY19E,EAAUl+B,GAAGguB,SAASjd,IADE/Q,KAQtC,OAAO47G,KAER,CACD3nG,IAAK,gBACL7U,MAAO,SAAuBvB,EAAMkT,GAClC,IAAImtB,EAAY98B,KAAKstB,WAAW7wB,GAEhC,GAAKqgC,EAAL,CAMA,IAFA,IAAIuR,EAAa,GAERzvC,EAAI,EAAGA,EAAIk+B,EAAUz9B,OAAQT,IAAK,CACzC,IAAI47G,EAAY19E,EAAUl+B,GAAGguB,SAASjd,GAElC6qG,GACFnsE,EAAWvtC,KAAK05G,GAIpB,GAAKnsE,EAAWhvC,OAIhB,OAAOgvC,KAER,CACDx7B,IAAK,iBACL7U,MAAO,SAAwBvB,EAAMyd,EAAU0S,GAM7C,GALI,qBAAW1S,KACb0S,EAAW1S,EACXA,EA5De,MA+DZ,mBAASA,GACZ,MAAM,IAAIna,MAAM,6BAGlB,IAEI06G,EAAkBzzG,EAFlB81B,EAAY98B,KAAK0uB,cAAcjyB,GAG/B+xB,EAAc,CAChBtU,SAAUA,EACV0S,SAAUA,GAGZ,IAAK5lB,EAAM,EAAGyzG,EAAmB39E,EAAU91B,GAAMA,IAC/C,GAAIyzG,EAAiBvgG,SAAWA,EAG9B,YADA4iB,EAAU17B,OAAO4F,EAAK,EAAGwnB,GAK7BsO,EAAUh8B,KAAK0tB,KAEhB,CACD3b,IAAK,kBACL7U,MAAO,SAAyBvB,EAAMmwB,GACpC,IAEIyB,EAA4BrnB,EAF5B81B,EAAY98B,KAAK0uB,cAAcjyB,GAInC,GAAImwB,EAGF,IAAK5lB,EAAM81B,EAAUz9B,OAAS,EAAGgvB,EAAWyO,EAAU91B,GAAMA,IACvCqnB,EAASzB,WAEHA,GACvBkQ,EAAU17B,OAAO4F,EAAK,QAK1B81B,EAAUz9B,OAAS,IAGtB,CACDwT,IAAK,gBACL7U,MAAO,SAAuBvB,GAC5B,IAAIqgC,EAAY98B,KAAKstB,WAAW7wB,GAMhC,OAJKqgC,IACH98B,KAAKstB,WAAW7wB,GAAQqgC,EAAY,IAG/BA,OAvHiE,GAAkB3wB,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2HrP0uG,EAtHqB,G,UCT9B,SAAS,GAAQp7G,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAIxM,IAAI,GAA+B,SAAUusH,IAhB7C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiBpb,CAAUkoI,EAAiB5nB,GAE3B,IArBoB9/G,EAAa4G,EAAYC,EAqBzCoU,EAAS,GAAaysH,GAE1B,SAASA,EAAgB7wI,GACvB,IAAIwJ,GA5BR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA8B5G,CAAgB5L,KAAM6zI,GAGtB,IAAIhsH,GADJrb,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,IACLu1C,UAAYv1C,EAAM6kB,SAIvC,OAHArb,EAAM2/G,eAAiBtkG,EAASjZ,IAAI,iBACpCpC,EAAM4/G,YAAcvkG,EAASjZ,IAAI,cACjCpC,EAAMoT,UAAYiI,EAASjZ,IAAI,YACxBpC,EAwBT,OAzDoBL,EAoCP0nI,GApCoB9gI,EAoCH,CAAC,CAC7BF,IAAK,kBACL7U,MAAO,WACL,MAAO,CACL0hG,cAAe1/F,KAAKmsH,eACpB99E,WAAYruC,KAAKosH,YACjB1sG,SAAU1f,KAAK4f,UACfiI,SAAU7nB,KAAKu4C,aAGlB,CACD1lC,IAAK,SACL7U,MAAO,WACL,IAAIqwC,EAAaruC,KAAKosH,YAAYO,cAAc,UAEhD,OAAOpR,GAAY,EAAG,MAAO,mBAAoBltE,GAAcA,EAAWvzB,KAAI,SAAU8oG,EAAW3kH,GACjG,OAAO28G,GAAqB,EAAGgI,EAAW,KAAM3kH,MAC9C,QArDoE,GAAkBkN,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAyDrPgoI,EAvC0B,CAwCjC,IC9DF,SAAS,GAAkBv2I,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAO7S,IAAI,GAAwB,WAC1B,SAASq6G,EAASvtB,EAAerxD,EAAYluB,EAAQpS,EAAU8Z,IAVjE,SAAyB3b,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAW5G,CAAgB5L,KAAMitH,GAEtB,IAAIh0G,EAAYkH,EAAOlH,UACvBjZ,KAAKyrB,WAAaxS,EAClBlL,EAASK,GAAG,kBAAkB,WAC5B,GAAOwtG,GAAqB,EAAG,GAAiB,CAC9C,SAAY/zF,IACV5O,MAENlL,EAASK,GAAG,oBAAoB,WAC9B,GAAO,KAAM6K,MAjBnB,IAAsB9M,EAAa4G,EAAYC,EA4B7C,OA5BoB7G,EAqBP8gH,GArBoBl6G,EAqBV,CAAC,CACtBF,IAAK,eACL7U,MAAO,WACL,OAAOgC,KAAKyrB,gBAxB4D,GAAkBtf,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4BrPohH,EAvBmB,GA2B5B,GAAS1+G,QAAU,CAAC,gBAAiB,aAAc,kBAAmB,WAAY,YClCnE,QACbgC,SAAU,CAAC,gBAAiB,aAAc,YAC1CmvF,cAAe,CAAC,OAAQ,IACxBrxD,WAAY,CAAC,OAAQ,IACrBtgC,SAAU,CAAC,OAAQ,MACnB2R,SAAU,CAAC,OAAQ,KCTjB,GAAY,CAAC,WAEjB,SAAS,GAAyB7W,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxM,CAA8BuL,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAIne,SAAS,GAAgB4O,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAU7S,IAAI,GAAsB,WACxB,SAAS+nC,IACP,IAAI9sC,EAAUnK,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAgB1D,KAAM26C,GAEtB,IAAI9yB,EAAWha,EAAQga,SAEvB,IAAKA,EAAU,CACb,IAAI+lG,EAAc5tH,KAAKkpB,MAAMrb,GACzB60B,EAAUkrF,EAAYlrF,QACtBviB,EAASytG,EAAYztG,OAEzB0H,EAAW,GAAe1H,EAAQuiB,GAGpC1iC,KAAK4O,IAAMiZ,EAASjZ,IACpB5O,KAAK0jC,OAAS7b,EAAS6b,OACvB1jC,KAAK4O,IAAI,YAAYF,KAAK,eA1B9B,IAAsBvC,EAAa4G,EAAYC,EAsE7C,OAtEoB7G,EAqCPwuC,GArCoB5nC,EAqCZ,CAAC,CACpBF,IAAK,QACL7U,MAAO,SAAe6P,GAIpB,MAAO,CACL60B,QAJY70B,EAAQ60B,QAKpBviB,OAJW,GAAyBtS,EAAS,OAWhD,CACDgF,IAAK,UACL7U,MAAO,WACUgC,KAAK4O,IAAI,YACfF,KAAK,oBAMf,CACDmE,IAAK,QACL7U,MAAO,WACUgC,KAAK4O,IAAI,YACfF,KAAK,qBAlE0D,GAAkBvC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAsErP8uC,EA9DiB,GAoE1B,SAAS,GAAUvM,GACjB,IAAI1L,EAAU,GACV2L,EAAa,GAEjB,SAASC,EAAUjZ,GACjB,OAAOqN,EAAQtjC,QAAQi2B,IAAM,EAwB/B+Y,EAAiBpnB,SAjBjB,SAASunB,EAAMlZ,GACTiZ,EAAUjZ,MAIbA,EAAE7kB,aAAe,IAAIwW,QAAQunB,GAE1BD,EAAUjZ,MAXhB,SAAmBA,GACjBqN,EAAQ5hC,KAAKu0B,GAcbmZ,CAAUnZ,IACTA,EAAE9kB,UAAY,IAAIyW,SAAQ,SAAU3jB,GACnCgrC,EAAWvtC,KAAKuC,WAKpB,IAAIwkB,EAAW,IAAI,GAAS6a,GAW5B,OAVA2L,EAAWrnB,SAAQ,SAAU3jB,GAC3B,IAEEwkB,EAAsB,iBAANxkB,EAAiB,MAAQ,UAAUA,GACnD,MAAO5F,GAGP,MAFAovB,QAAQb,MAAM,mCACda,QAAQb,MAAMvuB,EAAEwlC,OACVxlC,MAGHoqB,EAGT,SAAS,GAAe1H,EAAQuiB,GAI9B,OAAO,GAHgB,CAAC,CACtBviB,OAAQ,CAAC,QAASA,IACjB,IAAMjH,OAAOwpB,GAAW,KCnI7B,SAAS,GAAkBplC,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAU7S,IAAI,GAA+B,WACjC,SAASq6B,EAAgB4tB,EAAQ9sD,IAbnC,SAAyB7B,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAc5G,CAAgB5L,KAAMitC,GAEtBjtC,KAAKiO,UAAYF,EACjB/N,KAAK8zI,QAAUj5E,EAbnB,IAAsB1uD,EAAa4G,EAAYC,EAuC7C,OAvCoB7G,EAgBP8gC,GAhBoBl6B,EAgBH,CAAC,CAC7BF,IAAK,cACL7U,MAAO,WACL,OAAOgC,KAAK8zI,QAAQC,gBAErB,CACDlhI,IAAK,WACL7U,MAAO,SAAkBxB,EAAS4wC,GAGhC,GAAI5wC,IAFWwD,KAAK+zI,cAGlB,MAAM,IAAIh0I,MAAM,wBAGlBC,KAAKiO,UAAUS,KAAK,mBAAoB,CACtClS,QAASA,EACT4wC,MAAOA,IAGT5wC,EAAQmM,GAAKykC,OAnC2D,GAAkBjhC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAuCrPohC,EA/B0B,GAmCnC,GAAgB1+B,QAAU,CAAC,SAAU,YC9CtB,QACbgC,SAAU,CAAC,mBACXb,gBAAiB,CAAC,OAAQ,KCH5B,SAAS,GAAQvQ,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAIxM,IAAI,GAA2C,SAAUusH,IAhBzD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiBpb,CAAUqoI,EAA6B/nB,GAEvC,IArBoB9/G,EAAa4G,EAAYC,EAqBzCoU,EAAS,GAAa4sH,GAE1B,SAASA,EAA4BhxI,EAAO2M,GAC1C,IAAInD,EAMJ,OAlCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA8B5G,CAAgB5L,KAAMg0I,IAEtBxnI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3BmkI,QAAUnkI,EAAQkY,SAASjZ,IAAI,UAC9BpC,EAcT,OA5CoBL,EAiCP6nI,GAjCoBjhI,EAiCS,CAAC,CACzCF,IAAK,SACL7U,MAAO,WAKL,OAAOu9G,GAAY,EAAG,MAAO,sBAAuBA,GAAY,EAAG,KAAM,gBAH7Cv7G,KAAK8zI,QAAQC,cACR92I,KAE+D,GAAI,QAxC5B,GAAkBkP,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4CrPmoI,EA1BsC,CA2B7C,ICrDF,SAAS,GAAkB12I,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAAkC,IAAa,SAAS8nI,EAAmB5lG,IAL/E,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMi0I,GAEtB5lG,EAAW0iF,eAAe,SALR,MAKiC,WACjD,OAAO,SAKX,GAAmBxiH,QAAU,CAAC,cCjBf,QACbgC,SAAU,CAAC,sBACX2jI,mBAAoB,CAAC,OAAQ,KCH/B,SAAS,GAAQ/0I,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAIxM,IAAI,GAAoD,SAAUusH,IAhBlE,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiBpb,CAAUwoI,EAAsCloB,GAEhD,IArBoB9/G,EAAa4G,EAAYC,EAqBzCoU,EAAS,GAAa+sH,GAE1B,SAASA,EAAqCnxI,EAAO2M,GACnD,IAAInD,EAMJ,OAlCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA8B5G,CAAgB5L,KAAMm0I,IAEtB3nI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3BmkI,QAAUnkI,EAAQkY,SAASjZ,IAAI,UAC9BpC,EAcT,OA5CoBL,EAiCPgoI,GAjCoBphI,EAiCkB,CAAC,CAClDF,IAAK,SACL7U,MAAO,WACL,IAAIo2I,EAAwBp0I,KAAK8zI,QAAQC,cACrCM,EAAoBD,EAAsB/7F,cAC1Cs5C,EAAWyiD,EAAsBziD,SAErC,OAAO4pB,GAAY,EAAG,MAAO,gCAAiCA,GAAY,EAAG,QAAS,KAAM,CAACA,GAAY,EAAG,KAAM,KAAM,CAACA,GAAY,EAAG,KAAM,KAAMS,GAAgB,kBAAmB,GAAIT,GAAY,EAAG,KAAM,KAAMA,GAAY,EAAG,OAAQ,KAAM5pB,EAAS10F,MAAQ,IAAK,GAAI,IAAK,GAAIs+G,GAAY,EAAG,KAAM,KAAM,CAACA,GAAY,EAAG,KAAM,KAAMS,GAAgB,kBAAmB,GAAIT,GAAY,EAAG,KAAM,KAAMA,GAAY,EAAG,OAAQ,KAAM5pB,EAASH,SAAW,IAAK,GAAI,IAAK,GAAI+pB,GAAY,EAAG,KAAM,KAAM,CAACA,GAAY,EAAG,KAAM,KAAMS,GAAgB,wBAAyB,GAAIT,GAAY,EAAG,KAAM,KAAMA,GAAY,EAAG,OAAQ,KAAM84B,EAAkB/U,oBAAsB,IAAK,GAAI,IAAK,IAAK,GAAI,QAxCrmB,GAAkBnzH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA4CrPsoI,EA1B+C,CA2BtD,ICrDF,SAAS,GAAkB72I,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAAkC,IAAa,SAAS8nI,EAAmB5lG,IAL/E,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMi0I,GAEtB5lG,EAAW0iF,eAAe,SALT,KAKiC,WAChD,OAAO,SAKX,GAAmBxiH,QAAU,CAAC,cChBf,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,+BACX+jI,4BAA6B,CAAC,OAAQ,KCLxC,SAAS,GAAQn1I,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAOxM,IAAI,GAAsC,SAAUusH,IAnBpD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAoBpb,CAAUmpH,EAAwB7I,GAElC,IAxBoB9/G,EAAa4G,EAAYC,EAwBzCoU,EAAS,GAAa0tG,GAE1B,SAASA,EAAuB9xH,EAAO2M,GACrC,IAAInD,EAXiBrN,EAAK0T,EAAK7U,GApBnC,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAiC5G,CAAgB5L,KAAM80H,GAEtBtoH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAfZxQ,EAiBL,GAAuBqN,GAjBRxO,EAiB2B,WACxDwO,EAAMyB,UAAUS,KAAK,oBAlBGmE,EAiBqB,aAjBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAqBvL,IAAI6pB,EAAWlY,EAAQkY,SAEvB,OADArb,EAAMyB,UAAY4Z,EAASjZ,IAAI,YACxBpC,EAiBT,OAxDoBL,EA0CP2oH,GA1CoB/hH,EA0CI,CAAC,CACpCF,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAEb,OAAOu7G,GAAY,EAAG,MAAO,aAAcA,GAAY,EAAG,MAAO,mBAAoBK,GAAqB,EAAGiZ,IAAO,GAAI,EAAG,CACzH,QAAW70H,KAAKy0H,QAChB,MAAS,sBACR,MAAM,SAAU52H,GACjB,OAAOiP,EAAOjP,KAAOA,UAnDiD,GAAkBsO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAwDrPipH,EAnCiC,CAoCxC,ICjEF,SAAS,GAAQ31H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAKxM,IAAI,GAAyC,SAAUusH,IAjBvD,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAkBpb,CAAUopH,EAA2B9I,GAErC,IAtBoB9/G,EAAa4G,EAAYC,EAsBzCoU,EAAS,GAAa2tG,GAE1B,SAASA,EAA0B/xH,GACjC,IAAIwJ,EAUJ,OAvCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA+B5G,CAAgB5L,KAAM+0H,IAEtBvoH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,IACpBq9C,MAAQ,CACZ13B,MAAM,GAERnc,EAAMioH,QAAUjoH,EAAMioH,QAAQpxG,KAAK,GAAuB7W,IAC1DA,EAAMwoH,OAASxoH,EAAMwoH,OAAO3xG,KAAK,GAAuB7W,IACjDA,EAiDT,OApFoBL,EAsCP4oH,GAtCoBhiH,EAsCO,CAAC,CACvCF,IAAK,UACL7U,MAAO,WACLgC,KAAK6rH,SAAS,CACZljG,MAAM,MAGT,CACD9V,IAAK,SACL7U,MAAO,WACLgC,KAAK6rH,SAAS,CACZljG,MAAM,MAGT,CACD9V,IAAK,qBACL7U,MAAO,YACUgC,KAAKiO,UAAYjO,KAAK2P,QAAQkY,SAASjZ,IAAI,aACjDR,GAAG,iBAAkBpO,KAAKg1H,UAEpC,CACDniH,IAAK,uBACL7U,MAAO,WACLgC,KAAKiO,UAAU6f,IAAI,iBAAkB9tB,KAAKg1H,UAE3C,CACDniH,IAAK,SACL7U,MAAO,WAEL,OADWgC,KAAKqgD,MAAM13B,MACP4yF,GAAY,EAAG,MAAO,qBAAsBA,GAAY,EAAG,MAAO,6BAA8B,CAACA,GAAY,EAAG,IAAK,OAAQK,GAAqB,EAAGiZ,IAAO,EAAG,CAC5K,KAAQ,kBACR,OAAU,SACV,IAAO,aACLtZ,GAAY,EAAG,OAAQ,KAAM,CAACS,GAAgB,iEAAkET,GAAY,EAAG,IAAK,KAAMS,GAAgB,WAAY,EAAG,CAC3K,KAAQ,iBACR,OAAU,WACRA,GAAgB,MAAO,IAAK,EAAG,CACjC,QAAW,SAAiBv+G,GAC1B,OAAOA,EAAE2T,qBAET,EAAG,CACL,QAAWpR,KAAKy0H,eA/EsD,GAAkBtoH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoFrPkpH,EAjEoC,CAkE3C,IC7FF,SAAS,GAAkBz3H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAM/Q,IAEI,GAAyB,IAAa,SAAS8oH,EAAU5mF,EAAYtgC,IANzE,SAAyB7B,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAO9G,CAAgB5L,KAAMi1H,GAEtB5mF,EAAW0iF,eAAe,SALN,KAKiC,WACnD,OAAO,MAET1iF,EAAW0iF,eAAe,UAAU,WAClC,OAAO,SAKX,GAAUxiH,QAAU,CAAC,aAAc,YCrBpB,QACbgC,SAAU,CAAC,aACX2kH,UAAW,CAAC,OAAQ,KCHtB,SAAS,GAAQ/1H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAIxM,IAAI,GAAiC,SAAUusH,IAhB/C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAiBpb,CAAU4oI,EAAmBtoB,GAE7B,IArBoB9/G,EAAa4G,EAAYC,EAqBzCoU,EAAS,GAAamtH,GAE1B,SAASA,EAAkBvxI,EAAO2M,GAChC,IAAInD,EAMJ,OAlCJ,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCA8B5G,CAAgB5L,KAAMu0I,IAEtB/nI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3BmkI,QAAUnkI,EAAQkY,SAASjZ,IAAI,UAC9BpC,EAYT,OA1CoBL,EAiCPooI,GAjCoBxhI,EAiCD,CAAC,CAC/BF,IAAK,SACL7U,MAAO,WAGL,OAAOu9G,GAAY,EAAG,MAAO,WAAYA,GAAY,EAAG,MAAO,UAFpDv7G,KAAK8zI,QAAQC,cAAc17F,cAAc/G,KAE4B,GAAI,QAtCZ,GAAkBnlC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA0CrP0oI,EAxB4B,CAyBnC,ICnDF,SAAS,GAAkBj3I,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAM/Q,IAAI,GAAwB,IAAa,SAASqoI,EAASnmG,IAJ3D,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAK9G,CAAgB5L,KAAMw0I,GAEtBnmG,EAAW0iF,eAAe,UAAU,WAClC,OAAO,SAKX,GAASxiH,QAAU,CAAC,cChBL,QACbgC,SAAU,CAAC,YACXkkI,SAAU,CAAC,OAAQ,KCHrB,SAAS,GAAQt1I,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAMxM,IAAI,GAAgC,SAAUusH,IAlB9C,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAmBpb,CAAU6oH,EAAkBvI,GAE5B,IAvBoB9/G,EAAa4G,EAAYC,EAuBzCoU,EAAS,GAAaotG,GAE1B,SAASA,EAAiBxxH,EAAO2M,GAC/B,IAAInD,EAViBrN,EAAK0T,EAAK7U,GApBnC,SAAyBkO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAgC5G,CAAgB5L,KAAMw0H,GAEtBhoH,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,GAdZxQ,EAgBL,GAAuBqN,GAhBRxO,EAgB2B,WACxDwO,EAAMyB,UAAUS,KAAK,aAjBGmE,EAgBqB,aAhBI1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAoBvL,IAAI6pB,EAAWlY,EAAQkY,SAEvB,OADArb,EAAMyB,UAAY4Z,EAASjZ,IAAI,YACxBpC,EAgBT,OAtDoBL,EAyCPqoH,GAzCoBzhH,EAyCF,CAAC,CAC9BF,IAAK,SACL7U,MAAO,WACL,IAAI8O,EAAS9M,KAEb,OAAOu7G,GAAY,EAAG,MAAO,WAAYA,GAAY,EAAG,SAAU,kBAAmBS,GAAgB,YAAa,EAAG,CACnH,QAAWh8G,KAAKy0H,UACd,EAAG,KAAM,MAAM,SAAU52H,GAC3B,OAAOiP,EAAOjP,KAAOA,UAjDiD,GAAkBsO,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAsDrP2oH,EAlC2B,CAmClC,IC7DF,SAAS,GAAkBl3H,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAK7S,IAEI,GAAuB,WACzB,SAAS8hH,EAAQrmF,EAAYwsB,EAAQ9sD,EAAU8Z,GAC7C,IAAIrb,EAAQxM,MAXhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAM00H,GAEtB10H,KAAKu4C,UAAY1wB,EACjB7nB,KAAK8zI,QAAUj5E,EACfxsB,EAAW0iF,eAAe,SAVL,KAUmC,WACtD,GAAIvkH,EAAMmoH,aACR,OAAO,MAGX5mH,EAASK,GAAG,WAAW,WACrB,IAAIhO,EAASynB,EAASjZ,IAAI,WAAW,GAEjCyW,EAAc7Y,EAAMw2F,iBAGpBjqD,EAAO34C,EAAO44C,QAAQ3zB,GAC1BjlB,EAAO64C,KAAKF,MAzBlB,IAAsB5sC,EAAa4G,EAAYC,EAiD7C,OAjDoB7G,EA6BPuoH,GA7BoB3hH,EA6BX,CAAC,CACrBF,IAAK,aACL7U,MAAO,WACL,IAAIoC,EAASJ,KAAKu4C,UAAU3pC,IAAI,WAAW,GAE3C,GAAKxO,EAAL,CAKA,IAAIilB,EAAcrlB,KAAKgjG,iBACvB,QAAS5iG,EAAO44C,QAAQ3zB,MAEzB,CACDxS,IAAK,iBACL7U,MAAO,WACL,OAAuBgC,KAAK8zI,QAAQC,cAWb97F,aAxDiD,GAAkB9rC,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAiDrP6oH,EA5CkB,GAgD3B,GAAQnmH,QAAU,CAAC,aAAc,SAAU,WAAY,YCxDxC,QACbgC,SAAU,CAAC,WACXqkH,QAAS,CAAC,OAAQ,KCHpB,SAAS,GAAQz1H,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,IAAI,GAAY,CAAC,UAAW,qBAE5B,SAAS,GAAmBD,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAO,GAAkBA,GAR1C,CAAmBA,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjF,CAAiBh7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO,GAAkBA,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAO,GAAkB3Y,EAAGyY,GAJxT,CAA4BjZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8E,GAUlI,SAAS,GAAkB1M,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAEhL,SAAS,GAAyB7P,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAAkEgK,EAAKjU,EAAnEtB,EAEzF,SAAuCuL,EAAQyxC,GAAY,GAAc,MAAVzxC,EAAgB,MAAO,GAAI,IAA2DgK,EAAKjU,EAA5DtB,EAAS,GAAQi9C,EAAaz7C,OAAOC,KAAK8J,GAAqB,IAAKjK,EAAI,EAAGA,EAAI27C,EAAWl7C,OAAQT,IAAOiU,EAAM0nC,EAAW37C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,IAAavV,EAAOuV,GAAOhK,EAAOgK,IAAQ,OAAOvV,EAFxM,CAA8BuL,EAAQyxC,GAAuB,GAAIx7C,OAAO26C,sBAAuB,CAAE,IAAIgB,EAAmB37C,OAAO26C,sBAAsB5wC,GAAS,IAAKjK,EAAI,EAAGA,EAAI67C,EAAiBp7C,OAAQT,IAAOiU,EAAM4nC,EAAiB77C,GAAQ07C,EAASl7C,QAAQyT,IAAQ,GAAkB/T,OAAOU,UAAUk7C,qBAAqBx5C,KAAK2H,EAAQgK,KAAgBvV,EAAOuV,GAAOhK,EAAOgK,IAAU,OAAOvV,EAIne,SAAS,GAAgB4O,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,KAAoX,OAAtT,GAA9B,oBAAZ2T,SAA2BA,QAAQ3X,IAAc2X,QAAQ3X,IAAqB,SAActR,EAAQkyB,EAAUyqD,GAAY,IAAI7X,EAAO,GAAe9kE,EAAQkyB,GAAW,GAAK4yC,EAAL,CAAmB,IAAI0V,EAAOh5E,OAAO86C,yBAAyBwoB,EAAM5yC,GAAW,OAAIsoD,EAAKlpE,IAAckpE,EAAKlpE,IAAI1N,KAAKwC,UAAUrE,OAAS,EAAI/B,EAAS28E,GAAoBnC,EAAK95E,SAAwBuhB,MAAMvf,KAAM0D,WAErZ,SAAS,GAAeX,EAAQysB,GAAY,MAAQ1wB,OAAOU,UAAUiwB,eAAevuB,KAAK6B,EAAQysB,IAA8D,QAAjDzsB,EAAS,GAAgBA,MAAuC,OAAOA,EAIrL,SAAS,GAAgBrD,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAmBxM,IAAI,GAAsB,SAAUg1I,IA/BpC,SAAmBhpI,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAgCpb,CAAUgvC,EAAQ+5F,GAElB,IAxCoBvoI,EAAa4G,EAAYC,EAwCzCoU,EAAS,GAAauzB,GAE1B,SAASA,IACP,IAAInuC,EAEAqB,EAAUnK,UAAUrE,OAAS,QAAsBb,IAAjBkF,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAgB1D,KAAM26C,GAEtB,IAAI1hC,EAAY0hC,EAAO7M,mBAQvB,OANAthC,EAAQ4a,EAAOlmB,KAAKlB,KAAM,iBAAO6N,EAAS,CACxC6R,SAAU,CACRzG,UAAWA,OAGTwS,WAAaxS,EACZzM,EA4LT,OArPoBL,EAoEPwuC,EApEgC3nC,EAyOzC,CAAC,CACHH,IAAK,cACL7U,MAAO,WACL,MAAO,CAAC,GAAY,GAA0B,GAAmC,GAAiB,GAAgB,MAEnH,CACD6U,IAAK,mBACL7U,MAAO,WACL,OAAO,iBAAO,4DAjPe+U,EAoEZ,CAAC,CACpBF,IAAK,OACL7U,MAAO,SAAcmwH,GACnB,IAAIjjH,EAAOlL,KACX,OAAO,IAAI0sB,SAAQ,SAAU0uB,EAAS7+B,GACpC,IAAItE,EAGJ,IACM/M,EAAKmqH,YAEPnqH,EAAK3K,QAEL2K,EAAK0D,IAAI,YAAYF,KAAK,qBAI5BxD,EAAKmqH,UAAYlH,EAEjBjjH,EAAK0D,IAAI,YAAYF,KAAK,SAAUy/G,GACpCjjH,EAAK0D,IAAI,YAAYF,KAAK,kBAC1B,MAAOjR,GACPwa,EAAMxa,EAIJwa,GACFA,EAAIkV,SAAWlV,EAAIkV,UAAY,GAC/B5Q,EAAOtE,IAEPmjC,EAAQ,CACNjuB,SAAU,UAajB,CACDta,IAAK,QACL7U,MAAO,SAAe6P,GACpB,IAAI60B,EAAU70B,EAAQ60B,QAClBiZ,EAAoB9tC,EAAQ8tC,kBAC5Bx7B,EAAS,GAAyBtS,EAAS,IAE3CguC,EAAcnZ,GAAW1iC,KAAKy7C,aAC9Bk6E,EAAeh6E,GAAqB,GACpCi6E,EAAgB,CAAC,CACnB/6D,OAAQ,CAAC,QAAS76D,QAGpB,MAAO,CACL0iC,QAFe,GAAGxpB,OAAO,GAAmB2iC,GAAc,GAAmB85E,GAAeC,GAG5Fz1G,OAAQA,KAcX,CACDtN,IAAK,KACL7U,MAAO,SAAYwR,EAAO0K,EAAU0S,EAAUtvB,GAC5C,OAAO0C,KAAK4O,IAAI,YAAYR,GAAGoB,EAAO0K,EAAU0S,EAAUtvB,KAS3D,CACDuV,IAAK,MACL7U,MAAO,SAAawR,EAAOod,GACzB5sB,KAAK4O,IAAI,YAAYkf,IAAIte,EAAOod,KAWjC,CACD/Z,IAAK,QACL7U,MAAO,SAAevB,EAAM+S,GAC1B,OAAOxP,KAAK4O,IAAI,YAAYF,KAAKjS,EAAM+S,KAQxC,CACDqD,IAAK,cACL7U,MAAO,WACL,OAAOgC,KAAKq1H,YAQb,CACDxiH,IAAK,WACL7U,MAAO,SAAkBqC,GACvB,IAAKA,EACH,MAAM,IAAIN,MAAM,uBAKlBC,KAAKu8C,SACLl8C,EAAW1C,YAAYqC,KAAKyrB,YAE5BzrB,KAAKi8C,MAAM,SAAU,MAMtB,CACDppC,IAAK,SACL7U,MAAO,WACL,IAAIib,EAAYjZ,KAAKyrB,WACJxS,EAAU5Y,aAM3BL,KAAKi8C,MAAM,SAAU,IAErB,iBAAUhjC,MAEX,CACDpG,IAAK,UACL7U,MAAO,WACL,GAAK,GAAgB28C,EAAOn7C,WAAY,UAAWQ,MAAMkB,KAAKlB,MAE9DA,KAAKu8C,WAEN,CACD1pC,IAAK,aACL7U,MAAO,WACL,OAAO28C,EAAOk7E,mBAvO0D,GAAkB1pH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAqPrP8uC,EAhNiB,CAiNxB,IC9QF,SAAS,GAAQx7C,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAE/Q,SAAS,GAAUT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAEtb,SAAS,GAAgBjM,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAExM,SAAS,GAAgBP,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EAK3M,IAAI,GAAiD,SAAU8sH,GAC7D,GAAU0oB,EAAmC1oB,GAE7C,IAAI7kG,EAAS,GAAautH,GAE1B,SAASA,EAAkC3xI,EAAO2M,GAChD,IAAInD,EAqBJ,OAnBA,GAAgBxM,KAAM20I,GAItB,GAAgB,GAFhBnoI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAEc,qBAAqB,WAClEnD,EAAMo/G,iBAGR,GAAgB,GAAuBp/G,GAAQ,mBAAmB,SAAUvP,GAC1EuP,EAAMkvD,UAAUk5E,iBAAiB33I,MAGnCuP,EAAMsnI,QAAUnkI,EAAQkY,SAASjZ,IAAI,UACrCpC,EAAMkvD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YAEvCpC,EAAMo7H,qBAAqB,CACzBvkH,KAAM7W,EAAMunI,cAAcprI,KAGrB6D,EA6CT,OA1CA,GAAamoI,EAAmC,CAAC,CAC/C9hI,IAAK,uBACL7U,MAAO,WACLgC,KAAK4nI,qBAAqB,CACxBrkH,OAAQvjB,KAAK+zI,cAAcprI,OAG9B,CACDkK,IAAK,cACL7U,MAAO,WACL,OAAOgC,KAAK8zI,QAAQC,gBAErB,CACDlhI,IAAK,uBACL7U,MAAO,SAA8BsX,GACnC,IAAI+N,EAAO/N,EAAK+N,KACZE,EAASjO,EAAKiO,OACdm8E,EAAgB1/F,KAAK2P,QAAQ+vF,cAEX,iBAAXn8E,GACTm8E,EAAc8sB,mBAAmBjpG,EAAQvjB,KAAKssH,mBAG5B,iBAATjpG,GACTq8E,EAAc4sB,kBAAkBjpG,EAAMrjB,KAAKssH,qBAG9C,CACDz5G,IAAK,SACL7U,MAAO,WACL,IACIf,EADoB+C,KAAK+zI,cACA92I,KAE7B,OAAOs+G,GAAY,EAAG,SAAU,sBAAuBK,GAAqB,EAAG,GAAc,CAC3F,UAAa,uBACb,MAAS3+G,EACT,OAAU,GACV,SAAY+C,KAAK60I,kBACf,OAIDF,EAxE4C,CAyEnD,IAIE,GAA4B,SAAUpc,GACxC,GAAUuc,EAAcvc,GAExB,IAAIE,EAAU,GAAaqc,GAE3B,SAASA,IAGP,OAFA,GAAgB90I,KAAM80I,GAEfrc,EAAQl5G,MAAMvf,KAAM0D,WAU7B,OAPA,GAAaoxI,EAAc,CAAC,CAC1BjiI,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,KAAMv7G,KAAKw3H,eAAgBx3H,KAAK04H,YAAa,OAIhEoc,EAlBuB,CAmB9B,IAEF,SAAS,GAAYtlI,GACnBA,EAAMlS,OAAOwtC,OAAO,EAAG,GChIzB,SAAS,GAAkBxtC,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAAwC,IAAa,SAAS4oI,EAAyB1mG,IAL3F,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAM+0I,GAEtB1mG,EAAW0iF,eAAe,SALR,MAKiC,WACjD,OAAO,SAKX,GAAyBxiH,QAAU,CAAC,cChBrB,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,sBACX2jI,mBAAoB,CAAC,OAAQ,KCH/B,SAAS,GAAkB52I,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAK7S,IAWI,GAA6B,WAC/B,SAASwsD,EAAcp3C,EAAcja,IAnBvC,SAAyB7B,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAoB5G,CAAgB5L,KAAMo/D,GAEtBp/D,KAAKq/D,SAAW,CACdC,KAAM,WACJt3C,EAAas3C,QAEfC,KAAM,WACJv3C,EAAau3C,SAvBrB,IAAsBpzD,EAAa4G,EAAYC,EAgH7C,OAhHoB7G,EAqCPizD,GArCoBrsD,EAqCL,CAAC,CAC3BF,IAAK,UACL7U,MAAO,SAAiBipB,EAAQ44C,GAC9B,IAAK7/D,KAAKq/D,SAASp4C,GACjB,MAAM,GAAMA,EAtCO,8BAyCrB,OAAOjnB,KAAKq/D,SAASp4C,GAAQ44C,KAS9B,CACDhtD,IAAK,WACL7U,MAAO,SAAkBuV,EAAS8a,GAChC,IAAI7hB,EAAQxM,KAEZ,GAAuB,iBAAZuT,EACT,OAAOvT,KAAK8/D,gBAAgBvsD,EAAS8a,GAGvC,kBAAQ9a,GAAS,SAAU8a,EAAUpH,GACnCza,EAAMszD,gBAAgB74C,EAAQoH,KAC7BruB,QASJ,CACD6S,IAAK,kBACL7U,MAAO,SAAyBipB,EAAQoH,GACtC,GAAIruB,KAAK+/D,aAAa94C,GACpB,MAAM,GAAMA,EAzEM,yBA4EpBjnB,KAAKq/D,SAASp4C,GAAUoH,IAQzB,CACDxb,IAAK,aACL7U,MAAO,SAAoBipB,GACzB,IAAKjnB,KAAK+/D,aAAa94C,GACrB,MAAM,GAAMA,EAzFO,8BA4FrBjnB,KAAKq/D,SAASp4C,QAAUzoB,IAUzB,CACDqU,IAAK,eACL7U,MAAO,SAAsBipB,GAC3B,QAASjnB,KAAKq/D,SAASp4C,QA5GiD,GAAkB9a,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAgHrPuzD,EAlGwB,GAwGjC,SAAS,GAAMn4C,EAAQgoB,GACrB,OAAO,IAAIlvC,MAAMknB,EAAS,IAAMgoB,GAHlC,GAAc1gC,QAAU,CAAC,eAAgB,YCvH1B,QACbgC,SAAU,CAAC,iBACX4C,cAAe,CAAC,OAAQ,KCAnB,SAAS,GAAMopB,GAGpB,OAAIA,EAAUC,SAIPD,EAAUjqB,SAAWiqB,EAAUlqB,SAEjC,SAAS,GAAQkqB,GACtB,OAAOA,EAAU/pB,SCXnB,SAAS,GAAkBlV,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAI7S,SAAS,GAAgBzT,EAAK0T,EAAK7U,GAAiK,OAApJ6U,KAAO1T,EAAOL,OAAOuN,eAAelN,EAAK0T,EAAK,CAAE7U,MAAOA,EAAOyO,YAAY,EAAMX,cAAc,EAAMD,UAAU,IAAkB1M,EAAI0T,GAAO7U,EAAgBmB,EA2B3M,IAAI,GAAwB,WAC1B,SAASw9B,EAASxc,EAAQpS,EAAUoF,GAClC,IAAI3G,EAAQxM,MAnChB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAqC5G,CAAgB5L,KAAM28B,GAEtB,GAAgB38B,KAAM,SAAS,WAC7BwM,EAAMowB,2BAENpwB,EAAMqwB,MAAM,WAGd,GAAgB78B,KAAM,YAAY,WAChCwM,EAAMqwB,MAAM,WAEZrwB,EAAM+W,SAEN/W,EAAM8gB,WAAa,QAGrB,GAAgBttB,KAAM,eAAe,SAAUwP,GAC7C,IAAI5Q,EACAw2B,EACA0H,EAAYtwB,EAAM8gB,WAClByP,EAAOvtB,EAAMwtB,SAAWxtB,EAAMytB,WAAa,EAE/C,IAAKr+B,EAAI,EAAGw2B,EAAI0H,EAAUl+B,GAAIA,IAC5B,GAAIw2B,EAAE2H,EAAMvtB,GAGV,OAFAA,EAAM4S,sBACN5S,EAAM4B,qBAMZ,GAAgBpR,KAAM,UAAU,WAC9B,IAAInC,EAAO2O,EAAM0wB,MAEbr/B,IACF2O,EAAMqwB,MAAM,UAGZ,QAAStZ,OAAO1lB,EAAM,UAAW2O,EAAM2wB,aAAa,IAGtD3wB,EAAM0wB,MAAQ,QAGhBl9B,KAAKo9B,QAAUjd,GAAU,GACzBngB,KAAKiO,UAAYF,EACjB/N,KAAKq9B,eAAiBlqB,EACtBnT,KAAKstB,WAAa,GAClBvf,EAASK,GAAG,iBAAkBpO,KAAKutB,UACnCxf,EAASK,GAAG,cAAepO,KAAKkpB,OAChCnb,EAASK,GAAG,UAAU,WAChB5B,EAAM4wB,QAAQG,QAChB/wB,EAAM6W,KAAKlD,EAAOod,WAGtBxvB,EAASK,GAAG,SAAUpO,KAAKujB,QAxF/B,IAAsBpX,EAAa4G,EAAYC,EAoK7C,OApKoB7G,EA2FPwwB,GA3FoB5pB,EA2FV,CAAC,CACtBF,IAAK,OACL7U,MAAO,SAAcH,GAEnBmC,KAAKujB,SACLvjB,KAAKk9B,MAAQr/B,EAEb,QAASwlB,KAAKxlB,EAAM,UAAWmC,KAAKm9B,aAAa,GAEjDn9B,KAAK68B,MAAM,UAEZ,CACDhqB,IAAK,aACL7U,MAAO,WACL,OAAOgC,KAAKk9B,QAEb,CACDrqB,IAAK,QACL7U,MAAO,SAAewR,GACpBxP,KAAKiO,UAAUS,KAAK,YAAcc,EAAO,CACvC3R,KAAMmC,KAAKk9B,MACXJ,UAAW98B,KAAKstB,eAGnB,CACDza,IAAK,2BACL7U,MAAO,WACL,IAAI8+B,EAAY98B,KAAKstB,WACjBna,EAAgBnT,KAAKq9B,eAqBzBP,EAAUh8B,MAjBV,SAAc+R,EAAK0pB,GACjB,GAAI,GAAMA,KAAe,GAAQA,IAAsB,KAAR1pB,EAE7C,OADAM,EAAcqqB,QAAQ,SACf,KAeXV,EAAUh8B,MARV,SAAc+R,EAAK0pB,GACjB,GAAI,GAAMA,KAAuB,KAAR1pB,GAAsB,KAARA,GAAc,GAAQ0pB,IAE3D,OADAppB,EAAcqqB,QAAQ,SACf,OAcZ,CACD3qB,IAAK,cACL7U,MAAO,SAAqB2/B,GAC1B39B,KAAKstB,WAAWsQ,QAAQD,KAEzB,CACD9qB,IAAK,iBACL7U,MAAO,SAAwB2/B,GAC7B39B,KAAKstB,WAAattB,KAAKstB,WAAW5lB,QAAO,SAAU0tB,GACjD,OAAOA,IAAMuI,UA/JyD,GAAkBxxB,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoKrP8wB,EAvImB,GA2I5B,GAASpuB,QAAU,CAAC,kBAAmB,WAAY,iBC1KpC,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,YACX6rF,SAAU,CAAC,OAAQ,KCLrB,SAAS,GAAQj9F,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAMzU,SAAS,GAAkB7B,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAKxM,IAAIs1I,GAAmB,CAAC,CACtBt5G,MAAO,SACP19B,MAAO,UACN,CACD09B,MAAO,UACP19B,MAAO,WACN,CACD09B,MAAO,UACP19B,MAAO,WACN,CACD09B,MAAO,OACP19B,MAAO,QACN,CACD09B,MAAO,SACP19B,MAAO,UACN,CACD09B,MAAO,OACP19B,MAAO,SAGL,GAAoD,SAAUiuH,IArClE,SAAmBvgH,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAsCpb,CAAUwoI,EAAsCloB,GAEhD,IA1CoB9/G,EAAa4G,EAAYC,EA0CzCoU,EAAS,GAAa+sH,GAE1B,SAASA,EAAqCnxI,EAAO2M,GACnD,IAAInD,GAjDR,SAAyBN,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAmD5G,CAAgB5L,KAAMm0I,IAEtB3nI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3BmkI,QAAUnkI,EAAQkY,SAASjZ,IAAI,UACrCpC,EAAMkvD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvCpC,EAAMwzH,qBAAuBrwH,EAAQkY,SAASjZ,IAAI,uBAElD,IA2F2BylI,EA3FvBlmB,EAAW3hH,EAAMsnI,QAAQC,cAU7B,OARAvnI,EAAM6zC,MAAQ,CACZpjD,KAAMkxH,EAASx8B,SAAS10F,KACxBu0F,QAAS28B,EAASx8B,SAASH,QAC3B8tC,oBAsFyB+U,EAtFiBlmB,EAAS91E,cAuFhDg8F,GAAqBA,EAAkB/U,mBAAqB+U,EAAkB/U,mBAAmBnhI,mBAAgBK,IArFtHgO,EAAMyoI,gBAAkBzoI,EAAMyoI,gBAAgB5xH,KAAK,GAAuB7W,IAC1EA,EAAM0oI,gBAAkB1oI,EAAM0oI,gBAAgB7xH,KAAK,GAAuB7W,IAC1EA,EAAM6yH,sBAAwB7yH,EAAM6yH,sBAAsBh8G,KAAK,GAAuB7W,IAC/EA,EA2ET,OA3IoBL,EAmEPgoI,GAnEoBphI,EAmEkB,CAAC,CAClDF,IAAK,kBACL7U,MAAO,SAAyBf,GAC9B+C,KAAK07D,UAAUy5E,iBAAiBl4I,GAEhC+C,KAAK6rH,SAAS,CACZ5uH,KAAMA,MAGT,CACD4V,IAAK,kBACL7U,MAAO,SAAyBwzF,GACd,KAAZA,GACFxxF,KAAK07D,UAAU05E,sBAAiB52I,GAEhCwB,KAAK6rH,SAAS,CACZr6B,aAAShzF,MAGXwB,KAAK07D,UAAU05E,iBAAiB5jD,GAEhCxxF,KAAK6rH,SAAS,CACZr6B,QAASA,OAId,CACD3+E,IAAK,wBACL7U,MAAO,SAA+BshI,GACT,KAAvBA,GACFt/H,KAAK07D,UAAUgsE,4BAAuBlpI,GAEtCwB,KAAK6rH,SAAS,CACZyT,wBAAoB9gI,MAGtBwB,KAAK07D,UAAUgsE,uBAAuBpI,GAEtCt/H,KAAK6rH,SAAS,CACZyT,mBAAoBA,OAIzB,CACDzsH,IAAK,SACL7U,MAAO,WACL,IAAIgyH,EAAchwH,KAAKqgD,MACnBi/E,EAAqBtP,EAAYsP,mBACjCriI,EAAO+yH,EAAY/yH,KACnBu0F,EAAUw+B,EAAYx+B,QAEtB6jD,EAAkBr1I,KAAKggI,qBAAqB53F,SAEhD,OAAOmzE,GAAY,EAAG,MAAO,gCAAiCA,GAAY,EAAG,QAAS,KAAM,CAACA,GAAY,EAAG,KAAM,KAAM,CAACA,GAAY,EAAG,KAAM,KAAMS,GAAgB,kBAAmB,GAAIT,GAAY,EAAG,KAAM,KAAMK,GAAqB,EAAG,GAAO,CACnP,UAAa,sBACb,QAAW57G,KAAKi1I,gBAChB,YAAe,OACf,MAASh4I,GAAQ,KACf,IAAK,GAAIs+G,GAAY,EAAG,KAAM,KAAM,CAACA,GAAY,EAAG,KAAM,KAAMS,GAAgB,kBAAmB,GAAIT,GAAY,EAAG,KAAM,KAAMA,GAAY,EAAG,MAAO,eAAgBK,GAAqB,EAAG,GAAa,CAC/M,SAAY57G,KAAKk1I,gBACjB,QAAWF,GACX,MAASxjD,EACT,UAAa,mCACX,GAAI,IAAK,GAAI+pB,GAAY,EAAG,KAAM,KAAM,CAACA,GAAY,EAAG,KAAM,KAAMS,GAAgB,wBAAyB,GAAIT,GAAY,EAAG,KAAM,KAAMA,GAAY,EAAG,MAAO,eAAgBK,GAAqB,EAAG,GAAa,CACzN,SAAY57G,KAAKq/H,sBACjB,QAAWgW,EACX,MAAS/V,EACT,UAAa,yCACX,GAAI,IAAK,IAAK,GAAI,QAvIkD,GAAkBnzH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA2IrPsoI,EApG+C,CAqGtD,ICpJF,SAAS,GAAkB72I,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAK/Q,IAEI,GAAiD,IAAa,SAASmpI,EAAkCjnG,IAL7G,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAM9G,CAAgB5L,KAAMs1I,GAEtBjnG,EAAW0iF,eAAe,SALT,KAKiC,WAChD,OAAO,SAKX,GAAkCxiH,QAAU,CAAC,cCf9B,QACbiC,YAAa,CAAC,GAAe,IAC7BD,SAAU,CAAC,+BACX+jI,4BAA6B,CAAC,OAAQ,KC4EzB,SAAS,GAAavmI,EAAU8Z,GAO7C7nB,KAAK69F,YAAc,GAOnB79F,KAAK89F,OAAS,GAOd99F,KAAK+9F,WAAa,EAUlB/9F,KAAKg+F,kBAAoB,CACvBzqF,QAAS,GACT0qF,MAAO,GACPzgE,QAAS,MAIXx9B,KAAKu4C,UAAY1wB,EACjB7nB,KAAKiO,UAAYF,EAEjB/N,KAAK66B,KAAO,EAEZ9sB,EAASK,GAAG,CACV,kBACA,kBACC,WACDpO,KAAKO,OAAM,KACVP,MChIL,SAAS,GAAkB1C,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IDmI7S,GAAarE,QAAU,CAAE,WAAY,YASrC,GAAa/O,UAAUw/D,QAAU,SAAS1kD,EAAS3K,GACjD,IAAK2K,EACH,MAAM,IAAIva,MAAM,oBAGlBC,KAAKg+F,kBAAkBxgE,QAAU,UAEjC,IAAIvW,EAAS,CAAE3M,QAASA,EAAS3K,QAASA,GAE1C3P,KAAKk+F,YAAYj3E,GACjBjnB,KAAKm+F,iBAAiBl3E,GACtBjnB,KAAKo+F,WAAWn3E,IAwBlB,GAAaznB,UAAUoQ,WAAa,SAAS0K,EAAS3K,GAEpD,IAAIsX,EAAS,CAAE3M,QAASA,EAAS3K,QAASA,GAEtCwT,EAAUnjB,KAAKq+F,YAAY/jF,GAE3BzS,EAAS7H,KAAK68B,MAAMviB,EAAS,aAAc2M,GAI/C,QAAezoB,IAAXqJ,EAAsB,CACxB,IAAKsb,EACH,OAAO,EAGLA,EAAQvT,aACV/H,EAASsb,EAAQvT,WAAWD,IAIhC,OAAO9H,GAOT,GAAarI,UAAUe,MAAQ,SAAS8f,GACtCrgB,KAAK89F,OAAOz+F,OAAS,EACrBW,KAAK+9F,WAAa,GAEL,IAAT19E,GACFrgB,KAAK68B,MAAM,UAAW,CAAEW,QAAS,WAQrC,GAAah+B,UAAU8/D,KAAO,WAC5B,IACIvnD,EADAkP,EAASjnB,KAAKs+F,iBAGlB,GAAIr3E,EAAQ,CAKV,IAJAjnB,KAAKg+F,kBAAkBxgE,QAAU,OAEjCx9B,KAAKk+F,YAAYj3E,GAEVA,IACLjnB,KAAKu+F,cAAct3E,IACnBlP,EAAO/X,KAAKs+F,mBAECvmF,EAAKpP,KAAOse,EAAOte,KAIhCse,EAASlP,EAGX/X,KAAKo+F,eAQT,GAAa5+F,UAAU+/D,KAAO,WAC5B,IACIxnD,EADAkP,EAASjnB,KAAKw+F,iBAGlB,GAAIv3E,EAAQ,CAKV,IAJAjnB,KAAKg+F,kBAAkBxgE,QAAU,OAEjCx9B,KAAKk+F,YAAYj3E,GAEVA,IACLjnB,KAAKm+F,iBAAiBl3E,GAAQ,IAC9BlP,EAAO/X,KAAKw+F,mBAECzmF,EAAKpP,KAAOse,EAAOte,KAIhCse,EAASlP,EAGX/X,KAAKo+F,eAWT,GAAa5+F,UAAUqW,SAAW,SAASyE,EAAS6I,GAClDnjB,KAAKy+F,YAAYnkF,EAAS6I,IAW5B,GAAa3jB,UAAUu/D,gBAAkB,SAASzkD,EAASokF,GAEzD,IAAKpkF,IAAYokF,EACf,MAAM,IAAI3+F,MAAM,0CAGlB,IAAIojB,EAAUnjB,KAAKu4C,UAAU/U,YAAYk7D,GACzC1+F,KAAK6V,SAASyE,EAAS6I,IAGzB,GAAa3jB,UAAUm/F,QAAU,WAC/B,QAAS3+F,KAAKs+F,kBAGhB,GAAa9+F,UAAUo/F,QAAU,WAC/B,QAAS5+F,KAAKw+F,kBAKhB,GAAah/F,UAAUg/F,eAAiB,WACtC,OAAOx+F,KAAK89F,OAAO99F,KAAK+9F,UAAY,IAItC,GAAav+F,UAAU8+F,eAAiB,WACtC,OAAOt+F,KAAK89F,OAAO99F,KAAK+9F,YAM1B,GAAav+F,UAAU++F,cAAgB,SAASt3E,GAC9C,IAAI/b,EAAOlL,KAEPsa,EAAU2M,EAAO3M,QACjB3K,EAAUsX,EAAOtX,QAEjBwT,EAAUnjB,KAAKq+F,YAAY/jF,GAG/Bta,KAAK6+F,WAAU,WACb3zF,EAAK2xB,MAAMviB,EAAS,SAAU2M,GAE1B9D,EAAQ27E,QACV5zF,EAAK6zF,WAAW57E,EAAQ27E,OAAOnvF,IAGjCzE,EAAK8zF,gBAAgB/3E,GAErB/b,EAAK2xB,MAAMviB,EAAS,WAAY2M,OAKpC,GAAaznB,UAAUq9B,MAAQ,SAASviB,EAAS2kF,EAAWzvF,GACtD9L,UAAUrE,OAAS,IACrBmQ,EAAQyvF,EACRA,EAAY,MAGd,IACIrgG,EAAG3B,EAAM4K,EADThJ,EAAQogG,EAAY,CAAE3kF,EAAU,IAAM2kF,EAAWA,GAAc,CAAE3kF,GAKrE,IAFA9K,EAAQxP,KAAKiO,UAAUsd,YAAY/b,GAE9B5Q,EAAI,GAAI3B,EAAO4B,EAAMD,MACxBiJ,EAAS7H,KAAKiO,UAAUS,KAAK,gBAAkBzR,EAAMuS,IAEjDA,EAAMgc,cAHmB5sB,KAQ/B,OAAOiJ,GAGT,GAAarI,UAAU0/F,UAAY,WACjC,OAAOl/F,KAAK66B,QAGd,GAAar7B,UAAUq/F,UAAY,SAASt3F,GAE1C,IAAI43F,EAAYn/F,KAAKg+F,kBAErBmB,EAAUC,QAAS,EAEnB,IACE73F,IACA,QACA43F,EAAUC,QAAS,IAIvB,GAAa5/F,UAAU2+F,iBAAmB,SAASl3E,EAAQs4C,GACzD,IAAIr0D,EAAOlL,KAEPsa,EAAU2M,EAAO3M,QACjB3K,EAAUsX,EAAOtX,QAEjBwT,EAAUnjB,KAAKq+F,YAAY/jF,GAE/B,IAAK6I,EACH,MAAM,IAAIpjB,MAAM,sCAAwCua,EAAU,KAGpEta,KAAKk+F,YAAYj3E,GAEZs4C,IACHv/D,KAAK68B,MAAMviB,EAAS,aAAc2M,GAE9B9D,EAAQ82E,YACV92E,EAAQ82E,WAAWtqF,GAGrB3P,KAAK68B,MAAMviB,EAAS,cAAe2M,IAIrCjnB,KAAK6+F,WAAU,WAEb3zF,EAAK2xB,MAAMviB,EAAS,UAAW2M,GAE3B9D,EAAQ67C,SAGV9zD,EAAK6zF,WAAW57E,EAAQ67C,QAAQrvD,IAIlCzE,EAAKm0F,gBAAgBp4E,EAAQs4C,GAE7Br0D,EAAK2xB,MAAMviB,EAAS,WAAY2M,MAG7Bs4C,IACHv/D,KAAK68B,MAAMviB,EAAS,cAAe2M,GAE/B9D,EAAQm8E,aACVn8E,EAAQm8E,YAAY3vF,GAGtB3P,KAAK68B,MAAMviB,EAAS,eAAgB2M,IAGtCjnB,KAAKo+F,WAAWn3E,IAIlB,GAAaznB,UAAU0+F,YAAc,SAASj3E,GAE5C,IAAIk4E,EAAYn/F,KAAKg+F,kBACjBzqF,EAAU4rF,EAAU5rF,QAEpBgsF,EAAahsF,EAAQ,GAEzB,GAAI4rF,EAAUC,OACZ,MAAM,IAAIr/F,MAAM,8DAAgEknB,EAAO3M,QAAU,KAG9F2M,EAAOte,KACVse,EAAOte,GAAM42F,GAAcA,EAAW52F,IAAO3I,KAAKk/F,aAGpD3rF,EAAQzS,KAAKmmB,IAIf,GAAaznB,UAAU4+F,WAAa,WAClC,IAAIe,EAAYn/F,KAAKg+F,kBACjBxgE,EAAU2hE,EAAU3hE,QACpBjqB,EAAU4rF,EAAU5rF,QACpB0qF,EAAQkB,EAAUlB,MAEtB1qF,EAAQwuB,MAEHxuB,EAAQlU,SACXW,KAAKiO,UAAUS,KAAK,mBAAoB,CAAExH,SAAU,mBAAS,KAAM+2F,EAAMp+D,aAEzEo+D,EAAM5+F,OAAS,EAEfW,KAAK68B,MAAM,UAAW,CAAEW,QAASA,IAEjC2hE,EAAU3hE,QAAU,OAKxB,GAAah+B,UAAUu/F,WAAa,SAAS73F,GAC3C,IAAIi4F,EAAYn/F,KAAKg+F,kBAEhB92F,IAILA,EAAW,kBAAQA,GAAYA,EAAW,CAAEA,GAE5Ci4F,EAAUlB,MAAQkB,EAAUlB,MAAM/kF,OAAOhS,KAI3C,GAAa1H,UAAU6/F,gBAAkB,SAASp4E,EAAQs4C,GACxD,IAAIigC,IAAax/F,KAAK+9F,UAEjBx+B,GACHv/D,KAAK89F,OAAO18F,OAAOo+F,EAAUx/F,KAAK89F,OAAOz+F,OAAQ4nB,IAKrD,GAAaznB,UAAUw/F,gBAAkB,SAAS/3E,GAChDjnB,KAAK+9F,aAIP,GAAav+F,UAAU6+F,YAAc,SAAS/jF,GAC5C,OAAOta,KAAK69F,YAAYvjF,IAG1B,GAAa9a,UAAUi/F,YAAc,SAASnkF,EAAS6I,GACrD,IAAK7I,IAAY6I,EACf,MAAM,IAAIpjB,MAAM,gCAGlB,GAAIC,KAAK69F,YAAYvjF,GACnB,MAAM,IAAIva,MAAM,mCAAqCua,EAAU,KAGjEta,KAAK69F,YAAYvjF,GAAW6I,GC3f9B,IAAI,GAAwB,WAC1B,SAASqnH,EAASxiH,EAAc6yC,EAAQ9sD,GACtC,IAAIvB,EAAQxM,MAXhB,SAAyBkM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAa5G,CAAgB5L,KAAMwqI,GAEtBxqI,KAAK8nB,cAAgBE,EACrBhoB,KAAK8zI,QAAUj5E,EACf76D,KAAKiO,UAAYF,EACjBA,EAASK,GAAG,eAAe,YAwH/B,SAA0BiU,EAAU2F,GAClC,kBAAQ3F,GAAU,SAAUc,EAASxa,GACnCqf,EAAa+2C,gBAAgBp2D,EAAIwa,MAxH/B,CAAiB3W,EAAM6gG,cAAerlF,MAhB5C,IAAsB7b,EAAa4G,EAAYC,EAyH7C,OAzHoB7G,EAoBPq+H,EApBgCx3H,EAgHzC,CAAC,CACHH,IAAK,eACL7U,MAAO,WACL,MAAO,CACL,2BAA4B,QApHD+U,EAoBV,CAAC,CACtBF,IAAK,cACL7U,MAAO,WACL,OAAOwsI,EAASC,iBAEjB,CACD53H,IAAK,cACL7U,MAAO,WACL,OAAOgC,KAAK8zI,QAAQC,gBAErB,CACDlhI,IAAK,mBACL7U,MAAO,SAA0Bf,GAC/B,IACI0S,EAAU,CACZnT,QAFawD,KAAK+zI,cAGlBxxF,WAAY,CACVtlD,KAAMA,IAIV+C,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,iBACL7U,MAAO,SAAwB2K,GAC7B,IACIgH,EAAU,CACZnT,QAFawD,KAAK+zI,cAGlBxxF,WAAY,CACV55C,GAAIA,IAIR3I,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,4BACL7U,MAAO,SAAmCszC,GACxC,IAEI3hC,EAAU,CACZnT,QAHawD,KAAK+zI,cACa17F,cAG/BkK,WAAY,CACVjR,KAAMA,IAIVtxC,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,yBACL7U,MAAO,SAAgCshI,GACrC,IAEI3vH,EAAU,CACZnT,QAHawD,KAAK+zI,cACa17F,cAG/BkK,WAAY,CACV+8E,mBAAoBA,IAIxBt/H,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,mBACL7U,MAAO,SAA0Bf,GAC/B,IAEI0S,EAAU,CACZnT,QAHawD,KAAK+zI,cACIpiD,SAGtBpvC,WAAY,CACVtlD,KAAMA,IAIV+C,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,KAExD,CACDkD,IAAK,mBACL7U,MAAO,SAA0BwzF,GAC/B,IAEI7hF,EAAU,CACZnT,QAHawD,KAAK+zI,cACIpiD,SAGtBpvC,WAAY,CACVivC,QAASA,IAIbxxF,KAAK8nB,cAAck3C,QAAQ,2BAA4BrvD,QA9GiB,GAAkBxD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAyHrP2+H,EApHmB,GAwH5B,GAASj8H,QAAU,CAAC,eAAgB,SAAU,YC9H/B,QACbgC,SAAU,CAAC,mBAAoB,YAC/ByX,aAAc,CAAC,OAAQ,IACvBy7E,iBAAkB,CAAC,OAAQ,IAC3BrwF,SAAU,CAAC,OAAQ,KCPrB,SAAS,GAAQjU,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAIzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAE/Q,SAAS,GAAUT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAEtb,SAAS,GAAgBjM,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAAO,GAAuBV,GAExR,SAAS,GAAuBA,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAI/J,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAKxM,IAAI,GAAuC,SAAUusH,GACnD,GAAUspB,EAAyBtpB,GAEnC,IAAI7kG,EAAS,GAAamuH,GAE1B,SAASA,EAAwBvyI,EAAO2M,GACtC,IAAInD,EAEJ,GAAgBxM,KAAMu1I,IAEtB/oI,EAAQ4a,EAAOlmB,KAAKlB,KAAMgD,EAAO2M,IAC3B+rD,UAAY/rD,EAAQkY,SAASjZ,IAAI,YACvCpC,EAAMsnI,QAAUnkI,EAAQkY,SAASjZ,IAAI,UACrCpC,EAAMgpI,0BAA4BhpI,EAAMgpI,0BAA0BnyH,KAAK,GAAuB7W,IAC9FA,EAAM8/G,kBAAoB9/G,EAAM8/G,kBAAkBjpG,KAAK,GAAuB7W,IAE9E,IACI7D,EADwB6D,EAAMipI,uBACH9sI,GAG/B,OADAgH,EAAQ+vF,cAAc4sB,kBAAkB3jH,EAAI6D,EAAM8/G,mBAC3C9/G,EAiCT,OA9BA,GAAa+oI,EAAyB,CAAC,CACrC1iI,IAAK,uBACL7U,MAAO,WACL,OAAOgC,KAAK8zI,QAAQC,cAAc17F,gBAEnC,CACDxlC,IAAK,oBACL7U,MAAO,WACLgC,KAAK4rH,gBAEN,CACD/4G,IAAK,4BACL7U,MAAO,SAAmCszC,GACxCtxC,KAAK07D,UAAU85E,0BAA0BlkG,KAE1C,CACDz+B,IAAK,SACL7U,MAAO,WAEL,IACIszC,EADyBtxC,KAAKy1I,uBACAnkG,KAElC,OAAOsqE,GAAqB,EAAG,GAAQ,CACrC,UAAa,kBACb,MAAStqE,EACT,SAAYtxC,KAAKw1I,gCAKhBD,EArDkC,CAsDzC,IAIE,GAAsB,SAAUhd,GAClC,GAAUyO,EAAQzO,GAElB,IAAIE,EAAU,GAAauO,GAE3B,SAASA,IAGP,OAFA,GAAgBhnI,KAAMgnI,GAEfvO,EAAQl5G,MAAMvf,KAAM0D,WAU7B,OAPA,GAAasjI,EAAQ,CAAC,CACpBn0H,IAAK,SACL7U,MAAO,WACL,OAAOu9G,GAAY,EAAG,MAAOv7G,KAAKw3H,eAAgBx3H,KAAK04H,YAAa,OAIjEsO,EAlBiB,CAmBxB,ICxGF,SAAS,GAAkB1pI,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAE7S,SAAS,GAAazG,EAAa4G,EAAYC,GAAyN,OAAtMD,GAAY,GAAkB5G,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAAiBM,EAM/Q,IAAI,GAAwB,IAAa,SAASqoI,EAASnmG,IAJ3D,SAAyBniC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAK9G,CAAgB5L,KAAMw0I,GAEtBnmG,EAAW0iF,eAAe,UAAU,WAClC,OAAO,SAKX,GAASxiH,QAAU,CAAC,cCfL,QACbiC,YAAa,CAAC,IACdD,SAAU,CAAC,YACXkkI,SAAU,CAAC,OAAQ,KCLrB,SAAS,GAAQt1I,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,SAAS,GAAmBD,GAAO,OAQnC,SAA4BA,GAAO,GAAIiF,MAAMC,QAAQlF,GAAM,OAAO,GAAkBA,GAR1C,CAAmBA,IAM7D,SAA0Bg7C,GAAQ,GAAsB,oBAAXpvC,QAAmD,MAAzBovC,EAAKpvC,OAAOC,WAA2C,MAAtBmvC,EAAK,cAAuB,OAAO/1C,MAAMmU,KAAK4hC,GANjF,CAAiBh7C,IAItF,SAAqCQ,EAAGyY,GAAU,IAAKzY,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAO,GAAkBA,EAAGyY,GAAS,IAAIE,EAAIvZ,OAAOU,UAAUD,SAAS2B,KAAKxB,GAAGmH,MAAM,GAAI,GAAc,WAANwR,GAAkB3Y,EAAEsL,cAAaqN,EAAI3Y,EAAEsL,YAAY/N,MAAM,GAAU,QAANob,GAAqB,QAANA,EAAa,OAAOlU,MAAMmU,KAAK5Y,GAAI,GAAU,cAAN2Y,GAAqB,2CAA2ChX,KAAKgX,GAAI,OAAO,GAAkB3Y,EAAGyY,GAJxT,CAA4BjZ,IAE1H,WAAgC,MAAM,IAAI0M,UAAU,wIAF8E,GAUlI,SAAS,GAAkB1M,EAAKuZ,IAAkB,MAAPA,GAAeA,EAAMvZ,EAAIG,UAAQoZ,EAAMvZ,EAAIG,QAAQ,IAAK,IAAIT,EAAI,EAAG8Z,EAAO,IAAIvU,MAAMsU,GAAM7Z,EAAI6Z,EAAK7Z,IAAO8Z,EAAK9Z,GAAKM,EAAIN,GAAM,OAAO8Z,EAEhL,SAAS,GAAgBxM,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GAUxM,IAAI,GAAsB,SAAUk0I,IAtBpC,SAAmBloI,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAuBpb,CAAUq7H,EAAQ4M,GAElB,IA3BoBznI,EAAa4G,EAAYC,EA2BzCoU,EAAS,GAAa4/G,GAE1B,SAASA,IAGP,OAFA,GAAgBhnI,KAAMgnI,GAEf5/G,EAAO7H,MAAMvf,KAAM0D,WAe5B,OA/CoByI,EAmCP66H,EAnCgCh0H,EAwCzC,CAAC,CACHH,IAAK,cACL7U,MAAO,WACL,MAAO,CAAC,GAAgC,GAAgB,GAAyC,GAAgB,GAA2B,QA3C/G+U,EAmCZ,CAAC,CACpBF,IAAK,aACL7U,MAAO,WACL,MAAO,GAAGkb,OAAO,GAAmB,GAAO28G,eAAgB,GAAmBmR,EAAOnR,qBAtCb,GAAkB1pH,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IA+CrPm7H,EAvBiB,CAwBxB,IClEF,SAAS,GAAQ7nI,GAAkC,OAAO,GAAU,mBAAqB2L,QAAU,iBAAmBA,OAAOC,SAAW,SAAU5L,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB2L,QAAU3L,EAAI6L,cAAgBF,QAAU3L,IAAQ2L,OAAOtL,UAAY,gBAAkBL,IAAgBA,GAEzU,SAAS,GAAgB+M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAAS,GAAkBtO,EAAQ0F,GAAS,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM3D,OAAQT,IAAK,CAAE,IAAIgU,EAAa5P,EAAMpE,GAAIgU,EAAWnG,WAAamG,EAAWnG,aAAc,EAAOmG,EAAW9G,cAAe,EAAU,UAAW8G,IAAYA,EAAW/G,UAAW,GAAM/M,OAAOuN,eAAe/O,EAAQsV,EAAWC,IAAKD,IAM7S,SAAS,GAAgBlT,EAAGsM,GAA+G,OAA1G,GAAkBlN,OAAOuM,gBAAkB,SAAyB3L,EAAGsM,GAAsB,OAAjBtM,EAAE6L,UAAYS,EAAUtM,IAA6BA,EAAGsM,GAErK,SAAS,GAAaqa,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQnnB,UAAUonB,QAAQ1lB,KAAKqlB,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOlpB,GAAK,OAAO,GAN9P,GAA6B,OAAO,WAAkC,IAAsCoK,EAAlCif,EAAQ,GAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAY,GAAgB/mB,MAAMgL,YAAanD,EAAS0e,QAAQC,UAAUM,EAAOpjB,UAAWqjB,QAAqBlf,EAASif,EAAMvH,MAAMvf,KAAM0D,WAAc,OAAO,GAA2B1D,KAAM6H,IAE5Z,SAAS,GAA2BqD,EAAMhK,GAAQ,GAAIA,IAA2B,WAAlB,GAAQA,IAAsC,mBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAI0K,UAAU,4DAA+D,OAE1P,SAAgCV,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIM,eAAe,6DAAgE,OAAON,EAFkG,CAAuBA,GAMxR,SAAS,GAAgBxL,GAAwJ,OAAnJ,GAAkBZ,OAAOuM,eAAiBvM,OAAOwM,eAAiB,SAAyB5L,GAAK,OAAOA,EAAE6L,WAAazM,OAAOwM,eAAe5L,KAA8BA,GApBxM,mCAgCA,IAAI,GAAuB,SAAUg2I,IAxBrC,SAAmBhqI,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIC,UAAU,sDAAyDF,EAASlM,UAAYV,OAAO6D,OAAOgJ,GAAcA,EAAWnM,UAAW,CAAEwL,YAAa,CAAEhN,MAAO0N,EAAUG,UAAU,EAAMC,cAAc,KAAWhN,OAAOuN,eAAeX,EAAU,YAAa,CAAEG,UAAU,IAAcF,GAAY,GAAgBD,EAAUC,GAyBpb,CAAUgqI,EAASD,GAEnB,IA7BoBvpI,EAAa4G,EAAYC,EA6BzCoU,EAAS,GAAauuH,GAE1B,SAASA,IAGP,OAFA,GAAgB31I,KAAM21I,GAEfvuH,EAAO7H,MAAMvf,KAAM0D,WAkD5B,OApFoByI,EAqCPwpI,GArCoB5iI,EAqCX,CAAC,CACrBF,IAAK,oBACL7U,MAAO,WACL,MAAO,CAAC,CACN2K,GAAI,MACJqC,YAAa,GACbivD,MAAO,mBACN,CACDtxD,GAAI,gBACJqC,YAAa,GACbivD,MAAO,SAAez9D,GACpB,OAAO,YAAGA,EAAS,iBAAmB,YAAGA,EAAQ67C,cAAe,uBAEjE,CACD1vC,GAAI,oBACJqC,YAAa,GACbivD,MAAO,SAAez9D,GACpB,OAAO,YAAGA,EAAS,iBAAmB,YAAGA,EAAQ67C,cAAe,8BAIrE,CACDxlC,IAAK,kBACL7U,MAAO,SAAyBk5D,GAG9B,IAFA,IAAI0+E,EAEKh3I,EAAI,EAAGA,EAAIs4D,EAAM73D,OAAQT,IAAK,CACrC,IAAIm6C,EAAOme,EAAMt4D,GACbgB,EAAKm5C,EAAKv8C,QAEd,GAAI,YAAGoD,EAAI,gBACT,OAAOm5C,EAGT,GAAI,YAAGn5C,EAAI,qBACTg2I,EAAkB78F,EAEd,aAAWn5C,IACb,OAAOm5C,EAKb,OAAO68F,GAAmB1+E,EAAM,QAhFwC,GAAkB/qD,EAAY3M,UAAWuT,GAAiBC,GAAa,GAAkB7G,EAAa6G,GAAclU,OAAOuN,eAAeF,EAAa,YAAa,CAAEN,UAAU,IAoFrP8pI,EA1DkB,CA2DzB,I,gECvEF,SAASE,EAAoB9nI,EAAUmM,GACrC,IAAIhP,EAAOlL,KAEXka,EAAWA,GArBU,IAuBrBnM,EAASK,GAAG,iCAAkC8L,GAAU,SAASzc,GAC/D,OAAOyN,EAAK4qI,eAAer4I,EAAE6+D,MAAO7+D,EAAEjB,YAGxCuR,EAASK,GAAG,qCAAsC8L,GAAU,SAASzc,GACnE,OAAOyN,EAAK6qI,mBAAmBt4I,EAAE6+D,MAAO7+D,EAAE6oD,aAAc7oD,EAAEjB,YAI9Dq5I,EAAoBtnI,QAAU,CAAE,YAEjB,QAafsnI,EAAoBr2I,UAAUs2I,eAAiB,SAASx5E,EAAO9/D,GAC7D,OAAO,GAcTq5I,EAAoBr2I,UAAUu2I,mBAAqB,SAASz5E,EAAOhW,EAAc9pD,GAC/E,OAAO,G,8BCtDM,SAASw5I,EAAsBnlB,GAc5C,IATA,IAMIjmH,EACAqrI,EAAM3kG,EAPN4kG,EAAU,GAGVC,EAAU,8FAEVl3I,EAAQ,EAIJ2L,EAAQurI,EAAQrpF,KAAK+jE,IAGvBjmH,EAAM3L,MAAQA,GAChBi3I,EAAQp1I,KAAKs1I,EAAWvlB,EAAY5uH,UAAUhD,EAAO2L,EAAM3L,SAG7Dg3I,EAAOrrI,EAAM,IAAMyrI,UAAUzrI,EAAM,KAAOA,EAAM,GAChD0mC,EAAO1mC,EAAM,IAAMA,EAAM,GAGzBsrI,EAAQp1I,KAAK,YAAcm1I,EAAO,qBAAuBG,EAAW9kG,GAAQ,QAE5EryC,EAAQ2L,EAAM3L,MAAQ2L,EAAM,GAAGvL,OAQjC,OAJIJ,EAAQ4xH,EAAYxxH,QACtB62I,EAAQp1I,KAAKs1I,EAAWvlB,EAAY5uH,UAAUhD,KAGzC,sCAAwCi3I,EAAQj1I,KAAK,IAAM,SAGpE,SAASm1I,EAAW9kG,GAMlB,IALA,IAAI1mC,EAAO3L,EAAQ,EAAGi3I,EAAU,GAG5BC,EAAU,eAENvrI,EAAQurI,EAAQrpF,KAAKxb,IAEvB1mC,EAAM3L,MAAQA,GAChBi3I,EAAQp1I,KAAK,YAAWwwC,EAAKrvC,UAAUhD,EAAO2L,EAAM3L,SAGtDi3I,EAAQp1I,KAAK,UAEb7B,EAAQ2L,EAAM3L,MAAQ2L,EAAM,GAAGvL,OAOjC,OAJIJ,EAAQqyC,EAAKjyC,QACf62I,EAAQp1I,KAAK,YAAWwwC,EAAKrvC,UAAUhD,KAGlCi3I,EAAQj1I,KAAK,IC/DtB,IA2Ee,EA3EC,SAAS4M,EAASyoI,GAGhC,IAeIC,EAAWD,EACX56G,EAAQ7tB,EAAQ6tB,OAAS66G,EAAS5tI,GAClC6tI,EAAiB3oI,EAAQ2oI,eACzBC,EAAe5oI,EAAQ4oI,aAAe,IACtC5kD,OAA6C,IAAxBhkF,EAAQ6oI,aAA+B7oI,EAAQ6oI,aAAaz5I,KAAO,QACxF05I,OAA+C,IAAxB9oI,EAAQ6oI,aAA+B7oI,EAAQ6oI,aAAap7E,OApB7D,SAAS9+D,EAAS2hI,GAI1C,OAHY,gBAAS,eAAiBtwH,EAAQ+oI,cAAgB,KAAMzY,GAC9DngI,MAAQ,IAEP,GAiBL64I,OAAyC,IAAtBhpI,EAAQipI,WAA6BjpI,EAAQipI,WAAW75I,KAAO,WAClF85I,OAA2C,IAAtBlpI,EAAQipI,WAA6BjpI,EAAQipI,WAAWx7E,OAdzD,SAAS9+D,EAAS2hI,GAGxC,MAAuB,KAFX,gBAAS,eAAiBtwH,EAAQ+oI,cAAgB,KAAMzY,GAEvDngI,OAYXg5I,IAAkBnpI,EAAQ8iF,UAAwC,mBAArB9iF,EAAQ8iF,SACrDsmD,IAAgBppI,EAAQyC,QAAoC,mBAAnBzC,EAAQyC,OACjDugH,EAAchjH,EAAQgjH,YA4C1B,OA1CA0lB,EAAS1sH,KACP,uBAAyB,YAAW0sH,EAAS5tI,IAAM,MAChDquI,EAAgB,6BAA+B,KAC/CC,EAAc,wBAA0B,KACxCT,EAAiB,eAAiB,YAAWA,GAAkB,IAAM,IAAM,IAAK,YAAW96G,GAH9F,2CAKGs7G,EAAgB,4BAA8B,KAC9CC,EAAc,uBAAyB,IAN1C,uBAQ0B,YAAWV,EAAS5tI,IAAM,uBAAyB,YAAWkF,EAAQ+oI,eAAiB,MAC5GI,EAAgB,4BAA8B,KAC9CC,EAAc,uBAAyB,IAV5C,qBAYsB,YAAWplD,GAAc,kBAAoB,YAAWA,GAAc,gBAAkB,YAAWglD,GAAY,MAChIG,EAAgB,4BAA8B,KAC9CC,EAAc,wBAA0B,IAd7C,UAee,YAAWR,GAf1B,yBAoBE5lB,IACF0lB,EAAS1sH,MAAQmsH,EAAsBnlB,IAGzC0lB,EAAS1kD,GAAc8kD,EACvBJ,EAASM,GAAYE,EAEjBC,IACFT,EAAS/J,WAAa,WACpB,OAAO3+H,EAAQ8iF,SAASpxE,MAAMg3H,EAAU7yI,aAIxCuzI,IACFV,EAASW,SAAW,WAClB,OAAQrpI,EAAQyC,OAAOiP,MAAMg3H,EAAU7yI,aAI3C6yI,EAASY,WAAa,CAAC,iBAEhBZ,GC7ELa,EAAY,GACD,IAEfA,EAAU9hD,iBAAmB,SAAS94F,EAAS+lD,GAC7C,MAAO,CACL80F,IAAK,2BACL1nI,QAAS,CAAEnT,QAASA,EAAS+lD,WAAYA,KCA7C,IAkEe,EAlEA,SAAS10C,EAASyoI,GAC/B,IAAIC,EAAWD,EACX56G,EAAQ7tB,EAAQ6tB,OAAS66G,EAAS5tI,GAClCquI,IAAkBnpI,EAAQ8iF,UAAwC,mBAArB9iF,EAAQ8iF,SACrDsmD,IAAgBppI,EAAQyC,QAAoC,mBAAnBzC,EAAQyC,OACjDugH,EAAchjH,EAAQgjH,YA0D1B,OAxDA0lB,EAAS1sH,KACP,sBAAwB,YAAW0sH,EAAS5tI,IAA5C,2BAEgB,YAAWkF,EAAQ+oI,eAAiB,MAC9CI,EAAgB,4BAA8B,KAC9CC,EAAc,uBAAyB,IAJ7C,0BAMyB,YAAWV,EAAS5tI,IAAM,MAC7CquI,EAAgB,4BAA8B,KAC9CC,EAAc,uBAAyB,IACxC,IAAM,YAAWv7G,GAAS,WAG7Bm1F,IACF0lB,EAAS1sH,MAAQmsH,EAAsBnlB,IAGzC0lB,EAAS3nI,IAAM,SAASpS,GACtB,IAAIE,EAAK,YAAkBF,GACvBkzB,EAAM,GAIV,OAFAA,EAAI7hB,EAAQ+oI,eAAiBl6I,EAAGkS,IAAIf,EAAQ+oI,eAErClnH,GAGT6mH,EAAS/6G,IAAM,SAASh/B,EAASyyD,GAC/B,IAAIv/B,EAAM,GAIV,OAFAA,EAAI7hB,EAAQ+oI,iBAAmB3nF,EAAOphD,EAAQ+oI,eAEvC,EAAUthD,iBAAiB94F,EAASkzB,IAGlB,mBAAhB7hB,EAAQ2tB,MACjB+6G,EAAS/6G,IAAM3tB,EAAQ2tB,KAGE,mBAAhB3tB,EAAQe,MACjB2nI,EAAS3nI,IAAMf,EAAQe,KAGrBooI,IACFT,EAAS/J,WAAa,WACpB,OAAO3+H,EAAQ8iF,SAASpxE,MAAMg3H,EAAU7yI,aAIxCuzI,IACFV,EAASW,SAAW,WAClB,OAAQrpI,EAAQyC,OAAOiP,MAAMg3H,EAAU7yI,aAI3C6yI,EAASY,WAAa,CAAC,gBAEhBZ,G,kBC+DM,EAlGC,SAAS1oI,EAASyoI,GAChC,IAAIC,EAAWD,EACX56G,EAAQ7tB,EAAQ6tB,OAAS66G,EAAS5tI,GAClC2uI,EAAgBzpI,EAAQypI,eAAiB,CAAE,CAAEr6I,KAAM,GAAIe,MAAO,KAC9D44I,EAAgB/oI,EAAQ+oI,cACxBW,EAAiB1pI,EAAQ0pI,eACzBP,IAAkBnpI,EAAQ8iF,UAAwC,mBAArB9iF,EAAQ8iF,SACrDsmD,IAAgBppI,EAAQyC,QAAoC,mBAAnBzC,EAAQyC,OACjDugH,EAAchjH,EAAQgjH,YAuF1B,OApFI0mB,IACFD,EAAkCA,EAhCxBp+H,OAAO,CAAE,CAAEjc,KAAM,GAAIe,MAAO,OAoCxCu4I,EAAS1sH,KACP,uBAAyB,YAAW0sH,EAAS5tI,IAAM,KAClDquI,EAAgB,6BAA+B,KAC/CC,EAAc,wBAA0B,IACzC,IAAMv7G,EAHN,+BAIyB,YAAW66G,EAAS5tI,IAAM,kBAAoB,YAAWiuI,GAAiB,KAClGI,EAAgB,6BAA+B,KAC/CC,EAAc,wBAA0B,IACzC,eAjDS,SAASh3I,GACpB,SAAUA,GAAiD,mBAAzCnB,OAAOU,UAAUD,SAAS2B,KAAKjB,IAkD7Cu3I,CAAOF,IACT,IAAQA,GAAe,SAASplD,GAC9BqkD,EAAS1sH,MAAQ,kBAAoB,YAAWqoE,EAAOl0F,OAAS,MAAQk0F,EAAOj1F,KAAO,YAAWi1F,EAAOj1F,MAAQ,IAAM,eAI1Hs5I,EAAS1sH,MAAQ,YAGbgnG,GAAkD,mBAA5BhjH,EAAQ4pI,kBAChClB,EAAS1sH,MAAQmsH,EAAsBnlB,IAezC0lB,EAASmB,gBAAkB,SAASl7I,EAASm7I,EAAWxZ,EAAWyZ,EAAW3iD,GAC5E,GAA6B,mBAAlBqiD,EAA8B,CAEvC,IAAIzpI,EAAUypI,EAAc96I,EAAS2hI,GAErC,GAAItwH,EAAS,CAGX,KAAOswH,EAAU19H,YACf09H,EAAU79H,YAAY69H,EAAU19H,YAIlC,IAAQoN,GAAS,SAASqkF,GACxB,IAAIxwE,EAAW,iBAlFN,SAASwwE,GAC1B,MAAO,kBAAoB,YAAWA,EAAOl0F,OAAS,KAAO,YAAWk0F,EAAOj1F,MAAQ,YAiFzD46I,CAAa3lD,IAEnCisC,EAAUxgI,YAAY+jB,YAQXljB,IAAby2F,IACFkpC,EAAUngI,MAAQi3F,IAKlB+hD,IACFT,EAAS/J,WAAa,WACpB,OAAO3+H,EAAQ8iF,SAASpxE,MAAMg3H,EAAU7yI,aAIxCuzI,IACFV,EAASW,SAAW,WAClB,OAAQrpI,EAAQyC,OAAOiP,MAAMg3H,EAAU7yI,aAI3C6yI,EAASY,WAAa,CAAC,gBAEhBZ,G,oCCjBM,EAtFA,SAAS1oI,GAEtB,IAAIypI,EAAgBzpI,EAAQypI,cACxBV,EAAgB/oI,EAAQ+oI,cACxBkB,EAAcjqI,EAAQiqI,aAAe,SACrCC,EAAalqI,EAAQkqI,YAAc,UAAYnB,EAC/C/lB,EAAchjH,EAAQgjH,YAetBmnB,EAAe,IAAO,GAAInqI,GAG9BmqI,EAAaP,gBAAkB,SAASj7I,EAASqB,GAC/C,IAAIo6I,EAAY,gBAAS,gBAAiBpqI,EAAQlF,GAAI,YAAa9K,EAAKwC,YAExE,QAAI43I,GACKA,EAAUj6I,QAAU85I,GAM/BE,EAAappI,IAAM,SAASpS,EAASqB,GACnC,IAAIG,EAAQ6P,EAAQe,IAAIpS,EAASqB,GAE7Bq6I,EAAiB,GAErB,OA9BkB,SAASl6I,GAC3B,YAAoC,IAAzBA,EAAM44I,KAID,IAAKU,GAAe,SAASplD,GAC3C,OAAOl0F,EAAM44I,KAAmB1kD,EAAOl0F,SAwBpCm6I,CAAcn6I,IAMnBk6I,EAAetB,GAAiBkB,EAChCI,EAAe,UAAUtB,GAAiB54I,EAAM44I,GAEzCsB,IARLA,EAAetB,GAAiB54I,EAAM44I,IAAkB,GAEjDsB,IASXF,EAAax8G,IAAM,SAASh/B,EAASyyD,EAAQpxD,GAC3C,IAAIq6I,EAAiB,GAYrB,OARIjpF,EAAO2nF,KAAmBkB,EAC5BI,EAAetB,GAAiB3nF,EAAO,UAAY2nF,IAAkB,GAE9D/oI,EAAQ0pI,gBAA4C,KAA1BtoF,EAAO2nF,GACxCsB,EAAetB,QAAiBp4I,EAEhC05I,EAAetB,GAAiB3nF,EAAO2nF,GAElC/oI,EAAQ2tB,IAAIh/B,EAAS07I,EAAgBr6I,IAG9Cm6I,EAAaV,cAAcx2I,KAAK,CAAE7D,KAAM86I,EAAY/5I,MAAO85I,IAE3D,IAAIM,EAAgB,IAAO,GAAI,EAAmBJ,EAAcA,IAchE,OAZAI,EAAcvuH,MAAQ,iGAGI,YAAWhc,EAAQlF,IAAM,oCAAsC,YAAWiuI,GAH9E,cAQlB/lB,IACFunB,EAAcvuH,MAAQmsH,EAAsBnlB,IAGvCunB,GCxEM,EAlCD,SAASvqI,EAASyoI,GAE9B,IAAIC,EAAWD,EACX56G,EAAQ7tB,EAAQ6tB,OAAS66G,EAAS5tI,GAClC0vI,IAAexqI,EAAQ8a,MAAgC,mBAAjB9a,EAAQ8a,KAC9CkoG,EAAchjH,EAAQgjH,YA0B1B,OAxBA0lB,EAAS1sH,KACP,uBAAyB0sH,EAAS5tI,GAAK,MACtC0vI,EAAa,sBAAwB,IACtC,IAAM,YAAW38G,GAFjB,2CAIC28G,EAAa,sBAAwB,IAJtC,4CAM+C,YAAW9B,EAAS5tI,IANnE,WAOmB,YAAWkF,EAAQ+oI,eAPtC,aAWE/lB,IACF0lB,EAAS1sH,MAAQmsH,EAAsBnlB,IAGrCwnB,IACF9B,EAASxmI,QAAU,WACjB,OAAOlC,EAAQ8a,KAAKpJ,MAAMg3H,EAAU7yI,aAIxC6yI,EAASY,WAAa,CAAC,eAEhBZ,GCmBM,EA9CgB,SAAS1oI,EAASyoI,GAE/C,IAAIM,EAAgB/oI,EAAQ+oI,cAE5BN,EAAkB1nI,IAAM,SAASpS,EAASqB,GACxC,IAAIG,EAAQgC,KAAKs4I,0BAEVt4I,KAAKs4I,mBAEZ,IAAI/1F,EAAa,GAIjB,OAFAA,EAAWq0F,QAA2Bp4I,IAAVR,EAAsBA,EAAQ6P,EAAQ0qI,YAAY/7I,EAASqB,GAEhF0kD,GAGT+zF,EAAkB96G,IAAM,SAASh/B,EAASyyD,EAAQpxD,GAChD,IAAI26I,EAAmBxzF,EAASzlC,MAAMvf,KAAM,CAAExD,EAASyyD,EAAQpxD,IAC3DmtI,EAAgB/7E,EAAO2nF,GAG3B,GAAI4B,GAAoBA,EAAiB5B,GAGvC,OAFA52I,KAAKs4I,mBAAqBtN,EAEnBn9H,EAAQ4qI,YAAYj8I,EAAS,GAAIqB,GAExC,IAAI0kD,EAAa,GAIjB,OAFAA,EAAWq0F,GAAiB5L,EAErBn9H,EAAQ4qI,YAAYj8I,EAAS+lD,EAAY1kD,IAIpD,IAAImnD,EAAWsxF,EAAkBtxF,SAAW,SAASxoD,EAASyyD,EAAQpxD,GACpE,IAAIG,EAAQixD,EAAO2nF,IAAkB52I,KAAKs4I,mBAEtC9oH,EAAW,GAGf,OAFAA,EAASonH,GAAiB54I,EAEnB6P,EAAQm3C,SAASxoD,EAASgzB,EAAU3xB,IAG7C,OAAO,EAAUgQ,EAASyoI,I,sDC1B5B,SAASoC,EAAuBn2F,EAAYu5E,GAC1C,IAAIp6G,EANsB,gDAW1B,OAJAA,GAOF,SAA6B6gC,EAAYu5E,GACvC,IAAI6c,EAAUp2F,EAAWljD,OACrBqiB,EAAW,GAQf,OAPA,IAAQ6gC,GAAY,SAAS30C,GAC3B8T,GAAY,uCAAyCi3H,EAAU,KACnC7c,EAAY,0BAA4B,IADxD,+DAIkB,YAAWluH,GAAQ,UAE5C8T,EAjBKk3H,CAAoBr2F,EAAYu5E,GAC5Cp6G,GAAYo6G,EAPkB,4EAOsB,GACpDp6G,GAAY,SAkBd,SAASm3H,EAAuBt9G,GAC9B,IAAI7Z,EA5BsB,gDAgC1B,OAHAA,GAMF,SAA6B6Z,GAC3B,IAAIo9G,EAAUp9G,EAAOl8B,OACjBqiB,EAAW,GAIf,OAHA,IAAQ6Z,GAAQ,SAASG,GACvBha,GAAY,uCAAyCi3H,EAAU,KAAO,YAAWj9G,GAAS,cAErFha,EAZKo3H,CAAoBv9G,GAChC7Z,GAAY,SAwBd,SAASihE,EAAKnmF,EAASqB,EAAMoxD,EAAQ8pF,EAAWC,GAC9C,OAAO,IAAO/pF,GAAQ,SAASjxD,EAAOgJ,GACpC,OAIJ,SAAoBxK,EAASqB,EAAMG,EAAOi7I,EAAUD,EAAUhyI,GAC5D,GAAIhJ,IAAUi7I,EACZ,OAAO,EAIT,OAFc,IAAKj7I,GAAOkb,OAAO,IAAK+/H,IAEvBC,OAAM,SAASrmI,GAC5B,IAAIwF,EAAIra,EAAM6U,SAAQrU,EAClBkB,EAAIu5I,EAASpmI,SAAQrU,EACzB,OAAQw6I,EAASx8I,EAASqB,EAAMgV,EAAK7L,IAAQqR,IAAM3Y,KAb3Cy5I,CAAW38I,EAASqB,EAAMG,EAAO+6I,EAAU/xI,GAAMgyI,EAAUhyI,MAiBvE,SAASoyI,EAAav7I,GACpB,OAAO,kBAAWA,EAAM,gBAAgB,GAG1C,SAASmrB,EAAanrB,GACpB,OAAO,gBAAS,iCAAkCA,GA+BrC,kBAEb,IAAI8K,EAAKkF,EAAQlF,GACb0wI,EAAkBxrI,EAAQwrI,gBAC1B99G,EAAS1tB,EAAQ0tB,OACjBs1F,EAAchjH,EAAQgjH,YAEtByoB,EAAWT,EAAuBt9G,GAElCg+G,EAAc1rI,EAAQ0rI,YAEtBC,EAAgB3rI,EAAQ2rI,cACxB1d,EAAqC,mBAAlB0d,EAEnB5rF,EAAa//C,EAAQ+/C,WACrBvmD,EAA+B,mBAAfumD,EAChB6rF,EAAW5rI,EAAQ4rI,UAAY,YAE/BC,EAAgB7rI,EAAQ6rI,cACxBC,EAAqC,mBAAlBD,EAEnBV,EAAWnrI,EAAQmrI,UAAY,WAAa,OAAO,GACnDtB,EAAkB7pI,EAAQ6pI,gBAE1B/uH,EAAO9a,EAAQ8a,KACf0vH,EAA6B,mBAAT1vH,EAEpBzhB,EAAW,SAAS1K,EAASqB,GAC/B,OA7FJ,SAAcqJ,EAAUq7C,GACtB,OAAQr7C,GAAY,IAAI4T,KAAI,SAAS8+H,GACnC,IAAI7pF,EAAa,GAIjB,OAHA,IAAQxN,GAAY,SAAS30C,GAC3BmiD,EAAWniD,GAAQgsI,EAAKhsI,IAAS,MAE5BmiD,KAuFA8pF,CAAKN,EAAY/8I,EAASqB,GAAOw7I,IAGtC72G,EAAU,CACZ75B,GAAIA,EACJkhB,MAAOxiB,EACL,mCAAqCgxI,EAAa,mBAAqB,IAAvE,WACc,YAAWoB,GADzB,qFAGW,IAJP,6FAOEH,EAPF,qDAcHzoB,EAAcmlB,EAAsBnlB,GAAe,IAEtDjiH,IAAK,SAASpS,EAASqB,GACrB,IAAIi8I,EAAa5yI,EAAS1K,EAASqB,EAAMmC,KAAK+5I,iBAE1CC,EAAgBh6I,KAAK+5I,gBAYzB,cAVO/5I,KAAK+5I,gBAEZ,IAAQC,GAAe,SAASh8I,EAAOgJ,GACrC,IAAIxK,EAAUs9I,EAAW9yI,GAEzB,IAAQqyI,GAAiB,SAASzrI,GAChCpR,EAAQoR,GAAQ5P,EAAM4P,SAInBksI,GAGTt+G,IAAK,SAASh/B,EAASyyD,EAAQpxD,GAC7B,IAAIopB,EAASjnB,KAAKi6I,UAAY,GAG9B,UAFOj6I,KAAKi6I,SAEM,mBAAdhzH,EAAOte,GACT,OAAO6wI,EAAch9I,EAASqB,EAAMopB,EAAOjgB,KAExC,GAAkB,gBAAdigB,EAAOte,GACd,OAAOilD,EAAWpxD,EAASqB,GAExB,GAAI87I,EAAW,CAClB,IAAIO,EAAW,GACXC,EAAmBlrF,EAES,mBAArBphD,EAAQm3C,WACjBm1F,EAAmBx3D,EAAKnmF,EAASqB,EAAMoxD,EAAQ/nD,EAAS1K,EAASqB,GAAOm7I,IAG1E,IAAI9tI,EAAOlL,KA2BX,OAzBA,IAAQm6I,GAAkB,SAASn8I,GACjC,IAAIo8I,EACApzI,EAAMioD,EAAO7vD,QAAQpB,GAMzB,GAJgC,mBAArB6P,EAAQm3C,WACjBo1F,EAAkBvsI,EAAQm3C,SAASxoD,EAASwB,EAAOH,EAAMmJ,IAGtDozI,EASHlvI,EAAK6uI,gBAAkB7uI,EAAK6uI,iBAAmB,GAC/C7uI,EAAK6uI,gBAAgB/yI,GAAOhJ,EAG5Bk8I,EAASp5I,KAAK,EAAUw0F,iBAAiB94F,EAAS,SAb9B,CACpB,IAAI66I,EAAMqC,EAAcl9I,EAASwB,EAAOH,EAAMmJ,GAE1CqwI,GACF6C,EAASp5I,KAAKu2I,OAab6C,IAGXG,wBAAyB,SAASr8I,EAAOiB,EAAOg5I,GAC9C,OAAOS,EAAuBW,EAAiBvd,IAGjDluE,WAAY,SAASpxD,EAASqB,EAAM2R,EAAO8qI,GACzC,IAAI54H,EAAW,iBAAOg3H,EAAuBW,EAAiBvd,IAS9D,OAPgB9yG,EAAanrB,GACnBF,YAAY+jB,GAEtB1hB,KAAKi6I,SAAW,CACdtxI,GAAI,gBAGC,GAGT4xI,cAAe,SAAS/9I,EAASqB,EAAM2R,EAAO8qI,GAC5C,IAAIrhI,EAAY+P,EAAanrB,GACzB28I,EAAchrI,EAAM2S,eAAe9hB,WACnC2G,EAAMoa,SAAS,eAAQo5H,EAAa,cAAe,IASvD,OAPAvhI,EAAU3Y,YAAYk6I,GAEtBx6I,KAAKi6I,SAAW,CACdtxI,GAAI,iBACJ3B,IAAKA,IAGA,GAGTgyI,SAAU,SAASx8I,EAASi+I,EAASvmI,EAAOtG,EAAM5P,EAAOgJ,GACvD,IAAI2wI,EAAY,kBAAW8C,EAAS,gBACpC,OAAOzB,EAASx8I,EAASm7I,EAAW/pI,EAAM5G,IAG5C2hB,KAAM,SAASnsB,EAASm7I,EAAW95I,EAAMy8I,GAEvC,OADA3C,EAAYyB,EAAazB,GAClBhvH,EAAKnsB,EAASm7I,EAAW95I,EAAMy8I,IAGxCI,UAAW,SAASl+I,EAASm7I,EAAW95I,EAAMy8I,GAC5C3C,EAAYyB,EAAazB,GACzB,IAAIgD,EAAQzzI,EAAS1K,EAASm7I,GAC9B,OAAOgD,GAASA,EAAMt7I,UAAYg5I,GAAc1vH,EAAKnsB,EAASm7I,EAAW95I,EAAMy8I,KAGjFM,iBAAkB,SAASp+I,EAASwB,EAAOH,EAAMmJ,GAC/C,GAAgC,mBAArB6G,EAAQm3C,SACjB,OAAOn3C,EAAQm3C,SAASxoD,EAASwB,EAAOH,EAAMmJ,KA0CpD,OAlCI0wI,IACFl1G,EAAQk1G,gBAAkB,SAASl7I,EAASi+I,EAASvmI,EAAOtG,EAAM5P,EAAOgJ,GACvE,IAKIkI,EAhNYrR,EA2MZ85I,EAAYyB,EAAaqB,GAEzBI,EAAa,eAAQ3mI,EAAO,YAC5B+kI,EAAW/kI,EAAMlW,YAKPQ,IAAVR,IACFA,EAAQ,IAKJ68I,GAAc5B,IAAaj7I,KAK7ByE,SAASkX,gBAAkBzF,IAC7BhF,EAAY,IA9NX,CACL6K,OAFkBlc,EA+N2BqW,GA7NjCoK,eACZxE,IAAKjc,EAAKi9I,cA4N2C7B,EAAUj7I,IAG7D05I,EAAgBl7I,EAASm7I,EAAWzjI,EAAOtG,EAAM5P,EAAOgJ,GAEpDkI,GA7NV,SAAsBrR,EAAMqR,GAC1BrR,EAAKygB,eAAiBpP,EAAU6K,MAChClc,EAAKi9I,aAAe5rI,EAAU4K,IA4NxBihI,CAAa7mI,EAAOhF,MAMnBszB,GC5SM,EAtBH,SAAS30B,GACnB,MAAO,CACLlF,GAAIkF,EAAQlF,GACZkhB,KAAM,sEAE0Bhc,EAAQmtI,QAAU,WAAa,IAFzD,aAINpsI,IAAK,SAASpS,EAASqB,GACrB,MAA2B,mBAAhBgQ,EAAQe,IACVf,EAAQe,IAAIpS,EAASqB,GAEvB,CAAE69B,MAAO7tB,EAAQotI,YAE1BC,UAAW,SAAS1+I,EAASqB,GAC3B,MAAiC,mBAAtBgQ,EAAQqtI,WACVrtI,EAAQqtI,UAAU1+I,EAASqB,M,kBC+C3B,MA1Cf,SAAcgQ,GAEZ,IAAIlF,EAAKkF,EAAQlF,GACb+yB,EAAQ7tB,EAAQ6tB,OAAS/yB,EACzBwyI,EAAWttI,EAAQstI,SACnBllB,EAAcpoH,EAAQooH,YACtBpF,EAAchjH,EAAQgjH,YAE1B,GAAIsqB,GAAgC,mBAAbA,EACrB,MAAM,IAAIp7I,MAAM,uCAGlB,GAA2B,mBAAhBk2H,EACT,MAAM,IAAIl2H,MAAM,0CAGlB,IAAIw2I,EAAW,CACb5tI,GAAIA,GAsBN,OAnBA4tI,EAAS1sH,KACP,iCACCsxH,EAAW,wBAA0B,IACtC,yBAA2BttI,EAAQspI,WAAa,IAAM,YAAWtpI,EAAQspI,YAAc,IACvF,KAAO,YAAWz7G,GAAS,OAGzBm1F,IACF0lB,EAAS1sH,MAAQmsH,EAAsBnlB,IAGzC0lB,EAAStgB,YAAc,IAAKA,EAAasgB,GAEjB,mBAAb4E,IACT5E,EAAS4E,SAAW,WAClB,OAAOA,EAAS57H,MAAMg3H,EAAU7yI,aAI7B6yI,GCvDT,SAAS6E,EAAcxtI,GACrB,IAAKA,EACH,MAAM,IAAI7N,MAAM6N,EAAO,iBAGzB,OAAOA,EAUT,IAAIytI,EAAuB,SAASxtI,GA8BlC,MAAO,CACLlF,GAAIkF,EAAQlF,GACZkoH,YAAchjH,EAAQgjH,aAAe,GACrCjiH,IAAMf,EAAQe,KA9BC,SAASpS,GACxB,IAAIE,EAAK,YAAkBF,GACvBkzB,EAAM,GACN9hB,EAAOwtI,EAAcvtI,EAAQ+oI,eAGjC,OAFAlnH,EAAI9hB,GAAQlR,EAAGkS,IAAIhB,GAEZ8hB,GAyBP8L,IAAM3tB,EAAQ2tB,KArBC,SAASh/B,EAASyyD,GACjC,IAAIv/B,EAAM,GACN9hB,EAAOwtI,EAAcvtI,EAAQ+oI,eAOjC,MANqB,KAAjB3nF,EAAOrhD,GACT8hB,EAAI9hB,GAAQqhD,EAAOrhD,GAEnB8hB,EAAI9hB,QAAQpP,EAGP,EAAU82F,iBAAiB94F,EAASkzB,IAa3Cs1B,SAAWn3C,EAAQm3C,UATC,WACpB,MAAO,IASPn7B,KAAM,KAIV,SAASyxH,KAgCTA,EAAaC,UAAY,SAAS1tI,GAChC,OAAO,EAAeA,EAASwtI,EAAqBxtI,KAGtDytI,EAAaE,yBAA2B,SAAS3tI,GAC/C,OAAO,EAA8BA,EAASwtI,EAAqBxtI,KAuBrEytI,EAAaG,SAAW,SAAS5tI,GAC/B,OAAO,EAAcA,EAASwtI,EAAqBxtI,KAGrDytI,EAAaI,QAAU,SAAS7tI,GAC9B,OAAO,EAAaA,EAASwtI,EAAqBxtI,KAGpDytI,EAAarD,UAAY,SAASpqI,GAChC,OAAO,EAAeA,EAASwtI,EAAqBxtI,KAGtDytI,EAAaK,SAAW,SAAS9tI,GAC/B,OAAO,EAAcA,IAGvBytI,EAAa/pD,MAAQ,SAAS1jF,GAC5B,OAAO,EAAWA,IAGpBytI,EAAa5/G,MAAQ,SAAS7tB,GAC5B,OAAO,EAAWA,IAGpBytI,EAAarF,KAAO,SAASpoI,GAC3B,OAAO,EAAKA,IAGC,QC5JA,kBAET,YAAMrR,EAAS,CAAE,iBAAkB,sBACrCwqC,EAAMikD,QAAUjkD,EAAMikD,QAAQ/xE,OCMnB,cAEb,IACIwiB,EAAQrxB,EAAU,QAStB,MAAO,CANS,EAAaqxI,QAAQ,CACnC/yI,GALO,OAMP+yB,MAAOA,EACPk7G,cALkB,UDVmB,CAAiBp6I,EAAS6N,MEanE,SAASuxI,EAAuBp/I,EAAS6N,GAGvC7N,EAAUA,EAAQo/E,aAAep/E,EAEjC,IAMIq/I,EANAC,EAAe,CACjBnzI,GAAI,UACJ+yB,MAAOrxB,EAAU,WACjB4gF,QAAS,IAIP,YAAGzuF,EAAS,kBACdq/I,EAAY,CAAEhrB,YAfM,8CCbT,kBAEb,IAAIA,EAAchjH,GAAWA,EAAQgjH,YAGrC7pF,EAAMikD,QAAQnqF,KAAK,EAAa06I,yBAAyB,CACvD7yI,GAAI,KACJ+yB,MAAOrxB,EAAU,MACjBwmH,YAAaA,GAAexmH,EAAUwmH,GACtC+lB,cAAe,KACf2B,YAAa,SAAS/7I,GACpB,OAAO,YAAkBA,GAASmM,IAEpC8vI,YAAa,SAASj8I,EAAS+lD,GAC7B,OAAO,EAAU+yC,iBAAiB94F,EAAS+lD,IAE7CyC,SAAU,SAASxoD,EAASyyD,GAC1B,IAAI7kD,EAAU6kD,EAAOtmD,GAEjBjM,EAAK,YAAkBF,GAEvBu/I,EAAU,YAAUr/I,EAAI0N,EAASC,GAErC,OAAO0xI,EAAU,CAAEpzI,GAAIozI,GAAY,ODOvC,CAAQD,EAAct/I,EAAS6N,EAAWwxI,GAC1C,EAAUC,EAAct/I,EAAS6N,GEhCpB,gBAEb,GAAI,YAAG7N,EAAS,gBAAiB,CAC/B,IAAIw/I,EAAkB,EAAaT,UAAU,CAC3C5yI,GAAI,aACJ+yB,MAAOrxB,EAAU,eACjBusI,cAAe,eAGjB5vG,EAAMikD,QAAQnqF,KAAKk7I,IFwBrB,CAAWF,EAAct/I,EAAS6N,GAElC,IAAI4xI,EAAyB,CAC3BtzI,GAAI,uBACJ+yB,MAAOrxB,EAAU,yBACjB4gF,QAAS,KGtCE,gBAEb,GAAI,YAAGzuF,EAAS,gBAAiB,CAC/B,IAAI0/I,EAAyB,EAAaX,UAAU,CAClD5yI,GAAI,oBACJ+yB,MAAOrxB,EAAU,wBACjBusI,cAAe,sBAGjB5vG,EAAMikD,QAAQnqF,KAAKo7I,IH+BrB,CAAkBD,EAAwBz/I,EAAS6N,GAEnD,IAAI+rF,EAAS,GAIb,OAHAA,EAAOt1F,KAAKg7I,GACZ1lD,EAAOt1F,KAAKm7I,GAEL7lD,EAYT,SAAS+lD,EAA0BpuI,EAAU1D,GAE3C,EAAoBnJ,KAAKlB,KAAM+N,GAE/B/N,KAAKo8I,QAAU,SAAS5/I,GAQtB,MAAO,CANU,CACfmM,GAAI,UACJ+yB,MAAOrxB,EAAU,WACjB+rF,OAAQwlD,EAAuBp/I,EAAS6N,MAU9C8xI,EAA0B5tI,QAAU,CAClC,WACA,aAGF,IAAS4tI,EAA2B,GAErB,QItFA,KACb3rI,YAAa,CACX,KAEFD,SAAU,CAAE,sBACZ8rI,mBAAoB,CAAE,OAAQ,K,4CCJhC,SAASjwI,KAgBT,SAASi2C,EAAQC,EAAOC,GACtBviD,KAAKsiD,MAAQA,EACbtiD,KAAKuiD,WAAaA,EAhBpBn2C,EAAK5M,UAAUoP,IAAM,SAAS3R,GAC5B,OAAO+C,KAAKuK,OAAOg4C,WAAW3zC,IAAI5O,KAAM/C,IAG1CmP,EAAK5M,UAAUg8B,IAAM,SAASv+B,EAAMe,GAClCgC,KAAKuK,OAAOg4C,WAAW/mB,IAAIx7B,KAAM/C,EAAMe,IAezCqkD,EAAQ7iD,UAAUgjD,WAAa,SAAS5vC,GAEtC,IAAI0vC,EAAQtiD,KAAKsiD,MAEbt/C,EAAQhD,KAAKuiD,WACb/iD,EAAYV,OAAO6D,OAAOyJ,EAAK5M,WAGnC,kBAAQoT,EAAW2vC,YAAY,SAASv2C,GACjCA,EAAEy2C,aAAwBjkD,IAAdwN,EAAE02C,UACjBljD,EAAUwM,EAAE/O,MAAQ+O,EAAE02C,YAI1B1/C,EAAM2/C,YAAYnjD,EAAW8iD,GAC7Bt/C,EAAM4/C,iBAAiBpjD,EAAWoT,GAElC,IAAI3V,EAAO2V,EAAWhR,GAAG3E,KAKzB,SAAS4lD,EAAclkD,GACrBqE,EAAM8/C,OAAO9iD,KAAM,QAAS,CAAEhC,MAAOf,EAAMwP,YAAY,IACvDzJ,EAAM8/C,OAAO9iD,KAAM,SAAU,CAAEhC,MAAO,KACtCgF,EAAM8/C,OAAO9iD,KAAM,UAAW,CAAE6L,UAAU,IAE1C,kBAAQlN,EAAO,gBAAK,SAASiY,EAAK/D,GAChC7S,KAAKw7B,IAAI3oB,EAAK+D,KACb5W,OAWL,OARA6iD,EAAcrjD,UAAYA,EAE1BqjD,EAAcE,QAAUvjD,EAAU5C,YAAcoD,KAAKsiD,MAAMS,QAG3D//C,EAAM2/C,YAAYE,EAAeP,GACjCt/C,EAAM4/C,iBAAiBC,EAAejwC,GAE/BiwC,GAMT,IAAIG,EAAW,CACb5kD,QAAQ,EACRuoB,SAAS,EACTs8B,SAAS,EACTC,MAAM,EACNC,SAAS,GAMPC,EAAkB,CACpBhlD,OAAQ,SAASqJ,GAAK,OAAOA,GAC7Bkf,QAAS,SAASlf,GAAK,MAAa,SAANA,GAC9Bw7C,QAAS,SAASx7C,GAAK,OAAO2Z,SAAS3Z,EAAG,KAC1Cy7C,KAAM,SAASz7C,GAAK,OAAOunB,WAAWvnB,EAAG,MAM3C,SAAS47C,EAAW5mD,EAAMuB,GAExB,IAAIslD,EAAYF,EAAgB3mD,GAEhC,OAAI6mD,EACKA,EAAUtlD,GAEVA,EAOX,SAASulD,EAAU9mD,GACjB,QAASumD,EAASvmD,GAMpB,SAAS+mD,EAAS/mD,GAChB,QAAS2mD,EAAgB3mD,GAY3B,SAASgnD,EAAUxmD,EAAMymD,GACvB,IACIC,EAAWv7B,EADX8a,EAAQjmC,EAAKwE,MAAM,KAIvB,GAAqB,IAAjByhC,EAAM7jC,OACRskD,EAAY1mD,EACZmrB,EAASs7B,MAGX,IAAqB,IAAjBxgB,EAAM7jC,OAIR,MAAM,IAAIU,MAAM,mDAAqD9C,GAHrE0mD,EAAYzgB,EAAM,GAClB9a,EAAS8a,EAAM,GAOjB,MAAO,CACLjmC,KAHFA,GAAQmrB,EAASA,EAAS,IAAM,IAAMu7B,EAIpCv7B,OAAQA,EACRu7B,UAAWA,GAOf,SAASC,EAAkBC,GACzB7jD,KAAK4B,GAAKiiD,EACV7jD,KAAK/C,KAAO4mD,EAAO5mD,KACnB+C,KAAK8jD,SAAW,GAChB9jD,KAAK+jD,eAAiB,GACtB/jD,KAAKuiD,WAAa,GAClBviD,KAAKgkD,iBAAmB,GA2N1B,SAASC,EAASC,EAAU3B,GAC1BviD,KAAKmkD,WAAa,GAClBnkD,KAAKokD,QAAU,GAEfpkD,KAAKkkD,SAAW,GAEhBlkD,KAAKuiD,WAAaA,EAElB,kBAAQ2B,EAAU,eAAKlkD,KAAKqkD,gBAAiBrkD,OA6K/C,SAASskD,EAAgBH,EAAYI,EAAKC,GAExC,IAAIxmD,EAAQumD,EAAIC,GAEhB,GAAIxmD,KAASmmD,EACX,MAAM,IAAIpkD,MAAM,gBAAkBykD,EAAgB,KAAOxmD,EAAQ,qBASrE,SAASymD,EAAWnC,GAClBtiD,KAAKsiD,MAAQA,EAmGf,SAASj2C,EAAe/O,EAAQkyB,EAAUxxB,GACxCc,OAAOuN,eAAe/O,EAAQkyB,EAASvyB,KAAM,CAC3CwP,YAAa+iB,EAASk1B,YACtB74C,UAAU,EACV7N,MAAOA,EACP8N,cAAc,IA2BlB,SAAS64C,EAAOT,GAEdlkD,KAAKuiD,WAAa,IAAIkC,EAAWzkD,MAEjCA,KAAKwiC,QAAU,IAAI6f,EAAQriD,KAAMA,KAAKuiD,YACtCviD,KAAK4kD,SAAW,IAAIX,EAASC,EAAUlkD,KAAKuiD,YAE5CviD,KAAK6kD,UAAY,GAriBnBjB,EAAkBpkD,UAAUslD,MAAQ,WAClC,OAAO,eAAK9kD,KAAM,CAChB,KACA,OACA,WACA,iBACA,aACA,mBACA,eACA,gBAWJ4jD,EAAkBpkD,UAAUulD,YAAc,SAAS/4C,EAAGhF,EAAKg+C,GAEtC,kBAARh+C,IACTg+C,EAAWh+C,EACXA,OAAMxI,GAGRwB,KAAKilD,iBAAiBj5C,GAAgB,IAAbg5C,GAEzB,IAAIzC,EAAaviD,KAAKuiD,gBAEV/jD,IAARwI,EACFu7C,EAAWnhD,OAAO4F,EAAK,EAAGgF,GAE1Bu2C,EAAWzhD,KAAKkL,IAKpB43C,EAAkBpkD,UAAU0lD,gBAAkB,SAASC,EAAaC,EAAalnD,GAC/E,IAAImnD,EAAYF,EAAYvjD,GAExBoB,EAAQhD,KAAKuiD,WACbyB,EAAmBhkD,KAAKgkD,iBACxBsB,EAASH,EAAYloD,OAASmoD,EAAYnoD,KAE9C,GAAIkoD,EAAYI,KAAM,CACpB,IAAKH,EAAYG,KACf,MAAM,IAAIxlD,MACR,aAAeqlD,EAAYxjD,GAAG3E,KAA9B,oCACgBkoD,EAAYvjD,GAAG3E,KAAO,KAG1C+C,KAAKwlD,cAAcJ,GAAa,GAGlC,GAAID,EAAYM,OAAQ,CAEtB,IAAKL,EAAYK,OACf,MAAM,IAAI1lD,MACR,aAAeqlD,EAAYxjD,GAAG3E,KAA9B,sCACgBkoD,EAAYvjD,GAAG3E,KAAO,KAI1C+C,KAAK0lD,gBAAgBN,GAAa,GAIpC,IAAIp+C,EAAMhE,EAAM5D,QAAQ+lD,GACxB,IAAa,IAATn+C,EACF,MAAM,IAAIjH,MAAM,aAAeslD,EAAUpoD,KAAO,gCAIlD+F,EAAM5B,OAAO4F,EAAK,GAOlBhH,KAAK+kD,YAAYK,EAAalnD,OAAUM,EAAYwI,EAAKs+C,GAGzDtB,EAAiBqB,EAAUpoD,MAAQ+mD,EAAiBqB,EAAU1B,WAAayB,GAI7ExB,EAAkBpkD,UAAUmmD,iBAAmB,SAAS35C,EAAG45C,EAAoB1nD,GAE7E,IAAI2nD,EAAW75C,EAAEpK,GAAGwmB,OAChB8a,EAAQ0iB,EAAmBnkD,MAAM,KAEjCxE,EAAOwmD,EAAUvgB,EAAM,GAAI2iB,GAC3BC,EAAWrC,EAAUvgB,EAAM,GAAIjmC,EAAKmrB,QAAQnrB,KAE5C8oD,EAAoB/lD,KAAKgkD,iBAAiB8B,GAC9C,IAAKC,EACH,MAAM,IAAIhmD,MAAM,qBAAuB+lD,EAAW,eAElD9lD,KAAKklD,gBAAgBa,EAAmB/5C,EAAG9N,UAGtC8N,EAAEg6C,WAGXpC,EAAkBpkD,UAAUylD,iBAAmB,SAASj5C,EAAGg5C,GACzD,IAAIpjD,EAAKoK,EAAEpK,GACPqkD,EAAcjmD,KAAKgkD,iBAEnBgB,IACFhlD,KAAKkmD,iBAAiBl6C,EAAGpK,EAAG3E,MAC5B+C,KAAKkmD,iBAAiBl6C,EAAGpK,EAAG+hD,YAG9BsC,EAAYrkD,EAAG3E,MAAQgpD,EAAYrkD,EAAG+hD,WAAa33C,GAGrD43C,EAAkBpkD,UAAU2mD,oBAAsB,SAASn6C,GACzD,IAAIpK,EAAKoK,EAAEpK,GACPqkD,EAAcjmD,KAAKgkD,wBAEhBiC,EAAYrkD,EAAG3E,aACfgpD,EAAYrkD,EAAG+hD,YAGxBC,EAAkBpkD,UAAUkmD,gBAAkB,SAAS15C,EAAGg5C,GAExD,GAAIA,GAAYhlD,KAAKomD,aACnB,MAAM,IAAIrmD,MACR,0CACOC,KAAKomD,aAAaxkD,GAAG3E,KAAO,OAAS+O,EAAEpK,GAAG3E,KAAO,MAG5D+C,KAAKomD,aAAep6C,GAGtB43C,EAAkBpkD,UAAUgmD,cAAgB,SAASx5C,EAAGg5C,GAEtD,GAAIA,GAAYhlD,KAAKqmD,WACnB,MAAM,IAAItmD,MACR,wCACOC,KAAKqmD,WAAWzkD,GAAG3E,KAAO,OAAS+O,EAAEpK,GAAG3E,KAAO,MAG1D+C,KAAKqmD,WAAar6C,GAGpB43C,EAAkBpkD,UAAU0mD,iBAAmB,SAASl6C,EAAG/O,GACzD,IAAIqpD,EAAet6C,EAAE/O,KACjBspD,EAAkBvmD,KAAKgkD,iBAAiBsC,GAE5C,GAAIC,EACF,MAAM,IAAIxmD,MACR,aAAeumD,EAAf,mCACkBC,EAAgBC,UAAU5kD,GAAG3E,KAAO,IAAMspD,EAAgB3kD,GAAG3E,KAD/E,SAEM+O,EAAEw6C,UAAU5kD,GAAG3E,KAAO,IAAM+O,EAAEpK,GAAG3E,KAAO,oCAIpD2mD,EAAkBpkD,UAAU+vB,YAAc,SAAStyB,GACjD,OAAO+C,KAAKgkD,iBAAiB/mD,IAG/B2mD,EAAkBpkD,UAAUinD,SAAW,SAASrpD,EAAGspD,GAEjD,IAAIC,EAAc3mD,KAAK+jD,eACnB5mD,EAAQ6C,KAAK8jD,SAEb8C,EAAWxpD,EAAEH,KAEb2pD,KAAYD,IAIhB,kBAAQvpD,EAAEmlD,WAAY,gBAAK,SAASv2C,GAGlCA,EAAI,iBAAO,GAAIA,EAAG,CAChB/O,KAAM+O,EAAEpK,GAAG+hD,UACX+C,UAAWA,IAGb5nD,OAAOuN,eAAeL,EAAG,YAAa,CACpChO,MAAOZ,IAGT,IAAIypD,EAAW76C,EAAE66C,SACbb,EAAYh6C,EAAEg6C,UAGda,GAAYb,EACdhmD,KAAK2lD,iBAAiB35C,EAAG66C,GAAYb,EAAWa,IAE5C76C,EAAEy5C,QACJzlD,KAAK0lD,gBAAgB15C,GAEnBA,EAAEu5C,MACJvlD,KAAKwlD,cAAcx5C,GAErBhM,KAAK+kD,YAAY/4C,MAElBhM,OAEH7C,EAAM2D,KAAK1D,GACXupD,EAAYC,GAAYxpD,IAqB1B6mD,EAASzkD,UAAUsnD,WAAa,SAASC,GACvC,OAAO/mD,KAAKmkD,WAAW4C,IAGzB9C,EAASzkD,UAAUwnD,YAAc,WAC/B,OAAOhnD,KAAKkkD,UAIdD,EAASzkD,UAAU6kD,gBAAkB,SAASE,GAG5CA,EAAM,iBAAO,GAAIA,GAEjB,IAAI0C,EAASjnD,KAAKmkD,WAElBG,EAAgB2C,EAAQ1C,EAAK,UAC7BD,EAAgB2C,EAAQ1C,EAAK,OAG7B,kBAAQA,EAAIpnD,MAAO,gBAAK,SAASyV,GAC/B5S,KAAKknD,aAAat0C,EAAY2xC,KAC7BvkD,OAEHinD,EAAO1C,EAAI4C,KAAOF,EAAO1C,EAAIn8B,QAAUm8B,EACvCvkD,KAAKkkD,SAASpjD,KAAKyjD,IAOrBN,EAASzkD,UAAU0nD,aAAe,SAASzqD,EAAM8nD,GAS/C,IAAI3iD,EAAK6hD,GAPThnD,EAAO,iBAAO,GAAIA,EAAM,CACtBkP,YAAalP,EAAKkP,YAAc,IAAI9E,QACpCugD,SAAU3qD,EAAK2qD,SAAW,IAAIvgD,QAC9B07C,YAAa9lD,EAAK8lD,YAAc,IAAI17C,QACpCwgD,KAAM,iBAAQ5qD,EAAK4qD,MAAQ,OAGLpqD,KAAMsnD,EAAIn8B,QAC9BnrB,EAAO2E,EAAG3E,KACV+mD,EAAmB,GAGvB,kBAAQvnD,EAAK8lD,WAAY,gBAAK,SAASv2C,GAGrC,IAAIs7C,EAAa7D,EAAUz3C,EAAE/O,KAAM2E,EAAGwmB,QAClCk+B,EAAegB,EAAWrqD,KAGzBsmD,EAAUv3C,EAAEvP,QACfuP,EAAEvP,KAAOgnD,EAAUz3C,EAAEvP,KAAM6qD,EAAWl/B,QAAQnrB,MAGhD,iBAAO+O,EAAG,CACRpK,GAAI0lD,EACJrqD,KAAMqpD,IAGRtC,EAAiBsC,GAAgBt6C,IAChChM,OAGH,iBAAOvD,EAAM,CACXmF,GAAIA,EACJ3E,KAAMA,EACN+mD,iBAAkBA,IAGpB,kBAAQvnD,EAAK2qD,QAAS,gBAAK,SAASG,GAClC,IAAIC,EAAWxnD,KAAKokD,QAAQmD,GAE5BC,EAASjhB,OAASihB,EAASjhB,QAAU,GACrCihB,EAASjhB,OAAOzlC,KAAK7D,KACpB+C,OAGHA,KAAKynD,cAAchrD,EAAM8nD,GAGzBvkD,KAAKokD,QAAQnnD,GAAQR,GAavBwnD,EAASzkD,UAAUkoD,SAAW,SAASC,EAAQ58C,EAAU68C,GAEvD,IAAInrD,EAAO8mD,EAAUoE,EAAO1qD,MAAQ,CAAEA,KAAM0qD,EAAO1qD,MAAS+C,KAAKokD,QAAQuD,EAAO1qD,MAE5EiO,EAAOlL,KAOX,SAAS6nD,EAAcx4C,GACrB,OAAOy4C,EAAcz4C,GAAK,GAS5B,SAASy4C,EAAcz4C,EAAKu4C,GAC1B,IAAIG,EAAWtE,EAAUp0C,EAAKk0C,EAAUl0C,GAAO,GAAKs4C,EAAOv/B,QAC3Dld,EAAKw8C,SAASK,EAAUh9C,EAAU68C,GAGpC,IAAKnrD,EACH,MAAM,IAAIsD,MAAM,iBAAmB4nD,EAAO1qD,KAAO,KAGnD,kBAAQR,EAAKkP,WAAYi8C,EAAQC,EAAgBC,GAGjD/8C,EAAStO,GAAOmrD,GAEhB,kBAAQnrD,EAAK8pC,OAAQshB,IAWvB5D,EAASzkD,UAAUwoD,uBAAyB,SAAS/qD,GAEnD,IAAI0qD,EAASlE,EAAUxmD,GAEnBgrD,EAAU,IAAIrE,EAAkB+D,GAEpC3nD,KAAK0nD,SAASC,GAAQ,SAASlrD,EAAMiqD,GACnCuB,EAAQxB,SAAShqD,EAAMiqD,MAGzB,IAAI9zC,EAAaq1C,EAAQnD,QAKzB,OAFA9kD,KAAKynD,cAAc70C,EAAYA,EAAWkxC,SAASlxC,EAAWkxC,SAASzkD,OAAS,GAAG6oD,MAE5Et1C,GAITqxC,EAASzkD,UAAUioD,cAAgB,SAASnqD,EAAQinD,GAClDvkD,KAAKuiD,WAAWO,OAAOxlD,EAAQ,OAAQ,CAAEU,MAAOumD,KAkClDE,EAAWjlD,UAAUg8B,IAAM,SAASl+B,EAAQL,EAAMe,GAEhD,IAAIwxB,EAAWxvB,KAAKsiD,MAAM6F,sBAAsB7qD,EAAQL,GAEpDqpD,EAAe92B,GAAYA,EAASvyB,UAgFlB,IA9ENe,EAGVwxB,SACKlyB,EAAOgpD,UAEPhpD,EAAO8qD,OAAOnrD,GAKnBuyB,EACE82B,KAAgBhpD,EAClBA,EAAOgpD,GAAgBtoD,EAEvBqO,EAAe/O,EAAQkyB,EAAUxxB,GAGnCV,EAAO8qD,OAAOnrD,GAAQe,GAa5BymD,EAAWjlD,UAAUoP,IAAM,SAAStR,EAAQL,GAE1C,IAAIuyB,EAAWxvB,KAAKsiD,MAAM6F,sBAAsB7qD,EAAQL,GAExD,IAAKuyB,EACH,OAAOlyB,EAAO8qD,OAAOnrD,GAGvB,IAAIqpD,EAAe92B,EAASvyB,KAO5B,OAJKK,EAAOgpD,IAAiB92B,EAASizB,QACpCp2C,EAAe/O,EAAQkyB,EAAU,IAG5BlyB,EAAOgpD,IAWhB7B,EAAWjlD,UAAUsjD,OAAS,SAASxlD,EAAQL,EAAM4Q,GACnD/O,OAAOuN,eAAe/O,EAAQL,EAAM4Q,IAOtC42C,EAAWjlD,UAAUojD,iBAAmB,SAAStlD,EAAQsV,GACvD5S,KAAK8iD,OAAOxlD,EAAQ,cAAe,CAAEU,MAAO4U,KAM9C6xC,EAAWjlD,UAAUmjD,YAAc,SAASrlD,EAAQglD,GAClDtiD,KAAK8iD,OAAOxlD,EAAQ,SAAU,CAAEU,MAAOskD,KAiEzCqC,EAAOnlD,UAAUmD,OAAS,SAASiQ,EAAYjU,GAC7C,IAAIgP,EAAO3N,KAAKyJ,QAAQmJ,GAExB,IAAKjF,EACH,MAAM,IAAI5N,MAAM,iBAAmB6S,EAAa,KAGlD,OAAO,IAAIjF,EAAKhP,IAiBlBgmD,EAAOnlD,UAAUiK,QAAU,SAASmJ,GAElC,IAAIqkB,EAAQj3B,KAAK6kD,UAEb5nD,EAAO,mBAAS2V,GAAcA,EAAaA,EAAWhR,GAAG3E,KAEzDR,EAAOw6B,EAAMh6B,GAOjB,OALKR,IACHmW,EAAa5S,KAAK4kD,SAASoD,uBAAuB/qD,GAClDR,EAAOw6B,EAAMh6B,GAAQ+C,KAAKwiC,QAAQggB,WAAW5vC,IAGxCnW,GA+BTkoD,EAAOnlD,UAAU6oD,UAAY,SAASprD,EAAMqrD,EAAO/F,GAEjD,IAAIsB,EAASJ,EAAUxmD,GAEnBT,EAAU,CACZkrB,MAAOzqB,EACPL,YAAa,SAASH,GACpB,OAAOA,IAASuD,KAAK0nB,QAIrB9U,EAAa,CACf3V,KAAMA,EACNsrD,WAAW,EACX3mD,GAAI,CACFwmB,OAAQy7B,EAAOz7B,OACfu7B,UAAWE,EAAOF,UAClBwD,IAAKmB,IAgBT,OAZAtoD,KAAKuiD,WAAWK,iBAAiBpmD,EAASoW,GAC1C5S,KAAKuiD,WAAWI,YAAYnmD,EAASwD,MACrCA,KAAKuiD,WAAWO,OAAOtmD,EAAS,UAAW,CAAEiQ,YAAY,EAAOZ,UAAU,IAE1E,kBAAQ02C,GAAY,SAASp/C,EAAG0P,GAC1B,mBAAS1P,SAAkB3E,IAAZ2E,EAAEnF,MACnBxB,EAAQ2G,EAAElG,MAAQkG,EAAEnF,MAEpBxB,EAAQqW,GAAO1P,KAIZ3G,GAQTmoD,EAAOnlD,UAAUsnD,WAAa,SAASC,GACrC,OAAO/mD,KAAK4kD,SAASkC,WAAWC,IAQlCpC,EAAOnlD,UAAUwnD,YAAc,WAC7B,OAAOhnD,KAAK4kD,SAASoC,eAMvBrC,EAAOnlD,UAAUgpD,qBAAuB,SAAShsD,GAC/C,OAAOA,EAAQisD,aASjB9D,EAAOnlD,UAAUujD,QAAU,SAASvmD,EAASC,GAQ3C,YAPa+B,IAAT/B,IACFA,EAAOD,EACPA,EAAUwD,MAKJvD,KAFSD,EAAQ+N,OAAOi+C,qBAAqBhsD,GAE1BunD,gBAM7BY,EAAOnlD,UAAU2oD,sBAAwB,SAAS3rD,EAASgzB,GACzD,OAAOxvB,KAAKwoD,qBAAqBhsD,GAASwnD,iBAAiBx0B,IAM7Dm1B,EAAOnlD,UAAUkpD,kBAAoB,SAASjsD,GAC5C,OAAOuD,KAAK4kD,SAASR,QAAQ3nD,I,YCv3B/B,SAASswD,EAAkBxI,GACzB,OAAOA,EAAIsG,KAA4B,cAArBtG,EAAIsG,IAAImC,SAG5B,IAAIC,EAAiB,CACnB,IAAO,6CAKT,SAASC,EAAgB1wD,GACvB,OAAOA,EAAQquD,KAAOruD,EAAQquD,IAAIsC,UAGpC,SAASC,EAAgB5wD,GACvB,MAPa,aAON0wD,EAAgB1wD,GAWzB,SAAS6wD,EAAYC,EAAS/I,GAE5B,OAAKwI,EAAkBxI,GAIhB+I,EAAQllC,OAAS,MAVNzd,EAUuB2iD,EAAQ3J,WATtC/gD,OAAO,GAAGizB,cAAgBlrB,EAAI9D,MAAM,IAMtCymD,EAAQrwD,KAPnB,IAAoB0N,EAmCpB,SAASqhB,EAAMijB,GACb,OAAO,IAAIlvC,MAAMkvC,GAUnB,SAASse,EAAoB/wD,GAC3B,OAAOA,EAAQisD,YAgBjB,SAAS+E,EAAQ3/C,GAUf,iBAAO7N,KAAM6N,GAEb7N,KAAKytD,aAAe,GACpBztD,KAAK0tD,WAAa,GAClB1tD,KAAKmtB,SAAW,GAOhBntB,KAAK2tD,aAAe,SAAS/nD,GAC3B5F,KAAK0tD,WAAW5sD,KAAK8E,IAQvB5F,KAAK4tD,WAAa,SAASpxD,GAEzB,IAAKA,EACH,MAAMwvB,EAAM,oBAGd,IAKIrjB,EALA8kD,EAAeztD,KAAKytD,aAIpBpH,EAFakH,EAAoB/wD,GAET6pD,WAG5B,GAAIA,IACF19C,EAAKnM,EAAQoS,IAAIy3C,EAAWppD,OAEpB,CAEN,IAAK,mCAAmCoE,KAAKsH,GAC3C,MAAM,IAAI5I,MAAM,eAAiB4I,EAAK,KAGxC,GAAI8kD,EAAa9kD,GACf,MAAMqjB,EAAM,iBAAmBrjB,EAAK,KAGtC8kD,EAAa9kD,GAAMnM,IAYzBwD,KAAK6tD,WAAa,SAASC,GACzB9tD,KAAKmtB,SAASrsB,KAAKgtD,IAIvB,SAASC,KAcT,SAASC,KAQT,SAASC,KAQT,SAASC,EAAiB1+B,EAAU7f,GAClC3P,KAAKwvB,SAAWA,EAChBxvB,KAAK2P,QAAUA,EA2BjB,SAASw+C,EAAaC,EAAc5xD,GAClCwD,KAAKxD,QAAUA,EACfwD,KAAKouD,aAAeA,EAqBtB,SAASC,KAuBT,SAASC,EAAehM,EAAOsE,EAAUj3C,GACvC3P,KAAKsiD,MAAQA,EACbtiD,KAAKvD,KAAO6lD,EAAM74C,QAAQm9C,GAC1B5mD,KAAK2P,QAAUA,EA4PjB,SAAS4+C,EAAmBjM,EAAOsE,EAAUj3C,GAC3C2+C,EAAeptD,KAAKlB,KAAMsiD,EAAOsE,EAAUj3C,GA0B7C,SAAS6+C,EAAsBlM,EAAOsE,EAAUj3C,GAC9C3P,KAAKsiD,MAAQA,EACbtiD,KAAK2P,QAAUA,EAgDjB,SAAS8+C,EAAO5gD,GAEVA,aAAmB82C,IACrB92C,EAAU,CACRy0C,MAAOz0C,IAIX,iBAAO7N,KAAM,CAAE0uD,KAAK,GAAS7gD,GA3b/BkgD,EAAYvuD,UAAU8+C,UAAY,aAClCyP,EAAYvuD,UAAUmvD,WAAa,aACnCZ,EAAYvuD,UAAUovD,WAAa,aAYnCZ,EAAYxuD,UAAYV,OAAO6D,OAAOorD,EAAYvuD,WAElDwuD,EAAYxuD,UAAUovD,WAAa,WACjC,OAAO5uD,MAKTiuD,EAAYzuD,UAAYV,OAAO6D,OAAOorD,EAAYvuD,WAElDyuD,EAAYzuD,UAAUmvD,WAAa,SAASrd,GAC1CtxC,KAAK0Z,MAAQ1Z,KAAK0Z,MAAQ,IAAM43B,GAQlC4c,EAAiB1uD,UAAYV,OAAO6D,OAAOsrD,EAAYzuD,WAEvD0uD,EAAiB1uD,UAAUovD,WAAa,SAAS/wD,GAE/C,GAAImC,KAAKxD,QACP,MAAMwvB,EAAM,yBAKd,OAHEhsB,KAAKxD,QAAUwD,KAAK6uD,gBAAgBhxD,GAG/BmC,MAGTkuD,EAAiB1uD,UAAU8+C,UAAY,WACrCt+C,KAAKxD,QAAQmM,GAAK3I,KAAK0Z,MAGzBw0C,EAAiB1uD,UAAUqvD,gBAAkB,SAAShxD,GACpD,MAAO,CACL2xB,SAAUxvB,KAAKwvB,SAAS5tB,GAAG3E,KAC3B0L,GAAI,KASRwlD,EAAa3uD,UAAYV,OAAO6D,OAAOsrD,EAAYzuD,WAEnD2uD,EAAa3uD,UAAU8+C,UAAY,WAEjC,IAAItgD,EAAQgC,KAAK0Z,MAAQ,GACrBld,EAAUwD,KAAKxD,QACf4xD,EAAepuD,KAAKouD,aAExBpwD,EAAQqlD,EAAW+K,EAAa3xD,KAAMuB,GAElCowD,EAAa3L,OACfjmD,EAAQoS,IAAIw/C,EAAanxD,MAAM6D,KAAK9C,GAEpCxB,EAAQg/B,IAAI4yB,EAAanxD,KAAMe,IAOnCqwD,EAAmB7uD,UAAYV,OAAO6D,OAAOsrD,EAAYzuD,WAEzD6uD,EAAmB7uD,UAAUovD,WAAa,SAAS/wD,GACjD,IAAIsE,EAASnC,KACTxD,EAAUwD,KAAKxD,QAUnB,OARKA,EAKH2F,EAASnC,KAAK8uD,YAAYjxD,IAJ1BrB,EAAUwD,KAAKxD,QAAUwD,KAAKunC,cAAc1pC,GAE5CmC,KAAK2P,QAAQi+C,WAAWpxD,IAKnB2F,GAaTmsD,EAAe9uD,UAAYV,OAAO6D,OAAO0rD,EAAmB7uD,WAE5D8uD,EAAe9uD,UAAUmuD,aAAe,SAAS/nD,GAC/C5F,KAAK2P,QAAQg+C,aAAa/nD,IAG5B0oD,EAAe9uD,UAAUmvD,WAAa,SAASrd,GAM7C,IAHiBic,EADHvtD,KAAKxD,SAEW4pD,aAG5B,MAAMp6B,EAAM,yBAA2BslB,EAAO,KAGhD2c,EAAYzuD,UAAUmvD,WAAWztD,KAAKlB,KAAMsxC,IAG9Cgd,EAAe9uD,UAAU8+C,UAAY,WAEnC,IAAItgD,EAAQgC,KAAK0Z,KACbld,EAAUwD,KAAKxD,QAEf4pD,EADamH,EAAoB/wD,GACP4pD,aAE1BA,QAA0B5nD,IAAVR,IAClBA,EAAQqlD,EAAW+C,EAAa3pD,KAAMuB,GACtCxB,EAAQg/B,IAAI4qB,EAAanpD,KAAMe,KASnCswD,EAAe9uD,UAAU+nC,cAAgB,SAAS1pC,GAChD,IAMIkxD,EANAC,EAAanxD,EAAKmxD,WAClBrhD,EAAO3N,KAAKvD,KACZmW,EAAa26C,EAAoB5/C,GACjCgC,EAAU3P,KAAK2P,QACfzD,EAAW,IAAIyB,EAAK,IACpB20C,EAAQtiD,KAAKsiD,MAqDjB,OAlDA,kBAAQ0M,GAAY,SAAShxD,EAAOf,GAElC,IACIgyD,EADArhD,EAAOgF,EAAWoxC,iBAAiB/mD,GAGnC2Q,GAAQA,EAAK82C,YAEV92C,EAAK60C,QAQRwM,EAASjxD,EAAMyD,MAAM,KAErB,kBAAQwtD,GAAQ,SAAS35B,GACvB3lB,EAAQg+C,aAAa,CACnBnxD,QAAS0P,EACTsjB,SAAU5hB,EAAKhM,GAAG3E,KAClB0L,GAAI2sB,QAbR3lB,EAAQg+C,aAAa,CACnBnxD,QAAS0P,EACTsjB,SAAU5hB,EAAKhM,GAAG3E,KAClB0L,GAAI3K,KAgBJ4P,EACF5P,EAAQqlD,EAAWz1C,EAAKnR,KAAMuB,GAEnB,UAATf,IACF8xD,EAAatL,EAAYxmD,EAAM2V,EAAWhR,GAAGwmB,QAIzCk6B,EAAMwE,WAAWiI,EAAW3mC,SAE9BzY,EAAQk+C,WAAW,CACjB5e,QAAS,sBAAwBhyC,EAAO,IACxCT,QAAS0P,EACTsjB,SAAUvyB,EACVe,MAAOA,KAKbkO,EAASsvB,IAAIv+B,EAAMe,OAIhBkO,GAGToiD,EAAe9uD,UAAU0vD,mBAAqB,SAASrxD,GAErD,IASIsxD,EACAC,EATAvL,EAASJ,EADF5lD,EAAKZ,MAGZR,EAAOuD,KAAKvD,KACZ6lD,EAAQtiD,KAAKsiD,MACb1vC,EAAa26C,EAAoB9wD,GAEjC6pD,EAAezC,EAAO5mD,KACtBuyB,EAAW5c,EAAWoxC,iBAAiBsC,GAM3C,GAAI92B,IAAaA,EAAS6/B,OAExB,OAAIjC,EAAgB59B,KAClB2/B,EAAkBtxD,EAAKmxD,WA3Xd,cAmYPG,EA1VR,SAA8BlyD,EAAMqlD,GAElC,IAAIuB,EAASJ,EAAYxmD,GAGzB,OAnBF,SAAwB4mD,EAAQU,GAE9B,IAAItnD,EAAO4mD,EAAO5mD,KACd0mD,EAAYE,EAAOF,UAEnB2L,EAAa/K,EAAIsG,KAAOtG,EAAIsG,IAAIyE,WAEpC,OAAIA,GAAgD,IAAlC3L,EAAUvkD,QAAQkwD,GAC3BzL,EAAOz7B,OAAS,IAAMu7B,EAAU98C,MAAMyoD,EAAWjwD,QAEjDpC,EASFsyD,CAAe1L,EAFZvB,EAAMwE,WAAWjD,EAAOz7B,SAuVVonC,CAAqBL,EAAiB7M,GAExD8M,EAAc9M,EAAM74C,QAAQ0lD,GAErB,iBAAO,GAAI3/B,EAAU,CAC1BigC,cAAelC,EAAoB6B,GAAanyD,QAM/CuyB,EAGT,IAAI+0B,EAAMjC,EAAMwE,WAAWjD,EAAOz7B,QAElC,GAAIm8B,GASF,GARA4K,EAAkB9B,EAAYxJ,EAAQU,GACtC6K,EAAc9M,EAAM74C,QAAQ0lD,GAG5B3/B,EAAW,eAAK5c,EAAW2vC,YAAY,SAASv2C,GAC9C,OAAQA,EAAE0jD,YAAc1jD,EAAE04C,cAAgB14C,EAAE2jD,aAAeP,EAAYrM,QAAQ/2C,EAAEvP,SAIjF,OAAO,iBAAO,GAAI+yB,EAAU,CAC1BigC,cAAelC,EAAoB6B,GAAanyD,YASpD,GAJAuyB,EAAW,eAAK5c,EAAW2vC,YAAY,SAASv2C,GAC9C,OAAQA,EAAE04C,cAAgB14C,EAAE2jD,aAA0B,YAAX3jD,EAAEvP,QAI7C,OAAO+yB,EAIX,MAAMxD,EAAM,yBAA2B63B,EAAO5mD,KAAO,MAGvDqxD,EAAe9uD,UAAUD,SAAW,WAClC,MAAO,qBAAuBguD,EAAoBvtD,KAAKvD,MAAMQ,KAAO,KAGtEqxD,EAAe9uD,UAAUowD,aAAe,SAASxB,EAAc5xD,GAC7D,OAAO,IAAI2xD,EAAaC,EAAc5xD,IAGxC8xD,EAAe9uD,UAAUqwD,iBAAmB,SAASzB,GACnD,OAAO,IAAIF,EAAiBE,EAAcpuD,KAAK2P,UAGjD2+C,EAAe9uD,UAAU2jB,QAAU,SAAS1mB,GAC1C,MAAa,YAATA,EACK,IAAI+xD,EAAsBxuD,KAAKsiD,MAAO7lD,EAAMuD,KAAK2P,SAEjD,IAAI2+C,EAAetuD,KAAKsiD,MAAO7lD,EAAMuD,KAAK2P,UASrD2+C,EAAe9uD,UAAUsvD,YAAc,SAASjxD,GAC9C,IAAIuwD,EAAc3xD,EAAMD,EAASszD,EAOjC,GALA1B,EAAepuD,KAAKkvD,mBAAmBrxD,GACvCrB,EAAUwD,KAAKxD,QAIXgnD,EAFJ/mD,EAAO2xD,EAAaqB,eAAiBrB,EAAa3xD,MAGhD,OAAOuD,KAAK4vD,aAAaxB,EAAc5xD,GASzC,IAAIuzD,GALFD,EADE1B,EAAa1J,YACA1kD,KAAK6vD,iBAAiBzB,GAAcQ,WAAW/wD,GAE/CmC,KAAKmjB,QAAQ1mB,GAAMmyD,WAAW/wD,IAGjBrB,QAwB9B,YApBmBgC,IAAfuxD,IAEE3B,EAAa3L,OACfjmD,EAAQoS,IAAIw/C,EAAanxD,MAAM6D,KAAKivD,GAEpCvzD,EAAQg/B,IAAI4yB,EAAanxD,KAAM8yD,GAG7B3B,EAAa1J,aACf,iBAAOqL,EAAY,CACjBvzD,QAASA,IAGXwD,KAAK2P,QAAQg+C,aAAaoC,IAG1BA,EAAW9X,QAAUz7C,GAIlBszD,GAgBTvB,EAAmB/uD,UAAYV,OAAO6D,OAAO2rD,EAAe9uD,WAE5D+uD,EAAmB/uD,UAAU+nC,cAAgB,SAAS1pC,GAEpD,IAAIZ,EAAOY,EAAKZ,KACZ4mD,EAASJ,EAAYxmD,GACrBqlD,EAAQtiD,KAAKsiD,MACb7lD,EAAOuD,KAAKvD,KACZ8nD,EAAMjC,EAAMwE,WAAWjD,EAAOz7B,QAC9Bw+B,EAAWrC,GAAO8I,EAAYxJ,EAAQU,IAAQtnD,EAMlD,IAAKR,EAAKsmD,QAAQ6D,GAChB,MAAM56B,EAAM,uBAAyBnuB,EAAKmyD,aAAe,KAG3D,OAAO1B,EAAe9uD,UAAU+nC,cAAcrmC,KAAKlB,KAAMnC,IAS3D2wD,EAAsBhvD,UAAYV,OAAO6D,OAAO0rD,EAAmB7uD,WAEnEgvD,EAAsBhvD,UAAU+nC,cAAgB,SAAS1pC,GAEvD,IAAIZ,EAAOY,EAAKZ,KAEZmrB,EADKq7B,EAAYxmD,GACLmrB,OACZ++B,EAAMtpD,EAAK+D,GAAGwmB,EAAS,QACvB4mC,EAAanxD,EAAKmxD,WAEtB,OAAOhvD,KAAKsiD,MAAM+F,UAAUprD,EAAMkqD,EAAK6H,IAGzCR,EAAsBhvD,UAAUsvD,YAAc,SAASjxD,GAErD,IAAIslB,EAAU,IAAIqrC,EAAsBxuD,KAAKsiD,MAAO,UAAWtiD,KAAK2P,SAASi/C,WAAW/wD,GACpFrB,EAAUwD,KAAKxD,QAEfuzD,EAAa5sC,EAAQ3mB,QAWzB,YARmBgC,IAAfuxD,KACSvzD,EAAQyzD,UAAYzzD,EAAQyzD,WAAa,IAC3CnvD,KAAKivD,GAGdA,EAAW9X,QAAUz7C,GAGhB2mB,GAGTqrC,EAAsBhvD,UAAU8+C,UAAY,WACtCt+C,KAAK0Z,OACP1Z,KAAKxD,QAAQ0zD,MAAQlwD,KAAK0Z,OA8B9B+0C,EAAOjvD,UAAU2wD,QAAU,SAAStF,EAAKh9C,EAASmK,GAEhD,IAAIo4C,EAAcviD,EAAQuiD,YAEtBviD,aAAmBygD,GAErB8B,EAAcviD,EACdA,EAAU,IAEa,iBAAZA,GAETuiD,EAAcpwD,KAAKmjB,QAAQtV,GAC3BA,EAAU,IACsB,iBAAhBuiD,IAEhBA,EAAcpwD,KAAKmjB,QAAQitC,IAI/B,IAAI9N,EAAQtiD,KAAKsiD,MACboM,EAAM1uD,KAAK0uD,IAEX/+C,EAAU,IAAI69C,EAAQ,iBAAO,GAAI3/C,EAAS,CAAEuiD,YAAaA,KACzDjuD,EAAS,IAAI,IAAO,CAAE+nD,OAAO,IAC7BjnB,EA+ON,WACE,IAAIA,EAAQ,GAQZ,OANAnkC,OAAOuN,eAAe42B,EAAO,OAAQ,CACnCjlC,MAAO,WACL,OAAOgC,KAAKA,KAAKX,OAAS,MAIvB4jC,EAxPKotB,GAiBZ,SAASjiC,EAAYnW,EAAKmyC,EAAYsE,GAEpC,IAAI4B,EAAMlG,IAENplC,EAAOsrC,EAAItrC,KACX2nC,EAAS2D,EAAI3D,OACbrlC,EAAOgpC,EAAIhpC,KAKQ,MAAnBA,EAAK1kB,OAAO,KAAqC,IAAvB0kB,EAAKloB,QAAQ,OACzCkoB,EAAOA,EAAKzgB,MAAM,EAAGygB,EAAKloB,QAAQ,MAAQ,KAG5C,IAAI6vC,EACF,uBAAyB3nB,EAAOA,EAAO,IAAM,IAA7C,qBACatC,EADb,eAEe2nC,EAFf,qBAGqB10C,EAAIg3B,QAE3B,GAAIyf,EAMF,OALA/+C,EAAQk+C,WAAW,CACjB5e,QAASA,EACTjjB,MAAO/T,KAGF,EAEP,MAAM+T,EAAMijB,GAIhB,SAASwb,EAAcxyC,EAAKmyC,GAE1B,OAAOh8B,EAAYnW,EAAKmyC,GAAY,GAlDtCgG,EAAYzgD,QAAUA,EAGtBszB,EAAMniC,KAAKsvD,GAqGX,IAAIG,EAAyB,YAEzBC,EAAmB,uBAEnBC,EAAgB,WAmCpB,SAASC,EAAYpf,EAAM8Y,GAEzB,IACEnnB,EAAMvnB,OAAOizC,WAAWrd,GACxB,MAAOr5B,GACPwyC,EAAcxyC,EAAKmyC,IAgBvB,IAAIuG,EAASrO,EAAM0E,cAAc9iB,QAAO,SAASysB,EAAQ3kD,GAGvD,OAFA2kD,EAAO3kD,EAAEm7C,KAAOn7C,EAAEoc,OAEXuoC,IACN,IAEHxuD,EACGP,GAAG+uD,GACHviD,GAAG,WAAW,SAASjP,EAAKyxD,EAAWC,EAAazG,GAGnD,IAAIzrD,EAAQQ,EAAIR,OAAS,GAErBmyD,EAAehyD,OAAOC,KAAKJ,GAAOulC,QAAO,SAAS5gC,EAAGuP,GACvD,IAAI7U,EAAQ4yD,EAAUjyD,EAAMkU,IAI5B,OAFAvP,EAAEuP,GAAO7U,EAEFsF,IACN,KArDP,SAAoBzF,EAAMusD,GACxB,IAAIjnC,EAAU8f,EAAMvnB,OAEpB,IACEunB,EAAMniC,KAAKqiB,EAAQyrC,WAAW/wD,IAC9B,MAAOoa,GAEHmW,EAAYnW,EAAKmyC,EAAYsE,IAC/BzrB,EAAMniC,KAAK,IAAIktD,IAsDjB+C,CAPW,CACT9zD,KAAMkC,EAAIlC,KACV+yD,aAAc7wD,EAAI6wD,aAClBhB,WAAY8B,EACZlvD,GAAIzC,EAAIyC,IAGOwoD,MAElBh8C,GAAG,YApFN,SAAwB4iD,GAEtB,GAAKT,EAAuBlvD,KAAK2vD,GAAjC,CAIA,IAAIpmD,EAAQ4lD,EAAiB1D,KAAKkE,GAC9BC,EAAWrmD,GAASA,EAAM,GAEzBqmD,IAAYR,EAAcpvD,KAAK4vD,IAIpCthD,EAAQk+C,WAAW,CACjB5e,QACE,kCAAoCgiB,EAApC,iCAsEH7iD,GAAG,YA/FN,WACE60B,EAAMlB,MAAMuc,eA+FXlwC,GAAG,QAASsiD,GACZtiD,GAAG,QAAQ,SAASkjC,EAAMyX,EAAgBqB,IA7C7C,SAAoB9Y,EAAM8Y,IAGxB9Y,EAAOA,EAAKjP,SAMZquB,EAAYpf,EAAM8Y,GAqChBuE,CAAW5F,EAAezX,GAAO8Y,MAElCh8C,GAAG,QAASggB,GACZhgB,GAAG,OAAQq8C,GAhwBdx6B,YAswBM,WACJ,IAAIhY,EAEJ,IACE9V,EAAOL,MAAM+oD,GA3JjB,WAEE,IAGIjsD,EAAG8X,EAHH+2C,EAAe99C,EAAQ89C,aACvBC,EAAa/9C,EAAQ+9C,WAIzB,IAAK9uD,EAAI,EAAI8X,EAAIg3C,EAAW9uD,GAAKA,IAAK,CACpC,IAAIpC,EAAUka,EAAEla,QACZoJ,EAAY6nD,EAAa/2C,EAAE/N,IAC3B6mB,EAAW+9B,EAAoB/wD,GAASwnD,iBAAiBttC,EAAE8Y,UAW/D,GATK5pB,GACH+J,EAAQk+C,WAAW,CACjB5e,QAAS,yBAA2Bv4B,EAAE/N,GAAK,IAC3CnM,QAASka,EAAEla,QACXgzB,SAAU9Y,EAAE8Y,SACZxxB,MAAO0Y,EAAE/N,KAIT6mB,EAASizB,OAAQ,CACnB,IAAIhwC,EAAajW,EAAQoS,IAAI4gB,EAASvyB,MAClC+J,EAAMyL,EAAWrT,QAAQsX,IAIhB,IAAT1P,IACFA,EAAMyL,EAAWpT,QAGduG,EAKH6M,EAAWzL,GAAOpB,EAHlB6M,EAAWrR,OAAO4F,EAAK,QAMzBxK,EAAQg/B,IAAIhM,EAASvyB,KAAM2I,IAsH7BsrD,GACA,MAAOzzD,GACPwa,EAAMxa,EAGR,IAAIjB,EAAU4zD,EAAY5zD,QAIrByb,GAAQzb,IACXyb,EAAM+T,EAAM,gCAAkCokC,EAAY3zD,KAAKgsD,YAAYxrD,KAAO,MAGpF+a,EAAKC,EAAKA,OAAMzZ,EAAYhC,EAASmT,KAzxBxB,IA6xBjB8+C,EAAOjvD,UAAU2jB,QAAU,SAASlmB,GAClC,OAAO,IAAIsxD,EAAmBvuD,KAAKsiD,MAAOrlD,IAkB5C,IAEIk0D,EAAoB,qBACpBC,EAAe,SAGnB,SAASC,EAAWjxD,GAElB,IAAIkxD,EAAY,GACZX,EAAS,GACTY,EAAO,GAEPC,EAAY,GACZ9qB,EAAS,GAIb1mC,KAAKyxD,MAAQ,SAAStK,GACpB,OAAOwJ,EAAOxJ,IACZ/mD,GAAUA,EAAOqxD,MAAMtK,IAI3BnnD,KAAKY,IAAM,SAASgB,EAAI8vD,GAEtBf,EAAO/uD,EAAGulD,KAAOvlD,EAEb8vD,EACFF,EAAU1wD,KAAKc,GAEf8kC,EAAO5lC,KAAKc,GAGd5B,KAAK2xD,UAAU/vD,EAAGwmB,OAAQxmB,EAAGulD,MAG/BnnD,KAAK4xD,YAAc,SAASxpC,GAC1B,OAAOkpC,EAAUlpC,GAAU,UAG7BpoB,KAAK2xD,UAAY,SAASvpC,EAAQ++B,GAChCmK,EAAUlpC,GAAU,SAAW++B,GAGjCnnD,KAAK8xD,QAAU,SAASlwD,GACtB,IAAIulD,EAAMvlD,EAAGulD,IAEboK,EAAKpK,GAAOnnD,KAAKyxD,MAAMtK,IAGzBnnD,KAAKgyD,QAAU,SAASpwD,GAQtB,MAFY,GAAGsX,OAAOs4C,EAAW9qB,GAEpBh/B,QANb,SAAgB9F,GACd,OAAO2vD,EAAK3vD,EAAGulD,SAsBrB,SAAS8K,EAASh8C,EAAMC,GACtBD,EAAKE,OAASD,EACdD,EAAKzW,UAAYV,OAAO6D,OAAOuT,EAAU1W,UAAW,CAClDwL,YAAa,CACXhN,MAAOiY,EACPxJ,YAAY,EACZZ,UAAU,EACVC,cAAc,KAKpB,SAAS,EAAOlK,GACd,OAAI,mBAASA,GACJA,GAECA,EAAGwmB,OAASxmB,EAAGwmB,OAAS,IAAM,IAAMxmB,EAAG+hD,UAwDnD,IAAIuO,EAAkB,CACpB,KAAM,MACN,OAAQ,MACR,IAAK,MACLhoD,IAAM,MACN,IAAK,MACL,IAAK,MACL,IAAK,OAGHioD,EAAa,CACf,IAAK,KACL,IAAK,KACL,IAAK,OAGP,SAAS,EAAOxnD,EAAKynD,EAAaC,GAKhC,OAFA1nD,EAAM,mBAASA,GAAOA,EAAM,GAAKA,GAEtBzM,QAAQk0D,GAAa,SAAS3qD,GACvC,MAAO,IAAM4qD,EAAW5qD,GAAK,OA2BjC,SAAS6qD,EAAoBC,GAC3BvyD,KAAKuyD,QAAUA,EAejB,SAASC,KAqBT,SAASC,EAAgBF,GACvBvyD,KAAKuyD,QAAUA,EAkBjB,SAASG,EAAkBtyD,EAAQuyD,GACjC3yD,KAAK0Z,KAAO,GACZ1Z,KAAKrB,MAAQ,GAEbqB,KAAKI,OAASA,EACdJ,KAAK2yD,mBAAqBA,EA+b5B,SAASC,EAAexyD,EAAQuyD,GAC9BD,EAAkBxxD,KAAKlB,KAAMI,EAAQuyD,GAsCvC,SAASE,IACP7yD,KAAKhC,MAAQ,GAEbgC,KAAK8yD,MAAQ,SAASnoD,GACpB3K,KAAKhC,OAAS2M,GAIlB,SAASooD,EAAgBxR,EAAKyR,GAE5B,IAAIC,EAAS,CAAC,IAEdjzD,KAAKpC,OAAS,SAAS+M,GAGrB,OAFA42C,EAAIuR,MAAMnoD,GAEH3K,MAGTA,KAAKkzD,cAAgB,WAKnB,OAJIF,GACFzR,EAAIuR,MAAM,MAGL9yD,MAGTA,KAAKmzD,aAAe,WAKlB,OAJIH,GACFzR,EAAIuR,MAAMG,EAAOhyD,KAAK,OAGjBjB,MAGTA,KAAKizD,OAAS,WAEZ,OADAA,EAAOnyD,KAAK,IACLd,MAGTA,KAAKozD,SAAW,WAEd,OADAH,EAAOlxB,MACA/hC,MASX,SAASqzD,EAAOxlD,GAmBd,OAjBAA,EAAU,iBAAO,CAAEmlD,QAAQ,EAAOM,UAAU,GAAQzlD,GAAW,IAiBxD,CACL0lD,MAhBF,SAAeC,EAAMC,GACnB,IAAIC,EAAiBD,GAAU,IAAIZ,EAC/Bc,EAAkB,IAAIZ,EAAgBW,EAAgB7lD,EAAQmlD,QAQlE,GANInlD,EAAQylD,UACVK,EAAgB/1D,OAlyBH,6CAqyBf,IAAI80D,GAAoB5N,MAAM0O,GAAMI,YAAYD,IAE3CF,EACH,OAAOC,EAAe11D,QCxpD5B,SAAS61D,EAAU3P,EAAUr2C,GAC3B82C,EAAOzjD,KAAKlB,KAAMkkD,EAAUr2C,GDujC9BykD,EAAoB9yD,UAAUslD,MAAQ,SAAStoD,GAE7C,OADAwD,KAAKxD,QAAUA,EACRwD,MAGTsyD,EAAoB9yD,UAAUo0D,YAAc,SAASH,GACnDA,EACGN,eACAv1D,OAAO,IAAMoC,KAAKuyD,QAAU,IAAMvyD,KAAKxD,QAAQmM,GAAK,KAAO3I,KAAKuyD,QAAU,KAC1EW,iBAKLV,EAAehzD,UAAUs0D,eACzBtB,EAAehzD,UAAUo0D,YAAc,SAASH,GAC9CA,EAAO71D,OACLoC,KAAK+zD,OAjCA,EAkCU/zD,KAAKhC,MAlCHozD,EAAce,GAmC3BnyD,KAAKhC,QAIbw0D,EAAehzD,UAAUslD,MAAQ,SAASl3C,EAAM5P,GAO9C,OANAgC,KAAKhC,MAAQA,EAEK,WAAd4P,EAAKnR,OAAqD,IAAhCuB,EAAMwrB,OAAO4nC,KACzCpxD,KAAK+zD,QAAS,GAGT/zD,MAOTiyD,EAASQ,EAAiBD,GAE1BC,EAAgBjzD,UAAUo0D,YAAc,SAASH,GAE/CA,EACGN,eACAv1D,OAAO,IAAMoC,KAAKuyD,QAAU,KAE/BvyD,KAAK8zD,eAAeL,GAEpBA,EACG71D,OAAO,KAAOoC,KAAKuyD,QAAU,KAC7BW,iBAWLR,EAAkBlzD,UAAUslD,MAAQ,SAAStoD,GAC3CwD,KAAKxD,QAAUA,EAEf,IAGIw3D,EACAzR,EAhFoBv/C,EA4EpBixD,EAAoBz3D,EAAQisD,YAC5BkK,EAAqB3yD,KAAK2yD,mBAK1BpK,EAAY0L,EAAkB1L,UA0BlC,OAvBEyL,EADEzL,EACWvoD,KAAKk0D,aAAa13D,GAElBwD,KAAKm0D,kBAAkB33D,GAIpCwD,KAAK4B,GADH+wD,EACQ3yD,KAAKo0D,kBAAkBzB,GAEvB3yD,KAAKq0D,UAAUJ,GAI3Bj0D,KAAKuyD,QAAUvyD,KAAKs0D,WAAWt0D,KAAK4B,IAE/B2mD,IACHhG,EA3KJ,SAAmC/lD,GACjC,IAAIoW,EAAapW,EAAQisD,YAEzB,OAAO,iBAAO71C,EAAW2vC,YAAY,SAASv2C,GAC5C,IAAI/O,EAAO+O,EAAE/O,KAEb,GAAI+O,EAAE0jD,UACJ,OAAO,EAIT,IAAKlzD,EAAQizB,eAAexyB,GAC1B,OAAO,EAGT,IAAIe,EAAQxB,EAAQS,GAGpB,OAAIe,IAAUgO,EAAE02C,UAKF,OAAV1kD,KAIGgO,EAAEy2C,QAASzkD,EAAMqB,YAgJXk1D,CAA0B/3D,GAEvCwD,KAAKw0D,iBAtGiBxxD,EAsGgBu/C,EArGjC,iBAAOv/C,GAAO,SAASgJ,GAAK,OAAOA,EAAEqjD,YAsG1CrvD,KAAKy0D,kBAnGT,SAAyBzxD,GACvB,OAAO,iBAAOA,GAAO,SAASgJ,GAAK,OAAQA,EAAEqjD,UAkGpBqF,CAAgBnS,KAGzCviD,KAAK20D,uBAAuBn4D,EAASw3D,GAE9Bh0D,MAGT0yD,EAAkBlzD,UAAU60D,UAAY,SAASzhD,GAE/C,OApMF,SAAsBhR,EAAIgR,GACxB,OAAIA,EAAW21C,UACN,iBAAO,CAAE5E,UAAW/wC,EAAWhR,GAAG+hD,WAAa/hD,GAE/C,iBAAO,CAAE+hD,WAzCC1mD,EAyCsB2V,EAAWhR,GAAG+hD,UAzC9BY,EAyCyC3xC,EAAWs1C,KAxCzE6E,EAAkBxI,IALTn3B,EAMEnwB,GALD2F,OAAO,GAAGzE,cAAgBivB,EAAOvmB,MAAM,GAO5C5J,IAqC6E2E,GAzCxF,IAAqB3E,EAAMsnD,EAJZn3B,EA6ONwnC,CADW50D,KAAK60D,iBAAiBjiD,EAAWhR,IAClBgR,IAGnC8/C,EAAkBlzD,UAAU40D,kBAAoB,SAASxhD,GAEvD,OAjMF,SAAuBhR,EAAIgR,GACzB,OAAO,iBAAO,CAAE+wC,UAAW/wC,EAAWhR,GAAG+hD,WAAa/hD,GAgM/CkzD,CADW90D,KAAK60D,iBAAiBjiD,EAAWhR,IACjBgR,IAGpC8/C,EAAkBlzD,UAAUu1D,UAAY,SAASnzD,GAC/C,OAAOA,EAAGulD,MAAQnnD,KAAK4B,GAAGulD,KAW5BuL,EAAkBlzD,UAAUw1D,gBAAkB,SAASx4D,GAErD,IAAIoF,EASJ,GANEA,EADE,mBAASpF,GACNinD,EAAYjnD,GAEZA,EAAQoF,GAIXpF,EAAQkqD,UACV,MAAO,CAAE/C,UAAW/hD,EAAG+hD,WAIzB,IAAIsR,EAAcj1D,KAAK60D,iBAAiBjzD,GAMxC,OAHA5B,KAAKk1D,gBAAgBpD,QAAQmD,GAGzBj1D,KAAK+0D,UAAUE,GACV,CAAEtR,UAAW/hD,EAAG+hD,WAEhB,iBAAO,CAAEA,UAAW/hD,EAAG+hD,WAAasR,IAI/CvC,EAAkBlzD,UAAU00D,aAAe,SAAS13D,GAElD,IAAI0O,EAAOlL,KACP0Z,EAAO1Z,KAAK0Z,KAEZs1C,EAAa,GAuBjB,OArBA,kBAAQxyD,GAAS,SAASoa,EAAK/D,GAIjB,UAARA,EACF6G,EAAK5Y,MAAK,IAAI0xD,GAAiB1N,MAAM,CAAEroD,KAAM,UAAYma,IAE/C,cAAR/D,EACF,kBAAQ+D,GAAK,SAASpW,GACpBkZ,EAAK5Y,KAAK,IAAI4xD,EAAkBxnD,GAAM45C,MAAMtkD,OAGvB,IAArBqS,EAAIzT,QAAQ,MACF8L,EAAKiqD,iBAAiB34D,EAASqW,EAAK+D,IAG9Co4C,EAAWluD,KAAK,CAAE7D,KAAM4V,EAAK7U,MAAO4Y,OAKnCo4C,GAGT0D,EAAkBlzD,UAAU21D,iBAAmB,SAAS34D,EAASS,EAAMe,GACrE,IAII4D,EAJA0gD,EAAQ9lD,EAAQ+N,OAEhBs5C,EAASJ,EAAYxmD,GAczB,GATsB,UAAlB4mD,EAAOz7B,SACTxmB,EAAK,CAAEwmB,OAAQy7B,EAAOF,UAAWwD,IAAKnpD,IAInC6lD,EAAOz7B,QAA+B,UAArBy7B,EAAOF,YAC3B/hD,EAAK,CAAEulD,IAAKnpD,KAGT4D,EACH,MAAO,CACL3E,KAAMA,EACNe,MAAOA,GAIX,GAAIskD,GAASA,EAAMwE,WAAW9oD,GAE5BgC,KAAKo1D,aAAaxzD,GAAI,GAAM,OACvB,CAEL,IAAIyzD,EAAWr1D,KAAK60D,iBAAiBjzD,GAAI,GAEzC5B,KAAKk1D,gBAAgBpD,QAAQuD,KAWjC3C,EAAkBlzD,UAAU20D,kBAAoB,SAAS33D,EAASmC,GAChE,IAAIuM,EAAOlL,KAEPs1D,EAAe94D,EAAQ4rD,OAEvB4G,EAAa,GAcjB,OATA,kBAAQsG,GAAc,SAASt3D,EAAOf,GAEpC,IAAIs4D,EAAYrqD,EAAKiqD,iBAAiB34D,EAASS,EAAMe,GAEjDu3D,GACFvG,EAAWluD,KAAKy0D,MAIbvG,GAGT0D,EAAkBlzD,UAAUm1D,uBAAyB,SAASn4D,EAASwyD,GAErE,IAAI9jD,EAAOlL,KAEX,kBAAQgvD,GAAY,SAASzwD,GAI3B,GArzCW,aAqzCPA,EAAKtB,KAIT,IACEiO,EAAKsqD,aAAatqD,EAAK8pD,gBAAgBz2D,EAAKtB,MAAOsB,EAAKP,OACxD,MAAOP,GACPovB,QAAQC,KACN,qCACAvuB,EAAKtB,KAAM,IAAKsB,EAAKP,MAAO,KAAMxB,EAClCiB,QAKRi1D,EAAkBlzD,UAAUi1D,kBAAoB,SAASlS,GAEvD,IAAIr3C,EAAOlL,KACP0Z,EAAO1Z,KAAK0Z,KACZld,EAAUwD,KAAKxD,QAEnB,kBAAQ+lD,GAAY,SAASv2C,GAC3B,IAAIhO,EAAQxB,EAAQoS,IAAI5C,EAAE/O,MACtBynD,EAAc14C,EAAE04C,YAOpB,GANa14C,EAAEy2C,SAGbzkD,EAAQ,CAAEA,IAGRgO,EAAEy5C,OACJ/rC,EAAK5Y,MAAK,IAAI0xD,GAAiB1N,MAAM94C,EAAGhO,EAAM,UAEhD,GAAIwlD,EAAax3C,EAAEvP,MACjB,kBAAQuB,GAAO,SAASs3B,GACtB5b,EAAK5Y,KAAK,IAAI2xD,EAAgBvnD,EAAKopD,WAAWppD,EAAKkpD,kBAAkBpoD,KAAK84C,MAAM94C,EAAGspB,YAGvF,GAAIovB,EACF,kBAAQ1mD,GAAO,SAASs3B,GACtB5b,EAAK5Y,KAAK,IAAIwxD,EAAoBpnD,EAAKopD,WAAWppD,EAAKkpD,kBAAkBpoD,KAAK84C,MAAMxvB,WAEjF,CAGL,IAAImgC,EAASrI,EAAgBphD,GACzB0pD,EAz1CV,SAA6Bl5D,GAC3B,MAAoC,aAA7B0wD,EAAgB1wD,GAw1CFm5D,CAAoB3pD,GAErC,kBAAQhO,GAAO,SAASs3B,GACtB,IAAIsgC,EAGFA,EADEH,EACW,IAAI7C,EAAe1nD,EAAMc,GAEpC0pD,EACW,IAAIhD,EAAkBxnD,EAAMc,GAE5B,IAAI0mD,EAAkBxnD,GAGrCwO,EAAK5Y,KAAK80D,EAAW9Q,MAAMxvB,YAMnCo9B,EAAkBlzD,UAAU01D,cAAgB,SAASW,GAEnD,IAEIC,EAFAC,EAAa/1D,KAAK+1D,WAClB31D,EAASJ,KAAKI,OAalB,OAVK21D,IACHD,EAAmB11D,GAAUA,EAAO80D,gBAEhCW,IAAUC,EACZ91D,KAAK+1D,WAAaA,EAAa,IAAI1E,EAAWyE,GAE9CC,EAAaD,GAIVC,GAGTrD,EAAkBlzD,UAAU41D,aAAe,SAASxzD,EAAI4vD,EAAWqE,GACjE,IAAIE,EAAa/1D,KAAKk1D,cAAcW,GAEhCvN,EAAQ1mD,EAAGulD,IACXtB,EAAWjkD,EAAGwmB,OAUlB,OARe2tC,EAAWtE,MAAMnJ,IAG9ByN,EAAWn1D,IAAIgB,EAAI4vD,GAGrBuE,EAAWpE,UAAU9L,EAAUyC,GAExB1mD,GAGT8wD,EAAkBlzD,UAAUq1D,iBAAmB,SAASjzD,EAAIi0D,GAC1D,IAYIG,EAAWhvD,EACXivD,EAZA3T,EADUtiD,KAAKxD,QACC+N,OAChBwrD,EAAa/1D,KAAKk1D,cAAcW,GAQhCztC,EAASxmB,EAAGwmB,OACZ++B,EAAMvlD,EAAGulD,IAKb,IAAK/+B,IAAW++B,EACd,MAAO,CAAExD,UAAW/hD,EAAG+hD,WAOzB,GAJAsS,EAAehJ,EAAe7kC,IAAWk6B,IAAUA,EAAMwE,WAAW1+B,IAAW,IAAI++B,MAEnFA,EAAMA,GAAO8O,GAAgBF,EAAWnE,YAAYxpC,IAGlD,MAAM,IAAIroB,MAAM,sCAAwCqoB,EAAS,KAKnE,KAFAxmB,EAAKm0D,EAAWtE,MAAMtK,IAEb,CAKP,IAJA6O,EAAY5tC,EACZphB,EAAM,EAGC+uD,EAAWnE,YAAYoE,IAC5BA,EAAY5tC,EAAS,IAAMphB,IAG7BpF,EAAK5B,KAAKo1D,aAAa,CAAEhtC,OAAQ4tC,EAAW7O,IAAKA,GAAO8O,IAAiB9O,GAO3E,OAJI/+B,GACF2tC,EAAWpE,UAAUvpC,EAAQ++B,GAGxBvlD,GAGT8wD,EAAkBlzD,UAAUg1D,gBAAkB,SAASjS,GACrD,IAAIr3C,EAAOlL,KACPxD,EAAUwD,KAAKxD,QAEnB,kBAAQ+lD,GAAY,SAASv2C,GAE3B,IAAIhO,EAAQxB,EAAQoS,IAAI5C,EAAE/O,MAE1B,GAAI+O,EAAE04C,YAEJ,GAAK14C,EAAEy2C,OAGF,CACH,IAAIwM,EAAS,GACb,kBAAQjxD,GAAO,SAASs3B,GACtB25B,EAAOnuD,KAAKw0B,EAAE3sB,OAGhB3K,EAAQixD,EAAOhuD,KAAK,UARpBjD,EAAQA,EAAM2K,GAalBuC,EAAKsqD,aAAatqD,EAAK8pD,gBAAgBhpD,GAAIhO,OAI/C00D,EAAkBlzD,UAAU80D,WAAa,SAASD,GAChD,IAAIgB,EAAWr1D,KAAK60D,iBAAiBR,GAIrC,OAFAr0D,KAAKk1D,gBAAgBpD,QAAQuD,GAEtB,EAAOhB,IAGhB3B,EAAkBlzD,UAAUg2D,aAAe,SAASv4D,EAAMe,GACxD,IAAIW,EAAQqB,KAAKrB,MAEb,mBAASX,KACXA,EAhdK,EAgdcA,EAhdFmzD,EAAmBe,IAmdtCvzD,EAAMmC,KAAK,CAAE7D,KAAMA,EAAMe,MAAOA,KAGlC00D,EAAkBlzD,UAAU02D,oBAAsB,SAASzC,GACzD,IAAI90D,EAAQqB,KAAKrB,MACbo3D,EAAa/1D,KAAK+1D,WAElBA,IACFp3D,EAhjBJ,SAAoBo3D,GAElB,OAAO,cAAIA,EAAW/D,WAAW,SAASpwD,GAExC,MAAO,CAAE3E,KADE,SAAW2E,EAAGwmB,OAAS,IAAMxmB,EAAGwmB,OAAS,IAC/BpqB,MAAO4D,EAAGulD,QA4iBvBgP,CAAWJ,GAAY78C,OAAOva,IAGxC,kBAAQA,GAAO,SAASwE,GACtBswD,EACG71D,OAAO,KACPA,OAAO,EAAOuF,EAAElG,OAAOW,OAAO,MAAMA,OAAOuF,EAAEnF,OAAOJ,OAAO,SAIlE80D,EAAkBlzD,UAAUo0D,YAAc,SAASH,GACjD,IAAI2C,EAAYp2D,KAAK0Z,KAAK,GACtBu5C,EAASmD,GAAaA,EAAUprD,cAAgBwnD,EAEpDiB,EACGN,eACAv1D,OAAO,IAAMoC,KAAKuyD,SAErBvyD,KAAKk2D,oBAAoBzC,GAEzBA,EAAO71D,OAAOw4D,EAAY,IAAM,OAE5BA,IAEEnD,GACFQ,EACGP,gBACAD,SAGL,kBAAQjzD,KAAK0Z,MAAM,SAAStW,GAC1BA,EAAEwwD,YAAYH,MAGZR,GACFQ,EACGL,WACAD,eAGLM,EAAO71D,OAAO,KAAOoC,KAAKuyD,QAAU,MAGtCkB,EAAOP,iBAUTjB,EAASW,EAAgBF,GAEzBE,EAAepzD,UAAU20D,kBAAoB,SAAS33D,GAGpD,IAAIwyD,EAAa0D,EAAkBlzD,UAAU20D,kBAAkBjzD,KAAKlB,KAAMxD,GAEtEoW,EAAapW,EAAQisD,YAGzB,GAAI71C,EAAW3V,OAAS+C,KAAK2yD,mBAAmBl2D,KAC9C,OAAOuyD,EAGT,IAAIqH,EAASr2D,KAAKq2D,OAASr2D,KAAKq0D,UAAUzhD,GAC1C5S,KAAKk1D,gBAAgBpD,QAAQ9xD,KAAKq2D,QAKlC,IAAI9R,EAAM/nD,EAAQ+N,OAAOu8C,WAAWuP,EAAOlP,KACvCmI,EAAc/K,EAAIsG,KAAOtG,EAAIsG,IAAIyE,YAAe,GAOpD,OALAtvD,KAAKw1D,aACHx1D,KAAKg1D,gBA7kDM,aA8kDVqB,EAAOjuC,OAASiuC,EAAOjuC,OAAS,IAAM,IAAMknC,EAAa18C,EAAWhR,GAAG+hD,WAGnEqL,GAGT4D,EAAepzD,UAAUu1D,UAAY,SAASnzD,GAC5C,OAAOA,EAAGulD,OAASnnD,KAAKq2D,QAAUr2D,KAAK4B,IAAIulD,KChlD7C0M,EAAUr0D,UAAYV,OAAO6D,OAAOgiD,EAAOnlD,WAY3Cq0D,EAAUr0D,UAAU2wD,QAAU,SAASmG,EAAQ1P,EAAU/4C,EAASmK,GAE3D,mBAAS4uC,KACZ5uC,EAAOnK,EACPA,EAAU+4C,EACVA,EAAW,mBAGT,qBAAW/4C,KACbmK,EAAOnK,EACPA,EAAU,IAGZ,IAAI0oD,EAAS,IAAI9H,EAAO,iBAAO,CAAEnM,MAAOtiD,KAAM0uD,KAAK,GAAQ7gD,IACvDuiD,EAAcmG,EAAOpzC,QAAQyjC,GAEjC2P,EAAOpG,QAAQmG,EAAQlG,EAAap4C,IAWtC67C,EAAUr0D,UAAU+zD,MAAQ,SAAS/2D,EAASqR,EAASmK,GAEjD,qBAAWnK,KACbmK,EAAOnK,EACPA,EAAU,IAGZ,IAEIhG,EACAoQ,EAHAw7C,EAAS,IAAIJ,EAAOxlD,GAKxB,IACEhG,EAAS4rD,EAAOF,MAAM/2D,GACtB,MAAOiB,GACPwa,EAAMxa,EAGR,OAAOua,EAAKC,EAAKpQ,IAGnB,IAynEI,GAAW,CACb2uD,GA3hEc,CACfv5D,KAhGU,KAiGVmrB,OAhGY,KAiGZ++B,IAhGS,2CAiGThqD,MAhGW,CACX,CACCF,KAAM,YACNslD,WAAY,CACX,CACCtlD,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,SACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,SACNslD,WAAY,CACX,CACCtlD,KAAM,SACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,QACNslD,WAAY,CACX,CACCtlD,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,QAEP,CACCQ,KAAM,IACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,QACNslD,WAAY,CACX,CACCtlD,KAAM,MACNR,KAAM,0DAEP,CACCQ,KAAM,QACNR,KAAM,0DAEP,CACCQ,KAAM,OACNR,KAAM,6DA4BTg6D,aAvBkB,GAwBlBC,aAtBkB,CAClB,CACCz5D,KAAM,gBACN05D,cAAe,CACd,CACC15D,KAAM,SAEP,CACCA,KAAM,UAEP,CACCA,KAAM,WAiiERw3B,GA56Dc,CACfx3B,KAxGY,KAyGZmrB,OAxGc,KAyGd++B,IAxGW,2CAyGXhqD,MAxGa,CACb,CACCF,KAAM,iBACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,KACNoyD,QAAQ,EACR9J,MAAM,EACN9oD,KAAM,UAEP,CACCQ,KAAM,QACNynD,aAAa,EACbjoD,KAAM,QACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNynD,aAAa,EACbgL,WAAW,EACXjzD,KAAM,WAIT,CACCQ,KAAM,UACN0O,WAAY,CACX,kBAED42C,WAAY,CACX,CACCtlD,KAAM,OACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,gBACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,aACNoyD,QAAQ,EACR5yD,KAAM,UAIT,CACCQ,KAAM,QACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,SACNR,KAAM,cAGRkP,WAAY,CACX,mBAGF,CACC1O,KAAM,OACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,WACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,cAIdxhD,WAAY,CACX,mBAGF,CACC1O,KAAM,QACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,KACNoyD,QAAQ,EACR9J,MAAM,EACN9oD,KAAM,aAiBTg6D,aAZoB,GAapBC,aAXoB,GAYpB7L,IAVS,CACTmC,SAAU,cA+6DT6J,IA7Pe,CAChB55D,KAvqDY,MAwqDZmrB,OAvqDc,MAwqDd++B,IAvqDW,+CAwqDXhqD,MAvqDa,CACb,CACCF,KAAM,uBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,oBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,mBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,MACNR,KAAM,yBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,WACNR,KAAM,WACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,kBACNR,KAAM,kBACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,iBACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,UACNR,KAAM,SACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,aACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,eACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,cACNR,KAAM,cACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,gBACNR,KAAM,iBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,uBACNR,KAAM,iBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,eACNoyD,QAAQ,EACR5yD,KAAM,aAIT,CACCQ,KAAM,cACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,SACNR,KAAM,SACNgmD,QAAQ,GAET,CACCxlD,KAAM,iBACNR,KAAM,iBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,aACNR,KAAM,aACNgmD,QAAQ,GAET,CACCxlD,KAAM,WACNR,KAAM,WACNgmD,QAAQ,GAET,CACCxlD,KAAM,oBACNR,KAAM,oBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,yBACNR,KAAM,yBACNgmD,QAAQ,GAET,CACCxlD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,GAET,CACCxlD,KAAM,mBACNR,KAAM,mBACNgmD,QAAQ,GAET,CACCxlD,KAAM,YACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,qBACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,eACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,WACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,kBACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,QACNR,KAAM,iBAIT,CACCQ,KAAM,kBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,OACNR,KAAM,SACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,QACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNR,KAAM,SACN4yD,QAAQ,KAIX,CACCpyD,KAAM,eACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,aACNR,KAAM,aACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNR,KAAM,oBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,kBACNR,KAAM,iBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,gBACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,aACN25D,YAAY,EACZjrD,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,UACNR,KAAM,UACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,WACNR,KAAM,WACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,OACNR,KAAM,OACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,eACNR,KAAM,eACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,qBACNR,KAAM,qBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,SACNR,KAAM,aACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,UACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,OACNR,KAAM,iBACNizD,WAAW,EACXhL,aAAa,KAIhB,CACCznD,KAAM,kBACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,iBACNR,KAAM,WACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,UACNR,KAAM,UACNioD,aAAa,EACbjC,QAAQ,GAET,CACCxlD,KAAM,MACNR,KAAM,yBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,eACNR,KAAM,eACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,qBACNR,KAAM,qBACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,WACNR,KAAM,WACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,YACNR,KAAM,YACN4yD,QAAQ,EACR3K,aAAa,GAEd,CACCznD,KAAM,UACNoyD,QAAQ,EACR5yD,KAAM,UAEP,CACCQ,KAAM,kBACNR,KAAM,aACNizD,WAAW,EACXhL,aAAa,GAEd,CACCznD,KAAM,OACNR,KAAM,iBACNizD,WAAW,EACXhL,aAAa,GAEd,CACCznD,KAAM,oBACNR,KAAM,oBACNioD,aAAa,GAEd,CACCznD,KAAM,aACNR,KAAM,aACNioD,aAAa,GAEd,CACCznD,KAAM,gBACNR,KAAM,gBACNioD,aAAa,GAEd,CACCznD,KAAM,UACNR,KAAM,UACNioD,aAAa,GAEd,CACCznD,KAAM,OACNR,KAAM,OACNioD,aAAa,KAIhB,CACCznD,KAAM,WACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,SACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,iBACNR,KAAM,SACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,WACNR,KAAM,kBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,yBACNR,KAAM,yBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,uBACNR,KAAM,uBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,qBACNwlD,QAAQ,EACRhmD,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,+BACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,eACNwlD,QAAQ,EACRhmD,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,YACNwlD,QAAQ,EACRhmD,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,oBACNR,KAAM,qBAEP,CACCQ,KAAM,aACNR,KAAM,cAEP,CACCQ,KAAM,gBACNR,KAAM,iBAEP,CACCQ,KAAM,UACNR,KAAM,WAEP,CACCQ,KAAM,qBACNR,KAAM,sBAEP,CACCQ,KAAM,WACNR,KAAM,YAEP,CACCQ,KAAM,OACNR,KAAM,QAEP,CACCQ,KAAM,gBACNR,KAAM,cAEP,CACCQ,KAAM,sBACNR,KAAM,yBACNioD,aAAa,EACbjC,QAAQ,KAIX,CACCxlD,KAAM,aACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,oBACNR,KAAM,qBAEP,CACCQ,KAAM,aACNR,KAAM,cAEP,CACCQ,KAAM,gBACNR,KAAM,iBAEP,CACCQ,KAAM,UACNR,KAAM,WAEP,CACCQ,KAAM,qBACNR,KAAM,sBAEP,CACCQ,KAAM,WACNR,KAAM,YAEP,CACCQ,KAAM,OACNR,KAAM,QAEP,CACCQ,KAAM,UACNR,KAAM,UACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,iBACNR,KAAM,gBAIT,CACCQ,KAAM,qBACN0O,WAAY,CACX,0BAED42C,WAAY,CACX,CACCtlD,KAAM,eACNR,KAAM,WACNioD,aAAa,EACbjC,QAAQ,GAET,CACCxlD,KAAM,gBACNR,KAAM,WACNioD,aAAa,EACbjC,QAAQ,KAIX,CACCxlD,KAAM,SACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,aACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,cACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,YACNR,KAAM,SACN4yD,QAAQ,GAET,CACCpyD,KAAM,cACNR,KAAM,cACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,yBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,mBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,sBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,WACNR,KAAM,WACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,oBACN0O,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,aACNR,KAAM,sBACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNR,KAAM,cACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,aACN25D,YAAY,EACZjrD,WAAY,CACX,gBAED42C,WAAY,CACX,CACCtlD,KAAM,cACNR,KAAM,cACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,YACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,WACNR,KAAM,kBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,sBACNR,KAAM,yBACNioD,aAAa,EACbjC,QAAQ,KAIX,CACCxlD,KAAM,aACN25D,YAAY,EACZrU,WAAY,CACX,CACCtlD,KAAM,cACNR,KAAM,SACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,oBACNR,KAAM,oBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,KACNR,KAAM,SACN4yD,QAAQ,EACR9J,MAAM,GAEP,CACCtoD,KAAM,qBACNR,KAAM,qBACNgmD,QAAQ,GAET,CACCxlD,KAAM,QACNoyD,QAAQ,EACR5yD,KAAM,YAIT,CACCQ,KAAM,cACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,kBACNR,KAAM,oBACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,cACNR,KAAM,aACNouD,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAAM,gBACNR,KAAM,gBACN4yD,QAAQ,EACR3K,aAAa,KAIhB,CACCznD,KAAM,gBACN0O,WAAY,CACX,cAED42C,WAAY,CACX,CACCtlD,KAAM,QACNR,KAAM,cACNgmD,QAAQ,EACRoI,IAAK,CACJsC,UAAW,aAGb,CACClwD,KAA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","file":"9.9.js","sourcesContent":["import { some } from 'min-dash';\n/**\n * Is an element of the given DMN type?\n *\n * @param  {tjs.model.Base|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\n\nexport function is(element, type) {\n  var bo = getBusinessObject(element);\n  return bo && typeof bo.$instanceOf === 'function' && bo.$instanceOf(type);\n}\nexport function isInput(element) {\n  return is(element, 'dmn:InputClause');\n}\nexport function isOutput(element) {\n  return is(element, 'dmn:OutputClause');\n}\nexport function isRule(element) {\n  return is(element, 'dmn:DecisionRule');\n}\n/**\n * Return the business object for a given element.\n *\n * @param  {tjs.model.Base|ModdleElement} element\n *\n * @return {ModdleElement}\n */\n\nexport function getBusinessObject(element) {\n  return element && element.businessObject || element;\n}\nexport function getName(element) {\n  return getBusinessObject(element).name;\n}\n/**\n * Return true if element has any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {Array<string>} types\n *\n * @return {boolean}\n */\n\nexport function isAny(element, types) {\n  return some(types, function (t) {\n    return is(element, t);\n  });\n}\n//# sourceMappingURL=ModelUtil.js.map","function ensureImported(element, target) {\n\n  if (element.ownerDocument !== target.ownerDocument) {\n    try {\n      // may fail on webkit\n      return target.ownerDocument.importNode(element, true);\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  return element;\n}\n\n/**\n * appendTo utility\n */\n\n/**\n * Append a node to a target element and return the appended node.\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the appended node\n */\nfunction appendTo(element, target) {\n  return target.appendChild(ensureImported(element, target));\n}\n\n/**\n * append utility\n */\n\n/**\n * Append a node to an element\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the element\n */\nfunction append(target, node) {\n  appendTo(node, target);\n  return target;\n}\n\n/**\n * attribute accessor utility\n */\n\nvar LENGTH_ATTR = 2;\n\nvar CSS_PROPERTIES = {\n  'alignment-baseline': 1,\n  'baseline-shift': 1,\n  'clip': 1,\n  'clip-path': 1,\n  'clip-rule': 1,\n  'color': 1,\n  'color-interpolation': 1,\n  'color-interpolation-filters': 1,\n  'color-profile': 1,\n  'color-rendering': 1,\n  'cursor': 1,\n  'direction': 1,\n  'display': 1,\n  'dominant-baseline': 1,\n  'enable-background': 1,\n  'fill': 1,\n  'fill-opacity': 1,\n  'fill-rule': 1,\n  'filter': 1,\n  'flood-color': 1,\n  'flood-opacity': 1,\n  'font': 1,\n  'font-family': 1,\n  'font-size': LENGTH_ATTR,\n  'font-size-adjust': 1,\n  'font-stretch': 1,\n  'font-style': 1,\n  'font-variant': 1,\n  'font-weight': 1,\n  'glyph-orientation-horizontal': 1,\n  'glyph-orientation-vertical': 1,\n  'image-rendering': 1,\n  'kerning': 1,\n  'letter-spacing': 1,\n  'lighting-color': 1,\n  'marker': 1,\n  'marker-end': 1,\n  'marker-mid': 1,\n  'marker-start': 1,\n  'mask': 1,\n  'opacity': 1,\n  'overflow': 1,\n  'pointer-events': 1,\n  'shape-rendering': 1,\n  'stop-color': 1,\n  'stop-opacity': 1,\n  'stroke': 1,\n  'stroke-dasharray': 1,\n  'stroke-dashoffset': 1,\n  'stroke-linecap': 1,\n  'stroke-linejoin': 1,\n  'stroke-miterlimit': 1,\n  'stroke-opacity': 1,\n  'stroke-width': LENGTH_ATTR,\n  'text-anchor': 1,\n  'text-decoration': 1,\n  'text-rendering': 1,\n  'unicode-bidi': 1,\n  'visibility': 1,\n  'word-spacing': 1,\n  'writing-mode': 1\n};\n\n\nfunction getAttribute(node, name) {\n  if (CSS_PROPERTIES[name]) {\n    return node.style[name];\n  } else {\n    return node.getAttributeNS(null, name);\n  }\n}\n\nfunction setAttribute(node, name, value) {\n  var hyphenated = name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\n  var type = CSS_PROPERTIES[hyphenated];\n\n  if (type) {\n    // append pixel unit, unless present\n    if (type === LENGTH_ATTR && typeof value === 'number') {\n      value = String(value) + 'px';\n    }\n\n    node.style[hyphenated] = value;\n  } else {\n    node.setAttributeNS(null, name, value);\n  }\n}\n\nfunction setAttributes(node, attrs) {\n\n  var names = Object.keys(attrs), i, name;\n\n  for (i = 0, name; (name = names[i]); i++) {\n    setAttribute(node, name, attrs[name]);\n  }\n}\n\n/**\n * Gets or sets raw attributes on a node.\n *\n * @param  {SVGElement} node\n * @param  {Object} [attrs]\n * @param  {String} [name]\n * @param  {String} [value]\n *\n * @return {String}\n */\nfunction attr(node, name, value) {\n  if (typeof name === 'string') {\n    if (value !== undefined) {\n      setAttribute(node, name, value);\n    } else {\n      return getAttribute(node, name);\n    }\n  } else {\n    setAttributes(node, name);\n  }\n\n  return node;\n}\n\n/**\r\n * Clear utility\r\n */\r\nfunction index(arr, obj) {\r\n  if (arr.indexOf) {\r\n    return arr.indexOf(obj);\r\n  }\r\n\r\n\r\n  for (var i = 0; i < arr.length; ++i) {\r\n    if (arr[i] === obj) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return -1;\r\n}\r\n\r\nvar re = /\\s+/;\r\n\r\nvar toString = Object.prototype.toString;\r\n\r\nfunction defined(o) {\r\n  return typeof o !== 'undefined';\r\n}\r\n\r\n/**\r\n * Wrap `el` in a `ClassList`.\r\n *\r\n * @param {Element} el\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nfunction classes(el) {\r\n  return new ClassList(el);\r\n}\r\n\r\nfunction ClassList(el) {\r\n  if (!el || !el.nodeType) {\r\n    throw new Error('A DOM element reference is required');\r\n  }\r\n  this.el = el;\r\n  this.list = el.classList;\r\n}\r\n\r\n/**\r\n * Add class `name` if not already present.\r\n *\r\n * @param {String} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.add = function(name) {\r\n\r\n  // classList\r\n  if (this.list) {\r\n    this.list.add(name);\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  var arr = this.array();\r\n  var i = index(arr, name);\r\n  if (!~i) {\r\n    arr.push(name);\r\n  }\r\n\r\n  if (defined(this.el.className.baseVal)) {\r\n    this.el.className.baseVal = arr.join(' ');\r\n  } else {\r\n    this.el.className = arr.join(' ');\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove class `name` when present, or\r\n * pass a regular expression to remove\r\n * any which match.\r\n *\r\n * @param {String|RegExp} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.remove = function(name) {\r\n  if ('[object RegExp]' === toString.call(name)) {\r\n    return this.removeMatching(name);\r\n  }\r\n\r\n  // classList\r\n  if (this.list) {\r\n    this.list.remove(name);\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  var arr = this.array();\r\n  var i = index(arr, name);\r\n  if (~i) {\r\n    arr.splice(i, 1);\r\n  }\r\n  this.el.className.baseVal = arr.join(' ');\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all classes matching `re`.\r\n *\r\n * @param {RegExp} re\r\n * @return {ClassList}\r\n * @api private\r\n */\r\n\r\nClassList.prototype.removeMatching = function(re) {\r\n  var arr = this.array();\r\n  for (var i = 0; i < arr.length; i++) {\r\n    if (re.test(arr[i])) {\r\n      this.remove(arr[i]);\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Toggle class `name`, can force state via `force`.\r\n *\r\n * For browsers that support classList, but do not support `force` yet,\r\n * the mistake will be detected and corrected.\r\n *\r\n * @param {String} name\r\n * @param {Boolean} force\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.toggle = function(name, force) {\r\n  // classList\r\n  if (this.list) {\r\n    if (defined(force)) {\r\n      if (force !== this.list.toggle(name, force)) {\r\n        this.list.toggle(name); // toggle again to correct\r\n      }\r\n    } else {\r\n      this.list.toggle(name);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  if (defined(force)) {\r\n    if (!force) {\r\n      this.remove(name);\r\n    } else {\r\n      this.add(name);\r\n    }\r\n  } else {\r\n    if (this.has(name)) {\r\n      this.remove(name);\r\n    } else {\r\n      this.add(name);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return an array of classes.\r\n *\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.array = function() {\r\n  var className = this.el.getAttribute('class') || '';\r\n  var str = className.replace(/^\\s+|\\s+$/g, '');\r\n  var arr = str.split(re);\r\n  if ('' === arr[0]) {\r\n    arr.shift();\r\n  }\r\n  return arr;\r\n};\r\n\r\n/**\r\n * Check if class `name` is present.\r\n *\r\n * @param {String} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.has =\r\nClassList.prototype.contains = function(name) {\r\n  return (\r\n    this.list ?\r\n      this.list.contains(name) :\r\n      !! ~index(this.array(), name)\r\n  );\r\n};\n\nfunction remove(element) {\n  var parent = element.parentNode;\n\n  if (parent) {\n    parent.removeChild(element);\n  }\n\n  return element;\n}\n\n/**\n * Clear utility\n */\n\n/**\n * Removes all children from the given element\n *\n * @param  {DOMElement} element\n * @return {DOMElement} the element (for chaining)\n */\nfunction clear(element) {\n  var child;\n\n  while ((child = element.firstChild)) {\n    remove(child);\n  }\n\n  return element;\n}\n\nfunction clone(element) {\n  return element.cloneNode(true);\n}\n\nvar ns = {\n  svg: 'http://www.w3.org/2000/svg'\n};\n\n/**\n * DOM parsing utility\n */\n\nvar SVG_START = '<svg xmlns=\"' + ns.svg + '\"';\n\nfunction parse(svg) {\n\n  var unwrap = false;\n\n  // ensure we import a valid svg document\n  if (svg.substring(0, 4) === '<svg') {\n    if (svg.indexOf(ns.svg) === -1) {\n      svg = SVG_START + svg.substring(4);\n    }\n  } else {\n    // namespace svg\n    svg = SVG_START + '>' + svg + '</svg>';\n    unwrap = true;\n  }\n\n  var parsed = parseDocument(svg);\n\n  if (!unwrap) {\n    return parsed;\n  }\n\n  var fragment = document.createDocumentFragment();\n\n  var parent = parsed.firstChild;\n\n  while (parent.firstChild) {\n    fragment.appendChild(parent.firstChild);\n  }\n\n  return fragment;\n}\n\nfunction parseDocument(svg) {\n\n  var parser;\n\n  // parse\n  parser = new DOMParser();\n  parser.async = false;\n\n  return parser.parseFromString(svg, 'text/xml');\n}\n\n/**\n * Create utility for SVG elements\n */\n\n\n/**\n * Create a specific type from name or SVG markup.\n *\n * @param {String} name the name or markup of the element\n * @param {Object} [attrs] attributes to set on the element\n *\n * @returns {SVGElement}\n */\nfunction create(name, attrs) {\n  var element;\n\n  if (name.charAt(0) === '<') {\n    element = parse(name).firstChild;\n    element = document.importNode(element, true);\n  } else {\n    element = document.createElementNS(ns.svg, name);\n  }\n\n  if (attrs) {\n    attr(element, attrs);\n  }\n\n  return element;\n}\n\n/**\n * Events handling utility\n */\n\nfunction on(node, event, listener, useCapture) {\n  node.addEventListener(event, listener, useCapture);\n}\n\nfunction off(node, event, listener, useCapture) {\n  node.removeEventListener(event, listener, useCapture);\n}\n\n/**\n * Geometry helpers\n */\n\n// fake node used to instantiate svg geometry elements\nvar node = create('svg');\n\nfunction extend(object, props) {\n  var i, k, keys = Object.keys(props);\n\n  for (i = 0; (k = keys[i]); i++) {\n    object[k] = props[k];\n  }\n\n  return object;\n}\n\n\nfunction createPoint(x, y) {\n  var point = node.createSVGPoint();\n\n  switch (arguments.length) {\n  case 0:\n    return point;\n  case 2:\n    x = {\n      x: x,\n      y: y\n    };\n    break;\n  }\n\n  return extend(point, x);\n}\n\n/**\n * Create matrix via args.\n *\n * @example\n *\n * createMatrix({ a: 1, b: 1 });\n * createMatrix();\n * createMatrix(1, 2, 0, 0, 30, 20);\n *\n * @return {SVGMatrix}\n */\nfunction createMatrix(a, b, c, d, e, f) {\n  var matrix = node.createSVGMatrix();\n\n  switch (arguments.length) {\n  case 0:\n    return matrix;\n  case 1:\n    return extend(matrix, a);\n  case 6:\n    return extend(matrix, {\n      a: a,\n      b: b,\n      c: c,\n      d: d,\n      e: e,\n      f: f\n    });\n  }\n}\n\nfunction createTransform(matrix) {\n  if (matrix) {\n    return node.createSVGTransformFromMatrix(matrix);\n  } else {\n    return node.createSVGTransform();\n  }\n}\n\n/**\n * Serialization util\n */\n\nvar TEXT_ENTITIES = /([&<>]{1})/g;\nvar ATTR_ENTITIES = /([\\n\\r\"]{1})/g;\n\nvar ENTITY_REPLACEMENT = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '\\''\n};\n\nfunction escape(str, pattern) {\n\n  function replaceFn(match, entity) {\n    return ENTITY_REPLACEMENT[entity] || entity;\n  }\n\n  return str.replace(pattern, replaceFn);\n}\n\nfunction serialize(node, output) {\n\n  var i, len, attrMap, attrNode, childNodes;\n\n  switch (node.nodeType) {\n  // TEXT\n  case 3:\n    // replace special XML characters\n    output.push(escape(node.textContent, TEXT_ENTITIES));\n    break;\n\n  // ELEMENT\n  case 1:\n    output.push('<', node.tagName);\n\n    if (node.hasAttributes()) {\n      attrMap = node.attributes;\n      for (i = 0, len = attrMap.length; i < len; ++i) {\n        attrNode = attrMap.item(i);\n        output.push(' ', attrNode.name, '=\"', escape(attrNode.value, ATTR_ENTITIES), '\"');\n      }\n    }\n\n    if (node.hasChildNodes()) {\n      output.push('>');\n      childNodes = node.childNodes;\n      for (i = 0, len = childNodes.length; i < len; ++i) {\n        serialize(childNodes.item(i), output);\n      }\n      output.push('</', node.tagName, '>');\n    } else {\n      output.push('/>');\n    }\n    break;\n\n  // COMMENT\n  case 8:\n    output.push('<!--', escape(node.nodeValue, TEXT_ENTITIES), '-->');\n    break;\n\n  // CDATA\n  case 4:\n    output.push('<![CDATA[', node.nodeValue, ']]>');\n    break;\n\n  default:\n    throw new Error('unable to handle node ' + node.nodeType);\n  }\n\n  return output;\n}\n\n/**\n * innerHTML like functionality for SVG elements.\n * based on innerSVG (https://code.google.com/p/innersvg)\n */\n\n\nfunction set(element, svg) {\n\n  var parsed = parse(svg);\n\n  // clear element contents\n  clear(element);\n\n  if (!svg) {\n    return;\n  }\n\n  if (!isFragment(parsed)) {\n    // extract <svg> from parsed document\n    parsed = parsed.documentElement;\n  }\n\n  var nodes = slice(parsed.childNodes);\n\n  // import + append each node\n  for (var i = 0; i < nodes.length; i++) {\n    appendTo(nodes[i], element);\n  }\n\n}\n\nfunction get(element) {\n  var child = element.firstChild,\n      output = [];\n\n  while (child) {\n    serialize(child, output);\n    child = child.nextSibling;\n  }\n\n  return output.join('');\n}\n\nfunction isFragment(node) {\n  return node.nodeName === '#document-fragment';\n}\n\nfunction innerSVG(element, svg) {\n\n  if (svg !== undefined) {\n\n    try {\n      set(element, svg);\n    } catch (e) {\n      throw new Error('error parsing SVG: ' + e.message);\n    }\n\n    return element;\n  } else {\n    return get(element);\n  }\n}\n\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\n/**\n * Selection utilities\n */\n\nfunction select(node, selector) {\n  return node.querySelector(selector);\n}\n\nfunction selectAll(node, selector) {\n  var nodes = node.querySelectorAll(selector);\n\n  return [].map.call(nodes, function(element) {\n    return element;\n  });\n}\n\n/**\n * prependTo utility\n */\n\n/**\n * Prepend a node to a target element and return the prepended node.\n *\n * @param  {SVGElement} node\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the prepended node\n */\nfunction prependTo(node, target) {\n  return target.insertBefore(ensureImported(node, target), target.firstChild || null);\n}\n\n/**\n * prepend utility\n */\n\n/**\n * Prepend a node to a target element\n *\n * @param  {SVGElement} target\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the target element\n */\nfunction prepend(target, node) {\n  prependTo(node, target);\n  return target;\n}\n\n/**\n * Replace utility\n */\n\nfunction replace(element, replacement) {\n  element.parentNode.replaceChild(ensureImported(replacement, element), element);\n  return replacement;\n}\n\n/**\n * transform accessor utility\n */\n\nfunction wrapMatrix(transformList, transform) {\n  if (transform instanceof SVGMatrix) {\n    return transformList.createSVGTransformFromMatrix(transform);\n  }\n\n  return transform;\n}\n\n\nfunction setTransforms(transformList, transforms) {\n  var i, t;\n\n  transformList.clear();\n\n  for (i = 0; (t = transforms[i]); i++) {\n    transformList.appendItem(wrapMatrix(transformList, t));\n  }\n}\n\n/**\n * Get or set the transforms on the given node.\n *\n * @param {SVGElement} node\n * @param  {SVGTransform|SVGMatrix|Array<SVGTransform|SVGMatrix>} [transforms]\n *\n * @return {SVGTransform} the consolidated transform\n */\nfunction transform(node, transforms) {\n  var transformList = node.transform.baseVal;\n\n  if (transforms) {\n\n    if (!Array.isArray(transforms)) {\n      transforms = [ transforms ];\n    }\n\n    setTransforms(transformList, transforms);\n  }\n\n  return transformList.consolidate();\n}\n\nexport { append, appendTo, attr, classes, clear, clone, create, innerSVG, prepend, prependTo, remove, replace, transform, on, off, createPoint, createMatrix, createTransform, select, selectAll };\n","import {\n  isObject,\n  sortBy\n} from 'min-dash';\n\nimport {\n  pointDistance,\n  pointsOnLine\n} from '../util/Geometry';\n\nimport intersectPaths from 'path-intersection';\n\n\nexport function roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n\nexport function roundPoint(point) {\n\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Bounds|Point} bounds\n *\n * @return {Object}\n */\nexport function asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {Object} trbl\n *\n * @return {Bounds}\n */\nexport function asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Bounds|Point} bounds\n *\n * @return {Point}\n */\nexport function getMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Bounds} rect\n * @param {Bounds} reference\n * @param {Point|number} padding\n *\n * @return {string} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nexport function getOrientation(rect, reference, padding) {\n\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!isObject(padding)) {\n    padding = { x: padding, y: padding };\n  }\n\n\n  var rectOrientation = asTRBL(rect),\n      referenceOrientation = asTRBL(reference);\n\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n      right = rectOrientation.left - padding.x >= referenceOrientation.right,\n      bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n      left = rectOrientation.right + padding.x <= referenceOrientation.left;\n\n  var vertical = top ? 'top' : (bottom ? 'bottom' : null),\n      horizontal = left ? 'left' : (right ? 'right' : null);\n\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {PathDef} elementPath\n * @param {PathDef} linePath\n * @param {boolean} cropStart crop from start or end\n *\n * @return {Point}\n */\nexport function getElementLineIntersection(elementPath, linePath, cropStart) {\n\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && pointDistance(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = sortBy(intersections, function(i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n\n      distance = 100 - distance;\n\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n\n  return null;\n}\n\n\nexport function getIntersections(a, b) {\n  return intersectPaths(a, b);\n}\n\n\nexport function filterRedundantWaypoints(waypoints) {\n\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n\n  var idx = 0,\n      point,\n      previousPoint,\n      nextPoint;\n\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n\n    if (pointDistance(point, nextPoint) === 0 ||\n        pointsOnLine(previousPoint, nextPoint, point)) {\n\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n\n  return waypoints;\n}\n","import {\n  assign,\n  filter,\n  find,\n  isArray,\n  isNumber,\n  isObject,\n  isUndefined,\n  groupBy,\n  forEach\n} from 'min-dash';\n\n\n/**\n * Get parent elements.\n *\n * @param {Array<djs.model.base>} elements\n *\n * @returns {Array<djs.model.Base>}\n */\nexport function getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return filter(elements, function(element) {\n    return !find(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Array<Object>} elements\n * @param {Object} e\n * @param {boolean} unique\n */\nexport function add(elements, e, unique) {\n  var canAdd = !unique || elements.indexOf(e) === -1;\n\n  if (canAdd) {\n    elements.push(e);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param  {Object|Array<Object>} elements\n * @param  {Function} fn iterator function called with (element, index, recursionDepth)\n * @param  {number} [depth] maximum recursion depth\n */\nexport function eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if (isArray(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param  {djs.model.Base|Array<djs.model.Base>} elements the elements to select the children from\n * @param  {boolean} unique whether to return a unique result set (no duplicates)\n * @param  {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Array<djs.model.Base>} found elements\n */\nexport function selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Array<djs.model.Base>} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Object} [existingClosure]\n *\n * @return {Object} newClosure\n */\nexport function getClosure(elements, isTopLevel, closure) {\n\n  if (isUndefined(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if (isObject(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && groupBy(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      forEach(element.incoming, handleConnection);\n\n      forEach(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Array<djs.model.Shape>|djs.model.Shape} elements\n * @param {boolean} stopRecursion\n */\nexport function getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!isArray(elements)) {\n    elements = [elements];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  forEach(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Array<djs.model.Shape>} elements List of Elements to search through\n * @param {djs.model.Shape} bbox the enclosing bbox.\n *\n * @return {Array<djs.model.Shape>} enclosed elements\n */\nexport function getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  forEach(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!isNumber(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!isNumber(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if (isNumber(bbox.width) && isNumber(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!isNumber(bbox.width) || !isNumber(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n\nexport function getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\nexport function isFrameElement(element) {\n\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return assign({}, src1 || {}, src2 || {});\n}","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport forEach from 'lodash/forEach';\nimport Ids from 'ids';\n\nimport {\n  query as domQuery,\n  clear as domClear,\n  domify\n} from 'min-dom';\n\n\n\nvar SPACE_REGEX = /\\s/;\n\n// for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\nvar QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i;\n\n// for ID validation as per BPMN Schema (QName - Namespace)\nvar ID_REGEX = /^[a-z_][\\w-.]*$/i;\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\nexport function selectedOption(selectBox) {\n  if (selectBox.selectedIndex >= 0) {\n    return selectBox.options[selectBox.selectedIndex].value;\n  }\n}\n\n\nexport function selectedType(elementSyntax, inputNode) {\n  var typeSelect = domQuery(elementSyntax, inputNode);\n  return selectedOption(typeSelect);\n}\n\n\n/**\n * Retrieve the root element the document this\n * business object is contained in.\n *\n * @return {ModdleElement}\n */\nexport function getRoot(businessObject) {\n  var parent = businessObject;\n  while (parent.$parent) {\n    parent = parent.$parent;\n  }\n  return parent;\n}\n\n\n/**\n * filters all elements in the list which have a given type.\n * removes a new list\n */\nexport function filterElementsByType(objectList, type) {\n  var list = objectList || [];\n  var result = [];\n  forEach(list, function(obj) {\n    if (is(obj, type)) {\n      result.push(obj);\n    }\n  });\n  return result;\n}\n\n\nexport function findRootElementsByType(businessObject, referencedType) {\n  var root = getRoot(businessObject);\n\n  return filterElementsByType(root.rootElements, referencedType);\n}\n\n\nexport function removeAllChildren(domElement) {\n  while (domElement.firstChild) {\n    domElement.removeChild(domElement.firstChild);\n  }\n}\n\n\n/**\n * adds an empty option to the list\n */\nexport function addEmptyParameter(list) {\n  return list.push({ 'label': '', 'value': '', 'name': '' });\n}\n\n\n/**\n * returns a list with all root elements for the given parameter 'referencedType'\n */\nexport function refreshOptionsModel(businessObject, referencedType) {\n  var model = [];\n  var referableObjects = findRootElementsByType(businessObject, referencedType);\n  forEach(referableObjects, function(obj) {\n    model.push({\n      label: (obj.name || '') + ' (id='+obj.id+')',\n      value: obj.id,\n      name: obj.name\n    });\n  });\n  return model;\n}\n\n\n/**\n * fills the drop down with options\n */\nexport function updateOptionsDropDown(domSelector, businessObject, referencedType, entryNode) {\n  var options = refreshOptionsModel(businessObject, referencedType);\n  addEmptyParameter(options);\n  var selectBox = domQuery(domSelector, entryNode);\n  domClear(selectBox);\n\n  forEach(options, function(option) {\n    var optionEntry = domify('<option value=\"' + escapeHTML(option.value) + '\">' + escapeHTML(option.label) + '</option>');\n    selectBox.appendChild(optionEntry);\n  });\n  return options;\n}\n\n\n/**\n * checks whether the id value is valid\n *\n * @param {ModdleElement} bo\n * @param {String} idValue\n * @param {Function} translate\n *\n * @return {String} error message\n */\nexport function isIdValid(bo, idValue, translate) {\n  var assigned = bo.$model.ids.assigned(idValue);\n\n  var idExists = assigned && assigned !== bo;\n\n  if (!idValue || idExists) {\n    return translate('Element must have an unique id.');\n  }\n\n  return validateId(idValue, translate);\n}\n\n\nexport function validateId(idValue, translate) {\n\n  if (containsSpace(idValue)) {\n    return translate('Id must not contain spaces.');\n  }\n\n  if (!ID_REGEX.test(idValue)) {\n\n    if (QNAME_REGEX.test(idValue)) {\n      return translate('Id must not contain prefix.');\n    }\n\n    return translate('Id must be a valid QName.');\n  }\n}\n\n\nexport function containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}\n\n/**\n * generate a semantic id with given prefix\n */\nexport function nextId(prefix) {\n  var ids = new Ids([32,32,1]);\n\n  return ids.nextPrefixed(prefix);\n}\n\n\nexport function triggerClickEvent(element) {\n  var evt;\n  var eventType = 'click';\n\n  if (document.createEvent) {\n    try {\n\n      // Chrome, Safari, Firefox\n      evt = new MouseEvent((eventType), { view: window, bubbles: true, cancelable: true });\n    } catch (e) {\n\n      // IE 11, PhantomJS (wat!)\n      evt = document.createEvent('MouseEvent');\n\n      evt.initEvent((eventType), true, true);\n    }\n    return element.dispatchEvent(evt);\n  } else {\n\n    // Welcome IE\n    evt = document.createEventObject();\n\n    return element.fireEvent('on' + eventType, evt);\n  }\n}\n\n\nexport function escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { assign } from 'min-dash';\nexport var Base = function Base(attrs) {\n  _classCallCheck(this, Base);\n\n  assign(this, attrs);\n  /**\n   * The object that backs up the shape\n   *\n   * @name Base#businessObject\n   * @type Object\n   */\n\n  defineProperty(this, 'businessObject', {\n    writable: true\n  });\n};\nexport var Root =\n/*#__PURE__*/\nfunction (_Base) {\n  _inherits(Root, _Base);\n\n  function Root(attrs) {\n    var _this;\n\n    _classCallCheck(this, Root);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Root).call(this, attrs));\n    /**\n     * The tables rows\n     *\n     * @name Root#rows\n     * @type Row\n     */\n\n    defineProperty(_assertThisInitialized(_this), 'rows', {\n      enumerable: true,\n      value: _this.rows || []\n    });\n    /**\n     * The tables columns\n     *\n     * @name Root#cols\n     * @type Col\n     */\n\n    defineProperty(_assertThisInitialized(_this), 'cols', {\n      enumerable: true,\n      value: _this.cols || []\n    });\n    return _this;\n  }\n\n  return Root;\n}(Base);\nexport var Row =\n/*#__PURE__*/\nfunction (_Base2) {\n  _inherits(Row, _Base2);\n\n  function Row(attrs) {\n    var _this2;\n\n    _classCallCheck(this, Row);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Row).call(this, attrs));\n    /**\n     * Reference to the table\n     *\n     * @name Row#root\n     * @type Root\n     */\n\n    defineProperty(_assertThisInitialized(_this2), 'root', {\n      writable: true\n    });\n    /**\n     * Reference to contained cells\n     *\n     * @name Row#cells\n     * @type Cell\n     */\n\n    defineProperty(_assertThisInitialized(_this2), 'cells', {\n      enumerable: true,\n      value: _this2.cells || []\n    });\n    return _this2;\n  }\n\n  return Row;\n}(Base);\nexport var Col =\n/*#__PURE__*/\nfunction (_Base3) {\n  _inherits(Col, _Base3);\n\n  function Col(attrs) {\n    var _this3;\n\n    _classCallCheck(this, Col);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Col).call(this, attrs));\n    /**\n     * Reference to the table\n     *\n     * @name Col#table\n     * @type Root\n     */\n\n    defineProperty(_assertThisInitialized(_this3), 'root', {\n      writable: true\n    });\n    /**\n     * Reference to contained cells\n     *\n     * @name Row#cells\n     * @type Cell\n     */\n\n    defineProperty(_assertThisInitialized(_this3), 'cells', {\n      enumerable: true,\n      value: _this3.cells || []\n    });\n    return _this3;\n  }\n\n  return Col;\n}(Base);\nexport var Cell =\n/*#__PURE__*/\nfunction (_Base4) {\n  _inherits(Cell, _Base4);\n\n  function Cell(attrs) {\n    var _this4;\n\n    _classCallCheck(this, Cell);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(Cell).call(this, attrs));\n    /**\n     * Reference to the row\n     *\n     * @name Cell#row\n     * @type Row\n     */\n\n    defineProperty(_assertThisInitialized(_this4), 'row', {\n      writable: true\n    });\n    /**\n     * Reference to the col\n     *\n     * @name Cell#col\n     * @type Col\n     */\n\n    defineProperty(_assertThisInitialized(_this4), 'col', {\n      writable: true\n    });\n    return _this4;\n  }\n\n  return Cell;\n}(Base);\nvar TYPES = {\n  root: Root,\n  row: Row,\n  col: Col,\n  cell: Cell\n};\nexport function create(type, attrs) {\n  var Type = TYPES[type];\n\n  if (!Type) {\n    throw new Error('unknown type ' + type);\n  }\n\n  return new Type(attrs);\n} // helpers /////////////\n\nfunction defineProperty(el, prop, options) {\n  Object.defineProperty(el, prop, options);\n}\n//# sourceMappingURL=index.js.map","import {\n  isArray,\n  forEach\n} from 'min-dash';\n\n\n/**\n * A service that offers the current selection in a diagram.\n * Offers the api to control the selection, too.\n *\n * @class\n *\n * @param {EventBus} eventBus the event bus\n */\nexport default function Selection(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._selectedElements = [];\n\n  var self = this;\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    self.deselect(element);\n  });\n\n  eventBus.on([ 'diagram.clear', 'plane.set' ], function(e) {\n    self.select(null);\n  });\n}\n\nSelection.$inject = [ 'eventBus', 'canvas' ];\n\n\nSelection.prototype.deselect = function(element) {\n  var selectedElements = this._selectedElements;\n\n  var idx = selectedElements.indexOf(element);\n\n  if (idx !== -1) {\n    var oldSelection = selectedElements.slice();\n\n    selectedElements.splice(idx, 1);\n\n    this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n  }\n};\n\n\nSelection.prototype.get = function() {\n  return this._selectedElements;\n};\n\nSelection.prototype.isSelected = function(element) {\n  return this._selectedElements.indexOf(element) !== -1;\n};\n\n\n/**\n * This method selects one or more elements on the diagram.\n *\n * By passing an additional add parameter you can decide whether or not the element(s)\n * should be added to the already existing selection or not.\n *\n * @method Selection#select\n *\n * @param  {Object|Object[]} elements element or array of elements to be selected\n * @param  {boolean} [add] whether the element(s) should be appended to the current selection, defaults to false\n */\nSelection.prototype.select = function(elements, add) {\n  var selectedElements = this._selectedElements,\n      oldSelection = selectedElements.slice();\n\n  if (!isArray(elements)) {\n    elements = elements ? [ elements ] : [];\n  }\n\n  var canvas = this._canvas;\n\n  elements = elements.filter(function(element) {\n    var plane = canvas.findPlane(element);\n\n    return plane === canvas.getActivePlane();\n  });\n\n  // selection may be cleared by passing an empty array or null\n  // to the method\n  if (add) {\n    forEach(elements, function(element) {\n      if (selectedElements.indexOf(element) !== -1) {\n\n        // already selected\n        return;\n      } else {\n        selectedElements.push(element);\n      }\n    });\n  } else {\n    this._selectedElements = selectedElements = elements.slice();\n  }\n\n  this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n};\n","import {\n  forEach\n} from 'min-dash';\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {EventBus} events\n * @param {SelectionService} selection\n * @param {Canvas} canvas\n */\nexport default function SelectionVisuals(events, canvas, selection, styles) {\n\n  this._multiSelectionBox = null;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  events.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    forEach(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    forEach(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\n\nSelectionVisuals.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'styles'\n];","import {\n  hasPrimaryModifier,\n  hasSecondaryModifier,\n  isPrimaryButton\n} from '../../util/Mouse';\n\nimport {\n  find,\n  isArray\n} from 'min-dash';\n\n\nexport default function SelectionBehavior(eventBus, selection, canvas, elementRegistry) {\n\n  // Select elements on create\n  eventBus.on('create.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        elements = context.elements,\n        hints = context.hints || {},\n        autoSelect = hints.autoSelect;\n\n    if (canExecute) {\n      if (autoSelect === false) {\n\n        // Select no elements\n        return;\n      }\n\n      if (isArray(autoSelect)) {\n        selection.select(autoSelect);\n      } else {\n\n        // Select all elements by default\n        selection.select(elements.filter(isShown));\n      }\n    }\n  });\n\n  // Select connection targets on connect\n  eventBus.on('connect.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        hover = context.hover;\n\n    if (canExecute && hover) {\n      selection.select(hover);\n    }\n  });\n\n  // Select shapes on move\n  eventBus.on('shape.move.end', 500, function(event) {\n    var previousSelection = event.previousSelection || [];\n\n    var shape = elementRegistry.get(event.context.shape.id);\n\n    // Always select main shape on move\n    var isSelected = find(previousSelection, function(selectedShape) {\n      return shape.id === selectedShape.id;\n    });\n\n    if (!isSelected) {\n      selection.select(shape);\n    }\n  });\n\n  // Select elements on click\n  eventBus.on('element.click', function(event) {\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var element = event.element;\n\n    if (element === canvas.getRootElement()) {\n      element = null;\n    }\n\n    var isSelected = selection.isSelected(element),\n        isMultiSelect = selection.get().length > 1;\n\n    // Add to selection if CTRL or SHIFT pressed\n    var add = hasPrimaryModifier(event) || hasSecondaryModifier(event);\n\n    if (isSelected && isMultiSelect) {\n      if (add) {\n\n        // Deselect element\n        return selection.deselect(element);\n      } else {\n\n        // Select element only\n        return selection.select(element);\n      }\n    } else if (!isSelected) {\n\n      // Select element\n      selection.select(element, add);\n    } else {\n\n      // Deselect element\n      selection.deselect(element);\n    }\n  });\n}\n\nSelectionBehavior.$inject = [\n  'eventBus',\n  'selection',\n  'canvas',\n  'elementRegistry'\n];\n\n\nfunction isShown(element) {\n  return !element.hidden;\n}\n","import InteractionEventsModule from '../interaction-events';\nimport OutlineModule from '../outline';\n\nimport Selection from './Selection';\nimport SelectionVisuals from './SelectionVisuals';\nimport SelectionBehavior from './SelectionBehavior';\n\n\nexport default {\n  __init__: [ 'selectionVisuals', 'selectionBehavior' ],\n  __depends__: [\n    InteractionEventsModule,\n    OutlineModule\n  ],\n  selection: [ 'type', Selection ],\n  selectionVisuals: [ 'type', SelectionVisuals ],\n  selectionBehavior: [ 'type', SelectionBehavior ]\n};\n","import {\r\n  transform as svgTransform,\r\n  createTransform\r\n} from 'tiny-svg';\r\n\r\n\r\n/**\r\n * @param {<SVGElement>} element\r\n * @param {number} x\r\n * @param {number} y\r\n * @param {number} angle\r\n * @param {number} amount\r\n */\r\nexport function transform(gfx, x, y, angle, amount) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle || 0, 0, 0);\r\n\r\n  var scale = createTransform();\r\n  scale.setScale(amount || 1, amount || 1);\r\n\r\n  svgTransform(gfx, [ translate, rotate, scale ]);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nexport function translate(gfx, x, y) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  svgTransform(gfx, translate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} angle\r\n */\r\nexport function rotate(gfx, angle) {\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle, 0, 0);\r\n\r\n  svgTransform(gfx, rotate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} amount\r\n */\r\nexport function scale(gfx, amount) {\r\n  var scale = createTransform();\r\n  scale.setScale(amount, amount);\r\n\r\n  svgTransform(gfx, scale);\r\n}","function __stopPropagation(event) {\n  if (!event || typeof event.stopPropagation !== 'function') {\n    return;\n  }\n\n  event.stopPropagation();\n}\n\n\nexport function getOriginal(event) {\n  return event.originalEvent || event.srcEvent;\n}\n\n\nexport function stopPropagation(event, immediate) {\n  __stopPropagation(event, immediate);\n  __stopPropagation(getOriginal(event), immediate);\n}\n\n\nexport function toPoint(event) {\n\n  if (event.pointers && event.pointers.length) {\n    event = event.pointers[0];\n  }\n\n  if (event.touches && event.touches.length) {\n    event = event.touches[0];\n  }\n\n  return event ? {\n    x: event.clientX,\n    y: event.clientY\n  } : null;\n}","import {\n  getOriginal as getOriginalEvent\n} from './Event';\n\nimport {\n  isMac\n} from './Platform';\n\nexport {\n  isMac\n} from './Platform';\n\nexport function isButton(event, button) {\n  return (getOriginalEvent(event) || event).button === button;\n}\n\nexport function isPrimaryButton(event) {\n\n  // button === 0 -> left ka primary mouse button\n  return isButton(event, 0);\n}\n\nexport function isAuxiliaryButton(event) {\n\n  // button === 1 -> auxiliary ka wheel button\n  return isButton(event, 1);\n}\n\nexport function isSecondaryButton(event) {\n\n  // button === 2 -> right ka secondary button\n  return isButton(event, 2);\n}\n\nexport function hasPrimaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  if (!isPrimaryButton(event)) {\n    return false;\n  }\n\n  // Use cmd as primary modifier key for mac OS\n  if (isMac()) {\n    return originalEvent.metaKey;\n  } else {\n    return originalEvent.ctrlKey;\n  }\n}\n\n\nexport function hasSecondaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  return isPrimaryButton(event) && originalEvent.shiftKey;\n}\n","export function isMac() {\n  return (/mac/i).test(navigator.platform);\n}","/**\n * Failsafe remove an element from a collection\n *\n * @param  {Array<Object>} [collection]\n * @param  {Object} [element]\n *\n * @return {number} the previous index of the element\n */\nexport function remove(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  var idx = collection.indexOf(element);\n\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  }\n\n  return idx;\n}\n\n/**\n * Fail save add an element to the given connection, ensuring\n * it does not yet exist.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n * @param {number} idx\n */\nexport function add(collection, element, idx) {\n\n  if (!collection || !element) {\n    return;\n  }\n\n  if (typeof idx !== 'number') {\n    idx = -1;\n  }\n\n  var currentIdx = collection.indexOf(element);\n\n  if (currentIdx !== -1) {\n\n    if (currentIdx === idx) {\n\n      // nothing to do, position has not changed\n      return;\n    } else {\n\n      if (idx !== -1) {\n\n        // remove from current position\n        collection.splice(currentIdx, 1);\n      } else {\n\n        // already exists in collection\n        return;\n      }\n    }\n  }\n\n  if (idx !== -1) {\n\n    // insert at specified position\n    collection.splice(idx, 0, element);\n  } else {\n\n    // push to end\n    collection.push(element);\n  }\n}\n\n\n/**\n * Fail save get the index of an element in a collection.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n *\n * @return {number} the index or -1 if collection or element do\n *                  not exist or the element is not contained.\n */\nexport function indexOf(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  return collection.indexOf(element);\n}\n","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar DecisionTableEditorActions = /*#__PURE__*/_createClass(function DecisionTableEditorActions(copyCutPaste, editorActions, modeling, selection, cellSelection, sheet) {\n  _classCallCheck(this, DecisionTableEditorActions);\n\n  var actions = {\n    addRule: function addRule() {\n      return modeling.addRow({\n        type: 'dmn:DecisionRule'\n      });\n    },\n    addRuleAbove: function addRuleAbove(context) {\n      var rule = context && context.rule;\n\n      if (!rule && !selection.hasSelection()) {\n        return;\n      }\n\n      rule = rule || selection.get().row;\n      var root = sheet.getRoot(),\n          index = root.rows.indexOf(rule);\n\n      if (index === -1) {\n        return;\n      }\n\n      return modeling.addRow({\n        type: 'dmn:DecisionRule'\n      }, index);\n    },\n    addRuleBelow: function addRuleBelow(context) {\n      var rule = context && context.rule;\n\n      if (!rule && !selection.hasSelection()) {\n        return;\n      }\n\n      rule = rule || selection.get().row;\n      var root = sheet.getRoot(),\n          index = root.rows.indexOf(rule);\n\n      if (index === -1) {\n        return;\n      }\n\n      return modeling.addRow({\n        type: 'dmn:DecisionRule'\n      }, index + 1);\n    },\n    removeRule: function removeRule(context) {\n      var rule = context && context.rule;\n\n      if (!rule && !selection.hasSelection()) {\n        return;\n      }\n\n      rule = rule || selection.get().row;\n      modeling.removeRow(rule);\n    },\n    addInput: function addInput() {\n      var root = sheet.getRoot(),\n          businessObject = root.businessObject;\n      var input = businessObject.input;\n      return modeling.addCol({\n        type: 'dmn:InputClause'\n      }, input ? input.length : 0);\n    },\n    addInputLeft: function addInputLeft(context) {\n      var input = context && context.input;\n\n      if (!input && !selection.hasSelection()) {\n        return;\n      }\n\n      input = input || selection.get().col;\n      var root = sheet.getRoot(),\n          index = root.cols.indexOf(input);\n\n      if (index === -1) {\n        return;\n      }\n\n      return modeling.addCol({\n        type: 'dmn:InputClause'\n      }, index);\n    },\n    addInputRight: function addInputRight(context) {\n      var input = context && context.input;\n\n      if (!input && !selection.hasSelection()) {\n        return;\n      }\n\n      input = input || selection.get().col;\n      var root = sheet.getRoot(),\n          index = root.cols.indexOf(input);\n\n      if (index === -1) {\n        return;\n      }\n\n      return modeling.addCol({\n        type: 'dmn:InputClause'\n      }, index + 1);\n    },\n    removeInput: function removeInput(context) {\n      var input = context && context.input;\n\n      if (!input && !selection.hasSelection()) {\n        return;\n      }\n\n      input = input || selection.get().col;\n      modeling.removeCol(input);\n    },\n    addOutput: function addOutput() {\n      var root = sheet.getRoot(),\n          businessObject = root.businessObject;\n      var input = businessObject.get('input'),\n          output = businessObject.get('output');\n      return modeling.addCol({\n        type: 'dmn:OutputClause'\n      }, input.length + output.length);\n    },\n    addOutputLeft: function addOutputLeft(context) {\n      var output = context && context.output;\n\n      if (!output && !selection.hasSelection()) {\n        return;\n      }\n\n      output = output || selection.get().col;\n      var root = sheet.getRoot(),\n          index = root.cols.indexOf(output);\n\n      if (index === -1) {\n        return;\n      }\n\n      return modeling.addCol({\n        type: 'dmn:OutputClause'\n      }, index);\n    },\n    addOutputRight: function addOutputRight(context) {\n      var output = context && context.output;\n\n      if (!output && !selection.hasSelection()) {\n        return;\n      }\n\n      output = output || selection.get().col;\n      var root = sheet.getRoot(),\n          index = root.cols.indexOf(output);\n\n      if (index === -1) {\n        return;\n      }\n\n      return modeling.addCol({\n        type: 'dmn:OutputClause'\n      }, index + 1);\n    },\n    removeOutput: function removeOutput(context) {\n      var output = context && context.output;\n\n      if (!output && !selection.hasSelection()) {\n        return;\n      }\n\n      output = output || selection.get().col;\n      modeling.removeCol(output);\n    },\n    addClause: function addClause() {\n      if (!selection.hasSelection()) {\n        return;\n      }\n\n      var clause = selection.get().col;\n\n      if (is(clause, 'dmn:InputClause')) {\n        return actions.addInput({\n          input: clause\n        });\n      } else if (is(clause, 'dmn:OutputClause')) {\n        return actions.addOutput({\n          output: clause\n        });\n      }\n    },\n    addClauseLeft: function addClauseLeft() {\n      if (!selection.hasSelection()) {\n        return;\n      }\n\n      var clause = selection.get().col;\n\n      if (is(clause, 'dmn:InputClause')) {\n        return actions.addInputLeft({\n          input: clause\n        });\n      } else if (is(clause, 'dmn:OutputClause')) {\n        return actions.addOutputLeft({\n          output: clause\n        });\n      }\n    },\n    addClauseRight: function addClauseRight() {\n      if (!selection.hasSelection()) {\n        return;\n      }\n\n      var clause = selection.get().col;\n\n      if (is(clause, 'dmn:InputClause')) {\n        return actions.addInputRight({\n          input: clause\n        });\n      } else if (is(clause, 'dmn:OutputClause')) {\n        return actions.addOutputRight({\n          output: clause\n        });\n      }\n    },\n    removeClause: function removeClause() {\n      if (!selection.hasSelection()) {\n        return;\n      }\n\n      var clause = selection.get().col;\n\n      if (is(clause, 'dmn:InputClause')) {\n        return actions.removeInput({\n          input: clause\n        });\n      } else if (is(clause, 'dmn:OutputClause')) {\n        return actions.removeOutput({\n          output: clause\n        });\n      }\n    },\n    selectCellAbove: function selectCellAbove() {\n      return cellSelection.selectCell('above');\n    },\n    selectCellBelow: function selectCellBelow() {\n      return cellSelection.selectCell('below');\n    },\n    copy: function copy(_ref) {\n      var element = _ref.element;\n      copyCutPaste.copy(element);\n    },\n    cut: function cut(_ref2) {\n      var element = _ref2.element;\n      copyCutPaste.cut(element);\n    },\n    pasteBefore: function pasteBefore(_ref3) {\n      var element = _ref3.element;\n      return copyCutPaste.pasteBefore(element);\n    },\n    pasteAfter: function pasteAfter(_ref4) {\n      var element = _ref4.element;\n      return copyCutPaste.pasteAfter(element);\n    }\n  };\n  editorActions.register(actions);\n});\n\nexport { DecisionTableEditorActions as default };\nDecisionTableEditorActions.$inject = ['copyCutPaste', 'editorActions', 'modeling', 'selection', 'cellSelection', 'sheet'];\n//# sourceMappingURL=DecisionTableEditorActions.js.map","import CellSelection from '../cell-selection';\nimport CopyCutPaste from '../copy-cut-paste';\nimport DecisionTableEditorActions from './DecisionTableEditorActions';\nimport EditorActions from 'table-js/lib/features/editor-actions';\nimport Selection from 'table-js/lib/features/selection';\nexport default {\n  __depends__: [CellSelection, CopyCutPaste, EditorActions, Selection],\n  __init__: ['decisionTableEditorActions'],\n  decisionTableEditorActions: ['type', DecisionTableEditorActions]\n};\n//# sourceMappingURL=index.js.map","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","import {\n  every,\n  isArray\n} from 'min-dash';\n\n/**\n * Computes the distance between two points\n *\n * @param  {Point}  p\n * @param  {Point}  q\n *\n * @return {number}  distance\n */\nexport function pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n\n  return Math.sqrt(\n    Math.pow(a.x - b.x, 2) +\n    Math.pow(a.y - b.y, 2)\n  );\n}\n\n\n/**\n * Returns true if the point r is on the line between p and q\n *\n * @param  {Point}  p\n * @param  {Point}  q\n * @param  {Point}  r\n * @param  {number} [accuracy=5] accuracy for points on line check (lower is better)\n *\n * @return {boolean}\n */\nexport function pointsOnLine(p, q, r, accuracy) {\n\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n\n  if (!p || !q || !r) {\n    return false;\n  }\n\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n      dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\n\n\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Array<Point>|Point}\n * @param {Point}\n *\n * @return {string|boolean}\n */\nexport function pointsAligned(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  if (pointsAlignedHorizontally(points)) {\n    return 'h';\n  }\n\n  if (pointsAlignedVertically(points)) {\n    return 'v';\n  }\n\n  return false;\n}\n\nexport function pointsAlignedHorizontally(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  var firstPoint = points.slice().shift();\n\n  return every(points, function(point) {\n    return Math.abs(firstPoint.y - point.y) <= ALIGNED_THRESHOLD;\n  });\n}\n\nexport function pointsAlignedVertically(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  var firstPoint = points.slice().shift();\n\n  return every(points, function(point) {\n    return Math.abs(firstPoint.x - point.x) <= ALIGNED_THRESHOLD;\n  });\n}\n\n\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param  {Point}  p\n * @param  {Rect} rect\n * @param  {number} tolerance\n *\n * @return {boolean}\n */\nexport function pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n\n  return p.x > rect.x - tolerance &&\n         p.y > rect.y - tolerance &&\n         p.x < rect.x + rect.width + tolerance &&\n         p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param  {Point}  p\n * @param  {Point}  q\n *\n * @return {Point} middle point\n */\nexport function getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + ((q.x - p.x) / 2.0)),\n    y: Math.round(p.y + ((q.y - p.y) / 2.0))\n  };\n}\n","export function center(bounds) {\n  return {\n    x: bounds.x + (bounds.width / 2),\n    y: bounds.y + (bounds.height / 2)\n  };\n}\n\n\nexport function delta(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { closest, matches, query } from 'min-dom';\nimport cssEscape from 'css.escape';\nimport { setRange, getRange } from 'selection-ranges';\nexport var SELECTABLE_SELECTOR = '[contenteditable]';\nexport var ELEMENT_SELECTOR = '[data-element-id]';\nexport function getElementId(node) {\n  return node.getAttribute('data-element-id');\n}\nexport function getElementCoords(node) {\n  var coordsAttr = node.getAttribute('data-coords');\n\n  if (!coordsAttr) {\n    return null;\n  }\n\n  var _coordsAttr$split = coordsAttr.split(':'),\n      _coordsAttr$split2 = _slicedToArray(_coordsAttr$split, 2),\n      row = _coordsAttr$split2[0],\n      col = _coordsAttr$split2[1];\n\n  return {\n    row: row,\n    col: col\n  };\n}\nexport function getNodeByCoords(elementCoords, container) {\n  var coordsAttr = \"\".concat(elementCoords.row, \":\").concat(elementCoords.col);\n  return query(\"[data-coords=\\\"\".concat(cssEscape(coordsAttr), \"\\\"]\"), container);\n}\nexport function getNodeById(elementId, container) {\n  return query(\"[data-element-id=\\\"\".concat(cssEscape(elementId), \"\\\"]\"), container);\n}\nexport function isUnselectableNode(node) {\n  return closest(node, '.no-deselect', true);\n}\n/**\n * Find semantically _selectable_ element in the nodes ancestors.\n *\n * @param {Element} node\n *\n * @return {Element} node\n */\n\nexport function findSelectableAncestor(node) {\n  return closest(node, ELEMENT_SELECTOR, true);\n}\n/**\n * Return focusable node in selectable el.\n *\n * @param  {Element} el\n *\n * @return {Element}\n */\n\nexport function getFocusableNode(el) {\n  var selector = SELECTABLE_SELECTOR;\n  return matches(el, selector) ? el : query(selector, el);\n}\n/**\n * Ensure element or element childNode has the proper focus.\n *\n * @param {Element} el\n */\n\nexport function ensureFocus(el) {\n  var focusEl = getFocusableNode(el);\n\n  if (!focusEl) {\n    return;\n  } // QUIRK: otherwise range and focus related actions may\n  // yield errors in older browsers (PhantomJS / IE)\n\n\n  if (!document.body.contains(focusEl)) {\n    return;\n  } // nothing to do, if element already has focus\n\n\n  if (document.activeElement === focusEl) {\n    return;\n  } // (1) focus\n\n\n  focusEl.focus(); // (2) set cursor to element end\n\n  var range = getRange(focusEl);\n\n  if (!range || range.end === 0) {\n    setRange(focusEl, {\n      start: 5000,\n      end: 5000\n    });\n  }\n}\n//# sourceMappingURL=CellSelectionUtil.js.map","import {\n  forEach,\n  isFunction,\n  isArray,\n  isNumber,\n  isObject\n} from 'min-dash';\n\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug-in into the command execution for\n * extension and/or validation.\n *\n * @param {EventBus} eventBus\n *\n * @example\n *\n * import inherits from 'inherits';\n *\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * function CommandLogger(eventBus) {\n *   CommandInterceptor.call(this, eventBus);\n *\n *   this.preExecute(function(event) {\n *     console.log('command pre-execute', event);\n *   });\n * }\n *\n * inherits(CommandLogger, CommandInterceptor);\n *\n */\nexport default function CommandInterceptor(eventBus) {\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n/**\n * Register an interceptor for a command execution\n *\n * @param {string|Array<string>} [events] list of commands to register on\n * @param {string} [hook] command hook, i.e. preExecute, executed to listen on\n * @param {number} [priority] the priority on which to hook into the execution\n * @param {Function} handlerFn interceptor to be invoked with (event)\n * @param {boolean} unwrap if true, unwrap the event and pass (context, command, event) to the\n *                          listener instead\n * @param {Object} [that] Pass context (`this`) to the handler function\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  forEach(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n\nvar hooks = [\n  'canExecute',\n  'preExecute',\n  'preExecuted',\n  'execute',\n  'executed',\n  'postExecute',\n  'postExecuted',\n  'revert',\n  'reverted'\n];\n\n/*\n * Install hook shortcuts\n *\n * This will generate the CommandInterceptor#(preExecute|...|reverted) methods\n * which will in term forward to CommandInterceptor#on.\n */\nforEach(hooks, function(hook) {\n\n  /**\n   * {canExecute|preExecute|preExecuted|execute|executed|postExecute|postExecuted|revert|reverted}\n   *\n   * A named hook for plugging into the command execution\n   *\n   * @param {string|Array<string>} [events] list of commands to register on\n   * @param {number} [priority] the priority on which to hook into the execution\n   * @param {Function} handlerFn interceptor to be invoked with (event)\n   * @param {boolean} [unwrap=false] if true, unwrap the event and pass (context, command, event) to the\n   *                          listener instead\n   * @param {Object} [that] Pass context (`this`) to the handler function\n   */\n  CommandInterceptor.prototype[hook] = function(events, priority, handlerFn, unwrap, that) {\n\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n});\n","/**\n * Expose `xor`\n */\n\nvar componentXor = xor;\n\n/**\n * XOR utility\n *\n * T T F\n * T F T\n * F T T\n * F F F\n *\n * @param {Boolean} a\n * @param {Boolean} b\n * @return {Boolean}\n */\n\nfunction xor(a, b) {\n  return a ^ b;\n}\n\n/**\n * Global Names\n */\n\nvar globals = /\\b(Array|Date|Object|Math|JSON)\\b/g;\n\n/**\n * Return immediate identifiers parsed from `str`.\n *\n * @param {String} str\n * @param {String|Function} map function or prefix\n * @return {Array}\n * @api public\n */\n\nvar componentProps = function(str, fn){\n  var p = unique(props(str));\n  if (fn && 'string' == typeof fn) fn = prefixed(fn);\n  if (fn) return map(str, p, fn);\n  return p;\n};\n\n/**\n * Return immediate identifiers in `str`.\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nfunction props(str) {\n  return str\n    .replace(/\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\//g, '')\n    .replace(globals, '')\n    .match(/[a-zA-Z_]\\w*/g)\n    || [];\n}\n\n/**\n * Return `str` with `props` mapped with `fn`.\n *\n * @param {String} str\n * @param {Array} props\n * @param {Function} fn\n * @return {String}\n * @api private\n */\n\nfunction map(str, props, fn) {\n  var re = /\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\/|[a-zA-Z_]\\w*/g;\n  return str.replace(re, function(_){\n    if ('(' == _[_.length - 1]) return fn(_);\n    if (!~props.indexOf(_)) return _;\n    return fn(_);\n  });\n}\n\n/**\n * Return unique array.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nfunction unique(arr) {\n  var ret = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (~ret.indexOf(arr[i])) continue;\n    ret.push(arr[i]);\n  }\n\n  return ret;\n}\n\n/**\n * Map with prefix `str`.\n */\n\nfunction prefixed(str) {\n  return function(_){\n    return str + _;\n  };\n}\n\n/**\n * Module Dependencies\n */\n\n\n\n\n\n/**\n * Export `Iterator`\n */\n\nvar domIterator = Iterator;\n\n/**\n * Initialize `Iterator`\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Iterator} self\n * @api public\n */\n\nfunction Iterator(node, root) {\n  if (!(this instanceof Iterator)) return new Iterator(node, root);\n  this.node = this.start = this.peeked = node;\n  this.root = root;\n  this.closingTag = false;\n  this._revisit = true;\n  this._selects = [];\n  this._rejects = [];\n\n  if (node && this.higher(node)) {\n    throw new Error('root must be a parent or ancestor to node');\n  }\n}\n\n/**\n * Reset the Iterator\n *\n * @param {Node} node (optional)\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reset = function(node) {\n  this.node = node || this.start;\n  return this;\n};\n\n/**\n * Revisit element nodes. Defaults to `true`\n */\n\nIterator.prototype.revisit = function(revisit) {\n  this._revisit = undefined == revisit ? true : revisit;\n  return this;\n};\n\n/**\n * Jump to the opening tag\n */\n\nIterator.prototype.opening = function() {\n  if (1 == this.node.nodeType) this.closingTag = false;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atOpening = function() {\n  return !this.closingTag;\n};\n\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.closing = function() {\n  if (1 == this.node.nodeType) this.closingTag = true;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atClosing = function() {\n  return this.closingTag;\n};\n\n/**\n * Next node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.next = traverse('nextSibling', 'firstChild');\n\n/**\n * Previous node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.previous =\nIterator.prototype.prev = traverse('previousSibling', 'lastChild');\n\n/**\n * Make traverse function\n *\n * @param {String} dir\n * @param {String} child\n * @return {Function}\n * @api private\n */\n\nfunction traverse(dir, child) {\n  var next = dir == 'nextSibling';\n  return function walk(expr, n, peek) {\n    expr = this.compile(expr);\n    n = n && n > 0 ? n : 1;\n    var node = this.node;\n    var closing = this.closingTag;\n    var revisit = this._revisit;\n\n    while (node) {\n      if (componentXor(next, closing) && node[child]) {\n        // element with children: <em>...</em>\n        node = node[child];\n        closing = !next;\n      } else if (1 == node.nodeType && !node[child] && componentXor(next, closing)) {\n        // empty element tag: <em></em>\n        closing = next;\n        if (!revisit) continue;\n      } else if (node[dir]) {\n        // element has a neighbor: ...<em></em>...\n        node = node[dir];\n        closing = !next;\n      } else {\n        // done with current layer, move up.\n        node = node.parentNode;\n        closing = next;\n        if (!revisit) continue;\n      }\n\n      if (!node || this.higher(node, this.root)) break;\n\n      if (expr(node) && this.selects(node, peek) && this.rejects(node, peek)) {\n        if (--n) continue;\n        if (!peek) this.node = node;\n        this.closingTag = closing;\n        return node;\n      }\n    }\n\n    return null;\n  };\n}\n\n/**\n * Select nodes that cause `expr(node)`\n * to be truthy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.select = function(expr) {\n  expr = this.compile(expr);\n  this._selects.push(expr);\n  return this;\n};\n\n/**\n * Run through the selects ORing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.selects = function(node, peek) {\n  var exprs = this._selects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return true;\n  }\n  return false;\n};\n\n/**\n * Select nodes that cause `expr(node)`\n * to be falsy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reject = function(expr) {\n  expr = this.compile(expr);\n  this._rejects.push(expr);\n  return this;\n};\n\n/**\n * Run through the reject expressions ANDing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.rejects = function(node, peek) {\n  var exprs = this._rejects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return false;\n  }\n  return true;\n};\n\n/**\n * Check if node is higher\n * than root.\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.higher = function(node) {\n  var root = this.root;\n  if (!root) return false;\n  node = node.parentNode;\n  while (node && node != root) node = node.parentNode;\n  return node != root;\n};\n\n/**\n * Compile an expression\n *\n * @param {String|Function|Number} expr\n * @return {Function}\n */\n\nIterator.prototype.compile = function(expr) {\n  switch (typeof expr) {\n    case 'number':\n      return function(node) { return expr == node.nodeType; };\n    case 'string':\n      return new Function('node', 'return ' + componentProps(expr, 'node.'));\n    case 'function':\n      return expr;\n    default:\n      return function() { return true; };\n  }\n};\n\n/**\n * Peek in either direction\n * `n` nodes. Peek backwards\n * using negative numbers.\n *\n * @param {Number} n (optional)\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.peak =\nIterator.prototype.peek = function(expr, n) {\n  if (arguments.length == 1) n = expr, expr = true;\n  n = undefined == n ? 1 : n;\n  if (!n) return this.node;\n  else if (n > 0) return this.next(expr, n, true);\n  else return this.prev(expr, Math.abs(n), true);\n};\n\n/**\n * Add a plugin\n *\n * @param {Function} fn\n * @return {Iterator}\n * @api public\n */\n\nIterator.prototype.use = function(fn) {\n  fn(this);\n  return this;\n};\n\nvar selection = window.getSelection();\n\n\n/**\n * Add selection / insert cursor.\n *\n * @param {Range} range\n */\nfunction applyRange(range) {\n  selection.removeAllRanges();\n  selection.addRange(range);\n}\n\n\n/**\n * Get current document selection.\n *\n * @return {Selection}\n */\nfunction getWindowSelection() {\n  return selection;\n}\n\n\n/**\n * Return true if element is part of window selection.\n *\n * @param  {Element}  el\n * @return {Boolean}\n */\nfunction isSelected(el) {\n\n  if (!selection.rangeCount) {\n    return null;\n  }\n\n  var focusNode = selection.focusNode;\n\n  // IE supports Node#contains for elements only\n  // thus we ensure we check against an actual Element node\n  if (isText(focusNode)) {\n    focusNode = focusNode.parentNode;\n  }\n\n  return el == focusNode || el.contains(focusNode);\n}\n\n\n/**\n * Set cursor or selection position.\n *\n * @param {Element} el\n * @param {SelectionRange} selection\n */\nfunction setRange(el, selection) {\n\n  var range = createRange(el, selection);\n\n  applyRange(range);\n}\n\n\n/**\n * Get cursor or selection position.\n *\n * @param {Element} el\n */\nfunction getRange(el) {\n\n  if (!isSelected(el)) {\n    return null;\n  }\n\n  var range = selection.getRangeAt(0);\n\n  var startContainer = range.startContainer;\n  var endContainer = range.endContainer;\n  var startOffset = range.startOffset;\n  var endOffset = range.endOffset;\n\n  var i = domIterator(el.firstChild, el);\n\n  var next = i.node;\n  var last;\n\n  var isClosing = false;\n\n  var selectionStart;\n  var count = 0;\n\n  function isBeforeEnd(node, referenceNode) {\n\n    if (arguments.length === 1) {\n      referenceNode = node;\n    }\n\n    return (\n      node.parentNode === endContainer &&\n      referenceNode == endContainer.childNodes[endOffset]\n    );\n\n  }\n\n  function isBeforeStart(node, referenceNode) {\n\n    if (arguments.length === 1) {\n      referenceNode = node;\n    }\n\n    return (\n      node.parentNode === startContainer &&\n      referenceNode == startContainer.childNodes[startOffset]\n    );\n\n  }\n\n  while (next) {\n\n    // start before node\n    if (isBeforeStart(next)) {\n      selectionStart = count;\n    }\n\n    // end before node\n    if (isBeforeEnd(next)) {\n      break;\n    }\n\n    if (!isClosing) {\n      if (\n        isBr(next) || (\n          last && (last.nextSibling == next) && (\n            isDiv(next) ||\n            isParagraph(next)\n          )\n        )\n      ) {\n        count++;\n      }\n    }\n\n\n    if (isText(next)) {\n\n      // #text node\n      if (startContainer === next) {\n        selectionStart = count + startOffset;\n      }\n\n      if (endContainer === next) {\n        count += endOffset;\n        break;\n      }\n\n      count += next.textContent.length;\n    }\n\n    if (isText(next) || isClosing) {\n\n      // start before node\n      if (isBeforeStart(next, next.nextSibling)) {\n        selectionStart = count;\n      }\n\n      // end before node\n      if (isBeforeEnd(next, next.nextSibling)) {\n        break;\n      }\n\n    }\n\n    last = next;\n    next = i.next();\n    isClosing = i.closingTag;\n  }\n\n  // selection until end of text\n  return {\n    start: typeof selectionStart === 'undefined' ? count : selectionStart,\n    end: count\n  };\n}\n\n\n/**\n * Annotate the given text with markers based on the\n * given range.\n *\n * @param {String} text\n * @param {SelectionRange} range\n *\n * @return {String} annotated text\n */\nfunction annotateRange(text, range) {\n  var str;\n\n  if (range.start === range.end) {\n    str = (\n      text.substring(0, range.start) +\n      '|' +\n      text.substring(range.start)\n    );\n  } else {\n    str = (\n      text.substring(0, range.start) +\n      '<' +\n      text.substring(range.start, range.end) +\n      '>' +\n      text.substring(range.end)\n    );\n  }\n\n  return str;\n}\n\n\n// helpers ///////////////////////////\n\nfunction createRange(el, selection) {\n\n  var start = selection.start;\n  var end = selection.end;\n\n  var range = document.createRange();\n\n  var i = domIterator(el.firstChild, el);\n\n  var next = i.node;\n  var isClosing = false;\n\n  var count = 0;\n  var length;\n\n  while (next) {\n\n    if (count === start) {\n      if (isClosing) {\n        range.setStartAfter(next);\n      } else {\n        range.setStartBefore(next);\n      }\n    }\n\n    if (count === end) {\n      if (isClosing) {\n        range.setEndAfter(next);\n      } else {\n        range.setEndBefore(next);\n      }\n\n      return range;\n    }\n\n    if (!isClosing) {\n      if (\n        isBr(next) || (\n          next.previousSibling && (\n            isDiv(next) ||\n            isParagraph(next)\n          )\n        )\n      ) {\n        count++;\n      }\n    }\n\n    if (isText(next)) {\n\n      length = next.textContent.length;\n\n      if (count <= start && count + length > start) {\n        range.setStart(next, start - count);\n      }\n\n      if (count + length > end) {\n        range.setEnd(next, end - count);\n\n        return range;\n      }\n\n      count += length;\n    }\n\n    next = i.next();\n    isClosing = i.closingTag;\n  }\n\n  // out of range\n  if (count <= start) {\n    if (el.lastChild) {\n      range.setStartAfter(el.lastChild);\n    } else {\n      range.setStart(el, 0);\n    }\n  }\n\n  if (el.lastChild) {\n    range.setEndAfter(el.lastChild);\n  } else {\n    range.setEnd(el, 0);\n  }\n\n  return range;\n}\n\nfunction isText(node) {\n  return node.nodeType === 3;\n}\n\nfunction isBr(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'BR'\n  );\n}\n\nfunction isDiv(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'DIV'\n  );\n}\n\nfunction isParagraph(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'P'\n  );\n}\n\nexport { applyRange, getWindowSelection, isSelected, setRange, getRange, annotateRange };\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isString } from 'min-dash';\n/**\n * Allows selecting a table cell. Selected cell will be highlighted.\n */\n\nvar Selection =\n/*#__PURE__*/\nfunction () {\n  function Selection(elementRegistry, eventBus, renderer) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n    this._renderer = renderer;\n    this._selection = undefined;\n    eventBus.on('diagram.clear', function () {\n      _this._selection = undefined;\n    });\n  }\n  /**\n   * Select a table cell.\n   *\n   * @param {Object|String} element - Element or element ID.\n   */\n\n\n  _createClass(Selection, [{\n    key: \"select\",\n    value: function select(element) {\n      if (isString(element)) {\n        element = this._elementRegistry.get(element);\n      }\n\n      var oldSelection = this._selection; // don't re-select already selected *Ggg*\n\n      if (oldSelection === element) {\n        return;\n      }\n\n      this._selection = element;\n\n      this._eventBus.fire('selection.changed', {\n        oldSelection: oldSelection,\n        selection: element\n      });\n    }\n    /**\n     * Deselect a table cell.\n     */\n\n  }, {\n    key: \"deselect\",\n    value: function deselect() {\n      var oldSelection = this._selection;\n      this._selection = undefined;\n\n      this._eventBus.fire('selection.changed', {\n        oldSelection: oldSelection,\n        selection: this._selection\n      });\n    }\n    /**\n     * Get the selected cell.\n     */\n\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this._selection;\n    }\n    /**\n     * Check if a cell is selected.\n     */\n\n  }, {\n    key: \"hasSelection\",\n    value: function hasSelection() {\n      return !!this._selection;\n    }\n  }]);\n\n  return Selection;\n}();\n\nexport { Selection as default };\nSelection.$inject = ['elementRegistry', 'eventBus', 'renderer'];\n//# sourceMappingURL=Selection.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Selects table cells on on left & right click.\r\n */\nvar SelectionBehavior = function SelectionBehavior(elementRegistry, eventBus, renderer, selection) {\n  _classCallCheck(this, SelectionBehavior);\n\n  this._elementRegistry = elementRegistry;\n  this._renderer = renderer;\n  this._selection = selection;\n  eventBus.on(['cell.click', 'cell.contextmenu'], function (_ref) {\n    var id = _ref.id;\n    var element = elementRegistry.get(id);\n\n    if (!element) {\n      return;\n    }\n\n    selection.select(element);\n  });\n  eventBus.on('row.remove', function (_ref2) {\n    var row = _ref2.row;\n    var currentSelection = selection.get();\n\n    if (!currentSelection) {\n      return;\n    }\n\n    if (row === currentSelection.row) {\n      selection.deselect();\n    }\n  });\n  eventBus.on('col.remove', function (_ref3) {\n    var col = _ref3.col;\n    var currentSelection = selection.get();\n\n    if (!currentSelection) {\n      return;\n    }\n\n    if (col === currentSelection.col) {\n      selection.deselect();\n    }\n  });\n};\n\nexport { SelectionBehavior as default };\nSelectionBehavior.$inject = ['elementRegistry', 'eventBus', 'renderer', 'selection'];\n//# sourceMappingURL=SelectionBehavior.js.map","import Selection from './Selection';\nimport SelectionBehavior from './SelectionBehavior';\nexport default {\n  __init__: ['selection', 'selectionBehavior'],\n  selection: ['type', Selection],\n  selectionBehavior: ['type', SelectionBehavior]\n};\n//# sourceMappingURL=index.js.map","import { ensureFocus, findSelectableAncestor, getElementCoords, getElementId, getNodeByCoords, getNodeById, isUnselectableNode } from './CellSelectionUtil';\nvar LOW_PRIORITY = 500;\nvar VALID_DIRECTIONS = {\n  above: true,\n  below: true,\n  right: true,\n  left: true\n};\n/**\n * A cell selection utlity; allows selection of elements, independent from\n * whether they are backed by a business object or not.\n *\n * Works together with the {@link SelectionAware} trait.\n *\n * @param {RenderConfig} config\n * @param {EventBus} eventBus\n * @param {Sheet} sheet\n * @param {Selection} selection\n * @param {ElementRegistry} elementRegistry\n */\n\nexport default function CellSelection(config, eventBus, sheet, selection, elementRegistry) {\n  var container = config.container;\n  var lastSelection = null;\n\n  function emit(elementId, newSelection) {\n    eventBus.fire('selection.' + elementId + '.changed', newSelection);\n    eventBus.fire('cellSelection.changed', {\n      elementId: elementId,\n      selection: newSelection\n    });\n  }\n\n  function click(event) {\n    var target = event.target;\n\n    if (isUnselectableNode(target)) {\n      return;\n    }\n\n    var selectableNode = findSelectableAncestor(target);\n    var elementId = selectableNode && getElementId(selectableNode);\n    var focussed = !event.defaultPrevented;\n    realSelect(elementId, focussed);\n  }\n\n  function focus(event) {\n    var elementId = getElementId(event.target);\n    var focussed = !event.defaultPrevented;\n    event.stopPropagation();\n    return realSelect(elementId, focussed);\n  }\n\n  function unfocus(event) {\n    var elementId = getElementId(event.target);\n    emit(elementId, {\n      focussed: false\n    });\n  }\n\n  function realSelect(elementId) {\n    var focussed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (lastSelection !== elementId) {\n      emit(lastSelection, {\n        selected: false,\n        focussed: false\n      });\n    }\n\n    lastSelection = elementId;\n\n    if (elementId) {\n      emit(elementId, {\n        selected: true,\n        focussed: focussed\n      });\n    }\n\n    if (elementId) {\n      selection.select(elementId);\n    } else {\n      selection.deselect();\n    }\n  }\n\n  eventBus.on('cell.click', LOW_PRIORITY, click);\n  eventBus.on('cell.focusin', LOW_PRIORITY, focus);\n  eventBus.on('cell.focusout', LOW_PRIORITY, unfocus);\n  eventBus.on('cellSelection.changed', function (event) {\n    var elementId = event.elementId,\n        selection = event.selection;\n    var actualElement = getNodeById(elementId, container);\n\n    if (selection.focussed && actualElement) {\n      ensureFocus(actualElement);\n    }\n  });\n  eventBus.on('selection.changed', function (event) {\n    var selection = event.selection,\n        oldSelection = event.oldSelection;\n    var elementId = selection && selection.id;\n    var oldElementId = oldSelection && oldSelection.id; // select new element\n\n    if (elementId && elementId !== lastSelection) {\n      realSelect(selection.id);\n    } else // deselect old element\n      if (oldElementId && oldElementId === lastSelection) {\n        realSelect();\n      }\n  }); // API //////////////////////\n\n  /**\n   * Return true if a cell is currently selected.\n   *\n   * @return {boolean}\n   */\n\n  this.isCellSelected = function () {\n    return !!lastSelection;\n  };\n  /**\n   * Get the currently active cellSelection.\n   *\n   * @return {string} selection\n   */\n\n\n  this.getCellSelection = function () {\n    return lastSelection;\n  };\n  /**\n   * Select next cell in given direction.\n   *\n   * Returns true on success; false on fail (i.e. if no next selection\n   * in direction could be found).\n   *\n   * @param {string} direction\n   *\n   * @return {boolean}\n   */\n\n\n  this.selectCell = function (direction) {\n    if (!lastSelection) {\n      return;\n    }\n\n    if (!(direction in VALID_DIRECTIONS)) {\n      throw new Error('direction must be any of { above, below, left, right }');\n    }\n\n    var selectionEl = getNodeById(lastSelection, container);\n    var coords = getElementCoords(selectionEl);\n\n    if (!coords) {\n      return false;\n    }\n\n    var nextCoords = getNextCoords(coords, direction);\n    var nextNode = getNodeByCoords(nextCoords, container);\n\n    if (!nextNode) {\n      return false;\n    }\n\n    var nextElId = getElementId(nextNode);\n\n    if (nextElId) {\n      realSelect(nextElId, {\n        focussed: true,\n        selected: true\n      });\n    }\n\n    return true;\n  };\n\n  eventBus.on('contextMenu.close', function () {\n    if (lastSelection) {\n      return realSelect(lastSelection);\n    }\n  });\n}\nCellSelection.$inject = ['config.renderer', 'eventBus', 'sheet', 'selection', 'elementRegistry']; // helpers ////////////////\n\nfunction getNextCoords(coords, direction) {\n  var row = coords.row,\n      col = coords.col;\n\n  if (direction === 'above' || direction === 'below') {\n    var rowIndex = parseInt(row, 10);\n\n    if (isNaN(rowIndex)) {\n      return coords;\n    }\n\n    var nextRowIndex = direction === 'above' ? rowIndex - 1 : rowIndex + 1;\n    return {\n      col: col,\n      row: nextRowIndex\n    };\n  }\n\n  if (direction === 'left' || direction === 'right') {\n    var colIndex = parseInt(col, 10);\n\n    if (isNaN(colIndex)) {\n      return coords;\n    }\n\n    var nextColIndex = direction === 'left' ? colIndex - 1 : colIndex + 1;\n    return {\n      row: row,\n      col: nextColIndex\n    };\n  }\n\n  throw new Error('invalid direction <' + direction + '>');\n}\n//# sourceMappingURL=CellSelection.js.map","import SelectionModule from 'table-js/lib/features/selection';\nimport InteractionEventsModule from 'table-js/lib/features/interaction-events';\nimport CellSelection from './CellSelection';\nexport default {\n  __depends__: [InteractionEventsModule, SelectionModule],\n  __init__: ['cellSelection'],\n  cellSelection: ['type', CellSelection]\n};\n//# sourceMappingURL=index.js.map","import translate from './translate';\n\nexport default {\n  translate: [ 'value', translate ]\n};","/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n *\n * @param {string} template to interpolate\n * @param {Object} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nexport default function translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}","import {\n  forEach,\n  assign\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport {\n  isPrimaryButton,\n  isAuxiliaryButton\n} from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  createLine,\n  updateLine\n} from '../../util/RenderUtil';\n\nfunction allowAll(event) { return true; }\n\nfunction allowPrimaryAndAuxiliary(event) {\n  return isPrimaryButton(event) || isAuxiliaryButton(event);\n}\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A plugin that provides interaction events for diagram elements.\n *\n * It emits the following events:\n *\n *   * element.click\n *   * element.contextmenu\n *   * element.dblclick\n *   * element.hover\n *   * element.mousedown\n *   * element.mousemove\n *   * element.mouseup\n *   * element.out\n *\n * Each event is a tuple { element, gfx, originalEvent }.\n *\n * Canceling the event via Event#preventDefault()\n * prevents the original DOM operation.\n *\n * @param {EventBus} eventBus\n */\nexport default function InteractionEvents(eventBus, elementRegistry, styles) {\n\n  var self = this;\n\n  /**\n   * Fire an interaction event.\n   *\n   * @param {string} type local event name, e.g. element.click.\n   * @param {DOMEvent} event native event\n   * @param {djs.model.Base} [element] the diagram element to emit the event on;\n   *                                   defaults to the event target\n   */\n  function fire(type, event, element) {\n\n    if (isIgnored(type, event)) {\n      return;\n    }\n\n    var target, gfx, returnValue;\n\n    if (!element) {\n      target = event.delegateTarget || event.target;\n\n      if (target) {\n        gfx = target;\n        element = elementRegistry.get(gfx);\n      }\n    } else {\n      gfx = elementRegistry.getGraphics(element);\n    }\n\n    if (!gfx || !element) {\n      return;\n    }\n\n    returnValue = eventBus.fire(type, {\n      element: element,\n      gfx: gfx,\n      originalEvent: event\n    });\n\n    if (returnValue === false) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  // TODO(nikku): document this\n  var handlers = {};\n\n  function mouseHandler(localEventName) {\n    return handlers[localEventName];\n  }\n\n  function isIgnored(localEventName, event) {\n\n    var filter = ignoredFilters[localEventName] || isPrimaryButton;\n\n    // only react on left mouse button interactions\n    // except for interaction events that are enabled\n    // for secundary mouse button\n    return !filter(event);\n  }\n\n  var bindings = {\n    click: 'element.click',\n    contextmenu: 'element.contextmenu',\n    dblclick: 'element.dblclick',\n    mousedown: 'element.mousedown',\n    mousemove: 'element.mousemove',\n    mouseover: 'element.hover',\n    mouseout: 'element.out',\n    mouseup: 'element.mouseup',\n  };\n\n  var ignoredFilters = {\n    'element.contextmenu': allowAll,\n    'element.mousedown': allowPrimaryAndAuxiliary,\n    'element.mouseup': allowPrimaryAndAuxiliary,\n    'element.click': allowPrimaryAndAuxiliary,\n    'element.dblclick': allowPrimaryAndAuxiliary\n  };\n\n\n  // manual event trigger //////////\n\n  /**\n   * Trigger an interaction event (based on a native dom event)\n   * on the target shape or connection.\n   *\n   * @param {string} eventName the name of the triggered DOM event\n   * @param {MouseEvent} event\n   * @param {djs.model.Base} targetElement\n   */\n  function triggerMouseEvent(eventName, event, targetElement) {\n\n    // i.e. element.mousedown...\n    var localEventName = bindings[eventName];\n\n    if (!localEventName) {\n      throw new Error('unmapped DOM event name <' + eventName + '>');\n    }\n\n    return fire(localEventName, event, targetElement);\n  }\n\n\n  var ELEMENT_SELECTOR = 'svg, .djs-element';\n\n  // event handling ///////\n\n  function registerEvent(node, event, localEvent, ignoredFilter) {\n\n    var handler = handlers[localEvent] = function(event) {\n      fire(localEvent, event);\n    };\n\n    if (ignoredFilter) {\n      ignoredFilters[localEvent] = ignoredFilter;\n    }\n\n    handler.$delegate = domDelegate.bind(node, ELEMENT_SELECTOR, event, handler);\n  }\n\n  function unregisterEvent(node, event, localEvent) {\n\n    var handler = mouseHandler(localEvent);\n\n    if (!handler) {\n      return;\n    }\n\n    domDelegate.unbind(node, event, handler.$delegate);\n  }\n\n  function registerEvents(svg) {\n    forEach(bindings, function(val, key) {\n      registerEvent(svg, key, val);\n    });\n  }\n\n  function unregisterEvents(svg) {\n    forEach(bindings, function(val, key) {\n      unregisterEvent(svg, key, val);\n    });\n  }\n\n  eventBus.on('canvas.destroy', function(event) {\n    unregisterEvents(event.svg);\n  });\n\n  eventBus.on('canvas.init', function(event) {\n    registerEvents(event.svg);\n  });\n\n\n  // hit box updating ////////////////\n\n  eventBus.on([ 'shape.added', 'connection.added' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.createHit', { element: element, gfx: gfx });\n  });\n\n  // Update djs-hit on change.\n  // A low priortity is necessary, because djs-hit of labels has to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([\n    'shape.changed',\n    'connection.changed'\n  ], LOW_PRIORITY, function(event) {\n\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.updateHit', { element: element, gfx: gfx });\n  });\n\n  eventBus.on('interactionEvents.createHit', LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.createDefaultHit(element, gfx);\n  });\n\n  eventBus.on('interactionEvents.updateHit', function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.updateDefaultHit(element, gfx);\n  });\n\n\n  // hit styles ////////////\n\n  var STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-stroke');\n\n  var CLICK_STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-click-stroke');\n\n  var ALL_HIT_STYLE = createHitStyle('djs-hit djs-hit-all');\n\n  var HIT_TYPES = {\n    'all': ALL_HIT_STYLE,\n    'click-stroke': CLICK_STROKE_HIT_STYLE,\n    'stroke': STROKE_HIT_STYLE\n  };\n\n  function createHitStyle(classNames, attrs) {\n\n    attrs = assign({\n      stroke: 'white',\n      strokeWidth: 15\n    }, attrs || {});\n\n    return styles.cls(classNames, [ 'no-fill', 'no-border' ], attrs);\n  }\n\n\n  // style helpers ///////////////\n\n  function applyStyle(hit, type) {\n\n    var attrs = HIT_TYPES[type];\n\n    if (!attrs) {\n      throw new Error('invalid hit type <' + type + '>');\n    }\n\n    svgAttr(hit, attrs);\n\n    return hit;\n  }\n\n  function appendHit(gfx, hit) {\n    svgAppend(gfx, hit);\n  }\n\n\n  // API\n\n  /**\n   * Remove hints on the given graphics.\n   *\n   * @param {SVGElement} gfx\n   */\n  this.removeHits = function(gfx) {\n    var hits = domQueryAll('.djs-hit', gfx);\n\n    forEach(hits, svgRemove);\n  };\n\n  /**\n   * Create default hit for the given element.\n   *\n   * @param {djs.model.Base} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} created hit\n   */\n  this.createDefaultHit = function(element, gfx) {\n    var waypoints = element.waypoints,\n        isFrame = element.isFrame,\n        boxType;\n\n    if (waypoints) {\n      return this.createWaypointsHit(gfx, waypoints);\n    } else {\n\n      boxType = isFrame ? 'stroke' : 'all';\n\n      return this.createBoxHit(gfx, boxType, {\n        width: element.width,\n        height: element.height\n      });\n    }\n  };\n\n  /**\n   * Create hits for the given waypoints.\n   *\n   * @param {SVGElement} gfx\n   * @param {Array<Point>} waypoints\n   *\n   * @return {SVGElement}\n   */\n  this.createWaypointsHit = function(gfx, waypoints) {\n\n    var hit = createLine(waypoints);\n\n    applyStyle(hit, 'stroke');\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Create hits for a box.\n   *\n   * @param {SVGElement} gfx\n   * @param {string} hitType\n   * @param {Object} attrs\n   *\n   * @return {SVGElement}\n   */\n  this.createBoxHit = function(gfx, type, attrs) {\n\n    attrs = assign({\n      x: 0,\n      y: 0\n    }, attrs);\n\n    var hit = svgCreate('rect');\n\n    applyStyle(hit, type);\n\n    svgAttr(hit, attrs);\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Update default hit of the element.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {SVGElement} gfx\n   *\n   * @return {SVGElement} updated hit\n   */\n  this.updateDefaultHit = function(element, gfx) {\n\n    var hit = domQuery('.djs-hit', gfx);\n\n    if (!hit) {\n      return;\n    }\n\n    if (element.waypoints) {\n      updateLine(hit, element.waypoints);\n    } else {\n      svgAttr(hit, {\n        width: element.width,\n        height: element.height\n      });\n    }\n\n    return hit;\n  };\n\n  this.fire = fire;\n\n  this.triggerMouseEvent = triggerMouseEvent;\n\n  this.mouseHandler = mouseHandler;\n\n  this.registerEvent = registerEvent;\n  this.unregisterEvent = unregisterEvent;\n}\n\n\nInteractionEvents.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'styles'\n];\n\n\n/**\n * An event indicating that the mouse hovered over an element\n *\n * @event element.hover\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has left an element\n *\n * @event element.out\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has clicked an element\n *\n * @event element.click\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has double clicked an element\n *\n * @event element.dblclick\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone down on an element.\n *\n * @event element.mousedown\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone up on an element.\n *\n * @event element.mouseup\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the context menu action is triggered\n * via mouse or touch controls.\n *\n * @event element.contextmenu\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */","import InteractionEvents from './InteractionEvents';\n\nexport default {\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', InteractionEvents ]\n};","import {\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\nexport function componentsToPath(elements) {\n  return elements.join(',').replace(/,?([A-z]),?/g, '$1');\n}\n\nexport function toSVGPoints(points) {\n  var result = '';\n\n  for (var i = 0, p; (p = points[i]); i++) {\n    result += p.x + ',' + p.y + ' ';\n  }\n\n  return result;\n}\n\nexport function createLine(points, attrs) {\n\n  var line = svgCreate('polyline');\n  svgAttr(line, { points: toSVGPoints(points) });\n\n  if (attrs) {\n    svgAttr(line, attrs);\n  }\n\n  return line;\n}\n\nexport function updateLine(gfx, points) {\n  svgAttr(gfx, { points: toSVGPoints(points) });\n\n  return gfx;\n}\n","/**\n * SVGs for elements are generated by the {@link GraphicsFactory}.\n *\n * This utility gives quick access to the important semantic\n * parts of an element.\n */\n\n/**\n * Returns the visual part of a diagram element\n *\n * @param {Snap<SVGElement>} gfx\n *\n * @return {Snap<SVGElement>}\n */\nexport function getVisual(gfx) {\n  return gfx.childNodes[0];\n}\n\n/**\n * Returns the children for a given diagram element.\n *\n * @param {Snap<SVGElement>} gfx\n * @return {Snap<SVGElement>}\n */\nexport function getChildren(gfx) {\n  return gfx.parentNode.childNodes[1];\n}","/**\n * Does the definitions element contain graphical information?\n *\n * @param  {ModdleElement} definitions\n *\n * @return {boolean} true, if the definitions contains graphical information\n */\nexport function containsDi(definitions) {\n  return definitions.dmnDI && definitions.dmnDI.diagrams && definitions.dmnDI.diagrams[0];\n}\nexport function hasDi(element) {\n  return !!element.di;\n}\n//# sourceMappingURL=DiUtil.js.map","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getHolder;\n","import inherits from 'inherits';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * A basic provider that may be extended to implement modeling rules.\n *\n * Extensions should implement the init method to actually add their custom\n * modeling checks. Checks may be added via the #addRule(action, fn) method.\n *\n * @param {EventBus} eventBus\n */\nexport default function RuleProvider(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n\n  this.init();\n}\n\nRuleProvider.$inject = [ 'eventBus' ];\n\ninherits(RuleProvider, CommandInterceptor);\n\n\n/**\n * Adds a modeling rule for the given action, implemented through\n * a callback function.\n *\n * The function will receive the modeling specific action context\n * to perform its check. It must return `false` to disallow the\n * action from happening or `true` to allow the action.\n *\n * A rule provider may pass over the evaluation to lower priority\n * rules by returning return nothing (or <code>undefined</code>).\n *\n * @example\n *\n * ResizableRules.prototype.init = function() {\n *\n *   \\/**\n *    * Return `true`, `false` or nothing to denote\n *    * _allowed_, _not allowed_ and _continue evaluating_.\n *    *\\/\n *   this.addRule('shape.resize', function(context) {\n *\n *     var shape = context.shape;\n *\n *     if (!context.newBounds) {\n *       // check general resizability\n *       if (!shape.resizable) {\n *         return false;\n *       }\n *\n *       // not returning anything (read: undefined)\n *       // will continue the evaluation of other rules\n *       // (with lower priority)\n *       return;\n *     } else {\n *       // element must have minimum size of 10*10 points\n *       return context.newBounds.width > 10 && context.newBounds.height > 10;\n *     }\n *   });\n * };\n *\n * @param {string|Array<string>} actions the identifier for the modeling action to check\n * @param {number} [priority] the priority at which this rule is being applied\n * @param {Function} fn the callback function that performs the actual check\n */\nRuleProvider.prototype.addRule = function(actions, priority, fn) {\n\n  var self = this;\n\n  if (typeof actions === 'string') {\n    actions = [ actions ];\n  }\n\n  actions.forEach(function(action) {\n\n    self.canExecute(action, priority, function(context, action, event) {\n      return fn(context);\n    }, true);\n  });\n};\n\n/**\n * Implement this method to add new rules during provider initialization.\n */\nRuleProvider.prototype.init = function() {};","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { every } from 'min-dash';\nimport { Row, Col } from 'table-js/lib/model';\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\nvar HIGH_PRIORITY = 2000;\n\nvar DecisionTableModelingRules = /*#__PURE__*/function (_RuleProvider) {\n  _inherits(DecisionTableModelingRules, _RuleProvider);\n\n  var _super = _createSuper(DecisionTableModelingRules);\n\n  function DecisionTableModelingRules(eventBus, sheet) {\n    var _this;\n\n    _classCallCheck(this, DecisionTableModelingRules);\n\n    _this = _super.call(this, eventBus);\n    _this._sheet = sheet;\n    return _this;\n  }\n\n  _createClass(DecisionTableModelingRules, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      this.addRule('col.move', HIGH_PRIORITY, function (_ref) {\n        var col = _ref.col,\n            index = _ref.index;\n\n        var _this2$_sheet$getRoot = _this2._sheet.getRoot(),\n            businessObject = _this2$_sheet$getRoot.businessObject,\n            input = businessObject.input;\n\n        if (isInput(col)) {\n          return index < input.length;\n        } else {\n          return index >= input.length;\n        }\n      });\n      this.addRule('col.remove', HIGH_PRIORITY, function (_ref2) {\n        var col = _ref2.col;\n\n        var _this2$_sheet$getRoot2 = _this2._sheet.getRoot(),\n            cols = _this2$_sheet$getRoot2.cols;\n\n        if (isOutput(col)) {\n          return cols.filter(function (c) {\n            return isOutput(c);\n          }).length > 1;\n        }\n\n        return true;\n      }); // a rule that is aware of the data structure coming from copy and paste\n\n      this.addRule('paste', HIGH_PRIORITY, function (_ref3) {\n        var data = _ref3.data,\n            target = _ref3.target;\n\n        if (!data || !target) {\n          return false;\n        }\n\n        var root = data.root;\n\n        if (target instanceof Row) {\n          return _this2.canPasteRows(root);\n        }\n\n        if (target instanceof Col) {\n          return _this2.canPasteCols(root, target);\n        }\n\n        return false;\n      });\n    }\n  }, {\n    key: \"canPasteRows\",\n    value: function canPasteRows(root) {\n      var _this$_sheet$getRoot = this._sheet.getRoot(),\n          cols = _this$_sheet$getRoot.cols;\n\n      return every(root, function (descriptor) {\n        if (descriptor.type !== 'row') {\n          return false;\n        }\n\n        if (descriptor.cells.length !== cols.length) {\n          return false;\n        }\n\n        return every(descriptor.cells, function (cellDescriptor, index) {\n          if (isInput(cols[index])) {\n            return cellDescriptor.businessObject.$type === 'dmn:UnaryTests';\n          } else {\n            return cellDescriptor.businessObject.$type === 'dmn:LiteralExpression';\n          }\n        });\n      });\n    }\n  }, {\n    key: \"canPasteCols\",\n    value: function canPasteCols(root, targetCol) {\n      var _this$_sheet$getRoot2 = this._sheet.getRoot(),\n          rows = _this$_sheet$getRoot2.rows;\n\n      return every(root, function (descriptor) {\n        if (descriptor.type !== 'col') {\n          return false;\n        }\n\n        if (descriptor.cells.length !== rows.length) {\n          return false;\n        }\n\n        if (isInput(targetCol)) {\n          return descriptor.businessObject.$type === 'dmn:InputClause';\n        } else {\n          return descriptor.businessObject.$type === 'dmn:OutputClause';\n        }\n      });\n    }\n  }]);\n\n  return DecisionTableModelingRules;\n}(RuleProvider);\n\nexport { DecisionTableModelingRules as default };\nDecisionTableModelingRules.$inject = ['eventBus', 'sheet'];\n//# sourceMappingURL=DecisionTableModelingRules.js.map","/**\n * A service that provides rules for certain diagram actions.\n *\n * The default implementation will hook into the {@link CommandStack}\n * to perform the actual rule evaluation. Make sure to provide the\n * `commandStack` service with this module if you plan to use it.\n *\n * Together with this implementation you may use the {@link RuleProvider}\n * to implement your own rule checkers.\n *\n * This module is ment to be easily replaced, thus the tiny foot print.\n *\n * @param {Injector} injector\n */\nexport default function Rules(injector) {\n  this._commandStack = injector.get('commandStack', false);\n}\n\nRules.$inject = [ 'injector' ];\n\n\n/**\n * Returns whether or not a given modeling action can be executed\n * in the specified context.\n *\n * This implementation will respond with allow unless anyone\n * objects.\n *\n * @param {string} action the action to be checked\n * @param {Object} [context] the context to check the action in\n *\n * @return {boolean} returns true, false or null depending on whether the\n *                   operation is allowed, not allowed or should be ignored.\n */\nRules.prototype.allowed = function(action, context) {\n  var allowed = true;\n\n  var commandStack = this._commandStack;\n\n  if (commandStack) {\n    allowed = commandStack.canExecute(action, context);\n  }\n\n  // map undefined to true, i.e. no rules\n  return allowed === undefined ? true : allowed;\n};","import Rules from './Rules';\n\nexport default {\n  __init__: [ 'rules' ],\n  rules: [ 'type', Rules ]\n};\n","import Rules from 'diagram-js/lib/features/rules';\nexport default {\n  __depends__: [Rules]\n};\n//# sourceMappingURL=index.js.map","import DecisionTableModelingRules from './DecisionTableModelingRules';\nimport Rules from 'table-js/lib/features/rules';\nexport default {\n  __depends__: [Rules],\n  __init__: ['decisionTableModelingRules'],\n  decisionTableModelingRules: ['type', DecisionTableModelingRules]\n};\n//# sourceMappingURL=index.js.map","/**\n * Util that provides unique IDs.\n *\n * @class djs.util.IdGenerator\n * @constructor\n * @memberOf djs.util\n *\n * The ids can be customized via a given prefix and contain a random value to avoid collisions.\n *\n * @param {string} prefix a prefix to prepend to generated ids (for better readability)\n */\nexport default function IdGenerator(prefix) {\n\n  this._counter = 0;\n  this._prefix = (prefix ? prefix + '-' : '') + Math.floor(Math.random() * 1000000000) + '-';\n}\n\n/**\n * Returns a next unique ID.\n *\n * @method djs.util.IdGenerator#next\n *\n * @returns {string} the id\n */\nIdGenerator.prototype.next = function() {\n  return this._prefix + (++this._counter);\n};\n","import {\n  isArray,\n  isString,\n  isObject,\n  assign,\n  forEach,\n  find,\n  filter,\n  matchPattern,\n  isDefined\n} from 'min-dash';\n\nimport {\n  domify,\n  classes as domClasses,\n  attr as domAttr,\n  remove as domRemove,\n  clear as domClear\n} from 'min-dom';\n\nimport {\n  getBBox\n} from '../../util/Elements';\n\nimport Ids from '../../util/IdGenerator';\n\n// document wide unique overlay ids\nvar ids = new Ids('ov');\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A service that allows users to attach overlays to diagram elements.\n *\n * The overlay service will take care of overlay positioning during updates.\n *\n * @example\n *\n * // add a pink badge on the top left of the shape\n * overlays.add(someShape, {\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add via shape id\n *\n * overlays.add('some-element-id', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add with optional type\n *\n * overlays.add(someShape, 'badge', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n *\n * // remove an overlay\n *\n * var id = overlays.add(...);\n * overlays.remove(id);\n *\n *\n * You may configure overlay defaults during tool by providing a `config` module\n * with `overlays.defaults` as an entry:\n *\n * {\n *   overlays: {\n *     defaults: {\n *       show: {\n *         minZoom: 0.7,\n *         maxZoom: 5.0\n *       },\n *       scale: {\n *         min: 1\n *       }\n *     }\n * }\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Overlays(config, eventBus, canvas, elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n\n  this._ids = ids;\n\n  this._overlayDefaults = assign({\n\n    // no show constraints\n    show: null,\n\n    // always scale\n    scale: true\n  }, config && config.defaults);\n\n  /**\n   * Mapping overlayId -> overlay\n   */\n  this._overlays = {};\n\n  /**\n   * Mapping elementId -> overlay container\n   */\n  this._overlayContainers = [];\n\n  // root html element for all overlays\n  this._overlayRoot = createRoot(canvas.getContainer());\n\n  this._init();\n}\n\n\nOverlays.$inject = [\n  'config.overlays',\n  'eventBus',\n  'canvas',\n  'elementRegistry'\n];\n\n\n/**\n * Returns the overlay with the specified id or a list of overlays\n * for an element with a given type.\n *\n * @example\n *\n * // return the single overlay with the given id\n * overlays.get('some-id');\n *\n * // return all overlays for the shape\n * overlays.get({ element: someShape });\n *\n * // return all overlays on shape with type 'badge'\n * overlays.get({ element: someShape, type: 'badge' });\n *\n * // shape can also be specified as id\n * overlays.get({ element: 'element-id', type: 'badge' });\n *\n *\n * @param {Object} search\n * @param {string} [search.id]\n * @param {string|djs.model.Base} [search.element]\n * @param {string} [search.type]\n *\n * @return {Object|Array<Object>} the overlay(s)\n */\nOverlays.prototype.get = function(search) {\n\n  if (isString(search)) {\n    search = { id: search };\n  }\n\n  if (isString(search.element)) {\n    search.element = this._elementRegistry.get(search.element);\n  }\n\n  if (search.element) {\n    var container = this._getOverlayContainer(search.element, true);\n\n    // return a list of overlays when searching by element (+type)\n    if (container) {\n      return search.type ? filter(container.overlays, matchPattern({ type: search.type })) : container.overlays.slice();\n    } else {\n      return [];\n    }\n  } else\n  if (search.type) {\n    return filter(this._overlays, matchPattern({ type: search.type }));\n  } else {\n\n    // return single element when searching by id\n    return search.id ? this._overlays[search.id] : null;\n  }\n};\n\n/**\n * Adds a HTML overlay to an element.\n *\n * @param {string|djs.model.Base}   element   attach overlay to this shape\n * @param {string}                  [type]    optional type to assign to the overlay\n * @param {Object}                  overlay   the overlay configuration\n *\n * @param {string|DOMElement}       overlay.html                 html element to use as an overlay\n * @param {Object}                  [overlay.show]               show configuration\n * @param {number}                  [overlay.show.minZoom]       minimal zoom level to show the overlay\n * @param {number}                  [overlay.show.maxZoom]       maximum zoom level to show the overlay\n * @param {Object}                  overlay.position             where to attach the overlay\n * @param {number}                  [overlay.position.left]      relative to element bbox left attachment\n * @param {number}                  [overlay.position.top]       relative to element bbox top attachment\n * @param {number}                  [overlay.position.bottom]    relative to element bbox bottom attachment\n * @param {number}                  [overlay.position.right]     relative to element bbox right attachment\n * @param {boolean|Object}          [overlay.scale=true]         false to preserve the same size regardless of\n *                                                               diagram zoom\n * @param {number}                  [overlay.scale.min]\n * @param {number}                  [overlay.scale.max]\n *\n * @return {string}                 id that may be used to reference the overlay for update or removal\n */\nOverlays.prototype.add = function(element, type, overlay) {\n\n  if (isObject(type)) {\n    overlay = type;\n    type = null;\n  }\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!overlay.position) {\n    throw new Error('must specifiy overlay position');\n  }\n\n  if (!overlay.html) {\n    throw new Error('must specifiy overlay html');\n  }\n\n  if (!element) {\n    throw new Error('invalid element specified');\n  }\n\n  var id = this._ids.next();\n\n  overlay = assign({}, this._overlayDefaults, overlay, {\n    id: id,\n    type: type,\n    element: element,\n    html: overlay.html\n  });\n\n  this._addOverlay(overlay);\n\n  return id;\n};\n\n\n/**\n * Remove an overlay with the given id or all overlays matching the given filter.\n *\n * @see Overlays#get for filter options.\n *\n * @param {string} [id]\n * @param {Object} [filter]\n */\nOverlays.prototype.remove = function(filter) {\n\n  var overlays = this.get(filter) || [];\n\n  if (!isArray(overlays)) {\n    overlays = [ overlays ];\n  }\n\n  var self = this;\n\n  forEach(overlays, function(overlay) {\n\n    var container = self._getOverlayContainer(overlay.element, true);\n\n    if (overlay) {\n      domRemove(overlay.html);\n      domRemove(overlay.htmlContainer);\n\n      delete overlay.htmlContainer;\n      delete overlay.element;\n\n      delete self._overlays[overlay.id];\n    }\n\n    if (container) {\n      var idx = container.overlays.indexOf(overlay);\n      if (idx !== -1) {\n        container.overlays.splice(idx, 1);\n      }\n    }\n  });\n\n};\n\n\nOverlays.prototype.show = function() {\n  setVisible(this._overlayRoot);\n};\n\n\nOverlays.prototype.hide = function() {\n  setVisible(this._overlayRoot, false);\n};\n\nOverlays.prototype.clear = function() {\n  this._overlays = {};\n\n  this._overlayContainers = [];\n\n  domClear(this._overlayRoot);\n};\n\nOverlays.prototype._updateOverlayContainer = function(container) {\n  var element = container.element,\n      html = container.html;\n\n  // update container left,top according to the elements x,y coordinates\n  // this ensures we can attach child elements relative to this container\n\n  var x = element.x,\n      y = element.y;\n\n  if (element.waypoints) {\n    var bbox = getBBox(element);\n    x = bbox.x;\n    y = bbox.y;\n  }\n\n  setPosition(html, x, y);\n\n  domAttr(container.html, 'data-container-id', element.id);\n};\n\n\nOverlays.prototype._updateOverlay = function(overlay) {\n\n  var position = overlay.position,\n      htmlContainer = overlay.htmlContainer,\n      element = overlay.element;\n\n  // update overlay html relative to shape because\n  // it is already positioned on the element\n\n  // update relative\n  var left = position.left,\n      top = position.top;\n\n  if (position.right !== undefined) {\n\n    var width;\n\n    if (element.waypoints) {\n      width = getBBox(element).width;\n    } else {\n      width = element.width;\n    }\n\n    left = position.right * -1 + width;\n  }\n\n  if (position.bottom !== undefined) {\n\n    var height;\n\n    if (element.waypoints) {\n      height = getBBox(element).height;\n    } else {\n      height = element.height;\n    }\n\n    top = position.bottom * -1 + height;\n  }\n\n  setPosition(htmlContainer, left || 0, top || 0);\n};\n\n\nOverlays.prototype._createOverlayContainer = function(element) {\n  var html = domify('<div class=\"djs-overlays\" style=\"position: absolute\" />');\n\n  this._overlayRoot.appendChild(html);\n\n  var container = {\n    html: html,\n    element: element,\n    overlays: []\n  };\n\n  this._updateOverlayContainer(container);\n\n  this._overlayContainers.push(container);\n\n  return container;\n};\n\n\nOverlays.prototype._updateRoot = function(viewbox) {\n  var scale = viewbox.scale || 1;\n\n  var matrix = 'matrix(' +\n  [\n    scale,\n    0,\n    0,\n    scale,\n    -1 * viewbox.x * scale,\n    -1 * viewbox.y * scale\n  ].join(',') +\n  ')';\n\n  setTransform(this._overlayRoot, matrix);\n};\n\n\nOverlays.prototype._getOverlayContainer = function(element, raw) {\n  var container = find(this._overlayContainers, function(c) {\n    return c.element === element;\n  });\n\n\n  if (!container && !raw) {\n    return this._createOverlayContainer(element);\n  }\n\n  return container;\n};\n\n\nOverlays.prototype._addOverlay = function(overlay) {\n\n  var id = overlay.id,\n      element = overlay.element,\n      html = overlay.html,\n      htmlContainer,\n      overlayContainer;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // overlay HTML strings\n  if (isString(html)) {\n    html = domify(html);\n  }\n\n  overlayContainer = this._getOverlayContainer(element);\n\n  htmlContainer = domify('<div class=\"djs-overlay\" data-overlay-id=\"' + id + '\" style=\"position: absolute\">');\n\n  htmlContainer.appendChild(html);\n\n  if (overlay.type) {\n    domClasses(htmlContainer).add('djs-overlay-' + overlay.type);\n  }\n\n  var plane = this._canvas.findPlane(element);\n  var activePlane = this._canvas.getActivePlane();\n  overlay.plane = plane;\n  if (plane !== activePlane) {\n    setVisible(htmlContainer, false);\n  }\n\n  overlay.htmlContainer = htmlContainer;\n\n  overlayContainer.overlays.push(overlay);\n  overlayContainer.html.appendChild(htmlContainer);\n\n  this._overlays[id] = overlay;\n\n  this._updateOverlay(overlay);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._updateOverlayVisibilty = function(overlay, viewbox) {\n  var show = overlay.show,\n      plane = overlay.plane,\n      minZoom = show && show.minZoom,\n      maxZoom = show && show.maxZoom,\n      htmlContainer = overlay.htmlContainer,\n      activePlane = this._canvas.getActivePlane(),\n      visible = true;\n\n  if (plane !== activePlane) {\n    visible = false;\n  } else if (show) {\n    if (\n      (isDefined(minZoom) && minZoom > viewbox.scale) ||\n      (isDefined(maxZoom) && maxZoom < viewbox.scale)\n    ) {\n      visible = false;\n    }\n  }\n\n  setVisible(htmlContainer, visible);\n\n  this._updateOverlayScale(overlay, viewbox);\n};\n\n\nOverlays.prototype._updateOverlayScale = function(overlay, viewbox) {\n  var shouldScale = overlay.scale,\n      minScale,\n      maxScale,\n      htmlContainer = overlay.htmlContainer;\n\n  var scale, transform = '';\n\n  if (shouldScale !== true) {\n\n    if (shouldScale === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = shouldScale.min;\n      maxScale = shouldScale.max;\n    }\n\n    if (isDefined(minScale) && viewbox.scale < minScale) {\n      scale = (1 / viewbox.scale || 1) * minScale;\n    }\n\n    if (isDefined(maxScale) && viewbox.scale > maxScale) {\n      scale = (1 / viewbox.scale || 1) * maxScale;\n    }\n  }\n\n  if (isDefined(scale)) {\n    transform = 'scale(' + scale + ',' + scale + ')';\n  }\n\n  setTransform(htmlContainer, transform);\n};\n\n\nOverlays.prototype._updateOverlaysVisibilty = function(viewbox) {\n\n  var self = this;\n\n  forEach(this._overlays, function(overlay) {\n    self._updateOverlayVisibilty(overlay, viewbox);\n  });\n};\n\n\nOverlays.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateOverlaysVisibilty(viewbox);\n\n    self.show();\n  }\n\n  eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n\n\n  // remove integration\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    var overlays = self.get({ element: element });\n\n    forEach(overlays, function(o) {\n      self.remove(o.id);\n    });\n\n    var container = self._getOverlayContainer(element);\n\n    if (container) {\n      domRemove(container.html);\n      var i = self._overlayContainers.indexOf(container);\n      if (i !== -1) {\n        self._overlayContainers.splice(i, 1);\n      }\n    }\n  });\n\n\n  // move integration\n\n  eventBus.on('element.changed', LOW_PRIORITY, function(e) {\n    var element = e.element;\n\n    var container = self._getOverlayContainer(element, true);\n\n    if (container) {\n      forEach(container.overlays, function(overlay) {\n        self._updateOverlay(overlay);\n      });\n\n      self._updateOverlayContainer(container);\n    }\n  });\n\n\n  // marker integration, simply add them on the overlays as classes, too.\n\n  eventBus.on('element.marker.update', function(e) {\n    var container = self._getOverlayContainer(e.element, true);\n    if (container) {\n      domClasses(container.html)[e.add ? 'add' : 'remove'](e.marker);\n    }\n  });\n\n\n  eventBus.on('plane.set', function(e) {\n    forEach(self._overlays, function(el) {\n      setVisible(el.htmlContainer, el.plane === e.plane);\n    });\n  });\n\n  // clear overlays with diagram\n\n  eventBus.on('diagram.clear', this.clear, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction createRoot(parentNode) {\n  var root = domify(\n    '<div class=\"djs-overlay-container\" style=\"position: absolute; width: 0; height: 0;\" />'\n  );\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\nfunction setPosition(el, x, y) {\n  assign(el.style, { left: x + 'px', top: y + 'px' });\n}\n\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\nfunction setTransform(el, transform) {\n\n  el.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    el.style[prefix + 'transform'] = transform;\n  });\n}","import Overlays from './Overlays';\n\nexport default {\n  __init__: [ 'overlays' ],\n  overlays: [ 'type', Overlays ]\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { closest as domClosest } from 'min-dom';\nvar EVENTS = ['click', 'dblclick', 'contextmenu', 'mousedown', 'mouseup', 'mouseenter', 'mouseleave', 'mouseout', 'mouseover', 'mousemove', 'focusin', 'focusout', 'drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop'];\n/**\n * Provides interaction events on the table.\n *\n * @param {RenderConfig} config\n * @param {EventBus} eventBus\n */\n\nvar InteractionEvents =\n/*#__PURE__*/\nfunction () {\n  function InteractionEvents(config, eventBus) {\n    var _this = this;\n\n    _classCallCheck(this, InteractionEvents);\n\n    _defineProperty(this, \"_handleEvent\", function (event) {\n      var target = event.target,\n          type = event.type;\n      var node = findClosestCell(target);\n\n      if (!node) {\n        return;\n      }\n\n      var elementId = node.getAttribute('data-element-id');\n\n      if (elementId) {\n        var e = _this._eventBus.createEvent({\n          id: elementId,\n          event: event,\n          node: node,\n          target: node\n        });\n\n        _this._eventBus.fire(\"cell.\".concat(type), e);\n\n        if (e.defaultPrevented) {\n          event.preventDefault();\n        }\n\n        if (e.cancelBubble) {\n          event.stopPropagation();\n        }\n      }\n    });\n\n    this._eventBus = eventBus;\n    this._container = config.container;\n    eventBus.on('table.init', function () {\n      _this._addEventListeners(EVENTS);\n    });\n    eventBus.on('table.destroy', function () {\n      _this._removeEventListeners(EVENTS);\n    });\n  }\n\n  _createClass(InteractionEvents, [{\n    key: \"_addEventListeners\",\n    value: function _addEventListeners(events) {\n      var _this2 = this;\n\n      var container = this._container;\n      events.forEach(function (event) {\n        container.addEventListener(event, _this2._handleEvent);\n      });\n    }\n  }, {\n    key: \"_removeEventListeners\",\n    value: function _removeEventListeners(events) {\n      var _this3 = this;\n\n      var container = this._container;\n      events.forEach(function (event) {\n        container.removeEventListener(event, _this3._handleEvent);\n      });\n    }\n  }]);\n\n  return InteractionEvents;\n}();\n\nexport { InteractionEvents as default };\nInteractionEvents.$inject = ['config.renderer', 'eventBus']; // helpers /////////////\n\nfunction findClosestCell(element) {\n  return domClosest(element, '[data-element-id]', true);\n}\n//# sourceMappingURL=InteractionEvents.js.map","import InteractionEvents from './InteractionEvents';\nexport default {\n  __init__: ['interactionEvents'],\n  interactionEvents: ['type', InteractionEvents]\n};\n//# sourceMappingURL=index.js.map","import { domify, query as domQuery, delegate as domDelegate } from 'min-dom';\nexport default function DefinitionPropertiesView(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  eventBus.on('diagram.init', function () {\n    this._init();\n  }, this);\n  eventBus.on('import.done', function (event) {\n    if (!event.error) {\n      this.update();\n    }\n  }, this);\n}\nDefinitionPropertiesView.$inject = ['eventBus', 'canvas'];\n/**\n * Initialize\n */\n\nDefinitionPropertiesView.prototype._init = function () {\n  var canvas = this._canvas,\n      eventBus = this._eventBus;\n  var parent = canvas.getContainer(),\n      container = this._container = domify(DefinitionPropertiesView.HTML_MARKUP);\n  parent.appendChild(container);\n  this.nameElement = domQuery('.dmn-definitions-name', this._container);\n  this.idElement = domQuery('.dmn-definitions-id', this._container);\n  domDelegate.bind(container, '.dmn-definitions-name, .dmn-definitions-id', 'mousedown', function (event) {\n    event.stopPropagation();\n  });\n  eventBus.fire('definitionIdView.create', {\n    html: container\n  });\n};\n\nDefinitionPropertiesView.prototype.update = function () {\n  var businessObject = this._canvas.getRootElement().businessObject;\n\n  this.nameElement.textContent = businessObject.name;\n  this.idElement.textContent = businessObject.id;\n};\n/* markup definition */\n\n\nDefinitionPropertiesView.HTML_MARKUP = '<div class=\"dmn-definitions\">' + '<div class=\"dmn-definitions-name\" title=\"Definition Name\" spellcheck=\"false\">' + '</div>' + '<div class=\"dmn-definitions-id\" title=\"Definition ID\" spellcheck=\"false\">' + '</div>' + '</div>';\n//# sourceMappingURL=DefinitionPropertiesView.js.map","import DefinitionPropertiesView from './DefinitionPropertiesView';\nimport PaletteAdapter from './PaletteAdapter';\nexport default {\n  __init__: ['definitionPropertiesView', 'definitionPropertiesPaletteAdapter'],\n  definitionPropertiesView: ['type', DefinitionPropertiesView],\n  definitionPropertiesPaletteAdapter: ['type', PaletteAdapter]\n};\n//# sourceMappingURL=viewer.js.map","import { isFunction } from 'min-dash'; // TODO: remove with future dmn-js version\n\n/**\n * Wraps APIs to check:\n *\n * 1) If a callback is passed -> Warn users about callback deprecation.\n * 2) If Promise class is implemented in current environment.\n *\n * @private\n */\n\nexport function wrapForCompatibility(api) {\n  return function () {\n    if (!window.Promise) {\n      throw new Error('Promises is not supported in this environment.' + ' Please polyfill Promise.');\n    }\n\n    var argLen = arguments.length;\n\n    if (argLen >= 1 && isFunction(arguments[argLen - 1])) {\n      var callback = arguments[argLen - 1];\n      console.warn(new Error('Passing callbacks to ' + replaceBoundPrefix(api.name) + ' is deprecated and will be removed in a future major release. ' + 'Please switch to promises: https://bpmn.io/l/moving-to-promises.html'));\n      var argsWithoutCallback = Array.prototype.slice.call(arguments, 0, -1);\n      api.apply(this, argsWithoutCallback).then(function (result) {\n        var firstKey = Object.keys(result)[0]; // The APIs we are wrapping all resolve a single item depending on the API.\n        // For instance, importXML resolves { warnings } and saveXML returns { xml }.\n        // That's why we can call the callback with the first item of result.\n\n        return callback(null, result[firstKey]); // Passing a second paramter instead of catch because we don't want to\n        // catch errors thrown by callback().\n      }, function (err) {\n        return callback(err, err.warnings);\n      });\n    } else {\n      return api.apply(this, arguments);\n    }\n  };\n} // helper ////////\n\n/**\n * replaceBoundPrefix - replace the <bound > prefix from a string. Can be used\n * when logging the name of an API, not being sure whether is was bound or not.\n *\n * @param  {string} string\n * @return {string} the string without the <bound > prefix. If no <bound > prefix\n * was present, the same string will be returned.\n */\n\nfunction replaceBoundPrefix(string) {\n  return string.replace('bound ', '');\n}\n//# sourceMappingURL=CompatibilityUtils.js.map","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n */\nexport default function EventBus() {\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @param {string|Array<string>} events\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n\n/**\n * Register an event listener that is executed only once.\n *\n * @param {string} event the event name to register for\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback the callback to execute\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.once = function(event, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(event, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(event, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|Array<string>} events\n * @param {Function} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an EventBus event.\n *\n * @param {Object} data\n *\n * @return {Object} event, recognized by the eventBus\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires a named event.\n *\n * @example\n *\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n *\n * @param {string} [name] the optional event name\n * @param {Object} [event] the event object\n * @param {...Object} additional arguments to be passed to the callback functions\n *\n * @return {boolean} the events return value, if specified or false if the\n *                   default action was prevented by listeners\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/*\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {Object} listener { priority, callback }\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {Array<Object>} args\n *\n * @return {Any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","'use strict';\n\n/**\n * This file contains source code adapted from Snap.svg (licensed Apache-2.0).\n *\n * @see https://github.com/adobe-webplatform/Snap.svg/blob/master/src/path.js\n */\n\n/* eslint no-fallthrough: \"off\" */\n\nvar p2s = /,?([a-z]),?/gi,\n    toFloat = parseFloat,\n    math = Math,\n    PI = math.PI,\n    mmin = math.min,\n    mmax = math.max,\n    pow = math.pow,\n    abs = math.abs,\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[-+]?\\d+)?)[\\s]*,?[\\s]*/ig;\n\nvar isArray = Array.isArray || function(o) { return o instanceof Array; };\n\nfunction hasProperty(obj, property) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\nfunction clone(obj) {\n\n  if (typeof obj == 'function' || Object(obj) !== obj) {\n    return obj;\n  }\n\n  var res = new obj.constructor;\n\n  for (var key in obj) {\n    if (hasProperty(obj, key)) {\n      res[key] = clone(obj[key]);\n    }\n  }\n\n  return res;\n}\n\nfunction repush(array, item) {\n  for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n    return array.push(array.splice(i, 1)[0]);\n  }\n}\n\nfunction cacher(f) {\n\n  function newf() {\n\n    var arg = Array.prototype.slice.call(arguments, 0),\n        args = arg.join('\\u2400'),\n        cache = newf.cache = newf.cache || {},\n        count = newf.count = newf.count || [];\n\n    if (hasProperty(cache, args)) {\n      repush(count, args);\n      return cache[args];\n    }\n\n    count.length >= 1e3 && delete cache[count.shift()];\n    count.push(args);\n    cache[args] = f.apply(0, arg);\n\n    return cache[args];\n  }\n  return newf;\n}\n\nfunction parsePathString(pathString) {\n\n  if (!pathString) {\n    return null;\n  }\n\n  var pth = paths(pathString);\n\n  if (pth.arr) {\n    return clone(pth.arr);\n  }\n\n  var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },\n      data = [];\n\n  if (isArray(pathString) && isArray(pathString[0])) { // rough assumption\n    data = clone(pathString);\n  }\n\n  if (!data.length) {\n\n    String(pathString).replace(pathCommand, function(a, b, c) {\n      var params = [],\n          name = b.toLowerCase();\n\n      c.replace(pathValues, function(a, b) {\n        b && params.push(+b);\n      });\n\n      if (name == 'm' && params.length > 2) {\n        data.push([b].concat(params.splice(0, 2)));\n        name = 'l';\n        b = b == 'm' ? 'l' : 'L';\n      }\n\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    });\n  }\n\n  data.toString = paths.toString;\n  pth.arr = clone(data);\n\n  return data;\n}\n\nfunction paths(ps) {\n  var p = paths.ps = paths.ps || {};\n\n  if (p[ps]) {\n    p[ps].sleep = 100;\n  } else {\n    p[ps] = {\n      sleep: 100\n    };\n  }\n\n  setTimeout(function() {\n    for (var key in p) {\n      if (hasProperty(p, key) && key != ps) {\n        p[key].sleep--;\n        !p[key].sleep && delete p[key];\n      }\n    }\n  });\n\n  return p[ps];\n}\n\nfunction rectBBox(x, y, width, height) {\n\n  if (arguments.length === 1) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    x2: x + width,\n    y2: y + height\n  };\n}\n\nfunction pathToString() {\n  return this.join(',').replace(p2s, '$1');\n}\n\nfunction pathClone(pathArray) {\n  var res = clone(pathArray);\n  res.toString = pathToString;\n  return res;\n}\n\nfunction findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t,\n      t13 = pow(t1, 3),\n      t12 = pow(t1, 2),\n      t2 = t * t,\n      t3 = t2 * t,\n      x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n      y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n\n  return {\n    x: fixError(x),\n    y: fixError(y)\n  };\n}\n\nfunction bezierBBox(points) {\n\n  var bbox = curveBBox.apply(null, points);\n\n  return rectBBox(\n    bbox.x0,\n    bbox.y0,\n    bbox.x1 - bbox.x0,\n    bbox.y1 - bbox.y0\n  );\n}\n\nfunction isPointInsideBBox(bbox, x, y) {\n  return x >= bbox.x &&\n    x <= bbox.x + bbox.width &&\n    y >= bbox.y &&\n    y <= bbox.y + bbox.height;\n}\n\nfunction isBBoxIntersect(bbox1, bbox2) {\n  bbox1 = rectBBox(bbox1);\n  bbox2 = rectBBox(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n    || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n        || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n    && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n        || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n}\n\nfunction base3(t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n      t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n}\n\nfunction bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n\n  if (z == null) {\n    z = 1;\n  }\n\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n\n  var z2 = z / 2,\n      n = 12,\n      Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n      Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n      sum = 0;\n\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2,\n        xbase = base3(ct, x1, x2, x3, x4),\n        ybase = base3(ct, y1, y2, y3, y4),\n        comb = xbase * xbase + ybase * ybase;\n\n    sum += Cvalues[i] * math.sqrt(comb);\n  }\n\n  return z2 * sum;\n}\n\n\nfunction intersectLines(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  if (\n    mmax(x1, x2) < mmin(x3, x4) ||\n      mmin(x1, x2) > mmax(x3, x4) ||\n      mmax(y1, y2) < mmin(y3, y4) ||\n      mmin(y1, y2) > mmax(y3, y4)\n  ) {\n    return;\n  }\n\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n\n  var px = fixError(nx / denominator),\n      py = fixError(ny / denominator),\n      px2 = +px.toFixed(2),\n      py2 = +py.toFixed(2);\n\n  if (\n    px2 < +mmin(x1, x2).toFixed(2) ||\n      px2 > +mmax(x1, x2).toFixed(2) ||\n      px2 < +mmin(x3, x4).toFixed(2) ||\n      px2 > +mmax(x3, x4).toFixed(2) ||\n      py2 < +mmin(y1, y2).toFixed(2) ||\n      py2 > +mmax(y1, y2).toFixed(2) ||\n      py2 < +mmin(y3, y4).toFixed(2) ||\n      py2 > +mmax(y3, y4).toFixed(2)\n  ) {\n    return;\n  }\n\n  return { x: px, y: py };\n}\n\nfunction fixError(number) {\n  return Math.round(number * 100000000000) / 100000000000;\n}\n\nfunction findBezierIntersections(bez1, bez2, justCount) {\n  var bbox1 = bezierBBox(bez1),\n      bbox2 = bezierBBox(bez2);\n\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n\n  // As an optimization, lines will have only 1 segment\n\n  var l1 = bezlen.apply(0, bez1),\n      l2 = bezlen.apply(0, bez2),\n      n1 = isLine(bez1) ? 1 : ~~(l1 / 5) || 1,\n      n2 = isLine(bez2) ? 1 : ~~(l2 / 5) || 1,\n      dots1 = [],\n      dots2 = [],\n      xy = {},\n      res = justCount ? 0 : [];\n\n  for (var i = 0; i < n1 + 1; i++) {\n    var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({ x: p.x, y: p.y, t: i / n1 });\n  }\n\n  for (i = 0; i < n2 + 1; i++) {\n    p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n    dots2.push({ x: p.x, y: p.y, t: i / n2 });\n  }\n\n  for (i = 0; i < n1; i++) {\n\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[i],\n          di1 = dots1[i + 1],\n          dj = dots2[j],\n          dj1 = dots2[j + 1],\n          ci = abs(di1.x - di.x) < .01 ? 'y' : 'x',\n          cj = abs(dj1.x - dj.x) < .01 ? 'y' : 'x',\n          is = intersectLines(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y),\n          key;\n\n      if (is) {\n        key = is.x.toFixed(9) + '#' + is.y.toFixed(9);\n\n        if (xy[key]) {\n          continue;\n        }\n\n        xy[key] = true;\n\n        var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n            t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n\n          if (justCount) {\n            res++;\n          } else {\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\n/**\n * Find or counts the intersections between two SVG paths.\n *\n * Returns a number in counting mode and a list of intersections otherwise.\n *\n * A single intersection entry contains the intersection coordinates (x, y)\n * as well as additional information regarding the intersecting segments\n * on each path (segment1, segment2) and the relative location of the\n * intersection on these segments (t1, t2).\n *\n * The path may be an SVG path string or a list of path components\n * such as `[ [ 'M', 0, 10 ], [ 'L', 20, 0 ] ]`.\n *\n * @example\n *\n * var intersections = findPathIntersections(\n *   'M0,0L100,100',\n *   [ [ 'M', 0, 100 ], [ 'L', 100, 0 ] ]\n * );\n *\n * // intersections = [\n * //   { x: 50, y: 50, segment1: 1, segment2: 1, t1: 0.5, t2: 0.5 }\n * // ]\n *\n * @param {String|Array<PathDef>} path1\n * @param {String|Array<PathDef>} path2\n * @param {Boolean} [justCount=false]\n *\n * @return {Array<Intersection>|Number}\n */\nfunction findPathIntersections(path1, path2, justCount) {\n  path1 = pathToCurve(path1);\n  path2 = pathToCurve(path2);\n\n  var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n      res = justCount ? 0 : [];\n\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n\n    if (pi[0] == 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n\n      if (pi[0] == 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n\n        if (pj[0] == 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n\n          if (pj[0] == 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n\n          var intr = findBezierIntersections(bez1, bez2, justCount);\n\n          if (justCount) {\n            res += intr;\n          } else {\n\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\nfunction pathToAbsolute(pathArray) {\n  var pth = paths(pathArray);\n\n  if (pth.abs) {\n    return pathClone(pth.abs);\n  }\n\n  if (!isArray(pathArray) || !isArray(pathArray && pathArray[0])) { // rough assumption\n    pathArray = parsePathString(pathArray);\n  }\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var res = [],\n      x = 0,\n      y = 0,\n      mx = 0,\n      my = 0,\n      start = 0,\n      pa0;\n\n  if (pathArray[0][0] == 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push(r = []);\n    pa = pathArray[i];\n    pa0 = pa[0];\n\n    if (pa0 != pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n\n      switch (r[0]) {\n      case 'A':\n        r[1] = pa[1];\n        r[2] = pa[2];\n        r[3] = pa[3];\n        r[4] = pa[4];\n        r[5] = pa[5];\n        r[6] = +pa[6] + x;\n        r[7] = +pa[7] + y;\n        break;\n      case 'V':\n        r[1] = +pa[1] + y;\n        break;\n      case 'H':\n        r[1] = +pa[1] + x;\n        break;\n      case 'M':\n        mx = +pa[1] + x;\n        my = +pa[2] + y;\n      default:\n        for (var j = 1, jj = pa.length; j < jj; j++) {\n          r[j] = +pa[j] + ((j % 2) ? x : y);\n        }\n      }\n    } else {\n      for (var k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n\n    switch (r[0]) {\n    case 'Z':\n      x = +mx;\n      y = +my;\n      break;\n    case 'H':\n      x = r[1];\n      break;\n    case 'V':\n      y = r[1];\n      break;\n    case 'M':\n      mx = r[r.length - 2];\n      my = r[r.length - 1];\n    default:\n      x = r[r.length - 2];\n      y = r[r.length - 1];\n    }\n  }\n\n  res.toString = pathToString;\n  pth.abs = pathClone(res);\n\n  return res;\n}\n\nfunction isLine(bez) {\n  return (\n    bez[0] === bez[2] &&\n    bez[1] === bez[3] &&\n    bez[4] === bez[6] &&\n    bez[5] === bez[7]\n  );\n}\n\nfunction lineToCurve(x1, y1, x2, y2) {\n  return [\n    x1, y1, x2,\n    y2, x2, y2\n  ];\n}\n\nfunction qubicToCurve(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3,\n      _23 = 2 / 3;\n\n  return [\n    _13 * x1 + _23 * ax,\n    _13 * y1 + _23 * ay,\n    _13 * x2 + _23 * ax,\n    _13 * y2 + _23 * ay,\n    x2,\n    y2\n  ];\n}\n\nfunction arcToCurve(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  var _120 = PI * 120 / 180,\n      rad = PI / 180 * (+angle || 0),\n      res = [],\n      xy,\n      rotate = cacher(function(x, y, rad) {\n        var X = x * math.cos(rad) - y * math.sin(rad),\n            Y = x * math.sin(rad) + y * math.cos(rad);\n\n        return { x: X, y: Y };\n      });\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    var x = (x1 - x2) / 2,\n        y = (y1 - y2) / 2;\n\n    var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n\n    if (h > 1) {\n      h = math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx,\n        ry2 = ry * ry,\n        k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n        cx = k * rx * y / ry + (x1 + x2) / 2,\n        cy = k * -ry * x / rx + (y1 + y2) / 2,\n        f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n        f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? PI - f1 : f1;\n    f2 = x2 < cx ? PI - f2 : f2;\n    f1 < 0 && (f1 = PI * 2 + f1);\n    f2 < 0 && (f2 = PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (abs(df) > _120) {\n    var f2old = f2,\n        x2old = x2,\n        y2old = y2;\n\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * math.cos(f2);\n    y2 = cy + ry * math.sin(f2);\n    res = arcToCurve(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n\n  var c1 = math.cos(f1),\n      s1 = math.sin(f1),\n      c2 = math.cos(f2),\n      s2 = math.sin(f2),\n      t = math.tan(df / 4),\n      hx = 4 / 3 * rx * t,\n      hy = 4 / 3 * ry * t,\n      m1 = [x1, y1],\n      m2 = [x1 + hx * s1, y1 - hy * c1],\n      m3 = [x2 + hx * s2, y2 - hy * c2],\n      m4 = [x2, y2];\n\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  } else {\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n\n    for (var i = 0, ii = res.length; i < ii; i++) {\n      newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n\n    return newres;\n  }\n}\n\n// Returns bounding box of cubic bezier curve.\n// Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n// Original version: NISHIO Hirokazu\n// Modifications: https://github.com/timo22345\nfunction curveBBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [],\n      bounds = [[], []],\n      a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n  for (var i = 0; i < 2; ++i) {\n\n    if (i == 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n\n    if (abs(a) < 1e-12) {\n\n      if (abs(b) < 1e-12) {\n        continue;\n      }\n\n      t = -c / b;\n\n      if (0 < t && t < 1) {\n        tvalues.push(t);\n      }\n\n      continue;\n    }\n\n    b2ac = b * b - 4 * c * a;\n    sqrtb2ac = math.sqrt(b2ac);\n\n    if (b2ac < 0) {\n      continue;\n    }\n\n    t1 = (-b + sqrtb2ac) / (2 * a);\n\n    if (0 < t1 && t1 < 1) {\n      tvalues.push(t1);\n    }\n\n    t2 = (-b - sqrtb2ac) / (2 * a);\n\n    if (0 < t2 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  var j = tvalues.length,\n      jlen = j,\n      mt;\n\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n    bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    x0: mmin.apply(0, bounds[0]),\n    y0: mmin.apply(0, bounds[1]),\n    x1: mmax.apply(0, bounds[0]),\n    y1: mmax.apply(0, bounds[1])\n  };\n}\n\nfunction pathToCurve(path) {\n\n  var pth = paths(path);\n\n  // return cached curve, if existing\n  if (pth.curve) {\n    return pathClone(pth.curve);\n  }\n\n  var curvedPath = pathToAbsolute(path),\n      attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },\n      processPath = function(path, d, pathCommand) {\n        var nx, ny;\n\n        if (!path) {\n          return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n\n        !(path[0] in { T: 1, Q: 1 }) && (d.qx = d.qy = null);\n\n        switch (path[0]) {\n        case 'M':\n          d.X = path[1];\n          d.Y = path[2];\n          break;\n        case 'A':\n          path = ['C'].concat(arcToCurve.apply(0, [d.x, d.y].concat(path.slice(1))));\n          break;\n        case 'S':\n          if (pathCommand == 'C' || pathCommand == 'S') {\n\n            // In 'S' case we have to take into account, if the previous command is C/S.\n            nx = d.x * 2 - d.bx;\n\n            // And reflect the previous\n            ny = d.y * 2 - d.by;\n\n            // command's control point relative to the current point.\n          }\n          else {\n\n            // or some else or nothing\n            nx = d.x;\n            ny = d.y;\n          }\n          path = ['C', nx, ny].concat(path.slice(1));\n          break;\n        case 'T':\n          if (pathCommand == 'Q' || pathCommand == 'T') {\n\n            // In 'T' case we have to take into account, if the previous command is Q/T.\n            d.qx = d.x * 2 - d.qx;\n\n            // And make a reflection similar\n            d.qy = d.y * 2 - d.qy;\n\n            // to case 'S'.\n          }\n          else {\n\n            // or something else or nothing\n            d.qx = d.x;\n            d.qy = d.y;\n          }\n          path = ['C'].concat(qubicToCurve(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n          break;\n        case 'Q':\n          d.qx = path[1];\n          d.qy = path[2];\n          path = ['C'].concat(qubicToCurve(d.x, d.y, path[1], path[2], path[3], path[4]));\n          break;\n        case 'L':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], path[2]));\n          break;\n        case 'H':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], d.y));\n          break;\n        case 'V':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.x, path[1]));\n          break;\n        case 'Z':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.X, d.Y));\n          break;\n        }\n\n        return path;\n      },\n\n      fixArc = function(pp, i) {\n\n        if (pp[i].length > 7) {\n          pp[i].shift();\n          var pi = pp[i];\n\n          while (pi.length) {\n            pathCommands[i] = 'A'; // if created multiple C:s, their original seg is saved\n            pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n          }\n\n          pp.splice(i, 1);\n          ii = curvedPath.length;\n        }\n      },\n\n      pathCommands = [], // path commands of original path p\n      pfirst = '', // temporary holder for original path command\n      pathCommand = ''; // holder for previous path command of original path\n\n  for (var i = 0, ii = curvedPath.length; i < ii; i++) {\n    curvedPath[i] && (pfirst = curvedPath[i][0]); // save current path command\n\n    if (pfirst != 'C') // C is not saved yet, because it may be result of conversion\n    {\n      pathCommands[i] = pfirst; // Save current path command\n      i && (pathCommand = pathCommands[i - 1]); // Get previous path command pathCommand\n    }\n    curvedPath[i] = processPath(curvedPath[i], attrs, pathCommand); // Previous path command is inputted to processPath\n\n    if (pathCommands[i] != 'A' && pfirst == 'C') pathCommands[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(curvedPath, i); // fixArc adds also the right amount of A:s to pathCommands\n\n    var seg = curvedPath[i],\n        seglen = seg.length;\n\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n  }\n\n  // cache curve\n  pth.curve = pathClone(curvedPath);\n\n  return curvedPath;\n}\n\nmodule.exports = findPathIntersections;\n","import {\n  create\n} from '../model';\n\nimport { assign } from 'min-dash';\n\n/**\n * A factory for diagram-js shapes\n */\nexport default function ElementFactory() {\n  this._uid = 12;\n}\n\n\nElementFactory.prototype.createRoot = function(attrs) {\n  return this.create('root', attrs);\n};\n\nElementFactory.prototype.createLabel = function(attrs) {\n  return this.create('label', attrs);\n};\n\nElementFactory.prototype.createShape = function(attrs) {\n  return this.create('shape', attrs);\n};\n\nElementFactory.prototype.createConnection = function(attrs) {\n  return this.create('connection', attrs);\n};\n\n/**\n * Create a model element with the given type and\n * a number of pre-set attributes.\n *\n * @param  {string} type\n * @param  {Object} attrs\n * @return {djs.model.Base} the newly created model instance\n */\nElementFactory.prototype.create = function(type, attrs) {\n\n  attrs = assign({}, attrs || {});\n\n  if (!attrs.id) {\n    attrs.id = type + '_' + (this._uid++);\n  }\n\n  return create(type, attrs);\n};","import { assign } from 'min-dash';\nimport inherits from 'inherits';\n\nimport Refs from 'object-refs';\n\nvar parentRefs = new Refs({ name: 'children', enumerable: true, collection: true }, { name: 'parent' }),\n    labelRefs = new Refs({ name: 'labels', enumerable: true, collection: true }, { name: 'labelTarget' }),\n    attacherRefs = new Refs({ name: 'attachers', collection: true }, { name: 'host' }),\n    outgoingRefs = new Refs({ name: 'outgoing', collection: true }, { name: 'source' }),\n    incomingRefs = new Refs({ name: 'incoming', collection: true }, { name: 'target' });\n\n/**\n * @namespace djs.model\n */\n\n/**\n * @memberOf djs.model\n */\n\n/**\n * The basic graphical representation\n *\n * @class\n *\n * @abstract\n */\nexport function Base() {\n\n  /**\n   * The object that backs up the shape\n   *\n   * @name Base#businessObject\n   * @type Object\n   */\n  Object.defineProperty(this, 'businessObject', {\n    writable: true\n  });\n\n\n  /**\n   * Single label support, will mapped to multi label array\n   *\n   * @name Base#label\n   * @type Object\n   */\n  Object.defineProperty(this, 'label', {\n    get: function() {\n      return this.labels[0];\n    },\n    set: function(newLabel) {\n\n      var label = this.label,\n          labels = this.labels;\n\n      if (!newLabel && label) {\n        labels.remove(label);\n      } else {\n        labels.add(newLabel, 0);\n      }\n    }\n  });\n\n  /**\n   * The parent shape\n   *\n   * @name Base#parent\n   * @type Shape\n   */\n  parentRefs.bind(this, 'parent');\n\n  /**\n   * The list of labels\n   *\n   * @name Base#labels\n   * @type Label\n   */\n  labelRefs.bind(this, 'labels');\n\n  /**\n   * The list of outgoing connections\n   *\n   * @name Base#outgoing\n   * @type Array<Connection>\n   */\n  outgoingRefs.bind(this, 'outgoing');\n\n  /**\n   * The list of incoming connections\n   *\n   * @name Base#incoming\n   * @type Array<Connection>\n   */\n  incomingRefs.bind(this, 'incoming');\n}\n\n\n/**\n * A graphical object\n *\n * @class\n * @constructor\n *\n * @extends Base\n */\nexport function Shape() {\n  Base.call(this);\n\n  /**\n   * Indicates frame shapes\n   *\n   * @name Shape#isFrame\n   * @type boolean\n   */\n\n  /**\n   * The list of children\n   *\n   * @name Shape#children\n   * @type Array<Base>\n   */\n  parentRefs.bind(this, 'children');\n\n  /**\n   * @name Shape#host\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'host');\n\n  /**\n   * @name Shape#attachers\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'attachers');\n}\n\ninherits(Shape, Base);\n\n\n/**\n * A root graphical object\n *\n * @class\n * @constructor\n *\n * @extends Shape\n */\nexport function Root() {\n  Shape.call(this);\n}\n\ninherits(Root, Shape);\n\n\n/**\n * A label for an element\n *\n * @class\n * @constructor\n *\n * @extends Shape\n */\nexport function Label() {\n  Shape.call(this);\n\n  /**\n   * The labeled element\n   *\n   * @name Label#labelTarget\n   * @type Base\n   */\n  labelRefs.bind(this, 'labelTarget');\n}\n\ninherits(Label, Shape);\n\n\n/**\n * A connection between two elements\n *\n * @class\n * @constructor\n *\n * @extends Base\n */\nexport function Connection() {\n  Base.call(this);\n\n  /**\n   * The element this connection originates from\n   *\n   * @name Connection#source\n   * @type Base\n   */\n  outgoingRefs.bind(this, 'source');\n\n  /**\n   * The element this connection points to\n   *\n   * @name Connection#target\n   * @type Base\n   */\n  incomingRefs.bind(this, 'target');\n}\n\ninherits(Connection, Base);\n\n\nvar types = {\n  connection: Connection,\n  shape: Shape,\n  label: Label,\n  root: Root\n};\n\n/**\n * Creates a new model element of the specified type\n *\n * @method create\n *\n * @example\n *\n * var shape1 = Model.create('shape', { x: 10, y: 10, width: 100, height: 100 });\n * var shape2 = Model.create('shape', { x: 210, y: 210, width: 100, height: 100 });\n *\n * var connection = Model.create('connection', { waypoints: [ { x: 110, y: 55 }, {x: 210, y: 55 } ] });\n *\n * @param  {string} type lower-cased model name\n * @param  {Object} attrs attributes to initialize the new model instance with\n *\n * @return {Base} the new model instance\n */\nexport function create(type, attrs) {\n  var Type = types[type];\n  if (!Type) {\n    throw new Error('unknown type: <' + type + '>');\n  }\n  return assign(new Type(), attrs);\n}","import { classes as domClasses } from 'min-dom';\nexport default function PaletteAdapter(eventBus, canvas) {\n  function toggleMarker(cls, on) {\n    var container = canvas.getContainer();\n    domClasses(container).toggle(cls, on);\n  }\n\n  eventBus.on('palette.create', function () {\n    toggleMarker('with-palette', true);\n  });\n  eventBus.on('palette.changed', function (event) {\n    toggleMarker('with-palette-two-column', event.twoColumn);\n  });\n}\nPaletteAdapter.$inject = ['eventBus', 'canvas'];\n//# sourceMappingURL=PaletteAdapter.js.map","var TRAP_PRIORITY = 5000;\n\n/**\n * Installs a click trap that prevents a ghost click following a dragging operation.\n *\n * @return {Function} a function to immediately remove the installed trap.\n */\nexport function install(eventBus, eventName) {\n\n  eventName = eventName || 'element.click';\n\n  function trap() {\n    return false;\n  }\n\n  eventBus.once(eventName, TRAP_PRIORITY, trap);\n\n  return function() {\n    eventBus.off(eventName, trap);\n  };\n}","import {\n  classes as domClasses\n} from 'min-dom';\n\nvar CURSOR_CLS_PATTERN = /^djs-cursor-.*$/;\n\n\nexport function set(mode) {\n  var classes = domClasses(document.body);\n\n  classes.removeMatching(CURSOR_CLS_PATTERN);\n\n  if (mode) {\n    classes.add('djs-cursor-' + mode);\n  }\n}\n\nexport function unset() {\n  set(null);\n}\n\nexport function has(mode) {\n  var classes = domClasses(document.body);\n\n  return classes.has('djs-cursor-' + mode);\n}\n","export function hasModifier(modifiers) {\n  return modifiers.ctrlKey || modifiers.metaKey || modifiers.shiftKey || modifiers.altKey;\n}\nexport function isCmd(modifiers) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (modifiers.altKey) {\n    return false;\n  }\n\n  return modifiers.ctrlKey || modifiers.metaKey;\n}\nexport function isShift(modifiers) {\n  return modifiers.shiftKey;\n}\n//# sourceMappingURL=KeyboardUtil.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { event as domEvent } from 'min-dom';\nimport { findSelectableAncestor } from '../cell-selection/CellSelectionUtil';\nimport { isCmd, isShift } from './KeyboardUtil';\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain the fields (node, listeners).\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n * @param {EditorActions} editorActions\n * @param {CellSelection} cellSelection\n */\n\nvar Keyboard = /*#__PURE__*/function () {\n  function Keyboard(config, eventBus, editorActions, cellSelection) {\n    var _this = this;\n\n    _classCallCheck(this, Keyboard);\n\n    _defineProperty(this, \"_init\", function () {\n      _this._registerDefaultBindings();\n\n      _this._fire('init');\n    });\n\n    _defineProperty(this, \"_destroy\", function () {\n      _this._fire('destroy');\n\n      _this.unbind();\n\n      _this._listeners = null;\n    });\n\n    _defineProperty(this, \"_keyHandler\", function (event) {\n      var i,\n          l,\n          listeners = _this._listeners,\n          code = event.keyCode || event.charCode || -1;\n\n      for (i = 0; l = listeners[i]; i++) {\n        if (l(code, event)) {\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      }\n    });\n\n    _defineProperty(this, \"unbind\", function () {\n      var node = _this._node;\n\n      if (node) {\n        _this._fire('unbind'); // unbind key events\n\n\n        domEvent.unbind(node, 'keydown', _this._keyHandler, true);\n      }\n\n      _this._node = null;\n    });\n\n    this._config = config || {};\n    this._editorActions = editorActions;\n    this._eventBus = eventBus;\n    this._cellSelection = cellSelection;\n    this._listeners = [];\n    eventBus.on('table.destroy', this._destroy);\n    eventBus.on('table.init', this._init);\n    eventBus.on('attach', function () {\n      if (_this._config.bindTo) {\n        _this.bind(config.bindTo);\n      }\n    });\n    eventBus.on('detach', this.unbind);\n  }\n\n  _createClass(Keyboard, [{\n    key: \"bind\",\n    value: function bind(node) {\n      // make sure that the keyboard is only bound once to the DOM\n      this.unbind();\n      this._node = node; // bind key events\n\n      domEvent.bind(node, 'keydown', this._keyHandler, true);\n\n      this._fire('bind');\n    }\n  }, {\n    key: \"getBinding\",\n    value: function getBinding() {\n      return this._node;\n    }\n  }, {\n    key: \"_fire\",\n    value: function _fire(event) {\n      this._eventBus.fire('keyboard.' + event, {\n        node: this._node,\n        listeners: this._listeners\n      });\n    }\n  }, {\n    key: \"_registerDefaultBindings\",\n    value: function _registerDefaultBindings() {\n      var listeners = this._listeners;\n      var editorActions = this._editorActions;\n      var cellSelection = this._cellSelection; // init default listeners\n      // undo\n      // (CTRL|CMD) + Z\n\n      function undo(key, modifiers) {\n        if (isCmd(modifiers) && !isShift(modifiers) && key === 90) {\n          editorActions.trigger('undo');\n          return true;\n        }\n      } // redo\n      // CTRL + Y\n      // CMD + SHIFT + Z\n\n\n      function redo(key, modifiers) {\n        if (isCmd(modifiers) && (key === 89 || key === 90 && isShift(modifiers))) {\n          editorActions.trigger('redo');\n          return true;\n        }\n      }\n\n      listeners.push(undo);\n      listeners.push(redo);\n\n      function selectCellAbove(key, event) {\n        if (key !== 13 || isCmd(event) || !isShift(event)) {\n          return;\n        }\n\n        if (!findSelectableAncestor(event.target)) {\n          return;\n        }\n\n        editorActions.trigger('selectCellAbove');\n        return true;\n      }\n\n      listeners.push(selectCellAbove);\n\n      function selectCellBelow(key, event) {\n        if (key !== 13 || isCmd(event) || isShift(event)) {\n          return;\n        }\n\n        if (!findSelectableAncestor(event.target)) {\n          return;\n        }\n\n        var changed = editorActions.trigger('selectCellBelow');\n        var selectedCell = cellSelection.getCellSelection(); // add new rule if no next rule\n\n        if (!changed && selectedCell && !isDecisionNameCell(selectedCell)) {\n          var rule = editorActions.trigger('addRule');\n          editorActions.trigger('selectCellBelow');\n          return rule;\n        }\n\n        return true;\n      }\n\n      listeners.push(selectCellBelow);\n    }\n    /**\n     * Add a listener function that is notified with (key, modifiers) whenever\n     * the keyboard is bound and the user presses a key.\n     *\n     * @param {Function} listenerFn\n     */\n\n  }, {\n    key: \"addListener\",\n    value: function addListener(listenerFn) {\n      this._listeners.unshift(listenerFn);\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(listenerFn) {\n      this._listeners = this._listeners.filter(function (l) {\n        return l !== listenerFn;\n      });\n    }\n  }]);\n\n  return Keyboard;\n}();\n\nexport { Keyboard as default };\nKeyboard.$inject = ['config.keyboard', 'eventBus', 'editorActions', 'cellSelection']; // helper /////\n\nfunction isDecisionNameCell(cell) {\n  return cell === '__decisionProperties_name';\n}\n//# sourceMappingURL=Keyboard.js.map","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var baseSetData = require('./_baseSetData'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nmodule.exports = setData;\n","var getWrapDetails = require('./_getWrapDetails'),\n    insertWrapDetails = require('./_insertWrapDetails'),\n    setToString = require('./_setToString'),\n    updateWrapDetails = require('./_updateWrapDetails');\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nmodule.exports = setWrapToString;\n","module.exports = __webpack_public_path__ + \"static/media/dmn.fb276b69.eot\";","var CLASS_PATTERN = /^class /;\n\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nfunction annotate() {\n  var args = Array.prototype.slice.call(arguments);\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  var fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nvar CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARGS = /^(?:async )?(?:function\\s*)?[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\nfunction parseAnnotations(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error('Cannot annotate \"' + fn + '\". Expected a function!');\n  }\n\n  var match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  return match[1] && match[1].split(',').map(function(arg) {\n    match = arg.match(FN_ARG);\n    return match ? match[1].trim() : arg.trim();\n  }) || [];\n}\n\nfunction Module() {\n  var providers = [];\n\n  this.factory = function(name, factory) {\n    providers.push([name, 'factory', factory]);\n    return this;\n  };\n\n  this.value = function(name, value) {\n    providers.push([name, 'value', value]);\n    return this;\n  };\n\n  this.type = function(name, type) {\n    providers.push([name, 'type', type]);\n    return this;\n  };\n\n  this.forEach = function(iterator) {\n    providers.forEach(iterator);\n  };\n\n}\n\nfunction Injector(modules, parent) {\n  parent = parent || {\n    get: function(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error('No provider for \"' + name + '\"!');\n      }\n    }\n  };\n\n  var currentlyResolving = [];\n  var providers = this._providers = Object.create(parent._providers || null);\n  var instances = this._instances = Object.create(null);\n\n  var self = instances.injector = this;\n\n  var error = function(msg) {\n    var stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? msg + ' (Resolving: ' + stack + ')' : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {String} name\n   * @param {Boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {Object}\n   */\n  var get = function(name, strict) {\n    if (!providers[name] && name.indexOf('.') !== -1) {\n      var parts = name.split('.');\n      var pivot = get(parts.shift());\n\n      while (parts.length) {\n        pivot = pivot[parts.shift()];\n      }\n\n      return pivot;\n    }\n\n    if (hasOwnProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasOwnProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  };\n\n  var fnDef = function(fn, locals) {\n\n    if (typeof locals === 'undefined') {\n      locals = {};\n    }\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw new Error('Cannot invoke \"' + fn + '\". Expected a function!');\n      }\n    }\n\n    var inject = fn.$inject || parseAnnotations(fn);\n    var dependencies = inject.map(function(dep) {\n      if (hasOwnProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies: dependencies\n    };\n  };\n\n  var instantiate = function(Type) {\n    var def = fnDef(Type);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    // instantiate var args constructor\n    var Constructor = Function.prototype.bind.apply(fn, [ null ].concat(dependencies));\n\n    return new Constructor();\n  };\n\n  var invoke = function(func, context, locals) {\n    var def = fnDef(func, locals);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    return fn.apply(context, dependencies);\n  };\n\n\n  var createPrivateInjectorFactory = function(privateChildInjector) {\n    return annotate(function(key) {\n      return privateChildInjector.get(key);\n    });\n  };\n\n  var createChild = function(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      var fromParentModule = Object.create(null);\n      var matchedScopes = Object.create(null);\n\n      var privateInjectorsCache = [];\n      var privateChildInjectors = [];\n      var privateChildFactories = [];\n\n      var provider;\n      var cacheIdx;\n      var privateChildInjector;\n      var privateChildInjectorFactory;\n      for (var name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [privateChildInjectorFactory, name, 'private', privateChildInjector];\n            } else {\n              fromParentModule[name] = [privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx]];\n            }\n          } else {\n            fromParentModule[name] = [provider[2], provider[1]];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(function(scope) {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [provider[2], provider[1]];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(function(scope) {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  };\n\n  var factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function(value) {\n      return value;\n    }\n  };\n\n  modules.forEach(function(module) {\n\n    function arrayUnwrap(type, value) {\n      if (type !== 'value' && isArray(value)) {\n        value = annotate(value.slice());\n      }\n\n      return value;\n    }\n\n    // TODO(vojta): handle wrong inputs (modules)\n    if (module instanceof Module) {\n      module.forEach(function(provider) {\n        var name = provider[0];\n        var type = provider[1];\n        var value = provider[2];\n\n        providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n      });\n    } else if (typeof module === 'object') {\n      if (module.__exports__) {\n        var clonedModule = Object.keys(module).reduce(function(m, key) {\n          if (key.substring(0, 2) !== '__') {\n            m[key] = module[key];\n          }\n          return m;\n        }, Object.create(null));\n\n        var privateInjector = new Injector((module.__modules__ || []).concat([clonedModule]), self);\n        var getFromPrivateInjector = annotate(function(key) {\n          return privateInjector.get(key);\n        });\n        module.__exports__.forEach(function(key) {\n          providers[key] = [getFromPrivateInjector, key, 'private', privateInjector];\n        });\n      } else {\n        Object.keys(module).forEach(function(name) {\n          if (module[name][2] === 'private') {\n            providers[name] = module[name];\n            return;\n          }\n\n          var type = module[name][0];\n          var value = module[name][1];\n\n          providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n        });\n      }\n    }\n  });\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n}\n\nexport { annotate, parseAnnotations, Module, Injector };\n","var DEFAULT_RENDER_PRIORITY = 1000;\n\n/**\n * The base implementation of shape and connection renderers.\n *\n * @param {EventBus} eventBus\n * @param {number} [renderPriority=1000]\n */\nexport default function BaseRenderer(eventBus, renderPriority) {\n  var self = this;\n\n  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;\n\n  eventBus.on([ 'render.shape', 'render.connection' ], renderPriority, function(evt, context) {\n    var type = evt.type,\n        element = context.element,\n        visuals = context.gfx,\n        attrs = context.attrs;\n\n    if (self.canRender(element)) {\n      if (type === 'render.shape') {\n        return self.drawShape(visuals, element, attrs);\n      } else {\n        return self.drawConnection(visuals, element, attrs);\n      }\n    }\n  });\n\n  eventBus.on([ 'render.getShapePath', 'render.getConnectionPath'], renderPriority, function(evt, element) {\n    if (self.canRender(element)) {\n      if (evt.type === 'render.getShapePath') {\n        return self.getShapePath(element);\n      } else {\n        return self.getConnectionPath(element);\n      }\n    }\n  });\n}\n\n/**\n * Should check whether *this* renderer can render\n * the element/connection.\n *\n * @param {element} element\n *\n * @returns {boolean}\n */\nBaseRenderer.prototype.canRender = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Shape} shape\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawShape = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Connection} connection\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawConnection = function() {};\n\n/**\n * Gets the SVG path of a shape that represents it's visual bounds.\n *\n * @param {Shape} shape\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getShapePath = function() {};\n\n/**\n * Gets the SVG path of a connection that represents it's visual bounds.\n *\n * @param {Connection} connection\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getConnectionPath = function() {};\n","import inherits from 'inherits';\n\nimport BaseRenderer from './BaseRenderer';\n\nimport {\n  componentsToPath,\n  createLine\n} from '../util/RenderUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport { assign } from 'min-dash';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n// apply default renderer with lowest possible priority\n// so that it only kicks in if noone else could render\nvar DEFAULT_RENDER_PRIORITY = 1;\n\n/**\n * The default renderer used for shapes and connections.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nexport default function DefaultRenderer(eventBus, styles) {\n\n  //\n  BaseRenderer.call(this, eventBus, DEFAULT_RENDER_PRIORITY);\n\n  this.CONNECTION_STYLE = styles.style([ 'no-fill' ], { strokeWidth: 5, stroke: 'fuchsia' });\n  this.SHAPE_STYLE = styles.style({ fill: 'white', stroke: 'fuchsia', strokeWidth: 2 });\n  this.FRAME_STYLE = styles.style([ 'no-fill' ], { stroke: 'fuchsia', strokeDasharray: 4, strokeWidth: 2 });\n}\n\ninherits(DefaultRenderer, BaseRenderer);\n\n\nDefaultRenderer.prototype.canRender = function() {\n  return true;\n};\n\nDefaultRenderer.prototype.drawShape = function drawShape(visuals, element, attrs) {\n  var rect = svgCreate('rect');\n\n  svgAttr(rect, {\n    x: 0,\n    y: 0,\n    width: element.width || 0,\n    height: element.height || 0\n  });\n\n  if (isFrameElement(element)) {\n    svgAttr(rect, assign({}, this.FRAME_STYLE, attrs || {}));\n  } else {\n    svgAttr(rect, assign({}, this.SHAPE_STYLE, attrs || {}));\n  }\n\n  svgAppend(visuals, rect);\n\n  return rect;\n};\n\nDefaultRenderer.prototype.drawConnection = function drawConnection(visuals, connection, attrs) {\n\n  var line = createLine(connection.waypoints, assign({}, this.CONNECTION_STYLE, attrs || {}));\n  svgAppend(visuals, line);\n\n  return line;\n};\n\nDefaultRenderer.prototype.getShapePath = function getShapePath(shape) {\n\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var shapePath = [\n    ['M', x, y],\n    ['l', width, 0],\n    ['l', 0, height],\n    ['l', -width, 0],\n    ['z']\n  ];\n\n  return componentsToPath(shapePath);\n};\n\nDefaultRenderer.prototype.getConnectionPath = function getConnectionPath(connection) {\n  var waypoints = connection.waypoints;\n\n  var idx, point, connectionPath = [];\n\n  for (idx = 0; (point = waypoints[idx]); idx++) {\n\n    // take invisible docking into account\n    // when creating the path\n    point = point.original || point;\n\n    connectionPath.push([ idx === 0 ? 'M' : 'L', point.x, point.y ]);\n  }\n\n  return componentsToPath(connectionPath);\n};\n\n\nDefaultRenderer.$inject = [ 'eventBus', 'styles' ];\n","import DefaultRenderer from './DefaultRenderer';\nimport Styles from './Styles';\n\nexport default {\n  __init__: [ 'defaultRenderer' ],\n  defaultRenderer: [ 'type', DefaultRenderer ],\n  styles: [ 'type', Styles ]\n};\n","import {\n  isArray,\n  assign,\n  reduce\n} from 'min-dash';\n\n\n/**\n * A component that manages shape styles\n */\nexport default function Styles() {\n\n  var defaultTraits = {\n\n    'no-fill': {\n      fill: 'none'\n    },\n    'no-border': {\n      strokeOpacity: 0.0\n    },\n    'no-events': {\n      pointerEvents: 'none'\n    }\n  };\n\n  var self = this;\n\n  /**\n   * Builds a style definition from a className, a list of traits and an object of additional attributes.\n   *\n   * @param  {string} className\n   * @param  {Array<string>} traits\n   * @param  {Object} additionalAttrs\n   *\n   * @return {Object} the style defintion\n   */\n  this.cls = function(className, traits, additionalAttrs) {\n    var attrs = this.style(traits, additionalAttrs);\n\n    return assign(attrs, { 'class': className });\n  };\n\n  /**\n   * Builds a style definition from a list of traits and an object of additional attributes.\n   *\n   * @param  {Array<string>} traits\n   * @param  {Object} additionalAttrs\n   *\n   * @return {Object} the style defintion\n   */\n  this.style = function(traits, additionalAttrs) {\n\n    if (!isArray(traits) && !additionalAttrs) {\n      additionalAttrs = traits;\n      traits = [];\n    }\n\n    var attrs = reduce(traits, function(attrs, t) {\n      return assign(attrs, defaultTraits[t] || {});\n    }, {});\n\n    return additionalAttrs ? assign(attrs, additionalAttrs) : attrs;\n  };\n\n  this.computeStyle = function(custom, traits, defaultStyles) {\n    if (!isArray(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return self.style(traits || [], assign({}, defaultStyles, custom || {}));\n  };\n}\n","import {\n  isNumber,\n  assign,\n  forEach,\n  every,\n  debounce,\n  bind,\n  reduce,\n  find\n} from 'min-dash';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../util/Collections';\n\nimport {\n  getType,\n  getBBox as getBoundingBox\n} from '../util/Elements';\n\nimport { asTRBL } from '../layout/LayoutUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  transform as svgTransform\n} from 'tiny-svg';\n\nimport { createMatrix as createMatrix } from 'tiny-svg';\n\n\nfunction round(number, resolution) {\n  return Math.round(number * resolution) / resolution;\n}\n\nfunction ensurePx(number) {\n  return isNumber(number) ? number + 'px' : number;\n}\n\nfunction findRoot(element) {\n  while (element.parent) {\n    element = element.parent;\n  }\n\n  return element;\n}\n\n/**\n * Creates a HTML container element for a SVG element with\n * the given configuration\n *\n * @param  {Object} options\n * @return {HTMLElement} the container element\n */\nfunction createContainer(options) {\n\n  options = assign({}, { width: '100%', height: '100%' }, options);\n\n  var container = options.container || document.body;\n\n  // create a <div> around the svg element with the respective size\n  // this way we can always get the correct container size\n  // (this is impossible for <svg> elements at the moment)\n  var parent = document.createElement('div');\n  parent.setAttribute('class', 'djs-container');\n\n  assign(parent.style, {\n    position: 'relative',\n    overflow: 'hidden',\n    width: ensurePx(options.width),\n    height: ensurePx(options.height)\n  });\n\n  container.appendChild(parent);\n\n  return parent;\n}\n\nfunction createGroup(parent, cls, childIndex) {\n  var group = svgCreate('g');\n  svgClasses(group).add(cls);\n\n  var index = childIndex !== undefined ? childIndex : parent.childNodes.length - 1;\n\n  // must ensure second argument is node or _null_\n  // cf. https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n  parent.insertBefore(group, parent.childNodes[index] || null);\n\n  return group;\n}\n\nvar BASE_LAYER = 'base';\nvar HIDDEN_MARKER = 'djs-element-hidden';\n\n// render plane contents behind utility layers\nvar PLANE_LAYER_INDEX = 0;\nvar UTILITY_LAYER_INDEX = 1;\n\n\nvar REQUIRED_MODEL_ATTRS = {\n  shape: [ 'x', 'y', 'width', 'height' ],\n  connection: [ 'waypoints' ]\n};\n\n/**\n * The main drawing canvas.\n *\n * @class\n * @constructor\n *\n * @emits Canvas#canvas.init\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Canvas(config, eventBus, graphicsFactory, elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n\n  this._init(config || {});\n}\n\nCanvas.$inject = [\n  'config.canvas',\n  'eventBus',\n  'graphicsFactory',\n  'elementRegistry'\n];\n\n/**\n * Creates a <svg> element that is wrapped into a <div>.\n * This way we are always able to correctly figure out the size of the svg element\n * by querying the parent node.\n\n * (It is not possible to get the size of a svg element cross browser @ 2014-04-01)\n\n * <div class=\"djs-container\" style=\"width: {desired-width}, height: {desired-height}\">\n *   <svg width=\"100%\" height=\"100%\">\n *    ...\n *   </svg>\n * </div>\n */\nCanvas.prototype._init = function(config) {\n\n  var eventBus = this._eventBus;\n\n  // html container\n  var container = this._container = createContainer(config);\n\n  var svg = this._svg = svgCreate('svg');\n  svgAttr(svg, { width: '100%', height: '100%' });\n\n  svgAppend(container, svg);\n\n  var viewport = this._viewport = createGroup(svg, 'viewport');\n\n  this._layers = {};\n  this._planes = {};\n\n  // debounce canvas.viewbox.changed events\n  // for smoother diagram interaction\n  if (config.deferUpdate !== false) {\n    this._viewboxChanged = debounce(bind(this._viewboxChanged, this), 300);\n  }\n\n  eventBus.on('diagram.init', function() {\n\n    /**\n     * An event indicating that the canvas is ready to be drawn on.\n     *\n     * @memberOf Canvas\n     *\n     * @event canvas.init\n     *\n     * @type {Object}\n     * @property {SVGElement} svg the created svg element\n     * @property {SVGElement} viewport the direct parent of diagram elements and shapes\n     */\n    eventBus.fire('canvas.init', {\n      svg: svg,\n      viewport: viewport\n    });\n\n  }, this);\n\n  // reset viewbox on shape changes to\n  // recompute the viewbox\n  eventBus.on([\n    'shape.added',\n    'connection.added',\n    'shape.removed',\n    'connection.removed',\n    'elements.changed',\n    'plane.set'\n  ], function() {\n    delete this._cachedViewbox;\n  }, this);\n\n  eventBus.on('diagram.destroy', 500, this._destroy, this);\n  eventBus.on('diagram.clear', 500, this._clear, this);\n};\n\nCanvas.prototype._destroy = function(emit) {\n  this._eventBus.fire('canvas.destroy', {\n    svg: this._svg,\n    viewport: this._viewport\n  });\n\n  var parent = this._container.parentNode;\n\n  if (parent) {\n    parent.removeChild(this._container);\n  }\n\n  delete this._svg;\n  delete this._container;\n  delete this._layers;\n  delete this._planes;\n  delete this._activePlane;\n  delete this._viewport;\n};\n\nCanvas.prototype._clear = function() {\n\n  var self = this;\n\n  var allElements = this._elementRegistry.getAll();\n\n  // remove all elements\n  allElements.forEach(function(element) {\n    var type = getType(element);\n\n    if (type === 'root') {\n      self.setRootElementForPlane(null, self.findPlane(element), true);\n    } else {\n      self._removeElement(element, type);\n    }\n  });\n\n  // remove all planes\n  this._activePlane = null;\n  this._planes = {};\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n};\n\n/**\n * Returns the default layer on which\n * all elements are drawn.\n *\n * @returns {SVGElement}\n */\nCanvas.prototype.getDefaultLayer = function() {\n  return this.getLayer(BASE_LAYER, PLANE_LAYER_INDEX);\n};\n\n/**\n * Returns a layer that is used to draw elements\n * or annotations on it.\n *\n * Non-existing layers retrieved through this method\n * will be created. During creation, the optional index\n * may be used to create layers below or above existing layers.\n * A layer with a certain index is always created above all\n * existing layers with the same index.\n *\n * @param {string} name\n * @param {number} index\n *\n * @returns {SVGElement}\n */\nCanvas.prototype.getLayer = function(name, index) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  var layer = this._layers[name];\n\n  if (!layer) {\n    layer = this._layers[name] = this._createLayer(name, index);\n  }\n\n  // throw an error if layer creation / retrival is\n  // requested on different index\n  if (typeof index !== 'undefined' && layer.index !== index) {\n    throw new Error('layer <' + name + '> already created at index <' + index + '>');\n  }\n\n  return layer.group;\n};\n\n/**\n * Creates a given layer and returns it.\n *\n * @param {string} name\n * @param {number} [index=0]\n *\n * @return {Object} layer descriptor with { index, group: SVGGroup }\n */\nCanvas.prototype._createLayer = function(name, index) {\n\n  if (typeof index === 'undefined') {\n    index = UTILITY_LAYER_INDEX;\n  }\n\n  var childIndex = reduce(this._layers, function(childIndex, layer) {\n    if (index >= layer.index) {\n      childIndex++;\n    }\n\n    return childIndex;\n  }, 0);\n\n  return {\n    group: createGroup(this._viewport, 'layer-' + name, childIndex),\n    index: index\n  };\n\n};\n\n/**\n * Returns a plane that is used to draw elements on it.\n *\n * @param {string} name\n *\n * @return {Object} plane descriptor with { layer, rootElement, name }\n */\nCanvas.prototype.getPlane = function(name) {\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  return this._planes[name];\n};\n\n/**\n * Creates a plane that is used to draw elements on it. If no\n * root element is provided, an implicit root will be used.\n *\n * @param {string} name\n * @param {Object|djs.model.Root} [rootElement] optional root element\n *\n * @return {Object} plane descriptor with { layer, rootElement, name }\n */\nCanvas.prototype.createPlane = function(name, rootElement) {\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  if (this._planes[name]) {\n    throw new Error('plane ' + name + ' already exists');\n  }\n\n  if (!rootElement) {\n    rootElement = {\n      id: '__implicitroot' + name,\n      children: [],\n      isImplicit: true\n    };\n  }\n\n  var svgLayer = this.getLayer(name, PLANE_LAYER_INDEX);\n  svgClasses(svgLayer).add(HIDDEN_MARKER);\n\n  var plane = this._planes[name] = {\n    layer: svgLayer,\n    name: name,\n    rootElement: null\n  };\n\n  this.setRootElementForPlane(rootElement, plane);\n\n  return plane;\n};\n\n/**\n * Sets the active plane and hides the previously active plane.\n *\n * @param {string|Object} plane\n *\n * @return {Object} plane descriptor with { layer, rootElement, name }\n */\nCanvas.prototype.setActivePlane = function(plane) {\n  if (!plane) {\n    throw new Error('must specify a plane');\n  }\n\n  if (typeof plane === 'string') {\n    plane = this.getPlane(plane);\n  }\n\n  // hide previous Plane\n  if (this._activePlane) {\n    svgClasses(this._activePlane.layer).add(HIDDEN_MARKER);\n  }\n\n  this._activePlane = plane;\n\n  // show current Plane\n  svgClasses(plane.layer).remove(HIDDEN_MARKER);\n\n  if (plane.rootElement) {\n    this._elementRegistry.updateGraphics(plane.rootElement, this._svg, true);\n  }\n\n  this._eventBus.fire('plane.set', { plane: plane });\n\n  return plane;\n};\n\n/**\n * Returns the currently active layer\n *\n * @returns {SVGElement}\n */\n\nCanvas.prototype.getActiveLayer = function() {\n  return this.getActivePlane().layer;\n};\n\n/**\n * Returns the currently active plane.\n *\n * @return {Object} plane descriptor with { layer, rootElement, name }\n */\nCanvas.prototype.getActivePlane = function() {\n  var plane = this._activePlane;\n  if (!plane) {\n    plane = this.createPlane(BASE_LAYER);\n    this.setActivePlane(BASE_LAYER);\n  }\n\n  return plane;\n};\n\n/**\n * Returns the plane which contains the given element.\n *\n * @param {string|djs.model.Base} element\n *\n * @return {Object} plane descriptor with { layer, rootElement, name }\n */\nCanvas.prototype.findPlane = function(element) {\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  var root = findRoot(element);\n\n  return find(this._planes, function(plane) {\n    return plane.rootElement === root;\n  });\n};\n\n/**\n * Returns the html element that encloses the\n * drawing canvas.\n *\n * @return {DOMNode}\n */\nCanvas.prototype.getContainer = function() {\n  return this._container;\n};\n\n\n// markers //////////////////////\n\nCanvas.prototype._updateMarker = function(element, marker, add) {\n  var container;\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  // we need to access all\n  container = this._elementRegistry._elements[element.id];\n\n  if (!container) {\n    return;\n  }\n\n  forEach([ container.gfx, container.secondaryGfx ], function(gfx) {\n    if (gfx) {\n\n      // invoke either addClass or removeClass based on mode\n      if (add) {\n        svgClasses(gfx).add(marker);\n      } else {\n        svgClasses(gfx).remove(marker);\n      }\n    }\n  });\n\n  /**\n   * An event indicating that a marker has been updated for an element\n   *\n   * @event element.marker.update\n   * @type {Object}\n   * @property {djs.model.Element} element the shape\n   * @property {Object} gfx the graphical representation of the shape\n   * @property {string} marker\n   * @property {boolean} add true if the marker was added, false if it got removed\n   */\n  this._eventBus.fire('element.marker.update', { element: element, gfx: container.gfx, marker: marker, add: !!add });\n};\n\n\n/**\n * Adds a marker to an element (basically a css class).\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @example\n * canvas.addMarker('foo', 'some-marker');\n *\n * var fooGfx = canvas.getGraphics('foo');\n *\n * fooGfx; // <g class=\"... some-marker\"> ... </g>\n *\n * @param {string|djs.model.Base} element\n * @param {string} marker\n */\nCanvas.prototype.addMarker = function(element, marker) {\n  this._updateMarker(element, marker, true);\n};\n\n\n/**\n * Remove a marker from an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.removeMarker = function(element, marker) {\n  this._updateMarker(element, marker, false);\n};\n\n/**\n * Check the existence of a marker on element.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.hasMarker = function(element, marker) {\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  var gfx = this.getGraphics(element);\n\n  return svgClasses(gfx).has(marker);\n};\n\n/**\n * Toggles a marker on an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.toggleMarker = function(element, marker) {\n  if (this.hasMarker(element, marker)) {\n    this.removeMarker(element, marker);\n  } else {\n    this.addMarker(element, marker);\n  }\n};\n\nCanvas.prototype.getRootElement = function() {\n  var plane = this.getActivePlane();\n\n  return plane.rootElement;\n};\n\n\n\n// root element handling //////////////////////\n\n/**\n * Sets a given element as the new root element for the canvas\n * and returns the new root element.\n *\n * @param {Object|djs.model.Root} element\n * @param {boolean} [override] whether to override the current root element, if any\n *\n * @return {Object|djs.model.Root} new root element\n */\nCanvas.prototype.setRootElement = function(element, override) {\n  var activePlane = this._activePlane;\n\n  if (activePlane) {\n    return this.setRootElementForPlane(element, activePlane, override);\n  } else {\n    var basePlane = this.createPlane(BASE_LAYER, element);\n\n    this.setActivePlane(basePlane);\n\n    return basePlane.rootElement;\n  }\n};\n\n\n/**\n * Sets a given element as the new root element for the canvas\n * and returns the new root element.\n *\n * @param {Object|djs.model.Root} element\n * @param {Object|djs.model.Root} plane\n * @param {boolean} [override] whether to override the current root element, if any\n *\n * @return {Object|djs.model.Root} new root element\n */\nCanvas.prototype.setRootElementForPlane = function(element, plane, override) {\n\n  if (typeof plane === 'string') {\n    plane = this.getPlane(plane);\n  }\n\n  if (element) {\n    this._ensureValid('root', element);\n  }\n\n  var currentRoot = plane.rootElement,\n      elementRegistry = this._elementRegistry,\n      eventBus = this._eventBus;\n\n  if (currentRoot) {\n    if (!override) {\n      throw new Error('rootElement already set, need to specify override');\n    }\n\n    // simulate element remove event sequence\n    eventBus.fire('root.remove', { element: currentRoot });\n    eventBus.fire('root.removed', { element: currentRoot });\n\n    elementRegistry.remove(currentRoot);\n  }\n\n  if (element) {\n    var gfx = plane.layer;\n\n    // resemble element add event sequence\n    eventBus.fire('root.add', { element: element });\n\n    elementRegistry.add(element, gfx);\n\n    eventBus.fire('root.added', { element: element, gfx: gfx });\n\n    // associate SVG with root element when active\n    if (plane === this._activePlane) {\n      this._elementRegistry.updateGraphics(element, this._svg, true);\n    }\n  }\n\n  plane.rootElement = element;\n\n  return element;\n};\n\n// add functionality //////////////////////\n\nCanvas.prototype._ensureValid = function(type, element) {\n  if (!element.id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elementRegistry.get(element.id)) {\n    throw new Error('element with id ' + element.id + ' already exists');\n  }\n\n  var requiredAttrs = REQUIRED_MODEL_ATTRS[type];\n\n  var valid = every(requiredAttrs, function(attr) {\n    return typeof element[attr] !== 'undefined';\n  });\n\n  if (!valid) {\n    throw new Error(\n      'must supply { ' + requiredAttrs.join(', ') + ' } with ' + type);\n  }\n};\n\nCanvas.prototype._setParent = function(element, parent, parentIndex) {\n  collectionAdd(parent.children, element, parentIndex);\n  element.parent = parent;\n};\n\n/**\n * Adds an element to the canvas.\n *\n * This wires the parent <-> child relationship between the element and\n * a explicitly specified parent or an implicit root element.\n *\n * During add it emits the events\n *\n *  * <{type}.add> (element, parent)\n *  * <{type}.added> (element, gfx)\n *\n * Extensions may hook into these events to perform their magic.\n *\n * @param {string} type\n * @param {Object|djs.model.Base} element\n * @param {Object|djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {Object|djs.model.Base} the added element\n */\nCanvas.prototype._addElement = function(type, element, parent, parentIndex) {\n\n  parent = parent || this.getRootElement();\n\n  var eventBus = this._eventBus,\n      graphicsFactory = this._graphicsFactory;\n\n  this._ensureValid(type, element);\n\n  eventBus.fire(type + '.add', { element: element, parent: parent });\n\n  this._setParent(element, parent, parentIndex);\n\n  // create graphics\n  var gfx = graphicsFactory.create(type, element, parentIndex);\n\n  this._elementRegistry.add(element, gfx);\n\n  // update its visual\n  graphicsFactory.update(type, element, gfx);\n\n  eventBus.fire(type + '.added', { element: element, gfx: gfx });\n\n  return element;\n};\n\n/**\n * Adds a shape to the canvas\n *\n * @param {Object|djs.model.Shape} shape to add to the diagram\n * @param {djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {djs.model.Shape} the added shape\n */\nCanvas.prototype.addShape = function(shape, parent, parentIndex) {\n  return this._addElement('shape', shape, parent, parentIndex);\n};\n\n/**\n * Adds a connection to the canvas\n *\n * @param {Object|djs.model.Connection} connection to add to the diagram\n * @param {djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {djs.model.Connection} the added connection\n */\nCanvas.prototype.addConnection = function(connection, parent, parentIndex) {\n  return this._addElement('connection', connection, parent, parentIndex);\n};\n\n\n/**\n * Internal remove element\n */\nCanvas.prototype._removeElement = function(element, type) {\n\n  var elementRegistry = this._elementRegistry,\n      graphicsFactory = this._graphicsFactory,\n      eventBus = this._eventBus;\n\n  element = elementRegistry.get(element.id || element);\n\n  if (!element) {\n\n    // element was removed already\n    return;\n  }\n\n  eventBus.fire(type + '.remove', { element: element });\n\n  graphicsFactory.remove(element);\n\n  // unset parent <-> child relationship\n  collectionRemove(element.parent && element.parent.children, element);\n  element.parent = null;\n\n  eventBus.fire(type + '.removed', { element: element });\n\n  elementRegistry.remove(element);\n\n  return element;\n};\n\n\n/**\n * Removes a shape from the canvas\n *\n * @param {string|djs.model.Shape} shape or shape id to be removed\n *\n * @return {djs.model.Shape} the removed shape\n */\nCanvas.prototype.removeShape = function(shape) {\n\n  /**\n   * An event indicating that a shape is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event shape.remove\n   * @type {Object}\n   * @property {djs.model.Shape} element the shape descriptor\n   * @property {Object} gfx the graphical representation of the shape\n   */\n\n  /**\n   * An event indicating that a shape has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event shape.removed\n   * @type {Object}\n   * @property {djs.model.Shape} element the shape descriptor\n   * @property {Object} gfx the graphical representation of the shape\n   */\n  return this._removeElement(shape, 'shape');\n};\n\n\n/**\n * Removes a connection from the canvas\n *\n * @param {string|djs.model.Connection} connection or connection id to be removed\n *\n * @return {djs.model.Connection} the removed connection\n */\nCanvas.prototype.removeConnection = function(connection) {\n\n  /**\n   * An event indicating that a connection is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event connection.remove\n   * @type {Object}\n   * @property {djs.model.Connection} element the connection descriptor\n   * @property {Object} gfx the graphical representation of the connection\n   */\n\n  /**\n   * An event indicating that a connection has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event connection.removed\n   * @type {Object}\n   * @property {djs.model.Connection} element the connection descriptor\n   * @property {Object} gfx the graphical representation of the connection\n   */\n  return this._removeElement(connection, 'connection');\n};\n\n\n/**\n * Return the graphical object underlaying a certain diagram element\n *\n * @param {string|djs.model.Base} element descriptor of the element\n * @param {boolean} [secondary=false] whether to return the secondary connected element\n *\n * @return {SVGElement}\n */\nCanvas.prototype.getGraphics = function(element, secondary) {\n  return this._elementRegistry.getGraphics(element, secondary);\n};\n\n\n/**\n * Perform a viewbox update via a given change function.\n *\n * @param {Function} changeFn\n */\nCanvas.prototype._changeViewbox = function(changeFn) {\n\n  // notify others of the upcoming viewbox change\n  this._eventBus.fire('canvas.viewbox.changing');\n\n  // perform actual change\n  changeFn.apply(this);\n\n  // reset the cached viewbox so that\n  // a new get operation on viewbox or zoom\n  // triggers a viewbox re-computation\n  this._cachedViewbox = null;\n\n  // notify others of the change; this step\n  // may or may not be debounced\n  this._viewboxChanged();\n};\n\nCanvas.prototype._viewboxChanged = function() {\n  this._eventBus.fire('canvas.viewbox.changed', { viewbox: this.viewbox() });\n};\n\n\n/**\n * Gets or sets the view box of the canvas, i.e. the\n * area that is currently displayed.\n *\n * The getter may return a cached viewbox (if it is currently\n * changing). To force a recomputation, pass `false` as the first argument.\n *\n * @example\n *\n * canvas.viewbox({ x: 100, y: 100, width: 500, height: 500 })\n *\n * // sets the visible area of the diagram to (100|100) -> (600|100)\n * // and and scales it according to the diagram width\n *\n * var viewbox = canvas.viewbox(); // pass `false` to force recomputing the box.\n *\n * console.log(viewbox);\n * // {\n * //   inner: Dimensions,\n * //   outer: Dimensions,\n * //   scale,\n * //   x, y,\n * //   width, height\n * // }\n *\n * // if the current diagram is zoomed and scrolled, you may reset it to the\n * // default zoom via this method, too:\n *\n * var zoomedAndScrolledViewbox = canvas.viewbox();\n *\n * canvas.viewbox({\n *   x: 0,\n *   y: 0,\n *   width: zoomedAndScrolledViewbox.outer.width,\n *   height: zoomedAndScrolledViewbox.outer.height\n * });\n *\n * @param  {Object} [box] the new view box to set\n * @param  {number} box.x the top left X coordinate of the canvas visible in view box\n * @param  {number} box.y the top left Y coordinate of the canvas visible in view box\n * @param  {number} box.width the visible width\n * @param  {number} box.height\n *\n * @return {Object} the current view box\n */\nCanvas.prototype.viewbox = function(box) {\n\n  if (box === undefined && this._cachedViewbox) {\n    return this._cachedViewbox;\n  }\n\n  var viewport = this._viewport,\n      innerBox,\n      outerBox = this.getSize(),\n      matrix,\n      transform,\n      scale,\n      x, y;\n\n  if (!box) {\n\n    // compute the inner box based on the\n    // diagrams active plane. This allows us to exclude\n    // external components, such as overlays\n\n    innerBox = (this._activePlane && this._activePlane.layer.getBBox()) || {};\n\n    transform = svgTransform(viewport);\n    matrix = transform ? transform.matrix : createMatrix();\n    scale = round(matrix.a, 1000);\n\n    x = round(-matrix.e || 0, 1000);\n    y = round(-matrix.f || 0, 1000);\n\n    box = this._cachedViewbox = {\n      x: x ? x / scale : 0,\n      y: y ? y / scale : 0,\n      width: outerBox.width / scale,\n      height: outerBox.height / scale,\n      scale: scale,\n      inner: {\n        width: innerBox.width || 0,\n        height: innerBox.height || 0,\n        x: innerBox.x || 0,\n        y: innerBox.y || 0\n      },\n      outer: outerBox\n    };\n\n    return box;\n  } else {\n\n    this._changeViewbox(function() {\n      scale = Math.min(outerBox.width / box.width, outerBox.height / box.height);\n\n      var matrix = this._svg.createSVGMatrix()\n        .scale(scale)\n        .translate(-box.x, -box.y);\n\n      svgTransform(viewport, matrix);\n    });\n  }\n\n  return box;\n};\n\n\n/**\n * Gets or sets the scroll of the canvas.\n *\n * @param {Object} [delta] the new scroll to apply.\n *\n * @param {number} [delta.dx]\n * @param {number} [delta.dy]\n */\nCanvas.prototype.scroll = function(delta) {\n\n  var node = this._viewport;\n  var matrix = node.getCTM();\n\n  if (delta) {\n    this._changeViewbox(function() {\n      delta = assign({ dx: 0, dy: 0 }, delta || {});\n\n      matrix = this._svg.createSVGMatrix().translate(delta.dx, delta.dy).multiply(matrix);\n\n      setCTM(node, matrix);\n    });\n  }\n\n  return { x: matrix.e, y: matrix.f };\n};\n\n/**\n * Scrolls the viewbox to contain the given element.\n * Optionally specify a padding to be applied to the edges.\n *\n * @param {Object|String} [element] the element to scroll to.\n * @param {Object|Number} [padding=100] the padding to be applied. Can also specify top, bottom, left and right.\n *\n */\nCanvas.prototype.scrollToElement = function(element, padding) {\n  var defaultPadding = 100;\n\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  // switch to correct Plane\n  var targetPlane = this.findPlane(element);\n  if (targetPlane !== this._activePlane) {\n    this.setActivePlane(targetPlane);\n  }\n\n  if (!padding) {\n    padding = {};\n  }\n  if (typeof padding === 'number') {\n    defaultPadding = padding;\n  }\n\n  padding = {\n    top: padding.top || defaultPadding,\n    right: padding.right || defaultPadding,\n    bottom: padding.bottom || defaultPadding,\n    left: padding.left || defaultPadding\n  };\n\n  var elementBounds = getBoundingBox(element),\n      elementTrbl = asTRBL(elementBounds),\n      viewboxBounds = this.viewbox(),\n      zoom = this.zoom(),\n      dx, dy;\n\n  // shrink viewboxBounds with padding\n  viewboxBounds.y += padding.top / zoom;\n  viewboxBounds.x += padding.left / zoom;\n  viewboxBounds.width -= (padding.right + padding.left) / zoom;\n  viewboxBounds.height -= (padding.bottom + padding.top) / zoom;\n\n  var viewboxTrbl = asTRBL(viewboxBounds);\n\n  var canFit = elementBounds.width < viewboxBounds.width && elementBounds.height < viewboxBounds.height;\n\n  if (!canFit) {\n\n    // top-left when element can't fit\n    dx = elementBounds.x - viewboxBounds.x;\n    dy = elementBounds.y - viewboxBounds.y;\n\n  } else {\n\n    var dRight = Math.max(0, elementTrbl.right - viewboxTrbl.right),\n        dLeft = Math.min(0, elementTrbl.left - viewboxTrbl.left),\n        dBottom = Math.max(0, elementTrbl.bottom - viewboxTrbl.bottom),\n        dTop = Math.min(0, elementTrbl.top - viewboxTrbl.top);\n\n    dx = dRight || dLeft;\n    dy = dBottom || dTop;\n\n  }\n\n  this.scroll({ dx: -dx * zoom, dy: -dy * zoom });\n};\n\n/**\n * Gets or sets the current zoom of the canvas, optionally zooming\n * to the specified position.\n *\n * The getter may return a cached zoom level. Call it with `false` as\n * the first argument to force recomputation of the current level.\n *\n * @param {string|number} [newScale] the new zoom level, either a number, i.e. 0.9,\n *                                   or `fit-viewport` to adjust the size to fit the current viewport\n * @param {string|Point} [center] the reference point { x: .., y: ..} to zoom to, 'auto' to zoom into mid or null\n *\n * @return {number} the current scale\n */\nCanvas.prototype.zoom = function(newScale, center) {\n\n  if (!newScale) {\n    return this.viewbox(newScale).scale;\n  }\n\n  if (newScale === 'fit-viewport') {\n    return this._fitViewport(center);\n  }\n\n  var outer,\n      matrix;\n\n  this._changeViewbox(function() {\n\n    if (typeof center !== 'object') {\n      outer = this.viewbox().outer;\n\n      center = {\n        x: outer.width / 2,\n        y: outer.height / 2\n      };\n    }\n\n    matrix = this._setZoom(newScale, center);\n  });\n\n  return round(matrix.a, 1000);\n};\n\nfunction setCTM(node, m) {\n  var mstr = 'matrix(' + m.a + ',' + m.b + ',' + m.c + ',' + m.d + ',' + m.e + ',' + m.f + ')';\n  node.setAttribute('transform', mstr);\n}\n\nCanvas.prototype._fitViewport = function(center) {\n\n  var vbox = this.viewbox(),\n      outer = vbox.outer,\n      inner = vbox.inner,\n      newScale,\n      newViewbox;\n\n  // display the complete diagram without zooming in.\n  // instead of relying on internal zoom, we perform a\n  // hard reset on the canvas viewbox to realize this\n  //\n  // if diagram does not need to be zoomed in, we focus it around\n  // the diagram origin instead\n\n  if (inner.x >= 0 &&\n      inner.y >= 0 &&\n      inner.x + inner.width <= outer.width &&\n      inner.y + inner.height <= outer.height &&\n      !center) {\n\n    newViewbox = {\n      x: 0,\n      y: 0,\n      width: Math.max(inner.width + inner.x, outer.width),\n      height: Math.max(inner.height + inner.y, outer.height)\n    };\n  } else {\n\n    newScale = Math.min(1, outer.width / inner.width, outer.height / inner.height);\n    newViewbox = {\n      x: inner.x + (center ? inner.width / 2 - outer.width / newScale / 2 : 0),\n      y: inner.y + (center ? inner.height / 2 - outer.height / newScale / 2 : 0),\n      width: outer.width / newScale,\n      height: outer.height / newScale\n    };\n  }\n\n  this.viewbox(newViewbox);\n\n  return this.viewbox(false).scale;\n};\n\n\nCanvas.prototype._setZoom = function(scale, center) {\n\n  var svg = this._svg,\n      viewport = this._viewport;\n\n  var matrix = svg.createSVGMatrix();\n  var point = svg.createSVGPoint();\n\n  var centerPoint,\n      originalPoint,\n      currentMatrix,\n      scaleMatrix,\n      newMatrix;\n\n  currentMatrix = viewport.getCTM();\n\n  var currentScale = currentMatrix.a;\n\n  if (center) {\n    centerPoint = assign(point, center);\n\n    // revert applied viewport transformations\n    originalPoint = centerPoint.matrixTransform(currentMatrix.inverse());\n\n    // create scale matrix\n    scaleMatrix = matrix\n      .translate(originalPoint.x, originalPoint.y)\n      .scale(1 / currentScale * scale)\n      .translate(-originalPoint.x, -originalPoint.y);\n\n    newMatrix = currentMatrix.multiply(scaleMatrix);\n  } else {\n    newMatrix = matrix.scale(scale);\n  }\n\n  setCTM(this._viewport, newMatrix);\n\n  return newMatrix;\n};\n\n\n/**\n * Returns the size of the canvas\n *\n * @return {Dimensions}\n */\nCanvas.prototype.getSize = function() {\n  return {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight\n  };\n};\n\n\n/**\n * Return the absolute bounding box for the given element\n *\n * The absolute bounding box may be used to display overlays in the\n * callers (browser) coordinate system rather than the zoomed in/out\n * canvas coordinates.\n *\n * @param  {ElementDescriptor} element\n * @return {Bounds} the absolute bounding box\n */\nCanvas.prototype.getAbsoluteBBox = function(element) {\n  var vbox = this.viewbox();\n  var bbox;\n\n  // connection\n  // use svg bbox\n  if (element.waypoints) {\n    var gfx = this.getGraphics(element);\n\n    bbox = gfx.getBBox();\n  }\n\n  // shapes\n  // use data\n  else {\n    bbox = element;\n  }\n\n  var x = bbox.x * vbox.scale - vbox.x * vbox.scale;\n  var y = bbox.y * vbox.scale - vbox.y * vbox.scale;\n\n  var width = bbox.width * vbox.scale;\n  var height = bbox.height * vbox.scale;\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n};\n\n/**\n * Fires an event in order other modules can react to the\n * canvas resizing\n */\nCanvas.prototype.resized = function() {\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n\n  this._eventBus.fire('canvas.resized');\n};\n","var ELEMENT_ID = 'data-element-id';\n\nimport { attr as svgAttr } from 'tiny-svg';\n\n\n/**\n * @class\n *\n * A registry that keeps track of all shapes in the diagram.\n */\nexport default function ElementRegistry(eventBus) {\n  this._elements = {};\n\n  this._eventBus = eventBus;\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n/**\n * Register a pair of (element, gfx, (secondaryGfx)).\n *\n * @param {djs.model.Base} element\n * @param {SVGElement} gfx\n * @param {SVGElement} [secondaryGfx] optional other element to register, too\n */\nElementRegistry.prototype.add = function(element, gfx, secondaryGfx) {\n\n  var id = element.id;\n\n  this._validateId(id);\n\n  // associate dom node with element\n  svgAttr(gfx, ELEMENT_ID, id);\n\n  if (secondaryGfx) {\n    svgAttr(secondaryGfx, ELEMENT_ID, id);\n  }\n\n  this._elements[id] = { element: element, gfx: gfx, secondaryGfx: secondaryGfx };\n};\n\n/**\n * Removes an element from the registry.\n *\n * @param {djs.model.Base} element\n */\nElementRegistry.prototype.remove = function(element) {\n  var elements = this._elements,\n      id = element.id || element,\n      container = id && elements[id];\n\n  if (container) {\n\n    // unset element id on gfx\n    svgAttr(container.gfx, ELEMENT_ID, '');\n\n    if (container.secondaryGfx) {\n      svgAttr(container.secondaryGfx, ELEMENT_ID, '');\n    }\n\n    delete elements[id];\n  }\n};\n\n/**\n * Update the id of an element\n *\n * @param {djs.model.Base} element\n * @param {string} newId\n */\nElementRegistry.prototype.updateId = function(element, newId) {\n\n  this._validateId(newId);\n\n  if (typeof element === 'string') {\n    element = this.get(element);\n  }\n\n  this._eventBus.fire('element.updateId', {\n    element: element,\n    newId: newId\n  });\n\n  var gfx = this.getGraphics(element),\n      secondaryGfx = this.getGraphics(element, true);\n\n  this.remove(element);\n\n  element.id = newId;\n\n  this.add(element, gfx, secondaryGfx);\n};\n\n/**\n * Update the graphics of an element\n *\n * @param {djs.model.Base} element\n * @param {SVGElement} gfx\n * @param {boolean} [secondary=false] whether to update the secondary connected element\n */\nElementRegistry.prototype.updateGraphics = function(filter, gfx, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n\n  if (secondary) {\n    container.secondaryGfx = gfx;\n  } else {\n    container.gfx = gfx;\n  }\n\n  svgAttr(gfx, ELEMENT_ID, id);\n\n  return gfx;\n};\n\n/**\n * Return the model element for a given id or graphics.\n *\n * @example\n *\n * elementRegistry.get('SomeElementId_1');\n * elementRegistry.get(gfx);\n *\n *\n * @param {string|SVGElement} filter for selecting the element\n *\n * @return {djs.model.Base}\n */\nElementRegistry.prototype.get = function(filter) {\n  var id;\n\n  if (typeof filter === 'string') {\n    id = filter;\n  } else {\n    id = filter && svgAttr(filter, ELEMENT_ID);\n  }\n\n  var container = this._elements[id];\n  return container && container.element;\n};\n\n/**\n * Return all elements that match a given filter function.\n *\n * @param {Function} fn\n *\n * @return {Array<djs.model.Base>}\n */\nElementRegistry.prototype.filter = function(fn) {\n\n  var filtered = [];\n\n  this.forEach(function(element, gfx) {\n    if (fn(element, gfx)) {\n      filtered.push(element);\n    }\n  });\n\n  return filtered;\n};\n\n/**\n * Return the first element that satisfies the provided testing function.\n *\n * @param {Function} fn\n *\n * @return {djs.model.Base}\n */\nElementRegistry.prototype.find = function(fn) {\n  var map = this._elements,\n      keys = Object.keys(map);\n\n  for (var i = 0; i < keys.length; i++) {\n    var id = keys[i],\n        container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    if (fn(element, gfx)) {\n      return element;\n    }\n  }\n};\n\n/**\n * Return all rendered model elements.\n *\n * @return {Array<djs.model.Base>}\n */\nElementRegistry.prototype.getAll = function() {\n  return this.filter(function(e) { return e; });\n};\n\n/**\n * Iterate over all diagram elements.\n *\n * @param {Function} fn\n */\nElementRegistry.prototype.forEach = function(fn) {\n\n  var map = this._elements;\n\n  Object.keys(map).forEach(function(id) {\n    var container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    return fn(element, gfx);\n  });\n};\n\n/**\n * Return the graphical representation of an element or its id.\n *\n * @example\n * elementRegistry.getGraphics('SomeElementId_1');\n * elementRegistry.getGraphics(rootElement); // <g ...>\n *\n * elementRegistry.getGraphics(rootElement, true); // <svg ...>\n *\n *\n * @param {string|djs.model.Base} filter\n * @param {boolean} [secondary=false] whether to return the secondary connected element\n *\n * @return {SVGElement}\n */\nElementRegistry.prototype.getGraphics = function(filter, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n  return container && (secondary ? container.secondaryGfx : container.gfx);\n};\n\n/**\n * Validate the suitability of the given id and signals a problem\n * with an exception.\n *\n * @param {string} id\n *\n * @throws {Error} if id is empty or already assigned\n */\nElementRegistry.prototype._validateId = function(id) {\n  if (!id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elements[id]) {\n    throw new Error('element with id ' + id + ' already added');\n  }\n};\n","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n */\nexport default function EventBus() {\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @param {string|Array<string>} events\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n\n/**\n * Register an event listener that is executed only once.\n *\n * @param {string} event the event name to register for\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback the callback to execute\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.once = function(event, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(event, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(event, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|Array<string>} events\n * @param {Function} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an EventBus event.\n *\n * @param {Object} data\n *\n * @return {Object} event, recognized by the eventBus\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires a named event.\n *\n * @example\n *\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n *\n * @param {string} [name] the optional event name\n * @param {Object} [event] the event object\n * @param {...Object} additional arguments to be passed to the callback functions\n *\n * @return {boolean} the events return value, if specified or false if the\n *                   default action was prevented by listeners\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/*\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {Object} listener { priority, callback }\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {Array<Object>} args\n *\n * @return {Any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","import {\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  getChildren,\n  getVisual\n} from '../util/GraphicsUtil';\n\nimport { translate } from '../util/SvgTransformUtil';\n\nimport { clear as domClear } from 'min-dom';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n/**\n * A factory that creates graphical elements\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n */\nexport default function GraphicsFactory(eventBus, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n}\n\nGraphicsFactory.$inject = [ 'eventBus' , 'elementRegistry' ];\n\n\nGraphicsFactory.prototype._getChildrenContainer = function(element) {\n\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  var childrenGfx;\n\n  // root element\n  if (!element.parent) {\n    childrenGfx = gfx;\n  } else {\n    childrenGfx = getChildren(gfx);\n    if (!childrenGfx) {\n      childrenGfx = svgCreate('g');\n      svgClasses(childrenGfx).add('djs-children');\n\n      svgAppend(gfx.parentNode, childrenGfx);\n    }\n  }\n\n  return childrenGfx;\n};\n\n/**\n * Clears the graphical representation of the element and returns the\n * cleared visual (the <g class=\"djs-visual\" /> element).\n */\nGraphicsFactory.prototype._clear = function(gfx) {\n  var visual = getVisual(gfx);\n\n  domClear(visual);\n\n  return visual;\n};\n\n/**\n * Creates a gfx container for shapes and connections\n *\n * The layout is as follows:\n *\n * <g class=\"djs-group\">\n *\n *   <!-- the gfx -->\n *   <g class=\"djs-element djs-(shape|connection|frame)\">\n *     <g class=\"djs-visual\">\n *       <!-- the renderer draws in here -->\n *     </g>\n *\n *     <!-- extensions (overlays, click box, ...) goes here\n *   </g>\n *\n *   <!-- the gfx child nodes -->\n *   <g class=\"djs-children\"></g>\n * </g>\n *\n * @param {string} type the type of the element, i.e. shape | connection\n * @param {SVGElement} [childrenGfx]\n * @param {number} [parentIndex] position to create container in parent\n * @param {boolean} [isFrame] is frame element\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._createContainer = function(\n    type, childrenGfx, parentIndex, isFrame\n) {\n  var outerGfx = svgCreate('g');\n  svgClasses(outerGfx).add('djs-group');\n\n  // insert node at position\n  if (typeof parentIndex !== 'undefined') {\n    prependTo(outerGfx, childrenGfx, childrenGfx.childNodes[parentIndex]);\n  } else {\n    svgAppend(childrenGfx, outerGfx);\n  }\n\n  var gfx = svgCreate('g');\n  svgClasses(gfx).add('djs-element');\n  svgClasses(gfx).add('djs-' + type);\n\n  if (isFrame) {\n    svgClasses(gfx).add('djs-frame');\n  }\n\n  svgAppend(outerGfx, gfx);\n\n  // create visual\n  var visual = svgCreate('g');\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(gfx, visual);\n\n  return gfx;\n};\n\nGraphicsFactory.prototype.create = function(type, element, parentIndex) {\n  var childrenGfx = this._getChildrenContainer(element.parent);\n  return this._createContainer(type, childrenGfx, parentIndex, isFrameElement(element));\n};\n\nGraphicsFactory.prototype.updateContainments = function(elements) {\n\n  var self = this,\n      elementRegistry = this._elementRegistry,\n      parents;\n\n  parents = reduce(elements, function(map, e) {\n\n    if (e.parent) {\n      map[e.parent.id] = e.parent;\n    }\n\n    return map;\n  }, {});\n\n  // update all parents of changed and reorganized their children\n  // in the correct order (as indicated in our model)\n  forEach(parents, function(parent) {\n\n    var children = parent.children;\n\n    if (!children) {\n      return;\n    }\n\n    var childrenGfx = self._getChildrenContainer(parent);\n\n    forEach(children.slice().reverse(), function(child) {\n      var childGfx = elementRegistry.getGraphics(child);\n\n      prependTo(childGfx.parentNode, childrenGfx);\n    });\n  });\n};\n\nGraphicsFactory.prototype.drawShape = function(visual, element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.shape', { gfx: visual, element: element });\n};\n\nGraphicsFactory.prototype.getShapePath = function(element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getShapePath', element);\n};\n\nGraphicsFactory.prototype.drawConnection = function(visual, element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.connection', { gfx: visual, element: element });\n};\n\nGraphicsFactory.prototype.getConnectionPath = function(waypoints) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getConnectionPath', waypoints);\n};\n\nGraphicsFactory.prototype.update = function(type, element, gfx) {\n\n  // do NOT update root element\n  if (!element.parent) {\n    return;\n  }\n\n  var visual = this._clear(gfx);\n\n  // redraw\n  if (type === 'shape') {\n    this.drawShape(visual, element);\n\n    // update positioning\n    translate(gfx, element.x, element.y);\n  } else\n  if (type === 'connection') {\n    this.drawConnection(visual, element);\n  } else {\n    throw new Error('unknown type: ' + type);\n  }\n\n  if (element.hidden) {\n    svgAttr(gfx, 'display', 'none');\n  } else {\n    svgAttr(gfx, 'display', 'block');\n  }\n};\n\nGraphicsFactory.prototype.remove = function(element) {\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  // remove\n  svgRemove(gfx.parentNode);\n};\n\n\n// helpers //////////\n\nfunction prependTo(newNode, parentNode, siblingNode) {\n  var node = siblingNode || parentNode.firstChild;\n\n  // do not prepend node to itself to prevent IE from crashing\n  // https://github.com/bpmn-io/bpmn-js/issues/746\n  if (newNode === node) {\n    return;\n  }\n\n  parentNode.insertBefore(newNode, node);\n}\n","import DrawModule from '../draw';\n\nimport Canvas from './Canvas';\nimport ElementRegistry from './ElementRegistry';\nimport ElementFactory from './ElementFactory';\nimport EventBus from './EventBus';\nimport GraphicsFactory from './GraphicsFactory';\n\nexport default {\n  __depends__: [ DrawModule ],\n  __init__: [ 'canvas' ],\n  canvas: [ 'type', Canvas ],\n  elementRegistry: [ 'type', ElementRegistry ],\n  elementFactory: [ 'type', ElementFactory ],\n  eventBus: [ 'type', EventBus ],\n  graphicsFactory: [ 'type', GraphicsFactory ]\n};","import { Injector } from 'didi';\n\nimport CoreModule from './core';\n\n\n/**\n * Bootstrap an injector from a list of modules, instantiating a number of default components\n *\n * @ignore\n * @param {Array<didi.Module>} bootstrapModules\n *\n * @return {didi.Injector} a injector to use to access the components\n */\nfunction bootstrap(bootstrapModules) {\n\n  var modules = [],\n      components = [];\n\n  function hasModule(m) {\n    return modules.indexOf(m) >= 0;\n  }\n\n  function addModule(m) {\n    modules.push(m);\n  }\n\n  function visit(m) {\n    if (hasModule(m)) {\n      return;\n    }\n\n    (m.__depends__ || []).forEach(visit);\n\n    if (hasModule(m)) {\n      return;\n    }\n\n    addModule(m);\n\n    (m.__init__ || []).forEach(function(c) {\n      components.push(c);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n\n  var injector = new Injector(modules);\n\n  components.forEach(function(c) {\n\n    try {\n\n      // eagerly resolve component (fn or string)\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\n    } catch (e) {\n      console.error('Failed to instantiate component');\n      console.error(e.stack);\n\n      throw e;\n    }\n  });\n\n  return injector;\n}\n\n/**\n * Creates an injector from passed options.\n *\n * @ignore\n * @param  {Object} options\n * @return {didi.Injector}\n */\nfunction createInjector(options) {\n\n  options = options || {};\n\n  var configModule = {\n    'config': ['value', options]\n  };\n\n  var modules = [ configModule, CoreModule ].concat(options.modules || []);\n\n  return bootstrap(modules);\n}\n\n\n/**\n * The main diagram-js entry point that bootstraps the diagram with the given\n * configuration.\n *\n * To register extensions with the diagram, pass them as Array<didi.Module> to the constructor.\n *\n * @class djs.Diagram\n * @memberOf djs\n * @constructor\n *\n * @example\n *\n * <caption>Creating a plug-in that logs whenever a shape is added to the canvas.</caption>\n *\n * // plug-in implemenentation\n * function MyLoggingPlugin(eventBus) {\n *   eventBus.on('shape.added', function(event) {\n *     console.log('shape ', event.shape, ' was added to the diagram');\n *   });\n * }\n *\n * // export as module\n * export default {\n *   __init__: [ 'myLoggingPlugin' ],\n *     myLoggingPlugin: [ 'type', MyLoggingPlugin ]\n * };\n *\n *\n * // instantiate the diagram with the new plug-in\n *\n * import MyLoggingModule from 'path-to-my-logging-plugin';\n *\n * var diagram = new Diagram({\n *   modules: [\n *     MyLoggingModule\n *   ]\n * });\n *\n * diagram.invoke([ 'canvas', function(canvas) {\n *   // add shape to drawing canvas\n *   canvas.addShape({ x: 10, y: 10 });\n * });\n *\n * // 'shape ... was added to the diagram' logged to console\n *\n * @param {Object} options\n * @param {Array<didi.Module>} [options.modules] external modules to instantiate with the diagram\n * @param {didi.Injector} [injector] an (optional) injector to bootstrap the diagram with\n */\nexport default function Diagram(options, injector) {\n\n  // create injector unless explicitly specified\n  this.injector = injector = injector || createInjector(options);\n\n  // API\n\n  /**\n   * Resolves a diagram service\n   *\n   * @method Diagram#get\n   *\n   * @param {string} name the name of the diagram service to be retrieved\n   * @param {boolean} [strict=true] if false, resolve missing services to null\n   */\n  this.get = injector.get;\n\n  /**\n   * Executes a function into which diagram services are injected\n   *\n   * @method Diagram#invoke\n   *\n   * @param {Function|Object[]} fn the function to resolve\n   * @param {Object} locals a number of locals to use to resolve certain dependencies\n   */\n  this.invoke = injector.invoke;\n\n  // init\n\n  // indicate via event\n\n\n  /**\n   * An event indicating that all plug-ins are loaded.\n   *\n   * Use this event to fire other events to interested plug-ins\n   *\n   * @memberOf Diagram\n   *\n   * @event diagram.init\n   *\n   * @example\n   *\n   * eventBus.on('diagram.init', function() {\n   *   eventBus.fire('my-custom-event', { foo: 'BAR' });\n   * });\n   *\n   * @type {Object}\n   */\n  this.get('eventBus').fire('diagram.init');\n}\n\n\n/**\n * Destroys the diagram\n *\n * @method  Diagram#destroy\n */\nDiagram.prototype.destroy = function() {\n  this.get('eventBus').fire('diagram.destroy');\n};\n\n/**\n * Clear the diagram, removing all contents.\n */\nDiagram.prototype.clear = function() {\n  this.get('eventBus').fire('diagram.clear');\n};\n","import { forEach } from 'min-dash';\nimport Refs from 'object-refs';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nvar diRefs = new Refs({\n  name: 'dmnElementRef',\n  enumerable: true\n}, {\n  name: 'di',\n  configurable: true\n});\nexport default function DRDTreeWalker(handler, options) {\n  // list of elements to handle deferred to ensure\n  // prerequisites are drawn\n  var deferred = [];\n\n  function visit(element) {\n    var gfx = element.gfx; // avoid multiple rendering of elements\n\n    if (gfx) {\n      throw new Error('already rendered ' + element.id);\n    } // call handler\n\n\n    return handler.element(element);\n  }\n\n  function visitRoot(element) {\n    return handler.root(element);\n  }\n\n  function visitIfDi(element) {\n    try {\n      var gfx = element.di && visit(element);\n      return gfx;\n    } catch (e) {\n      logError(e.message, {\n        element: element,\n        error: e\n      });\n    }\n  } // Semantic handling //////////////////////\n\n  /**\n   * Handle definitions and return the rendered diagram (if any)\n   *\n   * @param {ModdleElement} definitions to walk and import\n   * @param {ModdleElement} [diagram] specific diagram to import and display\n   *\n   * @throws {Error} if no diagram to display could be found\n   */\n\n\n  function handleDefinitions(definitions, diagram) {\n    // make sure we walk the correct dmnElement\n    var dmnDI = definitions.dmnDI;\n\n    if (!dmnDI) {\n      throw new Error('no dmndi:DMNDI');\n    }\n\n    var diagrams = dmnDI.diagrams || [];\n\n    if (diagram && diagrams.indexOf(diagram) === -1) {\n      throw new Error('diagram not part of dmndi:DMNDI');\n    }\n\n    if (!diagram && diagrams && diagrams.length) {\n      diagram = diagrams[0];\n    } // no diagram -> nothing to import\n\n\n    if (!diagram) {\n      throw new Error('no diagram to display');\n    } // assign current diagram to definitions so that it can accessed later\n\n\n    definitions.di = diagram; // load DI from selected diagram only\n\n    handleDiagram(diagram);\n    visitRoot(definitions);\n    handleDrgElements(definitions.get('drgElement'));\n    handleArtifacts(definitions.get('artifact'));\n    handleDeferred();\n  }\n\n  function handleDrgElements(elements) {\n    forEach(elements, function (element) {\n      visitIfDi(element);\n      handleRequirements(element);\n    });\n  }\n\n  function handleArtifacts(elements) {\n    forEach(elements, function (element) {\n      if (is(element, 'dmn:Association')) {\n        handleAssociation(element);\n      } else {\n        visitIfDi(element);\n      }\n    });\n  }\n  /**\n   * Defer association visit until all shapes are visited.\n   *\n   * @param {ModdleElement} element\n   */\n\n\n  function handleAssociation(element) {\n    defer(function () {\n      visitIfDi(element);\n    });\n  }\n  /**\n   * Defer requirements visiting until all shapes are visited.\n   *\n   * @param {ModdleElement} element\n   */\n\n\n  function handleRequirements(element) {\n    forEach(['informationRequirement', 'knowledgeRequirement', 'authorityRequirement'], function (requirements) {\n      forEach(element[requirements], function (requirement) {\n        defer(function () {\n          visitIfDi(requirement);\n        });\n      });\n    });\n  } // DI handling //////////////////////\n\n\n  function handleDiagram(diagram) {\n    forEach(diagram.diagramElements, handleDiagramElement);\n  }\n\n  function handleDiagramElement(diagramElement) {\n    registerDi(diagramElement);\n  }\n\n  function registerDi(di) {\n    var dmnElement = di.dmnElementRef;\n\n    if (dmnElement) {\n      if (dmnElement.di) {\n        logError('multiple DI elements defined for element', {\n          element: dmnElement\n        });\n      } else {\n        diRefs.bind(dmnElement, 'di');\n        dmnElement.di = di;\n      }\n    } else {\n      logError('no DMN element referenced in element', {\n        element: di\n      });\n    }\n  }\n\n  function defer(fn) {\n    deferred.push(fn);\n  }\n\n  function handleDeferred() {\n    forEach(deferred, function (d) {\n      d();\n    });\n  }\n\n  function logError(message, context) {\n    handler.error(message, context);\n  } // API //////////////////////\n\n\n  return {\n    handleDefinitions: handleDefinitions\n  };\n}\n//# sourceMappingURL=DrdTreeWalker.js.map","import inherits from 'inherits';\nimport { isArray, isObject, assign } from 'min-dash';\nimport { attr as domAttr, query as domQuery } from 'min-dom';\nimport { append as svgAppend, attr as svgAttr, create as svgCreate } from 'tiny-svg';\nimport BaseRenderer from 'diagram-js/lib/draw/BaseRenderer';\nimport { createLine } from 'diagram-js/lib/util/RenderUtil';\nimport { is, getName } from 'dmn-js-shared/lib/util/ModelUtil';\nexport default function DrdRenderer(eventBus, pathMap, styles, textRenderer) {\n  BaseRenderer.call(this, eventBus);\n  var markers = {};\n\n  function addMarker(id, element) {\n    markers[id] = element;\n  }\n\n  function marker(id) {\n    var marker = markers[id];\n    return 'url(#' + marker.id + ')';\n  }\n\n  function initMarkers(svg) {\n    function createMarker(id, options) {\n      var attrs = assign({\n        strokeWidth: 1,\n        strokeLinecap: 'round',\n        strokeDasharray: 'none'\n      }, options.attrs);\n      var ref = options.ref || {\n        x: 0,\n        y: 0\n      };\n      var scale = options.scale || 1; // fix for safari / chrome / firefox bug not correctly\n      // resetting stroke dash array\n\n      if (attrs.strokeDasharray === 'none') {\n        attrs.strokeDasharray = [10000, 1];\n      }\n\n      var marker = svgCreate('marker');\n      svgAttr(options.element, attrs);\n      svgAppend(marker, options.element);\n      svgAttr(marker, {\n        id: id,\n        viewBox: '0 0 20 20',\n        refX: ref.x,\n        refY: ref.y,\n        markerWidth: 20 * scale,\n        markerHeight: 20 * scale,\n        orient: 'auto'\n      });\n      var defs = domQuery('defs', svg);\n\n      if (!defs) {\n        defs = svgCreate('defs');\n        svgAppend(svg, defs);\n      }\n\n      svgAppend(defs, marker);\n      return addMarker(id, marker);\n    }\n\n    var associationStart = svgCreate('path');\n    svgAttr(associationStart, {\n      d: 'M 11 5 L 1 10 L 11 15'\n    });\n    createMarker('association-start', {\n      element: associationStart,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 1.5\n      },\n      ref: {\n        x: 1,\n        y: 10\n      },\n      scale: 0.5\n    });\n    var associationEnd = svgCreate('path');\n    svgAttr(associationEnd, {\n      d: 'M 1 5 L 11 10 L 1 15'\n    });\n    createMarker('association-end', {\n      element: associationEnd,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 1.5\n      },\n      ref: {\n        x: 12,\n        y: 10\n      },\n      scale: 0.5\n    });\n    var informationRequirementEnd = svgCreate('path');\n    svgAttr(informationRequirementEnd, {\n      d: 'M 1 5 L 11 10 L 1 15 Z'\n    });\n    createMarker('information-requirement-end', {\n      element: informationRequirementEnd,\n      ref: {\n        x: 11,\n        y: 10\n      },\n      scale: 1\n    });\n    var knowledgeRequirementEnd = svgCreate('path');\n    svgAttr(knowledgeRequirementEnd, {\n      d: 'M 1 3 L 11 10 L 1 17'\n    });\n    createMarker('knowledge-requirement-end', {\n      element: knowledgeRequirementEnd,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 2\n      },\n      ref: {\n        x: 11,\n        y: 10\n      },\n      scale: 0.8\n    });\n    var authorityRequirementEnd = svgCreate('circle');\n    svgAttr(authorityRequirementEnd, {\n      cx: 3,\n      cy: 3,\n      r: 3\n    });\n    createMarker('authority-requirement-end', {\n      element: authorityRequirementEnd,\n      ref: {\n        x: 3,\n        y: 3\n      },\n      scale: 0.9\n    });\n  }\n\n  function computeStyle(custom, traits, defaultStyles) {\n    if (!isArray(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return styles.style(traits || [], assign(defaultStyles, custom || {}));\n  }\n\n  function drawRect(p, width, height, r, offset, attrs) {\n    if (isObject(offset)) {\n      attrs = offset;\n      offset = 0;\n    }\n\n    offset = offset || 0;\n    attrs = computeStyle(attrs, {\n      stroke: 'black',\n      strokeWidth: 2,\n      fill: 'white'\n    });\n    var rect = svgCreate('rect');\n    svgAttr(rect, {\n      x: offset,\n      y: offset,\n      width: width - offset * 2,\n      height: height - offset * 2,\n      rx: r,\n      ry: r\n    });\n    svgAttr(rect, attrs);\n    svgAppend(p, rect);\n    return rect;\n  }\n\n  function renderLabel(p, label, options) {\n    var text = textRenderer.createText(label || '', options);\n    domAttr(text, 'class', 'djs-label');\n    svgAppend(p, text);\n    return text;\n  }\n\n  function renderEmbeddedLabel(p, element, align) {\n    var name = getName(element);\n    return renderLabel(p, name, {\n      box: element,\n      align: align,\n      padding: 5\n    });\n  }\n\n  function drawPath(p, d, attrs) {\n    attrs = computeStyle(attrs, ['no-fill'], {\n      strokeWidth: 2,\n      stroke: 'black'\n    });\n    var path = svgCreate('path');\n    svgAttr(path, {\n      d: d\n    });\n    svgAttr(path, attrs);\n    svgAppend(p, path);\n    return path;\n  }\n\n  var handlers = {\n    'dmn:Decision': function dmnDecision(p, element, attrs) {\n      var rect = drawRect(p, element.width, element.height, 0, attrs);\n      renderEmbeddedLabel(p, element, 'center-middle');\n      return rect;\n    },\n    'dmn:KnowledgeSource': function dmnKnowledgeSource(p, element, attrs) {\n      var pathData = pathMap.getScaledPath('KNOWLEDGE_SOURCE', {\n        xScaleFactor: 1.021,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.075\n        }\n      });\n      var knowledgeSource = drawPath(p, pathData, {\n        strokeWidth: 2,\n        fill: 'white',\n        stroke: 'black'\n      });\n      renderEmbeddedLabel(p, element, 'center-middle');\n      return knowledgeSource;\n    },\n    'dmn:BusinessKnowledgeModel': function dmnBusinessKnowledgeModel(p, element, attrs) {\n      var pathData = pathMap.getScaledPath('BUSINESS_KNOWLEDGE_MODEL', {\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.3\n        }\n      });\n      var businessKnowledge = drawPath(p, pathData, {\n        strokeWidth: 2,\n        fill: 'white',\n        stroke: 'black'\n      });\n      renderEmbeddedLabel(p, element, 'center-middle');\n      return businessKnowledge;\n    },\n    'dmn:InputData': function dmnInputData(p, element, attrs) {\n      var rect = drawRect(p, element.width, element.height, 22, attrs);\n      renderEmbeddedLabel(p, element, 'center-middle');\n      return rect;\n    },\n    'dmn:TextAnnotation': function dmnTextAnnotation(p, element, attrs) {\n      var style = {\n        'fill': 'none',\n        'stroke': 'none'\n      };\n      var textElement = drawRect(p, element.width, element.height, 0, 0, style);\n      var textPathData = pathMap.getScaledPath('TEXT_ANNOTATION', {\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.0\n        }\n      });\n      drawPath(p, textPathData);\n      var text = getSemantic(element).text || '';\n      renderLabel(p, text, {\n        box: element,\n        align: 'left-top',\n        padding: 5\n      });\n      return textElement;\n    },\n    'dmn:Association': function dmnAssociation(p, element, attrs) {\n      var semantic = getSemantic(element);\n      attrs = assign({\n        strokeDasharray: '0.5, 5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        fill: 'none'\n      }, attrs || {});\n\n      if (semantic.associationDirection === 'One' || semantic.associationDirection === 'Both') {\n        attrs.markerEnd = marker('association-end');\n      }\n\n      if (semantic.associationDirection === 'Both') {\n        attrs.markerStart = marker('association-start');\n      }\n\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:InformationRequirement': function dmnInformationRequirement(p, element, attrs) {\n      attrs = assign({\n        strokeWidth: 1,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('information-requirement-end')\n      }, attrs || {});\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:KnowledgeRequirement': function dmnKnowledgeRequirement(p, element, attrs) {\n      attrs = assign({\n        strokeWidth: 1,\n        strokeDasharray: 5,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('knowledge-requirement-end')\n      }, attrs || {});\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:AuthorityRequirement': function dmnAuthorityRequirement(p, element, attrs) {\n      attrs = assign({\n        strokeWidth: 1.5,\n        strokeDasharray: 5,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('authority-requirement-end')\n      }, attrs || {});\n      return drawLine(p, element.waypoints, attrs);\n    }\n  }; // draw shape and connection //////////////////\n\n  function drawShape(parent, element) {\n    var h = handlers[element.type];\n\n    if (!h) {\n      return BaseRenderer.prototype.drawShape.apply(this, [parent, element]);\n    } else {\n      return h(parent, element);\n    }\n  }\n\n  function drawConnection(parent, element) {\n    var type = element.type;\n    var h = handlers[type];\n\n    if (!h) {\n      return BaseRenderer.prototype.drawConnection.apply(this, [parent, element]);\n    } else {\n      return h(parent, element);\n    }\n  }\n\n  function drawLine(p, waypoints, attrs) {\n    attrs = computeStyle(attrs, ['no-fill'], {\n      stroke: 'black',\n      strokeWidth: 2,\n      fill: 'none'\n    });\n    var line = createLine(waypoints, attrs);\n    svgAppend(p, line);\n    return line;\n  }\n\n  this.canRender = function (element) {\n    return is(element, 'dmn:DMNElement') || is(element, 'dmn:InformationRequirement') || is(element, 'dmn:KnowledgeRequirement') || is(element, 'dmn:AuthorityRequirement');\n  };\n\n  this.drawShape = drawShape;\n  this.drawConnection = drawConnection; // hook onto canvas init event to initialize\n  // connection start/end markers on svg\n\n  eventBus.on('canvas.init', function (event) {\n    initMarkers(event.svg);\n  });\n}\ninherits(DrdRenderer, BaseRenderer);\nDrdRenderer.$inject = ['eventBus', 'pathMap', 'styles', 'textRenderer']; // helper functions //////////////////////\n\nfunction getSemantic(element) {\n  return element.businessObject;\n}\n//# sourceMappingURL=DrdRenderer.js.map","import {\n  isObject,\n  assign,\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nvar DEFAULT_BOX_PADDING = 0;\n\nvar DEFAULT_LABEL_SIZE = {\n  width: 150,\n  height: 50\n};\n\n\nfunction parseAlign(align) {\n\n  var parts = align.split('-');\n\n  return {\n    horizontal: parts[0] || 'center',\n    vertical: parts[1] || 'top'\n  };\n}\n\nfunction parsePadding(padding) {\n\n  if (isObject(padding)) {\n    return assign({ top: 0, left: 0, right: 0, bottom: 0 }, padding);\n  } else {\n    return {\n      top: padding,\n      left: padding,\n      right: padding,\n      bottom: padding\n    };\n  }\n}\n\nfunction getTextBBox(text, fakeText) {\n\n  fakeText.textContent = text;\n\n  var textBBox;\n\n  try {\n    var bbox,\n        emptyLine = text === '';\n\n    // add dummy text, when line is empty to\n    // determine correct height\n    fakeText.textContent = emptyLine ? 'dummy' : text;\n\n    textBBox = fakeText.getBBox();\n\n    // take text rendering related horizontal\n    // padding into account\n    bbox = {\n      width: textBBox.width + textBBox.x * 2,\n      height: textBBox.height\n    };\n\n    if (emptyLine) {\n\n      // correct width\n      bbox.width = 0;\n    }\n\n    return bbox;\n  } catch (e) {\n    return { width: 0, height: 0 };\n  }\n}\n\n\n/**\n * Layout the next line and return the layouted element.\n *\n * Alters the lines passed.\n *\n * @param  {Array<string>} lines\n * @return {Object} the line descriptor, an object { width, height, text }\n */\nfunction layoutNext(lines, maxWidth, fakeText) {\n\n  var originalLine = lines.shift(),\n      fitLine = originalLine;\n\n  var textBBox;\n\n  for (;;) {\n    textBBox = getTextBBox(fitLine, fakeText);\n\n    textBBox.width = fitLine ? textBBox.width : 0;\n\n    // try to fit\n    if (fitLine === ' ' || fitLine === '' || textBBox.width < Math.round(maxWidth) || fitLine.length < 2) {\n      return fit(lines, fitLine, originalLine, textBBox);\n    }\n\n    fitLine = shortenLine(fitLine, textBBox.width, maxWidth);\n  }\n}\n\nfunction fit(lines, fitLine, originalLine, textBBox) {\n  if (fitLine.length < originalLine.length) {\n    var remainder = originalLine.slice(fitLine.length).trim();\n\n    lines.unshift(remainder);\n  }\n\n  return {\n    width: textBBox.width,\n    height: textBBox.height,\n    text: fitLine\n  };\n}\n\nvar SOFT_BREAK = '\\u00AD';\n\n\n/**\n * Shortens a line based on spacing and hyphens.\n * Returns the shortened result on success.\n *\n * @param  {string} line\n * @param  {number} maxLength the maximum characters of the string\n * @return {string} the shortened string\n */\nfunction semanticShorten(line, maxLength) {\n\n  var parts = line.split(/(\\s|-|\\u00AD)/g),\n      part,\n      shortenedParts = [],\n      length = 0;\n\n  // try to shorten via break chars\n  if (parts.length > 1) {\n\n    while ((part = parts.shift())) {\n      if (part.length + length < maxLength) {\n        shortenedParts.push(part);\n        length += part.length;\n      } else {\n\n        // remove previous part, too if hyphen does not fit anymore\n        if (part === '-' || part === SOFT_BREAK) {\n          shortenedParts.pop();\n        }\n\n        break;\n      }\n    }\n  }\n\n  var last = shortenedParts[shortenedParts.length - 1];\n\n  // translate trailing soft break to actual hyphen\n  if (last && last === SOFT_BREAK) {\n    shortenedParts[shortenedParts.length - 1] = '-';\n  }\n\n  return shortenedParts.join('');\n}\n\n\nfunction shortenLine(line, width, maxWidth) {\n  var length = Math.max(line.length * (maxWidth / width), 1);\n\n  // try to shorten semantically (i.e. based on spaces and hyphens)\n  var shortenedLine = semanticShorten(line, length);\n\n  if (!shortenedLine) {\n\n    // force shorten by cutting the long word\n    shortenedLine = line.slice(0, Math.max(Math.round(length - 1), 1));\n  }\n\n  return shortenedLine;\n}\n\n\nfunction getHelperSvg() {\n  var helperSvg = document.getElementById('helper-svg');\n\n  if (!helperSvg) {\n    helperSvg = svgCreate('svg');\n\n    svgAttr(helperSvg, {\n      id: 'helper-svg',\n      width: 0,\n      height: 0,\n      style: 'visibility: hidden; position: fixed'\n    });\n\n    document.body.appendChild(helperSvg);\n  }\n\n  return helperSvg;\n}\n\n\n/**\n * Creates a new label utility\n *\n * @param {Object} config\n * @param {Dimensions} config.size\n * @param {number} config.padding\n * @param {Object} config.style\n * @param {string} config.align\n */\nexport default function Text(config) {\n\n  this._config = assign({}, {\n    size: DEFAULT_LABEL_SIZE,\n    padding: DEFAULT_BOX_PADDING,\n    style: {},\n    align: 'center-top'\n  }, config || {});\n}\n\n/**\n * Returns the layouted text as an SVG element.\n *\n * @param {string} text\n * @param {Object} options\n *\n * @return {SVGElement}\n */\nText.prototype.createText = function(text, options) {\n  return this.layoutText(text, options).element;\n};\n\n/**\n * Returns a labels layouted dimensions.\n *\n * @param {string} text to layout\n * @param {Object} options\n *\n * @return {Dimensions}\n */\nText.prototype.getDimensions = function(text, options) {\n  return this.layoutText(text, options).dimensions;\n};\n\n/**\n * Creates and returns a label and its bounding box.\n *\n * @method Text#createText\n *\n * @param {string} text the text to render on the label\n * @param {Object} options\n * @param {string} options.align how to align in the bounding box.\n *                               Any of { 'center-middle', 'center-top' },\n *                               defaults to 'center-top'.\n * @param {string} options.style style to be applied to the text\n * @param {boolean} options.fitBox indicates if box will be recalculated to\n *                                 fit text\n *\n * @return {Object} { element, dimensions }\n */\nText.prototype.layoutText = function(text, options) {\n  var box = assign({}, this._config.size, options.box),\n      style = assign({}, this._config.style, options.style),\n      align = parseAlign(options.align || this._config.align),\n      padding = parsePadding(options.padding !== undefined ? options.padding : this._config.padding),\n      fitBox = options.fitBox || false;\n\n  var lineHeight = getLineHeight(style);\n\n  // we split text by lines and normalize\n  // {soft break} + {line break} => { line break }\n  var lines = text.split(/\\u00AD?\\r?\\n/),\n      layouted = [];\n\n  var maxWidth = box.width - padding.left - padding.right;\n\n  // ensure correct rendering by attaching helper text node to invisible SVG\n  var helperText = svgCreate('text');\n  svgAttr(helperText, { x: 0, y: 0 });\n  svgAttr(helperText, style);\n\n  var helperSvg = getHelperSvg();\n\n  svgAppend(helperSvg, helperText);\n\n  while (lines.length) {\n    layouted.push(layoutNext(lines, maxWidth, helperText));\n  }\n\n  if (align.vertical === 'middle') {\n    padding.top = padding.bottom = 0;\n  }\n\n  var totalHeight = reduce(layouted, function(sum, line, idx) {\n    return sum + (lineHeight || line.height);\n  }, 0) + padding.top + padding.bottom;\n\n  var maxLineWidth = reduce(layouted, function(sum, line, idx) {\n    return line.width > sum ? line.width : sum;\n  }, 0);\n\n  // the y position of the next line\n  var y = padding.top;\n\n  if (align.vertical === 'middle') {\n    y += (box.height - totalHeight) / 2;\n  }\n\n  // magic number initial offset\n  y -= (lineHeight || layouted[0].height) / 4;\n\n\n  var textElement = svgCreate('text');\n\n  svgAttr(textElement, style);\n\n  // layout each line taking into account that parent\n  // shape might resize to fit text size\n  forEach(layouted, function(line) {\n\n    var x;\n\n    y += (lineHeight || line.height);\n\n    switch (align.horizontal) {\n    case 'left':\n      x = padding.left;\n      break;\n\n    case 'right':\n      x = ((fitBox ? maxLineWidth : maxWidth)\n        - padding.right - line.width);\n      break;\n\n    default:\n\n      // aka center\n      x = Math.max((((fitBox ? maxLineWidth : maxWidth)\n        - line.width) / 2 + padding.left), 0);\n    }\n\n    var tspan = svgCreate('tspan');\n    svgAttr(tspan, { x: x, y: y });\n\n    tspan.textContent = line.text;\n\n    svgAppend(textElement, tspan);\n  });\n\n  svgRemove(helperText);\n\n  var dimensions = {\n    width: maxLineWidth,\n    height: totalHeight\n  };\n\n  return {\n    dimensions: dimensions,\n    element: textElement\n  };\n};\n\n\nfunction getLineHeight(style) {\n  if ('fontSize' in style && 'lineHeight' in style) {\n    return style.lineHeight * parseInt(style.fontSize, 10);\n  }\n}","import { assign } from 'min-dash';\nimport TextUtil from 'diagram-js/lib/util/Text';\nvar DEFAULT_FONT_SIZE = 12;\nvar LINE_HEIGHT_RATIO = 1.2;\nvar MIN_TEXT_ANNOTATION_HEIGHT = 30;\nexport default function TextRenderer(config) {\n  var defaultStyle = assign({\n    fontFamily: 'Arial, sans-serif',\n    fontSize: DEFAULT_FONT_SIZE,\n    fontWeight: 'normal',\n    lineHeight: LINE_HEIGHT_RATIO\n  }, config && config.defaultStyle || {});\n  var fontSize = parseInt(defaultStyle.fontSize, 10) - 1;\n  var externalStyle = assign({}, defaultStyle, {\n    fontSize: fontSize\n  }, config && config.externalStyle || {});\n  var textUtil = new TextUtil({\n    style: defaultStyle\n  });\n  /**\n   * Get the new bounds of an externally rendered,\n   * layouted label.\n   *\n   * @param  {Bounds} bounds\n   * @param  {string} text\n   *\n   * @return {Bounds}\n   */\n\n  this.getExternalLabelBounds = function (bounds, text) {\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: {\n        width: 90,\n        height: 30,\n        x: bounds.width / 2 + bounds.x,\n        y: bounds.height / 2 + bounds.y\n      },\n      style: externalStyle\n    }); // resize label shape to fit label text\n\n    return {\n      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),\n      y: Math.round(bounds.y),\n      width: Math.ceil(layoutedDimensions.width),\n      height: Math.ceil(layoutedDimensions.height)\n    };\n  };\n  /**\n   * Get the new bounds of text annotation.\n   *\n   * @param  {Bounds} bounds\n   * @param  {string} text\n   *\n   * @return {Bounds}\n   */\n\n\n  this.getTextAnnotationBounds = function (bounds, text) {\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: bounds,\n      style: defaultStyle,\n      align: 'left-top',\n      padding: 5\n    });\n    return {\n      x: bounds.x,\n      y: bounds.y,\n      width: bounds.width,\n      height: Math.max(MIN_TEXT_ANNOTATION_HEIGHT, Math.round(layoutedDimensions.height))\n    };\n  };\n  /**\n   * Create a layouted text element.\n   *\n   * @param {string} text\n   * @param {Object} [options]\n   *\n   * @return {SVGElement} rendered text\n   */\n\n\n  this.createText = function (text, options) {\n    return textUtil.createText(text, options || {});\n  };\n  /**\n   * Get default text style.\n   */\n\n\n  this.getDefaultStyle = function () {\n    return defaultStyle;\n  };\n  /**\n   * Get the external text style.\n   */\n\n\n  this.getExternalStyle = function () {\n    return externalStyle;\n  };\n}\nTextRenderer.$inject = ['config.textRenderer'];\n//# sourceMappingURL=TextRenderer.js.map","/* eslint-disable max-len */\n\n/**\n * Map containing SVG paths needed by BpmnRenderer.\n */\nexport default function PathMap() {\n  /**\n   * Contains a map of path elements\n   *\n   * <h1>Path definition</h1>\n   * A parameterized path is defined like this:\n   * <pre>\n   * 'GATEWAY_PARALLEL': {\n   *   d: 'm {mx},{my} {e.x0},0 0,{e.x1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} ' +\n          '-{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z',\n   *   height: 17.5,\n   *   width:  17.5,\n   *   heightElements: [2.5, 7.5],\n   *   widthElements: [2.5, 7.5]\n   * }\n   * </pre>\n   * <p>It's important to specify a correct <b>height and width</b> for the path as the scaling\n   * is based on the ratio between the specified height and width in this object and the\n   * height and width that is set as scale target (Note x,y coordinates will be scaled with\n   * individual ratios).</p>\n   * <p>The '<b>heightElements</b>' and '<b>widthElements</b>' array must contain the values that will be scaled.\n   * The scaling is based on the computed ratios.\n   * Coordinates on the y axis should be in the <b>heightElement</b>'s array, they will be scaled using\n   * the computed ratio coefficient.\n   * In the parameterized path the scaled values can be accessed through the 'e' object in {} brackets.\n   *   <ul>\n   *    <li>The values for the y axis can be accessed in the path string using {e.y0}, {e.y1}, ....</li>\n   *    <li>The values for the x axis can be accessed in the path string using {e.x0}, {e.x1}, ....</li>\n   *   </ul>\n   *   The numbers x0, x1 respectively y0, y1, ... map to the corresponding array index.\n   * </p>\n    m1,1\n    l 0,55.3\n    c 29.8,19.7 48.4,-4.2 67.2,-6.7\n    c 12.2,-2.3 19.8,1.6 30.8,6.2\n    l 0,-54.6\n    z\n    */\n  this.pathMap = {\n    'KNOWLEDGE_SOURCE': {\n      d: 'm {mx},{my} ' + 'l 0,{e.y0} ' + 'c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} ' + 'c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} ' + 'l 0,-{e.y7}z',\n      width: 100,\n      height: 65,\n      widthElements: [29.8, 48.4, 67.2, 12.2, 19.8, 30.8],\n      heightElements: [55.3, 19.7, 4.2, 6.7, 2.3, 1.6, 6.2, 54.6]\n    },\n    'BUSINESS_KNOWLEDGE_MODEL': {\n      d: 'm {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z',\n      width: 125,\n      height: 45,\n      widthElements: [13.8, 109.2, 13.8, 109.1],\n      heightElements: [13.2, 29.8, 13.2]\n    },\n    'TEXT_ANNOTATION': {\n      d: 'm {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0',\n      width: 10,\n      height: 30,\n      widthElements: [10],\n      heightElements: [30]\n    }\n  };\n\n  this.getRawPath = function getRawPath(pathId) {\n    return this.pathMap[pathId].d;\n  };\n  /**\n   * Scales the path to the given height and width.\n   * <h1>Use case</h1>\n   * <p>Use case is to scale the content of elements (event, gateways) based\n   * on the element bounding box's size.\n   * </p>\n   * <h1>Why not transform</h1>\n   * <p>Scaling a path with transform() will also scale the stroke and IE does not support\n   * the option 'non-scaling-stroke' to prevent this.\n   * Also there are use cases where only some parts of a path should be\n   * scaled.</p>\n   *\n   * @param {string} pathId The ID of the path.\n   * @param {Object} param <p>\n   *   Example param object scales the path to 60% size of the container (data.width, data.height).\n   *   <pre>\n   *   {\n   *     xScaleFactor: 0.6,\n   *     yScaleFactor:0.6,\n   *     containerWidth: data.width,\n   *     containerHeight: data.height,\n   *     position: {\n   *       mx: 0.46,\n   *       my: 0.2,\n   *     }\n   *   }\n   *   </pre>\n   *   <ul>\n   *    <li>targetpathwidth = xScaleFactor * containerWidth</li>\n   *    <li>targetpathheight = yScaleFactor * containerHeight</li>\n   *    <li>Position is used to set the starting coordinate of the path. M is computed:\n    *    <ul>\n    *      <li>position.x * containerWidth</li>\n    *      <li>position.y * containerHeight</li>\n    *    </ul>\n    *    Center of the container <pre> position: {\n   *       mx: 0.5,\n   *       my: 0.5,\n   *     }</pre>\n   *     Upper left corner of the container\n   *     <pre> position: {\n   *       mx: 0.0,\n   *       my: 0.0,\n   *     }</pre>\n   *    </li>\n   *   </ul>\n   * </p>\n   *\n   */\n\n\n  this.getScaledPath = function getScaledPath(pathId, param) {\n    var rawPath = this.pathMap[pathId]; // positioning\n    // compute the start point of the path\n\n    var mx, my;\n\n    if (param.abspos) {\n      mx = param.abspos.x;\n      my = param.abspos.y;\n    } else {\n      mx = param.containerWidth * param.position.mx;\n      my = param.containerHeight * param.position.my;\n    }\n\n    var coordinates = {}; // map for the scaled coordinates\n\n    if (param.position) {\n      // path\n      var heightRatio = param.containerHeight / rawPath.height * param.yScaleFactor;\n      var widthRatio = param.containerWidth / rawPath.width * param.xScaleFactor; // Apply height ratio\n\n      for (var heightIndex = 0; heightIndex < rawPath.heightElements.length; heightIndex++) {\n        coordinates['y' + heightIndex] = rawPath.heightElements[heightIndex] * heightRatio;\n      } // Apply width ratio\n\n\n      for (var widthIndex = 0; widthIndex < rawPath.widthElements.length; widthIndex++) {\n        coordinates['x' + widthIndex] = rawPath.widthElements[widthIndex] * widthRatio;\n      }\n    } // Apply value to raw path\n\n\n    var path = format(rawPath.d, {\n      mx: mx,\n      my: my,\n      e: coordinates\n    });\n    return path;\n  };\n} // helpers //////////////////////\n// copied and adjusted from https://github.com/adobe-webplatform/Snap.svg/blob/master/src/svg.js\n\nvar tokenRegex = /\\{([^{}]+)\\}/g,\n    objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g; // matches .xxxxx or [\"xxxxx\"] to run over object properties\n\nfunction replacer(all, key, obj) {\n  var res = obj;\n  key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n    name = name || quotedName;\n\n    if (res) {\n      if (name in res) {\n        res = res[name];\n      }\n\n      typeof res == 'function' && isFunc && (res = res());\n    }\n  });\n  res = (res == null || res == obj ? all : res) + '';\n  return res;\n}\n\nfunction format(str, obj) {\n  return String(str).replace(tokenRegex, function (all, key) {\n    return replacer(all, key, obj);\n  });\n}\n//# sourceMappingURL=PathMap.js.map","import DrdRenderer from './DrdRenderer';\nimport TextRenderer from './TextRenderer';\nimport PathMap from './PathMap';\nexport default {\n  __init__: ['drdRenderer'],\n  drdRenderer: ['type', DrdRenderer],\n  textRenderer: ['type', TextRenderer],\n  pathMap: ['type', PathMap]\n};\n//# sourceMappingURL=index.js.map","import { assign, map } from 'min-dash';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nexport default function DrdImporter(eventBus, canvas, elementFactory, elementRegistry) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n  this._elementFactory = elementFactory;\n}\nDrdImporter.$inject = ['eventBus', 'canvas', 'elementFactory', 'elementRegistry'];\n\nDrdImporter.prototype.root = function (semantic) {\n  var element = this._elementFactory.createRoot(elementData(semantic));\n\n  this._canvas.setRootElement(element);\n\n  return element;\n};\n/**\n * Add drd element (semantic) to the canvas.\n */\n\n\nDrdImporter.prototype.add = function (semantic) {\n  var elementFactory = this._elementFactory,\n      canvas = this._canvas,\n      eventBus = this._eventBus,\n      di = semantic.di;\n  var element, waypoints, source, target, elementDefinition, bounds;\n\n  if (di.$instanceOf('dmndi:DMNShape')) {\n    bounds = di.bounds;\n    elementDefinition = elementData(semantic, {\n      x: Math.round(bounds.x),\n      y: Math.round(bounds.y),\n      width: Math.round(bounds.width),\n      height: Math.round(bounds.height)\n    });\n    element = elementFactory.createShape(elementDefinition);\n    canvas.addShape(element);\n    eventBus.fire('drdElement.added', {\n      element: element,\n      di: di\n    });\n  } else if (di.$instanceOf('dmndi:DMNEdge')) {\n    waypoints = collectWaypoints(di);\n    source = this._getSource(semantic);\n    target = this._getTarget(semantic);\n\n    if (source && target) {\n      elementDefinition = elementData(semantic, {\n        hidden: false,\n        source: source,\n        target: target,\n        waypoints: waypoints\n      });\n      element = elementFactory.createConnection(elementDefinition);\n      canvas.addConnection(element);\n      eventBus.fire('drdElement.added', {\n        element: element,\n        di: di\n      });\n    }\n  } else {\n    throw new Error('unknown di for element ' + semantic.id);\n  }\n\n  return element;\n};\n\nDrdImporter.prototype._getSource = function (semantic) {\n  var href, elementReference;\n\n  if (is(semantic, 'dmn:Association')) {\n    elementReference = semantic.sourceRef;\n  } else if (is(semantic, 'dmn:InformationRequirement')) {\n    elementReference = semantic.requiredDecision || semantic.requiredInput;\n  } else if (is(semantic, 'dmn:KnowledgeRequirement')) {\n    elementReference = semantic.requiredKnowledge;\n  } else if (is(semantic, 'dmn:AuthorityRequirement')) {\n    elementReference = semantic.requiredDecision || semantic.requiredInput || semantic.requiredAuthority;\n  }\n\n  if (elementReference) {\n    href = elementReference.href;\n  }\n\n  if (href) {\n    return this._getShape(getIdFromHref(href));\n  }\n};\n\nDrdImporter.prototype._getTarget = function (semantic) {\n  if (is(semantic, 'dmn:Association')) {\n    return semantic.targetRef && this._getShape(getIdFromHref(semantic.targetRef.href));\n  }\n\n  return this._getShape(semantic.$parent.id);\n};\n\nDrdImporter.prototype._getShape = function (id) {\n  return this._elementRegistry.get(id);\n}; // helper /////\n\n\nfunction elementData(semantic, attrs) {\n  return assign({\n    id: semantic.id,\n    type: semantic.$type,\n    businessObject: semantic\n  }, attrs);\n}\n\nfunction collectWaypoints(edge) {\n  var waypoints = edge.waypoint;\n\n  if (waypoints) {\n    return map(waypoints, function (waypoint) {\n      var position = {\n        x: waypoint.x,\n        y: waypoint.y\n      };\n      return assign({\n        original: position\n      }, position);\n    });\n  }\n}\n\nfunction getIdFromHref(href) {\n  return href.split('#').pop();\n}\n//# sourceMappingURL=DrdImporter.js.map","import DrdImporter from './DrdImporter';\nexport default {\n  drdImporter: ['type', DrdImporter]\n};\n//# sourceMappingURL=index.js.map","import DrawModule from '../draw';\nimport ImportModule from '../import';\nexport default {\n  __depends__: [DrawModule, ImportModule]\n};\n//# sourceMappingURL=index.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { domify, classes as domClasses, delegate as domDelegate } from 'min-dom';\nvar PROVIDERS = [{\n  className: 'dmn-icon-decision-table',\n  matches: function matches(el) {\n    var businessObject = el.businessObject;\n    return is(businessObject, 'dmn:Decision') && is(businessObject.decisionLogic, 'dmn:DecisionTable');\n  }\n}, {\n  className: 'dmn-icon-literal-expression',\n  matches: function matches(el) {\n    var businessObject = el.businessObject;\n    return is(businessObject, 'dmn:Decision') && is(businessObject.decisionLogic, 'dmn:LiteralExpression');\n  }\n}];\n/**\n * Displays overlays that can be clicked in order to drill\n * down into a DMN element.\n */\n\nvar DrillDown = /*#__PURE__*/function () {\n  function DrillDown(injector, eventBus, overlays, config) {\n    var _this = this;\n\n    _classCallCheck(this, DrillDown);\n\n    this._injector = injector;\n    this._eventBus = eventBus;\n    this._overlays = overlays;\n    this._config = config || {\n      enabled: true\n    };\n    eventBus.on(['shape.added'], function (_ref) {\n      var element = _ref.element;\n\n      for (var i = 0; i < PROVIDERS.length; i++) {\n        var _PROVIDERS$i = PROVIDERS[i],\n            matches = _PROVIDERS$i.matches,\n            className = _PROVIDERS$i.className;\n        var editable = matches && matches(element);\n\n        if (editable) {\n          _this.addOverlay(element, className);\n        }\n      }\n    });\n  }\n  /**\n   * Add overlay to an element that enables drill down.\n   *\n   * @param {Object} element Element to add overlay to.\n   * @param {string} className\n   *        CSS class that will be added to overlay in order to display icon.\n   */\n\n\n  _createClass(DrillDown, [{\n    key: \"addOverlay\",\n    value: function addOverlay(element, className) {\n      var html = domify(\"\\n      <div class=\\\"drill-down-overlay\\\">\\n        <span class=\\\"\".concat(className, \"\\\"></span>\\n      </div>\\n    \"));\n\n      var overlayId = this._overlays.add(element, {\n        position: {\n          top: 2,\n          left: 2\n        },\n        html: html\n      }); // TODO(nikku): can we remove renamed to drillDown.enabled\n\n\n      if (this._config.enabled !== false) {\n        domClasses(html).add('interactive');\n        this.bindEventListener(element, html, overlayId);\n      }\n    }\n    /**\n     * @param {Object} element\n     * @param {Object} overlay\n     * @param {string} id\n     */\n\n  }, {\n    key: \"bindEventListener\",\n    value: function bindEventListener(element, overlay, id) {\n      var _this2 = this;\n\n      var overlays = this._overlays,\n          eventBus = this._eventBus;\n      var overlaysRoot = overlays._overlayRoot;\n      domDelegate.bind(overlaysRoot, '[data-overlay-id=\"' + id + '\"]', 'click', function () {\n        var triggerDefault = eventBus.fire('drillDown.click', {\n          element: element\n        });\n\n        if (triggerDefault === false) {\n          return;\n        }\n\n        _this2.drillDown(element);\n      });\n    }\n    /**\n     * Drill down into the specific element.\n     *\n     * @param  {djs.model.Base} element\n     *\n     * @return {boolean} whether drill down was executed\n     */\n\n  }, {\n    key: \"drillDown\",\n    value: function drillDown(element) {\n      var parent = this._injector.get('_parent', false); // no parent; skip drill down\n\n\n      if (!parent) {\n        return false;\n      }\n\n      var view = parent.getView(element.businessObject); // no view to drill down to\n\n      if (!view) {\n        return false;\n      }\n\n      parent.open(view);\n      return true;\n    }\n  }]);\n\n  return DrillDown;\n}();\n\nexport { DrillDown as default };\nDrillDown.$inject = ['injector', 'eventBus', 'overlays', 'config.drillDown'];\n//# sourceMappingURL=DrillDown.js.map","import OverlaysModule from 'diagram-js/lib/features/overlays';\nimport DrillDown from './DrillDown';\nexport default {\n  __depends__: [OverlaysModule],\n  __init__: ['drillDown'],\n  drillDown: ['type', DrillDown]\n};\n//# sourceMappingURL=index.js.map","/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\nimport { domify, delegate as domDelegate } from 'min-dom'; // inlined ../../../../resources/logo.svg\n// eslint-disable-next-line\n\nvar BPMNIO_LOGO_SVG = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.02 5.57\" width=\"53\" height=\"21\" style=\"vertical-align:middle\"><path fill=\"#000000\" d=\"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"/><path fill=\"#000000\" d=\"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\"/></svg>';\nexport var BPMNIO_IMG = BPMNIO_LOGO_SVG;\n\nfunction css(attrs) {\n  return attrs.join(';');\n}\n\nvar LIGHTBOX_STYLES = css(['z-index: 1001', 'position: fixed', 'top: 0', 'left: 0', 'right: 0', 'bottom: 0']);\nvar BACKDROP_STYLES = css(['width: 100%', 'height: 100%', 'background: rgba(40,40,40,0.2)']);\nvar NOTICE_STYLES = css(['position: absolute', 'left: 50%', 'top: 40%', 'transform: translate(-50%)', 'width: 260px', 'padding: 10px', 'background: white', 'box-shadow: 0 1px 4px rgba(0,0,0,0.3)', 'font-family: Helvetica, Arial, sans-serif', 'font-size: 14px', 'display: flex', 'line-height: 1.3']);\n/* eslint-disable max-len */\n\nvar LIGHTBOX_MARKUP = '<div class=\"bjs-powered-by-lightbox\" style=\"' + LIGHTBOX_STYLES + '\">' + '<div class=\"backdrop\" style=\"' + BACKDROP_STYLES + '\"></div>' + '<div class=\"notice\" style=\"' + NOTICE_STYLES + '\">' + '<a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\" style=\"margin: 15px 20px 15px 10px; align-self: center;' + '\">' + BPMNIO_IMG + '</a>' + '<span>' + 'Web-based tooling for BPMN, DMN and CMMN diagrams ' + 'powered by <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\">bpmn.io</a>.' + '</span>' + '</div>' + '</div>';\n/* eslint-enable */\n\nvar lightbox;\nexport function open() {\n  if (!lightbox) {\n    lightbox = domify(LIGHTBOX_MARKUP);\n    domDelegate.bind(lightbox, '.backdrop', 'click', function (event) {\n      document.body.removeChild(lightbox);\n    });\n  }\n\n  document.body.appendChild(lightbox);\n}\n//# sourceMappingURL=PoweredByUtil.js.map","var _excluded = [\"additionalModules\", \"canvas\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/**\n * The code in the <project-logo></project-logo> area\n * must not be changed.\n *\n * @see http://bpmn.io/license for more information.\n */\nimport { domify, query as domQuery, remove as domRemove } from 'min-dom';\nimport Diagram from 'diagram-js';\nimport inherits from 'inherits';\nimport { importDRD } from './import/Importer';\nimport { innerSVG } from 'tiny-svg';\nimport { wrapForCompatibility } from 'dmn-js-shared/lib/util/CompatibilityUtils';\n/**\n * @typedef {import('dmn-js-shared/lib/base/View).OpenResult} OpenResult\n */\n\n/**\n * @typedef {import('dmn-js-shared/lib/base/View).OpenError} OpenError\n */\n\n/**\n * A viewer for DMN diagrams.\n *\n * Have a look at {@link NavigatedViewer} or {@link Modeler} for bundles that include\n * additional features.\n *\n *\n * ## Extending the Viewer\n *\n * In order to extend the viewer pass extension modules to bootstrap via the\n * `additionalModules` option. An extension module is an object that exposes\n * named services.\n *\n * The following example depicts the integration of a simple\n * logging component that integrates with interaction events:\n *\n *\n * ```javascript\n *\n * // logging component\n * function InteractionLogger(eventBus) {\n *   eventBus.on('element.hover', function(event) {\n *     console.log()\n *   })\n * }\n *\n * InteractionLogger.$inject = [ 'eventBus' ]; // minification save\n *\n * // extension module\n * var extensionModule = {\n *   __init__: [ 'interactionLogger' ],\n *   interactionLogger: [ 'type', InteractionLogger ]\n * };\n *\n * // extend the viewer\n * var drdViewer = new Viewer({ additionalModules: [ extensionModule ] });\n * drdViewer.importXML(...);\n * ```\n *\n * @param {Object} options configuration options to pass to the viewer\n * @param {DOMElement} [options.container]\n *        the container to render the viewer in, defaults to body\n * @param {Array<didi.Module>} [options.modules]\n *        a list of modules to override the default modules\n * @param {Array<didi.Module>} [options.additionalModules]\n *        a list of modules to use with the default modules\n */\n\nexport default function Viewer(options) {\n  this._container = this._createContainer();\n  /* <project-logo> */\n\n  addProjectLogo(this._container);\n  /* </project-logo> */\n\n  this._init(this._container, options);\n}\ninherits(Viewer, Diagram);\n/**\n * The saveSVG result.\n *\n * @typedef {Object} SaveSVGResult\n *\n * @property {string} svg\n */\n\n/**\n * Export the currently displayed DMN diagram as\n * an SVG image.\n *\n * @param {Object} [options]\n *\n * @return {Promise<SaveSVGResult>}\n */\n\nViewer.prototype.saveSVG = wrapForCompatibility(function (options) {\n  var self = this;\n  return new Promise(function (resolve) {\n    var canvas = self.get('canvas');\n    var contentNode = canvas.getDefaultLayer(),\n        defsNode = domQuery('defs', canvas._svg);\n    var contents = innerSVG(contentNode),\n        defs = defsNode && defsNode.outerHTML || '';\n    var bbox = contentNode.getBBox();\n    /* eslint-disable max-len */\n\n    var svg = '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' + '<!-- created with dmn-js / http://bpmn.io -->\\n' + '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' + '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' + 'width=\"' + bbox.width + '\" height=\"' + bbox.height + '\" ' + 'viewBox=\"' + bbox.x + ' ' + bbox.y + ' ' + bbox.width + ' ' + bbox.height + '\" version=\"1.1\">' + defs + contents + '</svg>';\n    /* eslint-enable */\n\n    resolve({\n      svg: svg\n    });\n  });\n});\n\nViewer.prototype.getModules = function () {\n  return this._modules;\n};\n/**\n * Destroy the viewer instance and remove all its\n * remainders from the document tree.\n */\n\n\nViewer.prototype.destroy = function () {\n  // diagram destroy\n  Diagram.prototype.destroy.call(this); // dom detach\n\n  domRemove(this._container);\n};\n/**\n * Register an event listener\n *\n * Remove a previously added listener via {@link #off(event, callback)}.\n *\n * @param {string} event\n * @param {number} [priority]\n * @param {Function} callback\n * @param {Object} [that]\n */\n\n\nViewer.prototype.on = function (event, priority, callback, target) {\n  return this.get('eventBus').on(event, priority, callback, target);\n};\n/**\n * De-register an event listener\n *\n * @param {string} event\n * @param {Function} callback\n */\n\n\nViewer.prototype.off = function (event, callback) {\n  this.get('eventBus').off(event, callback);\n};\n\nViewer.prototype._init = function (container, options) {\n  var additionalModules = options.additionalModules,\n      canvas = options.canvas,\n      additionalOptions = _objectWithoutProperties(options, _excluded);\n\n  var baseModules = options.modules || this.getModules(),\n      staticModules = [{\n    drd: ['value', this]\n  }];\n  var modules = [].concat(staticModules, _toConsumableArray(baseModules), _toConsumableArray(additionalModules || []));\n\n  var diagramOptions = _objectSpread(_objectSpread({}, additionalOptions), {}, {\n    canvas: _objectSpread(_objectSpread({}, canvas), {}, {\n      container: container\n    }),\n    modules: modules\n  }); // invoke diagram constructor\n\n\n  Diagram.call(this, diagramOptions);\n\n  if (options && options.container) {\n    this.attachTo(options.container);\n  }\n};\n/**\n * Emit an event on the underlying {@link EventBus}\n *\n * @param  {string} type\n * @param  {Object} event\n *\n * @return {Object} event processing result (if any)\n */\n\n\nViewer.prototype._emit = function (type, event) {\n  return this.get('eventBus').fire(type, event);\n};\n\nViewer.prototype._createContainer = function () {\n  return domify('<div class=\"dmn-drd-container\"></div>');\n};\n/**\n * Open diagram element.\n *\n * @param  {ModdleElement} definitions\n * @returns {Promise} Resolves with {OpenResult} when successful\n * or rejects with {OpenError}\n */\n\n\nViewer.prototype.open = function (definitions) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    var err; // use try/catch to not swallow synchronous exceptions\n    // that may be raised during model parsing\n\n    try {\n      if (self._definitions) {\n        // clear existing rendered diagram\n        self.clear();\n      } // update definitions\n\n\n      self._definitions = definitions; // perform graphical import\n\n      return importDRD(self, definitions, function (err, warnings) {\n        if (err) {\n          err.warnings = warnings || [];\n          reject(err);\n        } else {\n          resolve({\n            warnings: warnings || []\n          });\n        }\n      });\n    } catch (e) {\n      err = e;\n    }\n\n    if (err) {\n      err.warnings = err.warnings || [];\n      reject(err);\n    } else {\n      resolve({\n        warnings: []\n      });\n    }\n  });\n};\n/**\n * Attach viewer to given parent node.\n *\n * @param  {Element} parentNode\n */\n\n\nViewer.prototype.attachTo = function (parentNode) {\n  if (!parentNode) {\n    throw new Error('parentNode required');\n  } // ensure we detach from the\n  // previous, old parent\n\n\n  this.detach();\n  var container = this._container;\n  parentNode.appendChild(container);\n\n  this._emit('attach', {});\n\n  this.get('canvas').resized();\n};\n/**\n * Detach viewer from parent node, if attached.\n */\n\n\nViewer.prototype.detach = function () {\n  var container = this._container,\n      parentNode = container.parentNode;\n\n  if (!parentNode) {\n    return;\n  }\n\n  this._emit('detach', {});\n\n  parentNode.removeChild(container);\n};\n\nimport CoreModule from './core';\nimport TranslateModule from 'diagram-js/lib/i18n/translate';\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport OverlaysModule from 'diagram-js/lib/features/overlays';\nimport DefinitionPropertiesModule from './features/definition-properties/viewer';\nimport DrillDownModule from './features/drill-down';\nViewer.prototype._modules = [CoreModule, TranslateModule, SelectionModule, OverlaysModule, DefinitionPropertiesModule, DrillDownModule];\n/* <project-logo> */\n\nimport { BPMNIO_IMG, open as openPoweredBy } from './util/PoweredByUtil';\nimport { event as domEvent } from 'min-dom';\n/**\n * Adds the project logo to the diagram container as\n * required by the bpmn.io license.\n *\n * @see http://bpmn.io/license\n *\n * @param {Element} container\n */\n\nfunction addProjectLogo(container) {\n  var linkMarkup = '<a href=\"http://bpmn.io\" ' + 'target=\"_blank\" ' + 'class=\"bjs-powered-by\" ' + 'title=\"Powered by bpmn.io\" ' + 'style=\"position: absolute; bottom: 15px; right: 15px; z-index: 100;\">' + BPMNIO_IMG + '</a>';\n  var linkElement = domify(linkMarkup);\n  container.appendChild(linkElement);\n  domEvent.bind(linkElement, 'click', function (event) {\n    openPoweredBy();\n    event.preventDefault();\n  });\n}\n/* </project-logo> */\n//# sourceMappingURL=Viewer.js.map","/**\n * Get the logarithm of x with base 10\n * @param  {Integer} value\n */\nexport function log10(x) {\n  return Math.log(x) / Math.log(10);\n}\n\nexport { delta as substract } from './PositionUtil';\n","import {\n  log10\n} from '../../util/Math';\n\n/**\n * Get step size for given range and number of steps.\n *\n * @param {Object} range\n * @param {number} range.min\n * @param {number} range.max\n */\nexport function getStepSize(range, steps) {\n\n  var minLinearRange = log10(range.min),\n      maxLinearRange = log10(range.max);\n\n  var absoluteLinearRange = Math.abs(minLinearRange) + Math.abs(maxLinearRange);\n\n  return absoluteLinearRange / steps;\n}\n\nexport function cap(range, scale) {\n  return Math.max(range.min, Math.min(range.max, scale));\n}\n","import DrdTreeWalker from './DrdTreeWalker';\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {Drd} drd\n * @param  {ModdleElement} definitions\n * @param  {Function} done\n *         the callback, invoked with (err, [ warning ]) once the import is done\n */\n\nexport function importDRD(drd, definitions, done) {\n  var importer = drd.get('drdImporter'),\n      eventBus = drd.get('eventBus');\n  var error,\n      warnings = [];\n\n  function render(definitions) {\n    var visitor = {\n      root: function root(element) {\n        return importer.root(element);\n      },\n      element: function element(_element, di) {\n        return importer.add(_element, di);\n      },\n      error: function error(message, context) {\n        warnings.push({\n          message: message,\n          context: context\n        });\n      }\n    };\n    var walker = new DrdTreeWalker(visitor); // import\n\n    walker.handleDefinitions(definitions);\n  }\n\n  eventBus.fire('import.start', {\n    definitions: definitions\n  });\n\n  try {\n    render(definitions);\n  } catch (e) {\n    error = e;\n  }\n\n  eventBus.fire('import.done', {\n    error: error,\n    warnings: warnings\n  });\n  done(error, warnings);\n}\n//# sourceMappingURL=Importer.js.map","import {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  getStepSize,\n  cap\n} from './ZoomUtil';\n\nimport {\n  log10\n} from '../../util/Math';\n\nimport {\n  bind\n} from 'min-dash';\n\nvar sign = Math.sign || function(n) {\n  return n >= 0 ? 1 : -1;\n};\n\nvar RANGE = { min: 0.2, max: 4 },\n    NUM_STEPS = 10;\n\nvar DELTA_THRESHOLD = 0.1;\n\nvar DEFAULT_SCALE = 0.75;\n\n/**\n * An implementation of zooming and scrolling within the\n * {@link Canvas} via the mouse wheel.\n *\n * Mouse wheel zooming / scrolling may be disabled using\n * the {@link toggle(enabled)} method.\n *\n * @param {Object} [config]\n * @param {boolean} [config.enabled=true] default enabled state\n * @param {number} [config.scale=.75] scroll sensivity\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ZoomScroll(config, eventBus, canvas) {\n\n  config = config || {};\n\n  this._enabled = false;\n\n  this._canvas = canvas;\n  this._container = canvas._container;\n\n  this._handleWheel = bind(this._handleWheel, this);\n\n  this._totalDelta = 0;\n  this._scale = config.scale || DEFAULT_SCALE;\n\n  var self = this;\n\n  eventBus.on('canvas.init', function(e) {\n    self._init(config.enabled !== false);\n  });\n}\n\nZoomScroll.$inject = [\n  'config.zoomScroll',\n  'eventBus',\n  'canvas'\n];\n\nZoomScroll.prototype.scroll = function scroll(delta) {\n  this._canvas.scroll(delta);\n};\n\n\nZoomScroll.prototype.reset = function reset() {\n  this._canvas.zoom('fit-viewport');\n};\n\n/**\n * Zoom depending on delta.\n *\n * @param {number} delta\n * @param {Object} position\n */\nZoomScroll.prototype.zoom = function zoom(delta, position) {\n\n  // zoom with half the step size of stepZoom\n  var stepSize = getStepSize(RANGE, NUM_STEPS * 2);\n\n  // add until threshold reached\n  this._totalDelta += delta;\n\n  if (Math.abs(this._totalDelta) > DELTA_THRESHOLD) {\n    this._zoom(delta, position, stepSize);\n\n    // reset\n    this._totalDelta = 0;\n  }\n};\n\n\nZoomScroll.prototype._handleWheel = function handleWheel(event) {\n\n  // event is already handled by '.djs-scrollable'\n  if (domClosest(event.target, '.djs-scrollable', true)) {\n    return;\n  }\n\n  var element = this._container;\n\n  event.preventDefault();\n\n  // pinch to zoom is mapped to wheel + ctrlKey = true\n  // in modern browsers (!)\n\n  var isZoom = event.ctrlKey;\n\n  var isHorizontalScroll = event.shiftKey;\n\n  var factor = -1 * this._scale,\n      delta;\n\n  if (isZoom) {\n    factor *= event.deltaMode === 0 ? 0.020 : 0.32;\n  } else {\n    factor *= event.deltaMode === 0 ? 1.0 : 16.0;\n  }\n\n  if (isZoom) {\n    var elementRect = element.getBoundingClientRect();\n\n    var offset = {\n      x: event.clientX - elementRect.left,\n      y: event.clientY - elementRect.top\n    };\n\n    delta = (\n      Math.sqrt(\n        Math.pow(event.deltaY, 2) +\n        Math.pow(event.deltaX, 2)\n      ) * sign(event.deltaY) * factor\n    );\n\n    // zoom in relative to diagram {x,y} coordinates\n    this.zoom(delta, offset);\n  } else {\n\n    if (isHorizontalScroll) {\n      delta = {\n        dx: factor * event.deltaY,\n        dy: 0\n      };\n    } else {\n      delta = {\n        dx: factor * event.deltaX,\n        dy: factor * event.deltaY\n      };\n    }\n\n    this.scroll(delta);\n  }\n};\n\n/**\n * Zoom with fixed step size.\n *\n * @param {number} delta - Zoom delta (1 for zooming in, -1 for out).\n * @param {Object} position\n */\nZoomScroll.prototype.stepZoom = function stepZoom(delta, position) {\n\n  var stepSize = getStepSize(RANGE, NUM_STEPS);\n\n  this._zoom(delta, position, stepSize);\n};\n\n\n/**\n * Zoom in/out given a step size.\n *\n * @param {number} delta\n * @param {Object} position\n * @param {number} stepSize\n */\nZoomScroll.prototype._zoom = function(delta, position, stepSize) {\n  var canvas = this._canvas;\n\n  var direction = delta > 0 ? 1 : -1;\n\n  var currentLinearZoomLevel = log10(canvas.zoom());\n\n  // snap to a proximate zoom step\n  var newLinearZoomLevel = Math.round(currentLinearZoomLevel / stepSize) * stepSize;\n\n  // increase or decrease one zoom step in the given direction\n  newLinearZoomLevel += stepSize * direction;\n\n  // calculate the absolute logarithmic zoom level based on the linear zoom level\n  // (e.g. 2 for an absolute x2 zoom)\n  var newLogZoomLevel = Math.pow(10, newLinearZoomLevel);\n\n  canvas.zoom(cap(RANGE, newLogZoomLevel), position);\n};\n\n\n/**\n * Toggle the zoom scroll ability via mouse wheel.\n *\n * @param  {boolean} [newEnabled] new enabled state\n */\nZoomScroll.prototype.toggle = function toggle(newEnabled) {\n\n  var element = this._container;\n  var handleWheel = this._handleWheel;\n\n  var oldEnabled = this._enabled;\n\n  if (typeof newEnabled === 'undefined') {\n    newEnabled = !oldEnabled;\n  }\n\n  // only react on actual changes\n  if (oldEnabled !== newEnabled) {\n\n    // add or remove wheel listener based on\n    // changed enabled state\n    domEvent[newEnabled ? 'bind' : 'unbind'](element, 'wheel', handleWheel, false);\n  }\n\n  this._enabled = newEnabled;\n\n  return newEnabled;\n};\n\n\nZoomScroll.prototype._init = function(newEnabled) {\n  this.toggle(newEnabled);\n};\n","import ZoomScroll from './ZoomScroll';\n\nexport default {\n  __init__: [ 'zoomScroll' ],\n  zoomScroll: [ 'type', ZoomScroll ]\n};","import {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nimport {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n\nvar THRESHOLD = 15;\n\n\n/**\n * Move the canvas via mouse.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function MoveCanvas(eventBus, canvas) {\n\n  var context;\n\n\n  // listen for move on element mouse down;\n  // allow others to hook into the event before us though\n  // (dragging / element moving will do this)\n  eventBus.on('element.mousedown', 500, function(e) {\n    return handleStart(e.originalEvent);\n  });\n\n\n  function handleMove(event) {\n\n    var start = context.start,\n        button = context.button,\n        position = toPoint(event),\n        delta = deltaPos(position, start);\n\n    if (!context.dragging && length(delta) > THRESHOLD) {\n      context.dragging = true;\n\n      if (button === 0) {\n        installClickTrap(eventBus);\n      }\n\n      cursorSet('grab');\n    }\n\n    if (context.dragging) {\n\n      var lastPosition = context.last || context.start;\n\n      delta = deltaPos(position, lastPosition);\n\n      canvas.scroll({\n        dx: delta.x,\n        dy: delta.y\n      });\n\n      context.last = position;\n    }\n\n    // prevent select\n    event.preventDefault();\n  }\n\n\n  function handleEnd(event) {\n    domEvent.unbind(document, 'mousemove', handleMove);\n    domEvent.unbind(document, 'mouseup', handleEnd);\n\n    context = null;\n\n    cursorUnset();\n  }\n\n  function handleStart(event) {\n\n    // event is already handled by '.djs-draggable'\n    if (domClosest(event.target, '.djs-draggable')) {\n      return;\n    }\n\n    var button = event.button;\n\n    // reject right mouse button or modifier key\n    if (button >= 2 || event.ctrlKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    context = {\n      button: button,\n      start: toPoint(event)\n    };\n\n    domEvent.bind(document, 'mousemove', handleMove);\n    domEvent.bind(document, 'mouseup', handleEnd);\n\n    // we've handled the event\n    return true;\n  }\n\n  this.isActive = function() {\n    return !!context;\n  };\n\n}\n\n\nMoveCanvas.$inject = [\n  'eventBus',\n  'canvas'\n];\n\n\n\n// helpers ///////\n\nfunction length(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n","import MoveCanvas from './MoveCanvas';\n\nexport default {\n  __init__: [ 'moveCanvas' ],\n  moveCanvas: [ 'type', MoveCanvas ]\n};","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport Hammer from 'hammerjs';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\nvar MIN_ZOOM = 0.2,\n    MAX_ZOOM = 4;\n\nvar mouseEvents = [\n  'mousedown',\n  'mouseup',\n  'mouseover',\n  'mouseout',\n  'click',\n  'dblclick'\n];\n\nfunction log() {\n\n  // console.log.apply(console, arguments);\n}\n\nfunction get(service, injector) {\n  return injector.get(service, false);\n}\n\nfunction stopEvent(event) {\n\n  event.preventDefault();\n\n  if (typeof event.stopPropagation === 'function') {\n    event.stopPropagation();\n  } else if (event.srcEvent && typeof event.srcEvent.stopPropagation === 'function') {\n\n    // iPhone & iPad\n    event.srcEvent.stopPropagation();\n  }\n\n  if (typeof event.stopImmediatePropagation === 'function') {\n    event.stopImmediatePropagation();\n  }\n}\n\n\nfunction createTouchRecognizer(node) {\n\n  function stopMouse(event) {\n\n    forEach(mouseEvents, function(e) {\n      domEvent.bind(node, e, stopEvent, true);\n    });\n  }\n\n  function allowMouse(event) {\n    setTimeout(function() {\n      forEach(mouseEvents, function(e) {\n        domEvent.unbind(node, e, stopEvent, true);\n      });\n    }, 500);\n  }\n\n  domEvent.bind(node, 'touchstart', stopMouse, true);\n  domEvent.bind(node, 'touchend', allowMouse, true);\n  domEvent.bind(node, 'touchcancel', allowMouse, true);\n\n  // A touch event recognizer that handles\n  // touch events only (we know, we can already handle\n  // mouse events out of the box)\n\n  var recognizer = new Hammer.Manager(node, {\n    inputClass: Hammer.TouchInput,\n    recognizers: [],\n    domEvents: true\n  });\n\n\n  var tap = new Hammer.Tap();\n  var pan = new Hammer.Pan({ threshold: 10 });\n  var press = new Hammer.Press();\n  var pinch = new Hammer.Pinch();\n\n  var doubleTap = new Hammer.Tap({ event: 'doubletap', taps: 2 });\n\n  pinch.requireFailure(pan);\n  pinch.requireFailure(press);\n\n  recognizer.add([ pan, press, pinch, doubleTap, tap ]);\n\n  recognizer.reset = function(force) {\n    var recognizers = this.recognizers,\n        session = this.session;\n\n    if (session.stopped) {\n      return;\n    }\n\n    log('recognizer', 'stop');\n\n    recognizer.stop(force);\n\n    setTimeout(function() {\n      var i, r;\n\n      log('recognizer', 'reset');\n      for (i = 0; (r = recognizers[i]); i++) {\n        r.reset();\n        r.state = 8; // FAILED STATE\n      }\n\n      session.curRecognizer = null;\n    }, 0);\n  };\n\n  recognizer.on('hammer.input', function(event) {\n    if (event.srcEvent.defaultPrevented) {\n      recognizer.reset(true);\n    }\n  });\n\n  return recognizer;\n}\n\n/**\n * A plugin that provides touch events for elements.\n *\n * @param {EventBus} eventBus\n * @param {InteractionEvents} interactionEvents\n */\nexport default function TouchInteractionEvents(\n    injector, canvas, eventBus,\n    elementRegistry, interactionEvents) {\n\n  // optional integrations\n  var dragging = get('dragging', injector),\n      move = get('move', injector),\n      contextPad = get('contextPad', injector),\n      palette = get('palette', injector);\n\n  // the touch recognizer\n  var recognizer;\n\n  function handler(type, buttonType) {\n\n    return function(event) {\n      log('element', type, event);\n\n      var gfx = getGfx(event.target),\n          element = gfx && elementRegistry.get(gfx);\n\n      // translate into an actual mouse click event\n      if (buttonType) {\n        event.srcEvent.button = buttonType;\n      }\n\n      return interactionEvents.fire(type, event, element);\n    };\n  }\n\n\n  function getGfx(target) {\n    var node = domClosest(target, 'svg, .djs-element', true);\n    return node;\n  }\n\n  function initEvents(svg) {\n\n    // touch recognizer\n    recognizer = createTouchRecognizer(svg);\n\n    function startGrabCanvas(event) {\n\n      log('canvas', 'grab start');\n\n      var lx = 0, ly = 0;\n\n      function update(e) {\n\n        var dx = e.deltaX - lx,\n            dy = e.deltaY - ly;\n\n        canvas.scroll({ dx: dx, dy: dy });\n\n        lx = e.deltaX;\n        ly = e.deltaY;\n      }\n\n      function end(e) {\n        recognizer.off('panmove', update);\n        recognizer.off('panend', end);\n        recognizer.off('pancancel', end);\n\n        log('canvas', 'grab end');\n      }\n\n      recognizer.on('panmove', update);\n      recognizer.on('panend', end);\n      recognizer.on('pancancel', end);\n    }\n\n    function startGrab(event) {\n\n      var gfx = getGfx(event.target),\n          element = gfx && elementRegistry.get(gfx);\n\n      // recognizer\n      if (move && canvas.getRootElement() !== element) {\n        log('element', 'move start', element, event, true);\n        return move.start(event, element, true);\n      } else {\n        startGrabCanvas(event);\n      }\n    }\n\n    function startZoom(e) {\n\n      log('canvas', 'zoom start');\n\n      var zoom = canvas.zoom(),\n          mid = e.center;\n\n      function update(e) {\n\n        var ratio = 1 - (1 - e.scale) / 1.50,\n            newZoom = Math.max(MIN_ZOOM, Math.min(MAX_ZOOM, ratio * zoom));\n\n        canvas.zoom(newZoom, mid);\n\n        stopEvent(e);\n      }\n\n      function end(e) {\n        recognizer.off('pinchmove', update);\n        recognizer.off('pinchend', end);\n        recognizer.off('pinchcancel', end);\n\n        recognizer.reset(true);\n\n        log('canvas', 'zoom end');\n      }\n\n      recognizer.on('pinchmove', update);\n      recognizer.on('pinchend', end);\n      recognizer.on('pinchcancel', end);\n    }\n\n    recognizer.on('tap', handler('element.click'));\n    recognizer.on('doubletap', handler('element.dblclick', 1));\n\n    recognizer.on('panstart', startGrab);\n    recognizer.on('press', startGrab);\n\n    recognizer.on('pinchstart', startZoom);\n  }\n\n  if (dragging) {\n\n    // simulate hover during dragging\n    eventBus.on('drag.move', function(event) {\n\n      var originalEvent = event.originalEvent;\n\n      if (!originalEvent || originalEvent instanceof MouseEvent) {\n        return;\n      }\n\n      var position = toPoint(originalEvent);\n\n      // this gets really expensive ...\n      var node = document.elementFromPoint(position.x, position.y),\n          gfx = getGfx(node),\n          element = gfx && elementRegistry.get(gfx);\n\n      if (element !== event.hover) {\n        if (event.hover) {\n          dragging.out(event);\n        }\n\n        if (element) {\n          dragging.hover({ element: element, gfx: gfx });\n\n          event.hover = element;\n          event.hoverGfx = gfx;\n        }\n      }\n    });\n  }\n\n  if (contextPad) {\n\n    eventBus.on('contextPad.create', function(event) {\n      var node = event.pad.html;\n\n      // touch recognizer\n      var padRecognizer = createTouchRecognizer(node);\n\n      padRecognizer.on('panstart', function(event) {\n        log('context-pad', 'panstart', event);\n        contextPad.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('press', function(event) {\n        log('context-pad', 'press', event);\n        contextPad.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('tap', function(event) {\n        log('context-pad', 'tap', event);\n        contextPad.trigger('click', event);\n      });\n    });\n  }\n\n  if (palette) {\n    eventBus.on('palette.create', function(event) {\n      var node = event.container;\n\n      // touch recognizer\n      var padRecognizer = createTouchRecognizer(node);\n\n      padRecognizer.on('panstart', function(event) {\n        log('palette', 'panstart', event);\n        palette.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('press', function(event) {\n        log('palette', 'press', event);\n        palette.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('tap', function(event) {\n        log('palette', 'tap', event);\n        palette.trigger('click', event);\n      });\n    });\n  }\n\n  eventBus.on('canvas.init', function(event) {\n    initEvents(event.svg);\n  });\n}\n\n\nTouchInteractionEvents.$inject = [\n  'injector',\n  'canvas',\n  'eventBus',\n  'elementRegistry',\n  'interactionEvents',\n  'touchFix'\n];\n","import {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\nexport default function TouchFix(canvas, eventBus) {\n\n  var self = this;\n\n  eventBus.on('canvas.init', function(e) {\n    self.addBBoxMarker(e.svg);\n  });\n}\n\nTouchFix.$inject = [ 'canvas', 'eventBus' ];\n\n\n/**\n * Safari mobile (iOS 7) does not fire touchstart event in <SVG> element\n * if there is no shape between 0,0 and viewport elements origin.\n *\n * So touchstart event is only fired when the <g class=\"viewport\"> element was hit.\n * Putting an element over and below the 'viewport' fixes that behavior.\n */\nTouchFix.prototype.addBBoxMarker = function(svg) {\n\n  var markerStyle = {\n    fill: 'none',\n    class: 'outer-bound-marker'\n  };\n\n  var rect1 = svgCreate('rect');\n  svgAttr(rect1, {\n    x: -10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect1, markerStyle);\n\n  svgAppend(svg, rect1);\n\n  var rect2 = svgCreate('rect');\n  svgAttr(rect2, {\n    x: 10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect2, markerStyle);\n\n  svgAppend(svg, rect2);\n};\n","import InteractionEventsModule from '../interaction-events';\n\nimport TouchInteractionEvents from './TouchInteractionEvents';\nimport TouchFix from './TouchFix';\n\nexport default {\n  __depends__: [ InteractionEventsModule ],\n  __init__: [ 'touchInteractionEvents' ],\n  touchInteractionEvents: [ 'type', TouchInteractionEvents ],\n  touchFix: [ 'type', TouchFix ]\n};","import TouchModule from '../../features/touch';\n\nexport default {\n  __depends__: [\n    TouchModule\n  ]\n};","import inherits from 'inherits';\nimport Viewer from './Viewer';\n/**\n * A viewer that includes mouse navigation facilities\n *\n * @param {Object} options\n */\n\nexport default function NavigatedViewer(options) {\n  Viewer.call(this, options);\n}\ninherits(NavigatedViewer, Viewer);\nimport ZoomScroll from 'diagram-js/lib/navigation/zoomscroll';\nimport MoveCanvas from 'diagram-js/lib/navigation/movecanvas';\nimport TouchModule from 'diagram-js/lib/navigation/touch';\nNavigatedViewer.prototype._navigationModules = [ZoomScroll, MoveCanvas, TouchModule];\nNavigatedViewer.prototype._modules = [].concat(NavigatedViewer.prototype._modules, NavigatedViewer.prototype._navigationModules);\n//# sourceMappingURL=NavigatedViewer.js.map","import { forEach, bind, pick, assign, isString, isObject } from 'min-dash';\n\n/**\n * Moddle base element.\n */\nfunction Base() { }\n\nBase.prototype.get = function(name) {\n  return this.$model.properties.get(this, name);\n};\n\nBase.prototype.set = function(name, value) {\n  this.$model.properties.set(this, name, value);\n};\n\n/**\n * A model element factory.\n *\n * @param {Moddle} model\n * @param {Properties} properties\n */\nfunction Factory(model, properties) {\n  this.model = model;\n  this.properties = properties;\n}\n\n\nFactory.prototype.createType = function(descriptor) {\n\n  var model = this.model;\n\n  var props = this.properties,\n      prototype = Object.create(Base.prototype);\n\n  // initialize default values\n  forEach(descriptor.properties, function(p) {\n    if (!p.isMany && p.default !== undefined) {\n      prototype[p.name] = p.default;\n    }\n  });\n\n  props.defineModel(prototype, model);\n  props.defineDescriptor(prototype, descriptor);\n\n  var name = descriptor.ns.name;\n\n  /**\n   * The new type constructor\n   */\n  function ModdleElement(attrs) {\n    props.define(this, '$type', { value: name, enumerable: true });\n    props.define(this, '$attrs', { value: {} });\n    props.define(this, '$parent', { writable: true });\n\n    forEach(attrs, bind(function(val, key) {\n      this.set(key, val);\n    }, this));\n  }\n\n  ModdleElement.prototype = prototype;\n\n  ModdleElement.hasType = prototype.$instanceOf = this.model.hasType;\n\n  // static links\n  props.defineModel(ModdleElement, model);\n  props.defineDescriptor(ModdleElement, descriptor);\n\n  return ModdleElement;\n};\n\n/**\n * Built-in moddle types\n */\nvar BUILTINS = {\n  String: true,\n  Boolean: true,\n  Integer: true,\n  Real: true,\n  Element: true\n};\n\n/**\n * Converters for built in types from string representations\n */\nvar TYPE_CONVERTERS = {\n  String: function(s) { return s; },\n  Boolean: function(s) { return s === 'true'; },\n  Integer: function(s) { return parseInt(s, 10); },\n  Real: function(s) { return parseFloat(s); }\n};\n\n/**\n * Convert a type to its real representation\n */\nfunction coerceType(type, value) {\n\n  var converter = TYPE_CONVERTERS[type];\n\n  if (converter) {\n    return converter(value);\n  } else {\n    return value;\n  }\n}\n\n/**\n * Return whether the given type is built-in\n */\nfunction isBuiltIn(type) {\n  return !!BUILTINS[type];\n}\n\n/**\n * Return whether the given type is simple\n */\nfunction isSimple(type) {\n  return !!TYPE_CONVERTERS[type];\n}\n\n/**\n * Parses a namespaced attribute name of the form (ns:)localName to an object,\n * given a default prefix to assume in case no explicit namespace is given.\n *\n * @param {String} name\n * @param {String} [defaultPrefix] the default prefix to take, if none is present.\n *\n * @return {Object} the parsed name\n */\nfunction parseName(name, defaultPrefix) {\n  var parts = name.split(/:/),\n      localName, prefix;\n\n  // no prefix (i.e. only local name)\n  if (parts.length === 1) {\n    localName = name;\n    prefix = defaultPrefix;\n  } else\n  // prefix + local name\n  if (parts.length === 2) {\n    localName = parts[1];\n    prefix = parts[0];\n  } else {\n    throw new Error('expected <prefix:localName> or <localName>, got ' + name);\n  }\n\n  name = (prefix ? prefix + ':' : '') + localName;\n\n  return {\n    name: name,\n    prefix: prefix,\n    localName: localName\n  };\n}\n\n/**\n * A utility to build element descriptors.\n */\nfunction DescriptorBuilder(nameNs) {\n  this.ns = nameNs;\n  this.name = nameNs.name;\n  this.allTypes = [];\n  this.allTypesByName = {};\n  this.properties = [];\n  this.propertiesByName = {};\n}\n\n\nDescriptorBuilder.prototype.build = function() {\n  return pick(this, [\n    'ns',\n    'name',\n    'allTypes',\n    'allTypesByName',\n    'properties',\n    'propertiesByName',\n    'bodyProperty',\n    'idProperty'\n  ]);\n};\n\n/**\n * Add property at given index.\n *\n * @param {Object} p\n * @param {Number} [idx]\n * @param {Boolean} [validate=true]\n */\nDescriptorBuilder.prototype.addProperty = function(p, idx, validate) {\n\n  if (typeof idx === 'boolean') {\n    validate = idx;\n    idx = undefined;\n  }\n\n  this.addNamedProperty(p, validate !== false);\n\n  var properties = this.properties;\n\n  if (idx !== undefined) {\n    properties.splice(idx, 0, p);\n  } else {\n    properties.push(p);\n  }\n};\n\n\nDescriptorBuilder.prototype.replaceProperty = function(oldProperty, newProperty, replace) {\n  var oldNameNs = oldProperty.ns;\n\n  var props = this.properties,\n      propertiesByName = this.propertiesByName,\n      rename = oldProperty.name !== newProperty.name;\n\n  if (oldProperty.isId) {\n    if (!newProperty.isId) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be id property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    this.setIdProperty(newProperty, false);\n  }\n\n  if (oldProperty.isBody) {\n\n    if (!newProperty.isBody) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be body property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    // TODO: Check compatibility\n    this.setBodyProperty(newProperty, false);\n  }\n\n  // validate existence and get location of old property\n  var idx = props.indexOf(oldProperty);\n  if (idx === -1) {\n    throw new Error('property <' + oldNameNs.name + '> not found in property list');\n  }\n\n  // remove old property\n  props.splice(idx, 1);\n\n  // replacing the named property is intentional\n  //\n  //  * validate only if this is a \"rename\" operation\n  //  * add at specific index unless we \"replace\"\n  //\n  this.addProperty(newProperty, replace ? undefined : idx, rename);\n\n  // make new property available under old name\n  propertiesByName[oldNameNs.name] = propertiesByName[oldNameNs.localName] = newProperty;\n};\n\n\nDescriptorBuilder.prototype.redefineProperty = function(p, targetPropertyName, replace) {\n\n  var nsPrefix = p.ns.prefix;\n  var parts = targetPropertyName.split('#');\n\n  var name = parseName(parts[0], nsPrefix);\n  var attrName = parseName(parts[1], name.prefix).name;\n\n  var redefinedProperty = this.propertiesByName[attrName];\n  if (!redefinedProperty) {\n    throw new Error('refined property <' + attrName + '> not found');\n  } else {\n    this.replaceProperty(redefinedProperty, p, replace);\n  }\n\n  delete p.redefines;\n};\n\nDescriptorBuilder.prototype.addNamedProperty = function(p, validate) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  if (validate) {\n    this.assertNotDefined(p, ns.name);\n    this.assertNotDefined(p, ns.localName);\n  }\n\n  propsByName[ns.name] = propsByName[ns.localName] = p;\n};\n\nDescriptorBuilder.prototype.removeNamedProperty = function(p) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  delete propsByName[ns.name];\n  delete propsByName[ns.localName];\n};\n\nDescriptorBuilder.prototype.setBodyProperty = function(p, validate) {\n\n  if (validate && this.bodyProperty) {\n    throw new Error(\n      'body property defined multiple times ' +\n      '(<' + this.bodyProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.bodyProperty = p;\n};\n\nDescriptorBuilder.prototype.setIdProperty = function(p, validate) {\n\n  if (validate && this.idProperty) {\n    throw new Error(\n      'id property defined multiple times ' +\n      '(<' + this.idProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.idProperty = p;\n};\n\nDescriptorBuilder.prototype.assertNotDefined = function(p, name) {\n  var propertyName = p.name,\n      definedProperty = this.propertiesByName[propertyName];\n\n  if (definedProperty) {\n    throw new Error(\n      'property <' + propertyName + '> already defined; ' +\n      'override of <' + definedProperty.definedBy.ns.name + '#' + definedProperty.ns.name + '> by ' +\n      '<' + p.definedBy.ns.name + '#' + p.ns.name + '> not allowed without redefines');\n  }\n};\n\nDescriptorBuilder.prototype.hasProperty = function(name) {\n  return this.propertiesByName[name];\n};\n\nDescriptorBuilder.prototype.addTrait = function(t, inherited) {\n\n  var typesByName = this.allTypesByName,\n      types = this.allTypes;\n\n  var typeName = t.name;\n\n  if (typeName in typesByName) {\n    return;\n  }\n\n  forEach(t.properties, bind(function(p) {\n\n    // clone property to allow extensions\n    p = assign({}, p, {\n      name: p.ns.localName,\n      inherited: inherited\n    });\n\n    Object.defineProperty(p, 'definedBy', {\n      value: t\n    });\n\n    var replaces = p.replaces,\n        redefines = p.redefines;\n\n    // add replace/redefine support\n    if (replaces || redefines) {\n      this.redefineProperty(p, replaces || redefines, replaces);\n    } else {\n      if (p.isBody) {\n        this.setBodyProperty(p);\n      }\n      if (p.isId) {\n        this.setIdProperty(p);\n      }\n      this.addProperty(p);\n    }\n  }, this));\n\n  types.push(t);\n  typesByName[typeName] = t;\n};\n\n/**\n * A registry of Moddle packages.\n *\n * @param {Array<Package>} packages\n * @param {Properties} properties\n */\nfunction Registry(packages, properties) {\n  this.packageMap = {};\n  this.typeMap = {};\n\n  this.packages = [];\n\n  this.properties = properties;\n\n  forEach(packages, bind(this.registerPackage, this));\n}\n\n\nRegistry.prototype.getPackage = function(uriOrPrefix) {\n  return this.packageMap[uriOrPrefix];\n};\n\nRegistry.prototype.getPackages = function() {\n  return this.packages;\n};\n\n\nRegistry.prototype.registerPackage = function(pkg) {\n\n  // copy package\n  pkg = assign({}, pkg);\n\n  var pkgMap = this.packageMap;\n\n  ensureAvailable(pkgMap, pkg, 'prefix');\n  ensureAvailable(pkgMap, pkg, 'uri');\n\n  // register types\n  forEach(pkg.types, bind(function(descriptor) {\n    this.registerType(descriptor, pkg);\n  }, this));\n\n  pkgMap[pkg.uri] = pkgMap[pkg.prefix] = pkg;\n  this.packages.push(pkg);\n};\n\n\n/**\n * Register a type from a specific package with us\n */\nRegistry.prototype.registerType = function(type, pkg) {\n\n  type = assign({}, type, {\n    superClass: (type.superClass || []).slice(),\n    extends: (type.extends || []).slice(),\n    properties: (type.properties || []).slice(),\n    meta: assign((type.meta || {}))\n  });\n\n  var ns = parseName(type.name, pkg.prefix),\n      name = ns.name,\n      propertiesByName = {};\n\n  // parse properties\n  forEach(type.properties, bind(function(p) {\n\n    // namespace property names\n    var propertyNs = parseName(p.name, ns.prefix),\n        propertyName = propertyNs.name;\n\n    // namespace property types\n    if (!isBuiltIn(p.type)) {\n      p.type = parseName(p.type, propertyNs.prefix).name;\n    }\n\n    assign(p, {\n      ns: propertyNs,\n      name: propertyName\n    });\n\n    propertiesByName[propertyName] = p;\n  }, this));\n\n  // update ns + name\n  assign(type, {\n    ns: ns,\n    name: name,\n    propertiesByName: propertiesByName\n  });\n\n  forEach(type.extends, bind(function(extendsName) {\n    var extended = this.typeMap[extendsName];\n\n    extended.traits = extended.traits || [];\n    extended.traits.push(name);\n  }, this));\n\n  // link to package\n  this.definePackage(type, pkg);\n\n  // register\n  this.typeMap[name] = type;\n};\n\n\n/**\n * Traverse the type hierarchy from bottom to top,\n * calling iterator with (type, inherited) for all elements in\n * the inheritance chain.\n *\n * @param {Object} nsName\n * @param {Function} iterator\n * @param {Boolean} [trait=false]\n */\nRegistry.prototype.mapTypes = function(nsName, iterator, trait) {\n\n  var type = isBuiltIn(nsName.name) ? { name: nsName.name } : this.typeMap[nsName.name];\n\n  var self = this;\n\n  /**\n   * Traverse the selected trait.\n   *\n   * @param {String} cls\n   */\n  function traverseTrait(cls) {\n    return traverseSuper(cls, true);\n  }\n\n  /**\n   * Traverse the selected super type or trait\n   *\n   * @param {String} cls\n   * @param {Boolean} [trait=false]\n   */\n  function traverseSuper(cls, trait) {\n    var parentNs = parseName(cls, isBuiltIn(cls) ? '' : nsName.prefix);\n    self.mapTypes(parentNs, iterator, trait);\n  }\n\n  if (!type) {\n    throw new Error('unknown type <' + nsName.name + '>');\n  }\n\n  forEach(type.superClass, trait ? traverseTrait : traverseSuper);\n\n  // call iterator with (type, inherited=!trait)\n  iterator(type, !trait);\n\n  forEach(type.traits, traverseTrait);\n};\n\n\n/**\n * Returns the effective descriptor for a type.\n *\n * @param  {String} type the namespaced name (ns:localName) of the type\n *\n * @return {Descriptor} the resulting effective descriptor\n */\nRegistry.prototype.getEffectiveDescriptor = function(name) {\n\n  var nsName = parseName(name);\n\n  var builder = new DescriptorBuilder(nsName);\n\n  this.mapTypes(nsName, function(type, inherited) {\n    builder.addTrait(type, inherited);\n  });\n\n  var descriptor = builder.build();\n\n  // define package link\n  this.definePackage(descriptor, descriptor.allTypes[descriptor.allTypes.length - 1].$pkg);\n\n  return descriptor;\n};\n\n\nRegistry.prototype.definePackage = function(target, pkg) {\n  this.properties.define(target, '$pkg', { value: pkg });\n};\n\n\n\n///////// helpers ////////////////////////////\n\nfunction ensureAvailable(packageMap, pkg, identifierKey) {\n\n  var value = pkg[identifierKey];\n\n  if (value in packageMap) {\n    throw new Error('package with ' + identifierKey + ' <' + value + '> already defined');\n  }\n}\n\n/**\n * A utility that gets and sets properties of model elements.\n *\n * @param {Model} model\n */\nfunction Properties(model) {\n  this.model = model;\n}\n\n\n/**\n * Sets a named property on the target element.\n * If the value is undefined, the property gets deleted.\n *\n * @param {Object} target\n * @param {String} name\n * @param {Object} value\n */\nProperties.prototype.set = function(target, name, value) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  var propertyName = property && property.name;\n\n  if (isUndefined(value)) {\n    // unset the property, if the specified value is undefined;\n    // delete from $attrs (for extensions) or the target itself\n    if (property) {\n      delete target[propertyName];\n    } else {\n      delete target.$attrs[name];\n    }\n  } else {\n    // set the property, defining well defined properties on the fly\n    // or simply updating them in target.$attrs (for extensions)\n    if (property) {\n      if (propertyName in target) {\n        target[propertyName] = value;\n      } else {\n        defineProperty(target, property, value);\n      }\n    } else {\n      target.$attrs[name] = value;\n    }\n  }\n};\n\n/**\n * Returns the named property of the given element\n *\n * @param  {Object} target\n * @param  {String} name\n *\n * @return {Object}\n */\nProperties.prototype.get = function(target, name) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  if (!property) {\n    return target.$attrs[name];\n  }\n\n  var propertyName = property.name;\n\n  // check if access to collection property and lazily initialize it\n  if (!target[propertyName] && property.isMany) {\n    defineProperty(target, property, []);\n  }\n\n  return target[propertyName];\n};\n\n\n/**\n * Define a property on the target element\n *\n * @param  {Object} target\n * @param  {String} name\n * @param  {Object} options\n */\nProperties.prototype.define = function(target, name, options) {\n\n  if (!options.writable) {\n\n    var value = options.value;\n\n    // use getters for read-only variables to support ES6 proxies\n    // cf. https://github.com/bpmn-io/internal-docs/issues/386\n    options = assign({}, options, {\n      get: function() { return value; }\n    });\n\n    delete options.value;\n  }\n\n  Object.defineProperty(target, name, options);\n};\n\n\n/**\n * Define the descriptor for an element\n */\nProperties.prototype.defineDescriptor = function(target, descriptor) {\n  this.define(target, '$descriptor', { value: descriptor });\n};\n\n/**\n * Define the model for an element\n */\nProperties.prototype.defineModel = function(target, model) {\n  this.define(target, '$model', { value: model });\n};\n\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\nfunction defineProperty(target, property, value) {\n  Object.defineProperty(target, property.name, {\n    enumerable: !property.isReference,\n    writable: true,\n    value: value,\n    configurable: true\n  });\n}\n\n//// Moddle implementation /////////////////////////////////////////////////\n\n/**\n * @class Moddle\n *\n * A model that can be used to create elements of a specific type.\n *\n * @example\n *\n * var Moddle = require('moddle');\n *\n * var pkg = {\n *   name: 'mypackage',\n *   prefix: 'my',\n *   types: [\n *     { name: 'Root' }\n *   ]\n * };\n *\n * var moddle = new Moddle([pkg]);\n *\n * @param {Array<Package>} packages the packages to contain\n */\nfunction Moddle(packages) {\n\n  this.properties = new Properties(this);\n\n  this.factory = new Factory(this, this.properties);\n  this.registry = new Registry(packages, this.properties);\n\n  this.typeCache = {};\n}\n\n\n/**\n * Create an instance of the specified type.\n *\n * @method Moddle#create\n *\n * @example\n *\n * var foo = moddle.create('my:Foo');\n * var bar = moddle.create('my:Bar', { id: 'BAR_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @param  {Object} attrs   a number of attributes to initialize the model instance with\n * @return {Object}         model instance\n */\nModdle.prototype.create = function(descriptor, attrs) {\n  var Type = this.getType(descriptor);\n\n  if (!Type) {\n    throw new Error('unknown type <' + descriptor + '>');\n  }\n\n  return new Type(attrs);\n};\n\n\n/**\n * Returns the type representing a given descriptor\n *\n * @method Moddle#getType\n *\n * @example\n *\n * var Foo = moddle.getType('my:Foo');\n * var foo = new Foo({ 'id' : 'FOO_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @return {Object}         the type representing the descriptor\n */\nModdle.prototype.getType = function(descriptor) {\n\n  var cache = this.typeCache;\n\n  var name = isString(descriptor) ? descriptor : descriptor.ns.name;\n\n  var type = cache[name];\n\n  if (!type) {\n    descriptor = this.registry.getEffectiveDescriptor(name);\n    type = cache[name] = this.factory.createType(descriptor);\n  }\n\n  return type;\n};\n\n\n/**\n * Creates an any-element type to be used within model instances.\n *\n * This can be used to create custom elements that lie outside the meta-model.\n * The created element contains all the meta-data required to serialize it\n * as part of meta-model elements.\n *\n * @method Moddle#createAny\n *\n * @example\n *\n * var foo = moddle.createAny('vendor:Foo', 'http://vendor', {\n *   value: 'bar'\n * });\n *\n * var container = moddle.create('my:Container', 'http://my', {\n *   any: [ foo ]\n * });\n *\n * // go ahead and serialize the stuff\n *\n *\n * @param  {String} name  the name of the element\n * @param  {String} nsUri the namespace uri of the element\n * @param  {Object} [properties] a map of properties to initialize the instance with\n * @return {Object} the any type instance\n */\nModdle.prototype.createAny = function(name, nsUri, properties) {\n\n  var nameNs = parseName(name);\n\n  var element = {\n    $type: name,\n    $instanceOf: function(type) {\n      return type === this.$type;\n    }\n  };\n\n  var descriptor = {\n    name: name,\n    isGeneric: true,\n    ns: {\n      prefix: nameNs.prefix,\n      localName: nameNs.localName,\n      uri: nsUri\n    }\n  };\n\n  this.properties.defineDescriptor(element, descriptor);\n  this.properties.defineModel(element, this);\n  this.properties.define(element, '$parent', { enumerable: false, writable: true });\n  this.properties.define(element, '$instanceOf', { enumerable: false, writable: true });\n\n  forEach(properties, function(a, key) {\n    if (isObject(a) && a.value !== undefined) {\n      element[a.name] = a.value;\n    } else {\n      element[key] = a;\n    }\n  });\n\n  return element;\n};\n\n/**\n * Returns a registered package by uri or prefix\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackage = function(uriOrPrefix) {\n  return this.registry.getPackage(uriOrPrefix);\n};\n\n/**\n * Returns a snapshot of all known packages\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackages = function() {\n  return this.registry.getPackages();\n};\n\n/**\n * Returns the descriptor for an element\n */\nModdle.prototype.getElementDescriptor = function(element) {\n  return element.$descriptor;\n};\n\n/**\n * Returns true if the given descriptor or instance\n * represents the given type.\n *\n * May be applied to this, if element is omitted.\n */\nModdle.prototype.hasType = function(element, type) {\n  if (type === undefined) {\n    type = element;\n    element = this;\n  }\n\n  var descriptor = element.$model.getElementDescriptor(element);\n\n  return (type in descriptor.allTypesByName);\n};\n\n/**\n * Returns the descriptor of an elements named property\n */\nModdle.prototype.getPropertyDescriptor = function(element, property) {\n  return this.getElementDescriptor(element).propertiesByName[property];\n};\n\n/**\n * Returns a mapped type's descriptor\n */\nModdle.prototype.getTypeDescriptor = function(type) {\n  return this.registry.typeMap[type];\n};\n\nexport { Moddle, coerceType, isBuiltIn as isBuiltInType, isSimple as isSimpleType, parseName as parseNameNS };\n","var fromCharCode = String.fromCharCode;\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar ENTITY_PATTERN = /&#(\\d+);|&#x([0-9a-f]+);|&(\\w+);/ig;\n\nvar ENTITY_MAPPING = {\n  'amp': '&',\n  'apos': '\\'',\n  'gt': '>',\n  'lt': '<',\n  'quot': '\"'\n};\n\n// map UPPERCASE variants of supported special chars\nObject.keys(ENTITY_MAPPING).forEach(function(k) {\n  ENTITY_MAPPING[k.toUpperCase()] = ENTITY_MAPPING[k];\n});\n\n\nfunction replaceEntities(_, d, x, z) {\n\n  // reserved names, i.e. &nbsp;\n  if (z) {\n    if (hasOwnProperty.call(ENTITY_MAPPING, z)) {\n      return ENTITY_MAPPING[z];\n    } else {\n\n      // fall back to original value\n      return '&' + z + ';';\n    }\n  }\n\n  // decimal encoded char\n  if (d) {\n    return fromCharCode(d);\n  }\n\n  // hex encoded char\n  return fromCharCode(parseInt(x, 16));\n}\n\n\n/**\n * A basic entity decoder that can decode a minimal\n * sub-set of reserved names (&amp;) as well as\n * hex (&#xaaf;) and decimal (&#1231;) encoded characters.\n *\n * @param {string} str\n *\n * @return {string} decoded string\n */\nfunction decodeEntities(s) {\n  if (s.length > 3 && s.indexOf('&') !== -1) {\n    return s.replace(ENTITY_PATTERN, replaceEntities);\n  }\n\n  return s;\n}\n\nvar XSI_URI = 'http://www.w3.org/2001/XMLSchema-instance';\nvar XSI_PREFIX = 'xsi';\nvar XSI_TYPE = 'xsi:type';\n\nvar NON_WHITESPACE_OUTSIDE_ROOT_NODE = 'non-whitespace outside of root node';\n\nfunction error(msg) {\n  return new Error(msg);\n}\n\nfunction missingNamespaceForPrefix(prefix) {\n  return 'missing namespace for prefix <' + prefix + '>';\n}\n\nfunction getter(getFn) {\n  return {\n    'get': getFn,\n    'enumerable': true\n  };\n}\n\nfunction cloneNsMatrix(nsMatrix) {\n  var clone = {}, key;\n  for (key in nsMatrix) {\n    clone[key] = nsMatrix[key];\n  }\n  return clone;\n}\n\nfunction uriPrefix(prefix) {\n  return prefix + '$uri';\n}\n\nfunction buildNsMatrix(nsUriToPrefix) {\n  var nsMatrix = {},\n      uri,\n      prefix;\n\n  for (uri in nsUriToPrefix) {\n    prefix = nsUriToPrefix[uri];\n    nsMatrix[prefix] = prefix;\n    nsMatrix[uriPrefix(prefix)] = uri;\n  }\n\n  return nsMatrix;\n}\n\nfunction noopGetContext() {\n  return { 'line': 0, 'column': 0 };\n}\n\nfunction throwFunc(err) {\n  throw err;\n}\n\n/**\n * Creates a new parser with the given options.\n *\n * @constructor\n *\n * @param  {!Object<string, ?>=} options\n */\nfunction Parser(options) {\n\n  if (!this) {\n    return new Parser(options);\n  }\n\n  var proxy = options && options['proxy'];\n\n  var onText,\n      onOpenTag,\n      onCloseTag,\n      onCDATA,\n      onError = throwFunc,\n      onWarning,\n      onComment,\n      onQuestion,\n      onAttention;\n\n  var getContext = noopGetContext;\n\n  /**\n   * Do we need to parse the current elements attributes for namespaces?\n   *\n   * @type {boolean}\n   */\n  var maybeNS = false;\n\n  /**\n   * Do we process namespaces at all?\n   *\n   * @type {boolean}\n   */\n  var isNamespace = false;\n\n  /**\n   * The caught error returned on parse end\n   *\n   * @type {Error}\n   */\n  var returnError = null;\n\n  /**\n   * Should we stop parsing?\n   *\n   * @type {boolean}\n   */\n  var parseStop = false;\n\n  /**\n   * A map of { uri: prefix } used by the parser.\n   *\n   * This map will ensure we can normalize prefixes during processing;\n   * for each uri, only one prefix will be exposed to the handlers.\n   *\n   * @type {!Object<string, string>}}\n   */\n  var nsUriToPrefix;\n\n  /**\n   * Handle parse error.\n   *\n   * @param  {string|Error} err\n   */\n  function handleError(err) {\n    if (!(err instanceof Error)) {\n      err = error(err);\n    }\n\n    returnError = err;\n\n    onError(err, getContext);\n  }\n\n  /**\n   * Handle parse error.\n   *\n   * @param  {string|Error} err\n   */\n  function handleWarning(err) {\n\n    if (!onWarning) {\n      return;\n    }\n\n    if (!(err instanceof Error)) {\n      err = error(err);\n    }\n\n    onWarning(err, getContext);\n  }\n\n  /**\n   * Register parse listener.\n   *\n   * @param  {string}   name\n   * @param  {Function} cb\n   *\n   * @return {Parser}\n   */\n  this['on'] = function(name, cb) {\n\n    if (typeof cb !== 'function') {\n      throw error('required args <name, cb>');\n    }\n\n    switch (name) {\n    case 'openTag': onOpenTag = cb; break;\n    case 'text': onText = cb; break;\n    case 'closeTag': onCloseTag = cb; break;\n    case 'error': onError = cb; break;\n    case 'warn': onWarning = cb; break;\n    case 'cdata': onCDATA = cb; break;\n    case 'attention': onAttention = cb; break; // <!XXXXX zzzz=\"eeee\">\n    case 'question': onQuestion = cb; break; // <? ....  ?>\n    case 'comment': onComment = cb; break;\n    default:\n      throw error('unsupported event: ' + name);\n    }\n\n    return this;\n  };\n\n  /**\n   * Set the namespace to prefix mapping.\n   *\n   * @example\n   *\n   * parser.ns({\n   *   'http://foo': 'foo',\n   *   'http://bar': 'bar'\n   * });\n   *\n   * @param  {!Object<string, string>} nsMap\n   *\n   * @return {Parser}\n   */\n  this['ns'] = function(nsMap) {\n\n    if (typeof nsMap === 'undefined') {\n      nsMap = {};\n    }\n\n    if (typeof nsMap !== 'object') {\n      throw error('required args <nsMap={}>');\n    }\n\n    var _nsUriToPrefix = {}, k;\n\n    for (k in nsMap) {\n      _nsUriToPrefix[k] = nsMap[k];\n    }\n\n    // FORCE default mapping for schema instance\n    _nsUriToPrefix[XSI_URI] = XSI_PREFIX;\n\n    isNamespace = true;\n    nsUriToPrefix = _nsUriToPrefix;\n\n    return this;\n  };\n\n  /**\n   * Parse xml string.\n   *\n   * @param  {string} xml\n   *\n   * @return {Error} returnError, if not thrown\n   */\n  this['parse'] = function(xml) {\n    if (typeof xml !== 'string') {\n      throw error('required args <xml=string>');\n    }\n\n    returnError = null;\n\n    parse(xml);\n\n    getContext = noopGetContext;\n    parseStop = false;\n\n    return returnError;\n  };\n\n  /**\n   * Stop parsing.\n   */\n  this['stop'] = function() {\n    parseStop = true;\n  };\n\n  /**\n   * Parse string, invoking configured listeners on element.\n   *\n   * @param  {string} xml\n   */\n  function parse(xml) {\n    var nsMatrixStack = isNamespace ? [] : null,\n        nsMatrix = isNamespace ? buildNsMatrix(nsUriToPrefix) : null,\n        _nsMatrix,\n        nodeStack = [],\n        anonymousNsCount = 0,\n        tagStart = false,\n        tagEnd = false,\n        i = 0, j = 0,\n        x, y, q, w, v,\n        xmlns,\n        elementName,\n        _elementName,\n        elementProxy\n        ;\n\n    var attrsString = '',\n        attrsStart = 0,\n        cachedAttrs // false = parsed with errors, null = needs parsing\n        ;\n\n    /**\n     * Parse attributes on demand and returns the parsed attributes.\n     *\n     * Return semantics: (1) `false` on attribute parse error,\n     * (2) object hash on extracted attrs.\n     *\n     * @return {boolean|Object}\n     */\n    function getAttrs() {\n      if (cachedAttrs !== null) {\n        return cachedAttrs;\n      }\n\n      var nsUri,\n          nsUriPrefix,\n          nsName,\n          defaultAlias = isNamespace && nsMatrix['xmlns'],\n          attrList = isNamespace && maybeNS ? [] : null,\n          i = attrsStart,\n          s = attrsString,\n          l = s.length,\n          hasNewMatrix,\n          newalias,\n          value,\n          alias,\n          name,\n          attrs = {},\n          seenAttrs = {},\n          skipAttr,\n          w,\n          j;\n\n      parseAttr:\n      for (; i < l; i++) {\n        skipAttr = false;\n        w = s.charCodeAt(i);\n\n        if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE={ \\f\\n\\r\\t\\v}\n          continue;\n        }\n\n        // wait for non whitespace character\n        if (w < 65 || w > 122 || (w > 90 && w < 97)) {\n          if (w !== 95 && w !== 58) { // char 95\"_\" 58\":\"\n            handleWarning('illegal first char attribute name');\n            skipAttr = true;\n          }\n        }\n\n        // parse attribute name\n        for (j = i + 1; j < l; j++) {\n          w = s.charCodeAt(j);\n\n          if (\n            w > 96 && w < 123 ||\n            w > 64 && w < 91 ||\n            w > 47 && w < 59 ||\n            w === 46 || // '.'\n            w === 45 || // '-'\n            w === 95 // '_'\n          ) {\n            continue;\n          }\n\n          // unexpected whitespace\n          if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n            handleWarning('missing attribute value');\n            i = j;\n\n            continue parseAttr;\n          }\n\n          // expected \"=\"\n          if (w === 61) { // \"=\" == 61\n            break;\n          }\n\n          handleWarning('illegal attribute name char');\n          skipAttr = true;\n        }\n\n        name = s.substring(i, j);\n\n        if (name === 'xmlns:xmlns') {\n          handleWarning('illegal declaration of xmlns');\n          skipAttr = true;\n        }\n\n        w = s.charCodeAt(j + 1);\n\n        if (w === 34) { // '\"'\n          j = s.indexOf('\"', i = j + 2);\n\n          if (j === -1) {\n            j = s.indexOf('\\'', i);\n\n            if (j !== -1) {\n              handleWarning('attribute value quote missmatch');\n              skipAttr = true;\n            }\n          }\n\n        } else if (w === 39) { // \"'\"\n          j = s.indexOf('\\'', i = j + 2);\n\n          if (j === -1) {\n            j = s.indexOf('\"', i);\n\n            if (j !== -1) {\n              handleWarning('attribute value quote missmatch');\n              skipAttr = true;\n            }\n          }\n\n        } else {\n          handleWarning('missing attribute value quotes');\n          skipAttr = true;\n\n          // skip to next space\n          for (j = j + 1; j < l; j++) {\n            w = s.charCodeAt(j + 1);\n\n            if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n              break;\n            }\n          }\n\n        }\n\n        if (j === -1) {\n          handleWarning('missing closing quotes');\n\n          j = l;\n          skipAttr = true;\n        }\n\n        if (!skipAttr) {\n          value = s.substring(i, j);\n        }\n\n        i = j;\n\n        // ensure SPACE follows attribute\n        // skip illegal content otherwise\n        // example a=\"b\"c\n        for (; j + 1 < l; j++) {\n          w = s.charCodeAt(j + 1);\n\n          if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n            break;\n          }\n\n          // FIRST ILLEGAL CHAR\n          if (i === j) {\n            handleWarning('illegal character after attribute end');\n            skipAttr = true;\n          }\n        }\n\n        // advance cursor to next attribute\n        i = j + 1;\n\n        if (skipAttr) {\n          continue parseAttr;\n        }\n\n        // check attribute re-declaration\n        if (name in seenAttrs) {\n          handleWarning('attribute <' + name + '> already defined');\n          continue;\n        }\n\n        seenAttrs[name] = true;\n\n        if (!isNamespace) {\n          attrs[name] = value;\n          continue;\n        }\n\n        // try to extract namespace information\n        if (maybeNS) {\n          newalias = (\n            name === 'xmlns'\n              ? 'xmlns'\n              : (name.charCodeAt(0) === 120 && name.substr(0, 6) === 'xmlns:')\n                ? name.substr(6)\n                : null\n          );\n\n          // handle xmlns(:alias) assignment\n          if (newalias !== null) {\n            nsUri = decodeEntities(value);\n            nsUriPrefix = uriPrefix(newalias);\n\n            alias = nsUriToPrefix[nsUri];\n\n            if (!alias) {\n\n              // no prefix defined or prefix collision\n              if (\n                (newalias === 'xmlns') ||\n                (nsUriPrefix in nsMatrix && nsMatrix[nsUriPrefix] !== nsUri)\n              ) {\n\n                // alocate free ns prefix\n                do {\n                  alias = 'ns' + (anonymousNsCount++);\n                } while (typeof nsMatrix[alias] !== 'undefined');\n              } else {\n                alias = newalias;\n              }\n\n              nsUriToPrefix[nsUri] = alias;\n            }\n\n            if (nsMatrix[newalias] !== alias) {\n              if (!hasNewMatrix) {\n                nsMatrix = cloneNsMatrix(nsMatrix);\n                hasNewMatrix = true;\n              }\n\n              nsMatrix[newalias] = alias;\n              if (newalias === 'xmlns') {\n                nsMatrix[uriPrefix(alias)] = nsUri;\n                defaultAlias = alias;\n              }\n\n              nsMatrix[nsUriPrefix] = nsUri;\n            }\n\n            // expose xmlns(:asd)=\"...\" in attributes\n            attrs[name] = value;\n            continue;\n          }\n\n          // collect attributes until all namespace\n          // declarations are processed\n          attrList.push(name, value);\n          continue;\n\n        } /** end if (maybeNs) */\n\n        // handle attributes on element without\n        // namespace declarations\n        w = name.indexOf(':');\n        if (w === -1) {\n          attrs[name] = value;\n          continue;\n        }\n\n        // normalize ns attribute name\n        if (!(nsName = nsMatrix[name.substring(0, w)])) {\n          handleWarning(missingNamespaceForPrefix(name.substring(0, w)));\n          continue;\n        }\n\n        name = defaultAlias === nsName\n          ? name.substr(w + 1)\n          : nsName + name.substr(w);\n\n        // end: normalize ns attribute name\n\n        // normalize xsi:type ns attribute value\n        if (name === XSI_TYPE) {\n          w = value.indexOf(':');\n\n          if (w !== -1) {\n            nsName = value.substring(0, w);\n\n            // handle default prefixes, i.e. xs:String gracefully\n            nsName = nsMatrix[nsName] || nsName;\n            value = nsName + value.substring(w);\n          } else {\n            value = defaultAlias + ':' + value;\n          }\n        }\n\n        // end: normalize xsi:type ns attribute value\n\n        attrs[name] = value;\n      }\n\n\n      // handle deferred, possibly namespaced attributes\n      if (maybeNS) {\n\n        // normalize captured attributes\n        for (i = 0, l = attrList.length; i < l; i++) {\n\n          name = attrList[i++];\n          value = attrList[i];\n\n          w = name.indexOf(':');\n\n          if (w !== -1) {\n\n            // normalize ns attribute name\n            if (!(nsName = nsMatrix[name.substring(0, w)])) {\n              handleWarning(missingNamespaceForPrefix(name.substring(0, w)));\n              continue;\n            }\n\n            name = defaultAlias === nsName\n              ? name.substr(w + 1)\n              : nsName + name.substr(w);\n\n            // end: normalize ns attribute name\n\n            // normalize xsi:type ns attribute value\n            if (name === XSI_TYPE) {\n              w = value.indexOf(':');\n\n              if (w !== -1) {\n                nsName = value.substring(0, w);\n\n                // handle default prefixes, i.e. xs:String gracefully\n                nsName = nsMatrix[nsName] || nsName;\n                value = nsName + value.substring(w);\n              } else {\n                value = defaultAlias + ':' + value;\n              }\n            }\n\n            // end: normalize xsi:type ns attribute value\n          }\n\n          attrs[name] = value;\n        }\n\n        // end: normalize captured attributes\n      }\n\n      return cachedAttrs = attrs;\n    }\n\n    /**\n     * Extract the parse context { line, column, part }\n     * from the current parser position.\n     *\n     * @return {Object} parse context\n     */\n    function getParseContext() {\n      var splitsRe = /(\\r\\n|\\r|\\n)/g;\n\n      var line = 0;\n      var column = 0;\n      var startOfLine = 0;\n      var endOfLine = j;\n      var match;\n      var data;\n\n      while (i >= startOfLine) {\n\n        match = splitsRe.exec(xml);\n\n        if (!match) {\n          break;\n        }\n\n        // end of line = (break idx + break chars)\n        endOfLine = match[0].length + match.index;\n\n        if (endOfLine > i) {\n          break;\n        }\n\n        // advance to next line\n        line += 1;\n\n        startOfLine = endOfLine;\n      }\n\n      // EOF errors\n      if (i == -1) {\n        column = endOfLine;\n        data = xml.substring(j);\n      } else\n\n      // start errors\n      if (j === 0) {\n        data = xml.substring(j, i);\n      }\n\n      // other errors\n      else {\n        column = i - startOfLine;\n        data = (j == -1 ? xml.substring(i) : xml.substring(i, j + 1));\n      }\n\n      return {\n        'data': data,\n        'line': line,\n        'column': column\n      };\n    }\n\n    getContext = getParseContext;\n\n\n    if (proxy) {\n      elementProxy = Object.create({}, {\n        'name': getter(function() {\n          return elementName;\n        }),\n        'originalName': getter(function() {\n          return _elementName;\n        }),\n        'attrs': getter(getAttrs),\n        'ns': getter(function() {\n          return nsMatrix;\n        })\n      });\n    }\n\n    // actual parse logic\n    while (j !== -1) {\n\n      if (xml.charCodeAt(j) === 60) { // \"<\"\n        i = j;\n      } else {\n        i = xml.indexOf('<', j);\n      }\n\n      // parse end\n      if (i === -1) {\n        if (nodeStack.length) {\n          return handleError('unexpected end of file');\n        }\n\n        if (j === 0) {\n          return handleError('missing start tag');\n        }\n\n        if (j < xml.length) {\n          if (xml.substring(j).trim()) {\n            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);\n          }\n        }\n\n        return;\n      }\n\n      // parse text\n      if (j !== i) {\n\n        if (nodeStack.length) {\n          if (onText) {\n            onText(xml.substring(j, i), decodeEntities, getContext);\n\n            if (parseStop) {\n              return;\n            }\n          }\n        } else {\n          if (xml.substring(j, i).trim()) {\n            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);\n\n            if (parseStop) {\n              return;\n            }\n          }\n        }\n      }\n\n      w = xml.charCodeAt(i+1);\n\n      // parse comments + CDATA\n      if (w === 33) { // \"!\"\n        q = xml.charCodeAt(i+2);\n\n        // CDATA section\n        if (q === 91 && xml.substr(i + 3, 6) === 'CDATA[') { // 91 == \"[\"\n          j = xml.indexOf(']]>', i);\n          if (j === -1) {\n            return handleError('unclosed cdata');\n          }\n\n          if (onCDATA) {\n            onCDATA(xml.substring(i + 9, j), getContext);\n            if (parseStop) {\n              return;\n            }\n          }\n\n          j += 3;\n          continue;\n        }\n\n        // comment\n        if (q === 45 && xml.charCodeAt(i + 3) === 45) { // 45 == \"-\"\n          j = xml.indexOf('-->', i);\n          if (j === -1) {\n            return handleError('unclosed comment');\n          }\n\n\n          if (onComment) {\n            onComment(xml.substring(i + 4, j), decodeEntities, getContext);\n            if (parseStop) {\n              return;\n            }\n          }\n\n          j += 3;\n          continue;\n        }\n      }\n\n      // parse question <? ... ?>\n      if (w === 63) { // \"?\"\n        j = xml.indexOf('?>', i);\n        if (j === -1) {\n          return handleError('unclosed question');\n        }\n\n        if (onQuestion) {\n          onQuestion(xml.substring(i, j + 2), getContext);\n          if (parseStop) {\n            return;\n          }\n        }\n\n        j += 2;\n        continue;\n      }\n\n      // find matching closing tag for attention or standard tags\n      // for that we must skip through attribute values\n      // (enclosed in single or double quotes)\n      for (x = i + 1; ; x++) {\n        v = xml.charCodeAt(x);\n        if (isNaN(v)) {\n          j = -1;\n          return handleError('unclosed tag');\n        }\n\n        // [10] AttValue ::= '\"' ([^<&\"] | Reference)* '\"' | \"'\" ([^<&'] | Reference)* \"'\"\n        // skips the quoted string\n        // (double quotes) does not appear in a literal enclosed by (double quotes)\n        // (single quote) does not appear in a literal enclosed by (single quote)\n        if (v === 34) { //  '\"'\n          q = xml.indexOf('\"', x + 1);\n          x = q !== -1 ? q : x;\n        } else if (v === 39) { // \"'\"\n          q = xml.indexOf(\"'\", x + 1);\n          x = q !== -1 ? q : x;\n        } else if (v === 62) { // '>'\n          j = x;\n          break;\n        }\n      }\n\n\n      // parse attention <! ...>\n      // previously comment and CDATA have already been parsed\n      if (w === 33) { // \"!\"\n\n        if (onAttention) {\n          onAttention(xml.substring(i, j + 1), decodeEntities, getContext);\n          if (parseStop) {\n            return;\n          }\n        }\n\n        j += 1;\n        continue;\n      }\n\n      // don't process attributes;\n      // there are none\n      cachedAttrs = {};\n\n      // if (xml.charCodeAt(i+1) === 47) { // </...\n      if (w === 47) { // </...\n        tagStart = false;\n        tagEnd = true;\n\n        if (!nodeStack.length) {\n          return handleError('missing open tag');\n        }\n\n        // verify open <-> close tag match\n        x = elementName = nodeStack.pop();\n        q = i + 2 + x.length;\n\n        if (xml.substring(i + 2, q) !== x) {\n          return handleError('closing tag mismatch');\n        }\n\n        // verify chars in close tag\n        for (; q < j; q++) {\n          w = xml.charCodeAt(q);\n\n          if (w === 32 || (w > 8 && w < 14)) { // \\f\\n\\r\\t\\v space\n            continue;\n          }\n\n          return handleError('close tag');\n        }\n\n      } else {\n        if (xml.charCodeAt(j - 1) === 47) { // .../>\n          x = elementName = xml.substring(i + 1, j - 1);\n\n          tagStart = true;\n          tagEnd = true;\n\n        } else {\n          x = elementName = xml.substring(i + 1, j);\n\n          tagStart = true;\n          tagEnd = false;\n        }\n\n        if (!(w > 96 && w < 123 || w > 64 && w < 91 || w === 95 || w === 58)) { // char 95\"_\" 58\":\"\n          return handleError('illegal first char nodeName');\n        }\n\n        for (q = 1, y = x.length; q < y; q++) {\n          w = x.charCodeAt(q);\n\n          if (w > 96 && w < 123 || w > 64 && w < 91 || w > 47 && w < 59 || w === 45 || w === 95 || w == 46) {\n            continue;\n          }\n\n          if (w === 32 || (w < 14 && w > 8)) { // \\f\\n\\r\\t\\v space\n            elementName = x.substring(0, q);\n\n            // maybe there are attributes\n            cachedAttrs = null;\n            break;\n          }\n\n          return handleError('invalid nodeName');\n        }\n\n        if (!tagEnd) {\n          nodeStack.push(elementName);\n        }\n      }\n\n      if (isNamespace) {\n\n        _nsMatrix = nsMatrix;\n\n        if (tagStart) {\n\n          // remember old namespace\n          // unless we're self-closing\n          if (!tagEnd) {\n            nsMatrixStack.push(_nsMatrix);\n          }\n\n          if (cachedAttrs === null) {\n\n            // quick check, whether there may be namespace\n            // declarations on the node; if that is the case\n            // we need to eagerly parse the node attributes\n            if ((maybeNS = x.indexOf('xmlns', q) !== -1)) {\n              attrsStart = q;\n              attrsString = x;\n\n              getAttrs();\n\n              maybeNS = false;\n            }\n          }\n        }\n\n        _elementName = elementName;\n\n        w = elementName.indexOf(':');\n        if (w !== -1) {\n          xmlns = nsMatrix[elementName.substring(0, w)];\n\n          // prefix given; namespace must exist\n          if (!xmlns) {\n            return handleError('missing namespace on <' + _elementName + '>');\n          }\n\n          elementName = elementName.substr(w + 1);\n        } else {\n          xmlns = nsMatrix['xmlns'];\n\n          // if no default namespace is defined,\n          // we'll import the element as anonymous.\n          //\n          // it is up to users to correct that to the document defined\n          // targetNamespace, or whatever their undersanding of the\n          // XML spec mandates.\n        }\n\n        // adjust namespace prefixs as configured\n        if (xmlns) {\n          elementName = xmlns + ':' + elementName;\n        }\n\n      }\n\n      if (tagStart) {\n        attrsStart = q;\n        attrsString = x;\n\n        if (onOpenTag) {\n          if (proxy) {\n            onOpenTag(elementProxy, decodeEntities, tagEnd, getContext);\n          } else {\n            onOpenTag(elementName, getAttrs, decodeEntities, tagEnd, getContext);\n          }\n\n          if (parseStop) {\n            return;\n          }\n        }\n\n      }\n\n      if (tagEnd) {\n\n        if (onCloseTag) {\n          onCloseTag(proxy ? elementProxy : elementName, decodeEntities, tagStart, getContext);\n\n          if (parseStop) {\n            return;\n          }\n        }\n\n        // restore old namespace\n        if (isNamespace) {\n          if (!tagStart) {\n            nsMatrix = nsMatrixStack.pop();\n          } else {\n            nsMatrix = _nsMatrix;\n          }\n        }\n      }\n\n      j += 1;\n    }\n  } /** end parse */\n\n}\n\nexport { Parser, decodeEntities as decode };\n","import { forEach, assign, find, filter, has, isString } from 'min-dash';\nimport { Parser } from 'saxen';\nimport { coerceType, parseNameNS, isSimpleType, Moddle } from 'moddle';\n\nfunction hasLowerCaseAlias(pkg) {\n  return pkg.xml && pkg.xml.tagAlias === 'lowerCase';\n}\n\nvar DEFAULT_NS_MAP = {\n  'xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n  'xml': 'http://www.w3.org/XML/1998/namespace'\n};\n\nvar XSI_TYPE = 'xsi:type';\n\nfunction serializeFormat(element) {\n  return element.xml && element.xml.serialize;\n}\n\nfunction serializeAsType(element) {\n  return serializeFormat(element) === XSI_TYPE;\n}\n\nfunction serializeAsProperty(element) {\n  return serializeFormat(element) === 'property';\n}\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction aliasToName(aliasNs, pkg) {\n\n  if (!hasLowerCaseAlias(pkg)) {\n    return aliasNs.name;\n  }\n\n  return aliasNs.prefix + ':' + capitalize(aliasNs.localName);\n}\n\nfunction prefixedToName(nameNs, pkg) {\n\n  var name = nameNs.name,\n      localName = nameNs.localName;\n\n  var typePrefix = pkg.xml && pkg.xml.typePrefix;\n\n  if (typePrefix && localName.indexOf(typePrefix) === 0) {\n    return nameNs.prefix + ':' + localName.slice(typePrefix.length);\n  } else {\n    return name;\n  }\n}\n\nfunction normalizeXsiTypeName(name, model) {\n\n  var nameNs = parseNameNS(name);\n  var pkg = model.getPackage(nameNs.prefix);\n\n  return prefixedToName(nameNs, pkg);\n}\n\nfunction error(message) {\n  return new Error(message);\n}\n\n/**\n * Get the moddle descriptor for a given instance or type.\n *\n * @param  {ModdleElement|Function} element\n *\n * @return {Object} the moddle descriptor\n */\nfunction getModdleDescriptor(element) {\n  return element.$descriptor;\n}\n\n\n/**\n * A parse context.\n *\n * @class\n *\n * @param {Object} options\n * @param {ElementHandler} options.rootHandler the root handler for parsing a document\n * @param {boolean} [options.lax=false] whether or not to ignore invalid elements\n */\nfunction Context(options) {\n\n  /**\n   * @property {ElementHandler} rootHandler\n   */\n\n  /**\n   * @property {Boolean} lax\n   */\n\n  assign(this, options);\n\n  this.elementsById = {};\n  this.references = [];\n  this.warnings = [];\n\n  /**\n   * Add an unresolved reference.\n   *\n   * @param {Object} reference\n   */\n  this.addReference = function(reference) {\n    this.references.push(reference);\n  };\n\n  /**\n   * Add a processed element.\n   *\n   * @param {ModdleElement} element\n   */\n  this.addElement = function(element) {\n\n    if (!element) {\n      throw error('expected element');\n    }\n\n    var elementsById = this.elementsById;\n\n    var descriptor = getModdleDescriptor(element);\n\n    var idProperty = descriptor.idProperty,\n        id;\n\n    if (idProperty) {\n      id = element.get(idProperty.name);\n\n      if (id) {\n\n        // for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\n        if (!/^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i.test(id)) {\n          throw new Error('illegal ID <' + id + '>');\n        }\n\n        if (elementsById[id]) {\n          throw error('duplicate ID <' + id + '>');\n        }\n\n        elementsById[id] = element;\n      }\n    }\n  };\n\n  /**\n   * Add an import warning.\n   *\n   * @param {Object} warning\n   * @param {String} warning.message\n   * @param {Error} [warning.error]\n   */\n  this.addWarning = function(warning) {\n    this.warnings.push(warning);\n  };\n}\n\nfunction BaseHandler() {}\n\nBaseHandler.prototype.handleEnd = function() {};\nBaseHandler.prototype.handleText = function() {};\nBaseHandler.prototype.handleNode = function() {};\n\n\n/**\n * A simple pass through handler that does nothing except for\n * ignoring all input it receives.\n *\n * This is used to ignore unknown elements and\n * attributes.\n */\nfunction NoopHandler() { }\n\nNoopHandler.prototype = Object.create(BaseHandler.prototype);\n\nNoopHandler.prototype.handleNode = function() {\n  return this;\n};\n\nfunction BodyHandler() {}\n\nBodyHandler.prototype = Object.create(BaseHandler.prototype);\n\nBodyHandler.prototype.handleText = function(text) {\n  this.body = (this.body || '') + text;\n};\n\nfunction ReferenceHandler(property, context) {\n  this.property = property;\n  this.context = context;\n}\n\nReferenceHandler.prototype = Object.create(BodyHandler.prototype);\n\nReferenceHandler.prototype.handleNode = function(node) {\n\n  if (this.element) {\n    throw error('expected no sub nodes');\n  } else {\n    this.element = this.createReference(node);\n  }\n\n  return this;\n};\n\nReferenceHandler.prototype.handleEnd = function() {\n  this.element.id = this.body;\n};\n\nReferenceHandler.prototype.createReference = function(node) {\n  return {\n    property: this.property.ns.name,\n    id: ''\n  };\n};\n\nfunction ValueHandler(propertyDesc, element) {\n  this.element = element;\n  this.propertyDesc = propertyDesc;\n}\n\nValueHandler.prototype = Object.create(BodyHandler.prototype);\n\nValueHandler.prototype.handleEnd = function() {\n\n  var value = this.body || '',\n      element = this.element,\n      propertyDesc = this.propertyDesc;\n\n  value = coerceType(propertyDesc.type, value);\n\n  if (propertyDesc.isMany) {\n    element.get(propertyDesc.name).push(value);\n  } else {\n    element.set(propertyDesc.name, value);\n  }\n};\n\n\nfunction BaseElementHandler() {}\n\nBaseElementHandler.prototype = Object.create(BodyHandler.prototype);\n\nBaseElementHandler.prototype.handleNode = function(node) {\n  var parser = this,\n      element = this.element;\n\n  if (!element) {\n    element = this.element = this.createElement(node);\n\n    this.context.addElement(element);\n  } else {\n    parser = this.handleChild(node);\n  }\n\n  return parser;\n};\n\n/**\n * @class Reader.ElementHandler\n *\n */\nfunction ElementHandler(model, typeName, context) {\n  this.model = model;\n  this.type = model.getType(typeName);\n  this.context = context;\n}\n\nElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nElementHandler.prototype.addReference = function(reference) {\n  this.context.addReference(reference);\n};\n\nElementHandler.prototype.handleText = function(text) {\n\n  var element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (!bodyProperty) {\n    throw error('unexpected body text <' + text + '>');\n  }\n\n  BodyHandler.prototype.handleText.call(this, text);\n};\n\nElementHandler.prototype.handleEnd = function() {\n\n  var value = this.body,\n      element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (bodyProperty && value !== undefined) {\n    value = coerceType(bodyProperty.type, value);\n    element.set(bodyProperty.name, value);\n  }\n};\n\n/**\n * Create an instance of the model from the given node.\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.createElement = function(node) {\n  var attributes = node.attributes,\n      Type = this.type,\n      descriptor = getModdleDescriptor(Type),\n      context = this.context,\n      instance = new Type({}),\n      model = this.model,\n      propNameNs;\n\n  forEach(attributes, function(value, name) {\n\n    var prop = descriptor.propertiesByName[name],\n        values;\n\n    if (prop && prop.isReference) {\n\n      if (!prop.isMany) {\n        context.addReference({\n          element: instance,\n          property: prop.ns.name,\n          id: value\n        });\n      } else {\n\n        // IDREFS: parse references as whitespace-separated list\n        values = value.split(' ');\n\n        forEach(values, function(v) {\n          context.addReference({\n            element: instance,\n            property: prop.ns.name,\n            id: v\n          });\n        });\n      }\n\n    } else {\n      if (prop) {\n        value = coerceType(prop.type, value);\n      } else\n      if (name !== 'xmlns') {\n        propNameNs = parseNameNS(name, descriptor.ns.prefix);\n\n        // check whether attribute is defined in a well-known namespace\n        // if that is the case we emit a warning to indicate potential misuse\n        if (model.getPackage(propNameNs.prefix)) {\n\n          context.addWarning({\n            message: 'unknown attribute <' + name + '>',\n            element: instance,\n            property: name,\n            value: value\n          });\n        }\n      }\n\n      instance.set(name, value);\n    }\n  });\n\n  return instance;\n};\n\nElementHandler.prototype.getPropertyForNode = function(node) {\n\n  var name = node.name;\n  var nameNs = parseNameNS(name);\n\n  var type = this.type,\n      model = this.model,\n      descriptor = getModdleDescriptor(type);\n\n  var propertyName = nameNs.name,\n      property = descriptor.propertiesByName[propertyName],\n      elementTypeName,\n      elementType;\n\n  // search for properties by name first\n\n  if (property && !property.isAttr) {\n\n    if (serializeAsType(property)) {\n      elementTypeName = node.attributes[XSI_TYPE];\n\n      // xsi type is optional, if it does not exists the\n      // default type is assumed\n      if (elementTypeName) {\n\n        // take possible type prefixes from XML\n        // into account, i.e.: xsi:type=\"t{ActualType}\"\n        elementTypeName = normalizeXsiTypeName(elementTypeName, model);\n\n        elementType = model.getType(elementTypeName);\n\n        return assign({}, property, {\n          effectiveType: getModdleDescriptor(elementType).name\n        });\n      }\n    }\n\n    // search for properties by name first\n    return property;\n  }\n\n  var pkg = model.getPackage(nameNs.prefix);\n\n  if (pkg) {\n    elementTypeName = aliasToName(nameNs, pkg);\n    elementType = model.getType(elementTypeName);\n\n    // search for collection members later\n    property = find(descriptor.properties, function(p) {\n      return !p.isVirtual && !p.isReference && !p.isAttribute && elementType.hasType(p.type);\n    });\n\n    if (property) {\n      return assign({}, property, {\n        effectiveType: getModdleDescriptor(elementType).name\n      });\n    }\n  } else {\n\n    // parse unknown element (maybe extension)\n    property = find(descriptor.properties, function(p) {\n      return !p.isReference && !p.isAttribute && p.type === 'Element';\n    });\n\n    if (property) {\n      return property;\n    }\n  }\n\n  throw error('unrecognized element <' + nameNs.name + '>');\n};\n\nElementHandler.prototype.toString = function() {\n  return 'ElementDescriptor[' + getModdleDescriptor(this.type).name + ']';\n};\n\nElementHandler.prototype.valueHandler = function(propertyDesc, element) {\n  return new ValueHandler(propertyDesc, element);\n};\n\nElementHandler.prototype.referenceHandler = function(propertyDesc) {\n  return new ReferenceHandler(propertyDesc, this.context);\n};\n\nElementHandler.prototype.handler = function(type) {\n  if (type === 'Element') {\n    return new GenericElementHandler(this.model, type, this.context);\n  } else {\n    return new ElementHandler(this.model, type, this.context);\n  }\n};\n\n/**\n * Handle the child element parsing\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.handleChild = function(node) {\n  var propertyDesc, type, element, childHandler;\n\n  propertyDesc = this.getPropertyForNode(node);\n  element = this.element;\n\n  type = propertyDesc.effectiveType || propertyDesc.type;\n\n  if (isSimpleType(type)) {\n    return this.valueHandler(propertyDesc, element);\n  }\n\n  if (propertyDesc.isReference) {\n    childHandler = this.referenceHandler(propertyDesc).handleNode(node);\n  } else {\n    childHandler = this.handler(type).handleNode(node);\n  }\n\n  var newElement = childHandler.element;\n\n  // child handles may decide to skip elements\n  // by not returning anything\n  if (newElement !== undefined) {\n\n    if (propertyDesc.isMany) {\n      element.get(propertyDesc.name).push(newElement);\n    } else {\n      element.set(propertyDesc.name, newElement);\n    }\n\n    if (propertyDesc.isReference) {\n      assign(newElement, {\n        element: element\n      });\n\n      this.context.addReference(newElement);\n    } else {\n\n      // establish child -> parent relationship\n      newElement.$parent = element;\n    }\n  }\n\n  return childHandler;\n};\n\n/**\n * An element handler that performs special validation\n * to ensure the node it gets initialized with matches\n * the handlers type (namespace wise).\n *\n * @param {Moddle} model\n * @param {String} typeName\n * @param {Context} context\n */\nfunction RootElementHandler(model, typeName, context) {\n  ElementHandler.call(this, model, typeName, context);\n}\n\nRootElementHandler.prototype = Object.create(ElementHandler.prototype);\n\nRootElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      nameNs = parseNameNS(name),\n      model = this.model,\n      type = this.type,\n      pkg = model.getPackage(nameNs.prefix),\n      typeName = pkg && aliasToName(nameNs, pkg) || name;\n\n  // verify the correct namespace if we parse\n  // the first element in the handler tree\n  //\n  // this ensures we don't mistakenly import wrong namespace elements\n  if (!type.hasType(typeName)) {\n    throw error('unexpected element <' + node.originalName + '>');\n  }\n\n  return ElementHandler.prototype.createElement.call(this, node);\n};\n\n\nfunction GenericElementHandler(model, typeName, context) {\n  this.model = model;\n  this.context = context;\n}\n\nGenericElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nGenericElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      ns = parseNameNS(name),\n      prefix = ns.prefix,\n      uri = node.ns[prefix + '$uri'],\n      attributes = node.attributes;\n\n  return this.model.createAny(name, uri, attributes);\n};\n\nGenericElementHandler.prototype.handleChild = function(node) {\n\n  var handler = new GenericElementHandler(this.model, 'Element', this.context).handleNode(node),\n      element = this.element;\n\n  var newElement = handler.element,\n      children;\n\n  if (newElement !== undefined) {\n    children = element.$children = element.$children || [];\n    children.push(newElement);\n\n    // establish child -> parent relationship\n    newElement.$parent = element;\n  }\n\n  return handler;\n};\n\nGenericElementHandler.prototype.handleEnd = function() {\n  if (this.body) {\n    this.element.$body = this.body;\n  }\n};\n\n/**\n * A reader for a meta-model\n *\n * @param {Object} options\n * @param {Model} options.model used to read xml files\n * @param {Boolean} options.lax whether to make parse errors warnings\n */\nfunction Reader(options) {\n\n  if (options instanceof Moddle) {\n    options = {\n      model: options\n    };\n  }\n\n  assign(this, { lax: false }, options);\n}\n\n/**\n * The fromXML result.\n *\n * @typedef {Object} ParseResult\n *\n * @property {ModdleElement} rootElement\n * @property {Array<Object>} references\n * @property {Array<Error>} warnings\n * @property {Object} elementsById - a mapping containing each ID -> ModdleElement\n */\n\n/**\n * The fromXML result.\n *\n * @typedef {Error} ParseError\n *\n * @property {Array<Error>} warnings\n */\n\n/**\n * Parse the given XML into a moddle document tree.\n *\n * @param {String} xml\n * @param {ElementHandler|Object} options or rootHandler\n *\n * @returns {Promise<ParseResult, ParseError>}\n */\nReader.prototype.fromXML = function(xml, options, done) {\n\n  var rootHandler = options.rootHandler;\n\n  if (options instanceof ElementHandler) {\n\n    // root handler passed via (xml, { rootHandler: ElementHandler }, ...)\n    rootHandler = options;\n    options = {};\n  } else {\n    if (typeof options === 'string') {\n\n      // rootHandler passed via (xml, 'someString', ...)\n      rootHandler = this.handler(options);\n      options = {};\n    } else if (typeof rootHandler === 'string') {\n\n      // rootHandler passed via (xml, { rootHandler: 'someString' }, ...)\n      rootHandler = this.handler(rootHandler);\n    }\n  }\n\n  var model = this.model,\n      lax = this.lax;\n\n  var context = new Context(assign({}, options, { rootHandler: rootHandler })),\n      parser = new Parser({ proxy: true }),\n      stack = createStack();\n\n  rootHandler.context = context;\n\n  // push root handler\n  stack.push(rootHandler);\n\n\n  /**\n   * Handle error.\n   *\n   * @param  {Error} err\n   * @param  {Function} getContext\n   * @param  {boolean} lax\n   *\n   * @return {boolean} true if handled\n   */\n  function handleError(err, getContext, lax) {\n\n    var ctx = getContext();\n\n    var line = ctx.line,\n        column = ctx.column,\n        data = ctx.data;\n\n    // we receive the full context data here,\n    // for elements trim down the information\n    // to the tag name, only\n    if (data.charAt(0) === '<' && data.indexOf(' ') !== -1) {\n      data = data.slice(0, data.indexOf(' ')) + '>';\n    }\n\n    var message =\n      'unparsable content ' + (data ? data + ' ' : '') + 'detected\\n\\t' +\n        'line: ' + line + '\\n\\t' +\n        'column: ' + column + '\\n\\t' +\n        'nested error: ' + err.message;\n\n    if (lax) {\n      context.addWarning({\n        message: message,\n        error: err\n      });\n\n      return true;\n    } else {\n      throw error(message);\n    }\n  }\n\n  function handleWarning(err, getContext) {\n\n    // just like handling errors in <lax=true> mode\n    return handleError(err, getContext, true);\n  }\n\n  /**\n   * Resolve collected references on parse end.\n   */\n  function resolveReferences() {\n\n    var elementsById = context.elementsById;\n    var references = context.references;\n\n    var i, r;\n\n    for (i = 0; (r = references[i]); i++) {\n      var element = r.element;\n      var reference = elementsById[r.id];\n      var property = getModdleDescriptor(element).propertiesByName[r.property];\n\n      if (!reference) {\n        context.addWarning({\n          message: 'unresolved reference <' + r.id + '>',\n          element: r.element,\n          property: r.property,\n          value: r.id\n        });\n      }\n\n      if (property.isMany) {\n        var collection = element.get(property.name),\n            idx = collection.indexOf(r);\n\n        // we replace an existing place holder (idx != -1) or\n        // append to the collection instead\n        if (idx === -1) {\n          idx = collection.length;\n        }\n\n        if (!reference) {\n\n          // remove unresolvable reference\n          collection.splice(idx, 1);\n        } else {\n\n          // add or update reference in collection\n          collection[idx] = reference;\n        }\n      } else {\n        element.set(property.name, reference);\n      }\n    }\n  }\n\n  function handleClose() {\n    stack.pop().handleEnd();\n  }\n\n  var PREAMBLE_START_PATTERN = /^<\\?xml /i;\n\n  var ENCODING_PATTERN = / encoding=\"([^\"]+)\"/i;\n\n  var UTF_8_PATTERN = /^utf-8$/i;\n\n  function handleQuestion(question) {\n\n    if (!PREAMBLE_START_PATTERN.test(question)) {\n      return;\n    }\n\n    var match = ENCODING_PATTERN.exec(question);\n    var encoding = match && match[1];\n\n    if (!encoding || UTF_8_PATTERN.test(encoding)) {\n      return;\n    }\n\n    context.addWarning({\n      message:\n        'unsupported document encoding <' + encoding + '>, ' +\n        'falling back to UTF-8'\n    });\n  }\n\n  function handleOpen(node, getContext) {\n    var handler = stack.peek();\n\n    try {\n      stack.push(handler.handleNode(node));\n    } catch (err) {\n\n      if (handleError(err, getContext, lax)) {\n        stack.push(new NoopHandler());\n      }\n    }\n  }\n\n  function handleCData(text, getContext) {\n\n    try {\n      stack.peek().handleText(text);\n    } catch (err) {\n      handleWarning(err, getContext);\n    }\n  }\n\n  function handleText(text, getContext) {\n\n    // strip whitespace only nodes, i.e. before\n    // <!CDATA[ ... ]> sections and in between tags\n\n    if (!text.trim()) {\n      return;\n    }\n\n    handleCData(text, getContext);\n  }\n\n  var uriMap = model.getPackages().reduce(function(uriMap, p) {\n    uriMap[p.uri] = p.prefix;\n\n    return uriMap;\n  }, {\n    'http://www.w3.org/XML/1998/namespace': 'xml' // add default xml ns\n  });\n  parser\n    .ns(uriMap)\n    .on('openTag', function(obj, decodeStr, selfClosing, getContext) {\n\n      // gracefully handle unparsable attributes (attrs=false)\n      var attrs = obj.attrs || {};\n\n      var decodedAttrs = Object.keys(attrs).reduce(function(d, key) {\n        var value = decodeStr(attrs[key]);\n\n        d[key] = value;\n\n        return d;\n      }, {});\n\n      var node = {\n        name: obj.name,\n        originalName: obj.originalName,\n        attributes: decodedAttrs,\n        ns: obj.ns\n      };\n\n      handleOpen(node, getContext);\n    })\n    .on('question', handleQuestion)\n    .on('closeTag', handleClose)\n    .on('cdata', handleCData)\n    .on('text', function(text, decodeEntities, getContext) {\n      handleText(decodeEntities(text), getContext);\n    })\n    .on('error', handleError)\n    .on('warn', handleWarning);\n\n  // async XML parsing to make sure the execution environment\n  // (node or brower) is kept responsive and that certain optimization\n  // strategies can kick in.\n  return new Promise(function(resolve, reject) {\n\n    var err;\n\n    try {\n      parser.parse(xml);\n\n      resolveReferences();\n    } catch (e) {\n      err = e;\n    }\n\n    var rootElement = rootHandler.element;\n\n    if (!err && !rootElement) {\n      err = error('failed to parse document as <' + rootHandler.type.$descriptor.name + '>');\n    }\n\n    var warnings = context.warnings;\n    var references = context.references;\n    var elementsById = context.elementsById;\n\n    if (err) {\n      err.warnings = warnings;\n\n      return reject(err);\n    } else {\n      return resolve({\n        rootElement: rootElement,\n        elementsById: elementsById,\n        references: references,\n        warnings: warnings\n      });\n    }\n  });\n};\n\nReader.prototype.handler = function(name) {\n  return new RootElementHandler(this.model, name);\n};\n\n\n// helpers //////////////////////////\n\nfunction createStack() {\n  var stack = [];\n\n  Object.defineProperty(stack, 'peek', {\n    value: function() {\n      return this[this.length - 1];\n    }\n  });\n\n  return stack;\n}\n\nvar XML_PREAMBLE = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n\nvar ESCAPE_ATTR_CHARS = /<|>|'|\"|&|\\n\\r|\\n/g;\nvar ESCAPE_CHARS = /<|>|&/g;\n\n\nfunction Namespaces(parent) {\n\n  var prefixMap = {};\n  var uriMap = {};\n  var used = {};\n\n  var wellknown = [];\n  var custom = [];\n\n  // API\n\n  this.byUri = function(uri) {\n    return uriMap[uri] || (\n      parent && parent.byUri(uri)\n    );\n  };\n\n  this.add = function(ns, isWellknown) {\n\n    uriMap[ns.uri] = ns;\n\n    if (isWellknown) {\n      wellknown.push(ns);\n    } else {\n      custom.push(ns);\n    }\n\n    this.mapPrefix(ns.prefix, ns.uri);\n  };\n\n  this.uriByPrefix = function(prefix) {\n    return prefixMap[prefix || 'xmlns'];\n  };\n\n  this.mapPrefix = function(prefix, uri) {\n    prefixMap[prefix || 'xmlns'] = uri;\n  };\n\n  this.getNSKey = function(ns) {\n    return (ns.prefix !== undefined) ? (ns.uri + '|' + ns.prefix) : ns.uri;\n  };\n\n  this.logUsed = function(ns) {\n\n    var uri = ns.uri;\n    var nsKey = this.getNSKey(ns);\n\n    used[nsKey] = this.byUri(uri);\n\n    // Inform parent recursively about the usage of this NS\n    if (parent) {\n      parent.logUsed(ns);\n    }\n  };\n\n  this.getUsed = function(ns) {\n\n    function isUsed(ns) {\n      var nsKey = self.getNSKey(ns);\n\n      return used[nsKey];\n    }\n\n    var self = this;\n\n    var allNs = [].concat(wellknown, custom);\n\n    return allNs.filter(isUsed);\n  };\n\n}\n\nfunction lower(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\nfunction nameToAlias(name, pkg) {\n  if (hasLowerCaseAlias(pkg)) {\n    return lower(name);\n  } else {\n    return name;\n  }\n}\n\nfunction inherits(ctor, superCtor) {\n  ctor.super_ = superCtor;\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nfunction nsName(ns) {\n  if (isString(ns)) {\n    return ns;\n  } else {\n    return (ns.prefix ? ns.prefix + ':' : '') + ns.localName;\n  }\n}\n\nfunction getNsAttrs(namespaces) {\n\n  return namespaces.getUsed().filter(function(ns) {\n\n    // do not serialize built in <xml> namespace\n    return ns.prefix !== 'xml';\n  }).map(function(ns) {\n    var name = 'xmlns' + (ns.prefix ? ':' + ns.prefix : '');\n    return { name: name, value: ns.uri };\n  });\n\n}\n\nfunction getElementNs(ns, descriptor) {\n  if (descriptor.isGeneric) {\n    return assign({ localName: descriptor.ns.localName }, ns);\n  } else {\n    return assign({ localName: nameToAlias(descriptor.ns.localName, descriptor.$pkg) }, ns);\n  }\n}\n\nfunction getPropertyNs(ns, descriptor) {\n  return assign({ localName: descriptor.ns.localName }, ns);\n}\n\nfunction getSerializableProperties(element) {\n  var descriptor = element.$descriptor;\n\n  return filter(descriptor.properties, function(p) {\n    var name = p.name;\n\n    if (p.isVirtual) {\n      return false;\n    }\n\n    // do not serialize defaults\n    if (!has(element, name)) {\n      return false;\n    }\n\n    var value = element[name];\n\n    // do not serialize default equals\n    if (value === p.default) {\n      return false;\n    }\n\n    // do not serialize null properties\n    if (value === null) {\n      return false;\n    }\n\n    return p.isMany ? value.length : true;\n  });\n}\n\nvar ESCAPE_ATTR_MAP = {\n  '\\n': '#10',\n  '\\n\\r': '#10',\n  '\"': '#34',\n  '\\'': '#39',\n  '<': '#60',\n  '>': '#62',\n  '&': '#38'\n};\n\nvar ESCAPE_MAP = {\n  '<': 'lt',\n  '>': 'gt',\n  '&': 'amp'\n};\n\nfunction escape(str, charPattern, replaceMap) {\n\n  // ensure we are handling strings here\n  str = isString(str) ? str : '' + str;\n\n  return str.replace(charPattern, function(s) {\n    return '&' + replaceMap[s] + ';';\n  });\n}\n\n/**\n * Escape a string attribute to not contain any bad values (line breaks, '\"', ...)\n *\n * @param {String} str the string to escape\n * @return {String} the escaped string\n */\nfunction escapeAttr(str) {\n  return escape(str, ESCAPE_ATTR_CHARS, ESCAPE_ATTR_MAP);\n}\n\nfunction escapeBody(str) {\n  return escape(str, ESCAPE_CHARS, ESCAPE_MAP);\n}\n\nfunction filterAttributes(props) {\n  return filter(props, function(p) { return p.isAttr; });\n}\n\nfunction filterContained(props) {\n  return filter(props, function(p) { return !p.isAttr; });\n}\n\n\nfunction ReferenceSerializer(tagName) {\n  this.tagName = tagName;\n}\n\nReferenceSerializer.prototype.build = function(element) {\n  this.element = element;\n  return this;\n};\n\nReferenceSerializer.prototype.serializeTo = function(writer) {\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>' + this.element.id + '</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction BodySerializer() {}\n\nBodySerializer.prototype.serializeValue =\nBodySerializer.prototype.serializeTo = function(writer) {\n  writer.append(\n    this.escape\n      ? escapeBody(this.value)\n      : this.value\n  );\n};\n\nBodySerializer.prototype.build = function(prop, value) {\n  this.value = value;\n\n  if (prop.type === 'String' && value.search(ESCAPE_CHARS) !== -1) {\n    this.escape = true;\n  }\n\n  return this;\n};\n\nfunction ValueSerializer(tagName) {\n  this.tagName = tagName;\n}\n\ninherits(ValueSerializer, BodySerializer);\n\nValueSerializer.prototype.serializeTo = function(writer) {\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>');\n\n  this.serializeValue(writer);\n\n  writer\n    .append('</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction ElementSerializer(parent, propertyDescriptor) {\n  this.body = [];\n  this.attrs = [];\n\n  this.parent = parent;\n  this.propertyDescriptor = propertyDescriptor;\n}\n\nElementSerializer.prototype.build = function(element) {\n  this.element = element;\n\n  var elementDescriptor = element.$descriptor,\n      propertyDescriptor = this.propertyDescriptor;\n\n  var otherAttrs,\n      properties;\n\n  var isGeneric = elementDescriptor.isGeneric;\n\n  if (isGeneric) {\n    otherAttrs = this.parseGeneric(element);\n  } else {\n    otherAttrs = this.parseNsAttributes(element);\n  }\n\n  if (propertyDescriptor) {\n    this.ns = this.nsPropertyTagName(propertyDescriptor);\n  } else {\n    this.ns = this.nsTagName(elementDescriptor);\n  }\n\n  // compute tag name\n  this.tagName = this.addTagName(this.ns);\n\n  if (!isGeneric) {\n    properties = getSerializableProperties(element);\n\n    this.parseAttributes(filterAttributes(properties));\n    this.parseContainments(filterContained(properties));\n  }\n\n  this.parseGenericAttributes(element, otherAttrs);\n\n  return this;\n};\n\nElementSerializer.prototype.nsTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getElementNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.nsPropertyTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getPropertyNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === this.ns.uri;\n};\n\n/**\n * Get the actual ns attribute name for the given element.\n *\n * @param {Object} element\n * @param {Boolean} [element.inherited=false]\n *\n * @return {Object} nsName\n */\nElementSerializer.prototype.nsAttributeName = function(element) {\n\n  var ns;\n\n  if (isString(element)) {\n    ns = parseNameNS(element);\n  } else {\n    ns = element.ns;\n  }\n\n  // return just local name for inherited attributes\n  if (element.inherited) {\n    return { localName: ns.localName };\n  }\n\n  // parse + log effective ns\n  var effectiveNs = this.logNamespaceUsed(ns);\n\n  // LOG ACTUAL namespace use\n  this.getNamespaces().logUsed(effectiveNs);\n\n  // strip prefix if same namespace like parent\n  if (this.isLocalNs(effectiveNs)) {\n    return { localName: ns.localName };\n  } else {\n    return assign({ localName: ns.localName }, effectiveNs);\n  }\n};\n\nElementSerializer.prototype.parseGeneric = function(element) {\n\n  var self = this,\n      body = this.body;\n\n  var attributes = [];\n\n  forEach(element, function(val, key) {\n\n    var nonNsAttr;\n\n    if (key === '$body') {\n      body.push(new BodySerializer().build({ type: 'String' }, val));\n    } else\n    if (key === '$children') {\n      forEach(val, function(child) {\n        body.push(new ElementSerializer(self).build(child));\n      });\n    } else\n    if (key.indexOf('$') !== 0) {\n      nonNsAttr = self.parseNsAttribute(element, key, val);\n\n      if (nonNsAttr) {\n        attributes.push({ name: key, value: val });\n      }\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseNsAttribute = function(element, name, value) {\n  var model = element.$model;\n\n  var nameNs = parseNameNS(name);\n\n  var ns;\n\n  // parse xmlns:foo=\"http://foo.bar\"\n  if (nameNs.prefix === 'xmlns') {\n    ns = { prefix: nameNs.localName, uri: value };\n  }\n\n  // parse xmlns=\"http://foo.bar\"\n  if (!nameNs.prefix && nameNs.localName === 'xmlns') {\n    ns = { uri: value };\n  }\n\n  if (!ns) {\n    return {\n      name: name,\n      value: value\n    };\n  }\n\n  if (model && model.getPackage(value)) {\n\n    // register well known namespace\n    this.logNamespace(ns, true, true);\n  } else {\n\n    // log custom namespace directly as used\n    var actualNs = this.logNamespaceUsed(ns, true);\n\n    this.getNamespaces().logUsed(actualNs);\n  }\n};\n\n\n/**\n * Parse namespaces and return a list of left over generic attributes\n *\n * @param  {Object} element\n * @return {Array<Object>}\n */\nElementSerializer.prototype.parseNsAttributes = function(element, attrs) {\n  var self = this;\n\n  var genericAttrs = element.$attrs;\n\n  var attributes = [];\n\n  // parse namespace attributes first\n  // and log them. push non namespace attributes to a list\n  // and process them later\n  forEach(genericAttrs, function(value, name) {\n\n    var nonNsAttr = self.parseNsAttribute(element, name, value);\n\n    if (nonNsAttr) {\n      attributes.push(nonNsAttr);\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseGenericAttributes = function(element, attributes) {\n\n  var self = this;\n\n  forEach(attributes, function(attr) {\n\n    // do not serialize xsi:type attribute\n    // it is set manually based on the actual implementation type\n    if (attr.name === XSI_TYPE) {\n      return;\n    }\n\n    try {\n      self.addAttribute(self.nsAttributeName(attr.name), attr.value);\n    } catch (e) {\n      console.warn(\n        'missing namespace information for ',\n        attr.name, '=', attr.value, 'on', element,\n        e);\n    }\n  });\n};\n\nElementSerializer.prototype.parseContainments = function(properties) {\n\n  var self = this,\n      body = this.body,\n      element = this.element;\n\n  forEach(properties, function(p) {\n    var value = element.get(p.name),\n        isReference = p.isReference,\n        isMany = p.isMany;\n\n    if (!isMany) {\n      value = [ value ];\n    }\n\n    if (p.isBody) {\n      body.push(new BodySerializer().build(p, value[0]));\n    } else\n    if (isSimpleType(p.type)) {\n      forEach(value, function(v) {\n        body.push(new ValueSerializer(self.addTagName(self.nsPropertyTagName(p))).build(p, v));\n      });\n    } else\n    if (isReference) {\n      forEach(value, function(v) {\n        body.push(new ReferenceSerializer(self.addTagName(self.nsPropertyTagName(p))).build(v));\n      });\n    } else {\n\n      // allow serialization via type\n      // rather than element name\n      var asType = serializeAsType(p),\n          asProperty = serializeAsProperty(p);\n\n      forEach(value, function(v) {\n        var serializer;\n\n        if (asType) {\n          serializer = new TypeSerializer(self, p);\n        } else\n        if (asProperty) {\n          serializer = new ElementSerializer(self, p);\n        } else {\n          serializer = new ElementSerializer(self);\n        }\n\n        body.push(serializer.build(v));\n      });\n    }\n  });\n};\n\nElementSerializer.prototype.getNamespaces = function(local) {\n\n  var namespaces = this.namespaces,\n      parent = this.parent,\n      parentNamespaces;\n\n  if (!namespaces) {\n    parentNamespaces = parent && parent.getNamespaces();\n\n    if (local || !parentNamespaces) {\n      this.namespaces = namespaces = new Namespaces(parentNamespaces);\n    } else {\n      namespaces = parentNamespaces;\n    }\n  }\n\n  return namespaces;\n};\n\nElementSerializer.prototype.logNamespace = function(ns, wellknown, local) {\n  var namespaces = this.getNamespaces(local);\n\n  var nsUri = ns.uri,\n      nsPrefix = ns.prefix;\n\n  var existing = namespaces.byUri(nsUri);\n\n  if (!existing || local) {\n    namespaces.add(ns, wellknown);\n  }\n\n  namespaces.mapPrefix(nsPrefix, nsUri);\n\n  return ns;\n};\n\nElementSerializer.prototype.logNamespaceUsed = function(ns, local) {\n  var element = this.element,\n      model = element.$model,\n      namespaces = this.getNamespaces(local);\n\n  // ns may be\n  //\n  //   * prefix only\n  //   * prefix:uri\n  //   * localName only\n\n  var prefix = ns.prefix,\n      uri = ns.uri,\n      newPrefix, idx,\n      wellknownUri;\n\n  // handle anonymous namespaces (elementForm=unqualified), cf. #23\n  if (!prefix && !uri) {\n    return { localName: ns.localName };\n  }\n\n  wellknownUri = DEFAULT_NS_MAP[prefix] || model && (model.getPackage(prefix) || {}).uri;\n\n  uri = uri || wellknownUri || namespaces.uriByPrefix(prefix);\n\n  if (!uri) {\n    throw new Error('no namespace uri given for prefix <' + prefix + '>');\n  }\n\n  ns = namespaces.byUri(uri);\n\n  if (!ns) {\n    newPrefix = prefix;\n    idx = 1;\n\n    // find a prefix that is not mapped yet\n    while (namespaces.uriByPrefix(newPrefix)) {\n      newPrefix = prefix + '_' + idx++;\n    }\n\n    ns = this.logNamespace({ prefix: newPrefix, uri: uri }, wellknownUri === uri);\n  }\n\n  if (prefix) {\n    namespaces.mapPrefix(prefix, uri);\n  }\n\n  return ns;\n};\n\nElementSerializer.prototype.parseAttributes = function(properties) {\n  var self = this,\n      element = this.element;\n\n  forEach(properties, function(p) {\n\n    var value = element.get(p.name);\n\n    if (p.isReference) {\n\n      if (!p.isMany) {\n        value = value.id;\n      }\n      else {\n        var values = [];\n        forEach(value, function(v) {\n          values.push(v.id);\n        });\n\n        // IDREFS is a whitespace-separated list of references.\n        value = values.join(' ');\n      }\n\n    }\n\n    self.addAttribute(self.nsAttributeName(p), value);\n  });\n};\n\nElementSerializer.prototype.addTagName = function(nsTagName) {\n  var actualNs = this.logNamespaceUsed(nsTagName);\n\n  this.getNamespaces().logUsed(actualNs);\n\n  return nsName(nsTagName);\n};\n\nElementSerializer.prototype.addAttribute = function(name, value) {\n  var attrs = this.attrs;\n\n  if (isString(value)) {\n    value = escapeAttr(value);\n  }\n\n  attrs.push({ name: name, value: value });\n};\n\nElementSerializer.prototype.serializeAttributes = function(writer) {\n  var attrs = this.attrs,\n      namespaces = this.namespaces;\n\n  if (namespaces) {\n    attrs = getNsAttrs(namespaces).concat(attrs);\n  }\n\n  forEach(attrs, function(a) {\n    writer\n      .append(' ')\n      .append(nsName(a.name)).append('=\"').append(a.value).append('\"');\n  });\n};\n\nElementSerializer.prototype.serializeTo = function(writer) {\n  var firstBody = this.body[0],\n      indent = firstBody && firstBody.constructor !== BodySerializer;\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName);\n\n  this.serializeAttributes(writer);\n\n  writer.append(firstBody ? '>' : ' />');\n\n  if (firstBody) {\n\n    if (indent) {\n      writer\n        .appendNewLine()\n        .indent();\n    }\n\n    forEach(this.body, function(b) {\n      b.serializeTo(writer);\n    });\n\n    if (indent) {\n      writer\n        .unindent()\n        .appendIndent();\n    }\n\n    writer.append('</' + this.tagName + '>');\n  }\n\n  writer.appendNewLine();\n};\n\n/**\n * A serializer for types that handles serialization of data types\n */\nfunction TypeSerializer(parent, propertyDescriptor) {\n  ElementSerializer.call(this, parent, propertyDescriptor);\n}\n\ninherits(TypeSerializer, ElementSerializer);\n\nTypeSerializer.prototype.parseNsAttributes = function(element) {\n\n  // extracted attributes\n  var attributes = ElementSerializer.prototype.parseNsAttributes.call(this, element);\n\n  var descriptor = element.$descriptor;\n\n  // only serialize xsi:type if necessary\n  if (descriptor.name === this.propertyDescriptor.type) {\n    return attributes;\n  }\n\n  var typeNs = this.typeNs = this.nsTagName(descriptor);\n  this.getNamespaces().logUsed(this.typeNs);\n\n  // add xsi:type attribute to represent the elements\n  // actual type\n\n  var pkg = element.$model.getPackage(typeNs.uri),\n      typePrefix = (pkg.xml && pkg.xml.typePrefix) || '';\n\n  this.addAttribute(\n    this.nsAttributeName(XSI_TYPE),\n    (typeNs.prefix ? typeNs.prefix + ':' : '') + typePrefix + descriptor.ns.localName\n  );\n\n  return attributes;\n};\n\nTypeSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === (this.typeNs || this.ns).uri;\n};\n\nfunction SavingWriter() {\n  this.value = '';\n\n  this.write = function(str) {\n    this.value += str;\n  };\n}\n\nfunction FormatingWriter(out, format) {\n\n  var indent = [''];\n\n  this.append = function(str) {\n    out.write(str);\n\n    return this;\n  };\n\n  this.appendNewLine = function() {\n    if (format) {\n      out.write('\\n');\n    }\n\n    return this;\n  };\n\n  this.appendIndent = function() {\n    if (format) {\n      out.write(indent.join('  '));\n    }\n\n    return this;\n  };\n\n  this.indent = function() {\n    indent.push('');\n    return this;\n  };\n\n  this.unindent = function() {\n    indent.pop();\n    return this;\n  };\n}\n\n/**\n * A writer for meta-model backed document trees\n *\n * @param {Object} options output options to pass into the writer\n */\nfunction Writer(options) {\n\n  options = assign({ format: false, preamble: true }, options || {});\n\n  function toXML(tree, writer) {\n    var internalWriter = writer || new SavingWriter();\n    var formatingWriter = new FormatingWriter(internalWriter, options.format);\n\n    if (options.preamble) {\n      formatingWriter.append(XML_PREAMBLE);\n    }\n\n    new ElementSerializer().build(tree).serializeTo(formatingWriter);\n\n    if (!writer) {\n      return internalWriter.value;\n    }\n  }\n\n  return {\n    toXML: toXML\n  };\n}\n\nexport { Reader, Writer };\n","import { isString, assign } from 'min-dash';\nimport { Moddle } from 'moddle';\nimport { Reader, Writer } from 'moddle-xml';\n\n/**\n * A sub class of {@link Moddle} with support for import and export of DMN xml files.\n *\n * @class DmnModdle\n * @extends Moddle\n *\n * @param {Object|Array} packages to use for instantiating the model\n * @param {Object} [options] additional options to pass over\n */\nfunction DmnModdle(packages, options) {\n  Moddle.call(this, packages, options);\n}\n\nDmnModdle.prototype = Object.create(Moddle.prototype);\n\n/**\n * The fromXML result.\n *\n * @typedef {Object} ParseResult\n *\n * @property {ModdleElement} rootElement\n * @property {Array<Object>} references\n * @property {Array<Error>} warnings\n * @property {Object} elementsById - a mapping containing each ID -> ModdleElement\n */\n\n/**\n * The fromXML error.\n *\n * @typedef {Error} ParseError\n *\n * @property {Array<Error>} warnings\n */\n\n/**\n * Instantiates a DMN model tree from a given xml string.\n *\n * @param {String}   xmlStr\n * @param {String}   [typeName='dmn:Definitions'] name of the root element\n * @param {Object}   [options]  options to pass to the underlying reader\n *\n * @returns {Promise<ParseResult, ParseError>}\n */\nDmnModdle.prototype.fromXML = function(xmlStr, typeName, options) {\n\n  if (!isString(typeName)) {\n    options = typeName;\n    typeName = 'dmn:Definitions';\n  }\n\n  var reader = new Reader(assign({ model: this, lax: true }, options));\n  var rootHandler = reader.handler(typeName);\n\n  return reader.fromXML(xmlStr, rootHandler);\n};\n\n/**\n * The toXML result.\n *\n * @typedef {Object} SerializationResult\n *\n * @property {String} xml\n */\n\n/**\n * Serializes a DMN object tree to XML.\n *\n * @param {String}   element    the root element, typically an instance of `Definitions`\n * @param {Object}   [options]  to pass to the underlying writer\n *\n * @returns {Promise<SerializationResult, Error>}\n */\nDmnModdle.prototype.toXML = function(element, options) {\n\n  var writer = new Writer(options);\n\n  return new Promise(function(resolve, reject) {\n    try {\n      var result = writer.toXML(element);\n\n      return resolve({\n        xml: result\n      });\n    } catch (err) {\n      return reject(err);\n    }\n  });\n};\n\nvar name$4 = \"DC\";\nvar prefix$4 = \"dc\";\nvar uri$4 = \"http://www.omg.org/spec/DMN/20180521/DC/\";\nvar types$4 = [\n\t{\n\t\tname: \"Dimension\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Bounds\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Point\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Color\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"red\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"green\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"blue\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$3 = [\n];\nvar enumerations$3 = [\n\t{\n\t\tname: \"AlignmentKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"center\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"end\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar DcPackage = {\n\tname: name$4,\n\tprefix: prefix$4,\n\turi: uri$4,\n\ttypes: types$4,\n\tassociations: associations$3,\n\tenumerations: enumerations$3\n};\n\nvar name$3 = \"DI\";\nvar prefix$3 = \"di\";\nvar uri$3 = \"http://www.omg.org/spec/DMN/20180521/DI/\";\nvar types$3 = [\n\t{\n\t\tname: \"DiagramElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"extension\",\n\t\t\t\ttype: \"Extension\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"style\",\n\t\t\t\tisReference: true,\n\t\t\t\ttype: \"Style\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\tisReference: true,\n\t\t\t\tisVirtual: true,\n\t\t\t\ttype: \"Style\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Diagram\",\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"documentation\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"resolution\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Shape\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"bounds\",\n\t\t\t\ttype: \"dc:Bounds\"\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Edge\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"waypoint\",\n\t\t\t\ttype: \"dc:Point\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Style\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Extension\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"values\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"Element\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$2 = [\n];\nvar enumerations$2 = [\n];\nvar xml$2 = {\n\ttagAlias: \"lowerCase\"\n};\nvar DiPackage = {\n\tname: name$3,\n\tprefix: prefix$3,\n\turi: uri$3,\n\ttypes: types$3,\n\tassociations: associations$2,\n\tenumerations: enumerations$2,\n\txml: xml$2\n};\n\nvar name$2 = \"DMN\";\nvar prefix$2 = \"dmn\";\nvar uri$2 = \"https://www.omg.org/spec/DMN/20191111/MODEL/\";\nvar types$2 = [\n\t{\n\t\tname: \"AuthorityRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredAuthority\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ItemDefinition\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemComponent\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionItem\",\n\t\t\t\ttype: \"FunctionItem\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollection\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Definitions\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"import\",\n\t\t\t\ttype: \"Import\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemDefinition\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DRGElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"artifact\",\n\t\t\t\ttype: \"Artifact\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elementCollection\",\n\t\t\t\ttype: \"ElementCollection\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"businessContextElement\",\n\t\t\t\ttype: \"BusinessContextElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporter\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporterVersion\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"dmnDI\",\n\t\t\t\ttype: \"dmndi:DMNDI\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeSource\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"type\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"owner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionRule\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputEntry\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotationEntry\",\n\t\t\t\ttype: \"RuleAnnotation\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Expression\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationItem\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Decision\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"question\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedAnswers\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"informationRequirement\",\n\t\t\t\ttype: \"InformationRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"supportedObjective\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"impactedPerformanceIndicator\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionMaker\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingProcess\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingTask\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionLogic\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"calledFunction\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"binding\",\n\t\t\t\ttype: \"Binding\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OrganisationalUnit\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"decisionMade\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwned\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Import\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importType\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ElementCollection\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DRGElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t]\n\t},\n\t{\n\t\tname: \"InputData\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"description\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionElements\",\n\t\t\t\ttype: \"ExtensionElements\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputExpression\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTable\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"input\",\n\t\t\t\ttype: \"InputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"output\",\n\t\t\t\ttype: \"OutputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotation\",\n\t\t\t\ttype: \"RuleAnnotationClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"rule\",\n\t\t\t\ttype: \"DecisionRule\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"hitPolicy\",\n\t\t\t\ttype: \"HitPolicy\",\n\t\t\t\tisAttr: true,\n\t\t\t\t\"default\": \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"aggregation\",\n\t\t\t\ttype: \"BuiltinAggregator\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"preferredOrientation\",\n\t\t\t\ttype: \"DecisionTableOrientation\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputLabel\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"LiteralExpression\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"importedValues\",\n\t\t\t\ttype: \"ImportedValues\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Binding\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"parameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bindingFormula\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredKnowledge\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessKnowledgeModel\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"encapsulatedLogic\",\n\t\t\t\ttype: \"FunctionDefinition\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessContextElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"URI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"PerformanceIndicator\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"impactingDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionDefinition\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"formalParameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"body\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"kind\",\n\t\t\t\ttype: \"FunctionKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Context\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"contextEntry\",\n\t\t\t\ttype: \"ContextEntry\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ContextEntry\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"List\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"elements\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Relation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"column\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"row\",\n\t\t\t\ttype: \"List\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OutputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"defaultOutputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"UnaryTests\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"NamedElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ImportedValues\",\n\t\tsuperClass: [\n\t\t\t\"Import\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importedElement\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionService\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"encapsulatedDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputData\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionElements\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"values\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionAttribute\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Element\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"valueRef\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Element\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elements\",\n\t\t\t\ttype: \"ExtensionElements\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Artifact\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t]\n\t},\n\t{\n\t\tname: \"Association\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"associationDirection\",\n\t\t\t\ttype: \"AssociationDirection\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"TextAnnotation\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"textFormat\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\",\n\t\t\t\t\"default\": \"text/plain\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotationClause\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotation\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocable\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Group\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionItem\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"parameters\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputTypeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElementReference\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tisAttr: true,\n\t\t\t\tname: \"href\",\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar enumerations$1 = [\n\t{\n\t\tname: \"HitPolicy\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"FIRST\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PRIORITY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"ANY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COLLECT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"RULE ORDER\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"OUTPUT ORDER\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BuiltinAggregator\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"SUM\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COUNT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MIN\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MAX\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTableOrientation\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Row\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Column\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"CrossTable\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"AssociationDirection\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"None\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"One\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Both\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"FEEL\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Java\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PMML\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$1 = [\n];\nvar xml$1 = {\n\ttagAlias: \"lowerCase\"\n};\nvar DmnPackage = {\n\tname: name$2,\n\tprefix: prefix$2,\n\turi: uri$2,\n\ttypes: types$2,\n\tenumerations: enumerations$1,\n\tassociations: associations$1,\n\txml: xml$1\n};\n\nvar name$1 = \"DMNDI\";\nvar prefix$1 = \"dmndi\";\nvar uri$1 = \"https://www.omg.org/spec/DMN/20191111/DMNDI/\";\nvar types$1 = [\n\t{\n\t\tname: \"DMNDI\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"diagrams\",\n\t\t\t\ttype: \"DMNDiagram\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"styles\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNStyle\",\n\t\tsuperClass: [\n\t\t\t\"di:Style\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"fillColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"strokeColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontSize\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontFamily\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontItalic\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontBold\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontUnderline\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontStrikeThrough\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelHorizontalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelVerticalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagram\",\n\t\tsuperClass: [\n\t\t\t\"di:Diagram\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"dmn:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"size\",\n\t\t\t\ttype: \"Size\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"diagramElements\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagramElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"di:DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"dmn:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\ttype: \"DMNLabel\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNLabel\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"Text\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNShape\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"isListedInputData\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionServiceDividerLine\",\n\t\t\t\ttype: \"DMNDecisionServiceDividerLine\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollapsed\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNEdge\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDecisionServiceDividerLine\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Text\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\tisBody: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Size\",\n\t\tsuperClass: [\n\t\t\t\"dc:Dimension\"\n\t\t]\n\t}\n];\nvar associations = [\n];\nvar enumerations = [\n];\nvar DmnDiPackage = {\n\tname: name$1,\n\tprefix: prefix$1,\n\turi: uri$1,\n\ttypes: types$1,\n\tassociations: associations,\n\tenumerations: enumerations\n};\n\nvar name = \"bpmn.io DI for DMN\";\nvar uri = \"http://bpmn.io/schema/dmn/biodi/2.0\";\nvar prefix = \"biodi\";\nvar xml = {\n\ttagAlias: \"lowerCase\"\n};\nvar types = [\n\t{\n\t\tname: \"DecisionTable\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:DecisionTable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"annotationsWidth\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OutputClause\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:OutputClause\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputClause\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:InputClause\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar BioDiPackage = {\n\tname: name,\n\turi: uri,\n\tprefix: prefix,\n\txml: xml,\n\ttypes: types\n};\n\nvar packages = {\n  dc: DcPackage,\n  di: DiPackage,\n  dmn: DmnPackage,\n  dmndi: DmnDiPackage,\n  biodi: BioDiPackage\n};\n\nfunction simple(additionalPackages, options) {\n  var pks = assign({}, packages, additionalPackages);\n\n  return new DmnModdle(pks, options);\n}\n\nexport default simple;\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport DmnModdle from 'dmn-moddle';\nimport CamundaModdle from 'camunda-dmn-moddle/resources/camunda.json';\nimport { domify, query as domQuery, remove as domRemove } from 'min-dom';\nimport { assign, debounce, every, find, isDefined, isFunction, isNumber } from 'min-dash';\nimport { wrapForCompatibility } from '../util/CompatibilityUtils';\n/**\n * @typedef {import('./View').OpenResult} OpenResult\n */\n\n/**\n * @typedef {import('./View').OpenError} OpenError\n */\n\nvar DEFAULT_CONTAINER_OPTIONS = {\n  width: '100%',\n  height: '100%',\n  position: 'relative'\n};\n/**\n * The base class for DMN viewers and editors.\n *\n * @abstract\n */\n\nvar Manager = /*#__PURE__*/function () {\n  /**\n   * Create a new instance with the given options.\n   *\n   * @param  {Object} options\n   *\n   * @return {Manager}\n   */\n  function Manager() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"_viewsChanged\", function () {\n      _this._emit('views.changed', {\n        views: _this._views,\n        activeView: _this._activeView\n      });\n    });\n\n    this._eventBus = new EventBus();\n    this._viewsChanged = debounce(this._viewsChanged, 0);\n    this._views = [];\n    this._viewers = {}; // keep support for callbacks\n\n    this.open = wrapForCompatibility(this.open.bind(this));\n    this.importXML = wrapForCompatibility(this.importXML.bind(this));\n    this.saveXML = wrapForCompatibility(this.saveXML.bind(this));\n\n    this._init(options);\n  }\n  /**\n  * The importXML result.\n  *\n  * @typedef {Object} ImportXMLResult\n  *\n  * @property {Array<string>} warnings\n  */\n\n  /**\n  * The importXML error.\n  *\n  * @typedef {Error} ImportXMLError\n  *\n  * @property {Array<string>} warnings\n  */\n\n  /**\n   * Parse and render a DMN diagram.\n   *\n   * Once finished the viewer reports back the result to the\n   * provided callback function with (err, warnings).\n   *\n   * ## Life-Cycle Events\n   *\n   * During import the viewer will fire life-cycle events:\n   *\n   *   * import.parse.start (about to read model from xml)\n   *   * import.parse.complete (model read; may have worked or not)\n   *   * import.render.start (graphical import start)\n   *   * import.render.complete (graphical import finished)\n   *   * import.done (everything done)\n   *\n   * You can use these events to hook into the life-cycle.\n   *\n   * @param {string} xml the DMN xml\n   * @param {Object} [options]\n   * @param {boolean} [options.open=true]\n   *\n   * @return {Promise<ImportXMLResult, ImportXMLError>}\n   */\n\n\n  _createClass(Manager, [{\n    key: \"importXML\",\n    value: function importXML(xml, options) {\n      var self = this;\n      options = options || {\n        open: true\n      };\n      return new Promise(function (resolve, reject) {\n        // hook in pre-parse listeners +\n        // allow xml manipulation\n        xml = self._emit('import.parse.start', {\n          xml: xml\n        }) || xml;\n        var parseWarnings;\n\n        self._moddle.fromXML(xml, 'dmn:Definitions').then(function (parseResult) {\n          var definitions = parseResult.rootElement;\n          var references = parseResult.references;\n          var elementsById = parseResult.elementsById;\n          parseWarnings = parseResult.warnings; // hook in post parse listeners +\n          // allow definitions manipulation\n\n          definitions = self._emit('import.parse.complete', ParseCompleteEvent({\n            error: null,\n            definitions: definitions,\n            elementsById: elementsById,\n            references: references,\n            warnings: parseWarnings\n          })) || definitions;\n\n          self._setDefinitions(definitions);\n\n          if (!options.open) {\n            self._emit('import.done', {\n              error: null,\n              warnings: parseWarnings\n            });\n\n            resolve({\n              warnings: parseWarnings\n            });\n            return;\n          }\n\n          var view = self._activeView || self._getInitialView(self._views);\n\n          if (!view) {\n            var noDisplayableContentsErr = new Error('no displayable contents');\n\n            self._emit('import.done', {\n              error: noDisplayableContentsErr,\n              warnings: parseWarnings\n            });\n\n            noDisplayableContentsErr.warnings = parseWarnings;\n            return reject(noDisplayableContentsErr);\n          }\n\n          self.open(view).then(function (result) {\n            return {\n              warnings: result.warnings\n            };\n          })[\"catch\"](function (error) {\n            return {\n              error: error,\n              warnings: error.warnings\n            };\n          }).then(function (result) {\n            var allWarnings = [].concat(parseWarnings, result.warnings);\n\n            self._emit('import.done', {\n              error: result.error,\n              warnings: allWarnings\n            });\n\n            if (result.error) {\n              result.error.warnings = allWarnings;\n              reject(result.error);\n            } else {\n              resolve({\n                warnings: allWarnings\n              });\n            }\n          });\n        })[\"catch\"](function (parseError) {\n          parseWarnings = parseError.warnings;\n          parseError = checkDMNCompatibilityError(parseError, xml) || checkValidationError(parseError) || parseError;\n\n          self._emit('import.parse.complete', ParseCompleteEvent({\n            error: parseError,\n            warnings: parseWarnings\n          }));\n\n          self._emit('import.done', {\n            error: parseError,\n            warnings: parseWarnings\n          });\n\n          parseError.warnings = parseWarnings;\n          return reject(parseError);\n        });\n      }); // TODO: remove with future dmn-js version\n\n      function ParseCompleteEvent(data) {\n        var event = self._eventBus.createEvent(data);\n\n        Object.defineProperty(event, 'context', {\n          enumerable: true,\n          get: function get() {\n            console.warn(new Error('import.parse.complete <context> is deprecated ' + 'and will be removed in future library versions'));\n            return {\n              warnings: data.warnings,\n              references: data.references,\n              elementsById: data.elementsById\n            };\n          }\n        });\n        return event;\n      }\n    }\n  }, {\n    key: \"getDefinitions\",\n    value: function getDefinitions() {\n      return this._definitions;\n    }\n    /**\n     * Return active view.\n     *\n     * @return {View}\n     */\n\n  }, {\n    key: \"getActiveView\",\n    value: function getActiveView() {\n      return this._activeView;\n    }\n    /**\n     * Get the currently active viewer instance.\n     *\n     * @return {View}\n     */\n\n  }, {\n    key: \"getActiveViewer\",\n    value: function getActiveViewer() {\n      var activeView = this.getActiveView();\n      return activeView && this._getViewer(activeView);\n    }\n  }, {\n    key: \"getView\",\n    value: function getView(element) {\n      return this._views.filter(function (v) {\n        return v.element === element;\n      })[0];\n    }\n  }, {\n    key: \"getViews\",\n    value: function getViews() {\n      return this._views;\n    }\n    /**\n     * The saveXML result.\n     *\n     * @typedef {Object} SaveXMLResult\n     *\n     * @property {string} xml\n     */\n\n    /**\n     * Export the currently displayed DMN diagram as\n     * a DMN XML document.\n     *\n     * ## Life-Cycle Events\n     *\n     * During XML saving the viewer will fire life-cycle events:\n     *\n     *   * saveXML.start (before serialization)\n     *   * saveXML.serialized (after xml generation)\n     *   * saveXML.done (everything done)\n     *\n     * You can use these events to hook into the life-cycle.\n     *\n     * @param {Object} [options] export options\n     * @param {boolean} [options.format=false] output formated XML\n     * @param {boolean} [options.preamble=true] output preamble\n     *\n     * @return {Promise<SaveXMLResult, Error>}\n     */\n\n  }, {\n    key: \"saveXML\",\n    value: function saveXML(options) {\n      var self = this;\n      options = options || {};\n      var definitions = this._definitions;\n      return new Promise(function (resolve, reject) {\n        if (!definitions) {\n          reject(new Error('no definitions loaded'));\n          return;\n        } // allow to fiddle around with definitions\n\n\n        definitions = self._emit('saveXML.start', {\n          definitions: definitions\n        }) || definitions;\n\n        self._moddle.toXML(definitions, options).then(function (result) {\n          var xml = result.xml;\n          xml = self._emit('saveXML.serialized', {\n            xml: xml\n          }) || xml;\n          return {\n            xml: xml\n          };\n        })[\"catch\"](function (error) {\n          return {\n            error: error\n          };\n        }).then(function (result) {\n          self._emit('saveXML.done', result);\n\n          if (result.error) {\n            reject(result.error);\n          } else {\n            resolve({\n              xml: result.xml\n            });\n          }\n        });\n      });\n    }\n    /**\n     * Register an event listener\n     *\n     * Remove a previously added listener via {@link #off(event, callback)}.\n     *\n     * @param {string} event\n     * @param {number} [priority]\n     * @param {Function} callback\n     * @param {Object} [that]\n     */\n\n  }, {\n    key: \"on\",\n    value: function on() {\n      var _this$_eventBus;\n\n      (_this$_eventBus = this._eventBus).on.apply(_this$_eventBus, arguments);\n    }\n    /**\n     * De-register an event listener\n     *\n     * @param {string} event\n     * @param {Function} callback\n     */\n\n  }, {\n    key: \"off\",\n    value: function off() {\n      var _this$_eventBus2;\n\n      (_this$_eventBus2 = this._eventBus).off.apply(_this$_eventBus2, arguments);\n    }\n    /**\n     * Register a listener to be invoked once only.\n     *\n     * @param {string} event\n     * @param {number} [priority]\n     * @param {Function} callback\n     * @param {Object} [that]\n     */\n\n  }, {\n    key: \"once\",\n    value: function once() {\n      var _this$_eventBus3;\n\n      (_this$_eventBus3 = this._eventBus).once.apply(_this$_eventBus3, arguments);\n    }\n  }, {\n    key: \"attachTo\",\n    value: function attachTo(parentNode) {\n      // unwrap jQuery if provided\n      if (parentNode.get && parentNode.constructor.prototype.jquery) {\n        parentNode = parentNode.get(0);\n      }\n\n      if (typeof parentNode === 'string') {\n        parentNode = domQuery(parentNode);\n      }\n\n      parentNode.appendChild(this._container);\n\n      this._emit('attach', {});\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      this._emit('detach', {});\n\n      domRemove(this._container);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      Object.keys(this._viewers).forEach(function (viewerId) {\n        var viewer = _this2._viewers[viewerId];\n        safeExecute(viewer, 'destroy');\n      });\n      domRemove(this._container);\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(options) {\n      this._options = options;\n      this._moddle = this._createModdle(options);\n      this._viewers = {};\n      this._views = [];\n      var container = domify('<div class=\"dmn-js-parent\"></div>');\n      var containerOptions = assign({}, DEFAULT_CONTAINER_OPTIONS, options);\n      assign(container.style, {\n        width: ensureUnit(containerOptions.width),\n        height: ensureUnit(containerOptions.height),\n        position: containerOptions.position\n      });\n      this._container = container;\n\n      if (options.container) {\n        this.attachTo(options.container);\n      }\n    }\n    /**\n     * Open diagram view.\n     *\n     * @param  {View} view\n     * @returns {Promise} Resolves with {OpenResult} when successful\n     * or rejects with {OpenError}\n     */\n\n  }, {\n    key: \"open\",\n    value: function open(view) {\n      return this._switchView(view);\n    }\n  }, {\n    key: \"_setDefinitions\",\n    value: function _setDefinitions(definitions) {\n      this._definitions = definitions;\n\n      this._updateViews();\n    }\n  }, {\n    key: \"_updateViews\",\n    value:\n    /**\n     * Recompute changed views after elements in\n     * the DMN diagram have changed.\n     */\n    function _updateViews() {\n      var definitions = this._definitions;\n\n      if (!definitions) {\n        this._views = [];\n\n        this._switchView(null);\n\n        return;\n      }\n\n      var viewProviders = this._getViewProviders();\n\n      var displayableElements = [definitions].concat(_toConsumableArray(definitions.drgElement || [])); // compute list of available views\n\n      var views = this._views,\n          newViews = [];\n\n      var _iterator = _createForOfIteratorHelper(displayableElements),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var element = _step.value;\n          var provider = find(viewProviders, function (provider) {\n            if (typeof provider.opens === 'string') {\n              return provider.opens === element.$type;\n            } else {\n              return provider.opens(element);\n            }\n          });\n\n          if (!provider) {\n            continue;\n          }\n\n          var view = {\n            element: element,\n            id: element.id,\n            name: element.name,\n            type: provider.id\n          };\n          newViews.push(view);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var activeView = this._activeView,\n          newActiveView;\n\n      if (activeView) {\n        // check the new active view\n        newActiveView = find(newViews, function (view) {\n          return viewsEqual(activeView, view);\n        }) || this._getInitialView(newViews);\n\n        if (!newActiveView) {\n          this._switchView(null);\n\n          return;\n        }\n      } // Views have changed if\n      // active view has changed OR\n      // number of views has changed OR\n      // not all views equal\n\n\n      var activeViewChanged = !viewsEqual(activeView, newActiveView) || viewNameChanged(activeView, newActiveView);\n      var viewsChanged = views.length !== newViews.length || !every(newViews, function (newView) {\n        return find(views, function (view) {\n          return viewsEqual(view, newView) && !viewNameChanged(view, newView);\n        });\n      });\n      this._activeView = newActiveView;\n      this._views = newViews;\n\n      if (activeViewChanged || viewsChanged) {\n        this._viewsChanged();\n      }\n    }\n  }, {\n    key: \"_getInitialView\",\n    value: function _getInitialView(views) {\n      return views[0];\n    }\n    /**\n     * Switch to another view.\n     *\n     * @param  {View} newView\n     * @returns {Promise} Resolves with {OpenResult} when successful\n     * or rejects with {OpenError}\n     */\n\n  }, {\n    key: \"_switchView\",\n    value: function _switchView(newView) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var complete = function complete(openError, openResult) {\n          self._viewsChanged();\n\n          if (openError) {\n            reject(openError);\n          } else {\n            resolve(openResult);\n          }\n        };\n\n        var activeView = self.getActiveView(),\n            activeViewer;\n\n        var newViewer = newView && self._getViewer(newView),\n            element = newView && newView.element;\n\n        if (activeView) {\n          activeViewer = self._getViewer(activeView);\n\n          if (activeViewer !== newViewer) {\n            safeExecute(activeViewer, 'clear');\n            activeViewer.detach();\n          }\n        }\n\n        self._activeView = newView;\n\n        if (newViewer) {\n          if (activeViewer !== newViewer) {\n            newViewer.attachTo(self._container);\n          }\n\n          self._emit('import.render.start', {\n            view: newView,\n            element: element\n          });\n\n          newViewer.open(element).then(function (result) {\n            self._emit('import.render.complete', {\n              view: newView,\n              error: null,\n              warnings: result.warnings\n            });\n\n            complete(null, result);\n          })[\"catch\"](function (error) {\n            self._emit('import.render.complete', {\n              view: newView,\n              error: error,\n              warnings: error.warnings\n            });\n\n            complete(error, null);\n          });\n          return;\n        } // no active view\n\n\n        complete();\n      });\n    }\n  }, {\n    key: \"_getViewer\",\n    value: function _getViewer(view) {\n      var type = view.type;\n      var viewer = this._viewers[type];\n\n      if (!viewer) {\n        viewer = this._viewers[type] = this._createViewer(view.type);\n\n        this._emit('viewer.created', {\n          type: type,\n          viewer: viewer\n        });\n      }\n\n      return viewer;\n    }\n  }, {\n    key: \"_createViewer\",\n    value: function _createViewer(id) {\n      var provider = find(this._getViewProviders(), function (provider) {\n        return provider.id === id;\n      });\n\n      if (!provider) {\n        throw new Error('no provider for view type <' + id + '>');\n      }\n\n      var Viewer = provider.constructor;\n      var providerOptions = this._options[id] || {};\n      var commonOptions = this._options.common || {};\n      return new Viewer(_objectSpread(_objectSpread(_objectSpread({}, commonOptions), providerOptions), {}, {\n        additionalModules: [].concat(_toConsumableArray(providerOptions.additionalModules || []), [{\n          _parent: ['value', this],\n          moddle: ['value', this._moddle]\n        }])\n      }));\n    }\n    /**\n     * Emit an event.\n     */\n\n  }, {\n    key: \"_emit\",\n    value: function _emit() {\n      var _this$_eventBus4;\n\n      return (_this$_eventBus4 = this._eventBus).fire.apply(_this$_eventBus4, arguments);\n    }\n  }, {\n    key: \"_createModdle\",\n    value: function _createModdle(options) {\n      return new DmnModdle(assign({\n        camunda: CamundaModdle\n      }, options.moddleExtensions));\n    }\n    /**\n     * Return the list of available view providers.\n     *\n     * @abstract\n     *\n     * @return {Array<ViewProvider>}\n     */\n\n  }, {\n    key: \"_getViewProviders\",\n    value: function _getViewProviders() {\n      return [];\n    }\n  }]);\n\n  return Manager;\n}(); // helpers //////////////////////\n\n/**\n * Ensure the passed argument is a proper unit (defaulting to px)\n */\n\n\nexport { Manager as default };\n\nfunction ensureUnit(val) {\n  return val + (isNumber(val) ? 'px' : '');\n}\n\nfunction checkDMNCompatibilityError(err, xml) {\n  // check if we can indicate opening of old DMN 1.1 or DMN 1.2 diagrams\n  if (err.message !== 'failed to parse document as <dmn:Definitions>') {\n    return null;\n  }\n\n  var olderDMNVersion = xml.indexOf('\"http://www.omg.org/spec/DMN/20151101/dmn.xsd\"') !== -1 && '1.1' || xml.indexOf('\"http://www.omg.org/spec/DMN/20180521/MODEL/\"') !== -1 && '1.2';\n\n  if (!olderDMNVersion) {\n    return null;\n  }\n\n  err = new Error('unsupported DMN ' + olderDMNVersion + ' file detected; ' + 'only DMN 1.3 files can be opened');\n  console.error('Cannot open what looks like a DMN ' + olderDMNVersion + ' diagram. ' + 'Please refer to https://bpmn.io/l/dmn-compatibility.html ' + 'to learn how to make the toolkit compatible with older DMN files', err);\n  return err;\n}\n\nfunction checkValidationError(err) {\n  // check if we can help the user by indicating wrong DMN 1.3 xml\n  // (in case he or the exporting tool did not get that right)\n  var pattern = /unparsable content <([^>]+)> detected([\\s\\S]*)$/,\n      match = pattern.exec(err.message);\n\n  if (!match) {\n    return null;\n  }\n\n  err.message = 'unparsable content <' + match[1] + '> detected; ' + 'this may indicate an invalid DMN 1.3 diagram file' + match[2];\n  return err;\n}\n\nfunction viewsEqual(a, b) {\n  if (!isDefined(a)) {\n    if (!isDefined(b)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  if (!isDefined(b)) {\n    return false;\n  } // compare by element OR element ID equality\n\n\n  return a.element === b.element || a.id === b.id;\n}\n\nfunction viewNameChanged(a, b) {\n  return !a || !b || a.name !== b.name;\n}\n\nfunction safeExecute(viewer, method) {\n  if (isFunction(viewer[method])) {\n    viewer[method]();\n  }\n}\n//# sourceMappingURL=Manager.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { Row, Col } from 'table-js/lib/model';\n/**\r\n * A handler that implements cutting a row or col.\r\n * Cutting of cells doesn't make sense.\r\n */\n\nvar CutHandler = /*#__PURE__*/function () {\n  function CutHandler(clipboard, modeling, sheet) {\n    _classCallCheck(this, CutHandler);\n\n    this._clipboard = clipboard;\n    this._modeling = modeling;\n    this._sheet = sheet;\n  }\n  /**\r\n   * <do>\r\n   */\n\n\n  _createClass(CutHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var data = context.data;\n      context.oldData = this._clipboard.get();\n\n      this._clipboard.set(data);\n\n      return this._sheet.getRoot();\n    }\n  }, {\n    key: \"postExecute\",\n    value: function postExecute(context) {\n      var _this = this;\n\n      var elements = context.elements;\n      elements.forEach(function (element) {\n        if (element instanceof Row) {\n          _this._modeling.removeRow(element);\n        } else if (element instanceof Col) {\n          _this._modeling.removeCol(element);\n        }\n      });\n    }\n    /**\r\n     * <undo>\r\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var oldData = context.oldData;\n\n      this._clipboard.set(oldData);\n\n      return this._sheet.getRoot();\n    }\n  }]);\n\n  return CutHandler;\n}();\n\nexport { CutHandler as default };\nCutHandler.$inject = ['clipboard', 'modeling', 'sheet'];\n//# sourceMappingURL=CutHandler.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { isArray, forEach, keys, reduce } from 'min-dash'; // creating descriptors //////////\n\nvar createHooks = [copyTableProperties, copyBusinessObjectProperties];\nvar reviveHooks = [reviveBusinessObject, reviveTableElement];\n/**\n * Return a serializable snapshot of the given elements.\n *\n * @param {Array<Base>} elements list of table elements\n *\n * @return {Tree} descriptor tree\n */\n\nexport function createDescriptor(element, cache, hooks) {\n  hooks = hooks || createHooks;\n  cache = cache || {};\n\n  if (isArray(element)) {\n    return createDescriptors0(element, cache, hooks);\n  } else {\n    return createDescriptor0(element, cache, hooks);\n  }\n}\n/**\n * Create descriptors of elements, returning { descriptors: [], descriptorCache }.\n *\n * @param {Array<Base>} elements list of table elements\n * @param {Object} cache the create cache\n *\n * @return {Object} new descriptors + updated cache\n */\n\nfunction createDescriptors0(elements, cache, hooks) {\n  return reduce(elements, function (result, element) {\n    var currentCache = result.descriptorCache,\n        currentDescriptors = result.root;\n\n    var _createDescriptor = createDescriptor0(element, currentCache, hooks),\n        root = _createDescriptor.root,\n        descriptorCache = _createDescriptor.descriptorCache;\n\n    return {\n      root: [].concat(_toConsumableArray(currentDescriptors), [root]),\n      descriptorCache: _objectSpread(_objectSpread({}, currentCache), descriptorCache)\n    };\n  }, {\n    root: [],\n    descriptorCache: cache\n  });\n}\n\nfunction createDescriptor0(element, cache, hooks) {\n  var id = element.id;\n  var descriptor = {\n    id: id\n  };\n  var elements = cache.elements || {};\n  var existingDescriptor = elements[id]; // element already created; nothing to do\n\n  if (existingDescriptor) {\n    return {\n      root: existingDescriptor,\n      descriptorCache: cache\n    };\n  } // we're new; need to initialize element via hooks\n  // we assume we're not handling recursive data structures\n  // here. Otherwise we'd need to pre-populate the cache\n  // with the given element\n\n\n  var element0 = evaluateHooks(element, descriptor, hooks, _objectSpread(_objectSpread({}, cache), {}, {\n    elements: elements\n  }));\n  return {\n    root: element0.root,\n    descriptorCache: _objectSpread(_objectSpread({}, element0.descriptorCache), {}, {\n      elements: _objectSpread(_objectSpread({}, element0.descriptorCache.elements), {}, _defineProperty({}, id, element0.root))\n    })\n  };\n}\n\nfunction evaluateHooks(element, descriptor, hooks, cache) {\n  function create(element, descriptorCache) {\n    return createDescriptor(element, descriptorCache, hooks);\n  }\n\n  return reduce(hooks, function (result, hook) {\n    return hook(element, result.root, result.descriptorCache, create);\n  }, {\n    root: descriptor,\n    descriptorCache: cache\n  });\n}\n\nimport { Row, Col, Cell } from 'table-js/lib/model';\n\nfunction copyTableProperties(element, descriptor, cache, create) {\n  var descriptorCache = cache;\n\n  var newDesc = _objectSpread(_objectSpread({}, descriptor), {}, {\n    type: getType(element)\n  });\n\n  if (element instanceof Row || element instanceof Col) {\n    var cells0 = create(element.cells, descriptorCache);\n    newDesc.cells = cells0.root;\n    descriptorCache = cells0.descriptorCache;\n  }\n\n  return {\n    root: newDesc,\n    descriptorCache: descriptorCache\n  };\n}\n\nfunction copyBusinessObjectProperties(element, descriptor, cache) {\n  var businessObject = element.businessObject;\n\n  if (!businessObject) {\n    return {\n      root: descriptor,\n      descriptorCache: cache\n    };\n  } // need to clone businessObject\n\n\n  var bo0 = createBoDescriptor(businessObject, cache);\n  return {\n    root: _objectSpread(_objectSpread({}, descriptor), {}, {\n      businessObject: bo0.root\n    }),\n    descriptorCache: bo0.descriptorCache\n  };\n}\n\nfunction getType(element) {\n  if (element instanceof Row) {\n    return 'row';\n  }\n\n  if (element instanceof Col) {\n    return 'col';\n  }\n\n  if (element instanceof Cell) {\n    return 'cell';\n  }\n\n  throw new Error('cannot deduce element type: #' + element.id);\n}\n\nfunction createBoDescriptor(bo, cache) {\n  var boCache, existingBoDesc;\n  var id = bo.id;\n\n  if (id) {\n    boCache = cache.boCache || {};\n    existingBoDesc = boCache[id]; // businessObject already created; nothing to do\n\n    if (existingBoDesc) {\n      return {\n        root: existingBoDesc,\n        descriptorCache: cache\n      };\n    }\n  }\n\n  var descriptor = {\n    $type: bo.$type\n  };\n\n  if (id) {\n    descriptor.id = id;\n    boCache = _objectSpread(_objectSpread({}, boCache), {}, _defineProperty({}, id, descriptor));\n    cache = _objectSpread(_objectSpread({}, cache), {}, {\n      boCache: boCache\n    });\n  } // TODO(nikku): distinguish relations and containment\n  // Need to build up the whole tree and revive relations afterwards\n  // ITERATE OVER ALL SET PROPERTIES\n  // (Object.keys(bo) or via bo.$descriptor....)\n\n\n  bo.$descriptor.properties.forEach(function (property) {\n    var value = bo[property.name]; // const propertyDescriptor = bo.$model.getPropertyDescriptor(bo, property.name),\n    //       isId = propertyDescriptor.isId,\n    //       isReference = propertyDescriptor.isReference;\n    // not set\n\n    if (!value) {\n      return;\n    } // arrays of moddle elements\n\n\n    if (isArray(value)) {\n      value = value.map(function (b) {\n        var value0 = createBoDescriptor(b, cache);\n        cache = value0.descriptorCache;\n        return value0.root;\n      });\n    } // moddle elements\n\n\n    if (value.$type) {\n      var value0 = createBoDescriptor(value, cache);\n      cache = value0.descriptorCache;\n      value = value0.root;\n    } // other values\n\n\n    descriptor[property.name] = value;\n  });\n  return {\n    root: descriptor,\n    descriptorCache: cache\n  };\n} // reviving //////////\n\n\nexport function reviveDescriptor(entry, reviveCache, hooks) {\n  hooks = hooks || reviveHooks;\n  reviveCache = reviveCache || {};\n\n  if (isArray(entry.root)) {\n    return reviveDescriptors0(entry, reviveCache, hooks);\n  } else {\n    return reviveDescriptor0(entry, reviveCache, hooks);\n  }\n}\n/**\n * TBD: document this!\n *\n * @param  {[type]} entry       [description]\n * @param  {[type]} reviveCache [description]\n * @param  {[type]} hooks       [description]\n * @return {[type]}             [description]\n */\n\nfunction reviveDescriptors0(entry, reviveCache, hooks) {\n  var descriptors = entry.root;\n  var descriptorCache = entry.descriptorCache;\n  return reduce(descriptors, function (result, element) {\n    var currentCache = result.reviveCache,\n        currentDescriptors = result.root;\n\n    var _reviveDescriptor = reviveDescriptor0({\n      root: element,\n      descriptorCache: descriptorCache\n    }, currentCache, hooks),\n        root = _reviveDescriptor.root,\n        reviveCache = _reviveDescriptor.reviveCache;\n\n    return {\n      root: [].concat(_toConsumableArray(currentDescriptors), [root]),\n      reviveCache: reviveCache\n    };\n  }, {\n    root: [],\n    reviveCache: reviveCache\n  });\n}\n/**\n * TBD: document this!\n *\n * @param  {[type]} entry [description]\n * @param  {[type]} cache [description]\n * @param  {[type]} hooks [description]\n * @return {[type]}       [description]\n */\n\n\nfunction reviveDescriptor0(entry, reviveCache, hooks) {\n  var descriptor = entry.root;\n  var id = descriptor.id;\n  var elements = reviveCache.elements || {};\n  var existingElement = elements[id]; // element already created; nothing to do\n\n  if (existingElement) {\n    return {\n      root: existingElement,\n      reviveCache: reviveCache\n    };\n  } // start with a fake element; haha <3\n\n\n  var element = {\n    id: id\n  }; // we're new; need to initialize element via hooks\n\n  var element0 = evaluateReviveHooks(entry, element, hooks, _objectSpread(_objectSpread({}, reviveCache), {}, {\n    elements: elements\n  }));\n  return {\n    root: element0.root,\n    reviveCache: _objectSpread(_objectSpread({}, element0.reviveCache), {}, {\n      elements: _objectSpread(_objectSpread({}, element0.reviveCache.elements), {}, _defineProperty({}, id, element0.root))\n    })\n  };\n} // entry = { root, descriptorCache }\n// element = { id: foo }\n// hooks = [ ... ]\n// reviveCache = { ... }\n\n\nfunction evaluateReviveHooks(entry, element, hooks, reviveCache) {\n  function revive(entry, reviveCache) {\n    return reviveDescriptor(entry, reviveCache, hooks);\n  }\n\n  return reduce(hooks, function (result, hook) {\n    return hook(entry, result.root, result.reviveCache, revive);\n  }, {\n    root: element,\n    reviveCache: reviveCache\n  });\n}\n\nfunction reviveTableElement(entry, element, reviveCache, revive) {\n  var descriptor = entry.root;\n  var createCache = entry.descriptorCache;\n\n  var elementAttrs = _objectSpread({}, element); // make sure table element ID is same as moddle element ID\n\n\n  if (element.businessObject && element.businessObject.id) {\n    elementAttrs.id = element.businessObject.id;\n  }\n\n  if (descriptor.type === 'row' || descriptor.type === 'col') {\n    var cells0 = revive({\n      root: descriptor.cells,\n      descriptorCache: createCache\n    }, reviveCache);\n    elementAttrs.cells = cells0.root;\n    reviveCache = cells0.reviveCache;\n  }\n\n  var Constructor = getConstructor(descriptor);\n  var newElement = new Constructor(elementAttrs); // set parent row or col\n\n  if (newElement instanceof Row) {\n    newElement.cells.forEach(function (cell) {\n      cell.row = newElement;\n    });\n  } else if (newElement instanceof Col) {\n    newElement.cells.forEach(function (cell) {\n      cell.col = newElement;\n    });\n  }\n\n  return {\n    root: newElement,\n    reviveCache: reviveCache\n  };\n}\n\nfunction reviveBusinessObject(entry, element, reviveCache) {\n  var businessObject = entry.root.businessObject;\n\n  if (!businessObject) {\n    return {\n      root: element,\n      reviveCache: reviveCache\n    };\n  } // need to clone businessObject\n\n\n  var bo0 = createBo({\n    root: businessObject,\n    descriptorCache: entry.descriptorCache\n  }, reviveCache);\n  return {\n    root: _objectSpread(_objectSpread({}, element), {}, {\n      businessObject: bo0.root\n    }),\n    reviveCache: bo0.reviveCache\n  };\n}\n\nfunction getConstructor(descriptor) {\n  switch (descriptor.type) {\n    case 'row':\n      return Row;\n\n    case 'cell':\n      return Cell;\n\n    case 'col':\n      return Col;\n\n    default:\n      throw new Error('unknown element type: #' + descriptor.type);\n  }\n}\n\nfunction createBo(entry, reviveCache) {\n  var boDescriptor = entry.root;\n  var id = boDescriptor.id;\n  var boCache, existingBo;\n\n  if (id) {\n    boCache = reviveCache.boCache || {};\n    existingBo = boCache[id]; // businessObject already created; nothing to do\n\n    if (existingBo) {\n      return {\n        root: existingBo,\n        reviveCache: reviveCache\n      };\n    }\n  }\n\n  var newBoAttrs = {}; // set attrs for new business object (might include creating other business objects)\n\n  keys(boDescriptor).forEach(function (key) {\n    var val, val0;\n\n    if (boDescriptor[key].$type) {\n      val0 = createBo({\n        root: boDescriptor[key]\n      }, reviveCache);\n      val = val0.root;\n      reviveCache = val0.reviveCache;\n      boCache = reviveCache.boCache || {};\n    } else if (isArray(boDescriptor[key])) {\n      val = boDescriptor[key].map(function (b) {\n        val0 = createBo({\n          root: b\n        }, reviveCache);\n        reviveCache = val0.reviveCache;\n        boCache = reviveCache.boCache || {};\n        return val0.root;\n      });\n    } else {\n      val = boDescriptor[key];\n    }\n\n    newBoAttrs[key] = val;\n  });\n  var type = newBoAttrs.$type;\n  delete newBoAttrs.$type; // generate new ID if not supposed to be kept or already assigned\n\n  if (!reviveCache._keepIds || reviveCache._model.ids.assigned(newBoAttrs.id)) {\n    delete newBoAttrs.id;\n  }\n\n  var newBo = reviveCache._dmnFactory.create(type, newBoAttrs); // set up $parent relationships for moddle elements\n\n\n  forEach(newBoAttrs, function (newBoAttr) {\n    if (newBoAttr.$type) {\n      newBoAttr.$parent = newBo;\n    }\n\n    if (isArray(newBoAttr)) {\n      newBoAttr.forEach(function (a) {\n        return a.$parent = newBo;\n      });\n    }\n  });\n\n  if (id) {\n    boCache = _objectSpread(_objectSpread({}, boCache), {}, _defineProperty({}, id, newBo));\n    reviveCache = _objectSpread(_objectSpread({}, reviveCache), {}, {\n      boCache: boCache\n    });\n  }\n\n  return {\n    root: newBo,\n    reviveCache: reviveCache\n  };\n}\n//# sourceMappingURL=DescriptorUtil.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { Row, Col } from 'table-js/lib/model';\nimport { reviveDescriptor } from '../DescriptorUtil';\n/**\r\n * A handler that implements pasting elements.\r\n */\n\nvar PasteHandler = /*#__PURE__*/function () {\n  function PasteHandler(clipboard, dmnFactory, elementFactory, elementRegistry, eventBus, moddle, modeling, sheet) {\n    _classCallCheck(this, PasteHandler);\n\n    this._clipboard = clipboard;\n    this._dmnFactory = dmnFactory;\n    this._elementFactory = elementFactory;\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n    this._model = moddle;\n    this._modeling = modeling;\n    this._sheet = sheet;\n  }\n  /**\r\n   * <do>\r\n   */\n\n\n  _createClass(PasteHandler, [{\n    key: \"postExecute\",\n    value: function postExecute(context) {\n      var _this = this;\n\n      var element = context.element,\n          after = context.after;\n\n      var data = this._clipboard.get();\n\n      if (!data) {\n        throw new Error('missing clipboard data');\n      }\n\n      var root = this._sheet.getRoot(); // (1) create elements from descriptors\n\n\n      var elements = reviveDescriptor(data.elements, {\n        _dmnFactory: this._dmnFactory,\n        _keepIds: data.keepIds,\n        _model: this._model\n      }).root; // (2) add elements to sheet\n\n      if (element instanceof Row) {\n        var index = root.rows.indexOf(element);\n\n        if (index === -1) {\n          return;\n        }\n\n        elements.forEach(function (element) {\n          if (after) {\n            index++;\n          }\n\n          _this._modeling.addRow(element, index);\n        });\n      } else if (element instanceof Col) {\n        var _index = root.cols.indexOf(element);\n\n        if (_index === -1) {\n          return;\n        }\n\n        elements.forEach(function (element) {\n          if (after) {\n            _index++;\n          }\n\n          _this._modeling.addCol(element, _index);\n        });\n      }\n\n      context.oldElements = this._clipboard.get();\n      return this._sheet.getRoot();\n    }\n    /**\r\n     * <undo>\r\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {}\n  }]);\n\n  return PasteHandler;\n}();\n\nexport { PasteHandler as default };\nPasteHandler.$inject = ['clipboard', 'dmnFactory', 'elementFactory', 'elementRegistry', 'eventBus', 'moddle', 'modeling', 'sheet'];\n//# sourceMappingURL=PasteHandler.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { isArray } from 'min-dash';\nimport CutHandler from './cmd/CutHandler';\nimport PasteHandler from './cmd/PasteHandler';\nimport { createDescriptor } from './DescriptorUtil';\n\nvar CutPaste = /*#__PURE__*/function () {\n  function CutPaste(clipboard, commandStack, eventBus, modeling, sheet, rules) {\n    _classCallCheck(this, CutPaste);\n\n    this._clipboard = clipboard;\n    this._commandStack = commandStack;\n    this._eventBus = eventBus;\n    this._modeling = modeling;\n    this._sheet = sheet;\n    this._rules = rules;\n    commandStack.registerHandler('cut', CutHandler);\n    commandStack.registerHandler('paste', PasteHandler);\n  }\n  /**\r\n   * Copy elements.\r\n   *\r\n   * @param {Array} elements - Elements to be copied.\r\n   */\n\n\n  _createClass(CutPaste, [{\n    key: \"copy\",\n    value: function copy(elements) {\n      if (!isArray(elements)) {\n        elements = [elements];\n      }\n\n      var data = {\n        elements: createDescriptor(elements)\n      };\n\n      this._eventBus.fire('copyCutPaste.copy', {\n        data: data\n      });\n\n      this._clipboard.set(data);\n    }\n    /**\r\n     * Cut elements thereby removing them temporarily.\r\n     *\r\n     * @param {Array} elements - Elements to be cut.\r\n     */\n\n  }, {\n    key: \"cut\",\n    value: function cut(elements) {\n      if (!isArray(elements)) {\n        elements = [elements];\n      }\n\n      var data = {\n        elements: createDescriptor(elements),\n        keepIds: true\n      };\n      var context = {\n        elements: elements,\n        data: data\n      };\n\n      this._eventBus.fire('copyCutPaste.cut', {\n        data: data\n      });\n\n      this._commandStack.execute('cut', context);\n    }\n    /**\r\n     * Paste rows or cols before row or col.\r\n     *\r\n     * @param {Row|Col} element - Row or col to paste elements before.\r\n     */\n\n  }, {\n    key: \"pasteBefore\",\n    value: function pasteBefore(element) {\n      return this._paste(element, {\n        before: true\n      });\n    }\n    /**\r\n     * Paste rows or cols after row or col.\r\n     *\r\n     * @param {Row|Col} element - Row or col to paste elements after.\r\n     */\n\n  }, {\n    key: \"pasteAfter\",\n    value: function pasteAfter(element) {\n      return this._paste(element, {\n        after: true\n      });\n    }\n    /**\r\n     * Basic paste onto given target element.\r\n     */\n\n  }, {\n    key: \"_paste\",\n    value: function _paste(target, position) {\n      var clipboardData = this._clipboard.get();\n\n      if (!clipboardData) {\n        return undefined;\n      }\n\n      var allowed = this._rules.allowed('paste', {\n        data: clipboardData.elements,\n        target: target\n      });\n\n      if (!allowed) {\n        return false;\n      }\n\n      this._commandStack.execute('paste', _objectSpread({\n        element: target\n      }, position)); // @bpmn-io: Clear clipboard to work around\n      // https://github.com/camunda/camunda-modeler/issues/1246 which breaks native copy &\n      // paste when row or column is copied or cut\n\n\n      this._clipboard.clear(); // Return true to stop propagation and prevent native paste\n\n\n      return true;\n    }\n    /**\r\n     * Paste elements at.\r\n     */\n\n  }, {\n    key: \"pasteAt\",\n    value: function pasteAt(element) {// TODO: implement for pasting cells\n    }\n  }]);\n\n  return CutPaste;\n}();\n\nexport { CutPaste as default };\nCutPaste.$inject = ['clipboard', 'commandStack', 'eventBus', 'modeling', 'sheet', 'rules'];\n//# sourceMappingURL=CopyCutPaste.js.map","import ClipboardModule from 'diagram-js/lib/features/clipboard';\nimport RulesModule from '../rules';\nimport CopyCutPaste from './CopyCutPaste';\nexport default {\n  __depends__: [ClipboardModule, RulesModule],\n  __init__: ['copyCutPaste'],\n  copyCutPaste: ['type', CopyCutPaste]\n};\n//# sourceMappingURL=index.js.map","import translate from './translate';\n\nexport default {\n  translate: [ 'value', translate ]\n};","/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n *\n * @param {string} template to interpolate\n * @param {Object} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nexport default function translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { forEach } from 'min-dash';\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n    IS_REGISTERED_ERROR = 'is already registered';\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction and likewise\n * unregister existing ones with unregisterAction.\n *\n */\n\nvar EditorActions =\n/*#__PURE__*/\nfunction () {\n  function EditorActions(commandStack, eventBus, modeling, selection) {\n    _classCallCheck(this, EditorActions);\n\n    this._actions = {\n      undo: function undo() {\n        commandStack.undo();\n      },\n      redo: function redo() {\n        commandStack.redo();\n      },\n      select: function select(_ref) {\n        var cell = _ref.cell;\n        selection.select(cell);\n      },\n      deselect: function deselect() {\n        selection.deselect();\n      },\n      addRow: function addRow(_ref2) {\n        var attrs = _ref2.attrs,\n            index = _ref2.index;\n        modeling.addRow(attrs, index);\n      },\n      removeRow: function removeRow(_ref3) {\n        var row = _ref3.row;\n        modeling.removeRow(row);\n      },\n      moveRow: function moveRow(_ref4) {\n        var row = _ref4.row,\n            index = _ref4.index;\n        modeling.moveRow(row, index);\n      },\n      addCol: function addCol(_ref5) {\n        var attrs = _ref5.attrs,\n            index = _ref5.index;\n        modeling.addCol(attrs, index);\n      },\n      removeCol: function removeCol(_ref6) {\n        var col = _ref6.col;\n        modeling.removeCol(col);\n      },\n      moveCol: function moveCol(_ref7) {\n        var col = _ref7.col,\n            index = _ref7.index;\n        modeling.moveCol(col, index);\n      }\n    };\n  }\n  /**\n   * Triggers a registered action\n   *\n   * @param  {String} action\n   * @param  {Object} opts\n   *\n   * @return {Unknown} Returns what the registered listener returns\n   */\n\n\n  _createClass(EditorActions, [{\n    key: \"trigger\",\n    value: function trigger(action, opts) {\n      if (!this._actions[action]) {\n        throw error(action, NOT_REGISTERED_ERROR);\n      }\n\n      return this._actions[action](opts);\n    }\n    /**\n     * Registers a collections of actions.\n     * The key of the object will be the name of the action.\n     *\n     * @param  {Object} actions\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(actions, listener) {\n      var _this = this;\n\n      if (typeof actions === 'string') {\n        return this._registerAction(actions, listener);\n      }\n\n      forEach(actions, function (listener, action) {\n        _this._registerAction(action, listener);\n      }, this);\n    }\n    /**\n     * Registers a listener to an action key\n     *\n     * @param  {String} action\n     * @param  {Function} listener\n     */\n\n  }, {\n    key: \"_registerAction\",\n    value: function _registerAction(action, listener) {\n      if (this.isRegistered(action)) {\n        throw error(action, IS_REGISTERED_ERROR);\n      }\n\n      this._actions[action] = listener;\n    }\n    /**\n     * Unregister an existing action\n     *\n     * @param {String} action\n     */\n\n  }, {\n    key: \"unregister\",\n    value: function unregister(action) {\n      if (!this.isRegistered(action)) {\n        throw error(action, NOT_REGISTERED_ERROR);\n      }\n\n      this._actions[action] = undefined;\n    }\n    /**\n     * Checks wether the given action is registered\n     *\n     * @param {String} action\n     *\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isRegistered\",\n    value: function isRegistered(action) {\n      return !!this._actions[action];\n    }\n  }]);\n\n  return EditorActions;\n}();\n\nexport { EditorActions as default };\nEditorActions.$inject = ['commandStack', 'eventBus', 'modeling', 'selection']; // helpers /////////////\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n//# sourceMappingURL=EditorActions.js.map","import Selection from '../selection';\nimport EditorActions from './EditorActions';\nexport default {\n  __depends__: [Selection],\n  __init__: ['editorActions'],\n  editorActions: ['type', EditorActions]\n};\n//# sourceMappingURL=index.js.map","import { getBBox } from '../../util/Elements';\n\nvar LOW_PRIORITY = 500;\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport {\n  assign\n} from 'min-dash';\n\n\n/**\n * @class\n *\n * A plugin that adds an outline to shapes and connections that may be activated and styled\n * via CSS classes.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Outline(eventBus, styles, elementRegistry) {\n\n  this.offset = 6;\n\n  var OUTLINE_STYLE = styles.cls('djs-outline', [ 'no-fill' ]);\n\n  var self = this;\n\n  function createOutline(gfx, bounds) {\n    var outline = svgCreate('rect');\n\n    svgAttr(outline, assign({\n      x: 10,\n      y: 10,\n      width: 100,\n      height: 100\n    }, OUTLINE_STYLE));\n\n    svgAppend(gfx, outline);\n\n    return outline;\n  }\n\n  // A low priortity is necessary, because outlines of labels have to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([ 'shape.added', 'shape.changed' ], LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx, element);\n    }\n\n    self.updateShapeOutline(outline, element);\n  });\n\n  eventBus.on([ 'connection.added', 'connection.changed' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx, element);\n    }\n\n    self.updateConnectionOutline(outline, element);\n  });\n}\n\n\n/**\n * Updates the outline of a shape respecting the dimension of the\n * element and an outline offset.\n *\n * @param  {SVGElement} outline\n * @param  {djs.model.Base} element\n */\nOutline.prototype.updateShapeOutline = function(outline, element) {\n\n  svgAttr(outline, {\n    x: -this.offset,\n    y: -this.offset,\n    width: element.width + this.offset * 2,\n    height: element.height + this.offset * 2\n  });\n\n};\n\n\n/**\n * Updates the outline of a connection respecting the bounding box of\n * the connection and an outline offset.\n *\n * @param  {SVGElement} outline\n * @param  {djs.model.Base} element\n */\nOutline.prototype.updateConnectionOutline = function(outline, connection) {\n\n  var bbox = getBBox(connection);\n\n  svgAttr(outline, {\n    x: bbox.x - this.offset,\n    y: bbox.y - this.offset,\n    width: bbox.width + this.offset * 2,\n    height: bbox.height + this.offset * 2\n  });\n\n};\n\n\nOutline.$inject = ['eventBus', 'styles', 'elementRegistry'];","import Outline from './Outline';\n\nexport default {\n  __init__: [ 'outline' ],\n  outline: [ 'type', Outline ]\n};","/**\n * A clip board stub\n */\nexport default function Clipboard() {}\n\n\nClipboard.prototype.get = function() {\n  return this._data;\n};\n\nClipboard.prototype.set = function(data) {\n  this._data = data;\n};\n\nClipboard.prototype.clear = function() {\n  var data = this._data;\n\n  delete this._data;\n\n  return data;\n};\n\nClipboard.prototype.isEmpty = function() {\n  return !this._data;\n};","import Clipboard from './Clipboard';\n\nexport default {\n  clipboard: [ 'type', Clipboard ]\n};\n","'use strict';\n\nvar hat = require('hat');\n\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} seed\n */\nfunction Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\nmodule.exports = Ids;\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var baseRest = require('./_baseRest'),\n    createWrap = require('./_createWrap'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and `partials` prepended to the arguments it receives.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * function greet(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * }\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = baseRest(function(func, thisArg, partials) {\n  var bitmask = WRAP_BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getHolder(bind));\n    bitmask |= WRAP_PARTIAL_FLAG;\n  }\n  return createWrap(func, bitmask, thisArg, partials, holders);\n});\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nmodule.exports = bind;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nmodule.exports = getWrapDetails;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nmodule.exports = insertWrapDetails;\n","var arrayEach = require('./_arrayEach'),\n    arrayIncludes = require('./_arrayIncludes');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nmodule.exports = updateWrapDetails;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","import {\n  assign,\n  filter,\n  find,\n  isArray,\n  isNumber,\n  isObject,\n  isUndefined,\n  groupBy,\n  forEach\n} from 'min-dash';\n\n\n/**\n * Get parent elements.\n *\n * @param {Array<djs.model.base>} elements\n *\n * @returns {Array<djs.model.Base>}\n */\nexport function getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return filter(elements, function(element) {\n    return !find(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Array<Object>} elements\n * @param {Object} e\n * @param {boolean} unique\n */\nexport function add(elements, e, unique) {\n  var canAdd = !unique || elements.indexOf(e) === -1;\n\n  if (canAdd) {\n    elements.push(e);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param  {Object|Array<Object>} elements\n * @param  {Function} fn iterator function called with (element, index, recursionDepth)\n * @param  {number} [depth] maximum recursion depth\n */\nexport function eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if (isArray(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param  {djs.model.Base|Array<djs.model.Base>} elements the elements to select the children from\n * @param  {boolean} unique whether to return a unique result set (no duplicates)\n * @param  {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Array<djs.model.Base>} found elements\n */\nexport function selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Array<djs.model.Base>} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Object} [existingClosure]\n *\n * @return {Object} newClosure\n */\nexport function getClosure(elements, isTopLevel, closure) {\n\n  if (isUndefined(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if (isObject(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && groupBy(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      forEach(element.incoming, handleConnection);\n\n      forEach(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Array<djs.model.Shape>|djs.model.Shape} elements\n * @param {boolean} stopRecursion\n */\nexport function getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!isArray(elements)) {\n    elements = [elements];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  forEach(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Array<djs.model.Shape>} elements List of Elements to search through\n * @param {djs.model.Shape} bbox the enclosing bbox.\n *\n * @return {Array<djs.model.Shape>} enclosed elements\n */\nexport function getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  forEach(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!isNumber(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!isNumber(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if (isNumber(bbox.width) && isNumber(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!isNumber(bbox.width) || !isNumber(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n\nexport function getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\nexport function isFrameElement(element) {\n\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return assign({}, src1 || {}, src2 || {});\n}","var DEFAULT_RENDER_PRIORITY = 1000;\n\n/**\n * The base implementation of shape and connection renderers.\n *\n * @param {EventBus} eventBus\n * @param {number} [renderPriority=1000]\n */\nexport default function BaseRenderer(eventBus, renderPriority) {\n  var self = this;\n\n  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;\n\n  eventBus.on([ 'render.shape', 'render.connection' ], renderPriority, function(evt, context) {\n    var type = evt.type,\n        element = context.element,\n        visuals = context.gfx,\n        attrs = context.attrs;\n\n    if (self.canRender(element)) {\n      if (type === 'render.shape') {\n        return self.drawShape(visuals, element, attrs);\n      } else {\n        return self.drawConnection(visuals, element, attrs);\n      }\n    }\n  });\n\n  eventBus.on([ 'render.getShapePath', 'render.getConnectionPath'], renderPriority, function(evt, element) {\n    if (self.canRender(element)) {\n      if (evt.type === 'render.getShapePath') {\n        return self.getShapePath(element);\n      } else {\n        return self.getConnectionPath(element);\n      }\n    }\n  });\n}\n\n/**\n * Should check whether *this* renderer can render\n * the element/connection.\n *\n * @param {element} element\n *\n * @returns {boolean}\n */\nBaseRenderer.prototype.canRender = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Shape} shape\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawShape = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Connection} connection\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawConnection = function() {};\n\n/**\n * Gets the SVG path of a shape that represents it's visual bounds.\n *\n * @param {Shape} shape\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getShapePath = function() {};\n\n/**\n * Gets the SVG path of a connection that represents it's visual bounds.\n *\n * @param {Connection} connection\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getConnectionPath = function() {};\n","\nvar content = require(\"!!../../../css-loader/index.js!./diagram-js.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/index.js!./diagram-js.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/index.js!./diagram-js.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * color definitions\\n */\\n.djs-container {\\n  --color-grey-225-10-15: hsl(225, 10%, 15%);\\n  --color-grey-225-10-35: hsl(225, 10%, 35%);\\n  --color-grey-225-10-55: hsl(225, 10%, 55%);\\n  --color-grey-225-10-75: hsl(225, 10%, 75%);\\n  --color-grey-225-10-80: hsl(225, 10%, 80%);\\n  --color-grey-225-10-85: hsl(225, 10%, 85%);\\n  --color-grey-225-10-90: hsl(225, 10%, 90%);\\n  --color-grey-225-10-95: hsl(225, 10%, 95%); \\n  --color-grey-225-10-97: hsl(225, 10%, 97%);\\n\\n  --color-blue-205-100-45: hsl(205, 100%, 45%);\\n  --color-blue-205-100-45-opacity-30: hsla(205, 100%, 45%, 30%);\\n  --color-blue-205-100-50: hsl(205, 100%, 50%);\\n  --color-blue-205-100-95: hsl(205, 100%, 95%);\\n\\n  --color-green-150-86-44: hsl(150, 86%, 44%);\\n\\n  --color-red-360-100-40: hsl(360, 100%, 40%);\\n  --color-red-360-100-45: hsl(360, 100%, 45%);\\n  --color-red-360-100-92: hsl(360, 100%, 92%);\\n  --color-red-360-100-97: hsl(360, 100%, 97%);\\n\\n  --color-white: hsl(0, 0%, 100%);\\n  --color-black: hsl(0, 0%, 0%); \\n  --color-black-opacity-05: hsla(0, 0%, 0%, 5%); \\n  --color-black-opacity-10: hsla(0, 0%, 0%, 10%);\\n\\n  --bendpoint-fill-color: var(--color-blue-205-100-45-opacity-30);\\n  --bendpoint-stroke-color: var(--color-blue-205-100-50);\\n\\n  --context-pad-entry-background-color: var(--color-white);\\n  --context-pad-entry-hover-background-color: var(--color-grey-225-10-95);\\n\\n  --element-dragger-color: var(--color-blue-205-100-50);\\n  --element-hover-outline-fill-color: var(--color-blue-205-100-45);\\n  --element-selected-outline-stroke-color: var(--color-blue-205-100-50);\\n\\n  --lasso-fill-color: var(--color-black-opacity-05);\\n  --lasso-stroke-color: var(--color-black);\\n\\n  --palette-entry-color: var(--color-grey-225-10-15);\\n  --palette-entry-hover-color: var(--color-blue-205-100-45);\\n  --palette-entry-selected-color: var(--color-blue-205-100-50);\\n  --palette-separator-color: var(--color-grey-225-10-75);\\n  --palette-toggle-hover-background-color: var(--color-grey-225-10-55);\\n  --palette-background-color: var(--color-grey-225-10-97);\\n  --palette-border-color: var(--color-grey-225-10-75);\\n\\n  --popup-body-background-color: var(--color-white);\\n  --popup-header-entry-selected-color: var(--color-blue-205-100-50);\\n  --popup-header-entry-selected-background-color: var(--color-black-opacity-10);\\n  --popup-header-separator-color: var(--color-grey-225-10-75);\\n  --popup-background-color: var(--color-grey-225-10-97);\\n  --popup-border-color: var(--color-grey-225-10-75);\\n\\n  --resizer-fill-color: var(--color-blue-205-100-45-opacity-30);\\n  --resizer-stroke-color: var(--color-blue-205-100-50);\\n\\n  --search-container-background-color: var(--color-grey-225-10-97);\\n  --search-container-border-color: var(--color-blue-205-100-50);\\n  --search-container-box-shadow-color: var(--color-blue-205-100-95);\\n  --search-container-box-shadow-inset-color: var(--color-grey-225-10-80);\\n  --search-input-border-color: var(--color-grey-225-10-75);\\n  --search-result-border-color: var(--color-grey-225-10-75);\\n  --search-result-highlight-color: var(--color-black);\\n  --search-result-selected-color: var(--color-blue-205-100-45-opacity-30);\\n\\n  --shape-attach-allowed-stroke-color: var(--color-blue-205-100-50);\\n  --shape-connect-allowed-fill-color: var(--color-grey-225-10-97);\\n  --shape-drop-allowed-fill-color: var(--color-grey-225-10-97);\\n  --shape-drop-not-allowed-fill-color: var(--color-red-360-100-97);\\n  --shape-resize-preview-stroke-color: var(--color-blue-205-100-50);\\n\\n  --snap-line-stroke-color: var(--color-blue-205-100-45-opacity-30);\\n\\n  --space-tool-crosshair-stroke-color: var(--color-black);\\n\\n  --tooltip-error-background-color: var(--color-red-360-100-97);\\n  --tooltip-error-border-color: var(--color-red-360-100-45);\\n  --tooltip-error-color: var(--color-red-360-100-45);\\n}\\n\\n/**\\n * outline styles\\n */\\n\\n.djs-outline {\\n  fill: none;\\n  visibility: hidden;\\n}\\n\\n.djs-element.hover .djs-outline,\\n.djs-element.selected .djs-outline {\\n  visibility: visible;\\n  shape-rendering: geometricPrecision;\\n  stroke-dasharray: 3,3;\\n}\\n\\n.djs-element.selected .djs-outline {\\n  stroke: var(--element-selected-outline-stroke-color);\\n  stroke-width: 1px;\\n}\\n\\n.djs-element.hover .djs-outline {\\n  stroke: var(--element-hover-outline-fill-color);\\n  stroke-width: 1px;\\n}\\n\\n.djs-shape.connect-ok .djs-visual > :nth-child(1) {\\n  fill: var(--shape-connect-allowed-fill-color) !important;\\n}\\n\\n.djs-shape.connect-not-ok .djs-visual > :nth-child(1),\\n.djs-shape.drop-not-ok .djs-visual > :nth-child(1) {\\n  fill: var(--shape-drop-not-allowed-fill-color) !important;\\n}\\n\\n.djs-shape.new-parent .djs-visual > :nth-child(1) {\\n  fill: var(--shape-drop-allowed-fill-color) !important;\\n}\\n\\nsvg.drop-not-ok {\\n  background: var(--shape-drop-not-allowed-fill-color) !important;\\n}\\n\\nsvg.new-parent {\\n  background: var(--shape-drop-allowed-fill-color) !important;\\n}\\n\\n.djs-connection.connect-ok .djs-visual > :nth-child(1),\\n.djs-connection.drop-ok .djs-visual > :nth-child(1) {\\n  stroke: var(--shape-drop-allowed-fill-color) !important;\\n}\\n\\n.djs-connection.connect-not-ok .djs-visual > :nth-child(1),\\n.djs-connection.drop-not-ok .djs-visual > :nth-child(1) {\\n  stroke: var(--shape-drop-not-allowed-fill-color) !important;\\n}\\n\\n.drop-not-ok,\\n.connect-not-ok {\\n  cursor: not-allowed;\\n}\\n\\n.djs-element.attach-ok .djs-visual > :nth-child(1) {\\n  stroke-width: 5px !important;\\n  stroke: var(--shape-attach-allowed-stroke-color) !important;\\n}\\n\\n.djs-frame.connect-not-ok .djs-visual > :nth-child(1),\\n.djs-frame.drop-not-ok .djs-visual > :nth-child(1) {\\n  stroke-width: 3px !important;\\n  stroke: var(--shape-drop-not-allowed-fill-color) !important;\\n  fill: none !important;\\n}\\n\\n/**\\n* Selection box style\\n*\\n*/\\n.djs-lasso-overlay {\\n  fill: var(--lasso-fill-color);\\n\\n  stroke-dasharray: 5 1 3 1;\\n  stroke: var(--lasso-stroke-color);\\n\\n  shape-rendering: geometricPrecision;\\n  pointer-events: none;\\n}\\n\\n/**\\n * Resize styles\\n */\\n.djs-resize-overlay {\\n  fill: none;\\n\\n  stroke-dasharray: 5 1 3 1;\\n  stroke: var(--shape-resize-preview-stroke-color);\\n\\n  pointer-events: none;\\n}\\n\\n.djs-resizer-hit {\\n  fill: none;\\n  pointer-events: all;\\n}\\n\\n.djs-resizer-visual {\\n  fill: var(--resizer-fill-color);\\n  stroke-width: 1px;\\n  stroke-opacity: 0.5;\\n  stroke: var(--resizer-stroke-color);\\n  shape-rendering: geometricprecision;\\n}\\n\\n.djs-resizer:hover .djs-resizer-visual {\\n  stroke: var(--resizer-stroke-color);\\n  stroke-opacity: 1;\\n}\\n\\n.djs-cursor-resize-ns,\\n.djs-resizer-n,\\n.djs-resizer-s {\\n  cursor: ns-resize;\\n}\\n\\n.djs-cursor-resize-ew,\\n.djs-resizer-e,\\n.djs-resizer-w {\\n  cursor: ew-resize;\\n}\\n\\n.djs-cursor-resize-nwse,\\n.djs-resizer-nw,\\n.djs-resizer-se {\\n  cursor: nwse-resize;\\n}\\n\\n.djs-cursor-resize-nesw,\\n.djs-resizer-ne,\\n.djs-resizer-sw {\\n  cursor: nesw-resize;\\n}\\n\\n.djs-shape.djs-resizing > .djs-outline {\\n  visibility: hidden !important;\\n}\\n\\n.djs-shape.djs-resizing > .djs-resizer {\\n  visibility: hidden;\\n}\\n\\n.djs-dragger > .djs-resizer {\\n  visibility: hidden;\\n}\\n\\n/**\\n * drag styles\\n */\\n.djs-dragger * {\\n  fill: none !important;\\n  stroke: var(--element-dragger-color) !important;\\n}\\n\\n.djs-dragger tspan,\\n.djs-dragger text {\\n  fill: var(--element-dragger-color) !important;\\n  stroke: none !important;\\n}\\n\\nmarker.djs-dragger circle,\\nmarker.djs-dragger path,\\nmarker.djs-dragger polygon,\\nmarker.djs-dragger polyline,\\nmarker.djs-dragger rect {\\n  fill: var(--element-dragger-color) !important;\\n  stroke: none !important;\\n}\\n\\nmarker.djs-dragger text,\\nmarker.djs-dragger tspan {\\n  fill: none !important;\\n  stroke: var(--element-dragger-color) !important;\\n}\\n\\n.djs-dragging {\\n  opacity: 0.3;\\n}\\n\\n.djs-dragging,\\n.djs-dragging > * {\\n  pointer-events: none !important;\\n}\\n\\n.djs-dragging .djs-context-pad,\\n.djs-dragging .djs-outline {\\n  display: none !important;\\n}\\n\\n/**\\n * no pointer events for visual\\n */\\n.djs-visual,\\n.djs-outline {\\n  pointer-events: none;\\n}\\n\\n.djs-element.attach-ok .djs-hit {\\n  stroke-width: 60px !important;\\n}\\n\\n/**\\n * all pointer events for hit shape\\n */\\n.djs-element > .djs-hit-all {\\n  pointer-events: all;\\n}\\n\\n.djs-element > .djs-hit-stroke,\\n.djs-element > .djs-hit-click-stroke {\\n  pointer-events: stroke;\\n}\\n\\n/**\\n * all pointer events for hit shape\\n */\\n.djs-drag-active .djs-element > .djs-hit-click-stroke {\\n  pointer-events: all;\\n}\\n\\n/**\\n * shape / connection basic styles\\n */\\n.djs-connection .djs-visual {\\n  stroke-width: 2px;\\n  fill: none;\\n}\\n\\n.djs-cursor-grab {\\n  cursor: -webkit-grab;\\n  cursor: -moz-grab;\\n  cursor: grab;\\n}\\n\\n.djs-cursor-grabbing {\\n  cursor: -webkit-grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: grabbing;\\n}\\n\\n.djs-cursor-crosshair {\\n  cursor: crosshair;\\n}\\n\\n.djs-cursor-move {\\n  cursor: move;\\n}\\n\\n.djs-cursor-resize-ns {\\n  cursor: ns-resize;\\n}\\n\\n.djs-cursor-resize-ew {\\n  cursor: ew-resize;\\n}\\n\\n\\n/**\\n * snapping\\n */\\n.djs-snap-line {\\n  stroke: var(--snap-line-stroke-color);\\n  stroke-linecap: round;\\n  stroke-width: 2px;\\n  pointer-events: none;\\n}\\n\\n/**\\n * snapping\\n */\\n.djs-crosshair {\\n  stroke: var(--space-tool-crosshair-stroke-color);\\n  stroke-linecap: round;\\n  stroke-width: 1px;\\n  pointer-events: none;\\n  shape-rendering: crispEdges;\\n  stroke-dasharray: 5, 5;\\n}\\n\\n/**\\n * palette\\n */\\n\\n.djs-palette {\\n  position: absolute;\\n  left: 20px;\\n  top: 20px;\\n\\n  box-sizing: border-box;\\n  width: 48px;\\n}\\n\\n.djs-palette .separator {\\n  margin: 0 5px;\\n  padding-top: 5px;\\n\\n  border: none;\\n  border-bottom: solid 1px var(--palette-separator-color);\\n\\n  clear: both;\\n}\\n\\n.djs-palette .entry:before {\\n  vertical-align: text-bottom;\\n}\\n\\n.djs-palette .djs-palette-toggle {\\n  cursor: pointer;\\n}\\n\\n.djs-palette .entry,\\n.djs-palette .djs-palette-toggle {\\n  color: var(--palette-entry-color);\\n  font-size: 30px;\\n\\n  text-align: center;\\n}\\n\\n.djs-palette .entry {\\n  float: left;\\n}\\n\\n.djs-palette .entry img {\\n  max-width: 100%;\\n}\\n\\n.djs-palette .djs-palette-entries:after {\\n  content: '';\\n  display: table;\\n  clear: both;\\n}\\n\\n.djs-palette .djs-palette-toggle:hover {\\n  background: var(--palette-toggle-hover-background-color);\\n}\\n\\n.djs-palette .entry:hover {\\n  color: var(--palette-entry-hover-color);\\n}\\n\\n.djs-palette .highlighted-entry {\\n  color: var(--palette-entry-selected-color) !important;\\n}\\n\\n.djs-palette .entry,\\n.djs-palette .djs-palette-toggle {\\n  width: 46px;\\n  height: 46px;\\n  line-height: 46px;\\n  cursor: default;\\n}\\n\\n/**\\n * Palette open / two-column layout is controlled via\\n * classes on the palette. Events to hook into palette\\n * changed life-cycle are available in addition.\\n */\\n.djs-palette.two-column.open {\\n  width: 94px;\\n}\\n\\n.djs-palette:not(.open) .djs-palette-entries {\\n  display: none;\\n}\\n\\n.djs-palette:not(.open) {\\n  overflow: hidden;\\n}\\n\\n.djs-palette.open .djs-palette-toggle {\\n  display: none;\\n}\\n\\n/**\\n * context-pad\\n */\\n.djs-overlay-context-pad {\\n  width: 72px;\\n  z-index: 100;\\n}\\n\\n.djs-context-pad {\\n  position: absolute;\\n  display: none;\\n  pointer-events: none;\\n}\\n\\n.djs-context-pad .entry {\\n  width: 22px;\\n  height: 22px;\\n  text-align: center;\\n  display: inline-block;\\n  font-size: 22px;\\n  margin: 0 2px 2px 0;\\n\\n  border-radius: 3px;\\n\\n  cursor: default;\\n\\n  background-color: var(--context-pad-entry-background-color);\\n  box-shadow: 0 0 2px 1px var(--context-pad-entry-background-color);\\n  pointer-events: all;\\n}\\n\\n.djs-context-pad .entry:before {\\n  vertical-align: top;\\n}\\n\\n.djs-context-pad .entry:hover {\\n  background: var(--context-pad-entry-hover-background-color);\\n}\\n\\n.djs-context-pad.open {\\n  display: block;\\n}\\n\\n/**\\n * popup styles\\n */\\n.djs-popup .entry {\\n  line-height: 20px;\\n  white-space: nowrap;\\n  cursor: default;\\n}\\n\\n/* larger font for prefixed icons */\\n.djs-popup .entry:before {\\n  vertical-align: middle;\\n  font-size: 20px;\\n}\\n\\n.djs-popup .entry > span {\\n  vertical-align: middle;\\n  font-size: 14px;\\n}\\n\\n.djs-popup .entry:hover,\\n.djs-popup .entry.active:hover {\\n  background: var(--popup-header-entry-selected-background-color);\\n}\\n\\n.djs-popup .entry.disabled {\\n  background: inherit;\\n}\\n\\n.djs-popup .djs-popup-header .entry {\\n  display: inline-block;\\n  padding: 2px 3px 2px 3px;\\n\\n  border: solid 1px transparent;\\n  border-radius: 3px;\\n}\\n\\n.djs-popup .djs-popup-header .entry.active {\\n  color: var(--popup-header-entry-selected-color);\\n  border: solid 1px var(--popup-header-entry-selected-color);\\n  background-color: var(--popup-header-entry-selected-background-color);\\n}\\n\\n.djs-popup-body .entry {\\n  padding: 4px 10px 4px 5px;\\n}\\n\\n.djs-popup-body .entry > span {\\n  margin-left: 5px;\\n}\\n\\n.djs-popup-body {\\n  background-color: var(--popup-body-background-color);\\n}\\n\\n.djs-popup-header {\\n  border-bottom: 1px solid var(--popup-header-separator-color);\\n}\\n\\n.djs-popup-header .entry {\\n  margin: 1px;\\n  margin-left: 3px;\\n}\\n\\n.djs-popup-header .entry:last-child {\\n  margin-right: 3px;\\n}\\n\\n/**\\n * popup / palette styles\\n */\\n.djs-palette {\\n  background: var(--palette-background-color);\\n  border: solid 1px var(--palette-border-color);\\n  border-radius: 2px;\\n}\\n\\n.djs-popup {\\n  background: var(--popup-background-color);\\n  border: solid 1px var(--popup-border-color);\\n  border-radius: 2px;\\n}\\n\\n/**\\n * touch\\n */\\n\\n.djs-shape,\\n.djs-connection {\\n  touch-action: none;\\n}\\n\\n.djs-segment-dragger,\\n.djs-bendpoint {\\n  display: none;\\n}\\n\\n/**\\n * bendpoints\\n */\\n.djs-segment-dragger .djs-visual {\\n  display: none;\\n\\n  fill: var(--bendpoint-fill-color);\\n  stroke: var(--bendpoint-stroke-color);\\n  stroke-width: 1px;\\n  stroke-opacity: 1;\\n}\\n\\n.djs-segment-dragger:hover .djs-visual {\\n  display: block;\\n}\\n\\n.djs-bendpoint .djs-visual {\\n  fill: var(--bendpoint-fill-color);\\n  stroke: var(--bendpoint-stroke-color);\\n  stroke-width: 1px;\\n  stroke-opacity: 0.5;\\n}\\n\\n.djs-segment-dragger:hover,\\n.djs-bendpoints.hover .djs-segment-dragger,\\n.djs-bendpoints.selected .djs-segment-dragger,\\n.djs-bendpoint:hover,\\n.djs-bendpoints.hover .djs-bendpoint,\\n.djs-bendpoints.selected .djs-bendpoint {\\n  display: block;\\n}\\n\\n.djs-drag-active .djs-bendpoints * {\\n  display: none;\\n}\\n\\n.djs-bendpoints:not(.hover) .floating {\\n  display: none;\\n}\\n\\n.djs-segment-dragger:hover .djs-visual,\\n.djs-segment-dragger.djs-dragging .djs-visual,\\n.djs-bendpoint:hover .djs-visual,\\n.djs-bendpoint.floating .djs-visual {\\n  fill: var(--bendpoint-fill-color);\\n  stroke: var(--bendpoint-stroke-color);\\n  stroke-opacity: 1;\\n}\\n\\n.djs-bendpoint.floating .djs-hit {\\n  pointer-events: none;\\n}\\n\\n.djs-segment-dragger .djs-hit,\\n.djs-bendpoint .djs-hit {\\n  fill: none;\\n  pointer-events: all;\\n}\\n\\n.djs-segment-dragger.horizontal .djs-hit {\\n  cursor: ns-resize;\\n}\\n\\n.djs-segment-dragger.vertical .djs-hit {\\n  cursor: ew-resize;\\n}\\n\\n.djs-segment-dragger.djs-dragging .djs-hit {\\n  pointer-events: none;\\n}\\n\\n.djs-updating,\\n.djs-updating > * {\\n  pointer-events: none !important;\\n}\\n\\n.djs-updating .djs-context-pad,\\n.djs-updating .djs-outline,\\n.djs-updating .djs-bendpoint,\\n.connect-ok .djs-bendpoint,\\n.connect-not-ok .djs-bendpoint,\\n.drop-ok .djs-bendpoint,\\n.drop-not-ok .djs-bendpoint {\\n  display: none !important;\\n}\\n\\n.djs-segment-dragger.djs-dragging,\\n.djs-bendpoint.djs-dragging {\\n  display: block;\\n  opacity: 1.0;\\n}\\n\\n\\n/**\\n * tooltips\\n */\\n.djs-tooltip-error {\\n  width: 160px;\\n  padding: 6px;\\n\\n  background: var(--tooltip-error-background-color);\\n  border: solid 1px var(--tooltip-error-border-color);\\n  border-radius: 2px;\\n  color: var(--tooltip-error-color);\\n  font-size: 12px;\\n  line-height: 16px;\\n\\n  opacity: 0.75;\\n}\\n\\n.djs-tooltip-error:hover {\\n  opacity: 1;\\n}\\n\\n\\n/**\\n * search pad\\n */\\n.djs-search-container {\\n  position: absolute;\\n  top: 20px;\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n\\n  width: 25%;\\n  min-width: 300px;\\n  max-width: 400px;\\n  z-index: 10;\\n\\n  font-size: 1.05em;\\n  opacity: 0.9;\\n  background: var(--search-container-background-color);\\n  border: solid 1px var(--search-container-border-color);\\n  border-radius: 2px;\\n  box-shadow: 0 0 0 2px var(--search-container-box-shadow-color), 0 0 0 1px var(--search-container-box-shadow-inset-color) inset;\\n}\\n\\n.djs-search-container:not(.open) {\\n  display: none;\\n}\\n\\n.djs-search-input input {\\n  font-size: 1.05em;\\n  width: 100%;\\n  padding: 6px 10px;\\n  border: 1px solid var(--search-input-border-color);\\n  box-sizing: border-box;\\n}\\n\\n.djs-search-input input:focus {\\n  outline: none;\\n  border-color: var(--search-input-border-color);\\n}\\n\\n.djs-search-results {\\n  position: relative;\\n  overflow-y: auto;\\n  max-height: 200px;\\n}\\n\\n.djs-search-results:hover {\\n  cursor: pointer;\\n}\\n\\n.djs-search-result {\\n  width: 100%;\\n  padding: 6px 10px;\\n  background: white;\\n  border-bottom: solid 1px var(--search-result-border-color);\\n  border-radius: 1px;\\n}\\n\\n.djs-search-highlight {\\n  color: var(--search-result-highlight-color);\\n}\\n\\n.djs-search-result-primary {\\n  margin: 0 0 10px;\\n}\\n\\n.djs-search-result-secondary {\\n  font-family: monospace;\\n  margin: 0;\\n}\\n\\n.djs-search-result:hover {\\n  background: var(--search-result-selected-color);\\n}\\n\\n.djs-search-result-selected {\\n  background: var(--search-result-selected-color);\\n}\\n\\n.djs-search-result-selected:hover {\\n  background: var(--search-result-selected-color);\\n}\\n\\n.djs-search-overlay {\\n  background: var(--search-result-selected-color);\\n}\\n\\n/**\\n * hidden styles\\n */\\n.djs-element-hidden,\\n.djs-element-hidden .djs-hit,\\n.djs-element-hidden .djs-outline,\\n.djs-label-hidden .djs-label {\\n  display: none !important;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../css-loader/index.js!./dmn-embedded.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/index.js!./dmn-embedded.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/index.js!./dmn-embedded.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var escape = require(\"../../../../../css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@font-face {\\n  font-family: 'dmn';\\n  src: url(\" + escape(require(\"../font/dmn.eot?40720158\")) + \");\\n  src: url(\" + escape(require(\"../font/dmn.eot?40720158\")) + \"#iefix) format('embedded-opentype'),\\n       url(\" + escape(require(\"../font/dmn.svg?40720158\")) + \"#dmn) format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'dmn';\\n  src: url('data:application/octet-stream;base64,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') format('woff'),\\n       url('data:application/octet-stream;base64,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') format('truetype');\\n}\\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\\n/*\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\n  @font-face {\\n    font-family: 'dmn';\\n    src: url('../font/dmn.svg?40720158#dmn') format('svg');\\n  }\\n}\\n*/\\n\\n [class^=\\\"dmn-icon-\\\"]:before, [class*=\\\" dmn-icon-\\\"]:before {\\n  font-family: \\\"dmn\\\";\\n  font-style: normal;\\n  font-weight: normal;\\n  speak: never;\\n\\n  display: inline-block;\\n  text-decoration: inherit;\\n  width: 1em;\\n  /*margin-right: .2em;*/\\n  text-align: center;\\n  /* opacity: .8; */\\n\\n  /* For safety - reset parent styles, that can break glyph codes*/\\n  font-variant: normal;\\n  text-transform: none;\\n\\n  /* fix buttons height, for twitter bootstrap */\\n  line-height: 1em;\\n\\n  /* Animation center compensation - margins should be symmetric */\\n  /* remove if not needed */\\n  /* margin-left: .2em; */\\n\\n  /* you can be more comfortable with increased icons size */\\n  /* font-size: 120%; */\\n\\n  /* Font smoothing. That was taken from TWBS */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n\\n  /* Uncomment for 3D effect */\\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\\n}\\n.dmn-icon-up:before { content: '\\\\E800'; } /* '' */\\n.dmn-icon-down:before { content: '\\\\E801'; } /* '' */\\n.dmn-icon-clear:before { content: '\\\\E802'; } /* '' */\\n.dmn-icon-plus:before { content: '\\\\E803'; } /* '' */\\n.dmn-icon-minus:before { content: '\\\\E804'; } /* '' */\\n.dmn-icon-info:before { content: '\\\\E805'; } /* '' */\\n.dmn-icon-left:before { content: '\\\\E806'; } /* '' */\\n.dmn-icon-decision:before { content: '\\\\E807'; } /* '' */\\n.dmn-icon-right:before { content: '\\\\E808'; } /* '' */\\n.dmn-icon-input:before { content: '\\\\E809'; } /* '' */\\n.dmn-icon-output:before { content: '\\\\E80A'; } /* '' */\\n.dmn-icon-copy:before { content: '\\\\E80B'; } /* '' */\\n.dmn-icon-keyboard:before { content: '\\\\E80C'; } /* '' */\\n.dmn-icon-undo:before { content: '\\\\E80D'; } /* '' */\\n.dmn-icon-redo:before { content: '\\\\E80E'; } /* '' */\\n.dmn-icon-menu:before { content: '\\\\E80F'; } /* '' */\\n.dmn-icon-setting:before { content: '\\\\E810'; } /* '' */\\n.dmn-icon-wrench:before { content: '\\\\E811'; } /* '' */\\n.dmn-icon-eraser:before { content: '\\\\E812'; } /* '' */\\n.dmn-icon-attention:before { content: '\\\\E813'; } /* '' */\\n.dmn-icon-resize-big:before { content: '\\\\E814'; } /* '' */\\n.dmn-icon-resize-small:before { content: '\\\\E815'; } /* '' */\\n.dmn-icon-file-code:before { content: '\\\\E816'; } /* '' */\\n.dmn-icon-business-knowledge:before { content: '\\\\E817'; } /* '' */\\n.dmn-icon-knowledge-source:before { content: '\\\\E818'; } /* '' */\\n.dmn-icon-input-data:before { content: '\\\\E819'; } /* '' */\\n.dmn-icon-text-annotation:before { content: '\\\\E81A'; } /* '' */\\n.dmn-icon-connection:before { content: '\\\\E81B'; } /* '' */\\n.dmn-icon-connection-multi:before { content: '\\\\E81C'; } /* '' */\\n.dmn-icon-drag:before { content: '\\\\E81D'; } /* '' */\\n.dmn-icon-lasso-tool:before { content: '\\\\E81E'; } /* '' */\\n.dmn-icon-screw-wrench:before { content: '\\\\E81F'; } /* '' */\\n.dmn-icon-trash:before { content: '\\\\E820'; } /* '' */\\n.dmn-icon-bpmn-io:before { content: '\\\\E821'; } /* '' */\\n.dmn-icon-decision-table:before { content: '\\\\E822'; } /* '' */\\n.dmn-icon-literal-expression:before { content: '\\\\E823'; } /* '' */\\n.dmn-icon-edit:before { content: '\\\\E824'; } /* '' */\\n.dmn-icon-cut:before { content: '\\\\E825'; } /* '' */\\n.dmn-icon-hand-tool:before { content: '\\\\E8C1'; } /* '' */\\n.dmn-icon-paste:before { content: '\\\\F0EA'; } /* '' */\", \"\"]);\n\n// exports\n","module.exports = __webpack_public_path__ + \"static/media/dmn.77b9ea7b.svg\";","\nvar content = require(\"!!../../../css-loader/index.js!./dmn-js-decision-table-controls.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/index.js!./dmn-js-decision-table-controls.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/index.js!./dmn-js-decision-table-controls.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dmn-decision-table-container {\\n  --allowed-values-placeholder-color: var(--color-grey-225-10-75);\\n  --cell-description-editor-border-color: var(--color-grey-225-10-15);\\n  --create-inputs-border-color: var(--color-grey-225-10-75);\\n  --create-inputs-color: var(--color-grey-225-10-75);\\n  --create-inputs-hover-color: var(--color-grey-225-10-15);\\n  --context-menu-background-color: var(--color-white);\\n  --context-menu-border-color: var(--color-grey-225-10-75);\\n  --context-menu-color: var(--color-grey-225-10-15);\\n  --context-menu-box-shadow-color: var(--color-black-opacity-10);\\n  --context-menu-group-entry-border-color: var(--color-grey-225-10-75);\\n  --context-menu-group-entry-disabled-color: var(--color-grey-225-10-75);\\n  --context-menu-group-entry-hover-background-color: var(--color-grey-225-10-95);\\n  --drag-and-drop-handle-color: var(--color-grey-225-10-55);\\n  --drag-and-drop-handle-hover-color: var(--color-grey-225-10-15);\\n  --form-control-label-color: var(--color-grey-225-10-55);\\n  --hint-color: var(--color-grey-225-10-55);\\n}\\n\\n/* simple string edit */\\n.dmn-decision-table-container .simple-string-edit,\\n.dmn-decision-table-container .simple-date-edit {\\n  width: 250px;\\n}\\n\\n.dmn-decision-table-container .input-expression-edit {\\n  width: 300px;\\n}\\n\\n.dmn-decision-table-container .dms-form-control {\\n  padding: 9px 0;\\n}\\n\\n.dmn-decision-table-container .allowed-values-edit .dms-form-control {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.dmn-decision-table-container .allowed-values-edit .values {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.dmn-decision-table-container .allowed-values-edit .placeholder {\\n  color: var(--allowed-values-placeholder-color);\\n}\\n\\n/** create inputs **/\\n.dmn-decision-table-container thead .input-cell.create-inputs,\\n.dmn-decision-table-container tbody .input-cell.create-inputs {\\n  white-space: normal;\\n  border-color: var(--create-inputs-border-color);\\n  color: var(--create-inputs-color);\\n  min-width: 50px;\\n  width: 50px;\\n}\\n\\n.dmn-decision-table-container thead .input-cell.create-inputs {\\n  text-align: center;\\n}\\n\\n.dmn-decision-table-container .create-inputs .add-input {\\n  right: 50%;\\n}\\n\\n.dmn-decision-table-container .create-inputs:hover {\\n  border-color: var(--create-inputs-hover-color);\\n  color: var(--create-inputs-hover-color);\\n}\\n\\n.dmn-decision-table-container th.create-inputs {\\n  vertical-align: top;\\n}\\n\\n/** end create inputs **/\\n\\n/* TODO(nikku): namespace and refactor context menu styles */\\n.dmn-decision-table-container .context-menu {\\n  position: absolute;\\n  background: var(--context-menu-background-color);\\n  border: solid 1px var(--context-menu-border-color);\\n  border-radius: 2px;\\n  font-size: 14px;\\n  color: var(--context-menu-color);\\n  z-index: 6;\\n  box-shadow: 1px 1px 1px 1px var(--context-menu-box-shadow-color);\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-container {\\n  margin: 8px;\\n}\\n\\n.dmn-decision-table-container .context-menu p {\\n  margin: 10px 0;\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-flex {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-group .context-menu-group-entry {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: stretch;\\n  width: 100%;\\n  padding: 8px 16px;\\n  cursor: default;\\n  white-space: nowrap;\\n}\\n\\n.dmn-decision-table-container .context-menu-group .context-menu-group-entry:hover {\\n  background-color: var(--context-menu-group-entry-hover-background-color);\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-group .context-menu-group-entry.disabled {\\n  pointer-events: none;\\n  color: var(--context-menu-group-entry-disabled-color);\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-group .context-menu-group-entry .context-menu-group-entry-icon {\\n  display: inline-block;\\n  text-align: center;\\n  width: 14px;\\n  margin-right: 6px;\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-group .context-menu-group-entry .context-menu-group-entry-icon::before {\\n  margin: 0;\\n}\\n\\n.dmn-decision-table-container .context-menu-group:not(:last-child)::after {\\n  content: '';\\n  display: block;\\n  margin: 0 8px;\\n  border-bottom: 1px solid var(--context-menu-group-entry-border-color);\\n  height: 1px;\\n}\\n\\n/* input/output editor */\\n\\n.dmn-decision-table-container .context-menu .context-menu-container.input-edit,\\n.dmn-decision-table-container .context-menu .context-menu-container.output-edit {\\n  margin: 34px 10px 10px 10px;\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-container.type-ref-edit,\\n.dmn-decision-table-container .context-menu .context-menu-container.allowed-values-edit {\\n  margin: 10px;\\n}\\n\\n.dmn-decision-table-container .dms-output-label,\\n.dmn-decision-table-container .dms-input-label {\\n  padding-right: 30px;\\n  padding-left: 0;\\n  border: none;\\n  font-size: 16px;\\n  white-space: nowrap;\\n}\\n\\n.dmn-decision-table-container .dms-form-control:first-child {\\n  padding-top: 0;\\n}\\n\\n.dmn-decision-table-container .dms-form-control .dms-label {\\n  display: block;\\n  margin: unset;\\n  margin-bottom: 6px;\\n  color: var(--form-control-label-color);\\n  font-weight: normal;\\n}\\n\\n.dmn-decision-table-container .dms-form-control .dms-input {\\n  padding-right: 24px;\\n  border-radius: 3px;\\n}\\n\\n.dmn-decision-table-container .dms-form-control .dms-list-component {\\n  max-width: 179px;\\n}\\n\\n/* expression language */\\n.dmn-decision-table-container .context-menu .context-menu-group .context-menu-entry-set-expression-language {\\n  flex-direction: column;\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-group .context-menu-entry-set-expression-language:hover {\\n  background-color: unset;\\n}\\n\\n.dmn-decision-table-container .context-menu .context-menu-group .context-menu-entry-set-expression-language .expression-language {\\n  margin-top: 8px;\\n}\\n\\n.dmn-decision-table-container p.dms-hint {\\n  font-size: 0.85em;\\n  margin-top: 5px;\\n  color: var(--hint-color);\\n}\\n\\n/* drag and drop */\\n.dmn-icon-drag {\\n  color: transparent;\\n}\\n\\n.dmn-icon-drag:hover {\\n  color: var(--drag-and-drop-handle-hover-color);\\n}\\n\\n.dmn-decision-table-container th .dmn-icon-drag {\\n  position: absolute;\\n  left: 4px;\\n  top: 10px;\\n  transform: translateY(-50%);\\n}\\n\\n.dmn-decision-table-container th:hover .dmn-icon-drag,\\n.dmn-decision-table-container td:hover .dmn-icon-drag {\\n  color: var(--drag-and-drop-handle-color);\\n}\\n\\n.dmn-decision-table-container .input-cell.input-editor:hover .clause,\\n.dmn-decision-table-container .output-cell.output-editor:hover .clause {\\n  visibility: hidden;\\n}\\n\\n.dmn-icon-drag.horizontal,\\n.dmn-icon-drag.vertical {\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n/* description editor */\\n\\n.dmn-decision-table-container .context-menu .description-editor {\\n  margin: 0;\\n  padding: 5px 0;\\n  width: 192px;\\n  border-left: solid 3px var(--cell-description-editor-border-color);\\n}\\n\\n.dmn-decision-table-container .description-editor .dms-input {\\n  border: none;\\n  min-height: 0;\\n}\\n\\n/* end description editor */\\n\\n.dmn-decision-table-container .resize-column-handle {\\n  width: 25px;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  right: -5px;\\n  z-index: 1;\\n  cursor: col-resize;\\n}\\n\\n.dmn-decision-table-container .resize-column-handle:last-child {\\n  width: 20px;\\n  right: 0;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../css-loader/index.js!./dmn-js-decision-table.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/index.js!./dmn-js-decision-table.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/index.js!./dmn-js-decision-table.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dmn-decision-table-container {\\r\\n  --action-icon-color: var(--color-blue-205-100-50);\\r\\n  --action-icon-hover-background-color: var(--color-blue-205-100-45);\\r\\n  --action-icon-hover-color: var(--color-white);\\r\\n  --add-column-icon-color: var(--color-white);\\r\\n  --add-column-icon-background-color: var(--color-grey-225-10-35);\\r\\n  --decision-table-color: var(--color-grey-225-10-15);\\r\\n  --decision-table-background-color: var(--color-white);\\r\\n  --decision-table-properties-color: var(--color-grey-225-10-15);\\r\\n  --dmn-expression-language-background-color: var(--color-blue-205-100-45-opacity-30);\\r\\n  --dmn-expression-language-color: var(--color-white);\\r\\n  --dmn-expression-language-hover-background-color: var(--color-blue-205-100-50);\\r\\n  --drag-and-drop-drag-color: var(--color-grey-225-10-55);\\r\\n  --drag-and-drop-drop-marker-color: var(--color-grey-225-10-35);\\r\\n  --hit-policy-explanation-color: var(--color-grey-225-10-35);\\r\\n  --powered-by-overlay-background-color: var(--color-black-opacity-20);\\r\\n  --powered-by-overlay-content-background-color: var(--color-white);\\r\\n  --powered-by-overlay-content-color: var(--color-grey-225-10-15);\\r\\n  --powered-by-overlay-content-border-color: var(--color-grey-225-10-75);\\r\\n  --simple-mode-button-color: var(--color-grey-225-10-15);\\r\\n  --simple-mode-button-background-color: var(--color-grey-225-10-97);\\r\\n  --simple-mode-button-border-color: var(--color-grey-225-10-75);\\r\\n  --simple-mode-button-box-shadow-color: var(--color-black-opacity-10);\\r\\n  --simple-mode-button-disabled-color: var(--color-grey-225-10-75);\\r\\n  --table-cell-color: var(--color-grey-225-10-15);\\r\\n  --table-cell-border-color: var(--color-grey-225-10-15);\\r\\n  --table-cell-selected-outline-color: var(--color-blue-205-100-45);\\r\\n  --table-foot-add-rule-border-color: var(--color-grey-225-10-75);\\r\\n  --table-foot-add-rule-color: var(--color-grey-225-10-75);\\r\\n  --table-foot-add-rule-hover-border-color: var(--color-grey-225-10-15);\\r\\n  --table-foot-add-rule-hover-color: var(--color-grey-225-10-15);\\r\\n  --table-head-border-color: var(--color-grey-225-10-15);\\r\\n  --table-head-clause-color: var(--color-grey-225-10-35);\\r\\n  --table-head-separator-color: var(--color-grey-225-10-75);\\r\\n  --table-head-variable-color: var(--color-grey-225-10-35);\\r\\n  --table-row-alternative-background-color: var(--color-grey-225-10-97);\\r\\n  --view-drd-button-background-color: var(--color-white);\\r\\n  --view-drd-button-border-color: var(--color-grey-225-10-75);\\r\\n  --view-drd-button-color: var(--color-grey-225-10-15);\\r\\n  --view-drd-button-hover-background-color: var(--color-grey-225-10-97);\\r\\n  --decision-table-font-family: 'Arial', sans-serif;\\r\\n\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  overflow: hidden;\\r\\n  position: relative;\\r\\n  font-family: var(--decision-table-font-family);\\r\\n  font-size: 14px;\\r\\n  color: var(--table-color);\\r\\n  max-height: 100%;\\r\\n}\\r\\n\\r\\n/* basic styles */\\r\\n\\r\\n.dmn-decision-table-container * {\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .tjs-container {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  position: relative;\\r\\n  width: min-content;\\r\\n  max-width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n/* end basic styles */\\r\\n\\r\\n/* basic table styles */\\r\\n\\r\\n.dmn-decision-table-container .tjs-table-container {\\r\\n  overflow: auto;\\r\\n  border: solid 1px var(--table-cell-border-color);\\r\\n  border-top: none;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .tjs-table {\\r\\n  max-width: 100%;\\r\\n  max-height: 100%;\\r\\n  position: relative;\\r\\n  width: 100%; /* Fallback for legacy Edge */\\r\\n  width: min-content;\\r\\n  table-layout: fixed;\\r\\n  border-collapse: separate;\\r\\n  border-spacing: 0;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container th,\\r\\n.dmn-decision-table-container td {\\r\\n  position: relative;\\r\\n  white-space: pre-wrap;\\r\\n  overflow-wrap: break-word;\\r\\n  background-clip: padding-box;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead th {\\r\\n  text-align: center;\\r\\n  width: 192px;\\r\\n  font-weight: normal;\\r\\n  position: sticky;\\r\\n  top: 0;\\r\\n  z-index: 1;\\r\\n  background-color: var(--decision-table-background-color);\\r\\n  border-bottom: 3px double var(--table-head-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead th.output-editor {\\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead th.create-inputs,\\r\\n.dmn-decision-table-container thead th.input-editor {\\r\\n  z-index: 3;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tbody td {\\r\\n  border-top: solid 1px var(--table-cell-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container th.input-cell,\\r\\n.dmn-decision-table-container td.input-cell,\\r\\n.dmn-decision-table-container th.output-cell,\\r\\n.dmn-decision-table-container td.output-cell,\\r\\n.dmn-decision-table-container th.annotation,\\r\\n.dmn-decision-table-container td.annotation {\\r\\n  color: var(--table-cell-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container th.input-cell + th.output-cell,\\r\\n.dmn-decision-table-container td.input-cell + td.output-cell {\\r\\n  border-left: 3px double var(--table-cell-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container th:not(:first-child),\\r\\n.dmn-decision-table-container td:not(:first-child) {\\r\\n  padding: 4px;\\r\\n  border-left: solid 1px var(--table-cell-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead {\\r\\n  background-color: var(--decision-table-background-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead th:first-child {\\r\\n  left: 0;\\r\\n  z-index: 4;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tfoot td:first-child {\\r\\n  border-right: solid 1px var(--table-foot-add-rule-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tbody td:first-child,\\r\\n.dmn-decision-table-container tfoot td:first-child {\\r\\n  position: sticky;\\r\\n  left: 0;\\r\\n  background-color: var(--decision-table-background-color);\\r\\n  z-index: 1;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tbody:empty {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead th:first-child,\\r\\n.dmn-decision-table-container tbody td:first-child {\\r\\n  border-right: solid 1px var(--table-cell-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead th:nth-child(2),\\r\\n.dmn-decision-table-container tbody td:nth-child(2),\\r\\n.dmn-decision-table-container tfoot td:nth-child(2) {\\r\\n  border-left: none;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tbody tr:last-child td {\\r\\n  border-bottom: solid 1px var(--table-cell-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tbody tr:first-child td {\\r\\n  border-top: none;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container th.index-column {\\r\\n  width: 56px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container td.rule-index {\\r\\n  text-align: right;\\r\\n  padding-right: 8px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tbody tr:nth-child(2n) {\\r\\n  background-color: var(--table-row-alternative-background-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container td.input-cell.add-rule,\\r\\n.dmn-decision-table-container td.input-cell:not(.focussed).empty {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n/* end basic table styles */\\r\\n\\r\\n/* selection styles */\\r\\n\\r\\n.dmn-decision-table-container h3,\\r\\n.dmn-decision-table-container h5 {\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .selected {\\r\\n  outline: var(--table-cell-selected-outline-color);\\r\\n  outline-offset: -1px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container th.selected:not(.focussed) {\\r\\n  background: var(--selected-not-focused-border-color);\\r\\n}\\r\\n\\r\\n/* end selection styles */\\r\\n\\r\\n/* footer styles */\\r\\n\\r\\n.dmn-decision-table-container tfoot td.input-cell + td.output-cell {\\r\\n  border-left: 3px double var(--table-foot-add-rule-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tfoot.add-rule td.add-rule-add {\\r\\n  text-align: right;\\r\\n  padding-right: 4px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tfoot.add-rule tr td {\\r\\n  border-color: var(--table-foot-add-rule-border-color);\\r\\n  color: var(--table-foot-add-rule-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tfoot.add-rule:hover td.input-cell + td.output-cell {\\r\\n  border-left-color: var(--table-cell-border-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container tfoot.add-rule:hover td {\\r\\n  border-color: var(--table-foot-add-rule-hover-border-color);\\r\\n  color: var(--table-foot-add-rule-hover-color);\\r\\n}\\r\\n\\r\\n/* end footer styles */\\r\\n\\r\\n/* content editable styles */\\r\\n\\r\\n.dmn-decision-table-container [contenteditable],\\r\\n.dmn-decision-table-container [tabindex] {\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n/* end content editable styles */\\r\\n\\r\\n/* decision table header */\\r\\n.dmn-decision-table-container .decision-table-header {\\r\\n  text-align: left;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .decision-table-header * {\\r\\n  vertical-align: middle;\\r\\n}\\r\\n\\r\\n/* decision table properties */\\r\\n.dmn-decision-table-container .decision-table-properties {\\r\\n  display: flex;\\r\\n  color: var(--decision-table-properties-color);\\r\\n  border: 1px solid var(--table-cell-border-color);\\r\\n  background-color: var(--decision-table-background-color);\\r\\n  padding: 10px;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .decision-table-name {\\r\\n  position: relative;\\r\\n  display: block;\\r\\n  flex-grow: 1;\\r\\n  margin: 0;\\r\\n  width: 0;\\r\\n  min-width: 100px;\\r\\n  max-width: min-content;\\r\\n  font-size: 21px;\\r\\n  font-weight: normal;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .decision-table-name:not(.editable),\\r\\n.dmn-decision-table-container .decision-table-name .content-editable {\\r\\n  text-overflow: ellipsis;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .decision-table-name.focussed .content-editable {\\r\\n  text-overflow: unset;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .decision-table-header-separator {\\r\\n  display: block;\\r\\n  height: 32px;\\r\\n  border-left: 2px solid var(--table-head-separator-color);\\r\\n  margin: 0 10px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .hit-policy {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .hit-policy-explanation {\\r\\n  margin-left: 5px;\\r\\n  color: var(--hit-policy-explanation-color);\\r\\n}\\r\\n\\r\\n/* end decision table properties */\\r\\n\\r\\n.dmn-decision-table-container thead .input-label,\\r\\n.dmn-decision-table-container thead .input-expression,\\r\\n.dmn-decision-table-container thead .output-label,\\r\\n.dmn-decision-table-container thead .output-name {\\r\\n  margin: 16px 6px;\\r\\n  font-size: 16px;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .input-cell .input-label,\\r\\n.dmn-decision-table-container .input-cell .output-label,\\r\\n.dmn-decision-table-container .input-cell .output-name {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead .input-expression:empty::before {\\r\\n  content: 'Input';\\r\\n  opacity: 0.5;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead .output-name:empty::before {\\r\\n  content: 'Output';\\r\\n  opacity: 0.5;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead .input-variable,\\r\\n.dmn-decision-table-container thead .output-variable {\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n  text-align: right;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead .input-cell .clause,\\r\\n.dmn-decision-table-container thead .output-cell .clause {\\r\\n  font-size: 12px;\\r\\n  text-align: left;\\r\\n  color: var(--table-head-clause-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container thead .input-cell .input-variable,\\r\\n.dmn-decision-table-container thead .output-cell .output-variable {\\r\\n  font-size: 12px;\\r\\n  color: var(--table-head-variable-color);\\r\\n}\\r\\n\\r\\n/* actionable icon */\\r\\n\\r\\n.dmn-decision-table-container .action-icon {\\r\\n  border-radius: 2px;\\r\\n  box-shadow: 0 0 0 2px var(--decision-table-background-color);\\r\\n  color: var(--action-icon-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .create-inputs .action-icon,\\r\\n.dmn-decision-table-container .add-input .action-icon,\\r\\n.dmn-decision-table-container .add-output .action-icon {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  width: 16px;\\r\\n  height: 16px;\\r\\n  margin: 0;\\r\\n  border-radius: 50%;\\r\\n  color: var(--add-column-icon-color);\\r\\n  background-color: var(--add-column-icon-background-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .actionable:hover .action-icon {\\r\\n  background-color: var(--action-icon-hover-background-color);\\r\\n  color: var(--action-icon-hover-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .action-icon::before {\\r\\n  margin-left: 0.1em;\\r\\n  margin-right: 0.1em;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .add-input,\\r\\n.dmn-decision-table-container .add-output {\\r\\n  position: absolute;\\r\\n  top: 50%;\\r\\n  right: -1px;\\r\\n  transform: translate(50%, -50%);\\r\\n  z-index: 2;\\r\\n  border-radius: 100%;\\r\\n  padding: 6px;\\r\\n}\\r\\n\\r\\n/* end actionable icon */\\r\\n\\r\\n/* view drd */\\r\\n.dmn-decision-table-container .view-drd {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .view-drd .view-drd-button {\\r\\n  background: var(--view-drd-button-background-color);\\r\\n  padding: 8px;\\r\\n  border: solid 1px var(--view-drd-button-border-color);\\r\\n  border-radius: 2px;\\r\\n  font-size: 14px;\\r\\n  color: var(--view-drd-button-color);\\r\\n  font-weight: bold;\\r\\n  cursor: pointer;\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .view-drd .view-drd-button:hover {\\r\\n  background: var(--view-drd-button-hover-background-color);\\r\\n}\\r\\n\\r\\n/* end view drd */\\r\\n\\r\\n/* powered by */\\r\\n.dmn-js-parent {\\r\\n  /* required to apply position: fixed correctly */\\r\\n  transform: translate(0);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .powered-by {\\r\\n  position: fixed;\\r\\n  bottom: 10px;\\r\\n  right: 10px;\\r\\n  z-index: 9999;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  flex-direction: row-reverse;\\r\\n  margin: 10px;\\r\\n  background-color: var(--color-white);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .powered-by-overlay {\\r\\n  position: fixed;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  background: var(--powered-by-overlay-background-color);\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  z-index: 10000;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .powered-by-overlay .powered-by-overlay-content {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  align-items: center;\\r\\n  padding: 10px;\\r\\n  max-width: 260px;\\r\\n  background: var(--powered-by-overlay-content-background-color);\\r\\n  color: var(--powered-by-overlay-content-color);\\r\\n  border: solid 1px var(--powered-by-overlay-content-border-color);\\r\\n  border-radius: 2px;\\r\\n  font-size: 14px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .powered-by-overlay .powered-by-overlay-content .logo {\\r\\n  margin: 15px 20px 15px 10px;\\r\\n}\\r\\n\\r\\n/* end powered by */\\r\\n\\r\\n/* simple mode */\\r\\n\\r\\n.dmn-decision-table-container .simple-mode-button {\\r\\n  color: var(--simple-mode-button-color);\\r\\n  background-color: var(--simple-mode-button-background-color);\\r\\n  position: absolute;\\r\\n  padding: 4px;\\r\\n  border-radius: 2px;\\r\\n  border: solid 1px var(--simple-mode-button-border-color);\\r\\n  cursor: pointer;\\r\\n  font-size: 14px;\\r\\n  z-index: 5;\\r\\n  opacity: 0.8;\\r\\n  box-shadow: 1px 1px 1px 1px var(--simple-mode-button-box-shadow-color);\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .simple-mode-button:hover {\\r\\n  opacity: 1;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .simple-mode-button.disabled,\\r\\n.dmn-decision-table-container .simple-mode-button.disabled:hover {\\r\\n  color: var(--simple-mode-button-disabled-olor);\\r\\n}\\r\\n\\r\\n/* end simple mode  */\\r\\n\\r\\n/* badges */\\r\\n\\r\\n.dms-badge {\\r\\n  border-radius: 2px;\\r\\n  padding: 3px 6px;\\r\\n  font-size: 0.8em;\\r\\n  height: 19px;\\r\\n}\\r\\n\\r\\n.dms-badge-icon + .dms-badge-label {\\r\\n  margin-left: 3px;\\r\\n}\\r\\n\\r\\n.dms-badge.dmn-expression-language {\\r\\n  background: var(--dmn-expression-language-background-color);\\r\\n  color: var(--dmn-expression-language-color);\\r\\n}\\r\\n\\r\\n.dms-badge + .dms-badge {\\r\\n  margin-left: 3px;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .dmn-expression-language .dms-badge-label {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .input-cell:hover .dmn-expression-language .dms-badge-label,\\r\\n.dmn-decision-table-container .output-cell:hover .dmn-expression-language .dms-badge-label {\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .input-editor .dmn-expression-language {\\r\\n  margin-top: 4px;\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .cell .dms-badge.dmn-expression-language {\\r\\n  z-index: -1;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .cell:hover .dms-badge.dmn-expression-language {\\r\\n  background: var(--dmn-expression-language-hover-background-color);\\r\\n  z-index: 1;\\r\\n}\\r\\n\\r\\n/* cell expression language */\\r\\n\\r\\n.dmn-decision-table-container .cell .dmn-expression-language {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  position: absolute;\\r\\n  top: 2px;\\r\\n  right: 2px;\\r\\n  pointer-events: none;\\r\\n}\\r\\n\\r\\n/* end cell expression language */\\r\\n\\r\\n/* drag and drop */\\r\\n\\r\\n.dmn-decision-table-container .dragover::before {\\r\\n  content: '';\\r\\n  display: block;\\r\\n  position: absolute;\\r\\n  background-color: var(--drag-and-drop-drop-marker-color);\\r\\n  z-index: 2;\\r\\n  pointer-events: none;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .dragover.top::before {\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  height: 5px;\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .dragover.right::before {\\r\\n  top: 0;\\r\\n  bottom: 0;\\r\\n  width: 5px;\\r\\n  right: 0;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .dragover.bottom::before {\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  height: 5px;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .dragover.left::before {\\r\\n  top: 0;\\r\\n  bottom: 0;\\r\\n  width: 5px;\\r\\n  left: 0;\\r\\n}\\r\\n\\r\\n.dmn-decision-table-container .dragged {\\r\\n  color: var(--drag-and-drop-drag-color);\\r\\n}\\r\\n\\r\\n/* cell description */\\r\\n\\r\\n.dmn-decision-table-container .description-indicator {\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  right: -4px;\\r\\n  border-left: 4px solid transparent;\\r\\n  border-right: 4px solid transparent;\\r\\n  border-bottom: 4px solid var(--color-black);\\r\\n  transform: rotate(45deg);\\r\\n  transform-origin: top;\\r\\n}\\r\\n\\r\\n/* end cell description */\\r\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../css-loader/index.js!./dmn-js-drd.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/index.js!./dmn-js-drd.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/index.js!./dmn-js-drd.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dmn-drd-container {\\n  --dmn-definitions-background-color: var(--color-grey-225-10-97);\\n  --dmn-definitions-border-color: var(--color-grey-225-10-75);\\n  --dmn-definitions-focus-border-color: var(--color-grey-225-10-75);\\n  --dmn-definitions-error-color: var(--color-red-360-100-45);\\n  --dmn-definitions-error-border-color: var(--color-red-360-100-45);\\n  --dmn-definitions-error-background-color: var(--color-red-360-100-97);\\n  --drill-down-overlay-background-color: var(--color-blue-205-100-50);\\n  --drill-down-overlay-color: var(--color-white);\\n  --drd-font-family-monospace: monospace;\\n\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n\\n.dmn-drd-container * {\\n  box-sizing: border-box;\\n}\\n\\n.djs-overlay .drill-down-overlay {\\n  font-size: 16px;\\n  background: var(--drill-down-overlay-background-color);\\n  color: var(--drill-down-overlay-color);\\n  text-align: left;\\n  border-radius: 1px;\\n  padding: 0 2px;\\n}\\n\\n.dmn-definitions {\\n  position: absolute;\\n  top: 20px;\\n  left: 20px;\\n  background-color: var(--dmn-definitions-background-color);\\n  border: solid 1px var(--dmn-definitions-border-color);\\n  border-radius: 2px;\\n  padding: 4px;\\n}\\n\\n.dmn-definitions .dmn-definitions-name {\\n  font-size: 24px;\\n  padding: 3px;\\n}\\n\\n.dmn-definitions .dmn-definitions-name:focus {\\n  outline: none;\\n}\\n\\n.dmn-definitions .dmn-definitions-id {\\n  font-family: var(--drd-font-family-monospace);\\n  margin-top: 2px;\\n  padding: 3px;\\n}\\n\\n.dmn-definitions .dmn-definitions-id:focus {\\n  outline: none;\\n}\\n\\n.dmn-definitions > [contenteditable]:hover,\\n.dmn-definitions > [contenteditable]:focus {\\n  padding: 2px;\\n  background-color: var(--color-white);\\n  border-radius: 2px;\\n  border: 1px solid var(--dmn-definitions-focus-border-color);\\n}\\n\\n.dmn-definitions .dmn-definitions-error-message {\\n  color: var(--dmn-definitions-error-color);\\n  display: block;\\n  font-size: 12px;\\n  margin-top: 6px;\\n}\\n\\n.dmn-definitions .dmn-definitions-id.dmn-definitions-error {\\n  border-color: var(--dmn-definitions-error-border-color);\\n  background-color: var(--dmn-definitions-error-background-color);\\n}\\n\\n.djs-container.with-palette .dmn-definitions {\\n  left: 80px;\\n}\\n\\n.djs-container.with-palette-two-column .dmn-definitions {\\n  left: 130px;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../css-loader/index.js!./dmn-js-literal-expression.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/index.js!./dmn-js-literal-expression.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/index.js!./dmn-js-literal-expression.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dmn-literal-expression-container {\\r\\n  --decision-properties-background-color: var(--color-white);\\r\\n  --decision-properties-border-color: var(--color-grey-225-10-15);\\r\\n  --decision-properties-color: var(--color-grey-225-10-15);\\r\\n  --literal-expression-color: var(--color-grey-225-10-15);\\r\\n  --literal-expression-properties-border-color: var(--color-grey-225-10-15);\\r\\n  --literal-expression-properties-color: var(--color-grey-225-10-15);\\r\\n  --powered-by-overlay-background-color: var(--color-black-opacity-20);\\r\\n  --powered-by-overlay-content-background-color: var(--color-white);\\r\\n  --powered-by-overlay-content-border-color: var(--color-grey-225-10-75);\\r\\n  --powered-by-overlay-content-color: var(--color-grey-225-10-15);\\r\\n  --textarea-border-color: var(--color-grey-225-10-15);\\r\\n  --textarea-color: var(--color-grey-225-10-15);\\r\\n  --view-drd-button-background-color: var(--color-white);\\r\\n  --view-drd-button-border-color: var(--color-grey-225-10-75);\\r\\n  --view-drd-button-color: var(--color-grey-225-10-15);\\r\\n  --view-drd-button-hover-background-color: var(--color-grey-225-10-97);\\r\\n  --literal-expression-font-family: 'Arial', sans-serif;\\r\\n  --literal-expression-font-family-monospace: monospace;\\r\\n\\r\\n  font-family: var(--literal-expression-font-family);\\r\\n  position: relative;\\r\\n  color: var(--literal-expression-color);\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n\\r\\n  /* required to apply position: fixed correctly */\\r\\n  transform: translate(0);\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .viewer-container {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container * {\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n/* decision properties */\\r\\n.dmn-literal-expression-container .decision-properties {\\r\\n  border: 1px solid var(--decision-properties-border-color);\\r\\n  border-bottom: none;\\r\\n  padding: 10px;\\r\\n  padding-right: 75px;\\r\\n  color: var(--decision-properties-color);\\r\\n  background-color: var(--decision-properties-background-color);\\r\\n  position: relative;\\r\\n  min-width: 192px;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .decision-name {\\r\\n  margin: 0;\\r\\n  font-size: 21px;\\r\\n  font-weight: normal;\\r\\n  white-space: pre;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .decision-name:not(.editor) {\\r\\n  cursor: default;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .decision-name.editor {\\r\\n  cursor: text;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .decision-name div {\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .decision-name:not(.editable),\\r\\n.dmn-literal-expression-container .decision-name .content-editable {\\r\\n  text-overflow: ellipsis;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .textarea .content,\\r\\n.dmn-literal-expression-container .textarea .content-editable {\\r\\n  padding: 12px;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .textarea .content-editable {\\r\\n  height: 100%;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .decision-name.editor:not(.focussed):hover {\\r\\n  cursor: text;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .decision-name.focussed .content-editable {\\r\\n  text-overflow: unset;\\r\\n}\\r\\n\\r\\n/* textarea */\\r\\n.dmn-literal-expression-container .textarea {\\r\\n  box-sizing: border-box;\\r\\n  width: 100%;\\r\\n  font-family: var(--literal-expression-font-family-monospace);\\r\\n  border: 1px solid var(--textarea-border-color);\\r\\n  border-bottom-width: 1px;\\r\\n  white-space: pre;\\r\\n  font-size: 14px;\\r\\n  color: var(--textarea-color);\\r\\n  height: 250px;\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .textarea div:focus {\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .textarea.editor {\\r\\n  cursor: text;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .textarea:not(.editor) {\\r\\n  cursor: default;\\r\\n}\\r\\n\\r\\n/* literal expression properties */\\r\\n.dmn-literal-expression-container .literal-expression-properties {\\r\\n  box-sizing: border-box;\\r\\n  width: 100%;\\r\\n  padding: 0;\\r\\n  border: 1px solid var(--literal-expression-properties-border-color);\\r\\n  border-top: none;\\r\\n  font-size: 14px;\\r\\n  color: var(--literal-expression-properties-color);\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .literal-expression-properties table {\\r\\n  border-spacing: 8px;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .literal-expression-properties table tr td:first-child {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .literal-expression-properties table tr td:last-child {\\r\\n  min-width: 100px;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .literal-expression-properties .variable-name-input {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n/* view drd */\\r\\n.dmn-literal-expression-container .view-drd {\\r\\n  margin-right: 10px;\\r\\n  padding-bottom: 10px;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .view-drd .view-drd-button {\\r\\n  background: var(--view-drd-button-background-color);\\r\\n  padding: 8px;\\r\\n  border: solid 1px var(--view-drd-button-border-color);\\r\\n  border-radius: 2px;\\r\\n  font-size: 14px;\\r\\n  color: var(--view-drd-button-color);\\r\\n  font-weight: bold;\\r\\n  cursor: pointer;\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .view-drd .view-drd-button:hover {\\r\\n  background: var(--view-drd-button-hover-background-color);\\r\\n}\\r\\n\\r\\n/* powered by */\\r\\n\\r\\n.dmn-literal-expression-container .powered-by {\\r\\n  position: fixed;\\r\\n  bottom: 10px;\\r\\n  right: 10px;\\r\\n  z-index: 100;\\r\\n  display: flex;\\r\\n  flex-direction: row-reverse;\\r\\n  align-items: center;\\r\\n  padding: 5px;\\r\\n  background-color: var(--color-white);\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .powered-by__logo {\\r\\n  z-index: 10;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .powered-by-overlay {\\r\\n  position: fixed;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  background: var(--powered-by-overlay-background-color);\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  z-index: 10;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .powered-by-overlay .powered-by-overlay-content {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  align-items: center;\\r\\n  padding: 10px;\\r\\n  max-width: 260px;\\r\\n  background: var(--powered-by-overlay-content-background-color);\\r\\n  color: var(--powered-by-overlay-content-color);\\r\\n  border: solid 1px var(--powered-by-overlay-content-border-color);\\r\\n  border-radius: 2px;\\r\\n  font-size: 14px;\\r\\n}\\r\\n\\r\\n.dmn-literal-expression-container .powered-by-overlay .powered-by-overlay-content .logo {\\r\\n  margin: 15px 20px 15px 10px;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../css-loader/index.js!./dmn-js-shared.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/index.js!./dmn-js-shared.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/index.js!./dmn-js-shared.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* Color definitions */\\n.dmn-js-parent {\\n  --color-grey-225-10-15: hsl(225, 10%, 15%);\\n  --color-grey-225-10-35: hsl(225, 10%, 35%);\\n  --color-grey-225-10-55: hsl(225, 10%, 55%);\\n  --color-grey-225-10-75: hsl(225, 10%, 75%);\\n  --color-grey-225-10-80: hsl(225, 10%, 80%);\\n  --color-grey-225-10-85: hsl(225, 10%, 85%);\\n  --color-grey-225-10-90: hsl(225, 10%, 90%);\\n  --color-grey-225-10-95: hsl(225, 10%, 95%);\\n  --color-grey-225-10-97: hsl(225, 10%, 97%);\\n  --color-blue-205-100-45: hsl(205, 100%, 45%);\\n  --color-blue-205-100-45-opacity-30: hsla(205, 100%, 45%, 30%);\\n  --color-blue-205-100-50: hsl(205, 100%, 50%);\\n  --color-blue-205-100-80: hsl(205, 100%, 80%);\\n  --color-blue-205-100-95: hsl(205, 100%, 95%);\\n  --color-green-150-86-44: hsl(150, 86%, 44%);\\n  --color-red-360-100-40: hsl(360, 100%, 40%);\\n  --color-red-360-100-45: hsl(360, 100%, 45%);\\n  --color-red-360-100-92: hsl(360, 100%, 92%);\\n  --color-red-360-100-97: hsl(360, 100%, 97%);\\n  --color-white: hsl(0, 0%, 100%);\\n  --color-black: hsl(0, 0%, 0%);\\n  --color-black-opacity-10: hsla(0, 0%, 0%, 10%);\\n  --color-black-opacity-20: hsla(0, 0%, 0%, 20%);\\n  --hint-button-color: var(--color-blue-205-100-50);\\n  --hint-button-hover-color: var(--color-blue-205-100-45);\\n  --hint-invalid-color: var(--color-red-360-100-45);\\n  --separator-color: var(--color-grey-225-10-75);\\n  --input-border-color: var(--color-grey-225-10-75);\\n  --input-color: var(--color-grey-225-10-15);\\n  --input-focus-border-color: var(--color-blue-205-100-50);\\n  --input-focus-box-shadow-color: var(--color-blue-205-100-80);\\n  --input-focus-box-shadow-inset-color: var(--color-grey-225-10-75);\\n  --input-focus-invalid-border-color: var(--color-red-360-100-45);\\n  --input-focus-invalid-box-shadow-color: var(--color-red-360-100-92);\\n  --input-invalid-border-color: var(--color-red-360-100-45);\\n  --input-invalid-color: var(--color-red-360-100-45);\\n  --select-option-selected-color: var(--color-blue-205-100-45);\\n  --select-option-hover-background-color: var(--color-black-opacity-10);\\n  --select-options-background-color: var(--color-white);\\n  --select-options-border-color: var(--color-grey-225-10-75);\\n  --select-options-box-shadow-color: var(--color-black-opacity-10);\\n  --select-options-color: var(--color-grey-225-10-15);\\n}\\n\\n.dms-list-component .items {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n  line-height: 1.7em;\\n}\\n\\n.dms-list-component .items .item .remove {\\n  float: right;\\n}\\n\\n.dms-fill-row {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n\\n.dms-fill-row > * {\\n  flex: 0 0 auto;\\n}\\n\\n.dms-fill-row > :last-child {\\n  flex: 1 1 auto;\\n}\\n\\n.dms-label {\\n  font-weight: bold;\\n  white-space: nowrap;\\n  margin-right: 5px;\\n}\\n\\n.dms-hrule {\\n  border: 0;\\n  border-top: dotted 1px var(--separator-color);\\n  margin: 10px auto;\\n}\\n\\n.dms-heading {\\n  margin: 12px 0 8px;\\n  font-weight: bold;\\n}\\n\\np.dms-hint button {\\n  color: var(--hint-button-color);\\n  text-decoration: none;\\n  display: inline;\\n  border: none;\\n  padding: 0;\\n  margin: 0;\\n  cursor: pointer;\\n  font: inherit;\\n  background: none;\\n}\\n\\np.dms-hint button:hover {\\n  color: var(--hint-button-hover-color);\\n}\\n\\np.dms-validation-warning {\\n  color: var(--hint-invalid-color);\\n}\\n\\nh3.dms-heading {\\n  font-size: 16px;\\n}\\n\\nh4.dms-heading {\\n  font-size: 14px;\\n}\\n\\n.dms-input,\\n.dms-select {\\n  outline: none;\\n  padding: 3px 6px;\\n  border: 1px solid var(--input-border-color);\\n  background: none;\\n  font-size: 14px;\\n  font-family: inherit;\\n  color: var(--input-color);\\n  min-height: 26px;\\n}\\n\\n.dms-input {\\n  min-height: 26px;\\n  white-space: pre-wrap;\\n}\\n\\n.dms-select {\\n  height: 26px;\\n}\\n\\n.dms-input-select .dms-input {\\n  padding-right: 24px;\\n}\\n\\n.dms-input:focus,\\n.dms-select:focus {\\n  border: solid 1px var(--input-focus-border-color);\\n  box-shadow: 0 0 0 2px var(--input-focus-box-shadow-color), 0 0 0 1px var(--input-focus-box-shadow-inset-color) inset;\\n}\\n\\n.dms-input.invalid,\\n.dms-select.invalid {\\n  border-color: var(--input-invalid-border-color);\\n  color: var(--input-invalid-color);\\n}\\n\\n.dms-select.invalid:focus,\\n.dms-input.invalid:focus {\\n  border: solid 1px var(--input-focus-invalid-border-color);\\n  box-shadow: 0 0 0 2px var(--input-focus-invalid-box-shadow-color), 0 0 0 1px var(--input-focus-box-shadow-inset-color) inset;\\n}\\n\\n.dms-validated-input.dms-block .dms-input,\\n.dms-block {\\n  display: block;\\n  width: 100%;\\n}\\n\\n.dms-script-input {\\n  height: 150px;\\n  white-space: pre-wrap;\\n  overflow: auto;\\n}\\n\\n.dms-input-select {\\n  display: inline-block;\\n  position: relative;\\n  min-width: 128px;\\n}\\n\\n.dms-input-select .dms-input-select-icon {\\n  position: absolute;\\n  right: 6px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n.dms-input-select .options {\\n  background: var(--select-options-background-color);\\n}\\n\\n.dms-select-options {\\n  position: absolute;\\n  background-color: var(--select-options-background-color);\\n  border: solid 1px var(--select-options-border-color);\\n  border-radius: 2px;\\n  font-size: 14px;\\n  color: var(--select-options-color);\\n  box-shadow: 1px 1px 1px 1px var(--select-options-box-shadow-color);\\n  z-index: 20;\\n  cursor: pointer;\\n}\\n\\n.dms-select-options .option {\\n  padding: 4px 9px 4px 9px;\\n}\\n\\n.dms-select-options .option.active {\\n  color: var(--select-option-selected-color);\\n}\\n\\n.dms-select-options .option:focus,\\n.dms-select-options .option:hover {\\n  background-color: var(--select-option-hover-background-color);\\n}\\n\\n.dmn-js-parent .content-editable--with-placeholder::before {\\n  content: attr(data-placeholder);\\n  position: absolute;\\n  opacity: 0.5;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../css-loader/index.js!./dmn-js-properties-panel.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/index.js!./dmn-js-properties-panel.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/index.js!./dmn-js-properties-panel.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@font-face {\\n  font-family: 'dmn-js-pp';\\n  src: url(\\\"data:;base64,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\\\");\\n  src: url(\\\"data:;base64,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\\\") format('embedded-opentype'), url(\\\"data:application/font-woff;base64,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\\\") format('woff'), url(\\\"data:application/x-font-ttf;base64,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IDxZIyAuRrACJUZQWCA8WS6xKwEUKy2wPiywNSsjIC5GsAIlRlJYIDxZLrErARQrLbA/LLA2K4ogIDywBCNCijgjIC5GsAIlRlJYIDxZLrErARQrsARDLrArKy2wQCywABawBCWwBCYgLkcjRyNhsAlDKyMgPCAuIzixKwEUKy2wQSyxCAQlQrAAFrAEJbAEJSAuRyNHI2EgsAQjQrAJQysgsGBQWCCwQFFYswIgAyAbswImAxpZQkIjIEewBEOwAmIgsABQWLBAYFlmsAFjYCCwASsgiophILACQ2BkI7ADQ2FkUFiwAkNhG7ADQ2BZsAMlsAJiILAAUFiwQGBZZrABY2GwAiVGYTgjIDwjOBshICBGI0ewASsjYTghWbErARQrLbBCLLA1Ky6xKwEUKy2wQyywNishIyAgPLAEI0IjOLErARQrsARDLrArKy2wRCywABUgR7AAI0KyAAEBFRQTLrAxKi2wRSywABUgR7AAI0KyAAEBFRQTLrAxKi2wRiyxAAEUE7AyKi2wRyywNCotsEgssAAWRSMgLiBGiiNhOLErARQrLbBJLLAII0KwSCstsEossgAAQSstsEsssgABQSstsEwssgEAQSstsE0ssgEBQSstsE4ssgAAQistsE8ssgABQistsFAssgEAQistsFEssgEBQistsFIssgAAPistsFMssgABPistsFQssgEAPistsFUssgEBPistsFYssgAAQCstsFcssgABQCstsFgssgEAQCstsFkssgEBQCstsFossgAAQystsFsssgABQystsFwssgEAQystsF0ssgEBQystsF4ssgAAPystsF8ssgABPystsGAssgEAPystsGEssgEBPystsGIssDcrLrErARQrLbBjLLA3K7A7Ky2wZCywNyuwPCstsGUssAAWsDcrsD0rLbBmLLA4Ky6xKwEUKy2wZyywOCuwOystsGgssDgrsDwrLbBpLLA4K7A9Ky2waiywOSsusSsBFCstsGsssDkrsDsrLbBsLLA5K7A8Ky2wbSywOSuwPSstsG4ssDorLrErARQrLbBvLLA6K7A7Ky2wcCywOiuwPCstsHEssDorsD0rLbByLLMJBAIDRVghGyMhWUIrsAhlsAMkUHiwARUwLQBLuADIUlixAQGOWbABuQgACABjcLEABUKxAAAqsQAFQrEACCqxAAVCsQAIKrEABUK5AAAACSqxAAVCuQAAAAkqsQMARLEkAYhRWLBAiFixA2REsSYBiFFYugiAAAEEQIhjVFixAwBEWVlZWbEADCq4Af+FsASNsQIARAA=\\\") format('truetype'), url(\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxtZXRhZGF0YT5Db3B5cmlnaHQgKEMpIDIwMTYgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbTwvbWV0YWRhdGE+CjxkZWZzPgo8Zm9udCBpZD0iYnBtbi1pby1wcCIgaG9yaXotYWR2LXg9IjEwMDAiID4KPGZvbnQtZmFjZSBmb250LWZhbWlseT0iYnBtbi1pby1wcCIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zdHJldGNoPSJub3JtYWwiIHVuaXRzLXBlci1lbT0iMTAwMCIgYXNjZW50PSI4NTAiIGRlc2NlbnQ9Ii0xNTAiIC8+CjxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIxMDAwIiAvPgo8Z2x5cGggZ2x5cGgtbmFtZT0iY2xlYXIiIHVuaWNvZGU9IiYjeGU4MDI7IiBkPSJNNDUyIDE5NHExOC0xOCAxOC00M3QtMTgtNDNxLTE4LTE2LTQzLTE2dC00MyAxNmwtMTMyIDE1Mi0xMzItMTUycS0xOC0xNi00My0xNnQtNDMgMTZxLTE2IDE4LTE2IDQzdDE2IDQzbDEzOCAxNTYtMTM4IDE1OHEtMTYgMTgtMTYgNDN0MTYgNDNxMTggMTYgNDMgMTZ0NDMtMTZsMTMyLTE1MiAxMzIgMTUycTE4IDE2IDQzIDE2dDQzLTE2cTE4LTE4IDE4LTQzdC0xOC00M2wtMTM4LTE1OHoiIGhvcml6LWFkdi14PSI0NzAiIC8+CjxnbHlwaCBnbHlwaC1uYW1lPSJhZGQiIHVuaWNvZGU9IiYjeGU4MDM7IiBkPSJNNTUwIDQwMHEzMCAwIDMwLTUwdC0zMC01MGwtMjEwIDAgMC0yMTBxMC0zMC01MC0zMHQtNTAgMzBsMCAyMTAtMjEwIDBxLTMwIDAtMzAgNTB0MzAgNTBsMjEwIDAgMCAyMTBxMCAzMCA1MCAzMHQ1MC0zMGwwLTIxMCAyMTAgMHoiIGhvcml6LWFkdi14PSI1ODAiIC8+CjxnbHlwaCBnbHlwaC1uYW1lPSJzZWFyY2giIHVuaWNvZGU9IiYjeGU4MDU7IiBkPSJNNzcyIDc4cTMwLTM0IDYtNjJsLTQ2LTQ2cS0zNi0zMi02OCAwbC0xOTAgMTkwcS03NC00Mi0xNTYtNDItMTI4IDAtMjIzIDk1dC05NSAyMjMgOTAgMjE5IDIxOCA5MSAyMjQtOTUgOTYtMjIzcTAtODgtNDYtMTYyeiBtLTY3OCAzNThxMC04OCA2OC0xNTZ0MTU2LTY4IDE1MSA2MyA2MyAxNTNxMCA4OC02OCAxNTV0LTE1NiA2Ny0xNTEtNjMtNjMtMTUxeiIgaG9yaXotYWR2LXg9Ijc4OSIgLz4KPGdseXBoIGdseXBoLW5hbWU9ImF0dGVudGlvbiIgdW5pY29kZT0iJiN4ZTgwNjsiIGQ9Ik05NTctMjRxMTAtMTYgMC0zNC0xMC0xNi0zMC0xNmwtODkyIDBxLTE4IDAtMjggMTYtMTMgMTgtMiAzNGw0NDYgNzgycTggMTggMzAgMTh0MzAtMTh6IG0tNDIwIDUwbDAgMTAwLTExMCAwIDAtMTAwIDExMCAweiBtMCAxNzRsMCAzMDAtMTEwIDAgMC0zMDAgMTEwIDB6IiBob3Jpei1hZHYteD0iOTYyIiAvPgo8Z2x5cGggZ2x5cGgtbmFtZT0iY2xlYXItY2lyY2xlZCIgdW5pY29kZT0iJiN4ZTkwMjsiIGQ9Ik00MjAgNzcwcTE3NCAwIDI5Ny0xMjN0MTIzLTI5Ny0xMjMtMjk3LTI5Ny0xMjMtMjk3IDEyMy0xMjMgMjk3IDEyMyAyOTcgMjk3IDEyM3ogbTg2LTQyMGwxNTQgMTU0LTg2IDg2LTE1NC0xNTItMTUyIDE1Mi04OC04NiAxNTQtMTU0LTE1NC0xNTIgODgtODYgMTUyIDE1MiAxNTQtMTUyIDg2IDg2eiIgaG9yaXotYWR2LXg9Ijg0MCIgLz4KPGdseXBoIGdseXBoLW5hbWU9ImFkZC1jaXJjbGVkIiB1bmljb2RlPSImI3hlOTAzOyIgZD0iTTQyMCA3NzBxMTc0IDAgMjk3LTEyM3QxMjMtMjk3LTEyMy0yOTctMjk3LTEyMy0yOTcgMTIzLTEyMyAyOTcgMTIzIDI5NyAyOTcgMTIzeiBtNTItNDcwbDIwMCAwIDAgMTAyLTIwMCAwIDAgMjAyLTEwMiAwIDAtMjAyLTIwMiAwIDAtMTAyIDIwMiAwIDAtMjAyIDEwMiAwIDAgMjAyeiIgaG9yaXotYWR2LXg9Ijg0MCIgLz4KPC9mb250Pgo8L2RlZnM+Cjwvc3ZnPg==\\\") format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.dpp-properties-panel {\\n  background-color: hsl(225, 10%, 97%);\\n  position: relative;\\n}\\n.dpp-properties-panel:empty {\\n  display: none;\\n}\\n.dpp-properties-panel label,\\n.dpp-properties-panel input {\\n  vertical-align: middle;\\n}\\n.dpp-properties-panel button,\\n.dpp-properties-panel input,\\n.dpp-properties-panel select,\\n.dpp-properties-panel textarea,\\n.dpp-properties-panel [contenteditable] {\\n  font-size: 14px;\\n  font-family: inherit;\\n  padding: 3px 6px;\\n  border: 1px solid hsl(225, 10%, 75%);\\n}\\n.dpp-properties-panel button:focus,\\n.dpp-properties-panel input:focus,\\n.dpp-properties-panel select:focus,\\n.dpp-properties-panel textarea:focus,\\n.dpp-properties-panel [contenteditable]:focus {\\n  outline: none;\\n  border-color: hsl(205, 100%, 45%);\\n  box-shadow: 0 0 0 2px hsl(205, 100%, 80%), 0 0 0 1px hsl(225, 10%, 75%) inset;\\n}\\n.dpp-properties-panel button.invalid,\\n.dpp-properties-panel input.invalid,\\n.dpp-properties-panel select.invalid,\\n.dpp-properties-panel textarea.invalid,\\n.dpp-properties-panel [contenteditable].invalid {\\n  border-color: hsl(0, 100%, 45%);\\n}\\n.dpp-properties-panel button.invalid:focus,\\n.dpp-properties-panel input.invalid:focus,\\n.dpp-properties-panel select.invalid:focus,\\n.dpp-properties-panel textarea.invalid:focus,\\n.dpp-properties-panel [contenteditable].invalid:focus {\\n  box-shadow: 0 0 0 2px hsl(0, 100%, 92%), 0 0 0 1px hsl(225, 10%, 75%) inset;\\n}\\n.dpp-properties-panel [type=text],\\n.dpp-properties-panel [contenteditable],\\n.dpp-properties-panel textarea,\\n.dpp-properties-panel select {\\n  width: 100%;\\n}\\n.dpp-properties-panel [contenteditable],\\n.dpp-properties-panel textarea {\\n  resize: vertical;\\n}\\n.dpp-properties-panel [contenteditable] {\\n  outline: 0px solid transparent;\\n  background-color: hsl(0, 0%, 100%);\\n  overflow-y: auto;\\n  white-space: pre-wrap;\\n  /* css-3 */\\n  white-space: -moz-pre-wrap;\\n  /* Mozilla, since 1999 */\\n  white-space: -pre-wrap;\\n  /* Opera 4-6 */\\n  white-space: -o-pre-wrap;\\n  /* Opera 7 */\\n  word-wrap: break-word;\\n  /* Internet Explorer 5.5+ */\\n}\\n.dpp-properties-panel [contenteditable]:before {\\n  content: \\\"\\\\FEFF\\\";\\n}\\n.dpp-properties-panel [disabled] {\\n  color: hsl(225, 10%, 55%);\\n}\\n.dpp-properties-panel label {\\n  font-weight: bolder;\\n  display: inline-block;\\n  vertical-align: middle;\\n  color: hsl(225, 10%, 15%);\\n  margin-bottom: 3px;\\n}\\n.dpp-properties-panel label.dpp-hidden {\\n  display: none;\\n}\\n.dpp-properties-panel .entry-label {\\n  font-weight: bolder;\\n  display: inline-block;\\n  vertical-align: middle;\\n  color: hsl(225, 10%, 15%);\\n  font-size: 16px;\\n  margin-top: 5px;\\n  margin-bottom: 10px;\\n}\\n.dpp-properties-panel .entry-label.dpp-hidden {\\n  display: none;\\n}\\n.dpp-properties-panel .entry-label.divider {\\n  border-top: 1px dotted hsl(225, 10%, 75%);\\n  padding-top: 8px;\\n  margin-top: 16px;\\n  width: 100%;\\n}\\n.dpp-properties-panel button {\\n  position: absolute;\\n  top: 0;\\n  height: 23px;\\n  width: 24px;\\n  overflow: hidden;\\n  background-color: hsl(225, 10%, 97%);\\n  border: 1px solid hsl(225, 10%, 75%);\\n}\\n.dpp-properties-panel button > span {\\n  display: none;\\n}\\n.dpp-properties-panel button:before {\\n  font-family: \\\"dmn-js-pp\\\";\\n  font-style: normal;\\n  font-weight: normal;\\n  speak: none;\\n  display: inline-block;\\n  text-decoration: inherit;\\n  text-align: center;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1em;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: relative;\\n}\\n.dpp-properties-panel button.add:before {\\n  content: '\\\\E803';\\n}\\n.dpp-properties-panel button.clear:before {\\n  content: '\\\\E802';\\n}\\n.dpp-properties-panel button:hover {\\n  color: --color-blue-205-100-45;\\n}\\n.dpp-error-message,\\n.dpp-error-message.dpp-entry-link {\\n  margin-top: 5px;\\n  color: hsl(0, 100%, 45%);\\n}\\n.dpp-row {\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n}\\n.dpp-row:first-of-type {\\n  margin-top: 0;\\n}\\n.dpp-row:last-of-type {\\n  margin-bottom: 0;\\n}\\n.dpp-textfield,\\n.dpp-textbox {\\n  margin-bottom: 3px;\\n}\\n.dpp-radios-group {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0 0 9px 0;\\n}\\n.dpp-radios-group .dpp-radio-wrapper {\\n  margin: 6px 0;\\n}\\n.dpp-radios-group input,\\n.dpp-radios-group label {\\n  vertical-align: middle;\\n}\\n.dpp-radios-group input {\\n  margin-top: 0;\\n  margin-left: 0;\\n}\\n.dpp-radios-group input,\\n.dpp-checkbox input {\\n  margin-left: 0;\\n}\\n.dpp-radios-group label:after,\\n.dpp-checkbox label:after {\\n  display: none;\\n}\\n.dpp-textfield input {\\n  padding-right: 28px;\\n}\\n.dpp-textfield .clear {\\n  background: transparent;\\n  border: none;\\n  top: 0;\\n  right: 0;\\n}\\n.dpp-combo-input {\\n  margin-top: 7px;\\n}\\n.dpp-select select {\\n  height: 23px;\\n}\\n.dpp-select button.add {\\n  top: -22px;\\n  right: 0;\\n}\\n.dpp-select button.add,\\n.dpp-element-list button.add,\\n.dpp-select button.clear,\\n.dpp-element-list button.clear {\\n  top: -23px;\\n  border-bottom: none;\\n}\\n.dpp-select button.add,\\n.dpp-element-list button.add {\\n  right: 0px;\\n}\\n.dpp-select button.clear,\\n.dpp-element-list button.clear {\\n  right: 23px;\\n}\\n.dpp-properties-entry {\\n  margin-bottom: 9px;\\n}\\n.dpp-properties-entry .dpp-field-wrapper {\\n  position: relative;\\n}\\n.dpp-properties-entry .dpp-field-wrapper input[readonly] + .clear {\\n  display: none;\\n}\\n.dpp-properties-entry .dpp-field-wrapper select {\\n  resize: vertical;\\n}\\n.dpp-hidden {\\n  display: none;\\n}\\nlabel.dpp-hidden {\\n  display: none;\\n}\\n.dpp-table-add-row > button {\\n  position: relative;\\n  margin-left: 10px;\\n}\\n.dpp-table {\\n  margin-top: 10px;\\n}\\n.dpp-table-row {\\n  margin-bottom: 2px;\\n  overflow: hidden;\\n}\\n.dpp-table-row > input,\\n.dpp-table-row > button {\\n  float: left;\\n}\\n.dpp-table-row > label {\\n  padding-left: 5px;\\n}\\n.dpp-table-row > label.dpp-table-row-columns-1,\\n.dpp-table-row > input.dpp-table-row-columns-1 {\\n  width: 100%;\\n}\\n.dpp-table-row > label.dpp-table-row-columns-1.dpp-table-row-removable,\\n.dpp-table-row > input.dpp-table-row-columns-1.dpp-table-row-removable {\\n  width: calc(100% - 24px);\\n}\\n.dpp-table-row > label.dpp-table-row-columns-2,\\n.dpp-table-row > input.dpp-table-row-columns-2 {\\n  width: 50%;\\n  box-sizing: border-box;\\n}\\n.dpp-table-row > label.dpp-table-row-columns-2.dpp-table-row-removable,\\n.dpp-table-row > input.dpp-table-row-columns-2.dpp-table-row-removable {\\n  width: calc(50% - 12px);\\n}\\n.dpp-table-row > label.dpp-table-row-columns-2:nth-child(2),\\n.dpp-table-row > input.dpp-table-row-columns-2:nth-child(2) {\\n  border-left: none;\\n}\\n.dpp-table-row > button {\\n  border-left: none;\\n  position: static;\\n}\\n.dpp-properties-static {\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  border: 1px solid hsl(225, 10%, 75%);\\n  background-color: hsl(0, 0%, 100%);\\n  padding: 3px 6px;\\n  font: 13.3333px Arial;\\n  width: 100%;\\n}\\n.dpp-entry-link {\\n  color: hsl(205, 100%, 45%);\\n}\\n.dpp-icon-warning:before {\\n  font-family: \\\"dmn-js-pp\\\";\\n  font-style: normal;\\n  font-weight: normal;\\n  speak: none;\\n  display: inline-block;\\n  text-decoration: inherit;\\n  text-align: center;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1em;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  content: '\\\\E806';\\n}\\n.dpp-field-description {\\n  margin-top: 5px;\\n  color: hsl(225, 10%, 35%);\\n}\\n.dpp-field-description a {\\n  color: hsl(205, 100%, 35%);\\n  text-decoration: none;\\n}\\n.dpp-field-description a:hover {\\n  color: hsl(205, 100%, 45%);\\n}\\n.dpp-properties-header {\\n  padding: 15px;\\n  padding-bottom: 5px;\\n}\\n.dpp-properties-header > .label {\\n  font-size: 16px;\\n  font-weight: bolder;\\n}\\n.dpp-properties-header > .search {\\n  display: none;\\n  margin-top: 5px;\\n  position: relative;\\n}\\n.dpp-properties-header > .search input {\\n  position: relative;\\n  border-radius: 15px;\\n  width: 100%;\\n  z-index: 1;\\n}\\n.dpp-properties-header > .search button {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  border: none;\\n  background-color: transparent;\\n  z-index: 2;\\n}\\n.dpp-properties-header > .search button:before {\\n  content: '\\\\E805';\\n}\\n.dpp-properties-group {\\n  padding: 6px 15px 6px 15px;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.dpp-properties-group:empty {\\n  display: none;\\n}\\n.dpp-properties-group > .group-toggle {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  width: 4px;\\n}\\n.dpp-properties-group > .group-toggle:hover {\\n  background-color: hsl(205, 100%, 50%);\\n}\\n.dpp-properties-group > .group-label {\\n  font-weight: bolder;\\n  display: inline-block;\\n  vertical-align: middle;\\n  color: hsl(225, 10%, 15%);\\n  margin-top: 5px;\\n  margin-bottom: 10px;\\n  font-size: 16px;\\n}\\n.dpp-properties-group > .group-label.dpp-hidden {\\n  display: none;\\n}\\n.dpp-properties-group:hover > .group-toggle {\\n  background-color: hsl(225, 10%, 75%);\\n}\\n.dpp-properties-group:hover > .group-toggle:hover {\\n  background-color: hsl(205, 100%, 50%);\\n}\\n.dpp-properties-group.group-closed {\\n  border-top: none;\\n}\\n.dpp-properties-group.group-closed > .group-toggle {\\n  background-color: hsl(225, 10%, 75%);\\n}\\n.dpp-properties-group.group-closed:hover > .group-toggle {\\n  background-color: hsl(205, 100%, 50%);\\n}\\n.dpp-properties-group.group-closed > div {\\n  display: none;\\n}\\n.dpp-properties-group.group-closed > .group-label {\\n  margin-bottom: 5px;\\n}\\n.dpp-properties-group + .dpp-properties-group {\\n  border-top: 1px solid hsl(225, 10%, 90%);\\n}\\n.dpp-properties-group:last-child {\\n  padding-bottom: 9px;\\n}\\n.cam-add-listener > button {\\n  position: relative;\\n  margin-left: 10px;\\n}\\n[data-list-entry-container] > .dpp-listener-area {\\n  border: 1px solid hsl(225, 10%, 75%);\\n  margin: 10px 1px;\\n  padding: 10px;\\n}\\n.dpp-listener-area {\\n  position: relative;\\n}\\n.dpp-listener-area > button {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  border: none;\\n  background: none;\\n}\\n.dpp-listener-area + .dpp-listener-area {\\n  margin-top: 20px;\\n}\\n.dpp-properties-tab-bar {\\n  border-bottom: 1px solid hsl(225, 10%, 75%);\\n  padding: 0 15px;\\n}\\n.dpp-properties-tab-bar .scroll-tabs-button {\\n  font-size: 16px;\\n  padding: 3px 4px 3px 4px;\\n  color: hsl(225, 10%, 15%);\\n}\\n.dpp-properties-tab-bar .scroll-tabs-button:hover {\\n  font-weight: bold;\\n}\\n.dpp-properties-tab-bar .scroll-tabs-button.scroll-tabs-left {\\n  float: left;\\n  margin-left: -15px;\\n}\\n.dpp-properties-tab-bar .scroll-tabs-button.scroll-tabs-right {\\n  float: right;\\n  margin-right: -15px;\\n}\\n.dpp-properties-tab-bar:not(.scroll-tabs-overflow) .scroll-tabs-button {\\n  display: none;\\n}\\nul.dpp-properties-tabs-links {\\n  margin: 5px 0 -1px 0;\\n  padding: 0;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\nul.dpp-properties-tabs-links > li {\\n  display: inline-block;\\n  margin: 0;\\n}\\nul.dpp-properties-tabs-links > li.dpp-hidden {\\n  display: none;\\n}\\nul.dpp-properties-tabs-links > li > a {\\n  display: inline-block;\\n  font-size: 12px;\\n  padding: 4px 7px;\\n  border: 1px solid hsl(225, 10%, 75%);\\n  border-radius: 3px 3px 0 0;\\n  border-bottom: transparent;\\n  background-color: hsl(225, 10%, 97%);\\n  color: hsl(225, 10%, 15%);\\n  text-decoration: none;\\n  cursor: default;\\n}\\nul.dpp-properties-tabs-links > li > a:hover {\\n  color: hsl(225, 10%, 5%);\\n}\\nul.dpp-properties-tabs-links > li + li {\\n  margin-left: 4px;\\n}\\nul.dpp-properties-tabs-links > li.dpp-active a {\\n  padding-bottom: 5px;\\n  border-top: 3px solid hsl(205, 100%, 50%);\\n  border-bottom: none;\\n}\\n.dpp-properties-tab,\\n.dpp-properties-tab.dpp-hidden {\\n  display: none;\\n}\\n.dpp-properties-tab.dpp-active {\\n  display: block;\\n}\\n\", \"\"]);\n\n// exports\n","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport Manager from './Manager';\nimport Ids from 'ids';\nimport { isAny } from '../util/ModelUtil';\n\nvar EditingManager = /*#__PURE__*/function (_Manager) {\n  _inherits(EditingManager, _Manager);\n\n  var _super = _createSuper(EditingManager);\n\n  function EditingManager() {\n    _classCallCheck(this, EditingManager);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(EditingManager, [{\n    key: \"_init\",\n    value: function _init(options) {\n      var _this = this;\n\n      _get(_getPrototypeOf(EditingManager.prototype), \"_init\", this).call(this, options); // hook ID collection into the modeler\n\n\n      this.on('import.parse.complete', function (event) {\n        if (!event.error) {\n          _this._collectIds(event.definitions, event.elementsById);\n        }\n      });\n      this.on('destroy', function () {\n        _this._moddle.ids.clear();\n      });\n      this.on('viewer.created', function (_ref) {\n        var viewer = _ref.viewer;\n        viewer.on('elements.changed', function (_ref2) {\n          var elements = _ref2.elements;\n          var viewsChanged = elements.some(function (e) {\n            return isAny(e, ['dmn:Decision', 'dmn:Definitions']);\n          });\n\n          if (viewsChanged) {\n            _this._updateViews();\n          }\n        });\n      });\n    }\n    /**\n     * Collect ids processed during parsing of the\n     * definitions object.\n     *\n     * @param {ModdleElement} definitions\n     * @param {Array<ModdleElement>} elementsById\n     */\n\n  }, {\n    key: \"_collectIds\",\n    value: function _collectIds(definitions, elementsById) {\n      var moddle = definitions.$model,\n          ids = moddle.ids,\n          id; // remove references from previous import\n\n      ids.clear();\n\n      for (id in elementsById) {\n        ids.claim(id, elementsById[id]);\n      }\n    }\n  }, {\n    key: \"_createModdle\",\n    value: function _createModdle(options) {\n      var moddle = _get(_getPrototypeOf(EditingManager.prototype), \"_createModdle\", this).call(this, options); // attach ids to moddle to be able to track\n      // and validated ids in the DMN XML document\n      // tree\n\n\n      moddle.ids = new Ids([32, 36, 1]);\n      return moddle;\n    }\n  }]);\n\n  return EditingManager;\n}(Manager);\n\nexport { EditingManager as default };\n//# sourceMappingURL=EditingManager.js.map","import {\n  filter,\n  forEach,\n  sortBy\n} from 'min-dash';\n\nfunction last(arr) {\n  return arr && arr[arr.length - 1];\n}\n\nfunction sortTopOrMiddle(element) {\n  return element.y;\n}\n\nfunction sortLeftOrCenter(element) {\n  return element.x;\n}\n\n/**\n * Sorting functions for different types of alignment\n *\n * @type {Object}\n *\n * @return {Function}\n */\nvar ALIGNMENT_SORTING = {\n  left: sortLeftOrCenter,\n  center: sortLeftOrCenter,\n  right: function(element) {\n    return element.x + element.width;\n  },\n  top: sortTopOrMiddle,\n  middle: sortTopOrMiddle,\n  bottom: function(element) {\n    return element.y + element.height;\n  }\n};\n\n\nexport default function AlignElements(modeling) {\n  this._modeling = modeling;\n}\n\nAlignElements.$inject = [ 'modeling' ];\n\n\n/**\n * Get the relevant \"axis\" and \"dimension\" related to the current type of alignment\n *\n * @param  {string} type left|right|center|top|bottom|middle\n *\n * @return {Object} { axis, dimension }\n */\nAlignElements.prototype._getOrientationDetails = function(type) {\n  var vertical = [ 'top', 'bottom', 'middle' ],\n      axis = 'x',\n      dimension = 'width';\n\n  if (vertical.indexOf(type) !== -1) {\n    axis = 'y';\n    dimension = 'height';\n  }\n\n  return {\n    axis: axis,\n    dimension: dimension\n  };\n};\n\nAlignElements.prototype._isType = function(type, types) {\n  return types.indexOf(type) !== -1;\n};\n\n/**\n * Get a point on the relevant axis where elements should align to\n *\n * @param  {string} type left|right|center|top|bottom|middle\n * @param  {Array} sortedElements\n *\n * @return {Object}\n */\nAlignElements.prototype._alignmentPosition = function(type, sortedElements) {\n  var orientation = this._getOrientationDetails(type),\n      axis = orientation.axis,\n      dimension = orientation.dimension,\n      alignment = {},\n      centers = {},\n      hasSharedCenters = false,\n      centeredElements,\n      firstElement,\n      lastElement;\n\n  function getMiddleOrTop(first, last) {\n    return Math.round((first[axis] + last[axis] + last[dimension]) / 2);\n  }\n\n  if (this._isType(type, [ 'left', 'top' ])) {\n    alignment[type] = sortedElements[0][axis];\n\n  } else if (this._isType(type, [ 'right', 'bottom' ])) {\n    lastElement = last(sortedElements);\n\n    alignment[type] = lastElement[axis] + lastElement[dimension];\n\n  } else if (this._isType(type, [ 'center', 'middle' ])) {\n\n    // check if there is a center shared by more than one shape\n    // if not, just take the middle of the range\n    forEach(sortedElements, function(element) {\n      var center = element[axis] + Math.round(element[dimension] / 2);\n\n      if (centers[center]) {\n        centers[center].elements.push(element);\n      } else {\n        centers[center] = {\n          elements: [ element ],\n          center: center\n        };\n      }\n    });\n\n    centeredElements = sortBy(centers, function(center) {\n      if (center.elements.length > 1) {\n        hasSharedCenters = true;\n      }\n\n      return center.elements.length;\n    });\n\n    if (hasSharedCenters) {\n      alignment[type] = last(centeredElements).center;\n\n      return alignment;\n    }\n\n    firstElement = sortedElements[0];\n\n    sortedElements = sortBy(sortedElements, function(element) {\n      return element[axis] + element[dimension];\n    });\n\n    lastElement = last(sortedElements);\n\n    alignment[type] = getMiddleOrTop(firstElement, lastElement);\n  }\n\n  return alignment;\n};\n\n/**\n * Executes the alignment of a selection of elements\n *\n * @param  {Array} elements\n * @param  {string} type left|right|center|top|bottom|middle\n */\nAlignElements.prototype.trigger = function(elements, type) {\n  var modeling = this._modeling;\n\n  var filteredElements = filter(elements, function(element) {\n    return !(element.waypoints || element.host || element.labelTarget);\n  });\n\n  if (filteredElements.length < 2) {\n    return;\n  }\n\n  var sortFn = ALIGNMENT_SORTING[type];\n\n  var sortedElements = sortBy(filteredElements, sortFn);\n\n  var alignment = this._alignmentPosition(type, sortedElements);\n\n  modeling.alignElements(sortedElements, alignment);\n};\n","import AlignElements from './AlignElements';\n\nexport default {\n  __init__: [ 'alignElements' ],\n  alignElements: [ 'type', AlignElements ]\n};\n","import {\n  asTRBL,\n  getOrientation,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  find,\n  reduce\n} from 'min-dash';\n\n// padding to detect element placement\nvar PLACEMENT_DETECTION_PAD = 10;\n\nexport var DEFAULT_DISTANCE = 50;\n\nvar DEFAULT_MAX_DISTANCE = 250;\n\n\n/**\n * Get free position starting from given position.\n *\n * @param {djs.model.Shape} source\n * @param {djs.model.Shape} element\n * @param {Point} position\n * @param {Function} getNextPosition\n *\n * @return {Point}\n */\nexport function findFreePosition(source, element, position, getNextPosition) {\n  var connectedAtPosition;\n\n  while ((connectedAtPosition = getConnectedAtPosition(source, position, element))) {\n    position = getNextPosition(element, position, connectedAtPosition);\n  }\n\n  return position;\n}\n\n/**\n * Returns function that returns next position.\n *\n * @param {Object} nextPositionDirection\n * @param {Object} [nextPositionDirection.x]\n * @param {Object} [nextPositionDirection.y]\n *\n * @returns {Function}\n */\nexport function generateGetNextPosition(nextPositionDirection) {\n  return function(element, previousPosition, connectedAtPosition) {\n    var nextPosition = {\n      x: previousPosition.x,\n      y: previousPosition.y\n    };\n\n    [ 'x', 'y' ].forEach(function(axis) {\n\n      var nextPositionDirectionForAxis = nextPositionDirection[ axis ];\n\n      if (!nextPositionDirectionForAxis) {\n        return;\n      }\n\n      var dimension = axis === 'x' ? 'width' : 'height';\n\n      var margin = nextPositionDirectionForAxis.margin,\n          minDistance = nextPositionDirectionForAxis.minDistance;\n\n      if (margin < 0) {\n        nextPosition[ axis ] = Math.min(\n          connectedAtPosition[ axis ] + margin - element[ dimension ] / 2,\n          previousPosition[ axis ] - minDistance + margin\n        );\n      } else {\n        nextPosition[ axis ] = Math.max(\n          connectedAtPosition[ axis ] + connectedAtPosition[ dimension ] + margin + element[ dimension ] / 2,\n          previousPosition[ axis ] + minDistance + margin\n        );\n      }\n    });\n\n    return nextPosition;\n  };\n}\n\n/**\n * Return target at given position, if defined.\n *\n * This takes connected elements from host and attachers\n * into account, too.\n */\nexport function getConnectedAtPosition(source, position, element) {\n\n  var bounds = {\n    x: position.x - (element.width / 2),\n    y: position.y - (element.height / 2),\n    width: element.width,\n    height: element.height\n  };\n\n  var closure = getAutoPlaceClosure(source, element);\n\n  return find(closure, function(target) {\n\n    if (target === element) {\n      return false;\n    }\n\n    var orientation = getOrientation(target, bounds, PLACEMENT_DETECTION_PAD);\n\n    return orientation === 'intersect';\n  });\n}\n\n/**\n* Compute optimal distance between source and target based on existing connections to and from source.\n* Assumes left-to-right and top-to-down modeling.\n*\n* @param {djs.model.Shape} source\n* @param {Object} [hints]\n* @param {number} [hints.defaultDistance]\n* @param {string} [hints.direction]\n* @param {Function} [hints.filter]\n* @param {Function} [hints.getWeight]\n* @param {number} [hints.maxDistance]\n* @param {string} [hints.reference]\n*\n* @return {number}\n*/\nexport function getConnectedDistance(source, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  // targets > sources by default\n  function getDefaultWeight(connection) {\n    return connection.source === source ? 1 : -1;\n  }\n\n  var defaultDistance = hints.defaultDistance || DEFAULT_DISTANCE,\n      direction = hints.direction || 'e',\n      filter = hints.filter,\n      getWeight = hints.getWeight || getDefaultWeight,\n      maxDistance = hints.maxDistance || DEFAULT_MAX_DISTANCE,\n      reference = hints.reference || 'start';\n\n  if (!filter) {\n    filter = noneFilter;\n  }\n\n  function getDistance(a, b) {\n    if (direction === 'n') {\n      if (reference === 'start') {\n        return asTRBL(a).top - asTRBL(b).bottom;\n      } else if (reference === 'center') {\n        return asTRBL(a).top - getMid(b).y;\n      } else {\n        return asTRBL(a).top - asTRBL(b).top;\n      }\n    } else if (direction === 'w') {\n      if (reference === 'start') {\n        return asTRBL(a).left - asTRBL(b).right;\n      } else if (reference === 'center') {\n        return asTRBL(a).left - getMid(b).x;\n      } else {\n        return asTRBL(a).left - asTRBL(b).left;\n      }\n    } else if (direction === 's') {\n      if (reference === 'start') {\n        return asTRBL(b).top - asTRBL(a).bottom;\n      } else if (reference === 'center') {\n        return getMid(b).y - asTRBL(a).bottom;\n      } else {\n        return asTRBL(b).bottom - asTRBL(a).bottom;\n      }\n    } else {\n      if (reference === 'start') {\n        return asTRBL(b).left - asTRBL(a).right;\n      } else if (reference === 'center') {\n        return getMid(b).x - asTRBL(a).right;\n      } else {\n        return asTRBL(b).right - asTRBL(a).right;\n      }\n    }\n  }\n\n  var sourcesDistances = source.incoming\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight < 0\n        ? getDistance(connection.source, source)\n        : getDistance(source, connection.source);\n\n      return {\n        id: connection.source.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var targetsDistances = source.outgoing\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight > 0\n        ? getDistance(source, connection.target)\n        : getDistance(connection.target, source);\n\n      return {\n        id: connection.target.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var distances = sourcesDistances.concat(targetsDistances).reduce(function(accumulator, currentValue) {\n    accumulator[ currentValue.id + '__weight_' + currentValue.weight ] = currentValue;\n\n    return accumulator;\n  }, {});\n\n  var distancesGrouped = reduce(distances, function(accumulator, currentValue) {\n    var distance = currentValue.distance,\n        weight = currentValue.weight;\n\n    if (distance < 0 || distance > maxDistance) {\n      return accumulator;\n    }\n\n    if (!accumulator[ String(distance) ]) {\n      accumulator[ String(distance) ] = 0;\n    }\n\n    accumulator[ String(distance) ] += 1 * weight;\n\n    if (!accumulator.distance || accumulator[ accumulator.distance ] < accumulator[ String(distance) ]) {\n      accumulator.distance = distance;\n    }\n\n    return accumulator;\n  }, {});\n\n  return distancesGrouped.distance || defaultDistance;\n}\n\n/**\n * Returns all connected elements around the given source.\n *\n * This includes:\n *\n *   - connected elements\n *   - host connected elements\n *   - attachers connected elements\n *\n * @param  {djs.model.Shape} source\n *\n * @return {Array<djs.model.Shape>}\n */\nfunction getAutoPlaceClosure(source) {\n\n  var allConnected = getConnected(source);\n\n  if (source.host) {\n    allConnected = allConnected.concat(getConnected(source.host));\n  }\n\n  if (source.attachers) {\n    allConnected = allConnected.concat(source.attachers.reduce(function(shapes, attacher) {\n      return shapes.concat(getConnected(attacher));\n    }, []));\n  }\n\n  return allConnected;\n}\n\nfunction getConnected(element) {\n  return getTargets(element).concat(getSources(element));\n}\n\nfunction getSources(shape) {\n  return shape.incoming.map(function(connection) {\n    return connection.source;\n  });\n}\n\nfunction getTargets(shape) {\n  return shape.outgoing.map(function(connection) {\n    return connection.target;\n  });\n}\n\nfunction noneFilter() {\n  return true;\n}\n","import {\n  asTRBL,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport { DEFAULT_DISTANCE } from './AutoPlaceUtil';\n\nvar LOW_PRIORITY = 100;\n\n\n/**\n * A service that places elements connected to existing ones\n * to an appropriate position in an _automated_ fashion.\n *\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n */\nexport default function AutoPlace(eventBus, modeling, canvas) {\n\n  eventBus.on('autoPlace', LOW_PRIORITY, function(context) {\n    var shape = context.shape,\n        source = context.source;\n\n    return getNewShapePosition(source, shape);\n  });\n\n  eventBus.on('autoPlace.end', function(event) {\n    canvas.scrollToElement(event.shape);\n  });\n\n  /**\n   * Append shape to source at appropriate position.\n   *\n   * @param {djs.model.Shape} source\n   * @param {djs.model.Shape} shape\n   *\n   * @return {djs.model.Shape} appended shape\n   */\n  this.append = function(source, shape, hints) {\n\n    eventBus.fire('autoPlace.start', {\n      source: source,\n      shape: shape\n    });\n\n    // allow others to provide the position\n    var position = eventBus.fire('autoPlace', {\n      source: source,\n      shape: shape\n    });\n\n    var newShape = modeling.appendShape(source, shape, position, source.parent, hints);\n\n    eventBus.fire('autoPlace.end', {\n      source: source,\n      shape: newShape\n    });\n\n    return newShape;\n  };\n\n}\n\nAutoPlace.$inject = [\n  'eventBus',\n  'modeling',\n  'canvas'\n];\n\n// helpers //////////\n\n/**\n * Find the new position for the target element to\n * connect to source.\n *\n * @param  {djs.model.Shape} source\n * @param  {djs.model.Shape} element\n * @param  {Object} [hints]\n * @param  {Object} [hints.defaultDistance]\n *\n * @returns {Point}\n */\nfunction getNewShapePosition(source, element, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  var distance = hints.defaultDistance || DEFAULT_DISTANCE;\n\n  var sourceMid = getMid(source),\n      sourceTrbl = asTRBL(source);\n\n  // simply put element right next to source\n  return {\n    x: sourceTrbl.right + distance + element.width / 2,\n    y: sourceMid.y\n  };\n}","/**\n * Select element after auto placement.\n *\n * @param {EventBus} eventBus\n * @param {Selection} selection\n */\nexport default function AutoPlaceSelectionBehavior(eventBus, selection) {\n\n  eventBus.on('autoPlace.end', 500, function(e) {\n    selection.select(e.shape);\n  });\n\n}\n\nAutoPlaceSelectionBehavior.$inject = [\n  'eventBus',\n  'selection'\n];","import AutoPlace from './AutoPlace';\nimport AutoPlaceSelectionBehavior from './AutoPlaceSelectionBehavior';\n\nexport default {\n  __init__: [ 'autoPlaceSelectionBehavior' ],\n  autoPlace: [ 'type', AutoPlace ],\n  autoPlaceSelectionBehavior: [ 'type', AutoPlaceSelectionBehavior ]\n};","import { assign } from 'min-dash';\nimport inherits from 'inherits';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport BaseElementFactory from 'diagram-js/lib/core/ElementFactory';\nexport var BUSINESS_KNOWLEDGE_MODEL_SIZE = {\n  width: 135,\n  height: 46\n};\nexport var DECISION_SIZE = {\n  width: 180,\n  height: 80\n};\nexport var INPUT_DATA_SIZE = {\n  width: 125,\n  height: 45\n};\nexport var KNOWLEDGE_SOURCE_SIZE = {\n  width: 100,\n  height: 63\n};\n/**\n * A drd-aware factory for diagram-js shapes\n */\n\nexport default function ElementFactory(drdFactory) {\n  BaseElementFactory.call(this);\n  this._drdFactory = drdFactory;\n}\ninherits(ElementFactory, BaseElementFactory);\nElementFactory.$inject = ['drdFactory'];\nElementFactory.prototype.baseCreate = BaseElementFactory.prototype.create;\n\nElementFactory.prototype.create = function (elementType, attrs) {\n  return this.createDrdElement(elementType, attrs);\n};\n\nElementFactory.prototype.createDrdElement = function (elementType, attrs) {\n  var drdFactory = this._drdFactory;\n  var size;\n  attrs = attrs || {};\n  var businessObject = attrs.businessObject;\n\n  if (!businessObject) {\n    if (!attrs.type) {\n      throw new Error('no shape type specified');\n    }\n\n    businessObject = drdFactory.create(attrs.type);\n  }\n\n  if (!businessObject.di) {\n    if (elementType === 'connection') {\n      businessObject.di = drdFactory.createDiEdge(businessObject, []);\n    } else if (elementType === 'shape') {\n      businessObject.di = drdFactory.createDiShape(businessObject, {});\n    }\n  }\n\n  size = this._getDefaultSize(businessObject);\n  attrs = assign({\n    businessObject: businessObject,\n    id: businessObject.id\n  }, size, attrs);\n  return this.baseCreate(elementType, attrs);\n};\n\nElementFactory.prototype._getDefaultSize = function (semantic) {\n  if (is(semantic, 'dmn:BusinessKnowledgeModel')) {\n    return BUSINESS_KNOWLEDGE_MODEL_SIZE;\n  }\n\n  if (is(semantic, 'dmn:Decision')) {\n    return DECISION_SIZE;\n  }\n\n  if (is(semantic, 'dmn:InputData')) {\n    return INPUT_DATA_SIZE;\n  }\n\n  if (is(semantic, 'dmn:KnowledgeSource')) {\n    return KNOWLEDGE_SOURCE_SIZE;\n  }\n\n  return {\n    width: 100,\n    height: 80\n  };\n};\n//# sourceMappingURL=ElementFactory.js.map","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { findFreePosition, generateGetNextPosition, getConnectedDistance } from 'diagram-js/lib/features/auto-place/AutoPlaceUtil';\nimport { asTRBL, getMid } from 'diagram-js/lib/layout/LayoutUtil';\nimport { DECISION_SIZE } from '../modeling/ElementFactory';\nvar DIRECTION_LEFT = 'left',\n    DIRECTION_RIGHT = 'right';\nvar DRG_ELEMENT_MARGIN = 60,\n    DRG_ELEMENT_ROW_SIZE = DECISION_SIZE.width;\nexport function getNewShapePosition(source, element) {\n  if (is(element, 'dmn:TextAnnotation')) {\n    return getTextAnnotationPosition(source, element);\n  }\n\n  if (is(element, 'dmn:DRGElement')) {\n    return getDRGElementPosition(source, element);\n  }\n}\n/**\r\n * Always try to place text annotations top right of source.\r\n */\n\nfunction getTextAnnotationPosition(source, element) {\n  var sourceTrbl = asTRBL(source);\n  var position = {\n    x: sourceTrbl.right + element.width / 2,\n    y: sourceTrbl.top - 50 - element.height / 2\n  };\n  var nextPositionDirection = {\n    y: {\n      margin: -30,\n      minDistance: 20\n    }\n  };\n  return findFreePosition(source, element, position, generateGetNextPosition(nextPositionDirection));\n}\n/**\r\n * Get position for DRG elements.\r\n *\r\n * @param {djs.model.Shape} source\r\n * @param {djs.model.Shape} element\r\n *\r\n * @returns {Point}\r\n */\n\n\nfunction getDRGElementPosition(source, element) {\n  var sourceTrbl = asTRBL(source),\n      sourceMid = getMid(source);\n\n  function getWeight(connection) {\n    return connection.target === source ? 1 : -1;\n  }\n\n  var verticalDistance = getConnectedDistance(source, {\n    defaultDistance: 180,\n    direction: 's',\n    getWeight: getWeight,\n    filter: filter,\n    reference: 'center'\n  });\n  var position = {\n    x: sourceMid.x,\n    y: sourceTrbl.bottom + verticalDistance\n  };\n  return findFreePosition(source, element, position, generateGetNextDRGElementPosition(source));\n} // helpers //////////\n\n\nfunction filter(connection) {\n  return !is(connection, 'dmn:Association');\n}\n\nfunction getHorizontalDistance(a, b) {\n  return Math.abs(b.x - a.x);\n}\n\nfunction generateGetNextDRGElementPosition(source) {\n  var sourceMid = getMid(source);\n  var connectedAtPositionLeft, connectedAtPositionRight;\n  return function (element, previousPosition, connectedAtPreviousPosition) {\n    var direction; // (1) get direction\n\n    if (!connectedAtPositionLeft) {\n      connectedAtPositionLeft = connectedAtPreviousPosition;\n      connectedAtPositionRight = connectedAtPreviousPosition;\n\n      if (getMid(connectedAtPreviousPosition).x - sourceMid.x > 0) {\n        direction = DIRECTION_LEFT;\n      } else {\n        direction = DIRECTION_RIGHT;\n      }\n    } else {\n      if (previousPosition.x < sourceMid.x) {\n        connectedAtPositionLeft = connectedAtPreviousPosition;\n      } else {\n        connectedAtPositionRight = connectedAtPreviousPosition;\n      }\n\n      if (getHorizontalDistance(sourceMid, getMid(connectedAtPositionLeft)) < getHorizontalDistance(sourceMid, getMid(connectedAtPositionRight))) {\n        direction = DIRECTION_LEFT;\n      } else {\n        direction = DIRECTION_RIGHT;\n      }\n    } // (2) get next position\n\n\n    if (direction === DIRECTION_LEFT) {\n      return {\n        x: Math.min(getMid(connectedAtPositionLeft).x - DRG_ELEMENT_ROW_SIZE - DRG_ELEMENT_MARGIN, asTRBL(connectedAtPositionLeft).left - DRG_ELEMENT_MARGIN - element.width / 2),\n        y: previousPosition.y\n      };\n    } else {\n      return {\n        x: Math.max(getMid(connectedAtPositionRight).x + DRG_ELEMENT_ROW_SIZE + DRG_ELEMENT_MARGIN, asTRBL(connectedAtPositionRight).right + DRG_ELEMENT_MARGIN + element.width / 2),\n        y: previousPosition.y\n      };\n    }\n  };\n}\n//# sourceMappingURL=DmnAutoPlaceUtil.js.map","import { getNewShapePosition } from './DmnAutoPlaceUtil';\n/**\r\n * DMN auto-place behavior.\r\n *\r\n * @param {EventBus} eventBus\r\n */\n\nexport default function AutoPlace(eventBus) {\n  eventBus.on('autoPlace', function (context) {\n    var shape = context.shape,\n        source = context.source;\n    return getNewShapePosition(source, shape);\n  });\n}\nAutoPlace.$inject = ['eventBus'];\n//# sourceMappingURL=DmnAutoPlace.js.map","import AutoPlaceModule from 'diagram-js/lib/features/auto-place';\nimport DmnAutoPlace from './DmnAutoPlace';\nexport default {\n  __depends__: [AutoPlaceModule],\n  __init__: ['dmnAutoPlace'],\n  dmnAutoPlace: ['type', DmnAutoPlace]\n};\n//# sourceMappingURL=index.js.map","import {\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\nvar HIGH_PRIORITY = 1500;\n\n\n/**\n * Browsers may swallow certain events (hover, out ...) if users are to\n * fast with the mouse.\n *\n * @see http://stackoverflow.com/questions/7448468/why-cant-i-reliably-capture-a-mouseout-event\n *\n * The fix implemented in this component ensure that we\n *\n * 1) have a hover state after a successful drag.move event\n * 2) have an out event when dragging leaves an element\n *\n * @param {ElementRegistry} elementRegistry\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function HoverFix(elementRegistry, eventBus, injector) {\n\n  var self = this;\n\n  var dragging = injector.get('dragging', false);\n\n  /**\n   * Make sure we are god damn hovering!\n   *\n   * @param {Event} dragging event\n   */\n  function ensureHover(event) {\n\n    if (event.hover) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent;\n\n    var gfx = self._findTargetGfx(originalEvent);\n\n    var element = gfx && elementRegistry.get(gfx);\n\n    if (gfx && element) {\n\n      // 1) cancel current mousemove\n      event.stopPropagation();\n\n      // 2) emit fake hover for new target\n      dragging.hover({ element: element, gfx: gfx });\n\n      // 3) re-trigger move event\n      dragging.move(originalEvent);\n    }\n  }\n\n\n  if (dragging) {\n\n    /**\n     * We wait for a specific sequence of events before\n     * emitting a fake drag.hover event.\n     *\n     * Event Sequence:\n     *\n     * drag.start\n     * drag.move >> ensure we are hovering\n     */\n    eventBus.on('drag.start', function(event) {\n\n      eventBus.once('drag.move', HIGH_PRIORITY, function(event) {\n\n        ensureHover(event);\n\n      });\n\n    });\n  }\n\n\n  /**\n   * We make sure that element.out is always fired, even if the\n   * browser swallows an element.out event.\n   *\n   * Event sequence:\n   *\n   * element.hover\n   * (element.out >> sometimes swallowed)\n   * element.hover >> ensure we fired element.out\n   */\n  (function() {\n    var hoverGfx;\n    var hover;\n\n    eventBus.on('element.hover', function(event) {\n\n      // (1) remember current hover element\n      hoverGfx = event.gfx;\n      hover = event.element;\n    });\n\n    eventBus.on('element.hover', HIGH_PRIORITY, function(event) {\n\n      // (3) am I on an element still?\n      if (hover) {\n\n        // (4) that is a problem, gotta \"simulate the out\"\n        eventBus.fire('element.out', {\n          element: hover,\n          gfx: hoverGfx\n        });\n      }\n\n    });\n\n    eventBus.on('element.out', function() {\n\n      // (2) unset hover state if we correctly outed us *GG*\n      hoverGfx = null;\n      hover = null;\n    });\n\n  })();\n\n  this._findTargetGfx = function(event) {\n    var position,\n        target;\n\n    if (!(event instanceof MouseEvent)) {\n      return;\n    }\n\n    position = toPoint(event);\n\n    // damn expensive operation, ouch!\n    target = document.elementFromPoint(position.x, position.y);\n\n    return getGfx(target);\n  };\n\n}\n\nHoverFix.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'injector'\n];\n\n\n// helpers /////////////////////\n\nfunction getGfx(target) {\n  return domClosest(target, 'svg, .djs-element', true);\n}","import HoverFix from './HoverFix';\n\nexport default {\n  __init__: [\n    'hoverFix'\n  ],\n  hoverFix: [ 'type', HoverFix ],\n};","var round = Math.round;\n\nimport { assign } from 'min-dash';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getOriginal,\n  toPoint,\n  stopPropagation\n} from '../../util/Event';\n\nimport {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nvar DRAG_ACTIVE_CLS = 'djs-drag-active';\n\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouchEvent(event) {\n\n  // check for TouchEvent being available first\n  // (i.e. not available on desktop Firefox)\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\n\nfunction getLength(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * A helper that fires canvas localized drag events and realizes\n * the general \"drag-and-drop\" look and feel.\n *\n * Calling {@link Dragging#activate} activates dragging on a canvas.\n *\n * It provides the following:\n *\n *   * emits life cycle events, namespaced with a prefix assigned\n *     during dragging activation\n *   * sets and restores the cursor\n *   * sets and restores the selection if elements still exist\n *   * ensures there can be only one drag operation active at a time\n *\n * Dragging may be canceled manually by calling {@link Dragging#cancel}\n * or by pressing ESC.\n *\n *\n * ## Life-cycle events\n *\n * Dragging can be in three different states, off, initialized\n * and active.\n *\n * (1) off: no dragging operation is in progress\n * (2) initialized: a new drag operation got initialized but not yet\n *                  started (i.e. because of no initial move)\n * (3) started: dragging is in progress\n *\n * Eventually dragging will be off again after a drag operation has\n * been ended or canceled via user click or ESC key press.\n *\n * To indicate transitions between these states dragging emits generic\n * life-cycle events with the `drag.` prefix _and_ events namespaced\n * to a prefix choosen by a user during drag initialization.\n *\n * The following events are emitted (appropriately prefixed) via\n * the {@link EventBus}.\n *\n * * `init`\n * * `start`\n * * `move`\n * * `end`\n * * `ended` (dragging already in off state)\n * * `cancel` (only if previously started)\n * * `canceled` (dragging already in off state, only if previously started)\n * * `cleanup`\n *\n *\n * @example\n *\n * function MyDragComponent(eventBus, dragging) {\n *\n *   eventBus.on('mydrag.start', function(event) {\n *     console.log('yes, we start dragging');\n *   });\n *\n *   eventBus.on('mydrag.move', function(event) {\n *     console.log('canvas local coordinates', event.x, event.y, event.dx, event.dy);\n *\n *     // local drag data is passed with the event\n *     event.context.foo; // \"BAR\"\n *\n *     // the original mouse event, too\n *     event.originalEvent; // MouseEvent(...)\n *   });\n *\n *   eventBus.on('element.click', function(event) {\n *     dragging.init(event, 'mydrag', {\n *       cursor: 'grabbing',\n *       data: {\n *         context: {\n *           foo: \"BAR\"\n *         }\n *       }\n *     });\n *   });\n * }\n */\nexport default function Dragging(eventBus, canvas, selection, elementRegistry) {\n\n  var defaultOptions = {\n    threshold: 5,\n    trapClick: true\n  };\n\n  // the currently active drag operation\n  // dragging is active as soon as this context exists.\n  //\n  // it is visually _active_ only when a context.active flag is set to true.\n  var context;\n\n  /* convert a global event into local coordinates */\n  function toLocalPoint(globalPosition) {\n\n    var viewbox = canvas.viewbox();\n\n    var clientRect = canvas._container.getBoundingClientRect();\n\n    return {\n      x: viewbox.x + (globalPosition.x - clientRect.left) / viewbox.scale,\n      y: viewbox.y + (globalPosition.y - clientRect.top) / viewbox.scale\n    };\n  }\n\n  // helpers\n\n  function fire(type, dragContext) {\n    dragContext = dragContext || context;\n\n    var event = eventBus.createEvent(\n      assign(\n        {},\n        dragContext.payload,\n        dragContext.data,\n        { isTouch: dragContext.isTouch }\n      )\n    );\n\n    // default integration\n    if (eventBus.fire('drag.' + type, event) === false) {\n      return false;\n    }\n\n    return eventBus.fire(dragContext.prefix + '.' + type, event);\n  }\n\n  function restoreSelection(previousSelection) {\n    var existingSelection = previousSelection.filter(function(element) {\n      return elementRegistry.get(element.id);\n    });\n\n    existingSelection.length && selection.select(existingSelection);\n  }\n\n  // event listeners\n\n  function move(event, activate) {\n    var payload = context.payload,\n        displacement = context.displacement;\n\n    var globalStart = context.globalStart,\n        globalCurrent = toPoint(event),\n        globalDelta = deltaPos(globalCurrent, globalStart);\n\n    var localStart = context.localStart,\n        localCurrent = toLocalPoint(globalCurrent),\n        localDelta = deltaPos(localCurrent, localStart);\n\n\n    // activate context explicitly or once threshold is reached\n    if (!context.active && (activate || getLength(globalDelta) > context.threshold)) {\n\n      // fire start event with original\n      // starting coordinates\n\n      assign(payload, {\n        x: round(localStart.x + displacement.x),\n        y: round(localStart.y + displacement.y),\n        dx: 0,\n        dy: 0\n      }, { originalEvent: event });\n\n      if (false === fire('start')) {\n        return cancel();\n      }\n\n      context.active = true;\n\n      // unset selection and remember old selection\n      // the previous (old) selection will always passed\n      // with the event via the event.previousSelection property\n      if (!context.keepSelection) {\n        payload.previousSelection = selection.get();\n        selection.select(null);\n      }\n\n      // allow custom cursor\n      if (context.cursor) {\n        cursorSet(context.cursor);\n      }\n\n      // indicate dragging via marker on root element\n      canvas.addMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n    }\n\n    stopPropagation(event);\n\n    if (context.active) {\n\n      // update payload with actual coordinates\n      assign(payload, {\n        x: round(localCurrent.x + displacement.x),\n        y: round(localCurrent.y + displacement.y),\n        dx: round(localDelta.x),\n        dy: round(localDelta.y)\n      }, { originalEvent: event });\n\n      // emit move event\n      fire('move');\n    }\n  }\n\n  function end(event) {\n    var previousContext,\n        returnValue = true;\n\n    if (context.active) {\n\n      if (event) {\n        context.payload.originalEvent = event;\n\n        // suppress original event (click, ...)\n        // because we just ended a drag operation\n        stopPropagation(event);\n      }\n\n      // implementations may stop restoring the\n      // original state (selections, ...) by preventing the\n      // end events default action\n      returnValue = fire('end');\n    }\n\n    if (returnValue === false) {\n      fire('rejected');\n    }\n\n    previousContext = cleanup(returnValue !== true);\n\n    // last event to be fired when all drag operations are done\n    // at this point in time no drag operation is in progress anymore\n    fire('ended', previousContext);\n  }\n\n\n  // cancel active drag operation if the user presses\n  // the ESC key on the keyboard\n\n  function checkCancel(event) {\n\n    if (event.which === 27) {\n      preventDefault(event);\n\n      cancel();\n    }\n  }\n\n\n  // prevent ghost click that might occur after a finished\n  // drag and drop session\n\n  function trapClickAndEnd(event) {\n\n    var untrap;\n\n    // trap the click in case we are part of an active\n    // drag operation. This will effectively prevent\n    // the ghost click that cannot be canceled otherwise.\n    if (context.active) {\n\n      untrap = installClickTrap(eventBus);\n\n      // remove trap after minimal delay\n      setTimeout(untrap, 400);\n\n      // prevent default action (click)\n      preventDefault(event);\n    }\n\n    end(event);\n  }\n\n  function trapTouch(event) {\n    move(event);\n  }\n\n  // update the drag events hover (djs.model.Base) and hoverGfx (Snap<SVGElement>)\n  // properties during hover and out and fire {prefix}.hover and {prefix}.out properties\n  // respectively\n\n  function hover(event) {\n    var payload = context.payload;\n\n    payload.hoverGfx = event.gfx;\n    payload.hover = event.element;\n\n    fire('hover');\n  }\n\n  function out(event) {\n    fire('out');\n\n    var payload = context.payload;\n\n    payload.hoverGfx = null;\n    payload.hover = null;\n  }\n\n\n  // life-cycle methods\n\n  function cancel(restore) {\n    var previousContext;\n\n    if (!context) {\n      return;\n    }\n\n    var wasActive = context.active;\n\n    if (wasActive) {\n      fire('cancel');\n    }\n\n    previousContext = cleanup(restore);\n\n    if (wasActive) {\n\n      // last event to be fired when all drag operations are done\n      // at this point in time no drag operation is in progress anymore\n      fire('canceled', previousContext);\n    }\n  }\n\n  function cleanup(restore) {\n    var previousContext,\n        endDrag;\n\n    fire('cleanup');\n\n    // reset cursor\n    cursorUnset();\n\n    if (context.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    // reset dom listeners\n    domEvent.unbind(document, 'mousemove', move);\n\n    domEvent.unbind(document, 'dragstart', preventDefault);\n    domEvent.unbind(document, 'selectstart', preventDefault);\n\n    domEvent.unbind(document, 'mousedown', endDrag, true);\n    domEvent.unbind(document, 'mouseup', endDrag, true);\n\n    domEvent.unbind(document, 'keyup', checkCancel);\n\n    domEvent.unbind(document, 'touchstart', trapTouch, true);\n    domEvent.unbind(document, 'touchcancel', cancel, true);\n    domEvent.unbind(document, 'touchmove', move, true);\n    domEvent.unbind(document, 'touchend', end, true);\n\n    eventBus.off('element.hover', hover);\n    eventBus.off('element.out', out);\n\n    // remove drag marker on root element\n    canvas.removeMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n\n    // restore selection, unless it has changed\n    var previousSelection = context.payload.previousSelection;\n\n    if (restore !== false && previousSelection && !selection.get().length) {\n      restoreSelection(previousSelection);\n    }\n\n    previousContext = context;\n\n    context = null;\n\n    return previousContext;\n  }\n\n  /**\n   * Initialize a drag operation.\n   *\n   * If `localPosition` is given, drag events will be emitted\n   * relative to it.\n   *\n   * @param {MouseEvent|TouchEvent} [event]\n   * @param {Point} [localPosition] actual diagram local position this drag operation should start at\n   * @param {string} prefix\n   * @param {Object} [options]\n   */\n  function init(event, relativeTo, prefix, options) {\n\n    // only one drag operation may be active, at a time\n    if (context) {\n      cancel(false);\n    }\n\n    if (typeof relativeTo === 'string') {\n      options = prefix;\n      prefix = relativeTo;\n      relativeTo = null;\n    }\n\n    options = assign({}, defaultOptions, options || {});\n\n    var data = options.data || {},\n        originalEvent,\n        globalStart,\n        localStart,\n        endDrag,\n        isTouch;\n\n    if (options.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    if (event) {\n      originalEvent = getOriginal(event) || event;\n      globalStart = toPoint(event);\n\n      stopPropagation(event);\n\n      // prevent default browser dragging behavior\n      if (originalEvent.type === 'dragstart') {\n        preventDefault(originalEvent);\n      }\n    } else {\n      originalEvent = null;\n      globalStart = { x: 0, y: 0 };\n    }\n\n    localStart = toLocalPoint(globalStart);\n\n    if (!relativeTo) {\n      relativeTo = localStart;\n    }\n\n    isTouch = isTouchEvent(originalEvent);\n\n    context = assign({\n      prefix: prefix,\n      data: data,\n      payload: {},\n      globalStart: globalStart,\n      displacement: deltaPos(relativeTo, localStart),\n      localStart: localStart,\n      isTouch: isTouch\n    }, options);\n\n    // skip dom registration if trigger\n    // is set to manual (during testing)\n    if (!options.manual) {\n\n      // add dom listeners\n\n      if (isTouch) {\n        domEvent.bind(document, 'touchstart', trapTouch, true);\n        domEvent.bind(document, 'touchcancel', cancel, true);\n        domEvent.bind(document, 'touchmove', move, true);\n        domEvent.bind(document, 'touchend', end, true);\n      } else {\n\n        // assume we use the mouse to interact per default\n        domEvent.bind(document, 'mousemove', move);\n\n        // prevent default browser drag and text selection behavior\n        domEvent.bind(document, 'dragstart', preventDefault);\n        domEvent.bind(document, 'selectstart', preventDefault);\n\n        domEvent.bind(document, 'mousedown', endDrag, true);\n        domEvent.bind(document, 'mouseup', endDrag, true);\n      }\n\n      domEvent.bind(document, 'keyup', checkCancel);\n\n      eventBus.on('element.hover', hover);\n      eventBus.on('element.out', out);\n    }\n\n    fire('init');\n\n    if (options.autoActivate) {\n      move(event, true);\n    }\n  }\n\n  // cancel on diagram destruction\n  eventBus.on('diagram.destroy', cancel);\n\n\n  // API\n\n  this.init = init;\n  this.move = move;\n  this.hover = hover;\n  this.out = out;\n  this.end = end;\n\n  this.cancel = cancel;\n\n  // for introspection\n\n  this.context = function() {\n    return context;\n  };\n\n  this.setOptions = function(options) {\n    assign(defaultOptions, options);\n  };\n}\n\nDragging.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'elementRegistry'\n];\n","import HoverFixModule from '../hover-fix';\nimport SelectionModule from '../selection';\n\nimport Dragging from './Dragging';\n\n\nexport default {\n  __depends__: [\n    HoverFixModule,\n    SelectionModule,\n  ],\n  dragging: [ 'type', Dragging ],\n};","import { assign } from 'min-dash';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n\n/**\n * Initiates canvas scrolling if current cursor point is close to a border.\n * Cancelled when current point moves back inside the scrolling borders\n * or cancelled manually.\n *\n * Default options :\n *   scrollThresholdIn: [ 20, 20, 20, 20 ],\n *   scrollThresholdOut: [ 0, 0, 0, 0 ],\n *   scrollRepeatTimeout: 15,\n *   scrollStep: 10\n *\n * Threshold order:\n *   [ left, top, right, bottom ]\n */\nexport default function AutoScroll(config, eventBus, canvas) {\n\n  this._canvas = canvas;\n\n  this._opts = assign({\n    scrollThresholdIn: [ 20, 20, 20, 20 ],\n    scrollThresholdOut: [ 0, 0, 0, 0 ],\n    scrollRepeatTimeout: 15,\n    scrollStep: 10\n  }, config);\n\n  var self = this;\n\n  eventBus.on('drag.move', function(e) {\n    var point = self._toBorderPoint(e);\n\n    self.startScroll(point);\n  });\n\n  eventBus.on([ 'drag.cleanup' ], function() {\n    self.stopScroll();\n  });\n}\n\nAutoScroll.$inject = [\n  'config.autoScroll',\n  'eventBus',\n  'canvas'\n];\n\n\n/**\n * Starts scrolling loop.\n * Point is given in global scale in canvas container box plane.\n *\n * @param  {Object} point { x: X, y: Y }\n */\nAutoScroll.prototype.startScroll = function(point) {\n\n  var canvas = this._canvas;\n  var opts = this._opts;\n  var self = this;\n\n  var clientRect = canvas.getContainer().getBoundingClientRect();\n\n  var diff = [\n    point.x,\n    point.y,\n    clientRect.width - point.x,\n    clientRect.height - point.y\n  ];\n\n  this.stopScroll();\n\n  var dx = 0,\n      dy = 0;\n\n  for (var i = 0; i < 4; i++) {\n    if (between(diff[i], opts.scrollThresholdOut[i], opts.scrollThresholdIn[i])) {\n      if (i === 0) {\n        dx = opts.scrollStep;\n      } else if (i == 1) {\n        dy = opts.scrollStep;\n      } else if (i == 2) {\n        dx = -opts.scrollStep;\n      } else if (i == 3) {\n        dy = -opts.scrollStep;\n      }\n    }\n  }\n\n  if (dx !== 0 || dy !== 0) {\n    canvas.scroll({ dx: dx, dy: dy });\n\n    this._scrolling = setTimeout(function() {\n      self.startScroll(point);\n    }, opts.scrollRepeatTimeout);\n  }\n};\n\nfunction between(val, start, end) {\n  if (start < val && val < end) {\n    return true;\n  }\n\n  return false;\n}\n\n\n/**\n * Stops scrolling loop.\n */\nAutoScroll.prototype.stopScroll = function() {\n  clearTimeout(this._scrolling);\n};\n\n\n/**\n * Overrides defaults options.\n *\n * @param  {Object} options\n */\nAutoScroll.prototype.setOptions = function(options) {\n  this._opts = assign({}, this._opts, options);\n};\n\n\n/**\n * Converts event to a point in canvas container plane in global scale.\n *\n * @param  {Event} event\n * @return {Point}\n */\nAutoScroll.prototype._toBorderPoint = function(event) {\n  var clientRect = this._canvas._container.getBoundingClientRect();\n\n  var globalPosition = toPoint(event.originalEvent);\n\n  return {\n    x: globalPosition.x - clientRect.left,\n    y: globalPosition.y - clientRect.top\n  };\n};","import DraggingModule from '../dragging';\n\nimport AutoScroll from './AutoScroll';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n  ],\n  __init__: [ 'autoScroll' ],\n  autoScroll: [ 'type', AutoScroll ]\n};","/**\n * A service that provides rules for certain diagram actions.\n *\n * The default implementation will hook into the {@link CommandStack}\n * to perform the actual rule evaluation. Make sure to provide the\n * `commandStack` service with this module if you plan to use it.\n *\n * Together with this implementation you may use the {@link RuleProvider}\n * to implement your own rule checkers.\n *\n * This module is ment to be easily replaced, thus the tiny foot print.\n *\n * @param {Injector} injector\n */\nexport default function Rules(injector) {\n  this._commandStack = injector.get('commandStack', false);\n}\n\nRules.$inject = [ 'injector' ];\n\n\n/**\n * Returns whether or not a given modeling action can be executed\n * in the specified context.\n *\n * This implementation will respond with allow unless anyone\n * objects.\n *\n * @param {string} action the action to be checked\n * @param {Object} [context] the context to check the action in\n *\n * @return {boolean} returns true, false or null depending on whether the\n *                   operation is allowed, not allowed or should be ignored.\n */\nRules.prototype.allowed = function(action, context) {\n  var allowed = true;\n\n  var commandStack = this._commandStack;\n\n  if (commandStack) {\n    allowed = commandStack.canExecute(action, context);\n  }\n\n  // map undefined to true, i.e. no rules\n  return allowed === undefined ? true : allowed;\n};","import Rules from './Rules';\n\nexport default {\n  __init__: [ 'rules' ],\n  rules: [ 'type', Rules ]\n};\n","import {\n  pointDistance\n} from './Geometry';\n\nimport intersectPaths from 'path-intersection';\n\nvar round = Math.round,\n    max = Math.max;\n\n\nfunction circlePath(center, r) {\n  var x = center.x,\n      y = center.y;\n\n  return [\n    ['M', x, y],\n    ['m', 0, -r],\n    ['a', r, r, 0, 1, 1, 0, 2 * r],\n    ['a', r, r, 0, 1, 1, 0, -2 * r],\n    ['z']\n  ];\n}\n\nfunction linePath(points) {\n  var segments = [];\n\n  points.forEach(function(p, idx) {\n    segments.push([ idx === 0 ? 'M' : 'L', p.x, p.y ]);\n  });\n\n  return segments;\n}\n\n\nvar INTERSECTION_THRESHOLD = 10;\n\nfunction getBendpointIntersection(waypoints, reference) {\n\n  var i, w;\n\n  for (i = 0; (w = waypoints[i]); i++) {\n\n    if (pointDistance(w, reference) <= INTERSECTION_THRESHOLD) {\n      return {\n        point: waypoints[i],\n        bendpoint: true,\n        index: i\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction getPathIntersection(waypoints, reference) {\n\n  var intersections = intersectPaths(circlePath(reference, INTERSECTION_THRESHOLD), linePath(waypoints));\n\n  var a = intersections[0],\n      b = intersections[intersections.length - 1],\n      idx;\n\n  if (!a) {\n\n    // no intersection\n    return null;\n  }\n\n  if (a !== b) {\n\n    if (a.segment2 !== b.segment2) {\n\n      // we use the bendpoint in between both segments\n      // as the intersection point\n\n      idx = max(a.segment2, b.segment2) - 1;\n\n      return {\n        point: waypoints[idx],\n        bendpoint: true,\n        index: idx\n      };\n    }\n\n    return {\n      point: {\n        x: (round(a.x + b.x) / 2),\n        y: (round(a.y + b.y) / 2)\n      },\n      index: a.segment2\n    };\n  }\n\n  return {\n    point: {\n      x: round(a.x),\n      y: round(a.y)\n    },\n    index: a.segment2\n  };\n}\n\n/**\n * Returns the closest point on the connection towards a given reference point.\n *\n * @param  {Array<Point>} waypoints\n * @param  {Point} reference\n *\n * @return {Object} intersection data (segment, point)\n */\nexport function getApproxIntersection(waypoints, reference) {\n  return getBendpointIntersection(waypoints, reference) || getPathIntersection(waypoints, reference);\n}\n","import {\n  toPoint\n} from '../../util/Event';\n\nimport {\n  getMidPoint,\n  pointsAligned\n} from '../../util/Geometry';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  rotate,\n  translate\n} from '../../util/SvgTransformUtil';\n\nimport {\n  getApproxIntersection\n} from '../../util/LineIntersection';\n\nexport var BENDPOINT_CLS = 'djs-bendpoint';\nexport var SEGMENT_DRAGGER_CLS = 'djs-segment-dragger';\n\nexport function toCanvasCoordinates(canvas, event) {\n\n  var position = toPoint(event),\n      clientRect = canvas._container.getBoundingClientRect(),\n      offset;\n\n  // canvas relative position\n\n  offset = {\n    x: clientRect.left,\n    y: clientRect.top\n  };\n\n  // update actual event payload with canvas relative measures\n\n  var viewbox = canvas.viewbox();\n\n  return {\n    x: viewbox.x + (position.x - offset.x) / viewbox.scale,\n    y: viewbox.y + (position.y - offset.y) / viewbox.scale\n  };\n}\n\nexport function getConnectionIntersection(canvas, waypoints, event) {\n  var localPosition = toCanvasCoordinates(canvas, event),\n      intersection = getApproxIntersection(waypoints, localPosition);\n\n  return intersection;\n}\n\nexport function addBendpoint(parentGfx, cls) {\n  var groupGfx = svgCreate('g');\n  svgClasses(groupGfx).add(BENDPOINT_CLS);\n\n  svgAppend(parentGfx, groupGfx);\n\n  var visual = svgCreate('circle');\n  svgAttr(visual, {\n    cx: 0,\n    cy: 0,\n    r: 4\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(groupGfx, visual);\n\n  var hit = svgCreate('circle');\n  svgAttr(hit, {\n    cx: 0,\n    cy: 0,\n    r: 10\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(groupGfx, hit);\n\n  if (cls) {\n    svgClasses(groupGfx).add(cls);\n  }\n\n  return groupGfx;\n}\n\nfunction createParallelDragger(parentGfx, segmentStart, segmentEnd, alignment) {\n  var draggerGfx = svgCreate('g');\n\n  svgAppend(parentGfx, draggerGfx);\n\n  var width = 14,\n      height = 3,\n      padding = 11,\n      hitWidth = calculateHitWidth(segmentStart, segmentEnd, alignment),\n      hitHeight = height + padding;\n\n  var visual = svgCreate('rect');\n  svgAttr(visual, {\n    x: -width / 2,\n    y: -height / 2,\n    width: width,\n    height: height\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(draggerGfx, visual);\n\n  var hit = svgCreate('rect');\n  svgAttr(hit, {\n    x: -hitWidth / 2,\n    y: -hitHeight / 2,\n    width: hitWidth,\n    height: hitHeight\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(draggerGfx, hit);\n\n  rotate(draggerGfx, alignment === 'v' ? 90 : 0, 0, 0);\n\n  return draggerGfx;\n}\n\n\nexport function addSegmentDragger(parentGfx, segmentStart, segmentEnd) {\n\n  var groupGfx = svgCreate('g'),\n      mid = getMidPoint(segmentStart, segmentEnd),\n      alignment = pointsAligned(segmentStart, segmentEnd);\n\n  svgAppend(parentGfx, groupGfx);\n\n  createParallelDragger(groupGfx, segmentStart, segmentEnd, alignment);\n\n  svgClasses(groupGfx).add(SEGMENT_DRAGGER_CLS);\n  svgClasses(groupGfx).add(alignment === 'h' ? 'horizontal' : 'vertical');\n\n  translate(groupGfx, mid.x, mid.y);\n\n  return groupGfx;\n}\n\n/**\n * Calculates region for segment move which is 2/3 of the full segment length\n * @param {number} segmentLength\n *\n * @return {number}\n */\nexport function calculateSegmentMoveRegion(segmentLength) {\n  return Math.abs(Math.round(segmentLength * 2 / 3));\n}\n\n// helper //////////\n\nfunction calculateHitWidth(segmentStart, segmentEnd, alignment) {\n  var segmentLengthXAxis = segmentEnd.x - segmentStart.x,\n      segmentLengthYAxis = segmentEnd.y - segmentStart.y;\n\n  return alignment === 'h' ?\n    calculateSegmentMoveRegion(segmentLengthXAxis) :\n    calculateSegmentMoveRegion(segmentLengthYAxis);\n}\n","import { forEach } from 'min-dash';\n\nimport {\n  event as domEvent,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport {\n  BENDPOINT_CLS,\n  SEGMENT_DRAGGER_CLS,\n  addBendpoint,\n  addSegmentDragger,\n  calculateSegmentMoveRegion,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  escapeCSS\n} from '../../util/EscapeUtil';\n\nimport {\n  pointsAligned,\n  getMidPoint\n} from '../../util/Geometry';\n\nimport {\n  isPrimaryButton\n} from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n\n/**\n * A service that adds editable bendpoints to connections.\n */\nexport default function Bendpoints(\n    eventBus, canvas, interactionEvents,\n    bendpointMove, connectionSegmentMove) {\n\n  /**\n   * Returns true if intersection point is inside middle region of segment, adjusted by\n   * optional threshold\n   */\n  function isIntersectionMiddle(intersection, waypoints, treshold) {\n    var idx = intersection.index,\n        p = intersection.point,\n        p0, p1, mid, aligned, xDelta, yDelta;\n\n    if (idx <= 0 || intersection.bendpoint) {\n      return false;\n    }\n\n    p0 = waypoints[idx - 1];\n    p1 = waypoints[idx];\n    mid = getMidPoint(p0, p1),\n    aligned = pointsAligned(p0, p1);\n    xDelta = Math.abs(p.x - mid.x);\n    yDelta = Math.abs(p.y - mid.y);\n\n    return aligned && xDelta <= treshold && yDelta <= treshold;\n  }\n\n  /**\n   * Calculates the threshold from a connection's middle which fits the two-third-region\n   */\n  function calculateIntersectionThreshold(connection, intersection) {\n    var waypoints = connection.waypoints,\n        relevantSegment, alignment, segmentLength, threshold;\n\n    if (intersection.index <= 0 || intersection.bendpoint) {\n      return null;\n    }\n\n    // segment relative to connection intersection\n    relevantSegment = {\n      start: waypoints[intersection.index - 1],\n      end: waypoints[intersection.index]\n    };\n\n    alignment = pointsAligned(relevantSegment.start, relevantSegment.end);\n\n    if (!alignment) {\n      return null;\n    }\n\n    if (alignment === 'h') {\n      segmentLength = relevantSegment.end.x - relevantSegment.start.x;\n    } else {\n      segmentLength = relevantSegment.end.y - relevantSegment.start.y;\n    }\n\n    // calculate threshold relative to 2/3 of segment length\n    threshold = calculateSegmentMoveRegion(segmentLength) / 2;\n\n    return threshold;\n  }\n\n  function activateBendpointMove(event, connection) {\n    var waypoints = connection.waypoints,\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        threshold;\n\n    if (!intersection) {\n      return;\n    }\n\n    threshold = calculateIntersectionThreshold(connection, intersection);\n\n    if (isIntersectionMiddle(intersection, waypoints, threshold)) {\n      connectionSegmentMove.start(event, connection, intersection.index);\n    } else {\n      bendpointMove.start(event, connection, intersection.index, !intersection.bendpoint);\n    }\n\n    // we've handled the event\n    return true;\n  }\n\n  function bindInteractionEvents(node, eventName, element) {\n\n    domEvent.bind(node, eventName, function(event) {\n      interactionEvents.triggerMouseEvent(eventName, event, element);\n      event.stopPropagation();\n    });\n  }\n\n  function getBendpointsContainer(element, create) {\n\n    var layer = canvas.getLayer('overlays'),\n        gfx = domQuery('.djs-bendpoints[data-element-id=\"' + escapeCSS(element.id) + '\"]', layer);\n\n    if (!gfx && create) {\n      gfx = svgCreate('g');\n      svgAttr(gfx, { 'data-element-id': element.id });\n      svgClasses(gfx).add('djs-bendpoints');\n\n      svgAppend(layer, gfx);\n\n      bindInteractionEvents(gfx, 'mousedown', element);\n      bindInteractionEvents(gfx, 'click', element);\n      bindInteractionEvents(gfx, 'dblclick', element);\n    }\n\n    return gfx;\n  }\n\n  function getSegmentDragger(idx, parentGfx) {\n    return domQuery(\n      '.djs-segment-dragger[data-segment-idx=\"' + idx + '\"]',\n      parentGfx\n    );\n  }\n\n  function createBendpoints(gfx, connection) {\n    connection.waypoints.forEach(function(p, idx) {\n      var bendpoint = addBendpoint(gfx);\n\n      svgAppend(gfx, bendpoint);\n\n      translate(bendpoint, p.x, p.y);\n    });\n\n    // add floating bendpoint\n    addBendpoint(gfx, 'floating');\n  }\n\n  function createSegmentDraggers(gfx, connection) {\n\n    var waypoints = connection.waypoints;\n\n    var segmentStart,\n        segmentEnd,\n        segmentDraggerGfx;\n\n    for (var i = 1; i < waypoints.length; i++) {\n\n      segmentStart = waypoints[i - 1];\n      segmentEnd = waypoints[i];\n\n      if (pointsAligned(segmentStart, segmentEnd)) {\n        segmentDraggerGfx = addSegmentDragger(gfx, segmentStart, segmentEnd);\n\n        svgAttr(segmentDraggerGfx, { 'data-segment-idx': i });\n\n        bindInteractionEvents(segmentDraggerGfx, 'mousemove', connection);\n      }\n    }\n  }\n\n  function clearBendpoints(gfx) {\n    forEach(domQueryAll('.' + BENDPOINT_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function clearSegmentDraggers(gfx) {\n    forEach(domQueryAll('.' + SEGMENT_DRAGGER_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function addHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (!gfx) {\n      gfx = getBendpointsContainer(connection, true);\n\n      createBendpoints(gfx, connection);\n      createSegmentDraggers(gfx, connection);\n    }\n\n    return gfx;\n  }\n\n  function updateHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (gfx) {\n      clearSegmentDraggers(gfx);\n      clearBendpoints(gfx);\n      createSegmentDraggers(gfx, connection);\n      createBendpoints(gfx, connection);\n    }\n  }\n\n  function updateFloatingBendpointPosition(parentGfx, intersection) {\n    var floating = domQuery('.floating', parentGfx),\n        point = intersection.point;\n\n    if (!floating) {\n      return;\n    }\n\n    translate(floating, point.x, point.y);\n\n  }\n\n  function updateSegmentDraggerPosition(parentGfx, intersection, waypoints) {\n\n    var draggerGfx = getSegmentDragger(intersection.index, parentGfx),\n        segmentStart = waypoints[intersection.index - 1],\n        segmentEnd = waypoints[intersection.index],\n        point = intersection.point,\n        mid = getMidPoint(segmentStart, segmentEnd),\n        alignment = pointsAligned(segmentStart, segmentEnd),\n        draggerVisual, relativePosition;\n\n    if (!draggerGfx) {\n      return;\n    }\n\n    draggerVisual = getDraggerVisual(draggerGfx);\n\n    relativePosition = {\n      x: point.x - mid.x,\n      y: point.y - mid.y\n    };\n\n    if (alignment === 'v') {\n\n      // rotate position\n      relativePosition = {\n        x: relativePosition.y,\n        y: relativePosition.x\n      };\n    }\n\n    translate(draggerVisual, relativePosition.x, relativePosition.y);\n  }\n\n  eventBus.on('connection.changed', function(event) {\n    updateHandles(event.element);\n  });\n\n  eventBus.on('connection.remove', function(event) {\n    var gfx = getBendpointsContainer(event.element);\n\n    if (gfx) {\n      svgRemove(gfx);\n    }\n  });\n\n  eventBus.on('element.marker.update', function(event) {\n\n    var element = event.element,\n        bendpointsGfx;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    bendpointsGfx = addHandles(element);\n\n    if (event.add) {\n      svgClasses(bendpointsGfx).add(event.marker);\n    } else {\n      svgClasses(bendpointsGfx).remove(event.marker);\n    }\n  });\n\n  eventBus.on('element.mousemove', function(event) {\n\n    var element = event.element,\n        waypoints = element.waypoints,\n        bendpointsGfx,\n        intersection;\n\n    if (waypoints) {\n      bendpointsGfx = getBendpointsContainer(element, true);\n\n      intersection = getConnectionIntersection(canvas, waypoints, event.originalEvent);\n\n      if (!intersection) {\n        return;\n      }\n\n      updateFloatingBendpointPosition(bendpointsGfx, intersection);\n\n      if (!intersection.bendpoint) {\n        updateSegmentDraggerPosition(bendpointsGfx, intersection, waypoints);\n      }\n\n    }\n  });\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent,\n        element = event.element;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    return activateBendpointMove(originalEvent, element);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection,\n        primary = newSelection[0];\n\n    if (primary && primary.waypoints) {\n      addHandles(primary);\n    }\n  });\n\n  eventBus.on('element.hover', function(event) {\n    var element = event.element;\n\n    if (element.waypoints) {\n      addHandles(element);\n      interactionEvents.registerEvent(event.gfx, 'mousemove', 'element.mousemove');\n    }\n  });\n\n  eventBus.on('element.out', function(event) {\n    interactionEvents.unregisterEvent(event.gfx, 'mousemove', 'element.mousemove');\n  });\n\n  // update bendpoint container data attribute on element ID change\n  eventBus.on('element.updateId', function(context) {\n    var element = context.element,\n        newId = context.newId;\n\n    if (element.waypoints) {\n      var bendpointContainer = getBendpointsContainer(element);\n\n      if (bendpointContainer) {\n        svgAttr(bendpointContainer, { 'data-element-id': newId });\n      }\n    }\n  });\n\n  // API\n\n  this.addHandles = addHandles;\n  this.updateHandles = updateHandles;\n  this.getBendpointsContainer = getBendpointsContainer;\n  this.getSegmentDragger = getSegmentDragger;\n}\n\nBendpoints.$inject = [\n  'eventBus',\n  'canvas',\n  'interactionEvents',\n  'bendpointMove',\n  'connectionSegmentMove'\n];\n\n\n\n// helper /////////////\n\nfunction getDraggerVisual(draggerGfx) {\n  return domQuery('.djs-visual', draggerGfx);\n}","import { filterRedundantWaypoints } from '../../layout/LayoutUtil';\n\nvar round = Math.round;\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\n\n/**\n * Move bendpoints through drag and drop to add/remove bendpoints or reconnect connection.\n */\nexport default function BendpointMove(injector, eventBus, canvas, dragging, rules, modeling) {\n  this._injector = injector;\n\n  this.start = function(event, connection, bendpointIndex, insert) {\n    var gfx = canvas.getGraphics(connection),\n        source = connection.source,\n        target = connection.target,\n        waypoints = connection.waypoints,\n        type;\n\n    if (!insert && bendpointIndex === 0) {\n      type = RECONNECT_START;\n    } else\n    if (!insert && bendpointIndex === waypoints.length - 1) {\n      type = RECONNECT_END;\n    } else {\n      type = UPDATE_WAYPOINTS;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    var allowed = rules.allowed(command, {\n      connection: connection,\n      source: source,\n      target: target\n    });\n\n    if (allowed === false) {\n      allowed = rules.allowed(command, {\n        connection: connection,\n        source: target,\n        target: source\n      });\n    }\n\n    if (allowed === false) {\n      return;\n    }\n\n    dragging.init(event, 'bendpoint.move', {\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: {\n          allowed: allowed,\n          bendpointIndex: bendpointIndex,\n          connection: connection,\n          source: source,\n          target: target,\n          insert: insert,\n          type: type\n        }\n      }\n    });\n  };\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        hover = event.hover,\n        type = context.type;\n\n    // cache hover state\n    context.hover = hover;\n\n    var allowed;\n\n    if (!hover) {\n      return;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    allowed = context.allowed = rules.allowed(command, {\n      connection: connection,\n      source: type === RECONNECT_START ? hover : source,\n      target: type === RECONNECT_END ? hover : target\n    });\n\n    if (allowed) {\n      context.source = type === RECONNECT_START ? hover : source;\n      context.target = type === RECONNECT_END ? hover : target;\n\n      return;\n    }\n\n    if (allowed === false) {\n      allowed = context.allowed = rules.allowed(command, {\n        connection: connection,\n        source: type === RECONNECT_END ? hover : target,\n        target: type === RECONNECT_START ? hover : source\n      });\n    }\n\n    if (allowed) {\n      context.source = type === RECONNECT_END ? hover : target;\n      context.target = type === RECONNECT_START ? hover : source;\n    }\n  });\n\n  eventBus.on([ 'bendpoint.move.out', 'bendpoint.move.cleanup' ], function(event) {\n    var context = event.context,\n        type = context.type;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    if (type !== UPDATE_WAYPOINTS) {\n      context.allowed = false;\n    }\n  });\n\n  eventBus.on('bendpoint.move.end', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        newWaypoints = connection.waypoints.slice(),\n        source = context.source,\n        target = context.target,\n        type = context.type,\n        hints = context.hints || {};\n\n    // ensure integer values (important if zoom level was > 1 during move)\n    var docking = {\n      x: round(event.x),\n      y: round(event.y)\n    };\n\n    if (!allowed) {\n      return false;\n    }\n\n    if (type === UPDATE_WAYPOINTS) {\n      if (insert) {\n\n        // insert new bendpoint\n        newWaypoints.splice(bendpointIndex, 0, docking);\n      } else {\n\n        // swap previous waypoint with moved one\n        newWaypoints[bendpointIndex] = docking;\n      }\n\n      // pass hints about actual moved bendpoint\n      // useful for connection/label layout\n      hints.bendpointMove = {\n        insert: insert,\n        bendpointIndex: bendpointIndex\n      };\n\n      newWaypoints = this.cropWaypoints(connection, newWaypoints);\n\n      modeling.updateWaypoints(connection, filterRedundantWaypoints(newWaypoints), hints);\n    } else {\n      if (type === RECONNECT_START) {\n        hints.docking = 'source';\n\n        if (isReverse(context)) {\n          hints.docking = 'target';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      } else if (type === RECONNECT_END) {\n        hints.docking = 'target';\n\n        if (isReverse(context)) {\n          hints.docking = 'source';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      }\n\n      modeling.reconnect(connection, source, target, docking, hints);\n    }\n  }, this);\n}\n\nBendpointMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'rules',\n  'modeling'\n];\n\nBendpointMove.prototype.cropWaypoints = function(connection, newWaypoints) {\n  var connectionDocking = this._injector.get('connectionDocking', false);\n\n  if (!connectionDocking) {\n    return newWaypoints;\n  }\n\n  var waypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n\n  newWaypoints = connection.waypoints;\n\n  connection.waypoints = waypoints;\n\n  return newWaypoints;\n};\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target,\n      type = context.type;\n\n  if (type === RECONNECT_START) {\n    return hover && target && hover === target && source !== target;\n  }\n\n  if (type === RECONNECT_END) {\n    return hover && source && hover === source && source !== target;\n  }\n}","import {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { addBendpoint } from './BendpointUtil';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nimport { isReverse } from './BendpointMove';\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok',\n    MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating',\n    MARKER_ELEMENT_HIDDEN = 'djs-element-hidden';\n\nvar HIGH_PRIORITY = 1100;\n\n/**\n * Preview connection while moving bendpoints.\n */\nexport default function BendpointMovePreview(bendpointMove, injector, eventBus, canvas) {\n  this._injector = injector;\n\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  eventBus.on('bendpoint.move.start', function(event) {\n    var context = event.context,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        waypoints = connection.waypoints,\n        newWaypoints = waypoints.slice();\n\n    context.waypoints = waypoints;\n\n    if (insert) {\n\n      // insert placeholder for new bendpoint\n      newWaypoints.splice(bendpointIndex, 0, { x: event.x, y: event.y });\n    }\n\n    connection.waypoints = newWaypoints;\n\n    // add dragger gfx\n    var draggerGfx = context.draggerGfx = addBendpoint(canvas.getLayer('overlays'));\n\n    svgClasses(draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_ELEMENT_HIDDEN);\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        hover = context.hover,\n        type = context.type;\n\n    if (hover) {\n      canvas.addMarker(hover, MARKER_CONNECT_HOVER);\n\n      if (type === UPDATE_WAYPOINTS) {\n        return;\n      }\n\n      if (allowed) {\n        canvas.removeMarker(hover, MARKER_NOT_OK);\n        canvas.addMarker(hover, MARKER_OK);\n      } else if (allowed === false) {\n        canvas.removeMarker(hover, MARKER_OK);\n        canvas.addMarker(hover, MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([\n    'bendpoint.move.out',\n    'bendpoint.move.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        hover = context.hover,\n        target = context.target;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n  });\n\n  eventBus.on('bendpoint.move.move', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        type = context.type,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        newWaypoints = connection.waypoints.slice(),\n        bendpoint = { x: event.x, y: event.y },\n        hints = context.hints || {},\n        drawPreviewHints = {};\n\n    if (connectionPreview) {\n      if (hints.connectionStart) {\n        drawPreviewHints.connectionStart = hints.connectionStart;\n      }\n\n      if (hints.connectionEnd) {\n        drawPreviewHints.connectionEnd = hints.connectionEnd;\n      }\n\n\n      if (type === RECONNECT_START) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = target;\n          drawPreviewHints.target = hover || source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || source;\n          drawPreviewHints.target = target;\n        }\n      } else if (type === RECONNECT_END) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || target;\n          drawPreviewHints.target = source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = source;\n          drawPreviewHints.target = hover || target;\n        }\n\n      } else {\n        drawPreviewHints.noCropping = true;\n        drawPreviewHints.noLayout = true;\n        newWaypoints[ bendpointIndex ] = bendpoint;\n      }\n\n      if (type === UPDATE_WAYPOINTS) {\n        newWaypoints = bendpointMove.cropWaypoints(connection, newWaypoints);\n      }\n\n      drawPreviewHints.waypoints = newWaypoints;\n\n      connectionPreview.drawPreview(context, allowed, drawPreviewHints);\n    }\n\n    translate(draggerGfx, event.x, event.y);\n  }, this);\n\n  eventBus.on([\n    'bendpoint.move.end',\n    'bendpoint.move.cancel'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        connection = context.connection,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        target = context.target,\n        waypoints = context.waypoints;\n\n    connection.waypoints = waypoints;\n\n    // remove dragger gfx\n    svgRemove(draggerGfx);\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n    canvas.removeMarker(connection, MARKER_ELEMENT_HIDDEN);\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n\n    if (connectionPreview) {\n      connectionPreview.cleanUp(context);\n    }\n  });\n}\n\nBendpointMovePreview.$inject = [\n  'bendpointMove',\n  'injector',\n  'eventBus',\n  'canvas'\n];","import {\n  pointsAligned,\n  pointsOnLine\n} from '../../util/Geometry';\n\nimport {\n  addSegmentDragger,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  getMid,\n  getOrientation\n} from '../../layout/LayoutUtil';\n\nvar MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating';\n\nimport {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n\nfunction axisAdd(point, axis, delta) {\n  return axisSet(point, axis, point[axis] + delta);\n}\n\nfunction axisSet(point, axis, value) {\n  return {\n    x: (axis === 'x' ? value : point.x),\n    y: (axis === 'y' ? value : point.y)\n  };\n}\n\nfunction axisFenced(position, segmentStart, segmentEnd, axis) {\n\n  var maxValue = Math.max(segmentStart[axis], segmentEnd[axis]),\n      minValue = Math.min(segmentStart[axis], segmentEnd[axis]);\n\n  var padding = 20;\n\n  var fencedValue = Math.min(Math.max(minValue + padding, position[axis]), maxValue - padding);\n\n  return axisSet(segmentStart, axis, fencedValue);\n}\n\nfunction flipAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Get the docking point on the given element.\n *\n * Compute a reasonable docking, if non exists.\n *\n * @param  {Point} point\n * @param  {djs.model.Shape} referenceElement\n * @param  {string} moveAxis (x|y)\n *\n * @return {Point}\n */\nfunction getDocking(point, referenceElement, moveAxis) {\n\n  var referenceMid,\n      inverseAxis;\n\n  if (point.original) {\n    return point.original;\n  } else {\n    referenceMid = getMid(referenceElement);\n    inverseAxis = flipAxis(moveAxis);\n\n    return axisSet(point, inverseAxis, referenceMid[inverseAxis]);\n  }\n}\n\n/**\n * A component that implements moving of bendpoints\n */\nexport default function ConnectionSegmentMove(\n    injector, eventBus, canvas,\n    dragging, graphicsFactory, modeling) {\n\n  // optional connection docking integration\n  var connectionDocking = injector.get('connectionDocking', false);\n\n\n  // API\n\n  this.start = function(event, connection, idx) {\n\n    var context,\n        gfx = canvas.getGraphics(connection),\n        segmentStartIndex = idx - 1,\n        segmentEndIndex = idx,\n        waypoints = connection.waypoints,\n        segmentStart = waypoints[segmentStartIndex],\n        segmentEnd = waypoints[segmentEndIndex],\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        direction, axis, dragPosition;\n\n    direction = pointsAligned(segmentStart, segmentEnd);\n\n    // do not move diagonal connection\n    if (!direction) {\n      return;\n    }\n\n    // the axis where we are going to move things\n    axis = direction === 'v' ? 'x' : 'y';\n\n    if (segmentStartIndex === 0) {\n      segmentStart = getDocking(segmentStart, connection.source, axis);\n    }\n\n    if (segmentEndIndex === waypoints.length - 1) {\n      segmentEnd = getDocking(segmentEnd, connection.target, axis);\n    }\n\n    if (intersection) {\n      dragPosition = intersection.point;\n    } else {\n\n      // set to segment center as default\n      dragPosition = {\n        x: (segmentStart.x + segmentEnd.x) / 2,\n        y: (segmentStart.y + segmentEnd.y) / 2\n      };\n    }\n\n    context = {\n      connection: connection,\n      segmentStartIndex: segmentStartIndex,\n      segmentEndIndex: segmentEndIndex,\n      segmentStart: segmentStart,\n      segmentEnd: segmentEnd,\n      axis: axis,\n      dragPosition: dragPosition\n    };\n\n    dragging.init(event, dragPosition, 'connectionSegment.move', {\n      cursor: axis === 'x' ? 'resize-ew' : 'resize-ns',\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: context\n      }\n    });\n  };\n\n  /**\n   * Crop connection if connection cropping is provided.\n   *\n   * @param {Connection} connection\n   * @param {Array<Point>} newWaypoints\n   *\n   * @return {Array<Point>} cropped connection waypoints\n   */\n  function cropConnection(connection, newWaypoints) {\n\n    // crop connection, if docking service is provided only\n    if (!connectionDocking) {\n      return newWaypoints;\n    }\n\n    var oldWaypoints = connection.waypoints,\n        croppedWaypoints;\n\n    // temporary set new waypoints\n    connection.waypoints = newWaypoints;\n\n    croppedWaypoints = connectionDocking.getCroppedWaypoints(connection);\n\n    // restore old waypoints\n    connection.waypoints = oldWaypoints;\n\n    return croppedWaypoints;\n  }\n\n  // DRAGGING IMPLEMENTATION\n\n  function redrawConnection(data) {\n    graphicsFactory.update('connection', data.connection, data.connectionGfx);\n  }\n\n  function updateDragger(context, segmentOffset, event) {\n\n    var newWaypoints = context.newWaypoints,\n        segmentStartIndex = context.segmentStartIndex + segmentOffset,\n        segmentStart = newWaypoints[segmentStartIndex],\n        segmentEndIndex = context.segmentEndIndex + segmentOffset,\n        segmentEnd = newWaypoints[segmentEndIndex],\n        axis = flipAxis(context.axis);\n\n    // make sure the dragger does not move\n    // outside the connection\n    var draggerPosition = axisFenced(event, segmentStart, segmentEnd, axis);\n\n    // update dragger\n    translate(context.draggerGfx, draggerPosition.x, draggerPosition.y);\n  }\n\n  /**\n   * Filter waypoints for redundant ones (i.e. on the same axis).\n   * Returns the filtered waypoints and the offset related to the segment move.\n   *\n   * @param {Array<Point>} waypoints\n   * @param {Integer} segmentStartIndex of moved segment start\n   *\n   * @return {Object} { filteredWaypoints, segmentOffset }\n   */\n  function filterRedundantWaypoints(waypoints, segmentStartIndex) {\n\n    var segmentOffset = 0;\n\n    var filteredWaypoints = waypoints.filter(function(r, idx) {\n      if (pointsOnLine(waypoints[idx - 1], waypoints[idx + 1], r)) {\n\n        // remove point and increment offset\n        segmentOffset = idx <= segmentStartIndex ? segmentOffset - 1 : segmentOffset;\n        return false;\n      }\n\n      // dont remove point\n      return true;\n    });\n\n    return {\n      waypoints: filteredWaypoints,\n      segmentOffset: segmentOffset\n    };\n  }\n\n  eventBus.on('connectionSegment.move.start', function(event) {\n\n    var context = event.context,\n        connection = event.connection,\n        layer = canvas.getLayer('overlays');\n\n    context.originalWaypoints = connection.waypoints.slice();\n\n    // add dragger gfx\n    context.draggerGfx = addSegmentDragger(layer, context.segmentStart, context.segmentEnd);\n    svgClasses(context.draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('connectionSegment.move.move', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEndIndex = context.segmentEndIndex,\n        segmentStart = context.segmentStart,\n        segmentEnd = context.segmentEnd,\n        axis = context.axis;\n\n    var newWaypoints = context.originalWaypoints.slice(),\n        newSegmentStart = axisAdd(segmentStart, axis, event['d' + axis]),\n        newSegmentEnd = axisAdd(segmentEnd, axis, event['d' + axis]);\n\n    // original waypoint count and added / removed\n    // from start waypoint delta. We use the later\n    // to retrieve the updated segmentStartIndex / segmentEndIndex\n    var waypointCount = newWaypoints.length,\n        segmentOffset = 0;\n\n    // move segment start / end by axis delta\n    newWaypoints[segmentStartIndex] = newSegmentStart;\n    newWaypoints[segmentEndIndex] = newSegmentEnd;\n\n    var sourceToSegmentOrientation,\n        targetToSegmentOrientation;\n\n    // handle first segment\n    if (segmentStartIndex < 2) {\n      sourceToSegmentOrientation = getOrientation(connection.source, newSegmentStart);\n\n      // first bendpoint, remove first segment if intersecting\n      if (segmentStartIndex === 1) {\n\n        if (sourceToSegmentOrientation === 'intersect') {\n          newWaypoints.shift();\n          newWaypoints[0] = newSegmentStart;\n          segmentOffset--;\n        }\n      }\n\n      // docking point, add segment if not intersecting anymore\n      else {\n        if (sourceToSegmentOrientation !== 'intersect') {\n          newWaypoints.unshift(segmentStart);\n          segmentOffset++;\n        }\n      }\n    }\n\n    // handle last segment\n    if (segmentEndIndex > waypointCount - 3) {\n      targetToSegmentOrientation = getOrientation(connection.target, newSegmentEnd);\n\n      // last bendpoint, remove last segment if intersecting\n      if (segmentEndIndex === waypointCount - 2) {\n\n        if (targetToSegmentOrientation === 'intersect') {\n          newWaypoints.pop();\n          newWaypoints[newWaypoints.length - 1] = newSegmentEnd;\n        }\n      }\n\n      // last bendpoint, remove last segment if intersecting\n      else {\n        if (targetToSegmentOrientation !== 'intersect') {\n          newWaypoints.push(segmentEnd);\n        }\n      }\n    }\n\n    // update connection waypoints\n    context.newWaypoints = connection.waypoints = cropConnection(connection, newWaypoints);\n\n    // update dragger position\n    updateDragger(context, segmentOffset, event);\n\n    // save segmentOffset in context\n    context.newSegmentStartIndex = segmentStartIndex + segmentOffset;\n\n    // redraw connection\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.hover', function(event) {\n\n    event.context.hover = event.hover;\n    canvas.addMarker(event.hover, MARKER_CONNECT_HOVER);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.out',\n    'connectionSegment.move.cleanup'\n  ], function(event) {\n\n    // remove connect marker\n    // if it was added\n    var hover = event.context.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n    }\n  });\n\n  eventBus.on('connectionSegment.move.cleanup', function(event) {\n\n    var context = event.context,\n        connection = context.connection;\n\n    // remove dragger gfx\n    if (context.draggerGfx) {\n      svgRemove(context.draggerGfx);\n    }\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.cancel',\n    'connectionSegment.move.end'\n  ], function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    connection.waypoints = context.originalWaypoints;\n\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.end', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        newWaypoints = context.newWaypoints,\n        newSegmentStartIndex = context.newSegmentStartIndex;\n\n    // ensure we have actual pixel values bendpoint\n    // coordinates (important when zoom level was > 1 during move)\n    newWaypoints = newWaypoints.map(function(p) {\n      return {\n        original: p.original,\n        x: Math.round(p.x),\n        y: Math.round(p.y)\n      };\n    });\n\n    // apply filter redunant waypoints\n    var filtered = filterRedundantWaypoints(newWaypoints, newSegmentStartIndex);\n\n    // get filtered waypoints\n    var filteredWaypoints = filtered.waypoints,\n        croppedWaypoints = cropConnection(connection, filteredWaypoints),\n        segmentOffset = filtered.segmentOffset;\n\n    var hints = {\n      segmentMove: {\n        segmentStartIndex: context.segmentStartIndex,\n        newSegmentStartIndex: newSegmentStartIndex + segmentOffset\n      }\n    };\n\n    modeling.updateWaypoints(connection, croppedWaypoints, hints);\n  });\n}\n\nConnectionSegmentMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'graphicsFactory',\n  'modeling'\n];\n","var abs = Math.abs,\n    round = Math.round;\n\n\n/**\n * Snap value to a collection of reference values.\n *\n * @param  {number} value\n * @param  {Array<number>} values\n * @param  {number} [tolerance=10]\n *\n * @return {number} the value we snapped to or null, if none snapped\n */\nexport function snapTo(value, values, tolerance) {\n  tolerance = tolerance === undefined ? 10 : tolerance;\n\n  var idx, snapValue;\n\n  for (idx = 0; idx < values.length; idx++) {\n    snapValue = values[idx];\n\n    if (abs(snapValue - value) <= tolerance) {\n      return snapValue;\n    }\n  }\n}\n\n\nexport function topLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y\n  };\n}\n\nexport function topRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y\n  };\n}\n\nexport function bottomLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function bottomRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function mid(bounds, defaultValue) {\n\n  if (!bounds || isNaN(bounds.x) || isNaN(bounds.y)) {\n    return defaultValue;\n  }\n\n  return {\n    x: round(bounds.x + bounds.width / 2),\n    y: round(bounds.y + bounds.height / 2)\n  };\n}\n\n\n/**\n * Retrieve the snap state of the given event.\n *\n * @param  {Event} event\n * @param  {string} axis\n *\n * @return {boolean} the snapped state\n *\n */\nexport function isSnapped(event, axis) {\n  var snapped = event.snapped;\n\n  if (!snapped) {\n    return false;\n  }\n\n  if (typeof axis === 'string') {\n    return snapped[axis];\n  }\n\n  return snapped.x && snapped.y;\n}\n\n\n/**\n * Set the given event as snapped.\n *\n * This method may change the x and/or y position of the shape\n * from the given event!\n *\n * @param {Event} event\n * @param {string} axis\n * @param {number|boolean} value\n *\n * @return {number} old value\n */\nexport function setSnapped(event, axis, value) {\n  if (typeof axis !== 'string') {\n    throw new Error('axis must be in [x, y]');\n  }\n\n  if (typeof value !== 'number' && value !== false) {\n    throw new Error('value must be Number or false');\n  }\n\n  var delta,\n      previousValue = event[axis];\n\n  var snapped = event.snapped = (event.snapped || {});\n\n\n  if (value === false) {\n    snapped[axis] = false;\n  } else {\n    snapped[axis] = true;\n\n    delta = value - previousValue;\n\n    event[axis] += delta;\n    event['d' + axis] += delta;\n  }\n\n  return previousValue;\n}\n\n/**\n * Get children of a shape.\n *\n * @param {djs.model.Shape} parent\n *\n * @returns {Array<djs.model.Shape|djs.model.Connection>}\n */\nexport function getChildren(parent) {\n  return parent.children || [];\n}","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport { setSnapped } from '../snapping/SnapUtil';\n\nvar abs= Math.abs,\n    round = Math.round;\n\nvar TOLERANCE = 10;\n\n\nexport default function BendpointSnapping(eventBus) {\n\n  function snapTo(values, value) {\n\n    if (isArray(values)) {\n      var i = values.length;\n\n      while (i--) if (abs(values[i] - value) <= TOLERANCE) {\n        return values[i];\n      }\n    } else {\n      values = +values;\n      var rem = value % values;\n\n      if (rem < TOLERANCE) {\n        return value - rem;\n      }\n\n      if (rem > values - TOLERANCE) {\n        return value - rem + values;\n      }\n    }\n\n    return value;\n  }\n\n  function mid(element) {\n    if (element.width) {\n      return {\n        x: round(element.width / 2 + element.x),\n        y: round(element.height / 2 + element.y)\n      };\n    }\n  }\n\n  // connection segment snapping //////////////////////\n\n  function getConnectionSegmentSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        connection = context.connection,\n        waypoints = connection.waypoints,\n        segmentStart = context.segmentStart,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEnd = context.segmentEnd,\n        segmentEndIndex = context.segmentEndIndex,\n        axis = context.axis;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [\n      waypoints[segmentStartIndex - 1],\n      segmentStart,\n      segmentEnd,\n      waypoints[segmentEndIndex + 1]\n    ];\n\n    if (segmentStartIndex < 2) {\n      referenceWaypoints.unshift(mid(connection.source));\n    }\n\n    if (segmentEndIndex > waypoints.length - 3) {\n      referenceWaypoints.unshift(mid(connection.target));\n    }\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        if (axis === 'y') {\n          snapPoints.horizontal.push(p.y);\n        }\n\n        if (axis === 'x') {\n          snapPoints.vertical.push(p.x);\n        }\n      }\n    });\n\n    return snapPoints;\n  }\n\n  eventBus.on('connectionSegment.move.move', 1500, function(event) {\n    var context = event.context,\n        snapPoints = getConnectionSegmentSnaps(context),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap\n    sx = snapTo(snapPoints.vertical, x);\n    sy = snapTo(snapPoints.horizontal, y);\n\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: sx,\n      y: sy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n\n\n  // bendpoint snapping //////////////////////\n\n  function getBendpointSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        waypoints = context.connection.waypoints,\n        bendpointIndex = context.bendpointIndex;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [ waypoints[bendpointIndex - 1], waypoints[bendpointIndex + 1] ];\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        snapPoints.horizontal.push(p.y);\n        snapPoints.vertical.push(p.x);\n      }\n    });\n\n    return snapPoints;\n  }\n\n\n  eventBus.on([ 'bendpoint.move.move', 'bendpoint.move.end' ], 1500, function(event) {\n\n    var context = event.context,\n        snapPoints = getBendpointSnaps(context),\n        hover = context.hover,\n        hoverMid = hover && mid(hover),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap to hover mid\n    sx = snapTo(hoverMid ? snapPoints.vertical.concat([ hoverMid.x ]) : snapPoints.vertical, x);\n    sy = snapTo(hoverMid ? snapPoints.horizontal.concat([ hoverMid.y ]) : snapPoints.horizontal, y);\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: event.x - cx,\n      y: event.y - cy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n}\n\n\nBendpointSnapping.$inject = [ 'eventBus' ];","import DraggingModule from '../dragging';\nimport RulesModule from '../rules';\n\nimport Bendpoints from './Bendpoints';\nimport BendpointMove from './BendpointMove';\nimport BendpointMovePreview from './BendpointMovePreview';\nimport ConnectionSegmentMove from './ConnectionSegmentMove';\nimport BendpointSnapping from './BendpointSnapping';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n    RulesModule\n  ],\n  __init__: [ 'bendpoints', 'bendpointSnapping', 'bendpointMovePreview' ],\n  bendpoints: [ 'type', Bendpoints ],\n  bendpointMove: [ 'type', BendpointMove ],\n  bendpointMovePreview: [ 'type', BendpointMovePreview ],\n  connectionSegmentMove: [ 'type', ConnectionSegmentMove ],\n  bendpointSnapping: [ 'type', BendpointSnapping ]\n};\n","import {\n  assign,\n  isFunction,\n  isArray,\n  forEach,\n  isDefined\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  event as domEvent,\n  attr as domAttr,\n  query as domQuery,\n  classes as domClasses,\n  domify as domify\n} from 'min-dom';\n\nvar entrySelector = '.entry';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A context pad that displays element specific, contextual actions next\n * to a diagram element.\n *\n * @param {Object} config\n * @param {boolean|Object} [config.scale={ min: 1.0, max: 1.5 }]\n * @param {number} [config.scale.min]\n * @param {number} [config.scale.max]\n * @param {EventBus} eventBus\n * @param {Overlays} overlays\n */\nexport default function ContextPad(config, eventBus, overlays) {\n\n  this._eventBus = eventBus;\n  this._overlays = overlays;\n\n  var scale = isDefined(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1.5\n  };\n\n  this._overlaysConfig = {\n    position: {\n      right: -9,\n      top: -6\n    },\n    scale: scale\n  };\n\n  this._current = null;\n\n  this._init();\n}\n\nContextPad.$inject = [\n  'config.contextPad',\n  'eventBus',\n  'overlays'\n];\n\n\n/**\n * Registers events needed for interaction with other components\n */\nContextPad.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n  eventBus.on('selection.changed', function(e) {\n\n    var selection = e.newSelection;\n\n    if (selection.length === 1) {\n      self.open(selection[0]);\n    } else {\n      self.close();\n    }\n  });\n\n  eventBus.on('elements.delete', function(event) {\n    var elements = event.elements;\n\n    forEach(elements, function(e) {\n      if (self.isOpen(e)) {\n        self.close();\n      }\n    });\n  });\n\n  eventBus.on('element.changed', function(event) {\n    var element = event.element,\n        current = self._current;\n\n    // force reopen if element for which we are currently opened changed\n    if (current && current.element === element) {\n      self.open(element, true);\n    }\n  });\n};\n\n\n/**\n * Register a provider with the context pad\n *\n * @param  {number} [priority=1000]\n * @param  {ContextPadProvider} provider\n *\n * @example\n * const contextPadProvider = {\n  *   getContextPadEntries: function(element) {\n  *     return function(entries) {\n  *       return {\n  *         ...entries,\n  *         'entry-1': {\n  *           label: 'My Entry',\n  *           action: function() { alert(\"I have been clicked!\"); }\n  *         }\n  *       };\n  *     }\n  *   }\n  * };\n  *\n * contextPad.registerProvider(800, contextPadProvider);\n */\nContextPad.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('contextPad.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n\n/**\n * Returns the context pad entries for a given element\n *\n * @param {djs.element.Base} element\n *\n * @return {Array<ContextPadEntryDescriptor>} list of entries\n */\nContextPad.prototype.getEntries = function(element) {\n  var providers = this._getProviders();\n\n  var entries = {};\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  forEach(providers, function(provider) {\n    var entriesOrUpdater = provider.getContextPadEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\n\n/**\n * Trigger an action available on the opened context pad\n *\n * @param  {string} action\n * @param  {Event} event\n * @param  {boolean} [autoActivate=false]\n */\nContextPad.prototype.trigger = function(action, event, autoActivate) {\n\n  var element = this._current.element,\n      entries = this._current.entries,\n      entry,\n      handler,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = entries[domAttr(button, 'data-action')];\n  handler = entry.action;\n\n  originalEvent = event.originalEvent || event;\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      return handler(originalEvent, element, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](originalEvent, element, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n\n/**\n * Open the context pad for the given element\n *\n * @param {djs.model.Base} element\n * @param {boolean} force if true, force reopening the context pad\n */\nContextPad.prototype.open = function(element, force) {\n  if (!force && this.isOpen(element)) {\n    return;\n  }\n\n  this.close();\n  this._updateAndOpen(element);\n};\n\nContextPad.prototype._getProviders = function() {\n\n  var event = this._eventBus.createEvent({\n    type: 'contextPad.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\nContextPad.prototype._updateAndOpen = function(element) {\n\n  var entries = this.getEntries(element),\n      pad = this.getPad(element),\n      html = pad.html;\n\n  forEach(entries, function(entry, id) {\n    var grouping = entry.group || 'default',\n        control = domify(entry.html || '<div class=\"entry\" draggable=\"true\"></div>'),\n        container;\n\n    domAttr(control, 'data-action', id);\n\n    container = domQuery('[data-group=' + grouping + ']', html);\n    if (!container) {\n      container = domify('<div class=\"group\" data-group=\"' + grouping + '\"></div>');\n      html.appendChild(container);\n    }\n\n    container.appendChild(control);\n\n    if (entry.className) {\n      addClasses(control, entry.className);\n    }\n\n    if (entry.title) {\n      domAttr(control, 'title', entry.title);\n    }\n\n    if (entry.imageUrl) {\n      control.appendChild(domify('<img src=\"' + entry.imageUrl + '\">'));\n    }\n  });\n\n  domClasses(html).add('open');\n\n  this._current = {\n    element: element,\n    pad: pad,\n    entries: entries\n  };\n\n  this._eventBus.fire('contextPad.open', { current: this._current });\n};\n\n\nContextPad.prototype.getPad = function(element) {\n  if (this.isOpen()) {\n    return this._current.pad;\n  }\n\n  var self = this;\n\n  var overlays = this._overlays;\n\n  var html = domify('<div class=\"djs-context-pad\"></div>');\n\n  var overlaysConfig = assign({\n    html: html\n  }, this._overlaysConfig);\n\n  domDelegate.bind(html, entrySelector, 'click', function(event) {\n    self.trigger('click', event);\n  });\n\n  domDelegate.bind(html, entrySelector, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  // stop propagation of mouse events\n  domEvent.bind(html, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  this._overlayId = overlays.add(element, 'context-pad', overlaysConfig);\n\n  var pad = overlays.get(this._overlayId);\n\n  this._eventBus.fire('contextPad.create', { element: element, pad: pad });\n\n  return pad;\n};\n\n\n/**\n * Close the context pad\n */\nContextPad.prototype.close = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  this._overlays.remove(this._overlayId);\n\n  this._overlayId = null;\n\n  this._eventBus.fire('contextPad.close', { current: this._current });\n\n  this._current = null;\n};\n\n/**\n * Check if pad is open. If element is given, will check\n * if pad is opened with given element.\n *\n * @param {Element} element\n * @return {boolean}\n */\nContextPad.prototype.isOpen = function(element) {\n  return !!this._current && (!element ? true : this._current.element === element);\n};\n\n\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = domClasses(element);\n\n  var actualClassNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}","import InteractionEventsModule from '../interaction-events';\nimport OverlaysModule from '../overlays';\n\nimport ContextPad from './ContextPad';\n\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    OverlaysModule\n  ],\n  contextPad: [ 'type', ContextPad ]\n};","import {\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  isNil,\n  isObject\n} from 'min-dash';\n\n\nexport default function Connect(eventBus, dragging, modeling, rules) {\n\n  // rules\n\n  function canConnect(source, target) {\n    return rules.allowed('connection.create', {\n      source: source,\n      target: target\n    });\n  }\n\n  function canConnectReverse(source, target) {\n    return canConnect(target, source);\n  }\n\n\n  // event handlers\n\n  eventBus.on('connect.hover', function(event) {\n    var context = event.context,\n        start = context.start,\n        hover = event.hover,\n        canExecute;\n\n    // cache hover state\n    context.hover = hover;\n\n    canExecute = context.canExecute = canConnect(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = start;\n      context.target = hover;\n\n      return;\n    }\n\n    canExecute = context.canExecute = canConnectReverse(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = hover;\n      context.target = start;\n    }\n  });\n\n  eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.canExecute = false;\n  });\n\n  eventBus.on('connect.end', function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        connectionStart = context.connectionStart,\n        connectionEnd = {\n          x: event.x,\n          y: event.y\n        },\n        source = context.source,\n        target = context.target;\n\n    if (!canExecute) {\n      return false;\n    }\n\n    var attrs = null,\n        hints = {\n          connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n          connectionEnd: isReverse(context) ? connectionStart : connectionEnd\n        };\n\n    if (isObject(canExecute)) {\n      attrs = canExecute;\n    }\n\n    modeling.connect(source, target, attrs, hints);\n  });\n\n\n  // API\n\n  /**\n   * Start connect operation.\n   *\n   * @param {DOMEvent} event\n   * @param {djs.model.Base} start\n   * @param {Point} [connectionStart]\n   * @param {boolean} [autoActivate=false]\n   */\n  this.start = function(event, start, connectionStart, autoActivate) {\n    if (!isObject(connectionStart)) {\n      autoActivate = connectionStart;\n      connectionStart = getMid(start);\n    }\n\n    dragging.init(event, 'connect', {\n      autoActivate: autoActivate,\n      data: {\n        shape: start,\n        context: {\n          start: start,\n          connectionStart: connectionStart\n        }\n      }\n    });\n  };\n}\n\nConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'rules'\n];\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target;\n\n  return hover && source && hover === source && source !== target;\n}","import { isReverse } from './Connect';\n\nvar HIGH_PRIORITY = 1100,\n    LOW_PRIORITY = 900;\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\n/**\n * Shows connection preview during connect.\n *\n * @param {didi.Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ConnectPreview(injector, eventBus, canvas) {\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  connectionPreview && eventBus.on('connect.move', function(event) {\n    var context = event.context,\n        canConnect = context.canExecute,\n        hover = context.hover,\n        source = context.source,\n        start = context.start,\n        startPosition = context.startPosition,\n        target = context.target,\n        connectionStart = context.connectionStart || startPosition,\n        connectionEnd = context.connectionEnd || {\n          x: event.x,\n          y: event.y\n        },\n        previewStart = connectionStart,\n        previewEnd = connectionEnd;\n\n    if (isReverse(context)) {\n      previewStart = connectionEnd;\n      previewEnd = connectionStart;\n    }\n\n    connectionPreview.drawPreview(context, canConnect, {\n      source: source || start,\n      target: target || hover,\n      connectionStart: previewStart,\n      connectionEnd: previewEnd\n    });\n  });\n\n  eventBus.on('connect.hover', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        hover = event.hover,\n        canExecute = context.canExecute;\n\n    // ignore hover\n    if (canExecute === null) {\n      return;\n    }\n\n    canvas.addMarker(hover, canExecute ? MARKER_OK : MARKER_NOT_OK);\n  });\n\n  eventBus.on([\n    'connect.out',\n    'connect.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, MARKER_NOT_OK);\n    }\n  });\n\n  connectionPreview && eventBus.on('connect.cleanup', function(event) {\n    connectionPreview.cleanUp(event.context);\n  });\n}\n\nConnectPreview.$inject = [\n  'injector',\n  'eventBus',\n  'canvas'\n];\n","import SelectionModule from '../selection';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\n\nimport Connect from './Connect';\nimport ConnectPreview from './ConnectPreview';\n\nexport default {\n  __depends__: [\n    SelectionModule,\n    RulesModule,\n    DraggingModule\n  ],\n  __init__: [\n    'connectPreview'\n  ],\n  connect: [ 'type', Connect ],\n  connectPreview: [ 'type', ConnectPreview ]\n};\n","import {\r\n  forEach\r\n} from 'min-dash';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  classes as svgClasses,\r\n  clone as svgClone,\r\n  create as svgCreate,\r\n  remove as svgRemove\r\n} from 'tiny-svg';\r\n\r\nimport { query as domQuery } from 'min-dom';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nvar MARKER_TYPES = [\r\n  'marker-start',\r\n  'marker-mid',\r\n  'marker-end'\r\n];\r\n\r\nvar NODES_CAN_HAVE_MARKER = [\r\n  'circle',\r\n  'ellipse',\r\n  'line',\r\n  'path',\r\n  'polygon',\r\n  'polyline',\r\n  'rect'\r\n];\r\n\r\n\r\n/**\r\n * Adds support for previews of moving/resizing elements.\r\n */\r\nexport default function PreviewSupport(elementRegistry, eventBus, canvas, styles) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._canvas = canvas;\r\n  this._styles = styles;\r\n\r\n  this._clonedMarkers = {};\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('drag.cleanup', function() {\r\n    forEach(self._clonedMarkers, function(clonedMarker) {\r\n      svgRemove(clonedMarker);\r\n    });\r\n\r\n    self._clonedMarkers = {};\r\n  });\r\n}\r\n\r\nPreviewSupport.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'canvas',\r\n  'styles'\r\n];\r\n\r\n\r\n/**\r\n * Returns graphics of an element.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {SVGElement}\r\n */\r\nPreviewSupport.prototype.getGfx = function(element) {\r\n  return this._elementRegistry.getGraphics(element);\r\n};\r\n\r\n/**\r\n * Adds a move preview of a given shape to a given svg group.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {SVGElement} group\r\n * @param {SVGElement} [gfx]\r\n *\r\n * @return {SVGElement} dragger\r\n */\r\nPreviewSupport.prototype.addDragger = function(element, group, gfx) {\r\n  gfx = gfx || this.getGfx(element);\r\n\r\n  var dragger = svgClone(gfx);\r\n  var bbox = gfx.getBoundingClientRect();\r\n\r\n  this._cloneMarkers(getVisual(dragger));\r\n\r\n  svgAttr(dragger, this._styles.cls('djs-dragger', [], {\r\n    x: bbox.top,\r\n    y: bbox.left\r\n  }));\r\n\r\n  svgAppend(group, dragger);\r\n\r\n  return dragger;\r\n};\r\n\r\n/**\r\n * Adds a resize preview of a given shape to a given svg group.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {SVGElement} group\r\n *\r\n * @return {SVGElement} frame\r\n */\r\nPreviewSupport.prototype.addFrame = function(shape, group) {\r\n\r\n  var frame = svgCreate('rect', {\r\n    class: 'djs-resize-overlay',\r\n    width:  shape.width,\r\n    height: shape.height,\r\n    x: shape.x,\r\n    y: shape.y\r\n  });\r\n\r\n  svgAppend(group, frame);\r\n\r\n  return frame;\r\n};\r\n\r\n/**\r\n * Clone all markers referenced by a node and its child nodes.\r\n *\r\n * @param {SVGElement} gfx\r\n */\r\nPreviewSupport.prototype._cloneMarkers = function(gfx) {\r\n  var self = this;\r\n\r\n  if (gfx.childNodes) {\r\n\r\n    // TODO: use forEach once we drop PhantomJS\r\n    for (var i = 0; i < gfx.childNodes.length; i++) {\r\n\r\n      // recursively clone markers of child nodes\r\n      self._cloneMarkers(gfx.childNodes[ i ]);\r\n    }\r\n  }\r\n\r\n  if (!canHaveMarker(gfx)) {\r\n    return;\r\n  }\r\n\r\n  MARKER_TYPES.forEach(function(markerType) {\r\n    if (svgAttr(gfx, markerType)) {\r\n      var marker = getMarker(gfx, markerType, self._canvas.getContainer());\r\n\r\n      self._cloneMarker(gfx, marker, markerType);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Clone marker referenced by an element.\r\n *\r\n * @param {SVGElement} gfx\r\n * @param {SVGElement} marker\r\n * @param {string} markerType\r\n */\r\nPreviewSupport.prototype._cloneMarker = function(gfx, marker, markerType) {\r\n  var markerId = marker.id;\r\n\r\n  var clonedMarker = this._clonedMarkers[ markerId ];\r\n\r\n  if (!clonedMarker) {\r\n    clonedMarker = svgClone(marker);\r\n\r\n    var clonedMarkerId = markerId + '-clone';\r\n\r\n    clonedMarker.id = clonedMarkerId;\r\n\r\n    svgClasses(clonedMarker)\r\n      .add('djs-dragger')\r\n      .add('djs-dragger-marker');\r\n\r\n    this._clonedMarkers[ markerId ] = clonedMarker;\r\n\r\n    var defs = domQuery('defs', this._canvas._svg);\r\n\r\n    if (!defs) {\r\n      defs = svgCreate('defs');\r\n\r\n      svgAppend(this._canvas._svg, defs);\r\n    }\r\n\r\n    svgAppend(defs, clonedMarker);\r\n  }\r\n\r\n  var reference = idToReference(this._clonedMarkers[ markerId ].id);\r\n\r\n  svgAttr(gfx, markerType, reference);\r\n};\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get marker of given type referenced by node.\r\n *\r\n * @param {Node} node\r\n * @param {string} markerType\r\n * @param {Node} [parentNode]\r\n *\r\n * @param {Node}\r\n */\r\nfunction getMarker(node, markerType, parentNode) {\r\n  var id = referenceToId(svgAttr(node, markerType));\r\n\r\n  return domQuery('marker#' + id, parentNode || document);\r\n}\r\n\r\n/**\r\n * Get ID of fragment within current document from its functional IRI reference.\r\n * References may use single or double quotes.\r\n *\r\n * @param {string} reference\r\n *\r\n * @returns {string}\r\n */\r\nfunction referenceToId(reference) {\r\n  return reference.match(/url\\(['\"]?#([^'\"]*)['\"]?\\)/)[1];\r\n}\r\n\r\n/**\r\n * Get functional IRI reference for given ID of fragment within current document.\r\n *\r\n * @param {string} id\r\n *\r\n * @returns {string}\r\n */\r\nfunction idToReference(id) {\r\n  return 'url(#' + id + ')';\r\n}\r\n\r\n/**\r\n * Check wether node type can have marker attributes.\r\n *\r\n * @param {Node} node\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction canHaveMarker(node) {\r\n  return NODES_CAN_HAVE_MARKER.indexOf(node.nodeName) !== -1;\r\n}","import PreviewSupport from './PreviewSupport';\n\nexport default {\n  __init__: [ 'previewSupport' ],\n  previewSupport: [ 'type', PreviewSupport ]\n};\n","var MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_ATTACH = 'attach-ok',\n    MARKER_NEW_PARENT = 'new-parent';\n\nimport {\n  assign,\n  filter,\n  find,\n  forEach,\n  isArray,\n  isNumber,\n  map\n} from 'min-dash';\n\nimport { getBBox } from '../../util/Elements';\n\nvar PREFIX = 'create';\n\nvar HIGH_PRIORITY = 2000;\n\n\n/**\n * Create new elements through drag and drop.\n *\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function Create(\n    canvas,\n    dragging,\n    eventBus,\n    modeling,\n    rules\n) {\n\n  // rules //////////\n\n  /**\n   * Check wether elements can be created.\n   *\n   * @param {Array<djs.model.Base>} elements\n   * @param {djs.model.Base} target\n   * @param {Point} position\n   * @param {djs.model.Base} [source]\n   *\n   * @returns {boolean|null|Object}\n   */\n  function canCreate(elements, target, position, source, hints) {\n    if (!target) {\n      return false;\n    }\n\n    // ignore child elements and external labels\n    elements = filter(elements, function(element) {\n      var labelTarget = element.labelTarget;\n\n      return !element.parent && !(isLabel(element) && elements.indexOf(labelTarget) !== -1);\n    });\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    var attach = false,\n        connect = false,\n        create = false;\n\n    // (1) attaching single shapes\n    if (isSingleShape(elements)) {\n      attach = rules.allowed('shape.attach', {\n        position: position,\n        shape: shape,\n        target: target\n      });\n    }\n\n    if (!attach) {\n\n      // (2) creating elements\n      if (isSingleShape(elements)) {\n        create = rules.allowed('shape.create', {\n          position: position,\n          shape: shape,\n          source: source,\n          target: target\n        });\n      } else {\n        create = rules.allowed('elements.create', {\n          elements: elements,\n          position: position,\n          target: target\n        });\n      }\n\n    }\n\n    var connectionTarget = hints.connectionTarget;\n\n    // (3) appending single shapes\n    if (create || attach) {\n      if (shape && source) {\n        connect = rules.allowed('connection.create', {\n          source: connectionTarget === source ? shape : source,\n          target: connectionTarget === source ? source : shape,\n          hints: {\n            targetParent: target,\n            targetAttach: attach\n          }\n        });\n      }\n\n      return {\n        attach: attach,\n        connect: connect\n      };\n    }\n\n    // ignore wether or not elements can be created\n    if (create === null || attach === null) {\n      return null;\n    }\n\n    return false;\n  }\n\n  function setMarker(element, marker) {\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  // event handling //////////\n\n  eventBus.on([ 'create.move', 'create.hover' ], function(event) {\n    var context = event.context,\n        elements = context.elements,\n        hover = event.hover,\n        source = context.source,\n        hints = context.hints || {};\n\n    if (!hover) {\n      context.canExecute = false;\n      context.target = null;\n\n      return;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    var canExecute = context.canExecute = hover && canCreate(elements, hover, position, source, hints);\n\n    if (hover && canExecute !== null) {\n      context.target = hover;\n\n      if (canExecute && canExecute.attach) {\n        setMarker(hover, MARKER_ATTACH);\n      } else {\n        setMarker(hover, canExecute ? MARKER_NEW_PARENT : MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([ 'create.end', 'create.out', 'create.cleanup' ], function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      setMarker(hover, null);\n    }\n  });\n\n  eventBus.on('create.end', function(event) {\n    var context = event.context,\n        source = context.source,\n        shape = context.shape,\n        elements = context.elements,\n        target = context.target,\n        canExecute = context.canExecute,\n        attach = canExecute && canExecute.attach,\n        connect = canExecute && canExecute.connect,\n        hints = context.hints || {};\n\n    if (canExecute === false || !target) {\n      return false;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    if (connect) {\n      shape = modeling.appendShape(source, shape, position, target, {\n        attach: attach,\n        connection: connect === true ? {} : connect,\n        connectionTarget: hints.connectionTarget\n      });\n    } else {\n      elements = modeling.createElements(elements, position, target, assign({}, hints, {\n        attach: attach\n      }));\n\n      // update shape\n      shape = find(elements, function(element) {\n        return !isConnection(element);\n      });\n    }\n\n    // update elements and shape\n    assign(context, {\n      elements: elements,\n      shape: shape\n    });\n\n    assign(event, {\n      elements: elements,\n      shape: shape\n    });\n  });\n\n  function cancel() {\n    var context = dragging.context();\n\n    if (context && context.prefix === PREFIX) {\n      dragging.cancel();\n    }\n  }\n\n  // cancel on <elements.changed> that is not result of <drag.end>\n  eventBus.on('create.init', function() {\n    eventBus.on('elements.changed', cancel);\n\n    eventBus.once([ 'create.cancel', 'create.end' ], HIGH_PRIORITY, function() {\n      eventBus.off('elements.changed', cancel);\n    });\n  });\n\n  // API //////////\n\n  this.start = function(event, elements, context) {\n    if (!isArray(elements)) {\n      elements = [ elements ];\n    }\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    if (!shape) {\n\n      // at least one shape is required\n      return;\n    }\n\n    context = assign({\n      elements: elements,\n      hints: {},\n      shape: shape\n    }, context || {});\n\n    // make sure each element has x and y\n    forEach(elements, function(element) {\n      if (!isNumber(element.x)) {\n        element.x = 0;\n      }\n\n      if (!isNumber(element.y)) {\n        element.y = 0;\n      }\n    });\n\n    var bbox = getBBox(elements);\n\n    // center elements around cursor\n    forEach(elements, function(element) {\n      if (isConnection(element)) {\n        element.waypoints = map(element.waypoints, function(waypoint) {\n          return {\n            x: waypoint.x - bbox.x - bbox.width / 2,\n            y: waypoint.y - bbox.y - bbox.height / 2\n          };\n        });\n      }\n\n      assign(element, {\n        x: element.x - bbox.x - bbox.width / 2,\n        y: element.y - bbox.y - bbox.height / 2\n      });\n    });\n\n    dragging.init(event, PREFIX, {\n      cursor: 'grabbing',\n      autoActivate: true,\n      data: {\n        shape: shape,\n        elements: elements,\n        context: context\n      }\n    });\n  };\n}\n\nCreate.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules'\n];\n\n// helpers //////////\n\nfunction ensureConstraints(event) {\n  var context = event.context,\n      createConstraints = context.createConstraints;\n\n  if (!createConstraints) {\n    return;\n  }\n\n  if (createConstraints.left) {\n    event.x = Math.max(event.x, createConstraints.left);\n  }\n\n  if (createConstraints.right) {\n    event.x = Math.min(event.x, createConstraints.right);\n  }\n\n  if (createConstraints.top) {\n    event.y = Math.max(event.y, createConstraints.top);\n  }\n\n  if (createConstraints.bottom) {\n    event.y = Math.min(event.y, createConstraints.bottom);\n  }\n}\n\nfunction isConnection(element) {\n  return !!element.waypoints;\n}\n\nfunction isSingleShape(elements) {\n  return elements && elements.length === 1 && !isConnection(elements[0]);\n}\n\nfunction isLabel(element) {\n  return !!element.labelTarget;\n}\n","import {\r\n  translate\r\n} from '../../util/SvgTransformUtil';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  create as svgCreate,\r\n  remove as svgRemove\r\n} from 'tiny-svg';\r\n\r\nvar LOW_PRIORITY = 750;\r\n\r\n\r\nexport default function CreatePreview(\r\n    canvas,\r\n    eventBus,\r\n    graphicsFactory,\r\n    previewSupport,\r\n    styles\r\n) {\r\n  function createDragGroup(elements) {\r\n    var dragGroup = svgCreate('g');\r\n\r\n    svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\r\n\r\n    var childrenGfx = svgCreate('g');\r\n\r\n    elements.forEach(function(element) {\r\n\r\n      // create graphics\r\n      var gfx;\r\n\r\n      if (element.hidden) {\r\n        return;\r\n      }\r\n\r\n      if (element.waypoints) {\r\n        gfx = graphicsFactory._createContainer('connection', childrenGfx);\r\n\r\n        graphicsFactory.drawConnection(getVisual(gfx), element);\r\n      } else {\r\n        gfx = graphicsFactory._createContainer('shape', childrenGfx);\r\n\r\n        graphicsFactory.drawShape(getVisual(gfx), element);\r\n\r\n        translate(gfx, element.x, element.y);\r\n      }\r\n\r\n      // add preview\r\n      previewSupport.addDragger(element, dragGroup, gfx);\r\n    });\r\n\r\n    return dragGroup;\r\n  }\r\n\r\n  eventBus.on('create.move', LOW_PRIORITY, function(event) {\r\n\r\n    var hover = event.hover,\r\n        context = event.context,\r\n        elements = context.elements,\r\n        dragGroup = context.dragGroup;\r\n\r\n    // lazily create previews\r\n    if (!dragGroup) {\r\n      dragGroup = context.dragGroup = createDragGroup(elements);\r\n    }\r\n\r\n    var activeLayer;\r\n\r\n    if (hover) {\r\n      if (!dragGroup.parentNode) {\r\n        activeLayer = canvas.getActiveLayer();\r\n\r\n        svgAppend(activeLayer, dragGroup);\r\n      }\r\n\r\n      translate(dragGroup, event.x, event.y);\r\n    } else {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n\r\n  eventBus.on('create.cleanup', function(event) {\r\n    var context = event.context,\r\n        dragGroup = context.dragGroup;\r\n\r\n    if (dragGroup) {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n}\r\n\r\nCreatePreview.$inject = [\r\n  'canvas',\r\n  'eventBus',\r\n  'graphicsFactory',\r\n  'previewSupport',\r\n  'styles'\r\n];\r\n","import DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\nimport RulesModule from '../rules';\nimport SelectionModule from '../selection';\n\nimport Create from './Create';\nimport CreatePreview from './CreatePreview';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n    PreviewSupportModule,\n    RulesModule,\n    SelectionModule\n  ],\n  __init__: [\n    'create',\n    'createPreview'\n  ],\n  create: [ 'type', Create ],\n  createPreview: [ 'type', CreatePreview ]\n};\n","import {\n  assign,\n  forEach,\n  isFunction,\n  isDefined,\n  omit,\n  size\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  domify as domify,\n  classes as domClasses,\n  attr as domAttr,\n  remove as domRemove\n} from 'min-dom';\n\nvar DATA_REF = 'data-id';\n\nvar CLOSE_EVENTS = [\n  'contextPad.close',\n  'canvas.viewbox.changing',\n  'commandStack.changed'\n];\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A popup menu that can be used to display a list of actions anywhere in the canvas.\n *\n * @param {Object} config\n * @param {boolean|Object} [config.scale={ min: 1.0, max: 1.5 }]\n * @param {number} [config.scale.min]\n * @param {number} [config.scale.max]\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n *\n * @class\n * @constructor\n */\nexport default function PopupMenu(config, eventBus, canvas) {\n\n  var scale = isDefined(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1.5\n  };\n\n  this._config = {\n    scale: scale\n  };\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._providers = {};\n  this._current = {};\n}\n\nPopupMenu.$inject = [\n  'config.popupMenu',\n  'eventBus',\n  'canvas'\n];\n\n/**\n * Registers a popup menu provider\n *\n * @param  {string} id\n * @param {number} [priority=1000]\n * @param  {Object} provider\n *\n * @example\n * const popupMenuProvider = {\n *   getPopupMenuEntries: function(element) {\n *     return {\n *       'entry-1': {\n *         label: 'My Entry',\n *         action: function() { alert(\"I have been clicked!\"); }\n *       }\n *     }\n *   }\n * };\n *\n * popupMenu.registerProvider('myMenuID', popupMenuProvider);\n */\nPopupMenu.prototype.registerProvider = function(id, priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('popupMenu.getProviders.' + id, priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Determine if the popup menu has entries.\n *\n * @return {boolean} true if empty\n */\nPopupMenu.prototype.isEmpty = function(element, providerId) {\n  if (!element) {\n    throw new Error('element parameter is missing');\n  }\n\n  if (!providerId) {\n    throw new Error('providerId parameter is missing');\n  }\n\n  var providers = this._getProviders(providerId);\n\n  if (!providers) {\n    return true;\n  }\n\n  var entries = this._getEntries(element, providers),\n      headerEntries = this._getHeaderEntries(element, providers);\n\n  var hasEntries = size(entries) > 0,\n      hasHeaderEntries = headerEntries && size(headerEntries) > 0;\n\n  return !hasEntries && !hasHeaderEntries;\n};\n\n\n/**\n * Create entries and open popup menu at given position\n *\n * @param  {Object} element\n * @param  {string} id provider id\n * @param  {Object} position\n *\n * @return {Object} popup menu instance\n */\nPopupMenu.prototype.open = function(element, id, position) {\n\n  var providers = this._getProviders(id);\n\n  if (!element) {\n    throw new Error('Element is missing');\n  }\n\n  if (!providers || !providers.length) {\n    throw new Error('No registered providers for: ' + id);\n  }\n\n  if (!position) {\n    throw new Error('the position argument is missing');\n  }\n\n  if (this.isOpen()) {\n    this.close();\n  }\n\n  this._emit('open');\n\n  var current = this._current = {\n    className: id,\n    element: element,\n    position: position\n  };\n\n  var entries = this._getEntries(element, providers),\n      headerEntries = this._getHeaderEntries(element, providers);\n\n  current.entries = assign({}, entries, headerEntries);\n\n  current.container = this._createContainer();\n\n  if (size(headerEntries)) {\n    current.container.appendChild(\n      this._createEntries(headerEntries, 'djs-popup-header')\n    );\n  }\n\n  if (size(entries)) {\n    current.container.appendChild(\n      this._createEntries(entries, 'djs-popup-body')\n    );\n  }\n\n  var canvas = this._canvas,\n      parent = canvas.getContainer();\n\n  this._attachContainer(current.container, parent, position.cursor);\n  this._bindAutoClose();\n};\n\n\n/**\n * Removes the popup menu and unbinds the event handlers.\n */\nPopupMenu.prototype.close = function() {\n\n  if (!this.isOpen()) {\n    return;\n  }\n\n  this._emit('close');\n\n  this._unbindAutoClose();\n  domRemove(this._current.container);\n  this._current.container = null;\n};\n\n\n/**\n * Determine if an open popup menu exist.\n *\n * @return {boolean} true if open\n */\nPopupMenu.prototype.isOpen = function() {\n  return !!this._current.container;\n};\n\n\n/**\n * Trigger an action associated with an entry.\n *\n * @param {Object} event\n *\n * @return the result of the action callback, if any\n */\nPopupMenu.prototype.trigger = function(event) {\n\n  // silence other actions\n  event.preventDefault();\n\n  var element = event.delegateTarget || event.target,\n      entryId = domAttr(element, DATA_REF);\n\n  var entry = this._getEntry(entryId);\n\n  if (entry.action) {\n    return entry.action.call(null, event, entry);\n  }\n};\n\nPopupMenu.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'popupMenu.getProviders.' + id,\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\nPopupMenu.prototype._getEntries = function(element, providers) {\n\n  var entries = {};\n\n  forEach(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuEntries) {\n      forEach(provider.getEntries(element), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('every entry must have the id property set');\n        }\n\n        entries[id] = omit(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\nPopupMenu.prototype._getHeaderEntries = function(element, providers) {\n\n  var entries = {};\n\n  forEach(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuHeaderEntries) {\n      if (!provider.getHeaderEntries) {\n        return;\n      }\n\n      forEach(provider.getHeaderEntries(element), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('every entry must have the id property set');\n        }\n\n        entries[id] = omit(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuHeaderEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n\n\n};\n\n/**\n * Gets an entry instance (either entry or headerEntry) by id.\n *\n * @param  {string} entryId\n *\n * @return {Object} entry instance\n */\nPopupMenu.prototype._getEntry = function(entryId) {\n\n  var entry = this._current.entries[entryId];\n\n  if (!entry) {\n    throw new Error('entry not found');\n  }\n\n  return entry;\n};\n\nPopupMenu.prototype._emit = function(eventName) {\n  this._eventBus.fire('popupMenu.' + eventName);\n};\n\n/**\n * Creates the popup menu container.\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createContainer = function() {\n  var container = domify('<div class=\"djs-popup\">'),\n      position = this._current.position,\n      className = this._current.className;\n\n  assign(container.style, {\n    position: 'absolute',\n    left: position.x + 'px',\n    top: position.y + 'px',\n    visibility: 'hidden'\n  });\n\n  domClasses(container).add(className);\n\n  return container;\n};\n\n\n/**\n * Attaches the container to the DOM.\n *\n * @param {Object} container\n * @param {Object} parent\n */\nPopupMenu.prototype._attachContainer = function(container, parent, cursor) {\n  var self = this;\n\n  // Event handler\n  domDelegate.bind(container, '.entry' ,'click', function(event) {\n    self.trigger(event);\n  });\n\n  this._updateScale(container);\n\n  // Attach to DOM\n  parent.appendChild(container);\n\n  if (cursor) {\n    this._assureIsInbounds(container, cursor);\n  }\n};\n\n\n/**\n * Updates popup style.transform with respect to the config and zoom level.\n *\n * @method _updateScale\n *\n * @param {Object} container\n */\nPopupMenu.prototype._updateScale = function(container) {\n  var zoom = this._canvas.zoom();\n\n  var scaleConfig = this._config.scale,\n      minScale,\n      maxScale,\n      scale = zoom;\n\n  if (scaleConfig !== true) {\n\n    if (scaleConfig === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = scaleConfig.min;\n      maxScale = scaleConfig.max;\n    }\n\n    if (isDefined(minScale) && zoom < minScale) {\n      scale = minScale;\n    }\n\n    if (isDefined(maxScale) && zoom > maxScale) {\n      scale = maxScale;\n    }\n\n  }\n\n  setTransform(container, 'scale(' + scale + ')');\n};\n\n\n/**\n * Make sure that the menu is always fully shown\n *\n * @method function\n *\n * @param  {Object} container\n * @param  {Position} cursor {x, y}\n */\nPopupMenu.prototype._assureIsInbounds = function(container, cursor) {\n  var canvas = this._canvas,\n      clientRect = canvas._container.getBoundingClientRect();\n\n  var containerX = container.offsetLeft,\n      containerY = container.offsetTop,\n      containerWidth = container.scrollWidth,\n      containerHeight = container.scrollHeight,\n      overAxis = {},\n      left, top;\n\n  var cursorPosition = {\n    x: cursor.x - clientRect.left,\n    y: cursor.y - clientRect.top\n  };\n\n  if (containerX + containerWidth > clientRect.width) {\n    overAxis.x = true;\n  }\n\n  if (containerY + containerHeight > clientRect.height) {\n    overAxis.y = true;\n  }\n\n  if (overAxis.x && overAxis.y) {\n    left = cursorPosition.x - containerWidth + 'px';\n    top = cursorPosition.y - containerHeight + 'px';\n  } else if (overAxis.x) {\n    left = cursorPosition.x - containerWidth + 'px';\n    top = cursorPosition.y + 'px';\n  } else if (overAxis.y && cursorPosition.y < containerHeight) {\n    left = cursorPosition.x + 'px';\n    top = 10 + 'px';\n  } else if (overAxis.y) {\n    left = cursorPosition.x + 'px';\n    top = cursorPosition.y - containerHeight + 'px';\n  }\n\n  assign(container.style, { left: left, top: top }, { visibility: 'visible', 'z-index': 1000 });\n};\n\n\n/**\n * Creates a list of entries and returns them as a DOM container.\n *\n * @param {Array<Object>} entries an array of entry objects\n * @param {string} className the class name of the entry container\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createEntries = function(entries, className) {\n\n  var entriesContainer = domify('<div>'),\n      self = this;\n\n  domClasses(entriesContainer).add(className);\n\n  forEach(entries, function(entry, id) {\n    var entryContainer = self._createEntry(entry, id);\n    entriesContainer.appendChild(entryContainer);\n  });\n\n  return entriesContainer;\n};\n\n\n/**\n * Creates a single entry and returns it as a DOM container.\n *\n * @param  {Object} entry\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createEntry = function(entry, id) {\n\n  var entryContainer = domify('<div>'),\n      entryClasses = domClasses(entryContainer);\n\n  entryClasses.add('entry');\n\n  if (entry.className) {\n    entry.className.split(' ').forEach(function(className) {\n      entryClasses.add(className);\n    });\n  }\n\n  domAttr(entryContainer, DATA_REF, id);\n\n  if (entry.label) {\n    var label = domify('<span>');\n    label.textContent = entry.label;\n    entryContainer.appendChild(label);\n  }\n\n  if (entry.imageUrl) {\n    entryContainer.appendChild(domify('<img src=\"' + entry.imageUrl + '\" />'));\n  }\n\n  if (entry.active === true) {\n    entryClasses.add('active');\n  }\n\n  if (entry.disabled === true) {\n    entryClasses.add('disabled');\n  }\n\n  if (entry.title) {\n    entryContainer.title = entry.title;\n  }\n\n  return entryContainer;\n};\n\n\n/**\n * Set up listener to close popup automatically on certain events.\n */\nPopupMenu.prototype._bindAutoClose = function() {\n  this._eventBus.once(CLOSE_EVENTS, this.close, this);\n};\n\n\n/**\n * Remove the auto-closing listener.\n */\nPopupMenu.prototype._unbindAutoClose = function() {\n  this._eventBus.off(CLOSE_EVENTS, this.close, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction setTransform(element, transform) {\n  element.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    element.style[prefix + 'transform'] = transform;\n  });\n}","import PopupMenu from './PopupMenu';\n\nexport default {\n  __init__: [ 'popupMenu' ],\n  popupMenu: [ 'type', PopupMenu ]\n};\n","import {\n  assign\n} from 'min-dash';\n\nvar round = Math.round;\n\n/**\n * Service that allow replacing of elements.\n */\nexport default function Replace(modeling) {\n\n  this._modeling = modeling;\n}\n\nReplace.$inject = [ 'modeling' ];\n\n/**\n * @param {Element} oldElement - Element to be replaced\n * @param {Object}  newElementData - Containing information about the new element,\n *                                   for example the new bounds and type.\n * @param {Object}  options - Custom options that will be attached to the context. It can be used to inject data\n *                            that is needed in the command chain. For example it could be used in\n *                            eventbus.on('commandStack.shape.replace.postExecute') to change shape attributes after\n *                            shape creation.\n */\nReplace.prototype.replaceElement = function(oldElement, newElementData, options) {\n\n  if (oldElement.waypoints) {\n\n    // TODO(nikku): we do not replace connections, yet\n    return null;\n  }\n\n  var modeling = this._modeling;\n\n  var width = newElementData.width || oldElement.width,\n      height = newElementData.height || oldElement.height,\n      x = newElementData.x || oldElement.x,\n      y = newElementData.y || oldElement.y,\n      centerX = round(x + width / 2),\n      centerY = round(y + height / 2);\n\n  // modeling API requires center coordinates,\n  // account for that when handling shape bounds\n\n  return modeling.replaceShape(\n    oldElement,\n    assign(\n      {},\n      newElementData,\n      {\n        x: centerX,\n        y: centerY,\n        width: width,\n        height: height\n      }\n    ),\n    options\n  );\n};\n","import Replace from './Replace';\n\nexport default {\n  __init__: [ 'replace' ],\n  replace: [ 'type', Replace ]\n};","/**\n * This module takes care of replacing DRD elements\n */\nexport default function DrdReplace(drdFactory, replace, selection, modeling) {\n  /**\n   * Prepares a new business object for the replacement element\n   * and triggers the replace operation.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {Object} target\n   * @param  {Object} [hints]\n   *\n   * @return {djs.model.Base} the newly created element\n   */\n  function replaceElement(element, target, hints) {\n    hints = hints || {};\n    var type = target.type,\n        oldBusinessObject = element.businessObject;\n    var newBusinessObject = drdFactory.create(type);\n    var newElement = {\n      type: type,\n      businessObject: newBusinessObject\n    };\n    newElement.width = element.width;\n    newElement.height = element.height;\n    newBusinessObject.name = oldBusinessObject.name;\n\n    if (target.table) {\n      var table = drdFactory.create('dmn:DecisionTable');\n      newBusinessObject.decisionLogic = table;\n      table.$parent = newBusinessObject;\n      var output = drdFactory.create('dmn:OutputClause');\n      output.typeRef = 'string';\n      output.$parent = table;\n      table.output = [output];\n      var input = drdFactory.create('dmn:InputClause');\n      input.$parent = table;\n      var inputExpression = drdFactory.create('dmn:LiteralExpression', {\n        typeRef: 'string'\n      });\n      input.inputExpression = inputExpression;\n      inputExpression.$parent = input;\n      table.input = [input];\n    }\n\n    if (target.expression) {\n      newBusinessObject.decisionLogic = drdFactory.create('dmn:LiteralExpression');\n      newBusinessObject.variable = drdFactory.create('dmn:InformationItem');\n    }\n\n    return replace.replaceElement(element, newElement, hints);\n  }\n\n  this.replaceElement = replaceElement;\n}\nDrdReplace.$inject = ['drdFactory', 'replace', 'selection', 'modeling'];\n//# sourceMappingURL=DrdReplace.js.map","import DiagramReplace from 'diagram-js/lib/features/replace';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\nimport DrdReplace from './DrdReplace';\nexport default {\n  __depends__: [DiagramReplace, DiagramSelection],\n  drdReplace: ['type', DrdReplace]\n};\n//# sourceMappingURL=index.js.map","export default {\n  DECISION: [{\n    label: 'Empty',\n    actionName: 'replace-with-empty-decision',\n    className: 'dmn-icon-clear',\n    target: {\n      type: 'dmn:Decision',\n      table: false,\n      expression: false\n    }\n  }, {\n    label: 'Decision Table',\n    actionName: 'replace-with-decision-table',\n    className: 'dmn-icon-decision-table',\n    target: {\n      type: 'dmn:Decision',\n      table: true,\n      expression: false\n    }\n  }, {\n    label: 'Literal Expression',\n    actionName: 'replace-with-literal-expression',\n    className: 'dmn-icon-literal-expression',\n    target: {\n      type: 'dmn:Decision',\n      table: false,\n      expression: true\n    }\n  }]\n};\n//# sourceMappingURL=ReplaceOptions.js.map","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { forEach, filter } from 'min-dash';\nimport replaceOptions from '../replace/ReplaceOptions';\n/**\n * This module is an element agnostic replace menu provider for the popup menu.\n */\n\nexport default function ReplaceMenuProvider(popupMenu, modeling, moddle, drdReplace, rules, translate) {\n  this._popupMenu = popupMenu;\n  this._modeling = modeling;\n  this._moddle = moddle;\n  this._drdReplace = drdReplace;\n  this._rules = rules;\n  this._translate = translate;\n  this.register();\n}\nReplaceMenuProvider.$inject = ['popupMenu', 'modeling', 'moddle', 'drdReplace', 'rules', 'translate'];\n/**\n * Register replace menu provider in the popup menu\n */\n\nReplaceMenuProvider.prototype.register = function () {\n  this._popupMenu.registerProvider('dmn-replace', this);\n};\n/**\n * Get all entries from replaceOptions for the given element.\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of menu entry items\n */\n\n\nReplaceMenuProvider.prototype.getEntries = function (element) {\n  var businessObject = element.businessObject;\n  var rules = this._rules;\n\n  if (!rules.allowed('shape.replace', {\n    element: element\n  })) {\n    return [];\n  }\n\n  if (is(businessObject, 'dmn:Decision')) {\n    var options = filter(replaceOptions.DECISION, function (option) {\n      var notEmpty = option.actionName === 'replace-with-empty-decision' && businessObject.decisionLogic;\n      var notTable = option.actionName === 'replace-with-decision-table' && !is(businessObject.decisionLogic, 'dmn:DecisionTable');\n      var notExp = option.actionName === 'replace-with-literal-expression' && !is(businessObject.decisionLogic, 'dmn:LiteralExpression');\n      return notEmpty || notTable || notExp;\n    });\n    return this._createEntries(element, options);\n  }\n\n  return [];\n};\n/**\n * Creates an array of menu entry objects for a given element.\n *\n * @param  {djs.model.Base} element\n * @param  {Object} replaceOptions\n *\n * @return {Array<Object>} a list of menu items\n */\n\n\nReplaceMenuProvider.prototype._createEntries = function (element, replaceOptions) {\n  var menuEntries = [];\n  var self = this;\n  forEach(replaceOptions, function (definition) {\n    var entry = self._createMenuEntry(definition, element);\n\n    menuEntries.push(entry);\n  });\n  return menuEntries;\n};\n/**\n * Creates and returns a single menu entry item.\n *\n * @param  {Object} definition a single replace options definition object\n * @param  {djs.model.Base} element\n * @param  {Function} [action] an action callback function which gets called when\n *                             the menu entry is being triggered.\n *\n * @return {Object} menu entry item\n */\n\n\nReplaceMenuProvider.prototype._createMenuEntry = function (definition, element, action) {\n  var replaceElement = this._drdReplace.replaceElement;\n  var translate = this._translate;\n\n  var replaceAction = function replaceAction() {\n    return replaceElement(element, definition.target);\n  };\n\n  action = action || replaceAction;\n  var menuEntry = {\n    label: translate(definition.label),\n    className: definition.className,\n    id: definition.actionName,\n    action: action\n  };\n  return menuEntry;\n};\n\nReplaceMenuProvider.prototype.getHeaderEntries = function (element) {\n  return [];\n};\n//# sourceMappingURL=ReplaceMenuProvider.js.map","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramPopupMenu from 'diagram-js/lib/features/popup-menu';\nimport Replace from '../replace';\nimport ReplaceMenuProvider from './ReplaceMenuProvider';\nexport default {\n  __depends__: [DiagramTranslate, DiagramPopupMenu, Replace],\n  __init__: ['replaceMenuProvider'],\n  replaceMenuProvider: ['type', ReplaceMenuProvider]\n};\n//# sourceMappingURL=index.js.map","import { assign, isArray } from 'min-dash';\nimport { is, isAny } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { hasPrimaryModifier } from 'diagram-js/lib/util/Mouse';\n/**\n* A provider for DMN elements context pad\n*/\n\nexport default function ContextPadProvider(eventBus, contextPad, modeling, elementFactory, connect, create, rules, popupMenu, canvas, translate, config, injector) {\n  config = config || {};\n  contextPad.registerProvider(this);\n  this._contextPad = contextPad;\n  this._modeling = modeling;\n  this._elementFactory = elementFactory;\n  this._connect = connect;\n  this._create = create;\n  this._rules = rules;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._translate = translate;\n\n  if (config.autoPlace !== false) {\n    this._autoPlace = injector.get('autoPlace', false);\n  }\n\n  eventBus.on('create.end', 250, function (event) {\n    var shape = event.context.shape;\n\n    if (!hasPrimaryModifier(event)) {\n      return;\n    }\n\n    var entries = contextPad.getEntries(shape);\n\n    if (entries.replace) {\n      entries.replace.action.click(event, shape);\n    }\n  });\n}\nContextPadProvider.$inject = ['eventBus', 'contextPad', 'modeling', 'elementFactory', 'connect', 'create', 'rules', 'popupMenu', 'canvas', 'translate', 'config.contextPad', 'injector'];\n\nContextPadProvider.prototype.getContextPadEntries = function (element) {\n  var modeling = this._modeling,\n      elementFactory = this._elementFactory,\n      connect = this._connect,\n      create = this._create,\n      popupMenu = this._popupMenu,\n      canvas = this._canvas,\n      contextPad = this._contextPad,\n      rules = this._rules,\n      translate = this._translate,\n      autoPlace = this._autoPlace;\n  var actions = {};\n\n  if (element.type === 'label') {\n    return actions;\n  }\n\n  var businessObject = element.businessObject;\n\n  function startConnect(event, element, autoActivate) {\n    connect.start(event, element, autoActivate);\n  }\n\n  function removeElement(e) {\n    modeling.removeElements([element]);\n  }\n\n  function getReplaceMenuPosition(element) {\n    var Y_OFFSET = 5;\n    var diagramContainer = canvas.getContainer(),\n        pad = contextPad.getPad(element).html;\n    var diagramRect = diagramContainer.getBoundingClientRect(),\n        padRect = pad.getBoundingClientRect();\n    var top = padRect.top - diagramRect.top;\n    var left = padRect.left - diagramRect.left;\n    var pos = {\n      x: left,\n      y: top + padRect.height + Y_OFFSET\n    };\n    return pos;\n  }\n  /**\n  * Create an append action\n  *\n  * @param {string} type\n  * @param {string} className\n  * @param {string} [title]\n  * @param {Object} [options]\n  *\n  * @return {Object} descriptor\n  */\n\n\n  function appendAction(type, className, title, options) {\n    if (typeof title !== 'string') {\n      options = title;\n      title = translate('Append {type}', {\n        type: type.replace(/^dmn:/, '')\n      });\n    }\n\n    function appendStart(event, element) {\n      var shape = elementFactory.createShape(assign({\n        type: type\n      }, options));\n      create.start(event, shape, {\n        source: element,\n        hints: {\n          connectionTarget: element\n        }\n      });\n    }\n\n    var append = autoPlace ? function (event, element) {\n      var shape = elementFactory.createShape(assign({\n        type: type\n      }, options));\n      autoPlace.append(element, shape, {\n        connectionTarget: element\n      });\n    } : appendStart;\n    return {\n      group: 'model',\n      className: className,\n      title: title,\n      action: {\n        dragstart: appendStart,\n        click: append\n      }\n    };\n  }\n\n  if (is(businessObject, 'dmn:Decision')) {\n    assign(actions, {\n      'append.decision': appendAction('dmn:Decision', 'dmn-icon-decision')\n    });\n  }\n\n  if (isAny(businessObject, ['dmn:BusinessKnowledgeModel', 'dmn:Decision', 'dmn:KnowledgeSource'])) {\n    assign(actions, {\n      'append.knowledge-source': appendAction('dmn:KnowledgeSource', 'dmn-icon-knowledge-source')\n    });\n  }\n\n  if (isAny(businessObject, ['dmn:BusinessKnowledgeModel', 'dmn:Decision'])) {\n    assign(actions, {\n      'append.business-knowledge-model': appendAction('dmn:BusinessKnowledgeModel', 'dmn-icon-business-knowledge')\n    });\n  }\n\n  if (isAny(businessObject, ['dmn:Decision', 'dmn:KnowledgeSource'])) {\n    assign(actions, {\n      'append.input-data': appendAction('dmn:InputData', 'dmn-icon-input-data')\n    });\n  }\n\n  if (is(businessObject, 'dmn:DRGElement')) {\n    assign(actions, {\n      'append.text-annotation': appendAction('dmn:TextAnnotation', 'dmn-icon-text-annotation'),\n      'connect': {\n        group: 'connect',\n        className: 'dmn-icon-connection-multi',\n        title: translate('Connect using Information/Knowledge' + '/Authority Requirement or Association'),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n\n  if (is(businessObject, 'dmn:TextAnnotation')) {\n    assign(actions, {\n      'connect': {\n        group: 'connect',\n        className: 'dmn-icon-connection-multi',\n        title: translate('Connect using association'),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n\n  if (!popupMenu.isEmpty(element, 'dmn-replace')) {\n    // Replace menu entry\n    assign(actions, {\n      'replace': {\n        group: 'edit',\n        className: 'dmn-icon-screw-wrench',\n        title: translate('Change type'),\n        action: {\n          click: function click(event, element) {\n            var position = assign(getReplaceMenuPosition(element), {\n              cursor: {\n                x: event.x,\n                y: event.y\n              }\n            });\n            popupMenu.open(element, 'dmn-replace', position);\n          }\n        }\n      }\n    });\n  } // delete element entry, only show if allowed by rules\n\n\n  var deleteAllowed = rules.allowed('elements.delete', {\n    elements: [element]\n  });\n\n  if (isArray(deleteAllowed)) {\n    // was the element returned as a deletion candidate?\n    deleteAllowed = deleteAllowed[0] === element;\n  }\n\n  if (deleteAllowed) {\n    assign(actions, {\n      'delete': {\n        group: 'edit',\n        className: 'dmn-icon-trash',\n        title: translate('Remove'),\n        action: {\n          click: removeElement\n        }\n      }\n    });\n  }\n\n  return actions;\n};\n//# sourceMappingURL=ContextPadProvider.js.map","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramContextPad from 'diagram-js/lib/features/context-pad';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\nimport DiagramConnect from 'diagram-js/lib/features/connect';\nimport DiagramCreate from 'diagram-js/lib/features/create';\nimport PopupMenu from '../popup-menu';\nimport ContextPadProvider from './ContextPadProvider';\nexport default {\n  __depends__: [DiagramTranslate, DiagramContextPad, DiagramSelection, DiagramConnect, DiagramCreate, PopupMenu],\n  __init__: ['contextPadProvider'],\n  contextPadProvider: ['type', ContextPadProvider]\n};\n//# sourceMappingURL=index.js.map","import {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove,\n  clear as svgClear\n} from 'tiny-svg';\n\nimport {\n  isObject\n} from 'min-dash';\n\nimport {\n  getElementLineIntersection,\n  getMid\n} from '../../layout/LayoutUtil';\n\n\nvar MARKER_CONNECTION_PREVIEW = 'djs-connection-preview';\n\n/**\n * Draws connection preview. Optionally, this can use layouter and connection docking to draw\n * better looking previews.\n *\n * @param {didi.Injector} injector\n * @param {Canvas} canvas\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementFactory} elementFactory\n */\nexport default function ConnectionPreview(\n    injector,\n    canvas,\n    graphicsFactory,\n    elementFactory\n) {\n  this._canvas = canvas;\n  this._graphicsFactory = graphicsFactory;\n  this._elementFactory = elementFactory;\n\n  // optional components\n  this._connectionDocking = injector.get('connectionDocking', false);\n  this._layouter = injector.get('layouter', false);\n}\n\nConnectionPreview.$inject = [\n  'injector',\n  'canvas',\n  'graphicsFactory',\n  'elementFactory'\n];\n\n/**\n * Draw connection preview.\n *\n * Provide at least one of <source, connectionStart> and <target, connectionEnd> to create a preview.\n * In the clean up stage, call `connectionPreview#cleanUp` with the context to remove preview.\n *\n * @param {Object} context\n * @param {Object|boolean} canConnect\n * @param {Object} hints\n * @param {djs.model.shape} [hints.source] source element\n * @param {djs.model.shape} [hints.target] target element\n * @param {Point} [hints.connectionStart] connection preview start\n * @param {Point} [hints.connectionEnd] connection preview end\n * @param {Array<Point>} [hints.waypoints] provided waypoints for preview\n * @param {boolean} [hints.noLayout] true if preview should not be laid out\n * @param {boolean} [hints.noCropping] true if preview should not be cropped\n * @param {boolean} [hints.noNoop] true if simple connection should not be drawn\n */\nConnectionPreview.prototype.drawPreview = function(context, canConnect, hints) {\n\n  hints = hints || {};\n\n  var connectionPreviewGfx = context.connectionPreviewGfx,\n      getConnection = context.getConnection,\n      source = hints.source,\n      target = hints.target,\n      waypoints = hints.waypoints,\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      noLayout = hints.noLayout,\n      noCropping = hints.noCropping,\n      noNoop = hints.noNoop,\n      connection;\n\n  var self = this;\n\n  if (!connectionPreviewGfx) {\n    connectionPreviewGfx = context.connectionPreviewGfx = this.createConnectionPreviewGfx();\n  }\n\n  svgClear(connectionPreviewGfx);\n\n  if (!getConnection) {\n    getConnection = context.getConnection = cacheReturnValues(function(canConnect, source, target) {\n      return self.getConnection(canConnect, source, target);\n    });\n  }\n\n  if (canConnect) {\n    connection = getConnection(canConnect, source, target);\n  }\n\n  if (!connection) {\n    !noNoop && this.drawNoopPreview(connectionPreviewGfx, hints);\n    return;\n  }\n\n  connection.waypoints = waypoints || [];\n\n  // optional layout\n  if (this._layouter && !noLayout) {\n    connection.waypoints = this._layouter.layoutConnection(connection, {\n      source: source,\n      target: target,\n      connectionStart: connectionStart,\n      connectionEnd: connectionEnd,\n      waypoints: hints.waypoints || connection.waypoints\n    });\n  }\n\n  // fallback if no waypoints were provided nor created with layouter\n  if (!connection.waypoints || !connection.waypoints.length) {\n    connection.waypoints = [\n      source ? getMid(source) : connectionStart,\n      target ? getMid(target) : connectionEnd\n    ];\n  }\n\n  // optional cropping\n  if (this._connectionDocking && (source || target) && !noCropping) {\n    connection.waypoints = this._connectionDocking.getCroppedWaypoints(connection, source, target);\n  }\n\n  this._graphicsFactory.drawConnection(connectionPreviewGfx, connection);\n};\n\n/**\n * Draw simple connection between source and target or provided points.\n *\n * @param {SVGElement} connectionPreviewGfx container for the connection\n * @param {Object} hints\n * @param {djs.model.shape} [hints.source] source element\n * @param {djs.model.shape} [hints.target] target element\n * @param {Point} [hints.connectionStart] required if source is not provided\n * @param {Point} [hints.connectionEnd] required if target is not provided\n */\nConnectionPreview.prototype.drawNoopPreview = function(connectionPreviewGfx, hints) {\n  var source = hints.source,\n      target = hints.target,\n      start = hints.connectionStart || getMid(source),\n      end = hints.connectionEnd || getMid(target);\n\n  var waypoints = this.cropWaypoints(start, end, source, target);\n\n  var connection = this.createNoopConnection(waypoints[0], waypoints[1]);\n\n  svgAppend(connectionPreviewGfx, connection);\n};\n\n/**\n * Return cropped waypoints.\n *\n * @param {Point} start\n * @param {Point} end\n * @param {djs.model.shape} source\n * @param {djs.model.shape} target\n *\n * @returns {Array}\n */\nConnectionPreview.prototype.cropWaypoints = function(start, end, source, target) {\n  var graphicsFactory = this._graphicsFactory,\n      sourcePath = source && graphicsFactory.getShapePath(source),\n      targetPath = target && graphicsFactory.getShapePath(target),\n      connectionPath = graphicsFactory.getConnectionPath({ waypoints: [ start, end ] });\n\n  start = (source && getElementLineIntersection(sourcePath, connectionPath, true)) || start;\n  end = (target && getElementLineIntersection(targetPath, connectionPath, false)) || end;\n\n  return [ start, end ];\n};\n\n/**\n * Remove connection preview container if it exists.\n *\n * @param {Object} [context]\n * @param {SVGElement} [context.connectionPreviewGfx] preview container\n */\nConnectionPreview.prototype.cleanUp = function(context) {\n  if (context && context.connectionPreviewGfx) {\n    svgRemove(context.connectionPreviewGfx);\n  }\n};\n\n/**\n * Get connection that connects source and target.\n *\n * @param {Object|boolean} canConnect\n *\n * @returns {djs.model.connection}\n */\nConnectionPreview.prototype.getConnection = function(canConnect) {\n  var attrs = ensureConnectionAttrs(canConnect);\n\n  return this._elementFactory.createConnection(attrs);\n};\n\n\n/**\n * Add and return preview graphics.\n *\n * @returns {SVGElement}\n */\nConnectionPreview.prototype.createConnectionPreviewGfx = function() {\n  var gfx = svgCreate('g');\n\n  svgAttr(gfx, {\n    pointerEvents: 'none'\n  });\n\n  svgClasses(gfx).add(MARKER_CONNECTION_PREVIEW);\n\n  svgAppend(this._canvas.getActiveLayer(), gfx);\n\n  return gfx;\n};\n\n/**\n * Create and return simple connection.\n *\n * @param {Point} start\n * @param {Point} end\n *\n * @returns {SVGElement}\n */\nConnectionPreview.prototype.createNoopConnection = function(start, end) {\n  var connection = svgCreate('polyline');\n\n  svgAttr(connection, {\n    'stroke': '#333',\n    'strokeDasharray': [ 1 ],\n    'strokeWidth': 2,\n    'pointer-events': 'none'\n  });\n\n  svgAttr(connection, { 'points': [ start.x, start.y, end.x, end.y ] });\n\n  return connection;\n};\n\n// helpers //////////\n\n/**\n * Returns function that returns cached return values referenced by stringified first argument.\n *\n * @param {Function} fn\n *\n * @return {Function}\n */\nfunction cacheReturnValues(fn) {\n  var returnValues = {};\n\n  /**\n   * Return cached return value referenced by stringified first argument.\n   *\n   * @returns {*}\n   */\n  return function(firstArgument) {\n    var key = JSON.stringify(firstArgument);\n\n    var returnValue = returnValues[key];\n\n    if (!returnValue) {\n      returnValue = returnValues[key] = fn.apply(null, arguments);\n    }\n\n    return returnValue;\n  };\n}\n\n/**\n * Ensure connection attributes is object.\n *\n * @param {Object|boolean} canConnect\n *\n * @returns {Object}\n */\nfunction ensureConnectionAttrs(canConnect) {\n  if (isObject(canConnect)) {\n    return canConnect;\n  } else {\n    return {};\n  }\n}\n","import ConnectionPreview from './ConnectionPreview';\n\nexport default {\n  __init__: [ 'connectionPreview' ],\n  connectionPreview: [ 'type', ConnectionPreview ]\n};\n","var SPACE_REGEX = /\\s/; // for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\n\nvar QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i; // for ID validation as per BPMN Schema (QName - Namespace)\n\nvar ID_REGEX = /^[a-z_][\\w-.]*$/i;\nvar PLACEHOLDER_REGEX = /\\$\\{([^}]*)\\}/g;\n/**\n * Validates an ID.\n *\n * @param {ModdleElement} businessObject\n * @param {string} id\n *\n * @return {string} error message\n */\n\nexport function validateId(businessObject, id) {\n  var assigned = businessObject.$model.ids.assigned(id);\n  var idExists = assigned && assigned !== businessObject;\n\n  if (!id) {\n    return 'Element must have ID.';\n  }\n\n  if (idExists) {\n    return 'Element must have unique ID.';\n  }\n\n  return validateIdFormat(id);\n}\n\nfunction validateIdFormat(id) {\n  id = stripPlaceholders(id);\n\n  if (containsSpace(id)) {\n    return 'Id must not contain spaces.';\n  }\n\n  if (!ID_REGEX.test(id)) {\n    if (QNAME_REGEX.test(id)) {\n      return 'Id must not contain prefix.';\n    }\n\n    return 'Id must be a valid QName.';\n  }\n}\n\nfunction containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}\n\nfunction stripPlaceholders(id) {\n  // replace expression e.g. ${VERSION_TAG}\n  // use only the content between ${}\n  // for the REGEX check\n  return id.replace(PLACEHOLDER_REGEX, '$1');\n}\n//# sourceMappingURL=IdsUtil.js.map","import { debounce } from 'min-dash';\nvar DEBOUNCE_DELAY = 300;\nimport { domify, classes as domClasses, query as domQuery } from 'min-dom';\nimport { getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { validateId } from 'dmn-js-shared/lib/util/IdsUtil';\nexport default function DefinitionIdEdit(eventBus, modeling, canvas, definitionPropertiesView) {\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._canvas = canvas;\n  this._definitionPropertiesView = definitionPropertiesView;\n  eventBus.on('definitionIdView.create', function (event) {\n    this._container = event.html;\n    var nameElement = domQuery('.dmn-definitions-name', this._container),\n        idElement = domQuery('.dmn-definitions-id', this._container);\n\n    this._setup(nameElement, 'name');\n\n    this._setup(idElement, 'id');\n  }, this);\n}\nDefinitionIdEdit.$inject = ['eventBus', 'modeling', 'canvas', 'definitionPropertiesView'];\n\nDefinitionIdEdit.prototype.update = function (type, newValue) {\n  var element = this._canvas.getRootElement();\n\n  var newProperties = {};\n  newProperties[type] = newValue;\n\n  if (type === 'id') {\n    var errorMessage = validateId(getBusinessObject(element), newValue);\n\n    if (errorMessage) {\n      this._addErrorMessage(errorMessage);\n\n      return;\n    }\n\n    this._clearErrorMessage();\n  }\n\n  this._modeling.updateProperties(element, newProperties);\n};\n\nDefinitionIdEdit.prototype._setup = function (node, type) {\n  var self = this;\n  node.setAttribute('contenteditable', true);\n  node.addEventListener('input', debounce(function (evt) {\n    var value = evt.target.value || evt.target.textContent;\n    self.update(type, value.trim());\n  }, DEBOUNCE_DELAY));\n  node.addEventListener('keydown', function (evt) {\n    if (evt.keyCode === 13) {\n      node.blur();\n      window.getSelection().removeAllRanges();\n    }\n  });\n  node.addEventListener('blur', function () {\n    self._clearErrorMessage();\n\n    self._definitionPropertiesView.update();\n  });\n};\n\nDefinitionIdEdit.prototype._addErrorMessage = function (errorMessage) {\n  var errorHTML = '<span class=\"dmn-definitions-error-message\">' + errorMessage + '</span>';\n  var idElement = domQuery('.dmn-definitions-id', this._container); // clear previous error message\n\n  this._clearErrorMessage(); // add current error message\n\n\n  domClasses(idElement).add('dmn-definitions-error');\n  idElement.parentElement.appendChild(domify(errorHTML));\n};\n\nDefinitionIdEdit.prototype._clearErrorMessage = function () {\n  var idElement = domQuery('.dmn-definitions-id', this._container);\n\n  if (domClasses(idElement).has('dmn-definitions-error')) {\n    domClasses(idElement).remove('dmn-definitions-error');\n    var errorLabel = domQuery('.dmn-definitions-error-message', this._container);\n    idElement.parentNode.removeChild(errorLabel);\n  }\n};\n//# sourceMappingURL=DefinitionPropertiesEdit.js.map","import DefinitionPropertiesView from './viewer';\nimport DefinitionPropertiesEdit from './DefinitionPropertiesEdit';\nimport PaletteAdapter from './PaletteAdapter';\nexport default {\n  __depends__: [DefinitionPropertiesView],\n  __init__: ['definitionPropertiesEdit', 'definitionPropertiesPaletteAdapter'],\n  definitionPropertiesEdit: ['type', DefinitionPropertiesEdit],\n  definitionPropertiesPaletteAdapter: ['type', PaletteAdapter]\n};\n//# sourceMappingURL=modeler.js.map","import {\n  sortBy,\n  forEach,\n  filter\n} from 'min-dash';\n\nvar AXIS_DIMENSIONS = {\n  horizontal: [ 'x', 'width' ],\n  vertical: [ 'y', 'height' ]\n};\n\nvar THRESHOLD = 5;\n\n\n/**\n * Groups and filters elements and then trigger even distribution.\n */\nexport default function DistributeElements(modeling) {\n  this._modeling = modeling;\n\n  this._filters = [];\n\n  // register filter for filtering big elements\n  this.registerFilter(function(elements, axis, dimension) {\n    var elementsSize = 0,\n        numOfShapes = 0,\n        avgDimension;\n\n    forEach(elements, function(element) {\n      if (element.waypoints || element.labelTarget) {\n        return;\n      }\n\n      elementsSize += element[dimension];\n\n      numOfShapes += 1;\n    });\n\n    avgDimension = Math.round(elementsSize / numOfShapes);\n\n    return filter(elements, function(element) {\n      return element[dimension] < (avgDimension + 50);\n    });\n  });\n\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\n\n/**\n * Registers filter functions that allow external parties to filter\n * out certain elements.\n *\n * @param  {Function} filterFn\n */\nDistributeElements.prototype.registerFilter = function(filterFn) {\n  if (typeof filterFn !== 'function') {\n    throw new Error('the filter has to be a function');\n  }\n\n  this._filters.push(filterFn);\n};\n\n/**\n * Distributes the elements with a given orientation\n *\n * @param  {Array} elements\n * @param  {string} orientation\n */\nDistributeElements.prototype.trigger = function(elements, orientation) {\n  var modeling = this._modeling;\n\n  var groups,\n      distributableElements;\n\n  if (elements.length < 3) {\n    return;\n  }\n\n  this._setOrientation(orientation);\n\n  distributableElements = this._filterElements(elements);\n\n  groups = this._createGroups(distributableElements);\n\n  // nothing to distribute\n  if (groups.length <= 2) {\n    return;\n  }\n\n  modeling.distributeElements(groups, this._axis, this._dimension);\n\n  return groups;\n};\n\n/**\n * Filters the elements with provided filters by external parties\n *\n * @param  {Array[Elements]} elements\n *\n * @return {Array[Elements]}\n */\nDistributeElements.prototype._filterElements = function(elements) {\n  var filters = this._filters,\n      axis = this._axis,\n      dimension = this._dimension,\n      distributableElements = [].concat(elements);\n\n  if (!filters.length) {\n    return elements;\n  }\n\n  forEach(filters, function(filterFn) {\n    distributableElements = filterFn(distributableElements, axis, dimension);\n  });\n\n  return distributableElements;\n};\n\n\n/**\n * Create range (min, max) groups. Also tries to group elements\n * together that share the same range.\n *\n * @example\n * \tvar distributableElements = [\n * \t\t{\n * \t\t\trange: {\n * \t\t\t\tmin: 100,\n * \t\t\t\tmax: 200\n * \t\t\t},\n * \t\t\telements: [ { id: 'shape1', .. }]\n * \t\t}\n * \t]\n *\n * @param  {Array} elements\n *\n * @return {Array[Objects]}\n */\nDistributeElements.prototype._createGroups = function(elements) {\n  var rangeGroups = [],\n      self = this,\n      axis = this._axis,\n      dimension = this._dimension;\n\n  if (!axis) {\n    throw new Error('must have a defined \"axis\" and \"dimension\"');\n  }\n\n  // sort by 'left->right' or 'top->bottom'\n  var sortedElements = sortBy(elements, axis);\n\n  forEach(sortedElements, function(element, idx) {\n    var elementRange = self._findRange(element, axis, dimension),\n        range;\n\n    var previous = rangeGroups[rangeGroups.length - 1];\n\n    if (previous && self._hasIntersection(previous.range, elementRange)) {\n      rangeGroups[rangeGroups.length - 1].elements.push(element);\n    } else {\n      range = { range: elementRange, elements: [ element ] };\n\n      rangeGroups.push(range);\n    }\n  });\n\n  return rangeGroups;\n};\n\n\n/**\n * Maps a direction to the according axis and dimension\n *\n * @param  {string} direction 'horizontal' or 'vertical'\n */\nDistributeElements.prototype._setOrientation = function(direction) {\n  var orientation = AXIS_DIMENSIONS[direction];\n\n  this._axis = orientation[0];\n  this._dimension = orientation[1];\n};\n\n\n/**\n * Checks if the two ranges intercept each other\n *\n * @param  {Object} rangeA {min, max}\n * @param  {Object} rangeB {min, max}\n *\n * @return {boolean}\n */\nDistributeElements.prototype._hasIntersection = function(rangeA, rangeB) {\n  return Math.max(rangeA.min, rangeA.max) >= Math.min(rangeB.min, rangeB.max) &&\n         Math.min(rangeA.min, rangeA.max) <= Math.max(rangeB.min, rangeB.max);\n};\n\n\n/**\n * Returns the min and max values for an element\n *\n * @param  {Bounds} element\n * @param  {string} axis\n * @param  {string} dimension\n *\n * @return {{ min: number, max: number }}\n */\nDistributeElements.prototype._findRange = function(element) {\n  var axis = element[this._axis],\n      dimension = element[this._dimension];\n\n  return {\n    min: axis + THRESHOLD,\n    max: axis + dimension - THRESHOLD\n  };\n};\n","import DistributeElements from './DistributeElements';\n\nexport default {\n  __init__: [ 'distributeElements' ],\n  distributeElements: [ 'type', DistributeElements ]\n};\n","import { filter } from 'min-dash';\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\n/**\n * Registers element exclude filters for elements that\n * currently do not support distribution.\n */\n\nexport default function DrdDistributeElements(distributeElements) {\n  distributeElements.registerFilter(function (elements) {\n    return filter(elements, function (element) {\n      var cannotDistribute = isAny(element, ['dmn:AuthorityRequirement', 'dmn:InformationRequirement', 'dmn:KnowledgeRequirement', 'dmn:Association', 'dmn:TextAnnotation']);\n      return !(element.labelTarget || cannotDistribute);\n    });\n  });\n}\nDrdDistributeElements.$inject = ['distributeElements'];\n//# sourceMappingURL=DrdDistributeElements.js.map","import DistributeElementsModule from 'diagram-js/lib/features/distribute-elements';\nimport DrdDistributeElements from './DrdDistributeElements';\nexport default {\n  __depends__: [DistributeElementsModule],\n  __init__: ['drdDistributeElements'],\n  drdDistributeElements: ['type', DrdDistributeElements]\n};\n//# sourceMappingURL=index.js.map","import {\n  forEach,\n  isArray\n} from 'min-dash';\n\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n    IS_REGISTERED_ERROR = 'is already registered';\n\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction\n * and likewise unregister existing ones with unregisterAction.\n *\n *\n * ## Life-Cycle and configuration\n *\n * The editor actions will wait for diagram initialization before\n * registering default actions _and_ firing an `editorActions.init` event.\n *\n * Interested parties may listen to the `editorActions.init` event with\n * low priority to check, which actions got registered. Other components\n * may use the event to register their own actions via `registerAction`.\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function EditorActions(eventBus, injector) {\n\n  // initialize actions\n  this._actions = {};\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // all diagram modules got loaded; check which ones\n    // are available and register the respective default actions\n    self._registerDefaultActions(injector);\n\n    // ask interested parties to register available editor\n    // actions on diagram initialization\n    eventBus.fire('editorActions.init', {\n      editorActions: self\n    });\n  });\n\n}\n\nEditorActions.$inject = [\n  'eventBus',\n  'injector'\n];\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nEditorActions.prototype._registerDefaultActions = function(injector) {\n\n  // (1) retrieve optional components to integrate with\n\n  var commandStack = injector.get('commandStack', false);\n  var modeling = injector.get('modeling', false);\n  var selection = injector.get('selection', false);\n  var zoomScroll = injector.get('zoomScroll', false);\n  var copyPaste = injector.get('copyPaste', false);\n  var canvas = injector.get('canvas', false);\n  var rules = injector.get('rules', false);\n  var keyboardMove = injector.get('keyboardMove', false);\n  var keyboardMoveSelection = injector.get('keyboardMoveSelection', false);\n\n  // (2) check components and register actions\n\n  if (commandStack) {\n    this.register('undo', function() {\n      commandStack.undo();\n    });\n\n    this.register('redo', function() {\n      commandStack.redo();\n    });\n  }\n\n  if (copyPaste && selection) {\n    this.register('copy', function() {\n      var selectedElements = selection.get();\n\n      copyPaste.copy(selectedElements);\n    });\n  }\n\n  if (copyPaste) {\n    this.register('paste', function() {\n      copyPaste.paste();\n    });\n  }\n\n  if (zoomScroll) {\n    this.register('stepZoom', function(opts) {\n      zoomScroll.stepZoom(opts.value);\n    });\n  }\n\n  if (canvas) {\n    this.register('zoom', function(opts) {\n      canvas.zoom(opts.value);\n    });\n  }\n\n  if (modeling && selection && rules) {\n    this.register('removeSelection', function() {\n\n      var selectedElements = selection.get();\n\n      if (!selectedElements.length) {\n        return;\n      }\n\n      var allowed = rules.allowed('elements.delete', { elements: selectedElements }),\n          removableElements;\n\n      if (allowed === false) {\n        return;\n      }\n      else if (isArray(allowed)) {\n        removableElements = allowed;\n      }\n      else {\n        removableElements = selectedElements;\n      }\n\n      if (removableElements.length) {\n        modeling.removeElements(removableElements.slice());\n      }\n    });\n  }\n\n  if (keyboardMove) {\n    this.register('moveCanvas', function(opts) {\n      keyboardMove.moveCanvas(opts);\n    });\n  }\n\n  if (keyboardMoveSelection) {\n    this.register('moveSelection', function(opts) {\n      keyboardMoveSelection.moveSelection(opts.direction, opts.accelerated);\n    });\n  }\n\n};\n\n\n/**\n * Triggers a registered action\n *\n * @param  {string} action\n * @param  {Object} opts\n *\n * @return {Unknown} Returns what the registered listener returns\n */\nEditorActions.prototype.trigger = function(action, opts) {\n  if (!this._actions[action]) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  return this._actions[action](opts);\n};\n\n\n/**\n * Registers a collections of actions.\n * The key of the object will be the name of the action.\n *\n * @example\n * \n * var actions = {\n *   spaceTool: function() {\n *     spaceTool.activateSelection();\n *   },\n *   lassoTool: function() {\n *     lassoTool.activateSelection();\n *   }\n * ];\n *\n * editorActions.register(actions);\n *\n * editorActions.isRegistered('spaceTool'); // true\n * \n *\n * @param  {Object} actions\n */\nEditorActions.prototype.register = function(actions, listener) {\n  var self = this;\n\n  if (typeof actions === 'string') {\n    return this._registerAction(actions, listener);\n  }\n\n  forEach(actions, function(listener, action) {\n    self._registerAction(action, listener);\n  });\n};\n\n/**\n * Registers a listener to an action key\n *\n * @param  {string} action\n * @param  {Function} listener\n */\nEditorActions.prototype._registerAction = function(action, listener) {\n  if (this.isRegistered(action)) {\n    throw error(action, IS_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = listener;\n};\n\n/**\n * Unregister an existing action\n *\n * @param {string} action\n */\nEditorActions.prototype.unregister = function(action) {\n  if (!this.isRegistered(action)) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = undefined;\n};\n\n/**\n * Returns the number of actions that are currently registered\n *\n * @return {number}\n */\nEditorActions.prototype.getActions = function() {\n  return Object.keys(this._actions);\n};\n\n/**\n * Checks wether the given action is registered\n *\n * @param {string} action\n *\n * @return {boolean}\n */\nEditorActions.prototype.isRegistered = function(action) {\n  return !!this._actions[action];\n};\n\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n","import EditorActions from './EditorActions';\n\nexport default {\n  __init__: [ 'editorActions' ],\n  editorActions: [ 'type', EditorActions ]\n};\n","import inherits from 'inherits';\nimport EditorActions from 'diagram-js/lib/features/editor-actions/EditorActions';\nexport default function DrdEditorActions(injector) {\n  injector.invoke(EditorActions, this);\n}\ninherits(DrdEditorActions, EditorActions);\nDrdEditorActions.$inject = ['injector'];\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\n\nDrdEditorActions.prototype._registerDefaultActions = function (injector) {\n  // (0) invoke super method\n  EditorActions.prototype._registerDefaultActions.call(this, injector); // (1) retrieve optional components to integrate with\n\n\n  var canvas = injector.get('canvas', false);\n  var elementRegistry = injector.get('elementRegistry', false);\n  var selection = injector.get('selection', false);\n  var lassoTool = injector.get('lassoTool', false);\n  var handTool = injector.get('handTool', false);\n  var directEditing = injector.get('directEditing', false);\n  var distributeElements = injector.get('distributeElements', false);\n  var alignElements = injector.get('alignElements', false); // (2) check components and register actions\n\n  if (canvas && elementRegistry && selection) {\n    this._registerAction('selectElements', function () {\n      // select all elements except for the invisible\n      // root element\n      var rootElement = canvas.getRootElement();\n      var elements = elementRegistry.filter(function (element) {\n        return element !== rootElement;\n      });\n      selection.select(elements);\n      return elements;\n    });\n  }\n\n  if (selection && distributeElements) {\n    this._registerAction('distributeElements', function (opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 2) {\n        distributeElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (selection && alignElements) {\n    this._registerAction('alignElements', function (opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 1) {\n        alignElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (lassoTool) {\n    this._registerAction('lassoTool', function () {\n      lassoTool.toggle();\n    });\n  }\n\n  if (handTool) {\n    this._registerAction('handTool', function () {\n      handTool.toggle();\n    });\n  }\n\n  if (selection && directEditing) {\n    this._registerAction('directEditing', function () {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        directEditing.activate(currentSelection[0]);\n      }\n    });\n  }\n};\n//# sourceMappingURL=DrdEditorActions.js.map","import EditorActionsModule from 'diagram-js/lib/features/editor-actions';\nimport DrdEditorActions from './DrdEditorActions';\nexport default {\n  __depends__: [EditorActionsModule],\n  editorActions: ['type', DrdEditorActions]\n};\n//# sourceMappingURL=index.js.map","import { forEach } from 'min-dash';\nimport { containsDi } from 'dmn-js-shared/lib/util/DiUtil';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n/**\n * Generates missing DI on import.\n *\n * @param {DrdFactory} drdFactory\n * @param {ElementFactory} elementFactory\n * @param {EventBus} eventBus\n */\n\nexport default function DiGenerator(drdFactory, elementFactory, eventBus, drdUpdater) {\n  function createDi(definitions) {\n    // retrieve or create dmnDI\n    var dmnDI = definitions.dmnDI;\n\n    if (!dmnDI) {\n      dmnDI = drdFactory.create('dmndi:DMNDI');\n      definitions.set('dmnDI', dmnDI);\n    }\n\n    var diagram = drdFactory.create('dmndi:DMNDiagram');\n    dmnDI.set('diagrams', [diagram]);\n    var index = 0;\n    forEach(definitions.get('drgElement'), function (drgElement) {\n      // generate DI for decisions only\n      if (!is(drgElement, 'dmn:Decision')) {\n        return;\n      }\n\n      var dimensions = elementFactory._getDefaultSize(drgElement);\n\n      var di = drdFactory.createDiShape(drgElement, {\n        x: 150 + index * 30,\n        y: 150 + index * 30,\n        width: dimensions.width,\n        height: dimensions.height\n      });\n      drdUpdater.updateDiParent(di, diagram);\n      index++;\n    });\n  }\n\n  eventBus.on('import.start', function (_ref) {\n    var definitions = _ref.definitions;\n\n    if (!containsDi(definitions)) {\n      createDi(definitions);\n    }\n  });\n}\nDiGenerator.$inject = ['drdFactory', 'elementFactory', 'eventBus', 'drdUpdater'];\n//# sourceMappingURL=DiGenerator.js.map","import DiGenerator from './DiGenerator';\nexport default {\n  __init__: ['diGenerator'],\n  diGenerator: ['type', DiGenerator]\n};\n//# sourceMappingURL=index.js.map","import { isArray } from 'min-dash';\r\n\r\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function hasModifier(event) {\r\n  return (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isCmd(event) {\r\n\r\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}\r\n\r\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|Array<string>} keys\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isKey(keys, event) {\r\n  keys = isArray(keys) ? keys : [ keys ];\r\n\r\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.keyCode) !== -1;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isShift(event) {\r\n  return event.shiftKey;\r\n}","export var SPACING = 10;\n\nexport function quantize(value, quantum, fn) {\n  if (!fn) {\n    fn = 'round';\n  }\n\n  return Math[ fn ](value / quantum) * quantum;\n}","import {\r\n  setSnapped,\r\n  isSnapped\r\n} from '../snapping/SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  assign,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nimport {\r\n  SPACING,\r\n  quantize\r\n} from './GridUtil';\r\n\r\nvar LOWER_PRIORITY = 1200;\r\nvar LOW_PRIORITY = 800;\r\n\r\n/**\r\n * Basic grid snapping that covers connecting, creating, moving, resizing shapes, moving bendpoints\r\n * and connection segments.\r\n */\r\nexport default function GridSnapping(elementRegistry, eventBus, config) {\r\n\r\n  var active = !config || config.active !== false;\r\n\r\n  this._eventBus = eventBus;\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('diagram.init', LOW_PRIORITY, function() {\r\n    self.setActive(active);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'bendpoint.move.move',\r\n    'bendpoint.move.end',\r\n    'connect.move',\r\n    'connect.end',\r\n    'connectionSegment.move.move',\r\n    'connectionSegment.move.end',\r\n    'resize.move',\r\n    'resize.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], LOWER_PRIORITY, function(event) {\r\n    var originalEvent = event.originalEvent;\r\n\r\n    if (!self.active || (originalEvent && isCmd(originalEvent))) {\r\n      return;\r\n    }\r\n\r\n    var context = event.context,\r\n        gridSnappingContext = context.gridSnappingContext;\r\n\r\n    if (!gridSnappingContext) {\r\n      gridSnappingContext = context.gridSnappingContext = {};\r\n    }\r\n\r\n    [ 'x', 'y' ].forEach(function(axis) {\r\n      var options = {};\r\n\r\n      // allow snapping with offset\r\n      var snapOffset = getSnapOffset(event, axis, elementRegistry);\r\n\r\n      if (snapOffset) {\r\n        options.offset = snapOffset;\r\n      }\r\n\r\n      // allow snapping with min and max\r\n      var snapConstraints = getSnapConstraints(event, axis);\r\n\r\n      if (snapConstraints) {\r\n        assign(options, snapConstraints);\r\n      }\r\n\r\n      if (!isSnapped(event, axis)) {\r\n        self.snapEvent(event, axis, options);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Snap an events x or y with optional min, max and offset.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapEvent = function(event, axis, options) {\r\n  var snappedValue = this.snapValue(event[ axis ], options);\r\n\r\n  setSnapped(event, axis, snappedValue);\r\n};\r\n\r\n/**\r\n * Expose grid spacing for third parties (i.e. extensions).\r\n *\r\n * @return {number} spacing of grid dots\r\n */\r\nGridSnapping.prototype.getGridSpacing = function() {\r\n  return SPACING;\r\n};\r\n\r\n/**\r\n * Snap value with optional min, max and offset.\r\n *\r\n * @param {number} value\r\n * @param {Object} options\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapValue = function(value, options) {\r\n  var offset = 0;\r\n\r\n  if (options && options.offset) {\r\n    offset = options.offset;\r\n  }\r\n\r\n  value += offset;\r\n\r\n  value = quantize(value, SPACING);\r\n\r\n  var min, max;\r\n\r\n  if (options && options.min) {\r\n    min = options.min;\r\n\r\n    if (isNumber(min)) {\r\n      min = quantize(min + offset, SPACING, 'ceil');\r\n\r\n      value = Math.max(value, min);\r\n    }\r\n  }\r\n\r\n  if (options && options.max) {\r\n    max = options.max;\r\n\r\n    if (isNumber(max)) {\r\n      max = quantize(max + offset, SPACING, 'floor');\r\n\r\n      value = Math.min(value, max);\r\n    }\r\n  }\r\n\r\n  value -= offset;\r\n\r\n  return value;\r\n};\r\n\r\nGridSnapping.prototype.isActive = function() {\r\n  return this.active;\r\n};\r\n\r\nGridSnapping.prototype.setActive = function(active) {\r\n  this.active = active;\r\n\r\n  this._eventBus.fire('gridSnapping.toggle', { active: active });\r\n};\r\n\r\nGridSnapping.prototype.toggleActive = function() {\r\n  this.setActive(!this.active);\r\n};\r\n\r\nGridSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'config.gridSnapping'\r\n];\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get minimum and maximum snap constraints.\r\n * Constraints are cached.\r\n *\r\n * @param {Object} event\r\n * @param {Object} event.context\r\n * @param {string} axis\r\n *\r\n * @returns {boolean|Object}\r\n */\r\nfunction getSnapConstraints(event, axis) {\r\n  var context = event.context,\r\n      createConstraints = context.createConstraints,\r\n      resizeConstraints = context.resizeConstraints || {},\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapConstraints = gridSnappingContext.snapConstraints;\r\n\r\n  // cache snap constraints\r\n  if (snapConstraints && snapConstraints[ axis ]) {\r\n    return snapConstraints[ axis ];\r\n  }\r\n\r\n  if (!snapConstraints) {\r\n    snapConstraints = gridSnappingContext.snapConstraints = {};\r\n  }\r\n\r\n  if (!snapConstraints[ axis ]) {\r\n    snapConstraints[ axis ] = {};\r\n  }\r\n\r\n  var direction = context.direction;\r\n\r\n  // create\r\n  if (createConstraints) {\r\n    if (isHorizontal(axis)) {\r\n      snapConstraints.x.min = createConstraints.left;\r\n      snapConstraints.x.max = createConstraints.right;\r\n    } else {\r\n      snapConstraints.y.min = createConstraints.top;\r\n      snapConstraints.y.max = createConstraints.bottom;\r\n    }\r\n  }\r\n\r\n  // resize\r\n  var minResizeConstraints = resizeConstraints.min,\r\n      maxResizeConstraints = resizeConstraints.max;\r\n\r\n  if (minResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.max = minResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.min = minResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.max = minResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.min = minResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  if (maxResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.min = maxResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.max = maxResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.min = maxResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.max = maxResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  return snapConstraints[ axis ];\r\n}\r\n\r\n/**\r\n * Get snap offset.\r\n * Offset is cached.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {ElementRegistry} elementRegistry\r\n *\r\n * @returns {number}\r\n */\r\nfunction getSnapOffset(event, axis, elementRegistry) {\r\n  var context = event.context,\r\n      shape = event.shape,\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapLocation = gridSnappingContext.snapLocation,\r\n      snapOffset = gridSnappingContext.snapOffset;\r\n\r\n  // cache snap offset\r\n  if (snapOffset && isNumber(snapOffset[ axis ])) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!snapOffset) {\r\n    snapOffset = gridSnappingContext.snapOffset = {};\r\n  }\r\n\r\n  if (!isNumber(snapOffset[ axis ])) {\r\n    snapOffset[ axis ] = 0;\r\n  }\r\n\r\n  if (!shape) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!elementRegistry.get(shape.id)) {\r\n\r\n    if (isHorizontal(axis)) {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.width / 2;\r\n    } else {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.height / 2;\r\n    }\r\n  }\r\n\r\n  if (!snapLocation) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (axis === 'x') {\r\n    if (/left/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.width / 2;\r\n    } else if (/right/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.width / 2;\r\n    }\r\n  } else {\r\n    if (/top/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.height / 2;\r\n    } else if (/bottom/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.height / 2;\r\n    }\r\n  }\r\n\r\n  return snapOffset[ axis ];\r\n}\r\n\r\nfunction isHorizontal(axis) {\r\n  return axis === 'x';\r\n}\r\n\r\nfunction isNorth(direction) {\r\n  return direction.indexOf('n') !== -1;\r\n}\r\n\r\nfunction isWest(direction) {\r\n  return direction.indexOf('w') !== -1;\r\n}","import {\n  forEach,\n  isFunction,\n  isArray,\n  isNumber,\n  isObject\n} from 'min-dash';\n\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug-in into the command execution for\n * extension and/or validation.\n *\n * @param {EventBus} eventBus\n *\n * @example\n *\n * import inherits from 'inherits';\n *\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * function CommandLogger(eventBus) {\n *   CommandInterceptor.call(this, eventBus);\n *\n *   this.preExecute(function(event) {\n *     console.log('command pre-execute', event);\n *   });\n * }\n *\n * inherits(CommandLogger, CommandInterceptor);\n *\n */\nexport default function CommandInterceptor(eventBus) {\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n/**\n * Register an interceptor for a command execution\n *\n * @param {string|Array<string>} [events] list of commands to register on\n * @param {string} [hook] command hook, i.e. preExecute, executed to listen on\n * @param {number} [priority] the priority on which to hook into the execution\n * @param {Function} handlerFn interceptor to be invoked with (event)\n * @param {boolean} unwrap if true, unwrap the event and pass (context, command, event) to the\n *                          listener instead\n * @param {Object} [that] Pass context (`this`) to the handler function\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  forEach(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n\nvar hooks = [\n  'canExecute',\n  'preExecute',\n  'preExecuted',\n  'execute',\n  'executed',\n  'postExecute',\n  'postExecuted',\n  'revert',\n  'reverted'\n];\n\n/*\n * Install hook shortcuts\n *\n * This will generate the CommandInterceptor#(preExecute|...|reverted) methods\n * which will in term forward to CommandInterceptor#on.\n */\nforEach(hooks, function(hook) {\n\n  /**\n   * {canExecute|preExecute|preExecuted|execute|executed|postExecute|postExecuted|revert|reverted}\n   *\n   * A named hook for plugging into the command execution\n   *\n   * @param {string|Array<string>} [events] list of commands to register on\n   * @param {number} [priority] the priority on which to hook into the execution\n   * @param {Function} handlerFn interceptor to be invoked with (event)\n   * @param {boolean} [unwrap=false] if true, unwrap the event and pass (context, command, event) to the\n   *                          listener instead\n   * @param {Object} [that] Pass context (`this`) to the handler function\n   */\n  CommandInterceptor.prototype[hook] = function(events, priority, handlerFn, unwrap, that) {\n\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n});\n","import inherits from 'inherits';\r\n\r\nimport CommandInterceptor from '../../../command/CommandInterceptor';\r\n\r\nimport {\r\n  assign,\r\n  isString\r\n} from 'min-dash';\r\n\r\n\r\n/**\r\n * Integrates resizing with grid snapping.\r\n */\r\nexport default function ResizeBehavior(eventBus, gridSnapping) {\r\n  CommandInterceptor.call(this, eventBus);\r\n\r\n  this._gridSnapping = gridSnapping;\r\n\r\n  var self = this;\r\n\r\n  this.preExecute('shape.resize', function(event) {\r\n    var context = event.context,\r\n        hints = context.hints || {},\r\n        autoResize = hints.autoResize;\r\n\r\n    if (!autoResize) {\r\n      return;\r\n    }\r\n\r\n    var shape = context.shape,\r\n        newBounds = context.newBounds;\r\n\r\n    if (isString(autoResize)) {\r\n      context.newBounds = self.snapComplex(newBounds, autoResize);\r\n    } else {\r\n      context.newBounds = self.snapSimple(shape, newBounds);\r\n    }\r\n  });\r\n}\r\n\r\nResizeBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping',\r\n  'modeling'\r\n];\r\n\r\ninherits(ResizeBehavior, CommandInterceptor);\r\n\r\n/**\r\n * Snap width and height in relation to center.\r\n *\r\n * @param {djs.model.shape} shape\r\n * @param {Bounds} newBounds\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapSimple = function(shape, newBounds) {\r\n  var gridSnapping = this._gridSnapping;\r\n\r\n  newBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  newBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  newBounds.x = shape.x + (shape.width / 2) - (newBounds.width / 2);\r\n  newBounds.y = shape.y + (shape.height / 2) - (newBounds.height / 2);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap x, y, width and height according to given directions.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapComplex = function(newBounds, directions) {\r\n  if (/w|e/.test(directions)) {\r\n    newBounds = this.snapHorizontally(newBounds, directions);\r\n  }\r\n\r\n  if (/n|s/.test(directions)) {\r\n    newBounds = this.snapVertically(newBounds, directions);\r\n  }\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions horizontally.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapHorizontally = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      west = /w/.test(directions),\r\n      east = /e/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  if (east) {\r\n\r\n    // handle <we>\r\n    if (west) {\r\n      snappedNewBounds.x = gridSnapping.snapValue(newBounds.x, {\r\n        max: newBounds.x\r\n      });\r\n\r\n      snappedNewBounds.width += gridSnapping.snapValue(newBounds.x - snappedNewBounds.x, {\r\n        min: newBounds.x - snappedNewBounds.x\r\n      });\r\n    }\r\n\r\n    // handle <e>\r\n    else {\r\n      newBounds.x = newBounds.x + newBounds.width - snappedNewBounds.width;\r\n    }\r\n  }\r\n\r\n  // assign snapped x and width\r\n  assign(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions vertically.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapVertically = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      north = /n/.test(directions),\r\n      south = /s/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  if (north) {\r\n\r\n    // handle <ns>\r\n    if (south) {\r\n      snappedNewBounds.y = gridSnapping.snapValue(newBounds.y, {\r\n        max: newBounds.y\r\n      });\r\n\r\n      snappedNewBounds.height += gridSnapping.snapValue(newBounds.y - snappedNewBounds.y, {\r\n        min: newBounds.y - snappedNewBounds.y\r\n      });\r\n    }\r\n\r\n    // handle <n>\r\n    else {\r\n      newBounds.y = newBounds.y + newBounds.height - snappedNewBounds.height;\r\n    }\r\n  }\r\n\r\n  // assign snapped y and height\r\n  assign(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};","var HIGH_PRIORITY = 2000;\r\n\r\n/**\r\n * Integrates space tool with grid snapping.\r\n */\r\nexport default function SpaceToolBehavior(eventBus, gridSnapping) {\r\n  eventBus.on([\r\n    'spaceTool.move',\r\n    'spaceTool.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context;\r\n\r\n    if (!context.initialized) {\r\n      return;\r\n    }\r\n\r\n    var axis = context.axis;\r\n\r\n    var snapped;\r\n\r\n    if (axis === 'x') {\r\n\r\n      // snap delta x to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dx);\r\n\r\n      event.x = event.x + snapped - event.dx;\r\n      event.dx = snapped;\r\n    } else {\r\n\r\n      // snap delta y to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dy);\r\n\r\n      event.y = event.y + snapped - event.dy;\r\n      event.dy = snapped;\r\n    }\r\n  });\r\n}\r\n\r\nSpaceToolBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping'\r\n];","import ResizeBehavior from './ResizeBehavior';\r\nimport SpaceToolBehavior from './SpaceToolBehavior';\r\n\r\nexport default {\r\n  __init__: [\r\n    'gridSnappingResizeBehavior',\r\n    'gridSnappingSpaceToolBehavior'\r\n  ],\r\n  gridSnappingResizeBehavior: [ 'type', ResizeBehavior ],\r\n  gridSnappingSpaceToolBehavior: [ 'type', SpaceToolBehavior ]\r\n};","import GridSnapping from './GridSnapping';\r\n\r\nimport GridSnappingBehaviorModule from './behavior';\r\n\r\nexport default {\r\n  __depends__: [ GridSnappingBehaviorModule ],\r\n  __init__: [ 'gridSnapping' ],\r\n  gridSnapping: [ 'type', GridSnapping ]\r\n};","import {\n  isFunction\n} from 'min-dash';\n\nimport {\n  closest as domClosest,\n  event as domEvent,\n  matches as domMatches\n} from 'min-dom';\n\nimport {\n  hasModifier,\n  isCmd,\n  isKey,\n  isShift\n} from './KeyboardUtil';\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n    KEYUP_EVENT = 'keyboard.keyup';\n\nvar HANDLE_MODIFIER_ATTRIBUTE = 'input-handle-modified-keys';\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n */\nexport default function Keyboard(config, eventBus) {\n  var self = this;\n\n  this._config = config || {};\n  this._eventBus = eventBus;\n\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this);\n\n  // properly clean dom registrations\n  eventBus.on('diagram.destroy', function() {\n    self._fire('destroy');\n\n    self.unbind();\n  });\n\n  eventBus.on('diagram.init', function() {\n    self._fire('init');\n  });\n\n  eventBus.on('attach', function() {\n    if (config && config.bindTo) {\n      self.bind(config.bindTo);\n    }\n  });\n\n  eventBus.on('detach', function() {\n    self.unbind();\n  });\n}\n\nKeyboard.$inject = [\n  'config.keyboard',\n  'eventBus'\n];\n\nKeyboard.prototype._keydownHandler = function(event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\n\nKeyboard.prototype._keyupHandler = function(event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\n\nKeyboard.prototype._keyHandler = function(event, type) {\n  var eventBusResult;\n\n  if (this._isEventIgnored(event)) {\n    return;\n  }\n\n  var context = {\n    keyEvent: event\n  };\n\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\n\nKeyboard.prototype._isEventIgnored = function(event) {\n  return isInput(event.target) && this._isModifiedKeyIgnored(event);\n};\n\nKeyboard.prototype._isModifiedKeyIgnored = function(event) {\n  if (!isCmd(event)) {\n    return true;\n  }\n\n  var allowedModifiers = this._getAllowedModifiers(event.target);\n  return !allowedModifiers.includes(event.key);\n};\n\nKeyboard.prototype._getAllowedModifiers = function(element) {\n  var modifierContainer = domClosest(element, '[' + HANDLE_MODIFIER_ATTRIBUTE + ']', true);\n\n  if (!modifierContainer || (this._node && !this._node.contains(modifierContainer))) {\n    return [];\n  }\n\n  return modifierContainer.getAttribute(HANDLE_MODIFIER_ATTRIBUTE).split(',');\n};\n\nKeyboard.prototype.bind = function(node) {\n\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n\n  this._node = node;\n\n  // bind key events\n  domEvent.bind(node, 'keydown', this._keydownHandler, true);\n  domEvent.bind(node, 'keyup', this._keyupHandler, true);\n\n  this._fire('bind');\n};\n\nKeyboard.prototype.getBinding = function() {\n  return this._node;\n};\n\nKeyboard.prototype.unbind = function() {\n  var node = this._node;\n\n  if (node) {\n    this._fire('unbind');\n\n    // unbind key events\n    domEvent.unbind(node, 'keydown', this._keydownHandler, true);\n    domEvent.unbind(node, 'keyup', this._keyupHandler, true);\n  }\n\n  this._node = null;\n};\n\nKeyboard.prototype._fire = function(event) {\n  this._eventBus.fire('keyboard.' + event, { node: this._node });\n};\n\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Function} listener\n * @param {string} type\n */\nKeyboard.prototype.addListener = function(priority, listener, type) {\n  if (isFunction(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\nKeyboard.prototype.removeListener = function(listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\n\nKeyboard.prototype.hasModifier = hasModifier;\nKeyboard.prototype.isCmd = isCmd;\nKeyboard.prototype.isShift = isShift;\nKeyboard.prototype.isKey = isKey;\n\n\n\n// helpers ///////\n\nfunction isInput(target) {\n  return target && (domMatches(target, 'input, textarea') || target.contentEditable === 'true');\n}\n","import {\n  isCmd,\n  isKey,\n  isShift\n} from './KeyboardUtil';\n\nvar LOW_PRIORITY = 500;\n\nexport var KEYCODE_C = 67;\nexport var KEYCODE_V = 86;\nexport var KEYCODE_Y = 89;\nexport var KEYCODE_Z = 90;\n\nexport var KEYS_COPY = ['c', 'C', KEYCODE_C ];\nexport var KEYS_PASTE = [ 'v', 'V', KEYCODE_V ];\nexport var KEYS_REDO = [ 'y', 'Y', KEYCODE_Y ];\nexport var KEYS_UNDO = [ 'z', 'Z', KEYCODE_Z ];\n\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nexport default function KeyboardBindings(eventBus, keyboard) {\n\n  var self = this;\n\n  eventBus.on('editorActions.init', LOW_PRIORITY, function(event) {\n\n    var editorActions = event.editorActions;\n\n    self.registerBindings(keyboard, editorActions);\n  });\n}\n\nKeyboardBindings.$inject = [\n  'eventBus',\n  'keyboard'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && !isShift(event) && isKey(KEYS_UNDO, event)) {\n      editorActions.trigger('undo');\n\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && (isKey(KEYS_REDO, event) || (isKey(KEYS_UNDO, event) && isShift(event)))) {\n      editorActions.trigger('redo');\n\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_COPY, event)) {\n      editorActions.trigger('copy');\n\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_PASTE, event)) {\n      editorActions.trigger('paste');\n\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n    if (isKey([ '+', 'Add', '=' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ '-', 'Subtract' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: -1 });\n\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey('0', event) && isCmd(event)) {\n      editorActions.trigger('zoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey(['Backspace', 'Delete', 'Del' ], event)) {\n      editorActions.trigger('removeSelection');\n\n      return true;\n    }\n  });\n};","import Keyboard from './Keyboard';\nimport KeyboardBindings from './KeyboardBindings';\n\nexport default {\n  __init__: [ 'keyboard', 'keyboardBindings' ],\n  keyboard: [ 'type', Keyboard ],\n  keyboardBindings: [ 'type', KeyboardBindings ]\n};\n","import inherits from 'inherits';\nimport KeyboardBindings from 'diagram-js/lib/features/keyboard/KeyboardBindings';\n/**\n * DRD specific key bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\n\nexport default function DrdKeyboardBindings(injector) {\n  injector.invoke(KeyboardBindings, this);\n}\ninherits(DrdKeyboardBindings, KeyboardBindings);\nDrdKeyboardBindings.$inject = ['injector'];\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\n\nDrdKeyboardBindings.prototype.registerBindings = function (keyboard, editorActions) {\n  // inherit default bindings\n  KeyboardBindings.prototype.registerBindings.call(this, keyboard, editorActions);\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n\n  function addListener(action, fn) {\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  } // select all elements\n  // CTRL + A\n\n\n  addListener('selectElements', function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.isKey(['a', 'A'], event) && keyboard.isCmd(event)) {\n      editorActions.trigger('selectElements');\n      return true;\n    }\n  }); // activate lasso tool\n  // L\n\n  addListener('lassoTool', function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey(['l', 'L'], event)) {\n      editorActions.trigger('lassoTool');\n      return true;\n    }\n  }); // activate hand tool\n  // H\n\n  addListener('handTool', function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey(['h', 'H'], event)) {\n      editorActions.trigger('handTool');\n      return true;\n    }\n  }); // activate direct editing\n  // E\n\n  addListener('directEditing', function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey(['e', 'E'], event)) {\n      editorActions.trigger('directEditing');\n      return true;\n    }\n  });\n};\n//# sourceMappingURL=DrdKeyboardBindings.js.map","import KeyboardModule from 'diagram-js/lib/features/keyboard';\nimport DrdKeyboardBindings from './DrdKeyboardBindings';\nexport default {\n  __depends__: [KeyboardModule],\n  __init__: ['keyboardBindings'],\n  keyboardBindings: ['type', DrdKeyboardBindings]\n};\n//# sourceMappingURL=index.js.map","import { assign } from 'min-dash';\n\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 50,\n  moveSpeedAccelerated: 200\n};\n\n\n/**\n * A feature that allows users to move the canvas using the keyboard.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=50]\n * @param {number} [config.moveSpeedAccelerated=200]\n * @param {Keyboard} keyboard\n * @param {Canvas} canvas\n */\nexport default function KeyboardMove(\n    config,\n    keyboard,\n    canvas\n) {\n\n  var self = this;\n\n  this._config = assign({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(arrowsListener);\n\n\n  function arrowsListener(context) {\n\n    var event = context.keyEvent,\n        config = self._config;\n\n    if (!keyboard.isCmd(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\n      'ArrowLeft', 'Left',\n      'ArrowUp', 'Up',\n      'ArrowDown', 'Down',\n      'ArrowRight', 'Right'\n    ], event)) {\n\n      var speed = (\n        keyboard.isShift(event) ?\n          config.moveSpeedAccelerated :\n          config.moveSpeed\n      );\n\n      var direction;\n\n      switch (event.key) {\n      case 'ArrowLeft':\n      case 'Left':\n        direction = 'left';\n        break;\n      case 'ArrowUp':\n      case 'Up':\n        direction = 'up';\n        break;\n      case 'ArrowRight':\n      case 'Right':\n        direction = 'right';\n        break;\n      case 'ArrowDown':\n      case 'Down':\n        direction = 'down';\n        break;\n      }\n\n      self.moveCanvas({\n        speed: speed,\n        direction: direction\n      });\n\n      return true;\n    }\n  }\n\n  this.moveCanvas = function(opts) {\n\n    var dx = 0,\n        dy = 0,\n        speed = opts.speed;\n\n    var actualSpeed = speed / Math.min(Math.sqrt(canvas.viewbox().scale), 1);\n\n    switch (opts.direction) {\n    case 'left': // Left\n      dx = actualSpeed;\n      break;\n    case 'up': // Up\n      dy = actualSpeed;\n      break;\n    case 'right': // Right\n      dx = -actualSpeed;\n      break;\n    case 'down': // Down\n      dy = -actualSpeed;\n      break;\n    }\n\n    canvas.scroll({\n      dx: dx,\n      dy: dy\n    });\n  };\n\n}\n\n\nKeyboardMove.$inject = [\n  'config.keyboardMove',\n  'keyboard',\n  'canvas'\n];\n","import KeyboardModule from '../../features/keyboard';\n\nimport KeyboardMove from './KeyboardMove';\n\n\nexport default {\n  __depends__: [\n    KeyboardModule\n  ],\n  __init__: [ 'keyboardMove' ],\n  keyboardMove: [ 'type', KeyboardMove ]\n};","import {\n  assign\n} from 'min-dash';\n\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 1,\n  moveSpeedAccelerated: 10\n};\n\nvar HIGHER_PRIORITY = 1500;\n\nvar LEFT = 'left';\nvar UP = 'up';\nvar RIGHT = 'right';\nvar DOWN = 'down';\n\nvar KEY_TO_DIRECTION = {\n  ArrowLeft: LEFT,\n  Left: LEFT,\n  ArrowUp: UP,\n  Up: UP,\n  ArrowRight: RIGHT,\n  Right: RIGHT,\n  ArrowDown: DOWN,\n  Down: DOWN\n};\n\nvar DIRECTIONS_DELTA = {\n  left: function(speed) {\n    return {\n      x: -speed,\n      y: 0\n    };\n  },\n  up: function(speed) {\n    return {\n      x: 0,\n      y: -speed\n    };\n  },\n  right: function(speed) {\n    return {\n      x: speed,\n      y: 0\n    };\n  },\n  down: function(speed) {\n    return {\n      x: 0,\n      y: speed\n    };\n  }\n};\n\n\n/**\n * Enables to move selection with keyboard arrows.\n * Use with Shift for modified speed (default=1, with Shift=10).\n * Pressed Cmd/Ctrl turns the feature off.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=1]\n * @param {number} [config.moveSpeedAccelerated=10]\n * @param {Keyboard} keyboard\n * @param {Modeling} modeling\n * @param {Selection} selection\n */\nexport default function KeyboardMoveSelection(\n    config,\n    keyboard,\n    modeling,\n    rules,\n    selection\n) {\n\n  var self = this;\n\n  this._config = assign({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(HIGHER_PRIORITY, function(event) {\n\n    var keyEvent = event.keyEvent;\n\n    var direction = KEY_TO_DIRECTION[keyEvent.key];\n\n    if (!direction) {\n      return;\n    }\n\n    if (keyboard.isCmd(keyEvent)) {\n      return;\n    }\n\n    var accelerated = keyboard.isShift(keyEvent);\n\n    self.moveSelection(direction, accelerated);\n\n    return true;\n  });\n\n\n  /**\n   * Move selected elements in the given direction,\n   * optionally specifying accelerated movement.\n   *\n   * @param {string} direction\n   * @param {boolean} [accelerated=false]\n   */\n  this.moveSelection = function(direction, accelerated) {\n\n    var selectedElements = selection.get();\n\n    if (!selectedElements.length) {\n      return;\n    }\n\n    var speed = this._config[\n      accelerated ?\n        'moveSpeedAccelerated' :\n        'moveSpeed'\n    ];\n\n    var delta = DIRECTIONS_DELTA[direction](speed);\n\n    var canMove = rules.allowed('elements.move', {\n      shapes: selectedElements\n    });\n\n    if (canMove) {\n      modeling.moveElements(selectedElements, delta);\n    }\n  };\n\n}\n\nKeyboardMoveSelection.$inject = [\n  'config.keyboardMoveSelection',\n  'keyboard',\n  'modeling',\n  'rules',\n  'selection'\n];","import KeyboardModule from '../keyboard';\nimport SelectionModule from '../selection';\n\nimport KeyboardMoveSelection from './KeyboardMoveSelection';\n\nexport default {\n  __depends__: [\n    KeyboardModule,\n    SelectionModule\n  ],\n  __init__: [\n    'keyboardMoveSelection'\n  ],\n  keyboardMoveSelection: [ 'type', KeyboardMoveSelection ]\n};\n","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute` and `postExecute` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {Object}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {Array<Object>}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {Object}\n   * @property {Object[]} actions\n   * @property {Object[]} dirty\n   * @property { 'undo' | 'redo' | 'clear' | 'execute' | null } trigger the cause of the current excecution\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n\n  this._injector = injector;\n  this._eventBus = eventBus;\n\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command\n *\n * @param {string} command the command to execute\n * @param {Object} context the environment to execute the command in\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  var action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction(action);\n};\n\n\n/**\n * Ask whether a given command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param  {string} command the command to execute\n * @param  {Object} context the environment to execute the command in\n *\n * @return {boolean} true if the command can be executed\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  var action = { command: command, context: context };\n\n  var handler = this._getHandler(command);\n\n  var result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  var action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  var action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack\n *\n * @param {string} command\n * @param {CommandHandler} handler\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack\n * by instantiating it and injecting its dependencies.\n *\n * @param {string} command\n * @param {Function} a constructor for a {@link CommandHandler}\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  var handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n    self._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      self._markDirty(handler.revert(context));\n    }\n\n    self._revertedAction(action);\n\n    self._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  var names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ],\n      i, name, result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (i = 0; (name = names[i]); i++) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  var execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n\n    self._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      self._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    self._executedAction(action, redo);\n\n    self._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction(action);\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  var execution = this._currentExecution,\n      actions = execution.actions;\n\n  var baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  var execution = this._currentExecution,\n      trigger = execution.trigger,\n      actions = execution.actions,\n      dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  var execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  var stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","import {\n  getType as getElementType\n} from '../../util/Elements';\n\n/**\n * Adds change support to the diagram, including\n *\n * <ul>\n *   <li>redrawing shapes and connections on change</li>\n * </ul>\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {GraphicsFactory} graphicsFactory\n */\nexport default function ChangeSupport(\n    eventBus, canvas, elementRegistry,\n    graphicsFactory) {\n\n\n  // redraw shapes / connections on change\n\n  eventBus.on('element.changed', function(event) {\n\n    var element = event.element;\n\n    // element might have been deleted and replaced by new element with same ID\n    // thus check for parent of element except for root element\n    if (element.parent || element === canvas.getRootElement()) {\n      event.gfx = elementRegistry.getGraphics(element);\n    }\n\n    // shape + gfx may have been deleted\n    if (!event.gfx) {\n      return;\n    }\n\n    eventBus.fire(getElementType(element) + '.changed', event);\n  });\n\n  eventBus.on('elements.changed', function(event) {\n\n    var elements = event.elements;\n\n    elements.forEach(function(e) {\n      eventBus.fire('element.changed', { element: e });\n    });\n\n    graphicsFactory.updateContainments(elements);\n  });\n\n  eventBus.on('shape.changed', function(event) {\n    graphicsFactory.update('shape', event.element, event.gfx);\n  });\n\n  eventBus.on('connection.changed', function(event) {\n    graphicsFactory.update('connection', event.element, event.gfx);\n  });\n}\n\nChangeSupport.$inject = [\n  'eventBus',\n  'canvas',\n  'elementRegistry',\n  'graphicsFactory'\n];","import ChangeSupport from './ChangeSupport';\n\nexport default {\n  __init__: [ 'changeSupport'],\n  changeSupport: [ 'type', ChangeSupport ]\n};","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nfunction getLabelAttr(semantic) {\n  if (is(semantic, 'dmn:Decision') || is(semantic, 'dmn:BusinessKnowledgeModel') || is(semantic, 'dmn:InputData') || is(semantic, 'dmn:KnowledgeSource')) {\n    return 'name';\n  }\n\n  if (is(semantic, 'dmn:TextAnnotation')) {\n    return 'text';\n  }\n}\n\nexport function getLabel(element) {\n  var semantic = element.businessObject,\n      attr = getLabelAttr(semantic);\n\n  if (attr) {\n    return semantic[attr] || '';\n  }\n}\nexport function setLabel(element, text, isExternal) {\n  var semantic = element.businessObject,\n      attr = getLabelAttr(semantic);\n\n  if (attr) {\n    semantic[attr] = text;\n  } // show external label if not empty\n\n\n  if (isExternal) {\n    element.hidden = !text;\n  }\n\n  return element;\n}\n//# sourceMappingURL=LabelUtil.js.map","import { getLabel } from './LabelUtil';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { assign, isDefined } from 'min-dash';\nexport default function LabelEditingProvider(canvas, directEditing, eventBus, modeling, textRenderer) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n  this._textRenderer = textRenderer;\n  directEditing.registerProvider(this); // listen to dblclick on non-root elements\n\n  eventBus.on('element.dblclick', function (event) {\n    directEditing.activate(event.element);\n  }); // complete on followup canvas operation\n\n  eventBus.on(['autoPlace.start', 'canvas.viewbox.changing', 'drag.init', 'drillDown.click', 'element.mousedown', 'popupMenu.open'], function () {\n    directEditing.complete();\n  }); // cancel on command stack changes\n\n  eventBus.on(['commandStack.changed'], function () {\n    directEditing.cancel();\n  });\n  eventBus.on('create.end', 500, function (e) {\n    var element = e.shape;\n\n    if (is(element, 'dmn:Decision') || is(element, 'dmn:InputData') || is(element, 'dmn:BusinessKnowledgeModel') || is(element, 'dmn:KnowledgeSource') || is(element, 'dmn:TextAnnotation')) {\n      directEditing.activate(element);\n    }\n  });\n  eventBus.on('autoPlace.end', 500, function (event) {\n    directEditing.activate(event.shape);\n  });\n}\nLabelEditingProvider.$inject = ['canvas', 'directEditing', 'eventBus', 'modeling', 'textRenderer'];\n/**\n * Activate direct editing for drgs and text annotations.\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object} an object with properties bounds (position and size) and text\n */\n\nLabelEditingProvider.prototype.activate = function (element) {\n  var text = getLabel(element);\n\n  if (!isDefined(text)) {\n    return;\n  }\n\n  var context = {\n    text: text\n  };\n  var editingBBox = this.getEditingBBox(element);\n  assign(context, editingBBox);\n  var options = {}; // DRG elements\n\n  if (is(element, 'dmn:DRGElement')) {\n    assign(options, {\n      centerVertically: true\n    });\n  } // text annotations\n\n\n  if (is(element, 'dmn:TextAnnotation')) {\n    assign(options, {\n      resizable: true\n    });\n  }\n\n  assign(context, {\n    options: options\n  });\n  return context;\n};\n/**\n * Get the editing bounding box based on the element's size and position\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object}\n *         an object containing information about position and\n *         size (fixed or minimum and/or maximum)\n */\n\n\nLabelEditingProvider.prototype.getEditingBBox = function (element) {\n  var canvas = this._canvas;\n  var target = element.label || element;\n  var bbox = canvas.getAbsoluteBBox(target); // default position\n\n  var bounds = {\n    x: bbox.x,\n    y: bbox.y\n  };\n  var zoom = canvas.zoom();\n\n  var defaultStyle = this._textRenderer.getDefaultStyle(); // take zoom into account\n\n\n  var defaultFontSize = defaultStyle.fontSize * zoom,\n      defaultLineHeight = defaultStyle.lineHeight;\n  var style = {\n    fontFamily: this._textRenderer.getDefaultStyle().fontFamily,\n    fontWeight: this._textRenderer.getDefaultStyle().fontWeight\n  }; // DRG elements\n\n  if (is(element, 'dmn:DRGElement')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height\n    });\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: 7 * zoom + 'px',\n      paddingBottom: 7 * zoom + 'px',\n      paddingLeft: 5 * zoom + 'px',\n      paddingRight: 5 * zoom + 'px'\n    });\n  } // text annotations\n\n\n  if (is(element, 'dmn:TextAnnotation')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height,\n      minWidth: 30 * zoom,\n      minHeight: 10 * zoom\n    });\n    assign(style, {\n      textAlign: 'left',\n      paddingTop: 5 * zoom + 'px',\n      paddingBottom: 7 * zoom + 'px',\n      paddingLeft: 7 * zoom + 'px',\n      paddingRight: 5 * zoom + 'px',\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight\n    });\n  }\n\n  return {\n    bounds: bounds,\n    style: style\n  };\n};\n\nLabelEditingProvider.prototype.update = function (element, newLabel, activeContextText, bounds) {\n  var newBounds, bbox;\n\n  if (is(element, 'dmn:TextAnnotation')) {\n    bbox = this._canvas.getAbsoluteBBox(element);\n    newBounds = {\n      x: element.x,\n      y: element.y,\n      width: element.width / bbox.width * bounds.width,\n      height: element.height / bbox.height * bounds.height\n    };\n  }\n\n  if (isEmptyText(newLabel)) {\n    newLabel = null;\n  }\n\n  this._modeling.updateLabel(element, newLabel, newBounds);\n}; // helpers //////////\n\n\nfunction isEmptyText(label) {\n  return !label || !label.trim();\n}\n//# sourceMappingURL=LabelEditingProvider.js.map","import DiagramCommand from 'diagram-js/lib/command';\nimport DiagramChangeSupport from 'diagram-js/lib/features/change-support';\nimport DiagramDirectEditing from 'diagram-js-direct-editing';\nimport LabelEditingProvider from './LabelEditingProvider';\nexport default {\n  __depends__: [DiagramCommand, DiagramChangeSupport, DiagramDirectEditing],\n  __init__: ['labelEditingProvider'],\n  labelEditingProvider: ['type', LabelEditingProvider]\n};\n//# sourceMappingURL=index.js.map","import inherits from 'inherits';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n/**\n * Creates DMN-specific refs for new connection.\n *\n * @param {DrdFactory} drdFactory\n * @param {Injector} injector\n */\n\nexport default function CreateConnectionBehavior(drdFactory, injector) {\n  injector.invoke(CommandInterceptor, this);\n  this.preExecute('connection.create', function (context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        source = context.source,\n        target = context.target,\n        elementRef,\n        sourceRef,\n        targetRef;\n\n    if (is(connection, 'dmn:Association')) {\n      sourceRef = connectionBo.sourceRef = drdFactory.create('dmn:DMNElementReference', {\n        href: '#' + source.id\n      });\n      sourceRef.$parent = connectionBo;\n      targetRef = connectionBo.targetRef = drdFactory.create('dmn:DMNElementReference', {\n        href: '#' + target.id\n      });\n      targetRef.$parent = connectionBo;\n    } else {\n      elementRef = connectionBo['required' + getRequirementType(source)] = drdFactory.create('dmn:DMNElementReference', {\n        href: '#' + source.id\n      });\n      elementRef.$parent = connectionBo;\n    }\n  }, true);\n}\nCreateConnectionBehavior.$inject = ['drdFactory', 'injector'];\ninherits(CreateConnectionBehavior, CommandInterceptor); // helpers //////////\n\nfunction getRequirementType(source) {\n  if (is(source, 'dmn:BusinessKnowledgeModel')) {\n    return 'Knowledge';\n  } else if (is(source, 'dmn:Decision')) {\n    return 'Decision';\n  } else if (is(source, 'dmn:InputData')) {\n    return 'Input';\n  } else if (is(source, 'dmn:KnowledgeSource')) {\n    return 'Authority';\n  }\n}\n//# sourceMappingURL=CreateConnectionBehavior.js.map","import inherits from 'inherits';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { is, isAny } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { asTRBL, getMid, getOrientation } from 'diagram-js/lib/layout/LayoutUtil';\nimport { assign, forEach } from 'min-dash';\nvar LOW_PRIORITY = 500;\nexport default function LayoutConnectionBehavior(injector, layouter, modeling, rules) {\n  injector.invoke(CommandInterceptor, this); // specify connection start and end on connection create\n\n  this.preExecute(['connection.create', 'connection.reconnect'], function (context) {\n    var connection = context.connection,\n        source = context.newSource || context.source,\n        target = context.newTarget || context.target;\n\n    if (is(connection, 'dmn:InformationRequirement') && !rules.allowed('connection.connect', {\n      connection: connection,\n      source: source,\n      target: target\n    })) {\n      return;\n    }\n\n    if (!is(connection, 'dmn:InformationRequirement')) {\n      return;\n    }\n\n    var orientation = getOrientation(source, target);\n\n    if (!context.hints) {\n      context.hints = {};\n    }\n\n    assign(context.hints, getConnectionHints(source, target, orientation));\n  }, true);\n  /**\r\n   * Update incoming information requirements.\r\n   *\r\n   * @param {djs.model.Shape} target\r\n   * @param {Array<djs.model.Connection>} [informationRequirements]\r\n   * @param {string} [orientation]\r\n   */\n\n  function updateInformationRequirements(target, informationRequirements, orientation) {\n    // (1) get information requirements\n    if (!informationRequirements) {\n      informationRequirements = target.incoming.filter(function (incoming) {\n        return is(incoming, 'dmn:InformationRequirement');\n      });\n    }\n\n    var incomingInformationRequirementsByOrientation = {}; // (2) get information requirements per orientation\n\n    if (orientation) {\n      incomingInformationRequirementsByOrientation[orientation] = informationRequirements;\n    } else {\n      incomingInformationRequirementsByOrientation = getInformationRequirementsByOrientation(target, informationRequirements);\n    } // (3) update information requirements per orientation\n\n\n    forEach(incomingInformationRequirementsByOrientation, function (informationRequirements, orientation) {\n      // (3.1) sort information requirements\n      informationRequirements = sortInformationRequirements(informationRequirements, orientation); // (3.2) get new connection start and end\n\n      var connectionStartEnd = getConnectionsStartEnd(informationRequirements, target, orientation); // (3.3) update information requirements\n\n      informationRequirements.forEach(function (informationRequirement, index) {\n        var connectionStart = connectionStartEnd[index].start,\n            connectionEnd = connectionStartEnd[index].end;\n        var waypoints = layouter.layoutConnection(informationRequirement, {\n          connectionStart: connectionStart,\n          connectionEnd: connectionEnd\n        });\n        modeling.updateWaypoints(informationRequirement, waypoints);\n      });\n    });\n  } // update information requirements on connection create and delete\n  // update information requirements of new target on connection reconnect\n\n\n  this.postExecuted(['connection.create', 'connection.delete', 'connection.reconnect'], function (context) {\n    var connection = context.connection,\n        source = connection.source || context.source,\n        target = connection.target || context.target;\n\n    if (!is(connection, 'dmn:InformationRequirement')) {\n      return;\n    }\n\n    var orientation = getOrientation(source, target); // update all information requirements with same orientation\n\n    var informationRequirements = target.incoming.filter(function (incoming) {\n      var incomingOrientation = getOrientation(incoming.source, incoming.target);\n      return is(incoming, 'dmn:InformationRequirement') && isSameOrientation(incomingOrientation, orientation);\n    });\n\n    if (!informationRequirements.length) {\n      return;\n    }\n\n    updateInformationRequirements(target, informationRequirements, orientation);\n  }, true); // update information requirements of old target on connection reconnect\n\n  this.preExecute('connection.reconnect', function (context) {\n    var connection = context.connection,\n        source = connection.source,\n        target = connection.target;\n\n    if (!is(connection, 'dmn:InformationRequirement')) {\n      return;\n    }\n\n    var orientation = getOrientation(source, target); // update all information requirements with same orientation except reconnected\n\n    var informationRequirements = target.incoming.filter(function (incoming) {\n      var incomingOrientation = getOrientation(incoming.source, incoming.target);\n      return incoming !== connection && is(incoming, 'dmn:InformationRequirement') && isSameOrientation(incomingOrientation, orientation);\n    });\n\n    if (!informationRequirements.length) {\n      return;\n    }\n\n    updateInformationRequirements(target, informationRequirements, orientation);\n  }, true); // update information requirements on elements move\n\n  this.postExecuted('elements.move', LOW_PRIORITY, function (context) {\n    var shapes = context.shapes,\n        closure = context.closure,\n        enclosedConnections = closure.enclosedConnections;\n    shapes.forEach(function (shape) {\n      if (!isAny(shape, ['dmn:Decision', 'dmn:InputData'])) {\n        return;\n      } // (1) update incoming information requirements\n\n\n      var incomingInformationRequirements = shape.incoming.filter(function (incoming) {\n        return is(incoming, 'dmn:InformationRequirement') && !enclosedConnections[incoming.id];\n      });\n\n      if (incomingInformationRequirements.length) {\n        updateInformationRequirements(shape, incomingInformationRequirements);\n      } // (2) update outgoing information requirements\n\n\n      shape.outgoing.forEach(function (outgoing) {\n        if (!is(outgoing, 'dmn:InformationRequirement') || enclosedConnections[outgoing.id]) {\n          return;\n        }\n\n        updateInformationRequirements(outgoing.target);\n      });\n    });\n  }, true);\n}\nLayoutConnectionBehavior.$inject = ['injector', 'layouter', 'modeling', 'rules'];\ninherits(LayoutConnectionBehavior, CommandInterceptor); // helpers //////////\n\nfunction getConnectionHints(source, target, orientation) {\n  var connectionStart = getMid(source),\n      connectionEnd = getMid(target);\n\n  if (orientation.includes('bottom')) {\n    connectionStart.y = source.y;\n    connectionEnd.y = target.y + target.height;\n  } else if (orientation.includes('top')) {\n    connectionStart.y = source.y + source.height;\n    connectionEnd.y = target.y;\n  } else if (orientation.includes('right')) {\n    connectionStart.x = source.x;\n    connectionEnd.x = target.x + target.width;\n  } else {\n    connectionStart.x = source.x + source.width;\n    connectionEnd.x = target.x;\n  }\n\n  return {\n    connectionStart: connectionStart,\n    connectionEnd: connectionEnd\n  };\n}\n/**\r\n * Get connections start and end based on number of information requirements and\r\n * orientation.\r\n *\r\n * @param {Array<djs.model.Connection>} informationRequirements\r\n * @param {djs.model.Shape} target\r\n * @param {string} orientation\r\n *\r\n * @returns {Array<Object>}\r\n */\n\n\nfunction getConnectionsStartEnd(informationRequirements, target, orientation) {\n  return informationRequirements.map(function (informationRequirement, index) {\n    var source = informationRequirement.source,\n        sourceMid = getMid(source),\n        sourceTrbl = asTRBL(source),\n        targetTrbl = asTRBL(target);\n    var length = informationRequirements.length;\n\n    if (orientation.includes('bottom')) {\n      return {\n        start: {\n          x: sourceMid.x,\n          y: sourceTrbl.top\n        },\n        end: {\n          x: targetTrbl.left + target.width / (length + 1) * (index + 1),\n          y: targetTrbl.bottom\n        }\n      };\n    } else if (orientation.includes('top')) {\n      return {\n        start: {\n          x: sourceMid.x,\n          y: sourceTrbl.bottom\n        },\n        end: {\n          x: targetTrbl.left + target.width / (length + 1) * (index + 1),\n          y: targetTrbl.top\n        }\n      };\n    } else if (orientation.includes('right')) {\n      return {\n        start: {\n          x: sourceTrbl.left,\n          y: sourceMid.y\n        },\n        end: {\n          x: targetTrbl.right,\n          y: targetTrbl.top + target.height / (length + 1) * (index + 1)\n        }\n      };\n    } else {\n      return {\n        start: {\n          x: sourceTrbl.right,\n          y: sourceMid.y\n        },\n        end: {\n          x: targetTrbl.left,\n          y: targetTrbl.top + target.height / (length + 1) * (index + 1)\n        }\n      };\n    }\n  });\n}\n/**\r\n * Get information requirements by orientation.\r\n *\r\n * @param {djs.model.shape} target\r\n * @param {Array<djs.model.Connection>} informationRequirements\r\n *\r\n * @returns {Object}\r\n */\n\n\nfunction getInformationRequirementsByOrientation(target, informationRequirements) {\n  var incomingInformationRequirementsByOrientation = {};\n  informationRequirements.forEach(function (incoming) {\n    var orientation = getOrientation(incoming.source, target).split('-').shift();\n\n    if (!incomingInformationRequirementsByOrientation[orientation]) {\n      incomingInformationRequirementsByOrientation[orientation] = [];\n    }\n\n    incomingInformationRequirementsByOrientation[orientation].push(incoming);\n  });\n  return incomingInformationRequirementsByOrientation;\n}\n\nfunction isSameOrientation(orientationA, orientationB) {\n  return orientationA && orientationB && orientationA.split('-').shift() === orientationB.split('-').shift();\n}\n\nfunction sortInformationRequirements(informationRequirements, orientation) {\n  var axis;\n\n  if (orientation.includes('top') || orientation.includes('bottom')) {\n    axis = 'x';\n  } else {\n    axis = 'y';\n  }\n\n  return informationRequirements.sort(function (a, b) {\n    return getMid(a.source)[axis] - getMid(b.source)[axis];\n  });\n}\n//# sourceMappingURL=LayoutConnectionBehavior.js.map","import inherits from 'inherits';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nexport default function ReplaceConnectionBehavior(injector, modeling, rules) {\n  injector.invoke(CommandInterceptor, this);\n  this.preExecute('connection.reconnect', function (context) {\n    var connection = context.connection,\n        source = context.newSource || connection.source,\n        target = context.newTarget || connection.target,\n        waypoints = connection.waypoints.slice();\n    var allowed = rules.allowed('connection.reconnect', {\n      connection: connection,\n      source: source,\n      target: target\n    });\n\n    if (!allowed || allowed.type === connection.type) {\n      return;\n    }\n\n    context.connection = modeling.connect(source, target, {\n      type: allowed.type,\n      waypoints: waypoints\n    });\n    modeling.removeConnection(connection);\n  }, true);\n}\ninherits(ReplaceConnectionBehavior, CommandInterceptor);\nReplaceConnectionBehavior.$inject = ['injector', 'modeling', 'rules'];\n//# sourceMappingURL=ReplaceConnectionBehavior.js.map","import inherits from 'inherits';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n/**\n * Defines the behaviour of what happens to the elements inside a container\n * that morphs into another DRD element\n */\n\nexport default function ReplaceElementBehaviour(eventBus, modeling, selection) {\n  CommandInterceptor.call(this, eventBus);\n  this._modeling = modeling;\n  this.postExecuted(['shape.replace'], 1500, function (e) {\n    var context = e.context,\n        oldShape = context.oldShape,\n        newShape = context.newShape;\n    modeling.unclaimId(oldShape.businessObject.id, oldShape.businessObject);\n    modeling.updateProperties(newShape, {\n      id: oldShape.id\n    });\n    selection.select(newShape);\n  });\n}\ninherits(ReplaceElementBehaviour, CommandInterceptor);\nReplaceElementBehaviour.$inject = ['eventBus', 'modeling', 'selection'];\n//# sourceMappingURL=ReplaceElementBehavior.js.map","import {\n  forEach,\n  isFunction,\n  isArray,\n  isNumber,\n  isObject\n} from 'min-dash';\n\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug-in into the command execution for\n * extension and/or validation.\n *\n * @param {EventBus} eventBus\n *\n * @example\n *\n * import inherits from 'inherits';\n *\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * function CommandLogger(eventBus) {\n *   CommandInterceptor.call(this, eventBus);\n *\n *   this.preExecute(function(event) {\n *     console.log('command pre-execute', event);\n *   });\n * }\n *\n * inherits(CommandLogger, CommandInterceptor);\n *\n */\nexport default function CommandInterceptor(eventBus) {\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n/**\n * Register an interceptor for a command execution\n *\n * @param {string|Array<string>} [events] list of commands to register on\n * @param {string} [hook] command hook, i.e. preExecute, executed to listen on\n * @param {number} [priority] the priority on which to hook into the execution\n * @param {Function} handlerFn interceptor to be invoked with (event)\n * @param {boolean} unwrap if true, unwrap the event and pass (context, command, event) to the\n *                          listener instead\n * @param {Object} [that] Pass context (`this`) to the handler function\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  forEach(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n\nvar hooks = [\n  'canExecute',\n  'preExecute',\n  'preExecuted',\n  'execute',\n  'executed',\n  'postExecute',\n  'postExecuted',\n  'revert',\n  'reverted'\n];\n\n/*\n * Install hook shortcuts\n *\n * This will generate the CommandInterceptor#(preExecute|...|reverted) methods\n * which will in term forward to CommandInterceptor#on.\n */\nforEach(hooks, function(hook) {\n\n  /**\n   * {canExecute|preExecute|preExecuted|execute|executed|postExecute|postExecuted|revert|reverted}\n   *\n   * A named hook for plugging into the command execution\n   *\n   * @param {string|Array<string>} [events] list of commands to register on\n   * @param {number} [priority] the priority on which to hook into the execution\n   * @param {Function} handlerFn interceptor to be invoked with (event)\n   * @param {boolean} [unwrap=false] if true, unwrap the event and pass (context, command, event) to the\n   *                          listener instead\n   * @param {Object} [that] Pass context (`this`) to the handler function\n   */\n  CommandInterceptor.prototype[hook] = function(events, priority, handlerFn, unwrap, that) {\n\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n});\n","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { forEach } from 'min-dash';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { is, getBusinessObject } from '../../../util/ModelUtil';\nvar ID = 'id';\n\nvar IdChangeBehavior = /*#__PURE__*/function (_CommandInterceptor) {\n  _inherits(IdChangeBehavior, _CommandInterceptor);\n\n  var _super = _createSuper(IdChangeBehavior);\n\n  function IdChangeBehavior(eventBus) {\n    var _this;\n\n    _classCallCheck(this, IdChangeBehavior);\n\n    _this = _super.call(this, eventBus);\n\n    _this.executed('element.updateProperties', _this.updateIds.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  _createClass(IdChangeBehavior, [{\n    key: \"updateIds\",\n    value: function updateIds(_ref) {\n      var context = _ref.context;\n      var element = context.element,\n          oldProperties = context.oldProperties,\n          properties = context.properties;\n      var bo = getBusinessObject(element);\n\n      if (this.shouldSkipUpdate(bo, oldProperties, properties)) {\n        return;\n      }\n\n      var definitions = getDefinitions(bo);\n      var drgElements = definitions.get('drgElement');\n      drgElements.forEach(function (drgElement) {\n        updateElementReferences(drgElement, oldProperties.id, properties.id);\n      });\n      var artifacts = definitions.get('artifact');\n      artifacts.forEach(function (artifact) {\n        updateAssociationReferences(artifact, oldProperties.id, properties.id);\n      });\n    }\n  }, {\n    key: \"shouldSkipUpdate\",\n    value: function shouldSkipUpdate(bo, oldProperties, newProperties) {\n      return !isIdChange(oldProperties, newProperties) || !is(bo, 'dmn:DRGElement') && !is(bo, 'dmn:TextAnnotation');\n    }\n  }]);\n\n  return IdChangeBehavior;\n}(CommandInterceptor);\n\nexport { IdChangeBehavior as default };\nIdChangeBehavior.$inject = ['eventBus']; // helpers //////////////////////\n\nfunction isIdChange(oldProperties, properties) {\n  return ID in oldProperties && ID in properties;\n}\n/**\r\n * Walk up the tree until at the root to get to dmn:Definitions.\r\n *\r\n * @param {ModdleElement} element\r\n */\n\n\nfunction getDefinitions(element) {\n  var definitions = element;\n\n  while (!is(definitions, 'dmn:Definitions')) {\n    definitions = definitions.$parent;\n  }\n\n  return definitions;\n}\n\nfunction updateElementReferences(element, oldId, id) {\n  var handlers = {\n    authorityRequirement: function authorityRequirement() {\n      element.authorityRequirement.forEach(function (authorityRequirement) {\n        var requiredAuthority = authorityRequirement.requiredAuthority,\n            requiredDecision = authorityRequirement.requiredDecision,\n            requiredInput = authorityRequirement.requiredInput;\n\n        if (requiredAuthority && requiredAuthority.href === \"#\".concat(oldId)) {\n          requiredAuthority.href = \"#\".concat(id);\n        }\n\n        if (requiredDecision && requiredDecision.href === \"#\".concat(oldId)) {\n          requiredDecision.href = \"#\".concat(id);\n        }\n\n        if (requiredInput && requiredInput.href === \"#\".concat(oldId)) {\n          requiredInput.href = \"#\".concat(id);\n        }\n      });\n    },\n    informationRequirement: function informationRequirement() {\n      element.informationRequirement.forEach(function (informationRequirement) {\n        var requiredDecision = informationRequirement.requiredDecision,\n            requiredInput = informationRequirement.requiredInput;\n\n        if (requiredDecision && requiredDecision.href === \"#\".concat(oldId)) {\n          requiredDecision.href = \"#\".concat(id);\n        }\n\n        if (requiredInput && requiredInput.href === \"#\".concat(oldId)) {\n          requiredInput.href = \"#\".concat(id);\n        }\n      });\n    },\n    knowledgeRequirement: function knowledgeRequirement() {\n      element.knowledgeRequirement.forEach(function (knowledgeRequirement) {\n        var requiredKnowledge = knowledgeRequirement.requiredKnowledge;\n\n        if (requiredKnowledge && requiredKnowledge.href === \"#\".concat(oldId)) {\n          requiredKnowledge.href = \"#\".concat(id);\n        }\n      });\n    }\n  };\n  forEach(handlers, function (handler, key) {\n    if (element[key]) {\n      handler();\n    }\n  });\n}\n\nfunction updateAssociationReferences(element, oldId, id) {\n  var handlers = {\n    sourceRef: function sourceRef() {\n      var sourceRef = element.sourceRef;\n\n      if (sourceRef.href === \"#\".concat(oldId)) {\n        sourceRef.href = \"#\".concat(id);\n      }\n    },\n    targetRef: function targetRef() {\n      var targetRef = element.targetRef;\n\n      if (targetRef.href === \"#\".concat(oldId)) {\n        targetRef.href = \"#\".concat(id);\n      }\n    }\n  };\n  forEach(handlers, function (handler, key) {\n    if (element[key]) {\n      handler();\n    }\n  });\n}\n//# sourceMappingURL=IdChangeBehavior.js.map","import CreateConnectionBehavior from './CreateConnectionBehavior';\nimport LayoutConnectionBehavior from './LayoutConnectionBehavior';\nimport ReplaceConnectionBehavior from './ReplaceConnectionBehavior';\nimport ReplaceElementBehavior from './ReplaceElementBehavior';\nimport IdChangeBehavior from 'dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior';\nexport default {\n  __init__: ['createConnectionBehavior', 'idChangeBehavior', 'layoutConnectionBehavior', 'replaceConnectionBehavior', 'replaceElementBehavior'],\n  createConnectionBehavior: ['type', CreateConnectionBehavior],\n  idChangeBehavior: ['type', IdChangeBehavior],\n  layoutConnectionBehavior: ['type', LayoutConnectionBehavior],\n  replaceConnectionBehavior: ['type', ReplaceConnectionBehavior],\n  replaceElementBehavior: ['type', ReplaceElementBehavior]\n};\n//# sourceMappingURL=index.js.map","import inherits from 'inherits';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * A basic provider that may be extended to implement modeling rules.\n *\n * Extensions should implement the init method to actually add their custom\n * modeling checks. Checks may be added via the #addRule(action, fn) method.\n *\n * @param {EventBus} eventBus\n */\nexport default function RuleProvider(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n\n  this.init();\n}\n\nRuleProvider.$inject = [ 'eventBus' ];\n\ninherits(RuleProvider, CommandInterceptor);\n\n\n/**\n * Adds a modeling rule for the given action, implemented through\n * a callback function.\n *\n * The function will receive the modeling specific action context\n * to perform its check. It must return `false` to disallow the\n * action from happening or `true` to allow the action.\n *\n * A rule provider may pass over the evaluation to lower priority\n * rules by returning return nothing (or <code>undefined</code>).\n *\n * @example\n *\n * ResizableRules.prototype.init = function() {\n *\n *   \\/**\n *    * Return `true`, `false` or nothing to denote\n *    * _allowed_, _not allowed_ and _continue evaluating_.\n *    *\\/\n *   this.addRule('shape.resize', function(context) {\n *\n *     var shape = context.shape;\n *\n *     if (!context.newBounds) {\n *       // check general resizability\n *       if (!shape.resizable) {\n *         return false;\n *       }\n *\n *       // not returning anything (read: undefined)\n *       // will continue the evaluation of other rules\n *       // (with lower priority)\n *       return;\n *     } else {\n *       // element must have minimum size of 10*10 points\n *       return context.newBounds.width > 10 && context.newBounds.height > 10;\n *     }\n *   });\n * };\n *\n * @param {string|Array<string>} actions the identifier for the modeling action to check\n * @param {number} [priority] the priority at which this rule is being applied\n * @param {Function} fn the callback function that performs the actual check\n */\nRuleProvider.prototype.addRule = function(actions, priority, fn) {\n\n  var self = this;\n\n  if (typeof actions === 'string') {\n    actions = [ actions ];\n  }\n\n  actions.forEach(function(action) {\n\n    self.canExecute(action, priority, function(context, action, event) {\n      return fn(context);\n    }, true);\n  });\n};\n\n/**\n * Implement this method to add new rules during provider initialization.\n */\nRuleProvider.prototype.init = function() {};","import { is, isAny } from 'dmn-js-shared/lib/util/ModelUtil';\nimport inherits from 'inherits';\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\nimport { every, isArray } from 'min-dash';\n/**\n * DRD modeling rules.\n */\n\nexport default function DrdRules(injector) {\n  injector.invoke(RuleProvider, this);\n}\ninherits(DrdRules, RuleProvider);\nDrdRules.$inject = ['injector'];\n\nDrdRules.prototype.init = function () {\n  this.addRule('connection.create', function (context) {\n    var source = context.source,\n        target = context.target;\n    return canConnect(source, target);\n  });\n  this.addRule('connection.reconnect', function (context) {\n    var connection = context.connection,\n        source = context.source,\n        target = context.target;\n    return canConnect(source, target, connection);\n  });\n  this.addRule('connection.updateWaypoints', function (context) {\n    var connection = context.connection;\n    return {\n      type: connection.type,\n      businessObject: connection.businessObject\n    };\n  });\n  this.addRule('elements.move', function (context) {\n    var target = context.target,\n        shapes = context.shapes,\n        position = context.position;\n    return canMove(shapes, target, position);\n  });\n  this.addRule('shape.create', function (context) {\n    var shape = context.shape,\n        target = context.target;\n    return canCreate(shape, target);\n  });\n  this.addRule('shape.resize', function (context) {\n    var shape = context.shape;\n    return is(shape, 'dmn:TextAnnotation');\n  });\n};\n\nDrdRules.prototype.canConnect = canConnect;\nDrdRules.prototype.canCreate = canCreate;\nDrdRules.prototype.canMove = canMove;\n\nfunction canConnect(source, target) {\n  if (!source || isLabel(source) || !target || isLabel(target)) {\n    return null;\n  }\n\n  if (source === target) {\n    return false;\n  }\n\n  if (is(source, 'dmn:BusinessKnowledgeModel') && isAny(target, ['dmn:BusinessKnowledgeModel', 'dmn:Decision'])) {\n    return {\n      type: 'dmn:KnowledgeRequirement'\n    };\n  }\n\n  if (is(source, 'dmn:Decision')) {\n    if (is(target, 'dmn:Decision')) {\n      return {\n        type: 'dmn:InformationRequirement'\n      };\n    }\n\n    if (is(target, 'dmn:KnowledgeSource')) {\n      return {\n        type: 'dmn:AuthorityRequirement'\n      };\n    }\n  }\n\n  if (is(source, 'dmn:Definitions') || is(target, 'dmn:Definitions')) {\n    return false;\n  }\n\n  if (is(source, 'dmn:InputData')) {\n    if (is(target, 'dmn:Decision')) {\n      return {\n        type: 'dmn:InformationRequirement'\n      };\n    }\n\n    if (is(target, 'dmn:KnowledgeSource')) {\n      return {\n        type: 'dmn:AuthorityRequirement'\n      };\n    }\n  }\n\n  if (is(source, 'dmn:KnowledgeSource') && isAny(target, ['dmn:BusinessKnowledgeModel', 'dmn:Decision', 'dmn:KnowledgeSource'])) {\n    return {\n      type: 'dmn:AuthorityRequirement'\n    };\n  }\n\n  if (is(source, 'dmn:TextAnnotation') && !is(target, 'dmn:TextAnnotation') || !is(source, 'dmn:TextAnnotation') && is(target, 'dmn:TextAnnotation')) {\n    return {\n      type: 'dmn:Association'\n    };\n  }\n\n  return false;\n}\n\nfunction canCreate(shape, target) {\n  return isAny(shape, ['dmn:BusinessKnowledgeModel', 'dmn:Decision', 'dmn:InputData', 'dmn:KnowledgeSource', 'dmn:TextAnnotation']) && is(target, 'dmn:Definitions');\n}\n\nfunction canMove(elements, target) {\n  if (!isArray(elements)) {\n    elements = [elements];\n  } // allow default move check to start move operation\n\n\n  if (!target) {\n    return true;\n  }\n\n  if (every(elements, function (element) {\n    return isAny(element, ['dmn:BusinessKnowledgeModel', 'dmn:Decision', 'dmn:InputData', 'dmn:KnowledgeSource', 'dmn:TextAnnotation', 'dmn:InformationRequirement', 'dmn:AuthorityRequirement', 'dmn:KnowledgeRequirement', 'dmn:Association']);\n  }) && is(target, 'dmn:Definitions')) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function isLabel(element) {\n  return !!element.labelTarget;\n}\n//# sourceMappingURL=DrdRules.js.map","import DiagramRulesModule from 'diagram-js/lib/features/rules';\nimport DrdRules from './DrdRules';\nexport default {\n  __depends__: [DiagramRulesModule],\n  __init__: ['drdRules'],\n  drdRules: ['type', DrdRules]\n};\n//# sourceMappingURL=index.js.map","import { assign, pick } from 'min-dash';\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\nexport default function DrdFactory(moddle) {\n  this._model = moddle;\n}\nDrdFactory.$inject = ['moddle'];\n\nDrdFactory.prototype._needsId = function (element) {\n  return isAny(element, ['dmn:Artifact', 'dmn:DMNElement', 'dmn:DRGElement', 'dmndi:DMNDiagram', 'dmndi:DMNDiagramElement']);\n};\n\nDrdFactory.prototype._ensureId = function (element) {\n  var prefix = (element.$type || '').replace(/^[^:]*:/g, '') + '_';\n\n  if (!element.id && this._needsId(element)) {\n    element.id = this._model.ids.nextPrefixed(prefix, element);\n  }\n};\n\nDrdFactory.prototype.create = function (type, attrs) {\n  var element = this._model.create(type, attrs || {});\n\n  this._ensureId(element);\n\n  return element;\n};\n\nDrdFactory.prototype.createDiShape = function (semantic, bounds, attrs) {\n  return this.create('dmndi:DMNShape', assign({\n    dmnElementRef: semantic,\n    bounds: this.createDiBounds(bounds)\n  }, attrs));\n};\n\nDrdFactory.prototype.createDiBounds = function (bounds) {\n  return this.create('dc:Bounds', bounds);\n};\n\nDrdFactory.prototype.createDiEdge = function (semantic, waypoints, attrs) {\n  return this.create('dmndi:DMNEdge', {\n    dmnElementRef: semantic,\n    waypoint: this.createDiWaypoints(waypoints)\n  }, attrs);\n};\n\nDrdFactory.prototype.createDiWaypoints = function (waypoints) {\n  var self = this;\n  return waypoints.map(function (waypoint) {\n    return self.createDiWaypoint(waypoint);\n  });\n};\n\nDrdFactory.prototype.createDiWaypoint = function (waypoint) {\n  return this.create('dc:Point', pick(waypoint, ['x', 'y']));\n};\n\nDrdFactory.prototype.createExtensionElements = function () {\n  return this.create('dmn:ExtensionElements', {\n    values: []\n  });\n};\n//# sourceMappingURL=DrdFactory.js.map","import { assign } from 'min-dash';\nimport inherits from 'inherits';\nimport { remove as collectionRemove, add as collectionAdd } from 'diagram-js/lib/util/Collections';\nimport { is, isAny } from 'dmn-js-shared/lib/util/ModelUtil';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n/**\n * Update DMN 1.3 information.\n */\n\nexport default function DrdUpdater(connectionDocking, definitionPropertiesView, drdFactory, drdRules, injector) {\n  injector.invoke(CommandInterceptor, this);\n  this._definitionPropertiesView = definitionPropertiesView;\n  this._drdFactory = drdFactory;\n  this._drdRules = drdRules;\n  var self = this;\n\n  function cropConnection(context) {\n    var connection = context.connection,\n        cropped = context.cropped;\n\n    if (!cropped) {\n      connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n      context.cropped = true;\n    }\n  }\n\n  this.executed(['connection.create', 'connection.layout'], cropConnection, true);\n  this.reverted(['connection.layout'], function (context) {\n    delete context.cropped;\n  }, true);\n\n  function updateParent(context) {\n    var connection = context.connection,\n        parent = context.parent,\n        shape = context.shape;\n\n    if (connection && !is(connection, 'dmn:Association')) {\n      parent = connection.target;\n    }\n\n    self.updateParent(shape || connection, parent);\n  }\n\n  function reverseUpdateParent(context) {\n    var connection = context.connection,\n        shape = context.shape;\n    var oldParent = context.parent || context.newParent;\n\n    if (connection && !is(connection, 'dmn:Association')) {\n      oldParent = connection.target;\n    }\n\n    self.updateParent(shape || connection, oldParent);\n  }\n\n  this.executed(['connection.create', 'connection.delete', 'connection.move', 'shape.create', 'shape.delete'], updateParent, true);\n  this.reverted(['connection.create', 'connection.delete', 'connection.move', 'shape.create', 'shape.delete'], reverseUpdateParent, true);\n\n  function updateBounds(context) {\n    var shape = context.shape;\n\n    if (!(is(shape, 'dmn:DRGElement') || is(shape, 'dmn:TextAnnotation'))) {\n      return;\n    }\n\n    self.updateBounds(shape);\n  }\n\n  this.executed(['shape.create', 'shape.move', 'shape.resize'], updateBounds, true);\n  this.reverted(['shape.create', 'shape.move', 'shape.resize'], updateBounds, true);\n\n  function updateConnectionWaypoints(context) {\n    self.updateConnectionWaypoints(context);\n  }\n\n  this.executed(['connection.create', 'connection.layout', 'connection.move', 'connection.updateWaypoints'], updateConnectionWaypoints, true);\n  this.reverted(['connection.create', 'connection.layout', 'connection.move', 'connection.updateWaypoints'], updateConnectionWaypoints, true);\n  this.executed('connection.create', function (context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        target = context.target,\n        targetBo = target.businessObject;\n\n    if (is(connection, 'dmn:Association')) {\n      updateParent(context);\n    } else {\n      // parent is target\n      self.updateSemanticParent(connectionBo, targetBo);\n    }\n  }, true);\n  this.reverted('connection.create', function (context) {\n    reverseUpdateParent(context);\n  }, true);\n  this.executed('connection.reconnect', function (context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        newTarget = context.newTarget,\n        newTargetBo = newTarget.businessObject;\n\n    if (is(connectionBo, 'dmn:Association')) {\n      return;\n    }\n\n    self.updateSemanticParent(connectionBo, newTargetBo);\n  }, true);\n  this.reverted('connection.reconnect', function (context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        oldTarget = context.oldTarget,\n        oldTargetBo = oldTarget.businessObject;\n\n    if (is(connectionBo, 'dmn:Association')) {\n      return;\n    }\n\n    self.updateSemanticParent(connectionBo, oldTargetBo);\n  }, true);\n  this.executed('element.updateProperties', function (context) {\n    definitionPropertiesView.update();\n  }, true);\n  this.reverted('element.updateProperties', function (context) {\n    definitionPropertiesView.update();\n  }, true);\n}\ninherits(DrdUpdater, CommandInterceptor);\nDrdUpdater.$inject = ['connectionDocking', 'definitionPropertiesView', 'drdFactory', 'drdRules', 'injector'];\n\nDrdUpdater.prototype.updateBounds = function (shape) {\n  var businessObject = shape.businessObject,\n      bounds = businessObject.di.bounds; // update bounds\n\n  assign(bounds, {\n    x: shape.x,\n    y: shape.y,\n    width: shape.width,\n    height: shape.height\n  });\n};\n\nDrdUpdater.prototype.updateConnectionWaypoints = function (context) {\n  var drdFactory = this._drdFactory;\n  var connection = context.connection,\n      businessObject = connection.businessObject,\n      edge = businessObject.di;\n  edge.waypoint = drdFactory.createDiWaypoints(connection.waypoints).map(function (waypoint) {\n    waypoint.$parent = edge;\n    return waypoint;\n  });\n};\n\nDrdUpdater.prototype.updateParent = function (element, oldParent) {\n  var parent = element.parent;\n\n  if (!is(element, 'dmn:DRGElement') && !is(element, 'dmn:Artifact')) {\n    parent = oldParent;\n  }\n\n  var businessObject = element.businessObject,\n      parentBo = parent && parent.businessObject;\n  this.updateSemanticParent(businessObject, parentBo);\n  this.updateDiParent(businessObject.di, parentBo && parentBo.di);\n};\n\nDrdUpdater.prototype.updateSemanticParent = function (businessObject, parent) {\n  var children, containment;\n\n  if (businessObject.$parent === parent) {\n    return;\n  }\n\n  if (is(businessObject, 'dmn:DRGElement')) {\n    containment = 'drgElement';\n  } else if (is(businessObject, 'dmn:Artifact')) {\n    containment = 'artifact';\n  } else if (is(businessObject, 'dmn:InformationRequirement')) {\n    containment = 'informationRequirement';\n  } else if (is(businessObject, 'dmn:AuthorityRequirement')) {\n    containment = 'authorityRequirement';\n  } else if (is(businessObject, 'dmn:KnowledgeRequirement')) {\n    containment = 'knowledgeRequirement';\n  }\n\n  if (businessObject.$parent) {\n    // remove from old parent\n    children = businessObject.$parent.get(containment);\n    collectionRemove(children, businessObject);\n  }\n\n  if (parent) {\n    // add to new parent\n    children = parent.get(containment);\n\n    if (children) {\n      children.push(businessObject);\n      businessObject.$parent = parent;\n    }\n  } else {\n    businessObject.$parent = null;\n  }\n};\n\nDrdUpdater.prototype.updateDiParent = function (di, parentDi) {\n  if (di.$parent === parentDi) {\n    return;\n  }\n\n  if (isAny(di, ['dmndi:DMNEdge', 'dmndi:DMNShape'])) {\n    var diagram = parentDi || di;\n\n    while (!is(diagram, 'dmndi:DMNDiagram')) {\n      diagram = diagram.$parent;\n    }\n\n    var diagramElements = diagram.get('diagramElements');\n\n    if (parentDi) {\n      di.$parent = diagram;\n      collectionAdd(diagramElements, di);\n    } else {\n      di.$parent = null;\n      collectionRemove(diagramElements, di);\n    }\n  } else {\n    throw new Error('unsupported');\n  }\n};\n//# sourceMappingURL=DrdUpdater.js.map","import { forEach } from 'min-dash';\n\n/**\n * A handler that align elements in a certain way.\n *\n */\nexport default function AlignElements(modeling, canvas) {\n  this._modeling = modeling;\n  this._canvas = canvas;\n}\n\nAlignElements.$inject = [ 'modeling', 'canvas' ];\n\n\nAlignElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var elements = context.elements,\n      alignment = context.alignment;\n\n\n  forEach(elements, function(element) {\n    var delta = {\n      x: 0,\n      y: 0\n    };\n\n    if (alignment.left) {\n      delta.x = alignment.left - element.x;\n\n    } else if (alignment.right) {\n      delta.x = (alignment.right - element.width) - element.x;\n\n    } else if (alignment.center) {\n      delta.x = (alignment.center - Math.round(element.width / 2)) - element.x;\n\n    } else if (alignment.top) {\n      delta.y = alignment.top - element.y;\n\n    } else if (alignment.bottom) {\n      delta.y = (alignment.bottom - element.height) - element.y;\n\n    } else if (alignment.middle) {\n      delta.y = (alignment.middle - Math.round(element.height / 2)) - element.y;\n    }\n\n    modeling.moveElements([ element ], delta, element.parent);\n  });\n};\n\nAlignElements.prototype.postExecute = function(context) {\n\n};\n","import { some } from 'min-dash';\n\n\n/**\n * A handler that implements reversible appending of shapes\n * to a source shape.\n *\n * @param {canvas} Canvas\n * @param {elementFactory} ElementFactory\n * @param {modeling} Modeling\n */\nexport default function AppendShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nAppendShapeHandler.$inject = [ 'modeling' ];\n\n\n// api //////////////////////\n\n\n/**\n * Creates a new shape\n *\n * @param {Object} context\n * @param {ElementDescriptor} context.shape the new shape\n * @param {ElementDescriptor} context.source the source object\n * @param {ElementDescriptor} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nAppendShapeHandler.prototype.preExecute = function(context) {\n\n  var source = context.source;\n\n  if (!source) {\n    throw new Error('source required');\n  }\n\n  var target = context.target || source.parent,\n      shape = context.shape,\n      hints = context.hints || {};\n\n  shape = context.shape =\n    this._modeling.createShape(\n      shape,\n      context.position,\n      target, { attach: hints.attach });\n\n  context.shape = shape;\n};\n\nAppendShapeHandler.prototype.postExecute = function(context) {\n  var hints = context.hints || {};\n\n  if (!existsConnection(context.source, context.shape)) {\n\n    // create connection\n    if (hints.connectionTarget === context.source) {\n      this._modeling.connect(context.shape, context.source, context.connection);\n    } else {\n      this._modeling.connect(context.source, context.shape, context.connection);\n    }\n  }\n};\n\n\nfunction existsConnection(source, target) {\n  return some(source.outgoing, function(c) {\n    return c.target === target;\n  });\n}","export default function CreateConnectionHandler(canvas, layouter) {\n  this._canvas = canvas;\n  this._layouter = layouter;\n}\n\nCreateConnectionHandler.$inject = [ 'canvas', 'layouter' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {djs.element.Base} context.source the source object\n * @param {djs.element.Base} context.target the parent object\n * @param {Point} context.position position of the new element\n */\nCreateConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      source = context.source,\n      target = context.target,\n      parent = context.parent,\n      parentIndex = context.parentIndex,\n      hints = context.hints;\n\n  if (!source || !target) {\n    throw new Error('source and target required');\n  }\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  connection.source = source;\n  connection.target = target;\n\n  if (!connection.waypoints) {\n    connection.waypoints = this._layouter.layoutConnection(connection, hints);\n  }\n\n  // add connection\n  this._canvas.addConnection(connection, parent, parentIndex);\n\n  return connection;\n};\n\nCreateConnectionHandler.prototype.revert = function(context) {\n  var connection = context.connection;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};","import {\r\n  assign,\r\n  forEach,\r\n  isNumber,\r\n  map,\r\n  pick,\r\n  values\r\n} from 'min-dash';\r\n\r\nimport {\r\n  getBBox,\r\n  getParents\r\n} from '../../../util/Elements';\r\n\r\nvar round = Math.round;\r\n\r\nexport default function CreateElementsHandler(modeling) {\r\n  this._modeling = modeling;\r\n}\r\n\r\nCreateElementsHandler.$inject = [\r\n  'modeling'\r\n];\r\n\r\nCreateElementsHandler.prototype.preExecute = function(context) {\r\n  var elements = context.elements,\r\n      parent = context.parent,\r\n      parentIndex = context.parentIndex,\r\n      position = context.position,\r\n      hints = context.hints;\r\n\r\n  var modeling = this._modeling;\r\n\r\n  // make sure each element has x and y\r\n  forEach(elements, function(element) {\r\n    if (!isNumber(element.x)) {\r\n      element.x = 0;\r\n    }\r\n\r\n    if (!isNumber(element.y)) {\r\n      element.y = 0;\r\n    }\r\n  });\r\n\r\n  var bbox = getBBox(elements);\r\n\r\n  // center elements around position\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      element.waypoints = map(element.waypoints, function(waypoint) {\r\n        return {\r\n          x: round(waypoint.x - bbox.x - bbox.width / 2 + position.x),\r\n          y: round(waypoint.y - bbox.y - bbox.height / 2 + position.y)\r\n        };\r\n      });\r\n    }\r\n\r\n    assign(element, {\r\n      x: round(element.x - bbox.x - bbox.width / 2 + position.x),\r\n      y: round(element.y - bbox.y - bbox.height / 2 + position.y)\r\n    });\r\n  });\r\n\r\n  var parents = getParents(elements);\r\n\r\n  var cache = {};\r\n\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      cache[ element.id ] = isNumber(parentIndex) ?\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          parentIndex,\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        ) :\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        );\r\n\r\n      return;\r\n    }\r\n\r\n    var createShapeHints = assign({}, hints);\r\n\r\n    if (parents.indexOf(element) === -1) {\r\n      createShapeHints.autoResize = false;\r\n    }\r\n\r\n    cache[ element.id ] = isNumber(parentIndex) ?\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        parentIndex,\r\n        createShapeHints\r\n      ) :\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        createShapeHints\r\n      );\r\n  });\r\n\r\n  context.elements = values(cache);\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}","import { assign } from 'min-dash';\n\nvar round = Math.round;\n\n\n/**\n * A handler that implements reversible addition of shapes.\n *\n * @param {canvas} Canvas\n */\nexport default function CreateShapeHandler(canvas) {\n  this._canvas = canvas;\n}\n\nCreateShapeHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {djs.model.Base} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nCreateShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      positionOrBounds = context.position,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  if (!positionOrBounds) {\n    throw new Error('position required');\n  }\n\n  // (1) add at event center position _or_ at given bounds\n  if (positionOrBounds.width !== undefined) {\n    assign(shape, positionOrBounds);\n  } else {\n    assign(shape, {\n      x: positionOrBounds.x - round(shape.width / 2),\n      y: positionOrBounds.y - round(shape.height / 2)\n    });\n  }\n\n  // (2) add to canvas\n  this._canvas.addShape(shape, parent, parentIndex);\n\n  return shape;\n};\n\n\n/**\n * Undo append by removing the shape\n */\nCreateShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape;\n\n  // (3) remove form canvas\n  this._canvas.removeShape(shape);\n\n  return shape;\n};","import inherits from 'inherits';\n\nimport CreateShapeHandler from './CreateShapeHandler';\n\n\n/**\n * A handler that attaches a label to a given target shape.\n *\n * @param {Canvas} canvas\n */\nexport default function CreateLabelHandler(canvas) {\n  CreateShapeHandler.call(this, canvas);\n}\n\ninherits(CreateLabelHandler, CreateShapeHandler);\n\nCreateLabelHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\nvar originalExecute = CreateShapeHandler.prototype.execute;\n\n/**\n * Appends a label to a target shape.\n *\n * @method CreateLabelHandler#execute\n *\n * @param {Object} context\n * @param {ElementDescriptor} context.target the element the label is attached to\n * @param {ElementDescriptor} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nCreateLabelHandler.prototype.execute = function(context) {\n\n  var label = context.shape;\n\n  ensureValidDimensions(label);\n\n  label.labelTarget = context.labelTarget;\n\n  return originalExecute.call(this, context);\n};\n\nvar originalRevert = CreateShapeHandler.prototype.revert;\n\n/**\n * Undo append by removing the shape\n */\nCreateLabelHandler.prototype.revert = function(context) {\n  context.shape.labelTarget = null;\n\n  return originalRevert.call(this, context);\n};\n\n\n// helpers //////////////////////\n\nfunction ensureValidDimensions(label) {\n\n  // make sure a label has valid { width, height } dimensions\n  [ 'width', 'height' ].forEach(function(prop) {\n    if (typeof label[prop] === 'undefined') {\n      label[prop] = 0;\n    }\n  });\n}","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\n\n/**\n * A handler that implements reversible deletion of Connections.\n */\nexport default function DeleteConnectionHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteConnectionHandler.$inject = [\n  'canvas',\n  'modeling'\n];\n\n\nDeleteConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      parent = connection.parent;\n\n  context.parent = parent;\n\n  // remember containment\n  context.parentIndex = collectionIdx(parent.children, connection);\n\n  context.source = connection.source;\n  context.target = connection.target;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};\n\n/**\n * Command revert implementation.\n */\nDeleteConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  connection.source = context.source;\n  connection.target = context.target;\n\n  // restore containment\n  collectionAdd(parent.children, connection, parentIndex);\n\n  this._canvas.addConnection(connection, parent);\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n\nexport default function DeleteElementsHandler(modeling, elementRegistry) {\n  this._modeling = modeling;\n  this._elementRegistry = elementRegistry;\n}\n\nDeleteElementsHandler.$inject = [\n  'modeling',\n  'elementRegistry'\n];\n\n\nDeleteElementsHandler.prototype.postExecute = function(context) {\n\n  var modeling = this._modeling,\n      elementRegistry = this._elementRegistry,\n      elements = context.elements;\n\n  forEach(elements, function(element) {\n\n    // element may have been removed with previous\n    // remove operations already (e.g. in case of nesting)\n    if (!elementRegistry.get(element.id)) {\n      return;\n    }\n\n    if (element.waypoints) {\n      modeling.removeConnection(element);\n    } else {\n      modeling.removeShape(element);\n    }\n  });\n};","/**\n * Remove from the beginning of a collection until it is empty.\n *\n * This is a null-safe operation that ensures elements\n * are being removed from the given collection until the\n * collection is empty.\n *\n * The implementation deals with the fact that a remove operation\n * may touch, i.e. remove multiple elements in the collection\n * at a time.\n *\n * @param {Array<Object>} [collection]\n * @param {Function} removeFn\n *\n * @return {Array<Object>} the cleared collection\n */\nexport function saveClear(collection, removeFn) {\n\n  if (typeof removeFn !== 'function') {\n    throw new Error('removeFn iterator must be a function');\n  }\n\n  if (!collection) {\n    return;\n  }\n\n  var e;\n\n  while ((e = collection[0])) {\n    removeFn(e);\n  }\n\n  return collection;\n}\n","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\nimport { saveClear } from '../../../util/Removal';\n\n\n/**\n * A handler that implements reversible deletion of shapes.\n *\n */\nexport default function DeleteShapeHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteShapeHandler.$inject = [ 'canvas', 'modeling' ];\n\n\n/**\n * - Remove connections\n * - Remove all direct children\n */\nDeleteShapeHandler.prototype.preExecute = function(context) {\n\n  var modeling = this._modeling;\n\n  var shape = context.shape;\n\n  // remove connections\n  saveClear(shape.incoming, function(connection) {\n\n    // To make sure that the connection isn't removed twice\n    // For example if a container is removed\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  saveClear(shape.outgoing, function(connection) {\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  // remove child shapes and connections\n  saveClear(shape.children, function(child) {\n    if (isConnection(child)) {\n      modeling.removeConnection(child, { nested: true });\n    } else {\n      modeling.removeShape(child, { nested: true });\n    }\n  });\n};\n\n/**\n * Remove shape and remember the parent\n */\nDeleteShapeHandler.prototype.execute = function(context) {\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = shape.parent;\n\n  context.oldParent = oldParent;\n\n  // remove containment\n  context.oldParentIndex = collectionIdx(oldParent.children, shape);\n\n  // remove shape\n  canvas.removeShape(shape);\n\n  return shape;\n};\n\n\n/**\n * Command revert implementation\n */\nDeleteShapeHandler.prototype.revert = function(context) {\n\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex;\n\n  // restore containment\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  canvas.addShape(shape, oldParent);\n\n  return shape;\n};\n\nfunction isConnection(element) {\n  return element.waypoints;\n}\n","import {\n  forEach,\n  sortBy\n} from 'min-dash';\n\n\n/**\n * A handler that distributes elements evenly.\n */\nexport default function DistributeElements(modeling) {\n  this._modeling = modeling;\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\nvar OFF_AXIS = {\n  x: 'y',\n  y: 'x'\n};\n\nDistributeElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var groups = context.groups,\n      axis = context.axis,\n      dimension = context.dimension;\n\n  function updateRange(group, element) {\n    group.range.min = Math.min(element[axis], group.range.min);\n    group.range.max = Math.max(element[axis] + element[dimension], group.range.max);\n  }\n\n  function center(element) {\n    return element[axis] + element[dimension] / 2;\n  }\n\n  function lastIdx(arr) {\n    return arr.length - 1;\n  }\n\n  function rangeDiff(range) {\n    return range.max - range.min;\n  }\n\n  function centerElement(refCenter, element) {\n    var delta = { y: 0 };\n\n    delta[axis] = refCenter - center(element);\n\n    if (delta[axis]) {\n\n      delta[OFF_AXIS[axis]] = 0;\n\n      modeling.moveElements([ element ], delta, element.parent);\n    }\n  }\n\n  var firstGroup = groups[0],\n      lastGroupIdx = lastIdx(groups),\n      lastGroup = groups[ lastGroupIdx ];\n\n  var margin,\n      spaceInBetween,\n      groupsSize = 0; // the size of each range\n\n  forEach(groups, function(group, idx) {\n    var sortedElements,\n        refElem,\n        refCenter;\n\n    if (group.elements.length < 2) {\n      if (idx && idx !== groups.length - 1) {\n        updateRange(group, group.elements[0]);\n\n        groupsSize += rangeDiff(group.range);\n      }\n      return;\n    }\n\n    sortedElements = sortBy(group.elements, axis);\n\n    refElem = sortedElements[0];\n\n    if (idx === lastGroupIdx) {\n      refElem = sortedElements[lastIdx(sortedElements)];\n    }\n\n    refCenter = center(refElem);\n\n    // wanna update the ranges after the shapes have been centered\n    group.range = null;\n\n    forEach(sortedElements, function(element) {\n\n      centerElement(refCenter, element);\n\n      if (group.range === null) {\n        group.range = {\n          min: element[axis],\n          max: element[axis] + element[dimension]\n        };\n\n        return;\n      }\n\n      // update group's range after centering the range elements\n      updateRange(group, element);\n    });\n\n    if (idx && idx !== groups.length - 1) {\n      groupsSize += rangeDiff(group.range);\n    }\n  });\n\n  spaceInBetween = Math.abs(lastGroup.range.min - firstGroup.range.max);\n\n  margin = Math.round((spaceInBetween - groupsSize) / (groups.length - 1));\n\n  if (margin < groups.length - 1) {\n    return;\n  }\n\n  forEach(groups, function(group, groupIdx) {\n    var delta = {},\n        prevGroup;\n\n    if (group === firstGroup || group === lastGroup) {\n      return;\n    }\n\n    prevGroup = groups[groupIdx - 1];\n\n    group.range.max = 0;\n\n    forEach(group.elements, function(element, idx) {\n      delta[OFF_AXIS[axis]] = 0;\n      delta[axis] = (prevGroup.range.max - element[axis]) + margin;\n\n      if (group.range.min !== element[axis]) {\n        delta[axis] += element[axis] - group.range.min;\n      }\n\n      if (delta[axis]) {\n        modeling.moveElements([ element ], delta, element.parent);\n      }\n\n      group.range.max = Math.max(element[axis] + element[dimension], idx ? group.range.max : 0);\n    });\n  });\n};\n\nDistributeElements.prototype.postExecute = function(context) {\n\n};\n","import { assign } from 'min-dash';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function LayoutConnectionHandler(layouter, canvas) {\n  this._layouter = layouter;\n  this._canvas = canvas;\n}\n\nLayoutConnectionHandler.$inject = [ 'layouter', 'canvas' ];\n\nLayoutConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection;\n\n  var oldWaypoints = connection.waypoints;\n\n  assign(context, {\n    oldWaypoints: oldWaypoints\n  });\n\n  connection.waypoints = this._layouter.layoutConnection(connection, context.hints);\n\n  return connection;\n};\n\nLayoutConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection;\n\n  connection.waypoints = context.oldWaypoints;\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n\n/**\n * A handler that implements reversible moving of connections.\n *\n * The handler differs from the layout connection handler in a sense\n * that it preserves the connection layout.\n */\nexport default function MoveConnectionHandler() { }\n\n\nMoveConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      delta = context.delta;\n\n  var newParent = context.newParent || connection.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = connection.parent;\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, connection);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, connection, newParentIndex);\n\n  // update parent\n  connection.parent = newParent;\n\n  // update waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x += delta.x;\n    p.y += delta.y;\n\n    if (p.original) {\n      p.original.x += delta.x;\n      p.original.y += delta.y;\n    }\n  });\n\n  return connection;\n};\n\nMoveConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      newParent = connection.parent,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // remove from newParent\n  collectionRemove(newParent.children, connection);\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, connection, oldParentIndex);\n\n  // restore parent\n  connection.parent = oldParent;\n\n  // revert to old waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x -= delta.x;\n    p.y -= delta.y;\n\n    if (p.original) {\n      p.original.x -= delta.x;\n      p.original.y -= delta.y;\n    }\n  });\n\n  return connection;\n};","import {\n  asTRBL,\n  getOrientation,\n  roundPoint\n} from '../layout/LayoutUtil';\n\nimport {\n  center,\n  delta\n} from './PositionUtil';\n\n\n/**\n * Calculates the absolute point relative to the new element's position\n *\n * @param {point} point [absolute]\n * @param {bounds} oldBounds\n * @param {bounds} newBounds\n *\n * @return {point} point [absolute]\n */\nexport function getNewAttachPoint(point, oldBounds, newBounds) {\n  var oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      oldDelta = delta(point, oldCenter);\n\n  var newDelta = {\n    x: oldDelta.x * (newBounds.width / oldBounds.width),\n    y: oldDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  return roundPoint({\n    x: newCenter.x + newDelta.x,\n    y: newCenter.y + newDelta.y\n  });\n}\n\n\n/**\n * Calculates the shape's delta relative to a new position\n * of a certain element's bounds\n *\n * @param {djs.model.Shape} point [absolute]\n * @param {bounds} oldBounds\n * @param {bounds} newBounds\n *\n * @return {delta} delta\n */\nexport function getNewAttachShapeDelta(shape, oldBounds, newBounds) {\n  var shapeCenter = center(shape),\n      oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      shapeDelta = delta(shape, shapeCenter),\n      oldCenterDelta = delta(shapeCenter, oldCenter),\n      stickyPositionDelta = getStickyPositionDelta(shapeCenter, oldBounds, newBounds);\n\n  if (stickyPositionDelta) {\n    return stickyPositionDelta;\n  }\n\n  var newCenterDelta = {\n    x: oldCenterDelta.x * (newBounds.width / oldBounds.width),\n    y: oldCenterDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  var newShapeCenter = {\n    x: newCenter.x + newCenterDelta.x,\n    y: newCenter.y + newCenterDelta.y\n  };\n\n  return roundPoint({\n    x: newShapeCenter.x + shapeDelta.x - shape.x,\n    y: newShapeCenter.y + shapeDelta.y - shape.y\n  });\n}\n\nfunction getStickyPositionDelta(oldShapeCenter, oldBounds, newBounds) {\n  var oldTRBL = asTRBL(oldBounds),\n      newTRBL = asTRBL(newBounds);\n\n  if (isMoved(oldTRBL, newTRBL)) {\n    return null;\n  }\n\n  var oldOrientation = getOrientation(oldBounds, oldShapeCenter),\n      stickyPositionDelta,\n      newShapeCenter,\n      newOrientation;\n\n  if (oldOrientation === 'top') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.bottom - oldTRBL.bottom\n    };\n  } else if (oldOrientation === 'bottom') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.top - oldTRBL.top\n    };\n  } else if (oldOrientation === 'right') {\n    stickyPositionDelta = {\n      x: newTRBL.left - oldTRBL.left,\n      y: 0\n    };\n  } else if (oldOrientation === 'left') {\n    stickyPositionDelta = {\n      x: newTRBL.right - oldTRBL.right,\n      y: 0\n    };\n  } else {\n\n    // fallback to proportional movement for corner-placed attachments\n    return null;\n  }\n\n  newShapeCenter = {\n    x: oldShapeCenter.x + stickyPositionDelta.x,\n    y: oldShapeCenter.y + stickyPositionDelta.y\n  };\n\n  newOrientation = getOrientation(newBounds, newShapeCenter);\n\n  if (newOrientation !== oldOrientation) {\n\n    // fallback to proportional movement if orientation would otherwise change\n    return null;\n  }\n\n  return stickyPositionDelta;\n}\n\nfunction isMoved(oldTRBL, newTRBL) {\n  return isHorizontallyMoved(oldTRBL, newTRBL) || isVerticallyMoved(oldTRBL, newTRBL);\n}\n\nfunction isHorizontallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.right !== newTRBL.right && oldTRBL.left !== newTRBL.left;\n}\n\nfunction isVerticallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.top !== newTRBL.top && oldTRBL.bottom !== newTRBL.bottom;\n}\n","import {\n  getNewAttachPoint\n} from '../../../../util/AttachUtil';\n\nimport {\n  getOrientation\n} from '../../../../layout/LayoutUtil';\n\nimport {\n  filter,\n  map\n} from 'min-dash';\n\n\nexport function getResizedSourceAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[0];\n\n  // new anchor is the last waypoint enclosed be resized source\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ waypointsInsideNewBounds.length - 1 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getResizedTargetAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[waypoints.length - 1];\n\n  // new anchor is the first waypoint enclosed be resized target\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ 0 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getMovedSourceAnchor(connection, source, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(source, moveDelta),\n      oldAnchor = waypoints[ 0 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, source);\n}\n\n\nexport function getMovedTargetAnchor(connection, target, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(target, moveDelta),\n      oldAnchor = waypoints[ waypoints.length - 1 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, target);\n}\n\n\n// helpers //////////////////////\n\nfunction subtract(bounds, delta) {\n  return {\n    x: bounds.x - delta.x,\n    y: bounds.y - delta.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n\n/**\n * Return waypoints of given connection; throw if non exists (should not happen!!).\n *\n * @param {Connection} connection\n *\n * @return {Array<Point>}\n */\nfunction safeGetWaypoints(connection) {\n\n  var waypoints = connection.waypoints;\n\n  if (!waypoints.length) {\n    throw new Error('connection#' + connection.id + ': no waypoints');\n  }\n\n  return waypoints;\n}\n\nfunction getWaypointsInsideBounds(waypoints, bounds) {\n  var originalWaypoints = map(waypoints, getOriginal);\n\n  return filter(originalWaypoints, function(waypoint) {\n    return isInsideBounds(waypoint, bounds);\n  });\n}\n\n/**\n * Checks if point is inside bounds, incl. edges.\n *\n * @param {Point} point\n * @param {Bounds} bounds\n */\nfunction isInsideBounds(point, bounds) {\n  return getOrientation(bounds, point, 1) === 'intersect';\n}\n\nfunction getOriginal(point) {\n  return point.original || point;\n}\n","import {\n  assign\n} from 'min-dash';\n\nimport {\n  getClosure\n} from '../../../../util/Elements';\n\n\nexport default function MoveClosure() {\n\n  this.allShapes = {};\n  this.allConnections = {};\n\n  this.enclosedElements = {};\n  this.enclosedConnections = {};\n\n  this.topLevel = {};\n}\n\n\nMoveClosure.prototype.add = function(element, isTopLevel) {\n  return this.addAll([ element ], isTopLevel);\n};\n\n\nMoveClosure.prototype.addAll = function(elements, isTopLevel) {\n\n  var newClosure = getClosure(elements, !!isTopLevel, this);\n\n  assign(this, newClosure);\n\n  return this;\n};","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './AnchorsHelper';\n\nimport MoveClosure from './MoveClosure';\n\n\n/**\n * A helper that is able to carry out serialized move\n * operations on multiple elements.\n *\n * @param {Modeling} modeling\n */\nexport default function MoveHelper(modeling) {\n  this._modeling = modeling;\n}\n\n/**\n * Move the specified elements and all children by the given delta.\n *\n * This moves all enclosed connections, too and layouts all affected\n * external connections.\n *\n * @param  {Array<djs.model.Base>} elements\n * @param  {Point} delta\n * @param  {djs.model.Base} newParent applied to the first level of shapes\n *\n * @return {Array<djs.model.Base>} list of touched elements\n */\nMoveHelper.prototype.moveRecursive = function(elements, delta, newParent) {\n  if (!elements) {\n    return [];\n  } else {\n    return this.moveClosure(this.getClosure(elements), delta, newParent);\n  }\n};\n\n/**\n * Move the given closure of elmements.\n *\n * @param {Object} closure\n * @param {Point} delta\n * @param {djs.model.Base} [newParent]\n * @param {djs.model.Base} [newHost]\n */\nMoveHelper.prototype.moveClosure = function(closure, delta, newParent, newHost, primaryShape) {\n  var modeling = this._modeling;\n\n  var allShapes = closure.allShapes,\n      allConnections = closure.allConnections,\n      enclosedConnections = closure.enclosedConnections,\n      topLevel = closure.topLevel,\n      keepParent = false;\n\n  if (primaryShape && primaryShape.parent === newParent) {\n    keepParent = true;\n  }\n\n  // move all shapes\n  forEach(allShapes, function(shape) {\n\n    // move the element according to the given delta\n    modeling.moveShape(shape, delta, topLevel[shape.id] && !keepParent && newParent, {\n      recurse: false,\n      layout: false\n    });\n  });\n\n  // move all child connections / layout external connections\n  forEach(allConnections, function(c) {\n\n    var sourceMoved = !!allShapes[c.source.id],\n        targetMoved = !!allShapes[c.target.id];\n\n    if (enclosedConnections[c.id] && sourceMoved && targetMoved) {\n      modeling.moveConnection(c, delta, topLevel[c.id] && !keepParent && newParent);\n    } else {\n      modeling.layoutConnection(c, {\n        connectionStart: sourceMoved && getMovedSourceAnchor(c, c.source, delta),\n        connectionEnd: targetMoved && getMovedTargetAnchor(c, c.target, delta)\n      });\n    }\n  });\n};\n\n/**\n * Returns the closure for the selected elements\n *\n * @param  {Array<djs.model.Base>} elements\n * @return {MoveClosure} closure\n */\nMoveHelper.prototype.getClosure = function(elements) {\n  return new MoveClosure().addAll(elements, true);\n};","import MoveHelper from './helper/MoveHelper';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function MoveElementsHandler(modeling) {\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveElementsHandler.$inject = [ 'modeling' ];\n\nMoveElementsHandler.prototype.preExecute = function(context) {\n  context.closure = this._helper.getClosure(context.shapes);\n};\n\nMoveElementsHandler.prototype.postExecute = function(context) {\n\n  var hints = context.hints,\n      primaryShape;\n\n  if (hints && hints.primaryShape) {\n    primaryShape = hints.primaryShape;\n    hints.oldParent = primaryShape.parent;\n  }\n\n  this._helper.moveClosure(\n    context.closure,\n    context.delta,\n    context.newParent,\n    context.newHost,\n    primaryShape\n  );\n};","import {\n  assign,\n  forEach,\n  pick\n} from 'min-dash';\n\nimport MoveHelper from './helper/MoveHelper';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function MoveShapeHandler(modeling) {\n  this._modeling = modeling;\n\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveShapeHandler.$inject = [ 'modeling' ];\n\n\nMoveShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      newParent = context.newParent || shape.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = shape.parent;\n\n  context.oldBounds = pick(shape, [ 'x', 'y', 'width', 'height']);\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, shape);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, shape, newParentIndex);\n\n  // update shape parent + position\n  assign(shape, {\n    parent: newParent,\n    x: shape.x + delta.x,\n    y: shape.y + delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.postExecute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      hints = context.hints;\n\n  var modeling = this._modeling;\n\n  if (hints.layout !== false) {\n\n    forEach(shape.incoming, function(c) {\n      modeling.layoutConnection(c, {\n        connectionEnd: getMovedTargetAnchor(c, shape, delta)\n      });\n    });\n\n    forEach(shape.outgoing, function(c) {\n      modeling.layoutConnection(c, {\n        connectionStart: getMovedSourceAnchor(c, shape, delta)\n      });\n    });\n  }\n\n  if (hints.recurse !== false) {\n    this.moveChildren(context);\n  }\n};\n\nMoveShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  // revert to old position and parent\n  assign(shape, {\n    parent: oldParent,\n    x: shape.x - delta.x,\n    y: shape.y - delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.moveChildren = function(context) {\n\n  var delta = context.delta,\n      shape = context.shape;\n\n  this._helper.moveRecursive(shape.children, delta, null);\n};\n\nMoveShapeHandler.prototype.getNewParent = function(context) {\n  return context.newParent || context.shape.parent;\n};\n","import { isArray } from 'min-dash';\n\n\n/**\n * Reconnect connection handler\n */\nexport default function ReconnectConnectionHandler(modeling) {\n  this._modeling = modeling;\n}\n\nReconnectConnectionHandler.$inject = [ 'modeling' ];\n\nReconnectConnectionHandler.prototype.execute = function(context) {\n  var newSource = context.newSource,\n      newTarget = context.newTarget,\n      connection = context.connection,\n      dockingOrPoints = context.dockingOrPoints;\n\n  if (!newSource && !newTarget) {\n    throw new Error('newSource or newTarget required');\n  }\n\n  if (isArray(dockingOrPoints)) {\n    context.oldWaypoints = connection.waypoints;\n    connection.waypoints = dockingOrPoints;\n  }\n\n  if (newSource) {\n    context.oldSource = connection.source;\n    connection.source = newSource;\n  }\n\n  if (newTarget) {\n    context.oldTarget = connection.target;\n    connection.target = newTarget;\n  }\n\n  return connection;\n};\n\nReconnectConnectionHandler.prototype.postExecute = function(context) {\n  var connection = context.connection,\n      newSource = context.newSource,\n      newTarget = context.newTarget,\n      dockingOrPoints = context.dockingOrPoints,\n      hints = context.hints || {};\n\n  var layoutConnectionHints = {};\n\n  if (hints.connectionStart) {\n    layoutConnectionHints.connectionStart = hints.connectionStart;\n  }\n\n  if (hints.connectionEnd) {\n    layoutConnectionHints.connectionEnd = hints.connectionEnd;\n  }\n\n  if (hints.layoutConnection === false) {\n    return;\n  }\n\n  if (newSource && (!newTarget || hints.docking === 'source')) {\n    layoutConnectionHints.connectionStart = layoutConnectionHints.connectionStart\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ 0 ] : dockingOrPoints);\n  }\n\n  if (newTarget && (!newSource || hints.docking === 'target')) {\n    layoutConnectionHints.connectionEnd = layoutConnectionHints.connectionEnd\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ dockingOrPoints.length - 1 ] : dockingOrPoints);\n  }\n\n  if (hints.newWaypoints) {\n    layoutConnectionHints.waypoints = hints.newWaypoints;\n  }\n\n  this._modeling.layoutConnection(connection, layoutConnectionHints);\n};\n\nReconnectConnectionHandler.prototype.revert = function(context) {\n  var oldSource = context.oldSource,\n      oldTarget = context.oldTarget,\n      oldWaypoints = context.oldWaypoints,\n      connection = context.connection;\n\n  if (oldSource) {\n    connection.source = oldSource;\n  }\n\n  if (oldTarget) {\n    connection.target = oldTarget;\n  }\n\n  if (oldWaypoints) {\n    connection.waypoints = oldWaypoints;\n  }\n\n  return connection;\n};\n\n\n\n// helpers //////////\n\nfunction getDocking(point) {\n  return point.original || point;\n}","import { forEach } from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n/**\n * Replace shape by adding new shape and removing old shape. Incoming and outgoing connections will\n * be kept if possible.\n *\n * @class\n * @constructor\n *\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function ReplaceShapeHandler(modeling, rules) {\n  this._modeling = modeling;\n  this._rules = rules;\n}\n\nReplaceShapeHandler.$inject = [ 'modeling', 'rules' ];\n\n\n/**\n * Add new shape.\n *\n * @param {Object} context\n * @param {djs.model.Shape} context.oldShape\n * @param {Object} context.newData\n * @param {string} context.newData.type\n * @param {number} context.newData.x\n * @param {number} context.newData.y\n * @param {Object} [hints]\n */\nReplaceShapeHandler.prototype.preExecute = function(context) {\n  var self = this,\n      modeling = this._modeling,\n      rules = this._rules;\n\n  var oldShape = context.oldShape,\n      newData = context.newData,\n      hints = context.hints || {},\n      newShape;\n\n  function canReconnect(source, target, connection) {\n    return rules.allowed('connection.reconnect', {\n      connection: connection,\n      source: source,\n      target: target\n    });\n  }\n\n  // (1) add new shape at given position\n  var position = {\n    x: newData.x,\n    y: newData.y\n  };\n\n  var oldBounds = {\n    x: oldShape.x,\n    y: oldShape.y,\n    width: oldShape.width,\n    height: oldShape.height\n  };\n\n  newShape = context.newShape =\n    context.newShape ||\n    self.createShape(newData, position, oldShape.parent, hints);\n\n  // (2) update host\n  if (oldShape.host) {\n    modeling.updateAttachment(newShape, oldShape.host);\n  }\n\n  // (3) adopt all children from old shape\n  var children;\n\n  if (hints.moveChildren !== false) {\n    children = oldShape.children.slice();\n\n    modeling.moveElements(children, { x: 0, y: 0 }, newShape, hints);\n  }\n\n  // (4) reconnect connections to new shape if possible\n  var incoming = oldShape.incoming.slice(),\n      outgoing = oldShape.outgoing.slice();\n\n  forEach(incoming, function(connection) {\n    var source = connection.source,\n        allowed = canReconnect(source, newShape, connection);\n\n    if (allowed) {\n      self.reconnectEnd(\n        connection, newShape,\n        getResizedTargetAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n\n  forEach(outgoing, function(connection) {\n    var target = connection.target,\n        allowed = canReconnect(newShape, target, connection);\n\n    if (allowed) {\n      self.reconnectStart(\n        connection, newShape,\n        getResizedSourceAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n};\n\n\n/**\n * Remove old shape.\n */\nReplaceShapeHandler.prototype.postExecute = function(context) {\n  var oldShape = context.oldShape;\n\n  this._modeling.removeShape(oldShape);\n};\n\n\nReplaceShapeHandler.prototype.execute = function(context) {};\n\n\nReplaceShapeHandler.prototype.revert = function(context) {};\n\n\nReplaceShapeHandler.prototype.createShape = function(shape, position, target, hints) {\n  return this._modeling.createShape(shape, position, target, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectStart = function(connection, newSource, dockingPoint, hints) {\n  this._modeling.reconnectStart(connection, newSource, dockingPoint, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectEnd = function(connection, newTarget, dockingPoint, hints) {\n  this._modeling.reconnectEnd(connection, newTarget, dockingPoint, hints);\n};\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * A handler that implements reversible resizing of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function ResizeShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nResizeShapeHandler.$inject = [ 'modeling' ];\n\n/**\n * {\n *   shape: {....}\n *   newBounds: {\n *     width:  20,\n *     height: 40,\n *     x:       5,\n *     y:      10\n *   }\n *\n * }\n */\nResizeShapeHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newBounds = context.newBounds,\n      minBounds = context.minBounds;\n\n  if (newBounds.x === undefined || newBounds.y === undefined ||\n      newBounds.width === undefined || newBounds.height === undefined) {\n    throw new Error('newBounds must have {x, y, width, height} properties');\n  }\n\n  if (minBounds && (newBounds.width < minBounds.width\n    || newBounds.height < minBounds.height)) {\n    throw new Error('width and height cannot be less than minimum height and width');\n  } else if (!minBounds\n    && newBounds.width < 10 || newBounds.height < 10) {\n    throw new Error('width and height cannot be less than 10px');\n  }\n\n  // save old bbox in context\n  context.oldBounds = {\n    width:  shape.width,\n    height: shape.height,\n    x:      shape.x,\n    y:      shape.y\n  };\n\n  // update shape\n  assign(shape, {\n    width:  newBounds.width,\n    height: newBounds.height,\n    x:      newBounds.x,\n    y:      newBounds.y\n  });\n\n  return shape;\n};\n\nResizeShapeHandler.prototype.postExecute = function(context) {\n  var modeling = this._modeling;\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds,\n      hints = context.hints || {};\n\n  if (hints.layout === false) {\n    return;\n  }\n\n  forEach(shape.incoming, function(c) {\n    modeling.layoutConnection(c, {\n      connectionEnd: getResizedTargetAnchor(c, shape, oldBounds)\n    });\n  });\n\n  forEach(shape.outgoing, function(c) {\n    modeling.layoutConnection(c, {\n      connectionStart: getResizedSourceAnchor(c, shape, oldBounds)\n    });\n  });\n\n};\n\nResizeShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds;\n\n  // restore previous bbox\n  assign(shape, {\n    width:  oldBounds.width,\n    height: oldBounds.height,\n    x:      oldBounds.x,\n    y:      oldBounds.y\n  });\n\n  return shape;\n};\n","import { forEach } from 'min-dash';\n\n/**\n * Return direction given axis and delta.\n *\n * @param {string} axis\n * @param {number} delta\n *\n * @return {string}\n */\nexport function getDirection(axis, delta) {\n\n  if (axis === 'x') {\n    if (delta > 0) {\n      return 'e';\n    }\n\n    if (delta < 0) {\n      return 'w';\n    }\n  }\n\n  if (axis === 'y') {\n    if (delta > 0) {\n      return 's';\n    }\n\n    if (delta < 0) {\n      return 'n';\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns connections whose waypoints are to be updated. Waypoints are to be updated if start\n * or end is to be moved or resized.\n *\n * @param {Array<djs.model.Shape} movingShapes\n * @param {Array<djs.model.Shape} resizingShapes\n *\n * @returns {Array<djs.model.Connection>}\n */\nexport function getWaypointsUpdatingConnections(movingShapes, resizingShapes) {\n  var waypointsUpdatingConnections = [];\n\n  forEach(movingShapes.concat(resizingShapes), function(shape) {\n    var incoming = shape.incoming,\n        outgoing = shape.outgoing;\n\n    forEach(incoming.concat(outgoing), function(connection) {\n      var source = connection.source,\n          target = connection.target;\n\n      if (includes(movingShapes, source) ||\n        includes(movingShapes, target) ||\n        includes(resizingShapes, source) ||\n        includes(resizingShapes, target)) {\n\n        if (!includes(waypointsUpdatingConnections, connection)) {\n          waypointsUpdatingConnections.push(connection);\n        }\n      }\n    });\n  });\n\n  return waypointsUpdatingConnections;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\n/**\n * Resize bounds.\n *\n * @param {Object} bounds\n * @param {number} bounds.x\n * @param {number} bounds.y\n * @param {number} bounds.width\n * @param {number} bounds.height\n * @param {string} direction\n * @param {Object} delta\n * @param {number} delta.x\n * @param {number} delta.y\n *\n * @return {Object}\n */\nexport function resizeBounds(bounds, direction, delta) {\n  var x = bounds.x,\n      y = bounds.y,\n      width = bounds.width,\n      height = bounds.height,\n      dx = delta.x,\n      dy = delta.y;\n\n  switch (direction) {\n  case 'n':\n    return {\n      x: x,\n      y: y + dy,\n      width: width,\n      height: height - dy\n    };\n  case 's':\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height + dy\n    };\n  case 'w':\n    return {\n      x: x + dx,\n      y: y,\n      width: width - dx,\n      height: height\n    };\n  case 'e':\n    return {\n      x: x,\n      y: y,\n      width: width + dx,\n      height: height\n    };\n  default:\n    throw new Error('unknown direction: ' + direction);\n  }\n}","import {\n  assign,\n  forEach,\n  map\n} from 'min-dash';\n\nimport {\n  getWaypointsUpdatingConnections,\n  resizeBounds\n} from '../../space-tool/SpaceUtil';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor,\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * Add or remove space by moving and resizing shapes and updating connection waypoints.\n */\nexport default function SpaceToolHandler(modeling) {\n  this._modeling = modeling;\n}\n\nSpaceToolHandler.$inject = [ 'modeling' ];\n\nSpaceToolHandler.prototype.preExecute = function(context) {\n  var delta = context.delta,\n      direction = context.direction,\n      movingShapes = context.movingShapes,\n      resizingShapes = context.resizingShapes,\n      start = context.start,\n      oldBounds = {};\n\n  // (1) move shapes\n  this.moveShapes(movingShapes, delta);\n\n  // (2a) save old bounds of resized shapes\n  forEach(resizingShapes, function(shape) {\n    oldBounds[shape.id] = getBounds(shape);\n  });\n\n  // (2b) resize shapes\n  this.resizeShapes(resizingShapes, delta, direction);\n\n  // (3) update connection waypoints\n  this.updateConnectionWaypoints(\n    getWaypointsUpdatingConnections(movingShapes, resizingShapes),\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n  );\n};\n\nSpaceToolHandler.prototype.execute = function() {};\nSpaceToolHandler.prototype.revert = function() {};\n\nSpaceToolHandler.prototype.moveShapes = function(shapes, delta) {\n  var self = this;\n\n  forEach(shapes, function(element) {\n    self._modeling.moveShape(element, delta, null, {\n      autoResize: false,\n      layout: false,\n      recurse: false\n    });\n  });\n};\n\nSpaceToolHandler.prototype.resizeShapes = function(shapes, delta, direction) {\n  var self = this;\n\n  forEach(shapes, function(shape) {\n    var newBounds = resizeBounds(shape, direction, delta);\n\n    self._modeling.resizeShape(shape, newBounds, null, {\n      attachSupport: false,\n      autoResize: false,\n      layout: false\n    });\n  });\n};\n\n/**\n * Update connections waypoints according to the rules:\n *   1. Both source and target are moved/resized => move waypoints by the delta\n *   2. Only one of source and target is moved/resized => re-layout connection with moved start/end\n */\nSpaceToolHandler.prototype.updateConnectionWaypoints = function(\n    connections,\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n) {\n  var self = this,\n      affectedShapes = movingShapes.concat(resizingShapes);\n\n  forEach(connections, function(connection) {\n    var source = connection.source,\n        target = connection.target,\n        waypoints = copyWaypoints(connection),\n        axis = getAxisFromDirection(direction),\n        layoutHints = {\n          labelBehavior: false\n        };\n\n    if (includes(affectedShapes, source) && includes(affectedShapes, target)) {\n\n      // move waypoints\n      waypoints = map(waypoints, function(waypoint) {\n        if (shouldMoveWaypoint(waypoint, start, direction)) {\n\n          // move waypoint\n          waypoint[ axis ] = waypoint[ axis ] + delta[ axis ];\n        }\n\n        if (waypoint.original && shouldMoveWaypoint(waypoint.original, start, direction)) {\n\n          // move waypoint original\n          waypoint.original[ axis ] = waypoint.original[ axis ] + delta[ axis ];\n        }\n\n        return waypoint;\n      });\n\n      self._modeling.updateWaypoints(connection, waypoints, {\n        labelBehavior: false\n      });\n    } else if (includes(affectedShapes, source) || includes(affectedShapes, target)) {\n\n      // re-layout connection with moved start/end\n      if (includes(movingShapes, source)) {\n        layoutHints.connectionStart = getMovedSourceAnchor(connection, source, delta);\n      } else if (includes(movingShapes, target)) {\n        layoutHints.connectionEnd = getMovedTargetAnchor(connection, target, delta);\n      } else if (includes(resizingShapes, source)) {\n        layoutHints.connectionStart = getResizedSourceAnchor(\n          connection, source, oldBounds[source.id]\n        );\n      } else if (includes(resizingShapes, target)) {\n        layoutHints.connectionEnd = getResizedTargetAnchor(\n          connection, target, oldBounds[target.id]\n        );\n      }\n\n      self._modeling.layoutConnection(connection, layoutHints);\n    }\n  });\n};\n\n\n// helpers //////////\n\nfunction copyWaypoint(waypoint) {\n  return assign({}, waypoint);\n}\n\nfunction copyWaypoints(connection) {\n  return map(connection.waypoints, function(waypoint) {\n\n    waypoint = copyWaypoint(waypoint);\n\n    if (waypoint.original) {\n      waypoint.original = copyWaypoint(waypoint.original);\n    }\n\n    return waypoint;\n  });\n}\n\nfunction getAxisFromDirection(direction) {\n  switch (direction) {\n  case 'n':\n    return 'y';\n  case 'w':\n    return 'x';\n  case 's':\n    return 'y';\n  case 'e':\n    return 'x';\n  }\n}\n\nfunction shouldMoveWaypoint(waypoint, start, direction) {\n  var relevantAxis = getAxisFromDirection(direction);\n\n  if (/e|s/.test(direction)) {\n    return waypoint[ relevantAxis ] > start;\n  } else if (/n|w/.test(direction)) {\n    return waypoint[ relevantAxis ] < start;\n  }\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction getBounds(shape) {\n  return {\n    x: shape.x,\n    y: shape.y,\n    height: shape.height,\n    width: shape.width\n  };\n}\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\n/**\n * A handler that toggles the collapsed state of an element\n * and the visibility of all its children.\n *\n * @param {Modeling} modeling\n */\nexport default function ToggleShapeCollapseHandler(modeling) {\n  this._modeling = modeling;\n}\n\nToggleShapeCollapseHandler.$inject = [ 'modeling' ];\n\n\nToggleShapeCollapseHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      children = shape.children;\n\n  // recursively remember previous visibility of children\n  context.oldChildrenVisibility = getElementsVisibilityRecursive(children);\n\n  // toggle state\n  shape.collapsed = !shape.collapsed;\n\n  // recursively hide/show children\n  var result = setHiddenRecursive(children, shape.collapsed);\n\n  return [shape].concat(result);\n};\n\n\nToggleShapeCollapseHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldChildrenVisibility = context.oldChildrenVisibility;\n\n  var children = shape.children;\n\n  // recursively set old visability of children\n  var result = restoreVisibilityRecursive(children, oldChildrenVisibility);\n\n  // retoggle state\n  shape.collapsed = !shape.collapsed;\n\n  return [shape].concat(result);\n};\n\n\n// helpers //////////////////////\n\n/**\n * Return a map { elementId -> hiddenState}.\n *\n * @param {Array<djs.model.Shape>} elements\n *\n * @return {Object}\n */\nfunction getElementsVisibilityRecursive(elements) {\n\n  var result = {};\n\n  forEach(elements, function(element) {\n    result[element.id] = element.hidden;\n\n    if (element.children) {\n      result = assign({}, result, getElementsVisibilityRecursive(element.children));\n    }\n  });\n\n  return result;\n}\n\n\nfunction setHiddenRecursive(elements, newHidden) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = newHidden;\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(setHiddenRecursive(element.children, element.collapsed || newHidden));\n    }\n  });\n\n  return result;\n}\n\nfunction restoreVisibilityRecursive(elements, lastState) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = lastState[element.id];\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(restoreVisibilityRecursive(element.children, lastState));\n    }\n  });\n\n  return result;\n}\n","import {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n/**\n * A handler that implements reversible attaching/detaching of shapes.\n */\nexport default function UpdateAttachmentHandler(modeling) {\n  this._modeling = modeling;\n}\n\nUpdateAttachmentHandler.$inject = [ 'modeling' ];\n\n\nUpdateAttachmentHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = shape.host;\n\n  // (0) detach from old host\n  context.oldHost = oldHost;\n  context.attacherIdx = removeAttacher(oldHost, shape);\n\n  // (1) attach to new host\n  addAttacher(newHost, shape);\n\n  // (2) update host\n  shape.host = newHost;\n\n  return shape;\n};\n\nUpdateAttachmentHandler.prototype.revert = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = context.oldHost,\n      attacherIdx = context.attacherIdx;\n\n  // (2) update host\n  shape.host = oldHost;\n\n  // (1) attach to new host\n  removeAttacher(newHost, shape);\n\n  // (0) detach from old host\n  addAttacher(oldHost, shape, attacherIdx);\n\n  return shape;\n};\n\n\nfunction removeAttacher(host, attacher) {\n\n  // remove attacher from host\n  return collectionRemove(host && host.attachers, attacher);\n}\n\nfunction addAttacher(host, attacher, idx) {\n\n  if (!host) {\n    return;\n  }\n\n  var attachers = host.attachers;\n\n  if (!attachers) {\n    host.attachers = attachers = [];\n  }\n\n  collectionAdd(attachers, attacher, idx);\n}\n","export default function UpdateWaypointsHandler() { }\n\nUpdateWaypointsHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      newWaypoints = context.newWaypoints;\n\n  context.oldWaypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  return connection;\n};\n\nUpdateWaypointsHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      oldWaypoints = context.oldWaypoints;\n\n  connection.waypoints = oldWaypoints;\n\n  return connection;\n};","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport {\n  Base\n} from '../../model';\n\nimport AlignElementsHandler from './cmd/AlignElementsHandler';\nimport AppendShapeHandler from './cmd/AppendShapeHandler';\nimport CreateConnectionHandler from './cmd/CreateConnectionHandler';\nimport CreateElementsHandler from './cmd/CreateElementsHandler';\nimport CreateLabelHandler from './cmd/CreateLabelHandler';\nimport CreateShapeHandler from './cmd/CreateShapeHandler';\nimport DeleteConnectionHandler from './cmd/DeleteConnectionHandler';\nimport DeleteElementsHandler from './cmd/DeleteElementsHandler';\nimport DeleteShapeHandler from './cmd/DeleteShapeHandler';\nimport DistributeElementsHandler from './cmd/DistributeElementsHandler';\nimport LayoutConnectionHandler from './cmd/LayoutConnectionHandler';\nimport MoveConnectionHandler from './cmd/MoveConnectionHandler';\nimport MoveElementsHandler from './cmd/MoveElementsHandler';\nimport MoveShapeHandler from './cmd/MoveShapeHandler';\nimport ReconnectConnectionHandler from './cmd/ReconnectConnectionHandler';\nimport ReplaceShapeHandler from './cmd/ReplaceShapeHandler';\nimport ResizeShapeHandler from './cmd/ResizeShapeHandler';\nimport SpaceToolHandler from './cmd/SpaceToolHandler';\nimport ToggleShapeCollapseHandler from './cmd/ToggleShapeCollapseHandler';\nimport UpdateAttachmentHandler from './cmd/UpdateAttachmentHandler';\nimport UpdateWaypointsHandler from './cmd/UpdateWaypointsHandler';\n\n\n/**\n * The basic modeling entry point.\n *\n * @param {EventBus} eventBus\n * @param {ElementFactory} elementFactory\n * @param {CommandStack} commandStack\n */\nexport default function Modeling(eventBus, elementFactory, commandStack) {\n  this._eventBus = eventBus;\n  this._elementFactory = elementFactory;\n  this._commandStack = commandStack;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // register modeling handlers\n    self.registerHandlers(commandStack);\n  });\n}\n\nModeling.$inject = [ 'eventBus', 'elementFactory', 'commandStack' ];\n\n\nModeling.prototype.getHandlers = function() {\n  return {\n    'shape.append': AppendShapeHandler,\n    'shape.create': CreateShapeHandler,\n    'shape.delete': DeleteShapeHandler,\n    'shape.move': MoveShapeHandler,\n    'shape.resize': ResizeShapeHandler,\n    'shape.replace': ReplaceShapeHandler,\n    'shape.toggleCollapse': ToggleShapeCollapseHandler,\n\n    'spaceTool': SpaceToolHandler,\n\n    'label.create': CreateLabelHandler,\n\n    'connection.create': CreateConnectionHandler,\n    'connection.delete': DeleteConnectionHandler,\n    'connection.move': MoveConnectionHandler,\n    'connection.layout': LayoutConnectionHandler,\n\n    'connection.updateWaypoints': UpdateWaypointsHandler,\n\n    'connection.reconnect': ReconnectConnectionHandler,\n\n    'elements.create': CreateElementsHandler,\n    'elements.move': MoveElementsHandler,\n    'elements.delete': DeleteElementsHandler,\n\n    'elements.distribute': DistributeElementsHandler,\n    'elements.align': AlignElementsHandler,\n\n    'element.updateAttachment': UpdateAttachmentHandler\n  };\n};\n\n/**\n * Register handlers with the command stack\n *\n * @param {CommandStack} commandStack\n */\nModeling.prototype.registerHandlers = function(commandStack) {\n  forEach(this.getHandlers(), function(handler, id) {\n    commandStack.registerHandler(id, handler);\n  });\n};\n\n\n// modeling helpers //////////////////////\n\nModeling.prototype.moveShape = function(shape, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = null;\n  }\n\n  var context = {\n    shape: shape,\n    delta:  delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.move', context);\n};\n\n\n/**\n * Update the attachment of the given shape.\n *\n * @param {djs.mode.Base} shape\n * @param {djs.model.Base} [newHost]\n */\nModeling.prototype.updateAttachment = function(shape, newHost) {\n  var context = {\n    shape: shape,\n    newHost: newHost\n  };\n\n  this._commandStack.execute('element.updateAttachment', context);\n};\n\n\n/**\n * Move a number of shapes to a new target, either setting it as\n * the new parent or attaching it.\n *\n * @param {Array<djs.mode.Base>} shapes\n * @param {Point} delta\n * @param {djs.model.Base} [target]\n * @param {Object} [hints]\n * @param {boolean} [hints.attach=false]\n */\nModeling.prototype.moveElements = function(shapes, delta, target, hints) {\n\n  hints = hints || {};\n\n  var attach = hints.attach;\n\n  var newParent = target,\n      newHost;\n\n  if (attach === true) {\n    newHost = target;\n    newParent = target.parent;\n  } else\n\n  if (attach === false) {\n    newHost = null;\n  }\n\n  var context = {\n    shapes: shapes,\n    delta: delta,\n    newParent: newParent,\n    newHost: newHost,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.move', context);\n};\n\n\nModeling.prototype.moveConnection = function(connection, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = undefined;\n  }\n\n  var context = {\n    connection: connection,\n    delta: delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.move', context);\n};\n\n\nModeling.prototype.layoutConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.layout', context);\n};\n\n\n/**\n * Create connection.\n *\n * @param {djs.model.Base} source\n * @param {djs.model.Base} target\n * @param {number} [parentIndex]\n * @param {Object|djs.model.Connection} connection\n * @param {djs.model.Base} parent\n * @param {Object} hints\n *\n * @return {djs.model.Connection} the created connection.\n */\nModeling.prototype.createConnection = function(source, target, parentIndex, connection, parent, hints) {\n\n  if (typeof parentIndex === 'object') {\n    hints = parent;\n    parent = connection;\n    connection = parentIndex;\n    parentIndex = undefined;\n  }\n\n  connection = this._create('connection', connection);\n\n  var context = {\n    source: source,\n    target: target,\n    parent: parent,\n    parentIndex: parentIndex,\n    connection: connection,\n    hints: hints\n  };\n\n  this._commandStack.execute('connection.create', context);\n\n  return context.connection;\n};\n\n\n/**\n * Create a shape at the specified position.\n *\n * @param {djs.model.Shape|Object} shape\n * @param {Point} position\n * @param {djs.model.Shape|djs.model.Root} target\n * @param {number} [parentIndex] position in parents children list\n * @param {Object} [hints]\n * @param {boolean} [hints.attach] whether to attach to target or become a child\n *\n * @return {djs.model.Shape} the created shape\n */\nModeling.prototype.createShape = function(shape, position, target, parentIndex, hints) {\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var attach = hints.attach,\n      parent,\n      host;\n\n  shape = this._create('shape', shape);\n\n  if (attach) {\n    parent = target.parent;\n    host = target;\n  } else {\n    parent = target;\n  }\n\n  var context = {\n    position: position,\n    shape: shape,\n    parent: parent,\n    parentIndex: parentIndex,\n    host: host,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.create', context);\n\n  return context.shape;\n};\n\n\nModeling.prototype.createElements = function(elements, position, parent, parentIndex, hints) {\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var context = {\n    position: position,\n    elements: elements,\n    parent: parent,\n    parentIndex: parentIndex,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.create', context);\n\n  return context.elements;\n};\n\n\nModeling.prototype.createLabel = function(labelTarget, position, label, parent) {\n\n  label = this._create('label', label);\n\n  var context = {\n    labelTarget: labelTarget,\n    position: position,\n    parent: parent || labelTarget.parent,\n    shape: label\n  };\n\n  this._commandStack.execute('label.create', context);\n\n  return context.shape;\n};\n\n\n/**\n * Append shape to given source, drawing a connection\n * between source and the newly created shape.\n *\n * @param {djs.model.Shape} source\n * @param {djs.model.Shape|Object} shape\n * @param {Point} position\n * @param {djs.model.Shape} target\n * @param {Object} [hints]\n * @param {boolean} [hints.attach]\n * @param {djs.model.Connection|Object} [hints.connection]\n * @param {djs.model.Base} [hints.connectionParent]\n *\n * @return {djs.model.Shape} the newly created shape\n */\nModeling.prototype.appendShape = function(source, shape, position, target, hints) {\n\n  hints = hints || {};\n\n  shape = this._create('shape', shape);\n\n  var context = {\n    source: source,\n    position: position,\n    target: target,\n    shape: shape,\n    connection: hints.connection,\n    connectionParent: hints.connectionParent,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.append', context);\n\n  return context.shape;\n};\n\n\nModeling.prototype.removeElements = function(elements) {\n  var context = {\n    elements: elements\n  };\n\n  this._commandStack.execute('elements.delete', context);\n};\n\n\nModeling.prototype.distributeElements = function(groups, axis, dimension) {\n  var context = {\n    groups: groups,\n    axis: axis,\n    dimension: dimension\n  };\n\n  this._commandStack.execute('elements.distribute', context);\n};\n\n\nModeling.prototype.removeShape = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.delete', context);\n};\n\n\nModeling.prototype.removeConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.delete', context);\n};\n\nModeling.prototype.replaceShape = function(oldShape, newShape, hints) {\n  var context = {\n    oldShape: oldShape,\n    newData: newShape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.replace', context);\n\n  return context.newShape;\n};\n\nModeling.prototype.alignElements = function(elements, alignment) {\n  var context = {\n    elements: elements,\n    alignment: alignment\n  };\n\n  this._commandStack.execute('elements.align', context);\n};\n\nModeling.prototype.resizeShape = function(shape, newBounds, minBounds, hints) {\n  var context = {\n    shape: shape,\n    newBounds: newBounds,\n    minBounds: minBounds,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.resize', context);\n};\n\nModeling.prototype.createSpace = function(movingShapes, resizingShapes, delta, direction, start) {\n  var context = {\n    delta: delta,\n    direction: direction,\n    movingShapes: movingShapes,\n    resizingShapes: resizingShapes,\n    start: start\n  };\n\n  this._commandStack.execute('spaceTool', context);\n};\n\nModeling.prototype.updateWaypoints = function(connection, newWaypoints, hints) {\n  var context = {\n    connection: connection,\n    newWaypoints: newWaypoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.updateWaypoints', context);\n};\n\nModeling.prototype.reconnect = function(connection, source, target, dockingOrPoints, hints) {\n  var context = {\n    connection: connection,\n    newSource: source,\n    newTarget: target,\n    dockingOrPoints: dockingOrPoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.reconnect', context);\n};\n\nModeling.prototype.reconnectStart = function(connection, newSource, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, newSource, connection.target, dockingOrPoints, assign(hints, {\n    docking: 'source'\n  }));\n};\n\nModeling.prototype.reconnectEnd = function(connection, newTarget, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, connection.source, newTarget, dockingOrPoints, assign(hints, {\n    docking: 'target'\n  }));\n};\n\nModeling.prototype.connect = function(source, target, attrs, hints) {\n  return this.createConnection(source, target, attrs || {}, source.parent, hints);\n};\n\nModeling.prototype._create = function(type, attrs) {\n  if (attrs instanceof Base) {\n    return attrs;\n  } else {\n    return this._elementFactory.create(type, attrs);\n  }\n};\n\nModeling.prototype.toggleCollapse = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.toggleCollapse', context);\n};\n","export default function IdClaimHandler(moddle) {\n  this._moddle = moddle;\n}\nIdClaimHandler.$inject = ['moddle'];\n\nIdClaimHandler.prototype.execute = function (context) {\n  var ids = this._moddle.ids,\n      id = context.id,\n      element = context.element,\n      claiming = context.claiming;\n\n  if (claiming) {\n    ids.claim(id, element);\n  } else {\n    ids.unclaim(id);\n  }\n};\n/**\n * Command revert implementation.\n */\n\n\nIdClaimHandler.prototype.revert = function (context) {\n  var ids = this._moddle.ids,\n      id = context.id,\n      element = context.element,\n      claiming = context.claiming;\n\n  if (claiming) {\n    ids.unclaim(id);\n  } else {\n    ids.claim(id, element);\n  }\n};\n//# sourceMappingURL=IdClaimHandler.js.map","import { getLabel, setLabel } from '../LabelUtil';\n/**\n * A handler that updates the name of a DMN element.\n */\n\nexport default function UpdateLabelHandler() {\n  /**\n   * Set the label and return the changed elements.\n   *\n   * Element parameter can be label itself or connection (i.e. sequence flow).\n   *\n   * @param {djs.model.Base} element\n   * @param {string} text\n   */\n  function setText(element, text) {\n    // external label if present\n    var label = element.label || element;\n    var labelTarget = element.labelTarget || element;\n    setLabel(label, text, labelTarget !== label);\n    return [label, labelTarget];\n  }\n\n  function execute(ctx) {\n    ctx.oldLabel = getLabel(ctx.element);\n    return setText(ctx.element, ctx.newLabel);\n  }\n\n  function revert(ctx) {\n    return setText(ctx.element, ctx.oldLabel);\n  } // API\n\n\n  this.execute = execute;\n  this.revert = revert;\n}\n//# sourceMappingURL=UpdateLabelHandler.js.map","import { reduce, keys, forEach } from 'min-dash';\nvar NAME = 'name',\n    ID = 'id';\n/**\n * A handler that implements a DMN property update.\n *\n * This should be used to set simple properties on elements with\n * an underlying DMN business object.\n *\n * Use respective diagram-js provided handlers if you would\n * like to perform automated modeling.\n */\n\nexport default function UpdatePropertiesHandler(elementRegistry, moddle) {\n  this._elementRegistry = elementRegistry;\n  this._moddle = moddle;\n}\nUpdatePropertiesHandler.$inject = ['elementRegistry', 'moddle'];\n/**\n * Updates a DMN element with a list of new properties\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element the element to update\n * @param {Object} context.properties a list of properties to set on the element's\n *                                    businessObject (the DMN model element)\n *\n * @return {Array<djs.model.Base>} the updated element\n */\n\nUpdatePropertiesHandler.prototype.execute = function (context) {\n  var element = context.element,\n      changed = [element];\n\n  if (!element) {\n    throw new Error('element required');\n  }\n\n  var elementRegistry = this._elementRegistry,\n      ids = this._moddle.ids;\n  var businessObject = element.businessObject,\n      properties = context.properties,\n      oldProperties = context.oldProperties || getProperties(businessObject, keys(properties));\n\n  if (isIdChange(properties, businessObject)) {\n    ids.unclaim(businessObject[ID]);\n    elementRegistry.updateId(element, properties[ID]);\n    ids.claim(properties[ID], businessObject);\n  }\n\n  if (NAME in properties && element.label) {\n    changed.push(element.label);\n  } // update properties\n\n\n  setProperties(businessObject, properties); // store old values\n\n  context.oldProperties = oldProperties;\n  context.changed = changed; // indicate changed on objects affected by the update\n\n  return changed;\n};\n/**\n * Reverts the update on a DMN elements properties.\n *\n * @param  {Object} context\n *\n * @return {djs.model.Base} the updated element\n */\n\n\nUpdatePropertiesHandler.prototype.revert = function (context) {\n  var element = context.element,\n      properties = context.properties,\n      oldProperties = context.oldProperties,\n      businessObject = element.businessObject,\n      elementRegistry = this._elementRegistry,\n      ids = this._moddle.ids; // update properties\n\n  setProperties(businessObject, oldProperties);\n\n  if (isIdChange(properties, businessObject)) {\n    ids.unclaim(properties[ID]);\n    elementRegistry.updateId(element, oldProperties[ID]);\n    ids.claim(oldProperties[ID], businessObject);\n  }\n\n  return context.changed;\n};\n\nfunction isIdChange(properties, businessObject) {\n  return ID in properties && properties[ID] !== businessObject[ID];\n}\n\nfunction getProperties(businessObject, propertyNames) {\n  return reduce(propertyNames, function (result, key) {\n    result[key] = businessObject.get(key);\n    return result;\n  }, {});\n}\n\nfunction setProperties(businessObject, properties) {\n  forEach(properties, function (value, key) {\n    businessObject.set(key, value);\n  });\n}\n//# sourceMappingURL=UpdatePropertiesHandler.js.map","import inherits from 'inherits';\nimport BaseModeling from 'diagram-js/lib/features/modeling/Modeling';\nimport IdClaimHandler from './cmd/IdClaimHandler.js';\nimport UpdateLabelHandler from '../label-editing/cmd/UpdateLabelHandler.js';\nimport UpdatePropertiesHandler from './cmd/UpdatePropertiesHandler.js';\n/**\n * DMN modeling.\n *\n * @param {Canvas} canvas\n * @param {CommandStack} commandStack\n * @param {DrdRules} drdRules\n * @param {ElementFactory} elementFactory\n * @param {EventBus} eventBus\n */\n\nexport default function Modeling(canvas, drdRules, injector) {\n  this._canvas = canvas;\n  this._drdRules = drdRules;\n  injector.invoke(BaseModeling, this);\n}\ninherits(Modeling, BaseModeling);\nModeling.$inject = ['canvas', 'drdRules', 'injector'];\n\nModeling.prototype.claimId = function (id, moddleElement) {\n  this._commandStack.execute('id.updateClaim', {\n    id: id,\n    element: moddleElement,\n    claiming: true\n  });\n};\n\nModeling.prototype.connect = function (source, target, attrs, hints) {\n  var drdRules = this._drdRules,\n      rootElement = this._canvas.getRootElement();\n\n  if (!attrs) {\n    attrs = drdRules.canConnect(source, target) || {\n      type: 'dmn:Association'\n    };\n  }\n\n  return this.createConnection(source, target, attrs, rootElement, hints);\n};\n\nModeling.prototype.getHandlers = function () {\n  var handlers = BaseModeling.prototype.getHandlers.call(this);\n  handlers['id.updateClaim'] = IdClaimHandler;\n  handlers['element.updateLabel'] = UpdateLabelHandler;\n  handlers['element.updateProperties'] = UpdatePropertiesHandler;\n  return handlers;\n};\n\nModeling.prototype.unclaimId = function (id, moddleElement) {\n  this._commandStack.execute('id.updateClaim', {\n    id: id,\n    element: moddleElement\n  });\n};\n\nModeling.prototype.updateProperties = function (element, properties) {\n  this._commandStack.execute('element.updateProperties', {\n    element: element,\n    properties: properties\n  });\n};\n\nModeling.prototype.updateLabel = function (element, newLabel, newBounds, hints) {\n  this._commandStack.execute('element.updateLabel', {\n    element: element,\n    newLabel: newLabel,\n    newBounds: newBounds,\n    hints: hints || {}\n  });\n};\n//# sourceMappingURL=Modeling.js.map","import {\n  getMid\n} from './LayoutUtil';\n\n\n/**\n * A base connection layouter implementation\n * that layouts the connection by directly connecting\n * mid(source) + mid(target).\n */\nexport default function BaseLayouter() {}\n\n\n/**\n * Return the new layouted waypoints for the given connection.\n *\n * The connection passed is still unchanged; you may figure out about\n * the new connection start / end via the layout hints provided.\n *\n * @param {djs.model.Connection} connection\n * @param {Object} [hints]\n * @param {Point} [hints.connectionStart]\n * @param {Point} [hints.connectionEnd]\n * @param {Point} [hints.source]\n * @param {Point} [hints.target]\n *\n * @return {Array<Point>} the layouted connection waypoints\n */\nBaseLayouter.prototype.layoutConnection = function(connection, hints) {\n\n  hints = hints || {};\n\n  return [\n    hints.connectionStart || getMid(hints.source || connection.source),\n    hints.connectionEnd || getMid(hints.target || connection.target)\n  ];\n};\n","import inherits from 'inherits';\nimport BaseLayouter from 'diagram-js/lib/layout/BaseLayouter';\nimport { getMid, getOrientation } from 'diagram-js/lib/layout/LayoutUtil';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { assign } from 'min-dash';\nvar ADDITIONAL_WAYPOINT_DISTANCE = 20;\nexport default function DrdLayouter(connectionDocking) {\n  this._connectionDocking = connectionDocking;\n}\ninherits(DrdLayouter, BaseLayouter);\nDrdLayouter.$inject = ['connectionDocking'];\n\nDrdLayouter.prototype.layoutConnection = function (connection, hints) {\n  var connectionDocking = this._connectionDocking;\n\n  if (!hints) {\n    hints = {};\n  }\n\n  var source = hints.source || connection.source,\n      target = hints.target || connection.target,\n      waypoints = hints.waypoints || connection.waypoints || [],\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      orientation = getOrientation(source, target);\n\n  if (!connectionStart) {\n    connectionStart = getConnectionDocking(waypoints[0], source);\n  }\n\n  if (!connectionEnd) {\n    connectionEnd = getConnectionDocking(waypoints[waypoints.length - 1], target);\n  }\n\n  if (is(connection, 'dmn:InformationRequirement')) {\n    waypoints = [connectionStart, connectionEnd];\n    var croppedWaypoints = connectionDocking.getCroppedWaypoints(assign({}, connection, {\n      waypoints: waypoints\n    }), source, target);\n    connectionEnd = croppedWaypoints.pop();\n    var additionalWaypoint = {\n      x: connectionEnd.x,\n      y: connectionEnd.y\n    };\n\n    if (orientation.includes('bottom')) {\n      additionalWaypoint.y += ADDITIONAL_WAYPOINT_DISTANCE;\n    } else if (orientation.includes('top')) {\n      additionalWaypoint.y -= ADDITIONAL_WAYPOINT_DISTANCE;\n    } else if (orientation.includes('right')) {\n      additionalWaypoint.x += ADDITIONAL_WAYPOINT_DISTANCE;\n    } else {\n      additionalWaypoint.x -= ADDITIONAL_WAYPOINT_DISTANCE;\n    }\n\n    waypoints = croppedWaypoints.concat([additionalWaypoint, connectionEnd]);\n    return waypoints;\n  }\n\n  return [connectionStart, connectionEnd];\n};\n\nfunction getConnectionDocking(point, shape) {\n  return point ? point.original || point : getMid(shape);\n}\n//# sourceMappingURL=DrdLayouter.js.map","import {\n  assign\n} from 'min-dash';\n\nimport {\n  getElementLineIntersection\n} from './LayoutUtil';\n\n\nfunction dockingToPoint(docking) {\n\n  // use the dockings actual point and\n  // retain the original docking\n  return assign({ original: docking.point.original || docking.point }, docking.actual);\n}\n\n\n/**\n * A {@link ConnectionDocking} that crops connection waypoints based on\n * the path(s) of the connection source and target.\n *\n * @param {djs.core.ElementRegistry} elementRegistry\n */\nexport default function CroppingConnectionDocking(elementRegistry, graphicsFactory) {\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n}\n\nCroppingConnectionDocking.$inject = [ 'elementRegistry', 'graphicsFactory' ];\n\n\n/**\n * @inheritDoc ConnectionDocking#getCroppedWaypoints\n */\nCroppingConnectionDocking.prototype.getCroppedWaypoints = function(connection, source, target) {\n\n  source = source || connection.source;\n  target = target || connection.target;\n\n  var sourceDocking = this.getDockingPoint(connection, source, true),\n      targetDocking = this.getDockingPoint(connection, target);\n\n  var croppedWaypoints = connection.waypoints.slice(sourceDocking.idx + 1, targetDocking.idx);\n\n  croppedWaypoints.unshift(dockingToPoint(sourceDocking));\n  croppedWaypoints.push(dockingToPoint(targetDocking));\n\n  return croppedWaypoints;\n};\n\n/**\n * Return the connection docking point on the specified shape\n *\n * @inheritDoc ConnectionDocking#getDockingPoint\n */\nCroppingConnectionDocking.prototype.getDockingPoint = function(connection, shape, dockStart) {\n\n  var waypoints = connection.waypoints,\n      dockingIdx,\n      dockingPoint,\n      croppedPoint;\n\n  dockingIdx = dockStart ? 0 : waypoints.length - 1;\n  dockingPoint = waypoints[dockingIdx];\n\n  croppedPoint = this._getIntersection(shape, connection, dockStart);\n\n  return {\n    point: dockingPoint,\n    actual: croppedPoint || dockingPoint,\n    idx: dockingIdx\n  };\n};\n\n\n// helpers //////////////////////\n\nCroppingConnectionDocking.prototype._getIntersection = function(shape, connection, takeFirst) {\n\n  var shapePath = this._getShapePath(shape),\n      connectionPath = this._getConnectionPath(connection);\n\n  return getElementLineIntersection(shapePath, connectionPath, takeFirst);\n};\n\nCroppingConnectionDocking.prototype._getConnectionPath = function(connection) {\n  return this._graphicsFactory.getConnectionPath(connection);\n};\n\nCroppingConnectionDocking.prototype._getShapePath = function(shape) {\n  return this._graphicsFactory.getShapePath(shape);\n};\n\nCroppingConnectionDocking.prototype._getGfx = function(element) {\n  return this._elementRegistry.getGraphics(element);\n};\n","import ModelingBehavior from './behavior';\nimport Rules from '../rules';\nimport DefinitionPropertiesViewer from '../definition-properties/viewer';\nimport DiagramCommand from 'diagram-js/lib/command';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\nimport DiagramChangeSupport from 'diagram-js/lib/features/change-support';\nimport DrdFactory from './DrdFactory';\nimport DrdUpdater from './DrdUpdater';\nimport ElementFactory from './ElementFactory';\nimport Modeling from './Modeling';\nimport DrdLayouter from './DrdLayouter';\nimport CroppingConnectionDocking from 'diagram-js/lib/layout/CroppingConnectionDocking';\nexport default {\n  __init__: ['modeling', 'drdUpdater'],\n  __depends__: [ModelingBehavior, Rules, DefinitionPropertiesViewer, DiagramCommand, DiagramSelection, DiagramChangeSupport],\n  drdFactory: ['type', DrdFactory],\n  drdUpdater: ['type', DrdUpdater],\n  elementFactory: ['type', ElementFactory],\n  modeling: ['type', Modeling],\n  layouter: ['type', DrdLayouter],\n  connectionDocking: ['type', CroppingConnectionDocking]\n};\n//# sourceMappingURL=index.js.map","import {\n  assign,\n  filter,\n  groupBy,\n  isObject\n} from 'min-dash';\n\nvar LOW_PRIORITY = 500,\n    MEDIUM_PRIORITY = 1250,\n    HIGH_PRIORITY = 1500;\n\nimport { getOriginal as getOriginalEvent } from '../../util/Event';\n\nimport {\n  isPrimaryButton\n} from '../../util/Mouse';\n\nvar round = Math.round;\n\nfunction mid(element) {\n  return {\n    x: element.x + round(element.width / 2),\n    y: element.y + round(element.height / 2)\n  };\n}\n\n/**\n * A plugin that makes shapes draggable / droppable.\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Selection} selection\n * @param {Rules} rules\n */\nexport default function MoveEvents(\n    eventBus, dragging, modeling,\n    selection, rules) {\n\n  // rules\n\n  function canMove(shapes, delta, position, target) {\n\n    return rules.allowed('elements.move', {\n      shapes: shapes,\n      delta: delta,\n      position: position,\n      target: target\n    });\n  }\n\n\n  // move events\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment.\n  //\n  // This sets up the context with\n  //\n  // * shape: the primary shape being moved\n  // * shapes: a list of shapes to be moved\n  // * validatedShapes: a list of shapes that are being checked\n  //                    against the rules before and during move\n  //\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(event) {\n\n    var context = event.context,\n        shape = event.shape,\n        shapes = selection.get().slice();\n\n    // move only single shape if the dragged element\n    // is not part of the current selection\n    if (shapes.indexOf(shape) === -1) {\n      shapes = [ shape ];\n    }\n\n    // ensure we remove nested elements in the collection\n    // and add attachers for a proper dragger\n    shapes = removeNested(shapes);\n\n    // attach shapes to drag context\n    assign(context, {\n      shapes: shapes,\n      validatedShapes: shapes,\n      shape: shape\n    });\n  });\n\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment\n  //\n  eventBus.on('shape.move.start', MEDIUM_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        canExecute;\n\n    canExecute = context.canExecute = canMove(validatedShapes);\n\n    // check if we can move the elements\n    if (!canExecute) {\n      return false;\n    }\n  });\n\n  // assign a low priority to this handler\n  // to let others modify the move event before we update\n  // the context\n  //\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        hover = event.hover,\n        delta = { x: event.dx, y: event.dy },\n        position = { x: event.x, y: event.y },\n        canExecute;\n\n    // check if we can move the elements\n    canExecute = canMove(validatedShapes, delta, position, hover);\n\n    context.delta = delta;\n    context.canExecute = canExecute;\n\n    // simply ignore move over\n    if (canExecute === null) {\n      context.target = null;\n\n      return;\n    }\n\n    context.target = hover;\n  });\n\n  eventBus.on('shape.move.end', function(event) {\n\n    var context = event.context;\n\n    var delta = context.delta,\n        canExecute = context.canExecute,\n        isAttach = canExecute === 'attach',\n        shapes = context.shapes;\n\n    if (canExecute === false) {\n      return false;\n    }\n\n    // ensure we have actual pixel values deltas\n    // (important when zoom level was > 1 during move)\n    delta.x = round(delta.x);\n    delta.y = round(delta.y);\n\n    if (delta.x === 0 && delta.y === 0) {\n\n      // didn't move\n      return;\n    }\n\n    modeling.moveElements(shapes, delta, context.target, {\n      primaryShape: context.shape,\n      attach: isAttach\n    });\n  });\n\n\n  // move activation\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!isPrimaryButton(event)) {\n      return;\n    }\n\n    var originalEvent = getOriginalEvent(event);\n\n    if (!originalEvent) {\n      throw new Error('must supply DOM mousedown event');\n    }\n\n    return start(originalEvent, event.element);\n  });\n\n  /**\n   * Start move.\n   *\n   * @param {MouseEvent} event\n   * @param {djs.model.Shape} shape\n   * @param {boolean} [activate]\n   * @param {Object} [context]\n   */\n  function start(event, element, activate, context) {\n    if (isObject(activate)) {\n      context = activate;\n      activate = false;\n    }\n\n    // do not move connections or the root element\n    if (element.waypoints || !element.parent) {\n      return;\n    }\n\n    var referencePoint = mid(element);\n\n    dragging.init(event, referencePoint, 'shape.move', {\n      cursor: 'grabbing',\n      autoActivate: activate,\n      data: {\n        shape: element,\n        context: context || {}\n      }\n    });\n\n    // we've handled the event\n    return true;\n  }\n\n  // API\n\n  this.start = start;\n}\n\nMoveEvents.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'selection',\n  'rules'\n];\n\n\n/**\n * Return a filtered list of elements that do not contain\n * those nested into others.\n *\n * @param  {Array<djs.model.Base>} elements\n *\n * @return {Array<djs.model.Base>} filtered\n */\nfunction removeNested(elements) {\n\n  var ids = groupBy(elements, 'id');\n\n  return filter(elements, function(element) {\n    while ((element = element.parent)) {\n\n      // parent in selection\n      if (ids[element.id]) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n","import {\n  flatten,\n  forEach,\n  filter,\n  find,\n  groupBy,\n  map,\n  matchPattern,\n  size\n} from 'min-dash';\n\nimport {\n  selfAndAllChildren\n} from '../../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nvar LOW_PRIORITY = 499;\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Canvas} canvas\n * @param {Styles} styles\n */\nexport default function MovePreview(\n    eventBus, canvas, styles, previewSupport) {\n\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n\n    var filteredElements = removeEdges(elements);\n\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n\n    var allConnections = map(allShapes, function(shape) {\n      return (shape.incoming || []).concat(shape.outgoing || []);\n    });\n\n    return flatten(allShapes.concat(allConnections));\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [ element ];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n\n      svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      var activeLayer = canvas.getActiveLayer();\n\n      svgAppend(activeLayer, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function(shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([\n        allDraggedElements,\n        getAllDraggedElements(dragShapes)\n      ]);\n    }\n\n    // add dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && target && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    translate(dragGroup, event.dx, event.dy);\n  });\n\n  eventBus.on([ 'shape.move.out', 'shape.move.cleanup' ], function(event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function(event) {\n\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup;\n\n\n    // remove dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  });\n\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\n\nMovePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n\n  var filteredElements = filter(elements, function(element) {\n\n    if (!isConnection(element)) {\n      return true;\n    } else {\n\n      return (\n        find(elements, matchPattern({ id: element.source.id })) &&\n        find(elements, matchPattern({ id: element.target.id }))\n      );\n    }\n  });\n\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function(e) { return e.parent && e.parent.id; })) !== 1;\n}\n\n/**\n * Checks if an element is a connection.\n */\nfunction isConnection(element) {\n  return element.waypoints;\n}\n","import InteractionEventsModule from '../interaction-events';\nimport SelectionModule from '../selection';\nimport OutlineModule from '../outline';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\n\nimport Move from './Move';\nimport MovePreview from './MovePreview';\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    SelectionModule,\n    OutlineModule,\n    RulesModule,\n    DraggingModule,\n    PreviewSupportModule\n  ],\n  __init__: [\n    'move',\n    'movePreview'\n  ],\n  move: [ 'type', Move ],\n  movePreview: [ 'type', MovePreview ]\n};\n","import {\n  isArray,\n  isFunction,\n  forEach\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  attr as domAttr,\n  clear as domClear,\n  classes as domClasses,\n  matches as domMatches,\n  delegate as domDelegate,\n  event as domEvent\n} from 'min-dom';\n\n\nvar TOGGLE_SELECTOR = '.djs-palette-toggle',\n    ENTRY_SELECTOR = '.entry',\n    ELEMENT_SELECTOR = TOGGLE_SELECTOR + ', ' + ENTRY_SELECTOR;\n\nvar PALETTE_PREFIX = 'djs-palette-',\n    PALETTE_SHOWN_CLS = 'shown',\n    PALETTE_OPEN_CLS = 'open',\n    PALETTE_TWO_COLUMN_CLS = 'two-column';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A palette containing modeling elements.\n */\nexport default function Palette(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('tool-manager.update', function(event) {\n    var tool = event.tool;\n\n    self.updateToolHighlight(tool);\n  });\n\n  eventBus.on('i18n.changed', function() {\n    self._update();\n  });\n\n  eventBus.on('diagram.init', function() {\n\n    self._diagramInitialized = true;\n\n    self._rebuild();\n  });\n}\n\nPalette.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Register a provider with the palette\n *\n * @param  {number} [priority=1000]\n * @param  {PaletteProvider} provider\n *\n * @example\n * const paletteProvider = {\n *   getPaletteEntries: function() {\n *     return function(entries) {\n *       return {\n *         ...entries,\n *         'entry-1': {\n *           label: 'My Entry',\n *           action: function() { alert(\"I have been clicked!\"); }\n *         }\n *       };\n *     }\n *   }\n * };\n *\n * palette.registerProvider(800, paletteProvider);\n */\nPalette.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('palette.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n\n  this._rebuild();\n};\n\n\n/**\n * Returns the palette entries\n *\n * @return {Object<string, PaletteEntryDescriptor>} map of entries\n */\nPalette.prototype.getEntries = function() {\n  var providers = this._getProviders();\n\n  return providers.reduce(addPaletteEntries, {});\n};\n\nPalette.prototype._rebuild = function() {\n\n  if (!this._diagramInitialized) {\n    return;\n  }\n\n  var providers = this._getProviders();\n\n  if (!providers.length) {\n    return;\n  }\n\n  if (!this._container) {\n    this._init();\n  }\n\n  this._update();\n};\n\n/**\n * Initialize\n */\nPalette.prototype._init = function() {\n\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var parentContainer = this._getParentContainer();\n\n  var container = this._container = domify(Palette.HTML_MARKUP);\n\n  parentContainer.appendChild(container);\n  domClasses(parentContainer).add(PALETTE_PREFIX + PALETTE_SHOWN_CLS);\n\n  domDelegate.bind(container, ELEMENT_SELECTOR, 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    if (domMatches(target, TOGGLE_SELECTOR)) {\n      return self.toggle();\n    }\n\n    self.trigger('click', event);\n  });\n\n  // prevent drag propagation\n  domEvent.bind(container, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  // prevent drag propagation\n  domDelegate.bind(container, ENTRY_SELECTOR, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  eventBus.on('canvas.resized', this._layoutChanged, this);\n\n  eventBus.fire('palette.create', {\n    container: container\n  });\n};\n\nPalette.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'palette.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * Update palette state.\n *\n * @param  {Object} [state] { open, twoColumn }\n */\nPalette.prototype._toggleState = function(state) {\n\n  state = state || {};\n\n  var parent = this._getParentContainer(),\n      container = this._container;\n\n  var eventBus = this._eventBus;\n\n  var twoColumn;\n\n  var cls = domClasses(container),\n      parentCls = domClasses(parent);\n\n  if ('twoColumn' in state) {\n    twoColumn = state.twoColumn;\n  } else {\n    twoColumn = this._needsCollapse(parent.clientHeight, this._entries || {});\n  }\n\n  // always update two column\n  cls.toggle(PALETTE_TWO_COLUMN_CLS, twoColumn);\n  parentCls.toggle(PALETTE_PREFIX + PALETTE_TWO_COLUMN_CLS, twoColumn);\n\n  if ('open' in state) {\n    cls.toggle(PALETTE_OPEN_CLS, state.open);\n    parentCls.toggle(PALETTE_PREFIX + PALETTE_OPEN_CLS, state.open);\n  }\n\n  eventBus.fire('palette.changed', {\n    twoColumn: twoColumn,\n    open: this.isOpen()\n  });\n};\n\nPalette.prototype._update = function() {\n\n  var entriesContainer = domQuery('.djs-palette-entries', this._container),\n      entries = this._entries = this.getEntries();\n\n  domClear(entriesContainer);\n\n  forEach(entries, function(entry, id) {\n\n    var grouping = entry.group || 'default';\n\n    var container = domQuery('[data-group=' + grouping + ']', entriesContainer);\n    if (!container) {\n      container = domify('<div class=\"group\" data-group=\"' + grouping + '\"></div>');\n      entriesContainer.appendChild(container);\n    }\n\n    var html = entry.html || (\n      entry.separator ?\n        '<hr class=\"separator\" />' :\n        '<div class=\"entry\" draggable=\"true\"></div>');\n\n\n    var control = domify(html);\n    container.appendChild(control);\n\n    if (!entry.separator) {\n      domAttr(control, 'data-action', id);\n\n      if (entry.title) {\n        domAttr(control, 'title', entry.title);\n      }\n\n      if (entry.className) {\n        addClasses(control, entry.className);\n      }\n\n      if (entry.imageUrl) {\n        control.appendChild(domify('<img src=\"' + entry.imageUrl + '\">'));\n      }\n    }\n  });\n\n  // open after update\n  this.open();\n};\n\n\n/**\n * Trigger an action available on the palette\n *\n * @param  {string} action\n * @param  {Event} event\n */\nPalette.prototype.trigger = function(action, event, autoActivate) {\n  var entries = this._entries,\n      entry,\n      handler,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = entries[domAttr(button, 'data-action')];\n\n  // when user clicks on the palette and not on an action\n  if (!entry) {\n    return;\n  }\n\n  handler = entry.action;\n\n  originalEvent = event.originalEvent || event;\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      handler(originalEvent, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      handler[action](originalEvent, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\nPalette.prototype._layoutChanged = function() {\n  this._toggleState({});\n};\n\n/**\n * Do we need to collapse to two columns?\n *\n * @param {number} availableHeight\n * @param {Object} entries\n *\n * @return {boolean}\n */\nPalette.prototype._needsCollapse = function(availableHeight, entries) {\n\n  // top margin + bottom toggle + bottom margin\n  // implementors must override this method if they\n  // change the palette styles\n  var margin = 20 + 10 + 20;\n\n  var entriesHeight = Object.keys(entries).length * 46;\n\n  return availableHeight < entriesHeight + margin;\n};\n\n/**\n * Close the palette\n */\nPalette.prototype.close = function() {\n\n  this._toggleState({\n    open: false,\n    twoColumn: false\n  });\n};\n\n\n/**\n * Open the palette\n */\nPalette.prototype.open = function() {\n  this._toggleState({ open: true });\n};\n\n\nPalette.prototype.toggle = function(open) {\n  if (this.isOpen()) {\n    this.close();\n  } else {\n    this.open();\n  }\n};\n\nPalette.prototype.isActiveTool = function(tool) {\n  return tool && this._activeTool === tool;\n};\n\nPalette.prototype.updateToolHighlight = function(name) {\n  var entriesContainer,\n      toolsContainer;\n\n  if (!this._toolsContainer) {\n    entriesContainer = domQuery('.djs-palette-entries', this._container);\n\n    this._toolsContainer = domQuery('[data-group=tools]', entriesContainer);\n  }\n\n  toolsContainer = this._toolsContainer;\n\n  forEach(toolsContainer.children, function(tool) {\n    var actionName = tool.getAttribute('data-action');\n\n    if (!actionName) {\n      return;\n    }\n\n    var toolClasses = domClasses(tool);\n\n    actionName = actionName.replace('-tool', '');\n\n    if (toolClasses.contains('entry') && actionName === name) {\n      toolClasses.add('highlighted-entry');\n    } else {\n      toolClasses.remove('highlighted-entry');\n    }\n  });\n};\n\n\n/**\n * Return true if the palette is opened.\n *\n * @example\n *\n * palette.open();\n *\n * if (palette.isOpen()) {\n *   // yes, we are open\n * }\n *\n * @return {boolean} true if palette is opened\n */\nPalette.prototype.isOpen = function() {\n  return domClasses(this._container).has(PALETTE_OPEN_CLS);\n};\n\n/**\n * Get container the palette lives in.\n *\n * @return {Element}\n */\nPalette.prototype._getParentContainer = function() {\n  return this._canvas.getContainer();\n};\n\n\n/* markup definition */\n\nPalette.HTML_MARKUP =\n  '<div class=\"djs-palette\">' +\n    '<div class=\"djs-palette-entries\"></div>' +\n    '<div class=\"djs-palette-toggle\"></div>' +\n  '</div>';\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = domClasses(element);\n\n  var actualClassNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}\n\nfunction addPaletteEntries(entries, provider) {\n\n  var entriesOrUpdater = provider.getPaletteEntries();\n\n  if (isFunction(entriesOrUpdater)) {\n    return entriesOrUpdater(entries);\n  }\n\n  forEach(entriesOrUpdater, function(entry, id) {\n    entries[id] = entry;\n  });\n\n  return entries;\n}","import Palette from './Palette';\n\nexport default {\n  __init__: [ 'palette' ],\n  palette: [ 'type', Palette ]\n};\n","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  closest as domClosest\n} from 'min-dom';\n\nvar LOW_PRIORITY = 250;\n\n/**\n * The tool manager acts as middle-man between the available tool's and the Palette,\n * it takes care of making sure that the correct active state is set.\n *\n * @param  {Object}    eventBus\n * @param  {Object}    dragging\n */\nexport default function ToolManager(eventBus, dragging) {\n  this._eventBus = eventBus;\n  this._dragging = dragging;\n\n  this._tools = [];\n  this._active = null;\n}\n\nToolManager.$inject = [ 'eventBus', 'dragging' ];\n\nToolManager.prototype.registerTool = function(name, events) {\n  var tools = this._tools;\n\n  if (!events) {\n    throw new Error('A tool has to be registered with it\\'s \"events\"');\n  }\n\n  tools.push(name);\n\n  this.bindEvents(name, events);\n};\n\nToolManager.prototype.isActive = function(tool) {\n  return tool && this._active === tool;\n};\n\nToolManager.prototype.length = function(tool) {\n  return this._tools.length;\n};\n\nToolManager.prototype.setActive = function(tool) {\n  var eventBus = this._eventBus;\n\n  if (this._active !== tool) {\n    this._active = tool;\n\n    eventBus.fire('tool-manager.update', { tool: tool });\n  }\n};\n\nToolManager.prototype.bindEvents = function(name, events) {\n  var eventBus = this._eventBus,\n      dragging = this._dragging;\n\n  var eventsToRegister = [];\n\n  eventBus.on(events.tool + '.init', function(event) {\n    var context = event.context;\n\n    // Active tools that want to reactivate themselves must do this explicitly\n    if (!context.reactivate && this.isActive(name)) {\n      this.setActive(null);\n\n      dragging.cancel();\n      return;\n    }\n\n    this.setActive(name);\n\n  }, this);\n\n  // Todo[ricardo]: add test cases\n  forEach(events, function(event) {\n    eventsToRegister.push(event + '.ended');\n    eventsToRegister.push(event + '.canceled');\n  });\n\n  eventBus.on(eventsToRegister, LOW_PRIORITY, function(event) {\n\n    // We defer the de-activation of the tool to the .activate phase,\n    // so we're able to check if we want to toggle off the current\n    // active tool or switch to a new one\n    if (!this._active) {\n      return;\n    }\n\n    if (isPaletteClick(event)) {\n      return;\n    }\n\n    this.setActive(null);\n  }, this);\n\n};\n\n\n// helpers ///////////////\n\n/**\n * Check if a given event is a palette click event.\n *\n * @param {EventBus.Event} event\n *\n * @return {boolean}\n */\nfunction isPaletteClick(event) {\n  var target = event.originalEvent && event.originalEvent.target;\n\n  return target && domClosest(target, '.group[data-group=\"tools\"]');\n}","import DraggingModule from '../dragging';\n\nimport ToolManager from './ToolManager';\n\nexport default {\n  __depends__: [\n    DraggingModule\n  ],\n  __init__: [ 'toolManager' ],\n  toolManager: [ 'type', ToolManager ]\n};\n","export default function Mouse(eventBus) {\r\n  var self = this;\r\n\r\n  this._lastMoveEvent = null;\r\n\r\n  function setLastMoveEvent(mousemoveEvent) {\r\n    self._lastMoveEvent = mousemoveEvent;\r\n  }\r\n\r\n  eventBus.on('canvas.init', function(context) {\r\n    var svg = self._svg = context.svg;\r\n\r\n    svg.addEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n\r\n  eventBus.on('canvas.destroy', function() {\r\n    self._lastMouseEvent = null;\r\n\r\n    self._svg.removeEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n}\r\n\r\nMouse.$inject = [ 'eventBus' ];\r\n\r\nMouse.prototype.getLastMoveEvent = function() {\r\n  return this._lastMoveEvent || createMoveEvent(0, 0);\r\n};\r\n\r\n// helpers //////////\r\n\r\nexport function createMoveEvent(x, y) {\r\n  var event = document.createEvent('MouseEvent');\r\n\r\n  var screenX = x,\r\n      screenY = y,\r\n      clientX = x,\r\n      clientY = y;\r\n\r\n  if (event.initMouseEvent) {\r\n    event.initMouseEvent(\r\n      'mousemove',\r\n      true,\r\n      true,\r\n      window,\r\n      0,\r\n      screenX,\r\n      screenY,\r\n      clientX,\r\n      clientY,\r\n      false,\r\n      false,\r\n      false,\r\n      false,\r\n      0,\r\n      null\r\n    );\r\n  }\r\n\r\n  return event;\r\n}","import Mouse from './Mouse';\n\nexport default {\n  __init__: [ 'mouse' ],\n  mouse: [ 'type', Mouse ]\n};\n","import { values } from 'min-dash';\n\nimport { getEnclosedElements } from '../../util/Elements';\n\nimport {\n  hasSecondaryModifier\n} from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nvar LASSO_TOOL_CURSOR = 'crosshair';\n\n\nexport default function LassoTool(\n    eventBus, canvas, dragging,\n    elementRegistry, selection, toolManager,\n    mouse) {\n\n  this._selection = selection;\n  this._dragging = dragging;\n  this._mouse = mouse;\n\n  var self = this;\n\n  // lasso visuals implementation\n\n  /**\n  * A helper that realizes the selection box visual\n  */\n  var visuals = {\n\n    create: function(context) {\n      var container = canvas.getActiveLayer(),\n          frame;\n\n      frame = context.frame = svgCreate('rect');\n      svgAttr(frame, {\n        class: 'djs-lasso-overlay',\n        width:  1,\n        height: 1,\n        x: 0,\n        y: 0\n      });\n\n      svgAppend(container, frame);\n    },\n\n    update: function(context) {\n      var frame = context.frame,\n          bbox = context.bbox;\n\n      svgAttr(frame, {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height\n      });\n    },\n\n    remove: function(context) {\n\n      if (context.frame) {\n        svgRemove(context.frame);\n      }\n    }\n  };\n\n  toolManager.registerTool('lasso', {\n    tool: 'lasso.selection',\n    dragging: 'lasso'\n  });\n\n  eventBus.on('lasso.selection.end', function(event) {\n    var target = event.originalEvent.target;\n\n    // only reactive on diagram click\n    // on some occasions, event.hover is not set and we have to check if the target is an svg\n    if (!event.hover && !(target instanceof SVGElement)) {\n      return;\n    }\n\n    eventBus.once('lasso.selection.ended', function() {\n      self.activateLasso(event.originalEvent, true);\n    });\n  });\n\n  // lasso interaction implementation\n\n  eventBus.on('lasso.end', function(event) {\n\n    var bbox = toBBox(event);\n\n    var elements = elementRegistry.filter(function(element) {\n      return element;\n    });\n\n    self.select(elements, bbox);\n  });\n\n  eventBus.on('lasso.start', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.create(context);\n  });\n\n  eventBus.on('lasso.move', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.update(context);\n  });\n\n  eventBus.on('lasso.cleanup', function(event) {\n\n    var context = event.context;\n\n    visuals.remove(context);\n  });\n\n\n  // event integration\n\n  eventBus.on('element.mousedown', 1500, function(event) {\n\n    if (!hasSecondaryModifier(event)) {\n      return;\n    }\n\n    self.activateLasso(event.originalEvent);\n\n    // we've handled the event\n    return true;\n  });\n}\n\nLassoTool.$inject = [\n  'eventBus',\n  'canvas',\n  'dragging',\n  'elementRegistry',\n  'selection',\n  'toolManager',\n  'mouse'\n];\n\n\nLassoTool.prototype.activateLasso = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso', {\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\nLassoTool.prototype.activateSelection = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso.selection', {\n    trapClick: false,\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\nLassoTool.prototype.select = function(elements, bbox) {\n  var selectedElements = getEnclosedElements(elements, bbox);\n\n  this._selection.select(values(selectedElements));\n};\n\nLassoTool.prototype.toggle = function() {\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  this.activateSelection(mouseEvent, !!mouseEvent);\n};\n\nLassoTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  return context && /^lasso/.test(context.prefix);\n};\n\n\n\nfunction toBBox(event) {\n\n  var start = {\n\n    x: event.x - event.dx,\n    y: event.y - event.dy\n  };\n\n  var end = {\n    x: event.x,\n    y: event.y\n  };\n\n  var bbox;\n\n  if ((start.x <= end.x && start.y < end.y) ||\n      (start.x < end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: start.y,\n      width:  end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x >= end.x && start.y < end.y) ||\n             (start.x > end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: start.y,\n      width:  start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x <= end.x && start.y > end.y) ||\n             (start.x < end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: end.y,\n      width:  end.x - start.x,\n      height: start.y - end.y\n    };\n  } else if ((start.x >= end.x && start.y > end.y) ||\n             (start.x > end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  start.x - end.x,\n      height: start.y - end.y\n    };\n  } else {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  0,\n      height: 0\n    };\n  }\n  return bbox;\n}\n","import ToolManagerModule from '../tool-manager';\nimport MouseModule from '../mouse';\n\nimport LassoTool from './LassoTool';\n\nexport default {\n  __depends__: [\n    ToolManagerModule,\n    MouseModule\n  ],\n  __init__: [ 'lassoTool' ],\n  lassoTool: [ 'type', LassoTool ]\n};\n","import {\n  hasPrimaryModifier\n} from '../../util/Mouse';\n\nimport { isKey } from '../../features/keyboard/KeyboardUtil';\n\nvar HIGH_PRIORITY = 1500;\nvar HAND_CURSOR = 'grab';\n\n\nexport default function HandTool(\n    eventBus, canvas, dragging,\n    injector, toolManager, mouse) {\n\n  this._dragging = dragging;\n  this._mouse = mouse;\n\n  var self = this,\n      keyboard = injector.get('keyboard', false);\n\n  toolManager.registerTool('hand', {\n    tool: 'hand',\n    dragging: 'hand.move'\n  });\n\n  eventBus.on('element.mousedown', HIGH_PRIORITY, function(event) {\n\n    if (!hasPrimaryModifier(event)) {\n      return;\n    }\n\n    self.activateMove(event.originalEvent, true);\n\n    return false;\n  });\n\n  keyboard && keyboard.addListener(HIGH_PRIORITY, function(e) {\n    if (!isSpace(e.keyEvent) || self.isActive()) {\n      return;\n    }\n\n    var mouseEvent = self._mouse.getLastMoveEvent();\n\n    self.activateMove(mouseEvent, !!mouseEvent);\n  }, 'keyboard.keydown');\n\n  keyboard && keyboard.addListener(HIGH_PRIORITY, function(e) {\n    if (!isSpace(e.keyEvent) || !self.isActive()) {\n      return;\n    }\n\n    self.toggle();\n  }, 'keyboard.keyup');\n\n  eventBus.on('hand.end', function(event) {\n    var target = event.originalEvent.target;\n\n    // only reactive on diagram click\n    // on some occasions, event.hover is not set and we have to check if the target is an svg\n    if (!event.hover && !(target instanceof SVGElement)) {\n      return false;\n    }\n\n    eventBus.once('hand.ended', function() {\n      self.activateMove(event.originalEvent, { reactivate: true });\n    });\n\n  });\n\n  eventBus.on('hand.move.move', function(event) {\n    var scale = canvas.viewbox().scale;\n\n    canvas.scroll({\n      dx: event.dx * scale,\n      dy: event.dy * scale\n    });\n  });\n\n  eventBus.on('hand.move.end', function(event) {\n    var context = event.context,\n        reactivate = context.reactivate;\n\n    // Don't reactivate if the user is using the keyboard keybinding\n    if (!hasPrimaryModifier(event) && reactivate) {\n\n      eventBus.once('hand.move.ended', function(event) {\n        self.activateHand(event.originalEvent, true, true);\n      });\n\n    }\n\n    return false;\n  });\n\n}\n\nHandTool.$inject = [\n  'eventBus',\n  'canvas',\n  'dragging',\n  'injector',\n  'toolManager',\n  'mouse'\n];\n\n\nHandTool.prototype.activateMove = function(event, autoActivate, context) {\n  if (typeof autoActivate === 'object') {\n    context = autoActivate;\n    autoActivate = false;\n  }\n\n  this._dragging.init(event, 'hand.move', {\n    autoActivate: autoActivate,\n    cursor: HAND_CURSOR,\n    data: {\n      context: context || {}\n    }\n  });\n};\n\nHandTool.prototype.activateHand = function(event, autoActivate, reactivate) {\n  this._dragging.init(event, 'hand', {\n    trapClick: false,\n    autoActivate: autoActivate,\n    cursor: HAND_CURSOR,\n    data: {\n      context: {\n        reactivate: reactivate\n      }\n    }\n  });\n};\n\nHandTool.prototype.toggle = function() {\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  this.activateHand(mouseEvent, !!mouseEvent);\n};\n\nHandTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  if (context) {\n    return /^(hand|hand\\.move)$/.test(context.prefix);\n  }\n\n  return false;\n};\n\n// helpers //////////\n\nfunction isSpace(keyEvent) {\n  return isKey(' ', keyEvent);\n}","import ToolManagerModule from '../tool-manager';\nimport MouseModule from '../mouse';\n\nimport HandTool from './HandTool';\n\nexport default {\n  __depends__: [\n    ToolManagerModule,\n    MouseModule\n  ],\n  __init__: [ 'handTool' ],\n  handTool: [ 'type', HandTool ]\n};\n","import { assign } from 'min-dash';\n/**\n * A palette provider for DMN elements.\n */\n\nexport default function PaletteProvider(palette, create, elementFactory, handTool, lassoTool, translate) {\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._handTool = handTool;\n  this._lassoTool = lassoTool;\n  this._translate = translate;\n  palette.registerProvider(this);\n}\nPaletteProvider.$inject = ['palette', 'create', 'elementFactory', 'handTool', 'lassoTool', 'translate'];\n\nPaletteProvider.prototype.getPaletteEntries = function (element) {\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      handTool = this._handTool,\n      lassoTool = this._lassoTool,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({\n        type: type\n      }, options));\n      create.start(event, shape);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  assign(actions, {\n    'hand-tool': {\n      group: 'tools',\n      className: 'dmn-icon-hand-tool',\n      title: translate('Activate the hand tool'),\n      action: {\n        click: function click(event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    'lasso-tool': {\n      group: 'tools',\n      className: 'dmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function click(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.decision': createAction('dmn:Decision', 'drd', 'dmn-icon-decision', translate('Create Decision')),\n    'create.input-data': createAction('dmn:InputData', 'drd', 'dmn-icon-input-data', translate('Create Input Data')),\n    'create.knowledge-source': createAction('dmn:KnowledgeSource', 'drd', 'dmn-icon-knowledge-source', translate('Create Knowledge Source')),\n    'create.business-knowledge-model': createAction('dmn:BusinessKnowledgeModel', 'drd', 'dmn-icon-business-knowledge', translate('Create Knowledge Model'))\n  });\n  return actions;\n};\n//# sourceMappingURL=PaletteProvider.js.map","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramPalette from 'diagram-js/lib/features/palette';\nimport DiagramCreate from 'diagram-js/lib/features/create';\nimport DiagramLasso from 'diagram-js/lib/features/lasso-tool';\nimport DiagramHand from 'diagram-js/lib/features/hand-tool';\nimport PaletteProvider from './PaletteProvider';\nexport default {\n  __depends__: [DiagramTranslate, DiagramPalette, DiagramCreate, DiagramLasso, DiagramHand],\n  __init__: ['paletteProvider'],\n  paletteProvider: ['type', PaletteProvider]\n};\n//# sourceMappingURL=index.js.map","import {\n  filter,\n  isNumber\n} from 'min-dash';\n\nvar max = Math.max,\n    min = Math.min;\n\nvar DEFAULT_CHILD_BOX_PADDING = 20;\n\nimport {\n  getBBox\n} from '../../util/Elements';\n\nimport {\n  asTRBL,\n  asBounds\n} from '../../layout/LayoutUtil';\n\n\n/**\n * Substract a TRBL from another\n *\n * @param  {TRBL} trblA\n * @param  {TRBL} trblB\n *\n * @return {TRBL}\n */\nexport function substractTRBL(trblA, trblB) {\n  return {\n    top: trblA.top - trblB.top,\n    right: trblA.right - trblB.right,\n    bottom: trblA.bottom - trblB.bottom,\n    left: trblA.left - trblB.left\n  };\n}\n\n/**\n * Resize the given bounds by the specified delta from a given anchor point.\n *\n * @param {Bounds} bounds the bounding box that should be resized\n * @param {string} direction in which the element is resized (nw, ne, se, sw)\n * @param {Point} delta of the resize operation\n *\n * @return {Bounds} resized bounding box\n */\nexport function resizeBounds(bounds, direction, delta) {\n  var dx = delta.x,\n      dy = delta.y;\n\n  var newBounds = {\n    x: bounds.x,\n    y: bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    newBounds.y = bounds.y + dy;\n    newBounds.height = bounds.height - dy;\n  } else if (direction.indexOf('s') !== -1) {\n    newBounds.height = bounds.height + dy;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    newBounds.width = bounds.width + dx;\n  } else if (direction.indexOf('w') !== -1) {\n    newBounds.x = bounds.x + dx;\n    newBounds.width = bounds.width - dx;\n  }\n\n  return newBounds;\n}\n\n\n/**\n * Resize the given bounds by applying the passed\n * { top, right, bottom, left } delta.\n *\n * @param {Bounds} bounds\n * @param {TRBL} trblResize\n *\n * @return {Bounds}\n */\nexport function resizeTRBL(bounds, resize) {\n  return {\n    x: bounds.x + (resize.left || 0),\n    y: bounds.y + (resize.top || 0),\n    width: bounds.width - (resize.left || 0) + (resize.right || 0),\n    height: bounds.height - (resize.top || 0) + (resize.bottom || 0)\n  };\n}\n\n\nexport function reattachPoint(bounds, newBounds, point) {\n\n  var sx = bounds.width / newBounds.width,\n      sy = bounds.height / newBounds.height;\n\n  return {\n    x: Math.round((newBounds.x + newBounds.width / 2)) - Math.floor(((bounds.x + bounds.width / 2) - point.x) / sx),\n    y: Math.round((newBounds.y + newBounds.height / 2)) - Math.floor(((bounds.y + bounds.height / 2) - point.y) / sy)\n  };\n}\n\n\nfunction applyConstraints(attr, trbl, resizeConstraints) {\n\n  var value = trbl[attr],\n      minValue = resizeConstraints.min && resizeConstraints.min[attr],\n      maxValue = resizeConstraints.max && resizeConstraints.max[attr];\n\n  if (isNumber(minValue)) {\n    value = (/top|left/.test(attr) ? min : max)(value, minValue);\n  }\n\n  if (isNumber(maxValue)) {\n    value = (/top|left/.test(attr) ? max : min)(value, maxValue);\n  }\n\n  return value;\n}\n\nexport function ensureConstraints(currentBounds, resizeConstraints) {\n\n  if (!resizeConstraints) {\n    return currentBounds;\n  }\n\n  var currentTrbl = asTRBL(currentBounds);\n\n  return asBounds({\n    top: applyConstraints('top', currentTrbl, resizeConstraints),\n    right: applyConstraints('right', currentTrbl, resizeConstraints),\n    bottom: applyConstraints('bottom', currentTrbl, resizeConstraints),\n    left: applyConstraints('left', currentTrbl, resizeConstraints)\n  });\n}\n\n\nexport function getMinResizeBounds(direction, currentBounds, minDimensions, childrenBounds) {\n\n  var currentBox = asTRBL(currentBounds);\n\n  var minBox = {\n    top: /n/.test(direction) ? currentBox.bottom - minDimensions.height : currentBox.top,\n    left: /w/.test(direction) ? currentBox.right - minDimensions.width : currentBox.left,\n    bottom: /s/.test(direction) ? currentBox.top + minDimensions.height : currentBox.bottom,\n    right: /e/.test(direction) ? currentBox.left + minDimensions.width : currentBox.right\n  };\n\n  var childrenBox = childrenBounds ? asTRBL(childrenBounds) : minBox;\n\n  var combinedBox = {\n    top: min(minBox.top, childrenBox.top),\n    left: min(minBox.left, childrenBox.left),\n    bottom: max(minBox.bottom, childrenBox.bottom),\n    right: max(minBox.right, childrenBox.right)\n  };\n\n  return asBounds(combinedBox);\n}\n\nfunction asPadding(mayBePadding, defaultValue) {\n  if (typeof mayBePadding !== 'undefined') {\n    return mayBePadding;\n  } else {\n    return DEFAULT_CHILD_BOX_PADDING;\n  }\n}\n\nexport function addPadding(bbox, padding) {\n  var left, right, top, bottom;\n\n  if (typeof padding === 'object') {\n    left = asPadding(padding.left);\n    right = asPadding(padding.right);\n    top = asPadding(padding.top);\n    bottom = asPadding(padding.bottom);\n  } else {\n    left = right = top = bottom = asPadding(padding);\n  }\n\n  return {\n    x: bbox.x - left,\n    y: bbox.y - top,\n    width: bbox.width + left + right,\n    height: bbox.height + top + bottom\n  };\n}\n\n\n/**\n * Is the given element part of the resize\n * targets min boundary box?\n *\n * This is the default implementation which excludes\n * connections and labels.\n *\n * @param {djs.model.Base} element\n */\nfunction isBBoxChild(element) {\n\n  // exclude connections\n  if (element.waypoints) {\n    return false;\n  }\n\n  // exclude labels\n  if (element.type === 'label') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Return children bounding computed from a shapes children\n * or a list of prefiltered children.\n *\n * @param  {djs.model.Shape|Array<djs.model.Shape>} shapeOrChildren\n * @param  {number|Object} padding\n *\n * @return {Bounds}\n */\nexport function computeChildrenBBox(shapeOrChildren, padding) {\n\n  var elements;\n\n  // compute based on shape\n  if (shapeOrChildren.length === undefined) {\n\n    // grab all the children that are part of the\n    // parents children box\n    elements = filter(shapeOrChildren.children, isBBoxChild);\n\n  } else {\n    elements = shapeOrChildren;\n  }\n\n  if (elements.length) {\n    return addPadding(getBBox(elements), padding);\n  }\n}\n","import {\n  pick,\n  assign\n} from 'min-dash';\n\nimport {\n  resizeBounds,\n  ensureConstraints,\n  computeChildrenBBox,\n  getMinResizeBounds\n} from './ResizeUtil';\n\nimport {\n  asTRBL,\n  getMid,\n  roundBounds\n} from '../../layout/LayoutUtil';\n\nvar DEFAULT_MIN_WIDTH = 10;\n\n\n/**\n * A component that provides resizing of shapes on the canvas.\n *\n * The following components are part of shape resize:\n *\n *  * adding resize handles,\n *  * creating a visual during resize\n *  * checking resize rules\n *  * committing a change once finished\n *\n *\n * ## Customizing\n *\n * It's possible to customize the resizing behaviour by intercepting 'resize.start'\n * and providing the following parameters through the 'context':\n *\n *   * minDimensions ({ width, height }): minimum shape dimensions\n *\n *   * childrenBoxPadding ({ left, top, bottom, right } || number):\n *     gap between the minimum bounding box and the container\n *\n * f.ex:\n *\n * ```javascript\n * eventBus.on('resize.start', 1500, function(event) {\n *   var context = event.context,\n *\n *  context.minDimensions = { width: 140, height: 120 };\n *\n *  // Passing general padding\n *  context.childrenBoxPadding = 30;\n *\n *  // Passing padding to a specific side\n *  context.childrenBoxPadding.left = 20;\n * });\n * ```\n */\nexport default function Resize(eventBus, rules, modeling, dragging) {\n\n  this._dragging = dragging;\n  this._rules = rules;\n\n  var self = this;\n\n\n  /**\n   * Handle resize move by specified delta.\n   *\n   * @param {Object} context\n   * @param {Point} delta\n   */\n  function handleMove(context, delta) {\n\n    var shape = context.shape,\n        direction = context.direction,\n        resizeConstraints = context.resizeConstraints,\n        newBounds;\n\n    context.delta = delta;\n\n    newBounds = resizeBounds(shape, direction, delta);\n\n    // ensure constraints during resize\n    context.newBounds = ensureConstraints(newBounds, resizeConstraints);\n\n    // update + cache executable state\n    context.canExecute = self.canResize(context);\n  }\n\n  /**\n   * Handle resize start.\n   *\n   * @param  {Object} context\n   */\n  function handleStart(context) {\n\n    var resizeConstraints = context.resizeConstraints,\n\n        // evaluate minBounds for backwards compatibility\n        minBounds = context.minBounds;\n\n    if (resizeConstraints !== undefined) {\n      return;\n    }\n\n    if (minBounds === undefined) {\n      minBounds = self.computeMinResizeBox(context);\n    }\n\n    context.resizeConstraints = {\n      min: asTRBL(minBounds)\n    };\n  }\n\n  /**\n   * Handle resize end.\n   *\n   * @param  {Object} context\n   */\n  function handleEnd(context) {\n    var shape = context.shape,\n        canExecute = context.canExecute,\n        newBounds = context.newBounds;\n\n    if (canExecute) {\n\n      // ensure we have actual pixel values for new bounds\n      // (important when zoom level was > 1 during move)\n      newBounds = roundBounds(newBounds);\n\n      if (!boundsChanged(shape, newBounds)) {\n\n        // no resize necessary\n        return;\n      }\n\n      // perform the actual resize\n      modeling.resizeShape(shape, newBounds);\n    }\n  }\n\n\n  eventBus.on('resize.start', function(event) {\n    handleStart(event.context);\n  });\n\n  eventBus.on('resize.move', function(event) {\n    var delta = {\n      x: event.dx,\n      y: event.dy\n    };\n\n    handleMove(event.context, delta);\n  });\n\n  eventBus.on('resize.end', function(event) {\n    handleEnd(event.context);\n  });\n\n}\n\n\nResize.prototype.canResize = function(context) {\n  var rules = this._rules;\n\n  var ctx = pick(context, [ 'newBounds', 'shape', 'delta', 'direction' ]);\n\n  return rules.allowed('shape.resize', ctx);\n};\n\n/**\n * Activate a resize operation.\n *\n * You may specify additional contextual information and must specify a\n * resize direction during activation of the resize event.\n *\n * @param {MouseEvent} event\n * @param {djs.model.Shape} shape\n * @param {Object|string} contextOrDirection\n */\nResize.prototype.activate = function(event, shape, contextOrDirection) {\n  var dragging = this._dragging,\n      context,\n      direction;\n\n  if (typeof contextOrDirection === 'string') {\n    contextOrDirection = {\n      direction: contextOrDirection\n    };\n  }\n\n  context = assign({ shape: shape }, contextOrDirection);\n\n  direction = context.direction;\n\n  if (!direction) {\n    throw new Error('must provide a direction (n|w|s|e|nw|se|ne|sw)');\n  }\n\n  dragging.init(event, getReferencePoint(shape, direction), 'resize', {\n    autoActivate: true,\n    cursor: getCursor(direction),\n    data: {\n      shape: shape,\n      context: context\n    }\n  });\n};\n\nResize.prototype.computeMinResizeBox = function(context) {\n  var shape = context.shape,\n      direction = context.direction,\n      minDimensions,\n      childrenBounds;\n\n  minDimensions = context.minDimensions || {\n    width: DEFAULT_MIN_WIDTH,\n    height: DEFAULT_MIN_WIDTH\n  };\n\n  // get children bounds\n  childrenBounds = computeChildrenBBox(shape, context.childrenBoxPadding);\n\n  // get correct minimum bounds from given resize direction\n  // basically ensures that the minBounds is max(childrenBounds, minDimensions)\n  return getMinResizeBounds(direction, shape, minDimensions, childrenBounds);\n};\n\n\nResize.$inject = [\n  'eventBus',\n  'rules',\n  'modeling',\n  'dragging'\n];\n\n// helpers //////////\n\nfunction boundsChanged(shape, newBounds) {\n  return shape.x !== newBounds.x ||\n    shape.y !== newBounds.y ||\n    shape.width !== newBounds.width ||\n    shape.height !== newBounds.height;\n}\n\nexport function getReferencePoint(shape, direction) {\n  var mid = getMid(shape),\n      trbl = asTRBL(shape);\n\n  var referencePoint = {\n    x: mid.x,\n    y: mid.y\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    referencePoint.y = trbl.top;\n  } else if (direction.indexOf('s') !== -1) {\n    referencePoint.y = trbl.bottom;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    referencePoint.x = trbl.right;\n  } else if (direction.indexOf('w') !== -1) {\n    referencePoint.x = trbl.left;\n  }\n\n  return referencePoint;\n}\n\nfunction getCursor(direction) {\n  var prefix = 'resize-';\n\n  if (direction === 'n' || direction === 's') {\n    return prefix + 'ns';\n  } else if (direction === 'e' || direction === 'w') {\n    return prefix + 'ew';\n  } else if (direction === 'nw' || direction === 'se') {\n    return prefix + 'nwse';\n  } else {\n    return prefix + 'nesw';\n  }\n}","var MARKER_RESIZING = 'djs-resizing',\n    MARKER_RESIZE_NOT_OK = 'resize-not-ok';\n\nvar LOW_PRIORITY = 500;\n\nimport {\n  attr as svgAttr,\n  remove as svgRemove,\n  classes as svgClasses\n} from 'tiny-svg';\n\n\n/**\n * Provides previews for resizing shapes when resizing.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {PreviewSupport} previewSupport\n */\nexport default function ResizePreview(eventBus, canvas, previewSupport) {\n\n  /**\n   * Update resizer frame.\n   *\n   * @param {Object} context\n   */\n  function updateFrame(context) {\n\n    var shape = context.shape,\n        bounds = context.newBounds,\n        frame = context.frame;\n\n    if (!frame) {\n      frame = context.frame = previewSupport.addFrame(shape, canvas.getActiveLayer());\n\n      canvas.addMarker(shape, MARKER_RESIZING);\n    }\n\n    if (bounds.width > 5) {\n      svgAttr(frame, { x: bounds.x, width: bounds.width });\n    }\n\n    if (bounds.height > 5) {\n      svgAttr(frame, { y: bounds.y, height: bounds.height });\n    }\n\n    if (context.canExecute) {\n      svgClasses(frame).remove(MARKER_RESIZE_NOT_OK);\n    } else {\n      svgClasses(frame).add(MARKER_RESIZE_NOT_OK);\n    }\n  }\n\n  /**\n   * Remove resizer frame.\n   *\n   * @param {Object} context\n   */\n  function removeFrame(context) {\n    var shape = context.shape,\n        frame = context.frame;\n\n    if (frame) {\n      svgRemove(context.frame);\n    }\n\n    canvas.removeMarker(shape, MARKER_RESIZING);\n  }\n\n  // add and update previews\n  eventBus.on('resize.move', LOW_PRIORITY, function(event) {\n    updateFrame(event.context);\n  });\n\n  // remove previews\n  eventBus.on('resize.cleanup', function(event) {\n    removeFrame(event.context);\n  });\n\n}\n\nResizePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'previewSupport'\n];","import {\n  bind,\n  forEach\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  clear as svgClear,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  isPrimaryButton\n} from '../../util/Mouse';\n\nimport {\n  transform\n} from '../../util/SvgTransformUtil';\n\nimport { getReferencePoint } from './Resize';\n\nvar HANDLE_OFFSET = -6,\n    HANDLE_SIZE = 4,\n    HANDLE_HIT_SIZE = 20;\n\nvar CLS_RESIZER = 'djs-resizer';\n\nvar directions = [ 'n', 'w', 's', 'e', 'nw', 'ne', 'se', 'sw' ];\n\n\n/**\n * This component is responsible for adding resize handles.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {Resize} resize\n */\nexport default function ResizeHandles(eventBus, canvas, selection, resize) {\n\n  this._resize = resize;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('selection.changed', function(e) {\n    var newSelection = e.newSelection;\n\n    // remove old selection markers\n    self.removeResizers();\n\n    // add new selection markers ONLY if single selection\n    if (newSelection.length === 1) {\n      forEach(newSelection, bind(self.addResizer, self));\n    }\n  });\n\n  eventBus.on('shape.changed', function(e) {\n    var shape = e.element;\n\n    if (selection.isSelected(shape)) {\n      self.removeResizers();\n\n      self.addResizer(shape);\n    }\n  });\n}\n\n\nResizeHandles.prototype.makeDraggable = function(element, gfx, direction) {\n  var resize = this._resize;\n\n  function startResize(event) {\n\n    // only trigger on left mouse button\n    if (isPrimaryButton(event)) {\n      resize.activate(event, element, direction);\n    }\n  }\n\n  domEvent.bind(gfx, 'mousedown', startResize);\n  domEvent.bind(gfx, 'touchstart', startResize);\n};\n\n\nResizeHandles.prototype._createResizer = function(element, x, y, direction) {\n  var resizersParent = this._getResizersParent();\n\n  var offset = getHandleOffset(direction);\n\n  var group = svgCreate('g');\n\n  svgClasses(group).add(CLS_RESIZER);\n  svgClasses(group).add(CLS_RESIZER + '-' + element.id);\n  svgClasses(group).add(CLS_RESIZER + '-' + direction);\n\n  svgAppend(resizersParent, group);\n\n  var visual = svgCreate('rect');\n\n  svgAttr(visual, {\n    x: -HANDLE_SIZE / 2 + offset.x,\n    y: -HANDLE_SIZE / 2 + offset.y,\n    width: HANDLE_SIZE,\n    height: HANDLE_SIZE\n  });\n\n  svgClasses(visual).add(CLS_RESIZER + '-visual');\n\n  svgAppend(group, visual);\n\n  var hit = svgCreate('rect');\n\n  svgAttr(hit, {\n    x: -HANDLE_HIT_SIZE / 2 + offset.x,\n    y: -HANDLE_HIT_SIZE / 2 + offset.y,\n    width: HANDLE_HIT_SIZE,\n    height: HANDLE_HIT_SIZE\n  });\n\n  svgClasses(hit).add(CLS_RESIZER + '-hit');\n\n  svgAppend(group, hit);\n\n  transform(group, x, y);\n\n  return group;\n};\n\nResizeHandles.prototype.createResizer = function(element, direction) {\n  var point = getReferencePoint(element, direction);\n\n  var resizer = this._createResizer(element, point.x, point.y, direction);\n\n  this.makeDraggable(element, resizer, direction);\n};\n\n// resize handles implementation ///////////////////////////////\n\n/**\n * Add resizers for a given element.\n *\n * @param {djs.model.Shape} shape\n */\nResizeHandles.prototype.addResizer = function(shape) {\n  var self = this;\n\n  var resize = this._resize;\n\n  if (!resize.canResize({ shape: shape })) {\n    return;\n  }\n\n  forEach(directions, function(direction) {\n    self.createResizer(shape, direction);\n  });\n};\n\n/**\n * Remove all resizers\n */\nResizeHandles.prototype.removeResizers = function() {\n  var resizersParent = this._getResizersParent();\n\n  svgClear(resizersParent);\n};\n\nResizeHandles.prototype._getResizersParent = function() {\n  return this._canvas.getLayer('resizers');\n};\n\nResizeHandles.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'resize'\n];\n\n// helpers //////////\n\nfunction getHandleOffset(direction) {\n  var offset = {\n    x: 0,\n    y: 0\n  };\n\n  if (direction.indexOf('e') !== -1) {\n    offset.x = -HANDLE_OFFSET;\n  } else if (direction.indexOf('w') !== -1) {\n    offset.x = HANDLE_OFFSET;\n  }\n\n  if (direction.indexOf('s') !== -1) {\n    offset.y = -HANDLE_OFFSET;\n  } else if (direction.indexOf('n') !== -1) {\n    offset.y = HANDLE_OFFSET;\n  }\n\n  return offset;\n}","import RulesModule from '../rules';\nimport DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\n\nimport Resize from './Resize';\nimport ResizePreview from './ResizePreview';\nimport ResizeHandles from './ResizeHandles';\n\nexport default {\n  __depends__: [\n    RulesModule,\n    DraggingModule,\n    PreviewSupportModule\n  ],\n  __init__: [\n    'resize',\n    'resizePreview',\n    'resizeHandles'\n  ],\n  resize: [ 'type', Resize ],\n  resizePreview: [ 'type', ResizePreview ],\n  resizeHandles: [ 'type', ResizeHandles ]\n};\n","import { asTRBL, getMid, getOrientation } from 'diagram-js/lib/layout/LayoutUtil';\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd';\nvar HIGH_PRIORITY = 2000;\nexport default function DrdBendpointSnapping(eventBus) {\n  eventBus.on(['bendpoint.move.move', 'bendpoint.move.end'], HIGH_PRIORITY, function (event) {\n    var context = event.context,\n        allowed = context.allowed,\n        hover = context.hover,\n        source = context.source,\n        target = context.target,\n        type = context.type;\n\n    if (!context.hints) {\n      context.hints = {};\n    }\n\n    delete context.hints.connectionStart;\n    delete context.hints.connectionEnd;\n\n    if (allowed && allowed.type !== 'dmn:InformationRequirement') {\n      return;\n    }\n\n    if (!hover || !isAny(hover, ['dmn:Decision', 'dmn:InputData'])) {\n      return;\n    }\n\n    if (source === target) {\n      return;\n    }\n\n    var reconnect = type === RECONNECT_START || type === RECONNECT_END;\n    var orientation = getOrientation(source, target);\n\n    if (reconnect && hover === source) {\n      // (1) snap event to source\n      snapToSource(event, orientation); // (2) set connection end to target\n\n      context.hints.connectionEnd = getConnectionEnd(target, orientation);\n    } else if (reconnect && hover === target) {\n      // (1) set connection start to source\n      context.hints.connectionStart = getConnectionStart(source, orientation); // (2) snap event to target\n\n      snapToTarget(event, orientation);\n    }\n  });\n}\nDrdBendpointSnapping.$inject = ['eventBus']; // helpers //////////\n\nfunction getConnectionStart(source, orientation) {\n  var sourceTrbl = asTRBL(source);\n  var connectionStart = getMid(source);\n\n  if (orientation.includes('bottom')) {\n    connectionStart.y = sourceTrbl.top;\n  } else if (orientation.includes('top')) {\n    connectionStart.y = sourceTrbl.bottom;\n  } else if (orientation.includes('right')) {\n    connectionStart.x = sourceTrbl.left;\n  } else {\n    connectionStart.x = sourceTrbl.right;\n  }\n\n  return connectionStart;\n}\n\nfunction getConnectionEnd(target, orientation) {\n  var targetTrbl = asTRBL(target);\n  var connectionEnd = getMid(target);\n\n  if (orientation.includes('bottom')) {\n    connectionEnd.y = targetTrbl.bottom;\n  } else if (orientation.includes('top')) {\n    connectionEnd.y = targetTrbl.top;\n  } else if (orientation.includes('right')) {\n    connectionEnd.x = targetTrbl.right;\n  } else {\n    connectionEnd.x = targetTrbl.left;\n  }\n\n  return connectionEnd;\n}\n\nfunction snapToSource(event, orientation) {\n  var context = event.context,\n      source = context.source;\n  var connectionStart = getConnectionStart(source, orientation);\n  var dx = event.x - connectionStart.x,\n      dy = event.y - connectionStart.y;\n  event.x -= dx;\n  event.y -= dy;\n  event.dx -= dx;\n  event.dy -= dy;\n}\n\nfunction snapToTarget(event, orientation) {\n  var context = event.context,\n      target = context.target;\n  var connectionEnd = getConnectionEnd(target, orientation);\n  var dx = 0,\n      dy = 0;\n\n  if (orientation.includes('top') || orientation.includes('bottom')) {\n    dy = event.y - connectionEnd.y;\n  } else {\n    dx = event.x - connectionEnd.x;\n  }\n\n  event.x -= dx;\n  event.y -= dy;\n  event.dx -= dx;\n  event.dy -= dy;\n}\n//# sourceMappingURL=DrdBendpointSnapping.js.map","import { asTRBL, getMid, getOrientation } from 'diagram-js/lib/layout/LayoutUtil';\nvar LOW_PRIORITY = 250;\nexport default function DrdConnectSnapping(eventBus) {\n  eventBus.on(['connect.hover', 'connect.move', 'connect.end'], LOW_PRIORITY, function (event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        hover = context.hover,\n        source = context.source,\n        target = context.target;\n\n    if (canExecute && canExecute.type === 'dmn:InformationRequirement') {\n      var orientation = getOrientation(source, target); // snap source\n\n      context.connectionStart = getMid(source); // snap target\n\n      if (hover === source) {\n        context.connectionEnd = getMid(target);\n      } else {\n        context.connectionEnd = {\n          x: event.x,\n          y: event.y\n        };\n      }\n\n      if (orientation.includes('bottom')) {\n        context.connectionStart.y = asTRBL(source).top;\n        context.connectionEnd.y = asTRBL(target).bottom;\n      } else if (orientation.includes('top')) {\n        context.connectionStart.y = asTRBL(source).bottom;\n        context.connectionEnd.y = asTRBL(target).top;\n      } else if (orientation.includes('right')) {\n        context.connectionStart.x = asTRBL(source).left;\n        context.connectionEnd.x = asTRBL(target).right;\n      } else {\n        context.connectionStart.x = asTRBL(source).right;\n        context.connectionEnd.x = asTRBL(target).left;\n      }\n    } else {\n      delete context.connectionStart;\n      delete context.connectionEnd;\n    }\n  });\n}\nDrdConnectSnapping.$inject = ['eventBus'];\n//# sourceMappingURL=DrdConnectSnapping.js.map","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  snapTo\n} from './SnapUtil';\n\n\n/**\n * A snap context, containing the (possibly incomplete)\n * mappings of drop targets (to identify the snapping)\n * to computed snap points.\n */\nexport default function SnapContext() {\n\n  /**\n   * Map<String, SnapPoints> mapping drop targets to\n   * a list of possible snappings.\n   *\n   * @type {Object}\n   */\n  this._targets = {};\n\n  /**\n   * Map<String, Point> initial positioning of element\n   * regarding various snap directions.\n   *\n   * @type {Object}\n   */\n  this._snapOrigins = {};\n\n  /**\n   * List of snap locations\n   *\n   * @type {Array<string>}\n   */\n  this._snapLocations = [];\n\n  /**\n   * Map<String, Array<Point>> of default snapping locations\n   *\n   * @type {Object}\n   */\n  this._defaultSnaps = {};\n}\n\n\nSnapContext.prototype.getSnapOrigin = function(snapLocation) {\n  return this._snapOrigins[snapLocation];\n};\n\n\nSnapContext.prototype.setSnapOrigin = function(snapLocation, initialValue) {\n  this._snapOrigins[snapLocation] = initialValue;\n\n  if (this._snapLocations.indexOf(snapLocation) === -1) {\n    this._snapLocations.push(snapLocation);\n  }\n};\n\n\nSnapContext.prototype.addDefaultSnap = function(type, point) {\n\n  var snapValues = this._defaultSnaps[type];\n\n  if (!snapValues) {\n    snapValues = this._defaultSnaps[type] = [];\n  }\n\n  snapValues.push(point);\n};\n\n/**\n * Return a number of initialized snaps, i.e. snap locations such as\n * top-left, mid, bottom-right and so forth.\n *\n * @return {Array<string>} snapLocations\n */\nSnapContext.prototype.getSnapLocations = function() {\n  return this._snapLocations;\n};\n\n/**\n * Set the snap locations for this context.\n *\n * The order of locations determines precedence.\n *\n * @param {Array<string>} snapLocations\n */\nSnapContext.prototype.setSnapLocations = function(snapLocations) {\n  this._snapLocations = snapLocations;\n};\n\n/**\n * Get snap points for a given target\n *\n * @param {Element|string} target\n */\nSnapContext.prototype.pointsForTarget = function(target) {\n\n  var targetId = target.id || target;\n\n  var snapPoints = this._targets[targetId];\n\n  if (!snapPoints) {\n    snapPoints = this._targets[targetId] = new SnapPoints();\n    snapPoints.initDefaults(this._defaultSnaps);\n  }\n\n  return snapPoints;\n};\n\n\n/**\n * Creates the snap points and initializes them with the\n * given default values.\n *\n * @param {Object<string, Array<Point>>} [defaultPoints]\n */\nexport function SnapPoints(defaultSnaps) {\n\n  /**\n   * Map<String, Map<(x|y), Array<number>>> mapping snap locations,\n   * i.e. top-left, bottom-right, center to actual snap values.\n   *\n   * @type {Object}\n   */\n  this._snapValues = {};\n}\n\nSnapPoints.prototype.add = function(snapLocation, point) {\n\n  var snapValues = this._snapValues[snapLocation];\n\n  if (!snapValues) {\n    snapValues = this._snapValues[snapLocation] = { x: [], y: [] };\n  }\n\n  if (snapValues.x.indexOf(point.x) === -1) {\n    snapValues.x.push(point.x);\n  }\n\n  if (snapValues.y.indexOf(point.y) === -1) {\n    snapValues.y.push(point.y);\n  }\n};\n\n\nSnapPoints.prototype.snap = function(point, snapLocation, axis, tolerance) {\n  var snappingValues = this._snapValues[snapLocation];\n\n  return snappingValues && snapTo(point[axis], snappingValues[axis], tolerance);\n};\n\n/**\n * Initialize a number of default snapping points.\n *\n * @param  {Object} defaultSnaps\n */\nSnapPoints.prototype.initDefaults = function(defaultSnaps) {\n\n  var self = this;\n\n  forEach(defaultSnaps || {}, function(snapPoints, snapLocation) {\n    forEach(snapPoints, function(point) {\n      self.add(snapLocation, point);\n    });\n  });\n};","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  getChildren,\r\n  isSnapped,\r\n  mid\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  forEach,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during create and move.\r\n *\r\n * @param {EventBus} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function CreateMoveSnapping(elementRegistry, eventBus, snapping) {\r\n  var self = this;\r\n\r\n  this._elementRegistry = elementRegistry;\r\n\r\n  eventBus.on([\r\n    'create.start',\r\n    'shape.move.start'\r\n  ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        snapContext = context.snapContext,\r\n        target = context.target;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event) || !target) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(target);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, target);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.cleanup',\r\n    'shape.move.cleanup'\r\n  ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nCreateMoveSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nCreateMoveSnapping.prototype.initSnap = function(event) {\r\n  var elementRegistry = this._elementRegistry;\r\n\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var shapeMid;\r\n\r\n  if (elementRegistry.get(shape.id)) {\r\n\r\n    // move\r\n    shapeMid = mid(shape, event);\r\n  } else {\r\n\r\n    // create\r\n    shapeMid = {\r\n      x: event.x + mid(shape).x,\r\n      y: event.y + mid(shape).y\r\n    };\r\n  }\r\n\r\n  var shapeTopLeft = {\r\n        x: shapeMid.x - shape.width / 2,\r\n        y: shapeMid.y - shape.height / 2\r\n      },\r\n      shapeBottomRight = {\r\n        x: shapeMid.x + shape.width / 2,\r\n        y: shapeMid.y + shape.height / 2\r\n      };\r\n\r\n  snapContext.setSnapOrigin('mid', {\r\n    x: shapeMid.x - event.x,\r\n    y: shapeMid.y - event.y\r\n  });\r\n\r\n  // snap labels to mid only\r\n  if (isLabel(shape)) {\r\n    return snapContext;\r\n  }\r\n\r\n  snapContext.setSnapOrigin('top-left', {\r\n    x: shapeTopLeft.x - event.x,\r\n    y: shapeTopLeft.y - event.y\r\n  });\r\n\r\n  snapContext.setSnapOrigin('bottom-right', {\r\n    x: shapeBottomRight.x - event.x,\r\n    y: shapeBottomRight.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nCreateMoveSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n\r\n    // handle labels\r\n    if (isLabel(snapTarget)) {\r\n\r\n      if (isLabel(shape)) {\r\n        snapPoints.add('mid', mid(snapTarget));\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // handle connections\r\n    if (isConnection(snapTarget)) {\r\n\r\n      // ignore single segment connections\r\n      if (snapTarget.waypoints.length < 3) {\r\n        return;\r\n      }\r\n\r\n      // ignore first and last waypoint\r\n      var waypoints = snapTarget.waypoints.slice(1, -1);\r\n\r\n      forEach(waypoints, function(waypoint) {\r\n        snapPoints.add('mid', waypoint);\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    // handle shapes\r\n    snapPoints.add('mid', mid(snapTarget));\r\n  });\r\n\r\n  if (!isNumber(shape.x) || !isNumber(shape.y)) {\r\n    return snapPoints;\r\n  }\r\n\r\n  // snap to original position when moving\r\n  if (this._elementRegistry.get(shape.id)) {\r\n    snapPoints.add('mid', mid(shape));\r\n  }\r\n\r\n  return snapPoints;\r\n};\r\n\r\nCreateMoveSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isHidden(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isLabel(element) {\r\n  return !!element.labelTarget;\r\n}","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  bottomRight,\r\n  getChildren,\r\n  isSnapped,\r\n  setSnapped,\r\n  topLeft,\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid\r\n} from '../../layout/LayoutUtil';\r\n\r\nimport { forEach } from 'min-dash';\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during resize.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function ResizeSnapping(eventBus, snapping) {\r\n  var self = this;\r\n\r\n  eventBus.on([ 'resize.start' ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'resize.move',\r\n    'resize.end',\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        parent = shape.parent,\r\n        direction = context.direction,\r\n        snapContext = context.snapContext;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event)) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(parent);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, parent, direction);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    if (isHorizontal(direction)) {\r\n      setSnapped(event, 'x', event.x);\r\n    }\r\n\r\n    if (isVertical(direction)) {\r\n      setSnapped(event, 'y', event.y);\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([ 'resize.cleanup' ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nResizeSnapping.prototype.initSnap = function(event) {\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      direction = context.direction,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var snapOrigin = getSnapOrigin(shape, direction);\r\n\r\n  snapContext.setSnapOrigin('corner', {\r\n    x: snapOrigin.x - event.x,\r\n    y: snapOrigin.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nResizeSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target, direction) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n    snapPoints.add('corner', bottomRight(snapTarget));\r\n    snapPoints.add('corner', topLeft(snapTarget));\r\n  });\r\n\r\n  snapPoints.add('corner', getSnapOrigin(shape, direction));\r\n\r\n  return snapPoints;\r\n};\r\n\r\nResizeSnapping.$inject = [\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nResizeSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isAttached(child, shape)\r\n      && !isConnection(child)\r\n      && !isHidden(child)\r\n      && !isLabel(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction getSnapOrigin(shape, direction) {\r\n  var mid = getMid(shape),\r\n      trbl = asTRBL(shape);\r\n\r\n  var snapOrigin = {\r\n    x: mid.x,\r\n    y: mid.y\r\n  };\r\n\r\n  if (direction.indexOf('n') !== -1) {\r\n    snapOrigin.y = trbl.top;\r\n  } else if (direction.indexOf('s') !== -1) {\r\n    snapOrigin.y = trbl.bottom;\r\n  }\r\n\r\n  if (direction.indexOf('e') !== -1) {\r\n    snapOrigin.x = trbl.right;\r\n  } else if (direction.indexOf('w') !== -1) {\r\n    snapOrigin.x = trbl.left;\r\n  }\r\n\r\n  return snapOrigin;\r\n}\r\n\r\nfunction isAttached(element, host) {\r\n  return element.host === host;\r\n}\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isLabel(element) {\r\n  return !!element.labelTarget;\r\n}\r\n\r\nfunction isHorizontal(direction) {\r\n  return direction === 'n' || direction === 's';\r\n}\r\n\r\nfunction isVertical(direction) {\r\n  return direction === 'e' || direction === 'w';\r\n}","import {\n  bind,\n  debounce,\n  forEach,\n  isNumber,\n  isObject\n} from 'min-dash';\n\nimport {\n  isSnapped,\n  setSnapped\n} from './SnapUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nvar SNAP_TOLERANCE = 7;\n\nexport var SNAP_LINE_HIDE_DELAY = 1000;\n\n\n/**\n * Generic snapping feature.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Snapping(canvas) {\n  this._canvas = canvas;\n\n  // delay hide by 1000 seconds since last snap\n  this._asyncHide = debounce(bind(this.hide, this), SNAP_LINE_HIDE_DELAY);\n}\n\nSnapping.$inject = [ 'canvas' ];\n\n/**\n * Snap an event to given snap points.\n *\n * @param {Event} event\n * @param {SnapPoints} snapPoints\n */\nSnapping.prototype.snap = function(event, snapPoints) {\n  var context = event.context,\n      snapContext = context.snapContext,\n      snapLocations = snapContext.getSnapLocations();\n\n  var snapping = {\n    x: isSnapped(event, 'x'),\n    y: isSnapped(event, 'y')\n  };\n\n  forEach(snapLocations, function(location) {\n    var snapOrigin = snapContext.getSnapOrigin(location);\n\n    var snapCurrent = {\n      x: event.x + snapOrigin.x,\n      y: event.y + snapOrigin.y\n    };\n\n    // snap both axis if not snapped already\n    forEach([ 'x', 'y' ], function(axis) {\n      var locationSnapping;\n\n      if (!snapping[axis]) {\n        locationSnapping = snapPoints.snap(snapCurrent, location, axis, SNAP_TOLERANCE);\n\n        if (locationSnapping !== undefined) {\n          snapping[axis] = {\n            value: locationSnapping,\n            originValue: locationSnapping - snapOrigin[axis]\n          };\n        }\n      }\n    });\n\n    // no need to continue snapping\n    if (snapping.x && snapping.y) {\n      return false;\n    }\n  });\n\n  // show snap lines\n  this.showSnapLine('vertical', snapping.x && snapping.x.value);\n  this.showSnapLine('horizontal', snapping.y && snapping.y.value);\n\n  // snap event\n  forEach([ 'x', 'y' ], function(axis) {\n    var axisSnapping = snapping[axis];\n\n    if (isObject(axisSnapping)) {\n      setSnapped(event, axis, axisSnapping.originValue);\n    }\n  });\n};\n\nSnapping.prototype._createLine = function(orientation) {\n  var root = this._canvas.getLayer('snap');\n\n  var line = svgCreate('path');\n\n  svgAttr(line, { d: 'M0,0 L0,0' });\n\n  svgClasses(line).add('djs-snap-line');\n\n  svgAppend(root, line);\n\n  return {\n    update: function(position) {\n\n      if (!isNumber(position)) {\n        svgAttr(line, { display: 'none' });\n      } else {\n        if (orientation === 'horizontal') {\n          svgAttr(line, {\n            d: 'M-100000,' + position + ' L+100000,' + position,\n            display: ''\n          });\n        } else {\n          svgAttr(line, {\n            d: 'M ' + position + ',-100000 L ' + position + ', +100000',\n            display: ''\n          });\n        }\n      }\n    }\n  };\n};\n\nSnapping.prototype._createSnapLines = function() {\n  this._snapLines = {\n    horizontal: this._createLine('horizontal'),\n    vertical: this._createLine('vertical')\n  };\n};\n\nSnapping.prototype.showSnapLine = function(orientation, position) {\n\n  var line = this.getSnapLine(orientation);\n\n  if (line) {\n    line.update(position);\n  }\n\n  this._asyncHide();\n};\n\nSnapping.prototype.getSnapLine = function(orientation) {\n  if (!this._snapLines) {\n    this._createSnapLines();\n  }\n\n  return this._snapLines[orientation];\n};\n\nSnapping.prototype.hide = function() {\n  forEach(this._snapLines, function(snapLine) {\n    snapLine.update();\n  });\n};\n","import CreateMoveSnapping from './CreateMoveSnapping';\nimport ResizeSnapping from './ResizeSnapping';\nimport Snapping from './Snapping';\n\nexport default {\n  __init__: [\n    'createMoveSnapping',\n    'resizeSnapping',\n    'snapping'\n  ],\n  createMoveSnapping: [ 'type', CreateMoveSnapping ],\n  resizeSnapping: [ 'type', ResizeSnapping ],\n  snapping: [ 'type', Snapping ]\n};","import DrdBendpointSnapping from './DrdBendpointSnapping';\nimport DrdConnectSnapping from './DrdConnectSnapping';\nimport SnappingModule from 'diagram-js/lib/features/snapping';\nexport default {\n  __depends__: [SnappingModule],\n  __init__: ['bendpointSnapping', 'connectSnapping'],\n  bendpointSnapping: ['type', DrdBendpointSnapping],\n  connectSnapping: ['type', DrdConnectSnapping]\n};\n//# sourceMappingURL=index.js.map","import inherits from 'inherits';\nimport NavigatedViewer from './NavigatedViewer';\nimport AlignElementsModule from 'diagram-js/lib/features/align-elements';\nimport AutoPlaceModule from './features/auto-place';\nimport AutoScrollModule from 'diagram-js/lib/features/auto-scroll';\nimport BendpointsModule from 'diagram-js/lib/features/bendpoints';\nimport ContextPadModule from './features/context-pad';\nimport ConnectPreviewModule from 'diagram-js/lib/features/connection-preview';\nimport DefinitionPropertiesModule from './features/definition-properties/modeler';\nimport DistributeElementsModule from './features/distribute-elements';\nimport EditorActionsModule from './features/editor-actions';\nimport GenerateDiModule from './features/generate-di';\nimport GridSnappingModule from 'diagram-js/lib/features/grid-snapping';\nimport KeyboardModule from './features/keyboard';\nimport KeyboardMoveModule from 'diagram-js/lib/navigation/keyboard-move';\nimport KeyboardMoveSelectionModule from 'diagram-js/lib/features/keyboard-move-selection';\nimport LabelEditingModule from './features/label-editing';\nimport ModelingModule from './features/modeling';\nimport MoveModule from 'diagram-js/lib/features/move';\nimport PaletteModule from './features/palette';\nimport ResizeModule from 'diagram-js/lib/features/resize';\nimport SnappingModule from './features/snapping';\n/**\n * A modeler for DMN tables.\n *\n *\n * ## Extending the Modeler\n *\n * In order to extend the viewer pass extension modules to bootstrap via the\n * `additionalModules` option. An extension module is an object that exposes\n * named services.\n *\n * The following example depicts the integration of a simple\n * logging component that integrates with interaction events:\n *\n *\n * ```javascript\n *\n * // logging component\n * function InteractionLogger(eventBus) {\n *   eventBus.on('element.hover', function(event) {\n *     console.log()\n *   })\n * }\n *\n * InteractionLogger.$inject = [ 'eventBus' ]; // minification save\n *\n * // extension module\n * var extensionModule = {\n *   __init__: [ 'interactionLogger' ],\n *   interactionLogger: [ 'type', InteractionLogger ]\n * };\n *\n * // extend the viewer\n * var dmnModeler = new Modeler({ additionalModules: [ extensionModule ] });\n * dmnModeler.importXML(...);\n * ```\n *\n *\n * ## Customizing / Replacing Components\n *\n * You can replace individual table components by redefining them in override modules.\n * This works for all components, including those defined in the core.\n *\n * Pass in override modules via the `options.additionalModules` flag like this:\n *\n * ```javascript\n * function CustomContextPadProvider(contextPad) {\n *\n *   contextPad.registerProvider(this);\n *\n *   this.getContextPadEntries = function(element) {\n *     // no entries, effectively disable the context pad\n *     return {};\n *   };\n * }\n *\n * CustomContextPadProvider.$inject = [ 'contextPad' ];\n *\n * var overrideModule = {\n *   contextPadProvider: [ 'type', CustomContextPadProvider ]\n * };\n *\n * var dmnModeler = new Modeler({ additionalModules: [ overrideModule ]});\n * ```\n *\n * @param {Object} [options] configuration options to pass to the viewer\n * @param {DOMElement} [options.container]\n *        the container to render the viewer in, defaults to body.\n * @param {string|number} [options.width] the width of the viewer\n * @param {string|number} [options.height] the height of the viewer\n * @param {Object} [options.moddleExtensions]\n *        extension packages to provide\n * @param {Array<didi.Module>} [options.modules]\n *        a list of modules to override the default modules\n * @param {Array<didi.Module>} [options.additionalModules]\n *        a list of modules to use with the default modules\n */\n\nexport default function Modeler(options) {\n  NavigatedViewer.call(this, options);\n}\ninherits(Modeler, NavigatedViewer); // modules the modeler is composed of\n//\n// - viewer + navigation modules\n// - modeling modules\n\nModeler.prototype._modelingModules = [// modeling components\nAlignElementsModule, AutoPlaceModule, AutoScrollModule, BendpointsModule, ContextPadModule, ConnectPreviewModule, DefinitionPropertiesModule, DistributeElementsModule, EditorActionsModule, GenerateDiModule, GridSnappingModule, KeyboardModule, KeyboardMoveModule, KeyboardMoveSelectionModule, LabelEditingModule, ModelingModule, MoveModule, PaletteModule, ResizeModule, SnappingModule];\nModeler.prototype._modules = [].concat(Modeler.prototype._modules, Modeler.prototype._modelingModules);\n//# sourceMappingURL=Modeler.js.map","var CLASS_PATTERN = /^class /;\n\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nfunction annotate() {\n  var args = Array.prototype.slice.call(arguments);\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  var fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nvar CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARGS = /^(?:async )?(?:function\\s*)?[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\nfunction parseAnnotations(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error('Cannot annotate \"' + fn + '\". Expected a function!');\n  }\n\n  var match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  return match[1] && match[1].split(',').map(function(arg) {\n    match = arg.match(FN_ARG);\n    return match ? match[1].trim() : arg.trim();\n  }) || [];\n}\n\nfunction Module() {\n  var providers = [];\n\n  this.factory = function(name, factory) {\n    providers.push([name, 'factory', factory]);\n    return this;\n  };\n\n  this.value = function(name, value) {\n    providers.push([name, 'value', value]);\n    return this;\n  };\n\n  this.type = function(name, type) {\n    providers.push([name, 'type', type]);\n    return this;\n  };\n\n  this.forEach = function(iterator) {\n    providers.forEach(iterator);\n  };\n\n}\n\nfunction Injector(modules, parent) {\n  parent = parent || {\n    get: function(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error('No provider for \"' + name + '\"!');\n      }\n    }\n  };\n\n  var currentlyResolving = [];\n  var providers = this._providers = Object.create(parent._providers || null);\n  var instances = this._instances = Object.create(null);\n\n  var self = instances.injector = this;\n\n  var error = function(msg) {\n    var stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? msg + ' (Resolving: ' + stack + ')' : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {String} name\n   * @param {Boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {Object}\n   */\n  var get = function(name, strict) {\n    if (!providers[name] && name.indexOf('.') !== -1) {\n      var parts = name.split('.');\n      var pivot = get(parts.shift());\n\n      while (parts.length) {\n        pivot = pivot[parts.shift()];\n      }\n\n      return pivot;\n    }\n\n    if (hasOwnProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasOwnProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  };\n\n  var fnDef = function(fn, locals) {\n\n    if (typeof locals === 'undefined') {\n      locals = {};\n    }\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw new Error('Cannot invoke \"' + fn + '\". Expected a function!');\n      }\n    }\n\n    var inject = fn.$inject || parseAnnotations(fn);\n    var dependencies = inject.map(function(dep) {\n      if (hasOwnProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies: dependencies\n    };\n  };\n\n  var instantiate = function(Type) {\n    var def = fnDef(Type);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    // instantiate var args constructor\n    var Constructor = Function.prototype.bind.apply(fn, [ null ].concat(dependencies));\n\n    return new Constructor();\n  };\n\n  var invoke = function(func, context, locals) {\n    var def = fnDef(func, locals);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    return fn.apply(context, dependencies);\n  };\n\n\n  var createPrivateInjectorFactory = function(privateChildInjector) {\n    return annotate(function(key) {\n      return privateChildInjector.get(key);\n    });\n  };\n\n  var createChild = function(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      var fromParentModule = Object.create(null);\n      var matchedScopes = Object.create(null);\n\n      var privateInjectorsCache = [];\n      var privateChildInjectors = [];\n      var privateChildFactories = [];\n\n      var provider;\n      var cacheIdx;\n      var privateChildInjector;\n      var privateChildInjectorFactory;\n      for (var name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [privateChildInjectorFactory, name, 'private', privateChildInjector];\n            } else {\n              fromParentModule[name] = [privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx]];\n            }\n          } else {\n            fromParentModule[name] = [provider[2], provider[1]];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(function(scope) {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [provider[2], provider[1]];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(function(scope) {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  };\n\n  var factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function(value) {\n      return value;\n    }\n  };\n\n  modules.forEach(function(module) {\n\n    function arrayUnwrap(type, value) {\n      if (type !== 'value' && isArray(value)) {\n        value = annotate(value.slice());\n      }\n\n      return value;\n    }\n\n    // TODO(vojta): handle wrong inputs (modules)\n    if (module instanceof Module) {\n      module.forEach(function(provider) {\n        var name = provider[0];\n        var type = provider[1];\n        var value = provider[2];\n\n        providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n      });\n    } else if (typeof module === 'object') {\n      if (module.__exports__) {\n        var clonedModule = Object.keys(module).reduce(function(m, key) {\n          if (key.substring(0, 2) !== '__') {\n            m[key] = module[key];\n          }\n          return m;\n        }, Object.create(null));\n\n        var privateInjector = new Injector((module.__modules__ || []).concat([clonedModule]), self);\n        var getFromPrivateInjector = annotate(function(key) {\n          return privateInjector.get(key);\n        });\n        module.__exports__.forEach(function(key) {\n          providers[key] = [getFromPrivateInjector, key, 'private', privateInjector];\n        });\n      } else {\n        Object.keys(module).forEach(function(name) {\n          if (module[name][2] === 'private') {\n            providers[name] = module[name];\n            return;\n          }\n\n          var type = module[name][0];\n          var value = module[name][1];\n\n          providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n        });\n      }\n    }\n  });\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n}\n\nexport { annotate, parseAnnotations, Module, Injector };\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { create as _create } from '../model';\n\nvar ElementFactory =\n/*#__PURE__*/\nfunction () {\n  function ElementFactory() {\n    _classCallCheck(this, ElementFactory);\n\n    this._uid = 12;\n  }\n\n  _createClass(ElementFactory, [{\n    key: \"create\",\n    value: function create(type) {\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!attrs.id) {\n        attrs.id = type + '_' + this._uid++;\n      }\n\n      return _create(type, attrs);\n    }\n  }, {\n    key: \"createRoot\",\n    value: function createRoot(attrs) {\n      return this.create('root', attrs);\n    }\n  }, {\n    key: \"createRow\",\n    value: function createRow(attrs) {\n      return this.create('row', attrs);\n    }\n  }, {\n    key: \"createCol\",\n    value: function createCol(attrs) {\n      return this.create('col', attrs);\n    }\n  }, {\n    key: \"createCell\",\n    value: function createCell(attrs) {\n      return this.create('cell', attrs);\n    }\n  }]);\n\n  return ElementFactory;\n}();\n\nexport { ElementFactory as default };\n//# sourceMappingURL=ElementFactory.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ElementRegistry =\n/*#__PURE__*/\nfunction () {\n  function ElementRegistry(eventBus) {\n    _classCallCheck(this, ElementRegistry);\n\n    this._eventBus = eventBus;\n    this._elements = {};\n    eventBus.on('table.clear', this.clear.bind(this));\n  }\n\n  _createClass(ElementRegistry, [{\n    key: \"add\",\n    value: function add(element, type) {\n      var id = element.id;\n      this._elements[id] = element;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(element) {\n      var id = element.id || element;\n      delete this._elements[id];\n    }\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this._elements[id];\n    }\n  }, {\n    key: \"getAll\",\n    value: function getAll() {\n      return values(this._elements);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      values(this._elements).forEach(function (element) {\n        return fn(element);\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      return values(this._elements).filter(function (element) {\n        return fn(element);\n      });\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._elements = {};\n    }\n  }, {\n    key: \"updateId\",\n    value: function updateId(element, newId) {\n      this._validateId(newId);\n\n      if (typeof element === 'string') {\n        element = this.get(element);\n      }\n\n      this._eventBus.fire('element.updateId', {\n        element: element,\n        newId: newId\n      });\n\n      this.remove(element);\n      element.id = newId;\n      this.add(element);\n    }\n    /**\n    * Validate the suitability of the given id and signals a problem\n    * with an exception.\n    *\n    * @param {String} id\n    *\n    * @throws {Error} if id is empty or already assigned\n    */\n\n  }, {\n    key: \"_validateId\",\n    value: function _validateId(id) {\n      if (!id) {\n        throw new Error('element must have an id');\n      }\n\n      if (this._elements[id]) {\n        throw new Error('element with id ' + id + ' already added');\n      }\n    }\n  }]);\n\n  return ElementRegistry;\n}();\n\nexport { ElementRegistry as default };\nElementRegistry.$inject = ['eventBus']; // helpers\n\nfunction values(obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n}\n//# sourceMappingURL=ElementRegistry.js.map","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n */\nexport default function EventBus() {\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @param {string|Array<string>} events\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n\n/**\n * Register an event listener that is executed only once.\n *\n * @param {string} event the event name to register for\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback the callback to execute\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.once = function(event, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(event, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(event, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|Array<string>} events\n * @param {Function} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an EventBus event.\n *\n * @param {Object} data\n *\n * @return {Object} event, recognized by the eventBus\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires a named event.\n *\n * @example\n *\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n *\n * @param {string} [name] the optional event name\n * @param {Object} [event] the event object\n * @param {...Object} additional arguments to be passed to the callback functions\n *\n * @return {boolean} the events return value, if specified or false if the\n *                   default action was prevented by listeners\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/*\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {Object} listener { priority, callback }\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {Array<Object>} args\n *\n * @return {Any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ChangeSupport =\n/*#__PURE__*/\nfunction () {\n  function ChangeSupport(eventBus) {\n    var _this = this;\n\n    _classCallCheck(this, ChangeSupport);\n\n    this._listeners = {};\n    eventBus.on('elements.changed', function (_ref) {\n      var elements = _ref.elements;\n\n      _this.elementsChanged(elements);\n    });\n    eventBus.on('root.remove', function (context) {\n      var oldRootId = context.root.id;\n\n      if (_this._listeners[oldRootId]) {\n        eventBus.once('root.add', function (context) {\n          var newRootId = context.root.id;\n\n          _this.updateId(oldRootId, newRootId);\n        });\n      }\n    });\n    eventBus.on('element.updateId', function (_ref2) {\n      var element = _ref2.element,\n          newId = _ref2.newId;\n\n      _this.updateId(element.id, newId);\n    });\n  }\n\n  _createClass(ChangeSupport, [{\n    key: \"elementsChanged\",\n    value: function elementsChanged(elements) {\n      var invoked = {};\n      var elementsLength = elements.length;\n\n      for (var i = 0; i < elementsLength; i++) {\n        var id = elements[i].id;\n\n        if (invoked[id]) {\n          return;\n        }\n\n        invoked[id] = true;\n        var listenersLength = this._listeners[id] && this._listeners[id].length;\n\n        if (listenersLength) {\n          for (var j = 0; j < listenersLength; j++) {\n            // listeners might remove themselves before they get called\n            this._listeners[id][j] && this._listeners[id][j]();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onElementsChanged\",\n    value: function onElementsChanged(id, listener) {\n      if (!this._listeners[id]) {\n        this._listeners[id] = [];\n      } // avoid push for better performance\n\n\n      this._listeners[id][this._listeners[id].length] = listener;\n    }\n  }, {\n    key: \"offElementsChanged\",\n    value: function offElementsChanged(id, listener) {\n      if (!this._listeners[id]) {\n        return;\n      }\n\n      if (listener) {\n        var idx = this._listeners[id].indexOf(listener);\n\n        if (idx !== -1) {\n          this._listeners[id].splice(idx, 1);\n        }\n      } else {\n        this._listeners[id].length = 0;\n      }\n    }\n  }, {\n    key: \"updateId\",\n    value: function updateId(oldId, newId) {\n      if (this._listeners[oldId]) {\n        this._listeners[newId] = this._listeners[oldId];\n        delete this._listeners[oldId];\n      }\n    }\n  }]);\n\n  return ChangeSupport;\n}();\n\nexport { ChangeSupport as default };\nChangeSupport.$inject = ['eventBus'];\n//# sourceMappingURL=ChangeSupport.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, isNumber } from 'min-dash';\nvar DEFAULT_PRIORITY = 1000;\n\nvar Components =\n/*#__PURE__*/\nfunction () {\n  function Components() {\n    _classCallCheck(this, Components);\n\n    this._listeners = {};\n  }\n\n  _createClass(Components, [{\n    key: \"getComponent\",\n    value: function getComponent(type, context) {\n      var listeners = this._listeners[type];\n\n      if (!listeners) {\n        return;\n      }\n\n      var component;\n\n      for (var i = 0; i < listeners.length; i++) {\n        component = listeners[i].callback(context);\n\n        if (component) {\n          break;\n        }\n      }\n\n      return component;\n    }\n  }, {\n    key: \"getComponents\",\n    value: function getComponents(type, context) {\n      var listeners = this._listeners[type];\n      var components = [];\n\n      if (!listeners) {\n        return components;\n      }\n\n      for (var i = 0; i < listeners.length; i++) {\n        var component = listeners[i].callback(context);\n\n        if (component) {\n          components.push(component);\n        }\n      }\n\n      if (!components.length) {\n        return components;\n      }\n\n      return components;\n    }\n  }, {\n    key: \"onGetComponent\",\n    value: function onGetComponent(type, priority, callback) {\n      if (isFunction(priority)) {\n        callback = priority;\n        priority = DEFAULT_PRIORITY;\n      }\n\n      if (!isNumber(priority)) {\n        throw new Error('priority must be a number');\n      }\n\n      var listeners = this._getListeners(type);\n\n      var existingListener, idx;\n      var newListener = {\n        priority: priority,\n        callback: callback\n      };\n\n      for (idx = 0; existingListener = listeners[idx]; idx++) {\n        if (existingListener.priority < priority) {\n          // prepend newListener at before existingListener\n          listeners.splice(idx, 0, newListener);\n          return;\n        }\n      }\n\n      listeners.push(newListener);\n    }\n  }, {\n    key: \"offGetComponent\",\n    value: function offGetComponent(type, callback) {\n      var listeners = this._getListeners(type);\n\n      var listener, listenerCallback, idx;\n\n      if (callback) {\n        // move through listeners from back to front\n        // and remove matching listeners\n        for (idx = listeners.length - 1; listener = listeners[idx]; idx--) {\n          listenerCallback = listener.callback;\n\n          if (listenerCallback === callback) {\n            listeners.splice(idx, 1);\n          }\n        }\n      } else {\n        // clear listeners\n        listeners.length = 0;\n      }\n    }\n  }, {\n    key: \"_getListeners\",\n    value: function _getListeners(type) {\n      var listeners = this._listeners[type];\n\n      if (!listeners) {\n        this._listeners[type] = listeners = [];\n      }\n\n      return listeners;\n    }\n  }]);\n\n  return Components;\n}();\n\nexport { Components as default };\n//# sourceMappingURL=Components.js.map","var NO_OP = '$NO_OP';\nvar ERROR_MSG = 'a runtime error occured! Use Inferno in development environment to find the error.';\nvar isBrowser = !!(typeof window !== 'undefined' && window.document);\nvar isArray = Array.isArray;\nfunction isStringOrNumber(o) {\n    var type = typeof o;\n    return type === 'string' || type === 'number';\n}\nfunction isNullOrUndef(o) {\n    return isUndefined(o) || isNull(o);\n}\nfunction isInvalid(o) {\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\n}\nfunction isFunction(o) {\n    return typeof o === 'function';\n}\nfunction isString(o) {\n    return typeof o === 'string';\n}\nfunction isNumber(o) {\n    return typeof o === 'number';\n}\nfunction isNull(o) {\n    return o === null;\n}\nfunction isTrue(o) {\n    return o === true;\n}\nfunction isUndefined(o) {\n    return o === void 0;\n}\nfunction throwError(message) {\n    if (!message) {\n        message = ERROR_MSG;\n    }\n    throw new Error((\"Inferno Error: \" + message));\n}\nfunction combineFrom(first, second) {\n    var out = {};\n    if (first) {\n        for (var key in first) {\n            out[key] = first[key];\n        }\n    }\n    if (second) {\n        for (var key$1 in second) {\n            out[key$1] = second[key$1];\n        }\n    }\n    return out;\n}\n\nvar keyPrefix = '$';\nfunction getVNode(childFlags, children, className, flags, key, props, ref, type) {\n    return {\n        childFlags: childFlags,\n        children: children,\n        className: className,\n        dom: null,\n        flags: flags,\n        key: key === void 0 ? null : key,\n        parentVNode: null,\n        props: props === void 0 ? null : props,\n        ref: ref === void 0 ? null : ref,\n        type: type\n    };\n}\nfunction createVNode(flags, type, className, children, childFlags, props, key, ref) {\n    var childFlag = childFlags === void 0 ? 1 /* HasInvalidChildren */ : childFlags;\n    var vNode = getVNode(childFlag, children, className, flags, key, props, ref, type);\n    var optsVNode = options.createVNode;\n    if (typeof optsVNode === 'function') {\n        optsVNode(vNode);\n    }\n    if (childFlag === 0 /* UnknownChildren */) {\n        normalizeChildren(vNode, vNode.children);\n    }\n    return vNode;\n}\nfunction createComponentVNode(flags, type, props, key, ref) {\n    if ((flags & 2 /* ComponentUnknown */) > 0) {\n        flags = type.prototype && isFunction(type.prototype.render) ? 4 /* ComponentClass */ : 8 /* ComponentFunction */;\n    }\n    // set default props\n    var defaultProps = type.defaultProps;\n    if (!isNullOrUndef(defaultProps)) {\n        if (!props) {\n            props = {}; // Props can be referenced and modified at application level so always create new object\n        }\n        for (var prop in defaultProps) {\n            if (isUndefined(props[prop])) {\n                props[prop] = defaultProps[prop];\n            }\n        }\n    }\n    if ((flags & 8 /* ComponentFunction */) > 0) {\n        var defaultHooks = type.defaultHooks;\n        if (!isNullOrUndef(defaultHooks)) {\n            if (!ref) {\n                // As ref cannot be referenced from application level, we can use the same refs object\n                ref = defaultHooks;\n            }\n            else {\n                for (var prop$1 in defaultHooks) {\n                    if (isUndefined(ref[prop$1])) {\n                        ref[prop$1] = defaultHooks[prop$1];\n                    }\n                }\n            }\n        }\n    }\n    var vNode = getVNode(1 /* HasInvalidChildren */, null, null, flags, key, props, ref, type);\n    var optsVNode = options.createVNode;\n    if (isFunction(optsVNode)) {\n        optsVNode(vNode);\n    }\n    return vNode;\n}\nfunction createTextVNode(text, key) {\n    return getVNode(1 /* HasInvalidChildren */, isNullOrUndef(text) ? '' : text, null, 16 /* Text */, key, null, null, null);\n}\nfunction normalizeProps(vNode) {\n    var props = vNode.props;\n    if (props) {\n        var flags = vNode.flags;\n        if (flags & 481 /* Element */) {\n            if (props.children !== void 0 && isNullOrUndef(vNode.children)) {\n                normalizeChildren(vNode, props.children);\n            }\n            if (props.className !== void 0) {\n                vNode.className = props.className || null;\n                props.className = undefined;\n            }\n        }\n        if (props.key !== void 0) {\n            vNode.key = props.key;\n            props.key = undefined;\n        }\n        if (props.ref !== void 0) {\n            if (flags & 8 /* ComponentFunction */) {\n                vNode.ref = combineFrom(vNode.ref, props.ref);\n            }\n            else {\n                vNode.ref = props.ref;\n            }\n            props.ref = undefined;\n        }\n    }\n    return vNode;\n}\nfunction directClone(vNodeToClone) {\n    var newVNode;\n    var flags = vNodeToClone.flags;\n    if (flags & 14 /* Component */) {\n        var props;\n        var propsToClone = vNodeToClone.props;\n        if (!isNull(propsToClone)) {\n            props = {};\n            for (var key in propsToClone) {\n                props[key] = propsToClone[key];\n            }\n        }\n        newVNode = createComponentVNode(flags, vNodeToClone.type, props, vNodeToClone.key, vNodeToClone.ref);\n    }\n    else if (flags & 481 /* Element */) {\n        newVNode = createVNode(flags, vNodeToClone.type, vNodeToClone.className, vNodeToClone.children, vNodeToClone.childFlags, vNodeToClone.props, vNodeToClone.key, vNodeToClone.ref);\n    }\n    else if (flags & 16 /* Text */) {\n        newVNode = createTextVNode(vNodeToClone.children, vNodeToClone.key);\n    }\n    else if (flags & 1024 /* Portal */) {\n        newVNode = vNodeToClone;\n    }\n    return newVNode;\n}\nfunction createVoidVNode() {\n    return createTextVNode('', null);\n}\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\n    for (var len = nodes.length; index < len; index++) {\n        var n = nodes[index];\n        if (!isInvalid(n)) {\n            var newKey = currentKey + keyPrefix + index;\n            if (isArray(n)) {\n                _normalizeVNodes(n, result, 0, newKey);\n            }\n            else {\n                if (isStringOrNumber(n)) {\n                    n = createTextVNode(n, newKey);\n                }\n                else {\n                    var oldKey = n.key;\n                    var isPrefixedKey = isString(oldKey) && oldKey[0] === keyPrefix;\n                    if (!isNull(n.dom) || isPrefixedKey) {\n                        n = directClone(n);\n                    }\n                    if (isNull(oldKey) || isPrefixedKey) {\n                        n.key = newKey;\n                    }\n                    else {\n                        n.key = currentKey + oldKey;\n                    }\n                }\n                result.push(n);\n            }\n        }\n    }\n}\nfunction getFlagsForElementVnode(type) {\n    if (type === 'svg') {\n        return 32 /* SvgElement */;\n    }\n    if (type === 'input') {\n        return 64 /* InputElement */;\n    }\n    if (type === 'select') {\n        return 256 /* SelectElement */;\n    }\n    if (type === 'textarea') {\n        return 128 /* TextareaElement */;\n    }\n    return 1 /* HtmlElement */;\n}\nfunction normalizeChildren(vNode, children) {\n    var newChildren;\n    var newChildFlags = 1 /* HasInvalidChildren */;\n    // Don't change children to match strict equal (===) true in patching\n    if (isInvalid(children)) {\n        newChildren = children;\n    }\n    else if (isString(children)) {\n        newChildFlags = 2 /* HasVNodeChildren */;\n        newChildren = createTextVNode(children);\n    }\n    else if (isNumber(children)) {\n        newChildFlags = 2 /* HasVNodeChildren */;\n        newChildren = createTextVNode(children + '');\n    }\n    else if (isArray(children)) {\n        var len = children.length;\n        if (len === 0) {\n            newChildren = null;\n            newChildFlags = 1 /* HasInvalidChildren */;\n        }\n        else {\n            // we assign $ which basically means we've flagged this array for future note\n            // if it comes back again, we need to clone it, as people are using it\n            // in an immutable way\n            // tslint:disable-next-line\n            if (Object.isFrozen(children) || children['$'] === true) {\n                children = children.slice();\n            }\n            newChildFlags = 8 /* HasKeyedChildren */;\n            for (var i = 0; i < len; i++) {\n                var n = children[i];\n                if (isInvalid(n) || isArray(n)) {\n                    newChildren = newChildren || children.slice(0, i);\n                    _normalizeVNodes(children, newChildren, i, '');\n                    break;\n                }\n                else if (isStringOrNumber(n)) {\n                    newChildren = newChildren || children.slice(0, i);\n                    newChildren.push(createTextVNode(n, keyPrefix + i));\n                }\n                else {\n                    var key = n.key;\n                    var isNullDom = isNull(n.dom);\n                    var isNullKey = isNull(key);\n                    var isPrefixed = !isNullKey && isString(key) && key[0] === keyPrefix;\n                    if (!isNullDom || isNullKey || isPrefixed) {\n                        newChildren = newChildren || children.slice(0, i);\n                        if (!isNullDom || isPrefixed) {\n                            n = directClone(n);\n                        }\n                        if (isNullKey || isPrefixed) {\n                            n.key = keyPrefix + i;\n                        }\n                        newChildren.push(n);\n                    }\n                    else if (newChildren) {\n                        newChildren.push(n);\n                    }\n                }\n            }\n            newChildren = newChildren || children;\n            newChildren.$ = true;\n        }\n    }\n    else {\n        newChildren = children;\n        if (!isNull(children.dom)) {\n            newChildren = directClone(children);\n        }\n        newChildFlags = 2 /* HasVNodeChildren */;\n    }\n    vNode.children = newChildren;\n    vNode.childFlags = newChildFlags;\n    return vNode;\n}\nvar options = {\n    afterRender: null,\n    beforeRender: null,\n    createVNode: null,\n    renderComplete: null\n};\n\n/**\n * Links given data to event as first parameter\n * @param {*} data data to be linked, it will be available in function as first parameter\n * @param {Function} event Function to be called when event occurs\n * @returns {{data: *, event: Function}}\n */\nfunction linkEvent(data, event) {\n    if (isFunction(event)) {\n        return { data: data, event: event };\n    }\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\n}\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\nvar svgNS = 'http://www.w3.org/2000/svg';\nvar namespaces = {\n    'xlink:actuate': xlinkNS,\n    'xlink:arcrole': xlinkNS,\n    'xlink:href': xlinkNS,\n    'xlink:role': xlinkNS,\n    'xlink:show': xlinkNS,\n    'xlink:title': xlinkNS,\n    'xlink:type': xlinkNS,\n    'xml:base': xmlNS,\n    'xml:lang': xmlNS,\n    'xml:space': xmlNS\n};\n\n// We need EMPTY_OBJ defined in one place.\n// Its used for comparison so we cant inline it into shared\nvar EMPTY_OBJ = {};\nvar LIFECYCLE = [];\nfunction appendChild(parentDom, dom) {\n    parentDom.appendChild(dom);\n}\nfunction insertOrAppend(parentDom, newNode, nextNode) {\n    if (isNullOrUndef(nextNode)) {\n        appendChild(parentDom, newNode);\n    }\n    else {\n        parentDom.insertBefore(newNode, nextNode);\n    }\n}\nfunction documentCreateElement(tag, isSVG) {\n    if (isSVG) {\n        return document.createElementNS(svgNS, tag);\n    }\n    return document.createElement(tag);\n}\nfunction replaceChild(parentDom, newDom, lastDom) {\n    parentDom.replaceChild(newDom, lastDom);\n}\nfunction removeChild(parentDom, dom) {\n    parentDom.removeChild(dom);\n}\nfunction callAll(arrayFn) {\n    var listener;\n    while ((listener = arrayFn.shift()) !== undefined) {\n        listener();\n    }\n}\n\nvar attachedEventCounts = {};\nvar attachedEvents = {};\nfunction handleEvent(name, nextEvent, dom) {\n    var eventsLeft = attachedEventCounts[name];\n    var eventsObject = dom.$EV;\n    if (nextEvent) {\n        if (!eventsLeft) {\n            attachedEvents[name] = attachEventToDocument(name);\n            attachedEventCounts[name] = 0;\n        }\n        if (!eventsObject) {\n            eventsObject = dom.$EV = {};\n        }\n        if (!eventsObject[name]) {\n            attachedEventCounts[name]++;\n        }\n        eventsObject[name] = nextEvent;\n    }\n    else if (eventsObject && eventsObject[name]) {\n        attachedEventCounts[name]--;\n        if (eventsLeft === 1) {\n            document.removeEventListener(normalizeEventName(name), attachedEvents[name]);\n            attachedEvents[name] = null;\n        }\n        eventsObject[name] = nextEvent;\n    }\n}\nfunction dispatchEvents(event, target, isClick, name, eventData) {\n    var dom = target;\n    while (!isNull(dom)) {\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\n        // because the event listener is on document.body\n        // Don't process clicks on disabled elements\n        if (isClick && dom.disabled) {\n            return;\n        }\n        var eventsObject = dom.$EV;\n        if (eventsObject) {\n            var currentEvent = eventsObject[name];\n            if (currentEvent) {\n                // linkEvent object\n                eventData.dom = dom;\n                if (currentEvent.event) {\n                    currentEvent.event(currentEvent.data, event);\n                }\n                else {\n                    currentEvent(event);\n                }\n                if (event.cancelBubble) {\n                    return;\n                }\n            }\n        }\n        dom = dom.parentNode;\n    }\n}\nfunction normalizeEventName(name) {\n    return name.substr(2).toLowerCase();\n}\nfunction stopPropagation() {\n    this.cancelBubble = true;\n    if (!this.immediatePropagationStopped) {\n        this.stopImmediatePropagation();\n    }\n}\nfunction attachEventToDocument(name) {\n    var docEvent = function (event) {\n        var type = event.type;\n        var isClick = type === 'click' || type === 'dblclick';\n        if (isClick && event.button !== 0) {\n            // Firefox incorrectly triggers click event for mid/right mouse buttons.\n            // This bug has been active for 12 years.\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=184051\n            event.stopPropagation();\n            return false;\n        }\n        event.stopPropagation = stopPropagation;\n        // Event data needs to be object to save reference to currentTarget getter\n        var eventData = {\n            dom: document\n        };\n        Object.defineProperty(event, 'currentTarget', {\n            configurable: true,\n            get: function get() {\n                return eventData.dom;\n            }\n        });\n        dispatchEvents(event, event.target, isClick, name, eventData);\n        return;\n    };\n    document.addEventListener(normalizeEventName(name), docEvent);\n    return docEvent;\n}\n\nfunction isSameInnerHTML(dom, innerHTML) {\n    var tempdom = document.createElement('i');\n    tempdom.innerHTML = innerHTML;\n    return tempdom.innerHTML === dom.innerHTML;\n}\nfunction isSamePropsInnerHTML(dom, props) {\n    return Boolean(props && props.dangerouslySetInnerHTML && props.dangerouslySetInnerHTML.__html && isSameInnerHTML(dom, props.dangerouslySetInnerHTML.__html));\n}\n\nfunction triggerEventListener(props, methodName, e) {\n    if (props[methodName]) {\n        var listener = props[methodName];\n        if (listener.event) {\n            listener.event(listener.data, e);\n        }\n        else {\n            listener(e);\n        }\n    }\n    else {\n        var nativeListenerName = methodName.toLowerCase();\n        if (props[nativeListenerName]) {\n            props[nativeListenerName](e);\n        }\n    }\n}\nfunction createWrappedFunction(methodName, applyValue) {\n    var fnMethod = function (e) {\n        e.stopPropagation();\n        var vNode = this.$V;\n        // If vNode is gone by the time event fires, no-op\n        if (!vNode) {\n            return;\n        }\n        var props = vNode.props || EMPTY_OBJ;\n        var dom = vNode.dom;\n        if (isString(methodName)) {\n            triggerEventListener(props, methodName, e);\n        }\n        else {\n            for (var i = 0; i < methodName.length; i++) {\n                triggerEventListener(props, methodName[i], e);\n            }\n        }\n        if (isFunction(applyValue)) {\n            var newVNode = this.$V;\n            var newProps = newVNode.props || EMPTY_OBJ;\n            applyValue(newProps, dom, false, newVNode);\n        }\n    };\n    Object.defineProperty(fnMethod, 'wrapped', {\n        configurable: false,\n        enumerable: false,\n        value: true,\n        writable: false\n    });\n    return fnMethod;\n}\n\nfunction isCheckedType(type) {\n    return type === 'checkbox' || type === 'radio';\n}\nvar onTextInputChange = createWrappedFunction('onInput', applyValueInput);\nvar wrappedOnChange = createWrappedFunction(['onClick', 'onChange'], applyValueInput);\n/* tslint:disable-next-line:no-empty */\nfunction emptywrapper(event) {\n    event.stopPropagation();\n}\nemptywrapper.wrapped = true;\nfunction inputEvents(dom, nextPropsOrEmpty) {\n    if (isCheckedType(nextPropsOrEmpty.type)) {\n        dom.onchange = wrappedOnChange;\n        dom.onclick = emptywrapper;\n    }\n    else {\n        dom.oninput = onTextInputChange;\n    }\n}\nfunction applyValueInput(nextPropsOrEmpty, dom) {\n    var type = nextPropsOrEmpty.type;\n    var value = nextPropsOrEmpty.value;\n    var checked = nextPropsOrEmpty.checked;\n    var multiple = nextPropsOrEmpty.multiple;\n    var defaultValue = nextPropsOrEmpty.defaultValue;\n    var hasValue = !isNullOrUndef(value);\n    if (type && type !== dom.type) {\n        dom.setAttribute('type', type);\n    }\n    if (!isNullOrUndef(multiple) && multiple !== dom.multiple) {\n        dom.multiple = multiple;\n    }\n    if (!isNullOrUndef(defaultValue) && !hasValue) {\n        dom.defaultValue = defaultValue + '';\n    }\n    if (isCheckedType(type)) {\n        if (hasValue) {\n            dom.value = value;\n        }\n        if (!isNullOrUndef(checked)) {\n            dom.checked = checked;\n        }\n    }\n    else {\n        if (hasValue && dom.value !== value) {\n            dom.defaultValue = value;\n            dom.value = value;\n        }\n        else if (!isNullOrUndef(checked)) {\n            dom.checked = checked;\n        }\n    }\n}\n\nfunction updateChildOptionGroup(vNode, value) {\n    var type = vNode.type;\n    if (type === 'optgroup') {\n        var children = vNode.children;\n        var childFlags = vNode.childFlags;\n        if (childFlags & 12 /* MultipleChildren */) {\n            for (var i = 0, len = children.length; i < len; i++) {\n                updateChildOption(children[i], value);\n            }\n        }\n        else if (childFlags === 2 /* HasVNodeChildren */) {\n            updateChildOption(children, value);\n        }\n    }\n    else {\n        updateChildOption(vNode, value);\n    }\n}\nfunction updateChildOption(vNode, value) {\n    var props = vNode.props || EMPTY_OBJ;\n    var dom = vNode.dom;\n    // we do this as multiple may have changed\n    dom.value = props.value;\n    if ((isArray(value) && value.indexOf(props.value) !== -1) || props.value === value) {\n        dom.selected = true;\n    }\n    else if (!isNullOrUndef(value) || !isNullOrUndef(props.selected)) {\n        dom.selected = props.selected || false;\n    }\n}\nvar onSelectChange = createWrappedFunction('onChange', applyValueSelect);\nfunction selectEvents(dom) {\n    dom.onchange = onSelectChange;\n}\nfunction applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode) {\n    var multiplePropInBoolean = Boolean(nextPropsOrEmpty.multiple);\n    if (!isNullOrUndef(nextPropsOrEmpty.multiple) && multiplePropInBoolean !== dom.multiple) {\n        dom.multiple = multiplePropInBoolean;\n    }\n    var childFlags = vNode.childFlags;\n    if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\n        var children = vNode.children;\n        var value = nextPropsOrEmpty.value;\n        if (mounting && isNullOrUndef(value)) {\n            value = nextPropsOrEmpty.defaultValue;\n        }\n        if (childFlags & 12 /* MultipleChildren */) {\n            for (var i = 0, len = children.length; i < len; i++) {\n                updateChildOptionGroup(children[i], value);\n            }\n        }\n        else if (childFlags === 2 /* HasVNodeChildren */) {\n            updateChildOptionGroup(children, value);\n        }\n    }\n}\n\nvar onTextareaInputChange = createWrappedFunction('onInput', applyValueTextArea);\nvar wrappedOnChange$1 = createWrappedFunction('onChange');\nfunction textAreaEvents(dom, nextPropsOrEmpty) {\n    dom.oninput = onTextareaInputChange;\n    if (nextPropsOrEmpty.onChange) {\n        dom.onchange = wrappedOnChange$1;\n    }\n}\nfunction applyValueTextArea(nextPropsOrEmpty, dom, mounting) {\n    var value = nextPropsOrEmpty.value;\n    var domValue = dom.value;\n    if (isNullOrUndef(value)) {\n        if (mounting) {\n            var defaultValue = nextPropsOrEmpty.defaultValue;\n            if (!isNullOrUndef(defaultValue) && defaultValue !== domValue) {\n                dom.defaultValue = defaultValue;\n                dom.value = defaultValue;\n            }\n        }\n    }\n    else if (domValue !== value) {\n        /* There is value so keep it controlled */\n        dom.defaultValue = value;\n        dom.value = value;\n    }\n}\n\n/**\n * There is currently no support for switching same input between controlled and nonControlled\n * If that ever becomes a real issue, then re design controlled elements\n * Currently user must choose either controlled or non-controlled and stick with that\n */\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\n    if (flags & 64 /* InputElement */) {\n        applyValueInput(nextPropsOrEmpty, dom);\n    }\n    else if (flags & 256 /* SelectElement */) {\n        applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode);\n    }\n    else if (flags & 128 /* TextareaElement */) {\n        applyValueTextArea(nextPropsOrEmpty, dom, mounting);\n    }\n    if (isControlled) {\n        dom.$V = vNode;\n    }\n}\nfunction addFormElementEventHandlers(flags, dom, nextPropsOrEmpty) {\n    if (flags & 64 /* InputElement */) {\n        inputEvents(dom, nextPropsOrEmpty);\n    }\n    else if (flags & 256 /* SelectElement */) {\n        selectEvents(dom);\n    }\n    else if (flags & 128 /* TextareaElement */) {\n        textAreaEvents(dom, nextPropsOrEmpty);\n    }\n}\nfunction isControlledFormElement(nextPropsOrEmpty) {\n    return nextPropsOrEmpty.type && isCheckedType(nextPropsOrEmpty.type) ? !isNullOrUndef(nextPropsOrEmpty.checked) : !isNullOrUndef(nextPropsOrEmpty.value);\n}\n\nfunction remove(vNode, parentDom) {\n    unmount(vNode);\n    if (parentDom && vNode.dom) {\n        removeChild(parentDom, vNode.dom);\n        // Let carbage collector free memory\n        vNode.dom = null;\n    }\n}\nfunction unmount(vNode) {\n    var flags = vNode.flags;\n    if (flags & 481 /* Element */) {\n        var ref = vNode.ref;\n        var props = vNode.props;\n        if (isFunction(ref)) {\n            ref(null);\n        }\n        var children = vNode.children;\n        var childFlags = vNode.childFlags;\n        if (childFlags & 12 /* MultipleChildren */) {\n            unmountAllChildren(children);\n        }\n        else if (childFlags === 2 /* HasVNodeChildren */) {\n            unmount(children);\n        }\n        if (!isNull(props)) {\n            for (var name in props) {\n                switch (name) {\n                    case 'onClick':\n                    case 'onDblClick':\n                    case 'onFocusIn':\n                    case 'onFocusOut':\n                    case 'onKeyDown':\n                    case 'onKeyPress':\n                    case 'onKeyUp':\n                    case 'onMouseDown':\n                    case 'onMouseMove':\n                    case 'onMouseUp':\n                    case 'onSubmit':\n                    case 'onTouchEnd':\n                    case 'onTouchMove':\n                    case 'onTouchStart':\n                        handleEvent(name, null, vNode.dom);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n    }\n    else {\n        var children$1 = vNode.children;\n        // Safe guard for crashed VNode\n        if (children$1) {\n            if (flags & 14 /* Component */) {\n                var ref$1 = vNode.ref;\n                if (flags & 4 /* ComponentClass */) {\n                    if (isFunction(children$1.componentWillUnmount)) {\n                        children$1.componentWillUnmount();\n                    }\n                    if (isFunction(ref$1)) {\n                        ref$1(null);\n                    }\n                    children$1.$UN = true;\n                    if (children$1.$LI) {\n                        unmount(children$1.$LI);\n                    }\n                }\n                else {\n                    if (!isNullOrUndef(ref$1) && isFunction(ref$1.onComponentWillUnmount)) {\n                        ref$1.onComponentWillUnmount(vNode.dom, vNode.props || EMPTY_OBJ);\n                    }\n                    unmount(children$1);\n                }\n            }\n            else if (flags & 1024 /* Portal */) {\n                remove(children$1, vNode.type);\n            }\n        }\n    }\n}\nfunction unmountAllChildren(children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        unmount(children[i]);\n    }\n}\nfunction removeAllChildren(dom, children) {\n    unmountAllChildren(children);\n    dom.textContent = '';\n}\n\nfunction createLinkEvent(linkEvent, nextValue) {\n    return function (e) {\n        linkEvent(nextValue.data, e);\n    };\n}\nfunction patchEvent(name, nextValue, dom) {\n    var nameLowerCase = name.toLowerCase();\n    if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {\n        var linkEvent = nextValue.event;\n        if (linkEvent && isFunction(linkEvent)) {\n            dom[nameLowerCase] = createLinkEvent(linkEvent, nextValue);\n        }\n    }\n    else {\n        var domEvent = dom[nameLowerCase];\n        // if the function is wrapped, that means it's been controlled by a wrapper\n        if (!domEvent || !domEvent.wrapped) {\n            dom[nameLowerCase] = nextValue;\n        }\n    }\n}\nfunction getNumberStyleValue(style, value) {\n    switch (style) {\n        case 'animationIterationCount':\n        case 'borderImageOutset':\n        case 'borderImageSlice':\n        case 'borderImageWidth':\n        case 'boxFlex':\n        case 'boxFlexGroup':\n        case 'boxOrdinalGroup':\n        case 'columnCount':\n        case 'fillOpacity':\n        case 'flex':\n        case 'flexGrow':\n        case 'flexNegative':\n        case 'flexOrder':\n        case 'flexPositive':\n        case 'flexShrink':\n        case 'floodOpacity':\n        case 'fontWeight':\n        case 'gridColumn':\n        case 'gridRow':\n        case 'lineClamp':\n        case 'lineHeight':\n        case 'opacity':\n        case 'order':\n        case 'orphans':\n        case 'stopOpacity':\n        case 'strokeDasharray':\n        case 'strokeDashoffset':\n        case 'strokeMiterlimit':\n        case 'strokeOpacity':\n        case 'strokeWidth':\n        case 'tabSize':\n        case 'widows':\n        case 'zIndex':\n        case 'zoom':\n            return value;\n        default:\n            return value + 'px';\n    }\n}\n// We are assuming here that we come from patchProp routine\n// -nextAttrValue cannot be null or undefined\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\n    var domStyle = dom.style;\n    var style;\n    var value;\n    if (isString(nextAttrValue)) {\n        domStyle.cssText = nextAttrValue;\n        return;\n    }\n    if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\n        for (style in nextAttrValue) {\n            // do not add a hasOwnProperty check here, it affects performance\n            value = nextAttrValue[style];\n            if (value !== lastAttrValue[style]) {\n                domStyle[style] = isNumber(value) ? getNumberStyleValue(style, value) : value;\n            }\n        }\n        for (style in lastAttrValue) {\n            if (isNullOrUndef(nextAttrValue[style])) {\n                domStyle[style] = '';\n            }\n        }\n    }\n    else {\n        for (style in nextAttrValue) {\n            value = nextAttrValue[style];\n            domStyle[style] = isNumber(value) ? getNumberStyleValue(style, value) : value;\n        }\n    }\n}\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode) {\n    switch (prop) {\n        case 'onClick':\n        case 'onDblClick':\n        case 'onFocusIn':\n        case 'onFocusOut':\n        case 'onKeyDown':\n        case 'onKeyPress':\n        case 'onKeyUp':\n        case 'onMouseDown':\n        case 'onMouseMove':\n        case 'onMouseUp':\n        case 'onSubmit':\n        case 'onTouchEnd':\n        case 'onTouchMove':\n        case 'onTouchStart':\n            handleEvent(prop, nextValue, dom);\n            break;\n        case 'children':\n        case 'childrenType':\n        case 'className':\n        case 'defaultValue':\n        case 'key':\n        case 'multiple':\n        case 'ref':\n            break;\n        case 'autoFocus':\n            dom.autofocus = !!nextValue;\n            break;\n        case 'allowfullscreen':\n        case 'autoplay':\n        case 'capture':\n        case 'checked':\n        case 'controls':\n        case 'default':\n        case 'disabled':\n        case 'hidden':\n        case 'indeterminate':\n        case 'loop':\n        case 'muted':\n        case 'novalidate':\n        case 'open':\n        case 'readOnly':\n        case 'required':\n        case 'reversed':\n        case 'scoped':\n        case 'seamless':\n        case 'selected':\n            dom[prop] = !!nextValue;\n            break;\n        case 'defaultChecked':\n        case 'value':\n        case 'volume':\n            if (hasControlledValue && prop === 'value') {\n                return;\n            }\n            var value = isNullOrUndef(nextValue) ? '' : nextValue;\n            if (dom[prop] !== value) {\n                dom[prop] = value;\n            }\n            break;\n        case 'dangerouslySetInnerHTML':\n            var lastHtml = (lastValue && lastValue.__html) || '';\n            var nextHtml = (nextValue && nextValue.__html) || '';\n            if (lastHtml !== nextHtml) {\n                if (!isNullOrUndef(nextHtml) && !isSameInnerHTML(dom, nextHtml)) {\n                    if (!isNull(lastVNode)) {\n                        if (lastVNode.childFlags & 12 /* MultipleChildren */) {\n                            unmountAllChildren(lastVNode.children);\n                        }\n                        else if (lastVNode.childFlags === 2 /* HasVNodeChildren */) {\n                            unmount(lastVNode.children);\n                        }\n                        lastVNode.children = null;\n                        lastVNode.childFlags = 1 /* HasInvalidChildren */;\n                    }\n                    dom.innerHTML = nextHtml;\n                }\n            }\n            break;\n        default:\n            if (prop[0] === 'o' && prop[1] === 'n') {\n                patchEvent(prop, nextValue, dom);\n            }\n            else if (isNullOrUndef(nextValue)) {\n                dom.removeAttribute(prop);\n            }\n            else if (prop === 'style') {\n                patchStyle(lastValue, nextValue, dom);\n            }\n            else if (isSVG && namespaces[prop]) {\n                // We optimize for isSVG being false\n                // If we end up in this path we can read property again\n                dom.setAttributeNS(namespaces[prop], prop, nextValue);\n            }\n            else {\n                dom.setAttribute(prop, nextValue);\n            }\n            break;\n    }\n}\nfunction mountProps(vNode, flags, props, dom, isSVG) {\n    var hasControlledValue = false;\n    var isFormElement = (flags & 448 /* FormElement */) > 0;\n    if (isFormElement) {\n        hasControlledValue = isControlledFormElement(props);\n        if (hasControlledValue) {\n            addFormElementEventHandlers(flags, dom, props);\n        }\n    }\n    for (var prop in props) {\n        // do not add a hasOwnProperty check here, it affects performance\n        patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue, null);\n    }\n    if (isFormElement) {\n        processElement(flags, vNode, dom, props, true, hasControlledValue);\n    }\n}\n\nfunction createClassComponentInstance(vNode, Component, props, context) {\n    var instance = new Component(props, context);\n    vNode.children = instance;\n    instance.$V = vNode;\n    instance.$BS = false;\n    instance.context = context;\n    if (instance.props === EMPTY_OBJ) {\n        instance.props = props;\n    }\n    instance.$UN = false;\n    if (isFunction(instance.componentWillMount)) {\n        instance.$BR = true;\n        instance.componentWillMount();\n        if (instance.$PSS) {\n            var state = instance.state;\n            var pending = instance.$PS;\n            if (isNull(state)) {\n                instance.state = pending;\n            }\n            else {\n                for (var key in pending) {\n                    state[key] = pending[key];\n                }\n            }\n            instance.$PSS = false;\n            instance.$PS = null;\n        }\n        instance.$BR = false;\n    }\n    if (isFunction(options.beforeRender)) {\n        options.beforeRender(instance);\n    }\n    var input = handleComponentInput(instance.render(props, instance.state, context), vNode);\n    var childContext;\n    if (isFunction(instance.getChildContext)) {\n        childContext = instance.getChildContext();\n    }\n    if (isNullOrUndef(childContext)) {\n        instance.$CX = context;\n    }\n    else {\n        instance.$CX = combineFrom(context, childContext);\n    }\n    if (isFunction(options.afterRender)) {\n        options.afterRender(instance);\n    }\n    instance.$LI = input;\n    return instance;\n}\nfunction handleComponentInput(input, componentVNode) {\n    if (isInvalid(input)) {\n        input = createVoidVNode();\n    }\n    else if (isStringOrNumber(input)) {\n        input = createTextVNode(input, null);\n    }\n    else {\n        if (input.dom) {\n            input = directClone(input);\n        }\n        if (input.flags & 14 /* Component */) {\n            // if we have an input that is also a component, we run into a tricky situation\n            // where the root vNode needs to always have the correct DOM entry\n            // we can optimise this in the future, but this gets us out of a lot of issues\n            input.parentVNode = componentVNode;\n        }\n    }\n    return input;\n}\n\nfunction mount(vNode, parentDom, context, isSVG) {\n    var flags = vNode.flags;\n    if (flags & 481 /* Element */) {\n        return mountElement(vNode, parentDom, context, isSVG);\n    }\n    if (flags & 14 /* Component */) {\n        return mountComponent(vNode, parentDom, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\n    }\n    if (flags & 512 /* Void */ || flags & 16 /* Text */) {\n        return mountText(vNode, parentDom);\n    }\n    if (flags & 1024 /* Portal */) {\n        mount(vNode.children, vNode.type, context, false);\n        return (vNode.dom = mountText(createVoidVNode(), parentDom));\n    }\n}\nfunction mountText(vNode, parentDom) {\n    var dom = (vNode.dom = document.createTextNode(vNode.children));\n    if (!isNull(parentDom)) {\n        appendChild(parentDom, dom);\n    }\n    return dom;\n}\nfunction mountElement(vNode, parentDom, context, isSVG) {\n    var flags = vNode.flags;\n    var children = vNode.children;\n    var props = vNode.props;\n    var className = vNode.className;\n    var ref = vNode.ref;\n    var childFlags = vNode.childFlags;\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\n    var dom = documentCreateElement(vNode.type, isSVG);\n    vNode.dom = dom;\n    if (!isNullOrUndef(className) && className !== '') {\n        if (isSVG) {\n            dom.setAttribute('class', className);\n        }\n        else {\n            dom.className = className;\n        }\n    }\n    if (!isNull(parentDom)) {\n        appendChild(parentDom, dom);\n    }\n    if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\n        var childrenIsSVG = isSVG === true && vNode.type !== 'foreignObject';\n        if (childFlags === 2 /* HasVNodeChildren */) {\n            mount(children, dom, context, childrenIsSVG);\n        }\n        else if (childFlags & 12 /* MultipleChildren */) {\n            mountArrayChildren(children, dom, context, childrenIsSVG);\n        }\n    }\n    if (!isNull(props)) {\n        mountProps(vNode, flags, props, dom, isSVG);\n    }\n    if (isFunction(ref)) {\n        mountRef(dom, ref);\n    }\n    return dom;\n}\nfunction mountArrayChildren(children, dom, context, isSVG) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        var child = children[i];\n        if (!isNull(child.dom)) {\n            children[i] = child = directClone(child);\n        }\n        mount(child, dom, context, isSVG);\n    }\n}\nfunction mountComponent(vNode, parentDom, context, isSVG, isClass) {\n    var dom;\n    var type = vNode.type;\n    var props = vNode.props || EMPTY_OBJ;\n    var ref = vNode.ref;\n    if (isClass) {\n        var instance = createClassComponentInstance(vNode, type, props, context);\n        vNode.dom = dom = mount(instance.$LI, null, instance.$CX, isSVG);\n        mountClassComponentCallbacks(vNode, ref, instance);\n        instance.$UPD = false;\n    }\n    else {\n        var input = handleComponentInput(type(props, context), vNode);\n        vNode.children = input;\n        vNode.dom = dom = mount(input, null, context, isSVG);\n        mountFunctionalComponentCallbacks(props, ref, dom);\n    }\n    if (!isNull(parentDom)) {\n        appendChild(parentDom, dom);\n    }\n    return dom;\n}\nfunction createClassMountCallback(instance) {\n    return function () {\n        instance.$UPD = true;\n        instance.componentDidMount();\n        instance.$UPD = false;\n    };\n}\nfunction mountClassComponentCallbacks(vNode, ref, instance) {\n    if (isFunction(ref)) {\n        ref(instance);\n    }\n    if (isFunction(instance.componentDidMount)) {\n        LIFECYCLE.push(createClassMountCallback(instance));\n    }\n}\nfunction createOnMountCallback(ref, dom, props) {\n    return function () { return ref.onComponentDidMount(dom, props); };\n}\nfunction mountFunctionalComponentCallbacks(props, ref, dom) {\n    if (!isNullOrUndef(ref)) {\n        if (isFunction(ref.onComponentWillMount)) {\n            ref.onComponentWillMount(props);\n        }\n        if (isFunction(ref.onComponentDidMount)) {\n            LIFECYCLE.push(createOnMountCallback(ref, dom, props));\n        }\n    }\n}\nfunction mountRef(dom, value) {\n    LIFECYCLE.push(function () { return value(dom); });\n}\n\nfunction hydrateComponent(vNode, dom, context, isSVG, isClass) {\n    var type = vNode.type;\n    var ref = vNode.ref;\n    var props = vNode.props || EMPTY_OBJ;\n    if (isClass) {\n        var instance = createClassComponentInstance(vNode, type, props, context);\n        var input = instance.$LI;\n        hydrateVNode(input, dom, instance.$CX, isSVG);\n        vNode.dom = input.dom;\n        mountClassComponentCallbacks(vNode, ref, instance);\n        instance.$UPD = false; // Mount finished allow going sync\n    }\n    else {\n        var input$1 = handleComponentInput(type(props, context), vNode);\n        hydrateVNode(input$1, dom, context, isSVG);\n        vNode.children = input$1;\n        vNode.dom = input$1.dom;\n        mountFunctionalComponentCallbacks(props, ref, dom);\n    }\n}\nfunction hydrateElement(vNode, dom, context, isSVG) {\n    var children = vNode.children;\n    var props = vNode.props;\n    var className = vNode.className;\n    var flags = vNode.flags;\n    var ref = vNode.ref;\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\n    if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== vNode.type) {\n        var newDom = mountElement(vNode, null, context, isSVG);\n        vNode.dom = newDom;\n        replaceChild(dom.parentNode, newDom, dom);\n    }\n    else {\n        vNode.dom = dom;\n        var childNode = dom.firstChild;\n        var childFlags = vNode.childFlags;\n        if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\n            var nextSibling = null;\n            while (childNode) {\n                nextSibling = childNode.nextSibling;\n                if (childNode.nodeType === 8) {\n                    if (childNode.data === '!') {\n                        dom.replaceChild(document.createTextNode(''), childNode);\n                    }\n                    else {\n                        dom.removeChild(childNode);\n                    }\n                }\n                childNode = nextSibling;\n            }\n            childNode = dom.firstChild;\n            if (childFlags === 2 /* HasVNodeChildren */) {\n                if (isNull(childNode)) {\n                    mount(children, dom, context, isSVG);\n                }\n                else {\n                    nextSibling = childNode.nextSibling;\n                    hydrateVNode(children, childNode, context, isSVG);\n                    childNode = nextSibling;\n                }\n            }\n            else if (childFlags & 12 /* MultipleChildren */) {\n                for (var i = 0, len = children.length; i < len; i++) {\n                    var child = children[i];\n                    if (isNull(childNode)) {\n                        mount(child, dom, context, isSVG);\n                    }\n                    else {\n                        nextSibling = childNode.nextSibling;\n                        hydrateVNode(child, childNode, context, isSVG);\n                        childNode = nextSibling;\n                    }\n                }\n            }\n            // clear any other DOM nodes, there should be only a single entry for the root\n            while (childNode) {\n                nextSibling = childNode.nextSibling;\n                dom.removeChild(childNode);\n                childNode = nextSibling;\n            }\n        }\n        else if (!isNull(dom.firstChild) && !isSamePropsInnerHTML(dom, props)) {\n            dom.textContent = ''; // dom has content, but VNode has no children remove everything from DOM\n            if (flags & 448 /* FormElement */) {\n                // If element is form element, we need to clear defaultValue also\n                dom.defaultValue = '';\n            }\n        }\n        if (!isNull(props)) {\n            mountProps(vNode, flags, props, dom, isSVG);\n        }\n        if (isNullOrUndef(className)) {\n            if (dom.className !== '') {\n                dom.removeAttribute('class');\n            }\n        }\n        else if (isSVG) {\n            dom.setAttribute('class', className);\n        }\n        else {\n            dom.className = className;\n        }\n        if (isFunction(ref)) {\n            mountRef(dom, ref);\n        }\n    }\n}\nfunction hydrateText(vNode, dom) {\n    if (dom.nodeType !== 3) {\n        var newDom = mountText(vNode, null);\n        vNode.dom = newDom;\n        replaceChild(dom.parentNode, newDom, dom);\n    }\n    else {\n        var text = vNode.children;\n        if (dom.nodeValue !== text) {\n            dom.nodeValue = text;\n        }\n        vNode.dom = dom;\n    }\n}\nfunction hydrateVNode(vNode, dom, context, isSVG) {\n    var flags = vNode.flags;\n    if (flags & 14 /* Component */) {\n        hydrateComponent(vNode, dom, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\n    }\n    else if (flags & 481 /* Element */) {\n        hydrateElement(vNode, dom, context, isSVG);\n    }\n    else if (flags & 16 /* Text */) {\n        hydrateText(vNode, dom);\n    }\n    else if (flags & 512 /* Void */) {\n        vNode.dom = dom;\n    }\n    else {\n        throwError();\n    }\n}\nfunction hydrate(input, parentDom, callback) {\n    var dom = parentDom.firstChild;\n    if (!isNull(dom)) {\n        if (!isInvalid(input)) {\n            hydrateVNode(input, dom, EMPTY_OBJ, false);\n        }\n        dom = parentDom.firstChild;\n        // clear any other DOM nodes, there should be only a single entry for the root\n        while ((dom = dom.nextSibling)) {\n            parentDom.removeChild(dom);\n        }\n    }\n    if (LIFECYCLE.length > 0) {\n        callAll(LIFECYCLE);\n    }\n    parentDom.$V = input;\n    if (isFunction(callback)) {\n        callback();\n    }\n}\n\nfunction replaceWithNewNode(lastNode, nextNode, parentDom, context, isSVG) {\n    unmount(lastNode);\n    replaceChild(parentDom, mount(nextNode, null, context, isSVG), lastNode.dom);\n}\nfunction patch(lastVNode, nextVNode, parentDom, context, isSVG) {\n    var nextFlags = nextVNode.flags | 0;\n    if (lastVNode.flags !== nextFlags || nextFlags & 2048 /* ReCreate */) {\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, context, isSVG);\n    }\n    else if (nextFlags & 481 /* Element */) {\n        patchElement(lastVNode, nextVNode, parentDom, context, isSVG, nextFlags);\n    }\n    else if (nextFlags & 14 /* Component */) {\n        patchComponent(lastVNode, nextVNode, parentDom, context, isSVG, (nextFlags & 4 /* ComponentClass */) > 0);\n    }\n    else if (nextFlags & 16 /* Text */) {\n        patchText(lastVNode, nextVNode);\n    }\n    else if (nextFlags & 512 /* Void */) {\n        nextVNode.dom = lastVNode.dom;\n    }\n    else {\n        patchPortal(lastVNode, nextVNode, context);\n    }\n}\nfunction patchContentEditableChildren(dom, nextVNode) {\n    if (dom.textContent !== nextVNode.children) {\n        dom.textContent = nextVNode.children;\n    }\n}\nfunction patchPortal(lastVNode, nextVNode, context) {\n    var lastContainer = lastVNode.type;\n    var nextContainer = nextVNode.type;\n    var nextChildren = nextVNode.children;\n    patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastVNode.children, nextChildren, lastContainer, context, false);\n    nextVNode.dom = lastVNode.dom;\n    if (lastContainer !== nextContainer && !isInvalid(nextChildren)) {\n        var node = nextChildren.dom;\n        lastContainer.removeChild(node);\n        nextContainer.appendChild(node);\n    }\n}\nfunction patchElement(lastVNode, nextVNode, parentDom, context, isSVG, nextFlags) {\n    var nextTag = nextVNode.type;\n    if (lastVNode.type !== nextTag) {\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, context, isSVG);\n    }\n    else {\n        var dom = lastVNode.dom;\n        var lastProps = lastVNode.props;\n        var nextProps = nextVNode.props;\n        var isFormElement = false;\n        var hasControlledValue = false;\n        var nextPropsOrEmpty;\n        nextVNode.dom = dom;\n        isSVG = isSVG || (nextFlags & 32 /* SvgElement */) > 0;\n        // inlined patchProps  -- starts --\n        if (lastProps !== nextProps) {\n            var lastPropsOrEmpty = lastProps || EMPTY_OBJ;\n            nextPropsOrEmpty = nextProps || EMPTY_OBJ;\n            if (nextPropsOrEmpty !== EMPTY_OBJ) {\n                isFormElement = (nextFlags & 448 /* FormElement */) > 0;\n                if (isFormElement) {\n                    hasControlledValue = isControlledFormElement(nextPropsOrEmpty);\n                }\n                for (var prop in nextPropsOrEmpty) {\n                    var lastValue = lastPropsOrEmpty[prop];\n                    var nextValue = nextPropsOrEmpty[prop];\n                    if (lastValue !== nextValue) {\n                        patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode);\n                    }\n                }\n            }\n            if (lastPropsOrEmpty !== EMPTY_OBJ) {\n                for (var prop$1 in lastPropsOrEmpty) {\n                    if (!nextPropsOrEmpty.hasOwnProperty(prop$1) && !isNullOrUndef(lastPropsOrEmpty[prop$1])) {\n                        patchProp(prop$1, lastPropsOrEmpty[prop$1], null, dom, isSVG, hasControlledValue, lastVNode);\n                    }\n                }\n            }\n        }\n        var lastChildren = lastVNode.children;\n        var nextChildren = nextVNode.children;\n        var nextRef = nextVNode.ref;\n        var lastClassName = lastVNode.className;\n        var nextClassName = nextVNode.className;\n        if (nextFlags & 4096 /* ContentEditable */) {\n            patchContentEditableChildren(dom, nextChildren);\n        }\n        else {\n            patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastChildren, nextChildren, dom, context, isSVG && nextTag !== 'foreignObject');\n        }\n        if (isFormElement) {\n            processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, false, hasControlledValue);\n        }\n        // inlined patchProps  -- ends --\n        if (lastClassName !== nextClassName) {\n            if (isNullOrUndef(nextClassName)) {\n                dom.removeAttribute('class');\n            }\n            else if (isSVG) {\n                dom.setAttribute('class', nextClassName);\n            }\n            else {\n                dom.className = nextClassName;\n            }\n        }\n        if (isFunction(nextRef) && lastVNode.ref !== nextRef) {\n            mountRef(dom, nextRef);\n        }\n    }\n}\nfunction patchChildren(lastChildFlags, nextChildFlags, lastChildren, nextChildren, parentDOM, context, isSVG) {\n    switch (lastChildFlags) {\n        case 2 /* HasVNodeChildren */:\n            switch (nextChildFlags) {\n                case 2 /* HasVNodeChildren */:\n                    patch(lastChildren, nextChildren, parentDOM, context, isSVG);\n                    break;\n                case 1 /* HasInvalidChildren */:\n                    remove(lastChildren, parentDOM);\n                    break;\n                default:\n                    remove(lastChildren, parentDOM);\n                    mountArrayChildren(nextChildren, parentDOM, context, isSVG);\n                    break;\n            }\n            break;\n        case 1 /* HasInvalidChildren */:\n            switch (nextChildFlags) {\n                case 2 /* HasVNodeChildren */:\n                    mount(nextChildren, parentDOM, context, isSVG);\n                    break;\n                case 1 /* HasInvalidChildren */:\n                    break;\n                default:\n                    mountArrayChildren(nextChildren, parentDOM, context, isSVG);\n                    break;\n            }\n            break;\n        default:\n            if (nextChildFlags & 12 /* MultipleChildren */) {\n                var lastLength = lastChildren.length;\n                var nextLength = nextChildren.length;\n                // Fast path's for both algorithms\n                if (lastLength === 0) {\n                    if (nextLength > 0) {\n                        mountArrayChildren(nextChildren, parentDOM, context, isSVG);\n                    }\n                }\n                else if (nextLength === 0) {\n                    removeAllChildren(parentDOM, lastChildren);\n                }\n                else if (nextChildFlags === 8 /* HasKeyedChildren */ && lastChildFlags === 8 /* HasKeyedChildren */) {\n                    patchKeyedChildren(lastChildren, nextChildren, parentDOM, context, isSVG, lastLength, nextLength);\n                }\n                else {\n                    patchNonKeyedChildren(lastChildren, nextChildren, parentDOM, context, isSVG, lastLength, nextLength);\n                }\n            }\n            else if (nextChildFlags === 1 /* HasInvalidChildren */) {\n                removeAllChildren(parentDOM, lastChildren);\n            }\n            else if (nextChildFlags === 2 /* HasVNodeChildren */) {\n                removeAllChildren(parentDOM, lastChildren);\n                mount(nextChildren, parentDOM, context, isSVG);\n            }\n            break;\n    }\n}\nfunction updateClassComponent(instance, nextState, nextVNode, nextProps, parentDom, context, isSVG, force, fromSetState) {\n    var lastState = instance.state;\n    var lastProps = instance.props;\n    nextVNode.children = instance;\n    var renderOutput;\n    if (instance.$UN) {\n        return;\n    }\n    if (lastProps !== nextProps || nextProps === EMPTY_OBJ) {\n        if (!fromSetState && isFunction(instance.componentWillReceiveProps)) {\n            instance.$BR = true;\n            instance.componentWillReceiveProps(nextProps, context);\n            // If instance component was removed during its own update do nothing.\n            if (instance.$UN) {\n                return;\n            }\n            instance.$BR = false;\n        }\n        if (instance.$PSS) {\n            nextState = combineFrom(nextState, instance.$PS);\n            instance.$PSS = false;\n            instance.$PS = null;\n        }\n    }\n    /* Update if scu is not defined, or it returns truthy value or force */\n    var hasSCU = Boolean(instance.shouldComponentUpdate);\n    if (force || !hasSCU || (hasSCU && instance.shouldComponentUpdate(nextProps, nextState, context))) {\n        if (isFunction(instance.componentWillUpdate)) {\n            instance.$BS = true;\n            instance.componentWillUpdate(nextProps, nextState, context);\n            instance.$BS = false;\n        }\n        instance.props = nextProps;\n        instance.state = nextState;\n        instance.context = context;\n        if (isFunction(options.beforeRender)) {\n            options.beforeRender(instance);\n        }\n        renderOutput = instance.render(nextProps, nextState, context);\n        if (isFunction(options.afterRender)) {\n            options.afterRender(instance);\n        }\n        var didUpdate = renderOutput !== NO_OP;\n        var childContext;\n        if (isFunction(instance.getChildContext)) {\n            childContext = instance.getChildContext();\n        }\n        if (isNullOrUndef(childContext)) {\n            childContext = context;\n        }\n        else {\n            childContext = combineFrom(context, childContext);\n        }\n        instance.$CX = childContext;\n        if (didUpdate) {\n            var lastInput = instance.$LI;\n            var nextInput = handleComponentInput(renderOutput, nextVNode);\n            patch(lastInput, nextInput, parentDom, childContext, isSVG);\n            instance.$LI = nextInput;\n            if (isFunction(instance.componentDidUpdate)) {\n                instance.componentDidUpdate(lastProps, lastState);\n            }\n        }\n    }\n    else {\n        instance.props = nextProps;\n        instance.state = nextState;\n        instance.context = context;\n    }\n    nextVNode.dom = instance.$LI.dom;\n}\nfunction patchComponent(lastVNode, nextVNode, parentDom, context, isSVG, isClass) {\n    var nextType = nextVNode.type;\n    var lastKey = lastVNode.key;\n    var nextKey = nextVNode.key;\n    if (lastVNode.type !== nextType || lastKey !== nextKey) {\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, context, isSVG);\n    }\n    else {\n        var nextProps = nextVNode.props || EMPTY_OBJ;\n        if (isClass) {\n            var instance = lastVNode.children;\n            instance.$UPD = true;\n            instance.$V = nextVNode;\n            updateClassComponent(instance, instance.state, nextVNode, nextProps, parentDom, context, isSVG, false, false);\n            instance.$UPD = false;\n        }\n        else {\n            var shouldUpdate = true;\n            var lastProps = lastVNode.props;\n            var nextHooks = nextVNode.ref;\n            var nextHooksDefined = !isNullOrUndef(nextHooks);\n            var lastInput = lastVNode.children;\n            nextVNode.dom = lastVNode.dom;\n            nextVNode.children = lastInput;\n            if (nextHooksDefined && isFunction(nextHooks.onComponentShouldUpdate)) {\n                shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps, nextProps);\n            }\n            if (shouldUpdate !== false) {\n                if (nextHooksDefined && isFunction(nextHooks.onComponentWillUpdate)) {\n                    nextHooks.onComponentWillUpdate(lastProps, nextProps);\n                }\n                var nextInput = nextType(nextProps, context);\n                if (nextInput !== NO_OP) {\n                    nextInput = handleComponentInput(nextInput, nextVNode);\n                    patch(lastInput, nextInput, parentDom, context, isSVG);\n                    nextVNode.children = nextInput;\n                    nextVNode.dom = nextInput.dom;\n                    if (nextHooksDefined && isFunction(nextHooks.onComponentDidUpdate)) {\n                        nextHooks.onComponentDidUpdate(lastProps, nextProps);\n                    }\n                }\n            }\n            else if (lastInput.flags & 14 /* Component */) {\n                lastInput.parentVNode = nextVNode;\n            }\n        }\n    }\n}\nfunction patchText(lastVNode, nextVNode) {\n    var nextText = nextVNode.children;\n    var dom = lastVNode.dom;\n    if (nextText !== lastVNode.children) {\n        dom.nodeValue = nextText;\n    }\n    nextVNode.dom = dom;\n}\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, context, isSVG, lastChildrenLength, nextChildrenLength) {\n    var commonLength = lastChildrenLength > nextChildrenLength ? nextChildrenLength : lastChildrenLength;\n    var i = 0;\n    var nextChild;\n    var lastChild;\n    for (; i < commonLength; i++) {\n        nextChild = nextChildren[i];\n        lastChild = lastChildren[i];\n        if (nextChild.dom) {\n            nextChild = nextChildren[i] = directClone(nextChild);\n        }\n        patch(lastChild, nextChild, dom, context, isSVG);\n        lastChildren[i] = nextChild;\n    }\n    if (lastChildrenLength < nextChildrenLength) {\n        for (i = commonLength; i < nextChildrenLength; i++) {\n            nextChild = nextChildren[i];\n            if (nextChild.dom) {\n                nextChild = nextChildren[i] = directClone(nextChild);\n            }\n            mount(nextChild, dom, context, isSVG);\n        }\n    }\n    else if (lastChildrenLength > nextChildrenLength) {\n        for (i = commonLength; i < lastChildrenLength; i++) {\n            remove(lastChildren[i], dom);\n        }\n    }\n}\nfunction patchKeyedChildren(a, b, dom, context, isSVG, aLength, bLength) {\n    var aEnd = aLength - 1;\n    var bEnd = bLength - 1;\n    var i;\n    var j = 0;\n    var aNode = a[j];\n    var bNode = b[j];\n    var nextPos;\n    // Step 1\n    // tslint:disable-next-line\n    outer: {\n        // Sync nodes with the same key at the beginning.\n        while (aNode.key === bNode.key) {\n            if (bNode.dom) {\n                b[j] = bNode = directClone(bNode);\n            }\n            patch(aNode, bNode, dom, context, isSVG);\n            a[j] = bNode;\n            j++;\n            if (j > aEnd || j > bEnd) {\n                break outer;\n            }\n            aNode = a[j];\n            bNode = b[j];\n        }\n        aNode = a[aEnd];\n        bNode = b[bEnd];\n        // Sync nodes with the same key at the end.\n        while (aNode.key === bNode.key) {\n            if (bNode.dom) {\n                b[bEnd] = bNode = directClone(bNode);\n            }\n            patch(aNode, bNode, dom, context, isSVG);\n            a[aEnd] = bNode;\n            aEnd--;\n            bEnd--;\n            if (j > aEnd || j > bEnd) {\n                break outer;\n            }\n            aNode = a[aEnd];\n            bNode = b[bEnd];\n        }\n    }\n    if (j > aEnd) {\n        if (j <= bEnd) {\n            nextPos = bEnd + 1;\n            var nextNode = nextPos < bLength ? b[nextPos].dom : null;\n            while (j <= bEnd) {\n                bNode = b[j];\n                if (bNode.dom) {\n                    b[j] = bNode = directClone(bNode);\n                }\n                j++;\n                insertOrAppend(dom, mount(bNode, null, context, isSVG), nextNode);\n            }\n        }\n    }\n    else if (j > bEnd) {\n        while (j <= aEnd) {\n            remove(a[j++], dom);\n        }\n    }\n    else {\n        var aStart = j;\n        var bStart = j;\n        var aLeft = aEnd - j + 1;\n        var bLeft = bEnd - j + 1;\n        var sources = [];\n        for (i = 0; i < bLeft; i++) {\n            sources.push(0);\n        }\n        // Keep track if its possible to remove whole DOM using textContent = '';\n        var canRemoveWholeContent = aLeft === aLength;\n        var moved = false;\n        var pos = 0;\n        var patched = 0;\n        // When sizes are small, just loop them through\n        if (bLength < 4 || (aLeft | bLeft) < 32) {\n            for (i = aStart; i <= aEnd; i++) {\n                aNode = a[i];\n                if (patched < bLeft) {\n                    for (j = bStart; j <= bEnd; j++) {\n                        bNode = b[j];\n                        if (aNode.key === bNode.key) {\n                            sources[j - bStart] = i + 1;\n                            if (canRemoveWholeContent) {\n                                canRemoveWholeContent = false;\n                                while (i > aStart) {\n                                    remove(a[aStart++], dom);\n                                }\n                            }\n                            if (pos > j) {\n                                moved = true;\n                            }\n                            else {\n                                pos = j;\n                            }\n                            if (bNode.dom) {\n                                b[j] = bNode = directClone(bNode);\n                            }\n                            patch(aNode, bNode, dom, context, isSVG);\n                            patched++;\n                            break;\n                        }\n                    }\n                    if (!canRemoveWholeContent && j > bEnd) {\n                        remove(aNode, dom);\n                    }\n                }\n                else if (!canRemoveWholeContent) {\n                    remove(aNode, dom);\n                }\n            }\n        }\n        else {\n            var keyIndex = {};\n            // Map keys by their index\n            for (i = bStart; i <= bEnd; i++) {\n                keyIndex[b[i].key] = i;\n            }\n            // Try to patch same keys\n            for (i = aStart; i <= aEnd; i++) {\n                aNode = a[i];\n                if (patched < bLeft) {\n                    j = keyIndex[aNode.key];\n                    if (j !== void 0) {\n                        if (canRemoveWholeContent) {\n                            canRemoveWholeContent = false;\n                            while (i > aStart) {\n                                remove(a[aStart++], dom);\n                            }\n                        }\n                        bNode = b[j];\n                        sources[j - bStart] = i + 1;\n                        if (pos > j) {\n                            moved = true;\n                        }\n                        else {\n                            pos = j;\n                        }\n                        if (bNode.dom) {\n                            b[j] = bNode = directClone(bNode);\n                        }\n                        patch(aNode, bNode, dom, context, isSVG);\n                        patched++;\n                    }\n                    else if (!canRemoveWholeContent) {\n                        remove(aNode, dom);\n                    }\n                }\n                else if (!canRemoveWholeContent) {\n                    remove(aNode, dom);\n                }\n            }\n        }\n        // fast-path: if nothing patched remove all old and add all new\n        if (canRemoveWholeContent) {\n            removeAllChildren(dom, a);\n            mountArrayChildren(b, dom, context, isSVG);\n        }\n        else {\n            if (moved) {\n                var seq = lis_algorithm(sources);\n                j = seq.length - 1;\n                for (i = bLeft - 1; i >= 0; i--) {\n                    if (sources[i] === 0) {\n                        pos = i + bStart;\n                        bNode = b[pos];\n                        if (bNode.dom) {\n                            b[pos] = bNode = directClone(bNode);\n                        }\n                        nextPos = pos + 1;\n                        insertOrAppend(dom, mount(bNode, null, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\n                    }\n                    else if (j < 0 || i !== seq[j]) {\n                        pos = i + bStart;\n                        bNode = b[pos];\n                        nextPos = pos + 1;\n                        insertOrAppend(dom, bNode.dom, nextPos < bLength ? b[nextPos].dom : null);\n                    }\n                    else {\n                        j--;\n                    }\n                }\n            }\n            else if (patched !== bLeft) {\n                // when patched count doesn't match b length we need to insert those new ones\n                // loop backwards so we can use insertBefore\n                for (i = bLeft - 1; i >= 0; i--) {\n                    if (sources[i] === 0) {\n                        pos = i + bStart;\n                        bNode = b[pos];\n                        if (bNode.dom) {\n                            b[pos] = bNode = directClone(bNode);\n                        }\n                        nextPos = pos + 1;\n                        insertOrAppend(dom, mount(bNode, null, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\n                    }\n                }\n            }\n        }\n    }\n}\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\nfunction lis_algorithm(arr) {\n    var p = arr.slice();\n    var result = [0];\n    var i;\n    var j;\n    var u;\n    var v;\n    var c;\n    var len = arr.length;\n    for (i = 0; i < len; i++) {\n        var arrI = arr[i];\n        if (arrI !== 0) {\n            j = result[result.length - 1];\n            if (arr[j] < arrI) {\n                p[i] = j;\n                result.push(i);\n                continue;\n            }\n            u = 0;\n            v = result.length - 1;\n            while (u < v) {\n                c = ((u + v) / 2) | 0;\n                if (arr[result[c]] < arrI) {\n                    u = c + 1;\n                }\n                else {\n                    v = c;\n                }\n            }\n            if (arrI < arr[result[u]]) {\n                if (u > 0) {\n                    p[i] = result[u - 1];\n                }\n                result[u] = i;\n            }\n        }\n    }\n    u = result.length;\n    v = result[u - 1];\n    while (u-- > 0) {\n        result[u] = v;\n        v = p[v];\n    }\n    return result;\n}\n\nvar documentBody = isBrowser ? document.body : null;\nfunction render(input, parentDom, callback) {\n    if (input === NO_OP) {\n        return;\n    }\n    var rootInput = parentDom.$V;\n    if (isNullOrUndef(rootInput)) {\n        if (!isInvalid(input)) {\n            if (input.dom) {\n                input = directClone(input);\n            }\n            if (isNull(parentDom.firstChild)) {\n                mount(input, parentDom, EMPTY_OBJ, false);\n                parentDom.$V = input;\n            }\n            else {\n                hydrate(input, parentDom);\n            }\n            rootInput = input;\n        }\n    }\n    else {\n        if (isNullOrUndef(input)) {\n            remove(rootInput, parentDom);\n            parentDom.$V = null;\n        }\n        else {\n            if (input.dom) {\n                input = directClone(input);\n            }\n            patch(rootInput, input, parentDom, EMPTY_OBJ, false);\n            rootInput = parentDom.$V = input;\n        }\n    }\n    if (LIFECYCLE.length > 0) {\n        callAll(LIFECYCLE);\n    }\n    if (isFunction(callback)) {\n        callback();\n    }\n    if (isFunction(options.renderComplete)) {\n        options.renderComplete(rootInput);\n    }\n    if (rootInput && rootInput.flags & 14 /* Component */) {\n        return rootInput.children;\n    }\n}\nfunction createRenderer(parentDom) {\n    return function renderer(lastInput, nextInput) {\n        if (!parentDom) {\n            parentDom = lastInput;\n        }\n        render(nextInput, parentDom);\n    };\n}\nfunction createPortal(children, container) {\n    return createVNode(1024 /* Portal */, container, null, children, 0 /* UnknownChildren */, null, isInvalid(children) ? null : children.key, null);\n}\n\nvar resolvedPromise = typeof Promise === 'undefined' ? null : Promise.resolve();\n// raf.bind(window) is needed to work around bug in IE10-IE11 strict mode (TypeError: Invalid calling object)\nvar fallbackMethod = typeof requestAnimationFrame === 'undefined' ? setTimeout : requestAnimationFrame.bind(window);\nfunction nextTick(fn) {\n    if (resolvedPromise) {\n        return resolvedPromise.then(fn);\n    }\n    return fallbackMethod(fn);\n}\nfunction queueStateChanges(component, newState, callback, force) {\n    if (isFunction(newState)) {\n        newState = newState(component.state, component.props, component.context);\n    }\n    var pending = component.$PS;\n    if (isNullOrUndef(pending)) {\n        component.$PS = newState;\n    }\n    else {\n        for (var stateKey in newState) {\n            pending[stateKey] = newState[stateKey];\n        }\n    }\n    if (!component.$PSS && !component.$BR) {\n        if (!component.$UPD) {\n            component.$PSS = true;\n            component.$UPD = true;\n            applyState(component, force, callback);\n            component.$UPD = false;\n        }\n        else {\n            // Async\n            var queue = component.$QU;\n            if (isNull(queue)) {\n                queue = component.$QU = [];\n                nextTick(promiseCallback(component, queue));\n            }\n            if (isFunction(callback)) {\n                queue.push(callback);\n            }\n        }\n    }\n    else {\n        component.$PSS = true;\n        if (component.$BR && isFunction(callback)) {\n            LIFECYCLE.push(callback.bind(component));\n        }\n    }\n}\nfunction promiseCallback(component, queue) {\n    return function () {\n        component.$QU = null;\n        component.$UPD = true;\n        applyState(component, false, function () {\n            for (var i = 0, len = queue.length; i < len; i++) {\n                queue[i].call(component);\n            }\n        });\n        component.$UPD = false;\n    };\n}\nfunction applyState(component, force, callback) {\n    if (component.$UN) {\n        return;\n    }\n    if (force || !component.$BR) {\n        component.$PSS = false;\n        var pendingState = component.$PS;\n        var prevState = component.state;\n        var nextState = combineFrom(prevState, pendingState);\n        var props = component.props;\n        var context = component.context;\n        component.$PS = null;\n        var vNode = component.$V;\n        var lastInput = component.$LI;\n        var parentDom = lastInput.dom && lastInput.dom.parentNode;\n        updateClassComponent(component, nextState, vNode, props, parentDom, context, (vNode.flags & 32 /* SvgElement */) > 0, force, true);\n        if (component.$UN) {\n            return;\n        }\n        if ((component.$LI.flags & 1024 /* Portal */) === 0) {\n            var dom = component.$LI.dom;\n            while (!isNull((vNode = vNode.parentVNode))) {\n                if ((vNode.flags & 14 /* Component */) > 0) {\n                    vNode.dom = dom;\n                }\n            }\n        }\n        if (LIFECYCLE.length > 0) {\n            callAll(LIFECYCLE);\n        }\n    }\n    else {\n        component.state = component.$PS;\n        component.$PS = null;\n    }\n    if (isFunction(callback)) {\n        callback.call(component);\n    }\n}\nvar Component = function Component(props, context) {\n    this.state = null;\n    // Internal properties\n    this.$BR = false; // BLOCK RENDER\n    this.$BS = true; // BLOCK STATE\n    this.$PSS = false; // PENDING SET STATE\n    this.$PS = null; // PENDING STATE (PARTIAL or FULL)\n    this.$LI = null; // LAST INPUT\n    this.$V = null; // VNODE\n    this.$UN = false; // UNMOUNTED\n    this.$CX = null; // CHILDCONTEXT\n    this.$UPD = true; // UPDATING\n    this.$QU = null; // QUEUE\n    /** @type {object} */\n    this.props = props || EMPTY_OBJ;\n    /** @type {object} */\n    this.context = context || EMPTY_OBJ; // context should not be mutable\n};\nComponent.prototype.forceUpdate = function forceUpdate (callback) {\n    if (this.$UN) {\n        return;\n    }\n    // Do not allow double render during force update\n    queueStateChanges(this, {}, callback, true);\n};\nComponent.prototype.setState = function setState (newState, callback) {\n    if (this.$UN) {\n        return;\n    }\n    if (!this.$BS) {\n        queueStateChanges(this, newState, callback, false);\n    }\n    else {\n        return;\n    }\n};\n// tslint:disable-next-line:no-empty\nComponent.prototype.render = function render (_nextProps, _nextState, _nextContext) { };\n\n\n\nvar JSX = /*#__PURE__*/Object.freeze({\n\n});\n\nvar version = \"5.6.2\";\n\nexport { Component, EMPTY_OBJ, NO_OP, createComponentVNode, createPortal, createRenderer, createTextVNode, createVNode, directClone, getFlagsForElementVnode, getNumberStyleValue, hydrate, linkEvent, normalizeProps, options, render, version, JSX };\n","import { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { Component } from 'inferno';\n\nvar TableComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TableComponent, _Component);\n\n  function TableComponent(props) {\n    var _this;\n\n    _classCallCheck(this, TableComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TableComponent).call(this, props));\n    var injector = _this._injector = props.injector;\n    _this._sheet = injector.get('sheet');\n    _this._changeSupport = injector.get('changeSupport');\n    _this._components = injector.get('components');\n    _this._eventBus = injector.get('eventBus');\n    var throttle = injector.get('throttle');\n    _this.onElementsChanged = _this.onElementsChanged.bind(_assertThisInitialized(_this));\n    _this.onScroll = throttle(_this.onScroll.bind(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TableComponent, [{\n    key: \"onElementsChanged\",\n    value: function onElementsChanged() {\n      this.forceUpdate();\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll() {\n      this._eventBus.fire('sheet.scroll');\n    }\n  }, {\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        changeSupport: this._changeSupport,\n        components: this._components,\n        injector: this._injector\n      };\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$_sheet$getRoot = this._sheet.getRoot(),\n          id = _this$_sheet$getRoot.id;\n\n      this._changeSupport.onElementsChanged(id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$_sheet$getRoot2 = this._sheet.getRoot(),\n          id = _this$_sheet$getRoot2.id;\n\n      this._changeSupport.offElementsChanged(id, this.onElementsChanged);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$_sheet$getRoot3 = this._sheet.getRoot(),\n          rows = _this$_sheet$getRoot3.rows,\n          cols = _this$_sheet$getRoot3.cols;\n\n      var beforeTableComponents = this._components.getComponents('table.before');\n\n      var afterTableComponents = this._components.getComponents('table.after');\n\n      var Head = this._components.getComponent('table.head');\n\n      var Body = this._components.getComponent('table.body');\n\n      var Foot = this._components.getComponent('table.foot');\n\n      return createVNode(1, \"div\", \"tjs-container\", [beforeTableComponents && beforeTableComponents.map(function (Component, index) {\n        return createComponentVNode(2, Component, null, index);\n      }), createVNode(1, \"div\", \"tjs-table-container\", createVNode(1, \"table\", \"tjs-table\", [Head && createComponentVNode(2, Head, {\n        \"rows\": rows,\n        \"cols\": cols\n      }), Body && createComponentVNode(2, Body, {\n        \"rows\": rows,\n        \"cols\": cols\n      }), Foot && createComponentVNode(2, Foot, {\n        \"rows\": rows,\n        \"cols\": cols\n      })], 0), 2, {\n        \"onScroll\": this.onScroll\n      }), afterTableComponents && afterTableComponents.map(function (Component, index) {\n        return createComponentVNode(2, Component, null, index);\n      })], 0);\n    }\n  }]);\n\n  return TableComponent;\n}(Component);\n\nexport { TableComponent as default };\n//# sourceMappingURL=TableComponent.js.map","import { createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { render } from 'inferno';\nimport TableComponent from './components/TableComponent';\n\nvar Renderer =\n/*#__PURE__*/\nfunction () {\n  function Renderer(changeSupport, components, config, eventBus, injector) {\n    _classCallCheck(this, Renderer);\n\n    var container = config.container;\n    this._container = container;\n    eventBus.on('root.added', function () {\n      render(createComponentVNode(2, TableComponent, {\n        \"injector\": injector\n      }), container);\n    });\n    eventBus.on('root.remove', function () {\n      render(null, container);\n    });\n  }\n\n  _createClass(Renderer, [{\n    key: \"getContainer\",\n    value: function getContainer() {\n      return this._container;\n    }\n  }]);\n\n  return Renderer;\n}();\n\nexport { Renderer as default };\nRenderer.$inject = ['changeSupport', 'components', 'config.renderer', 'eventBus', 'injector'];\n//# sourceMappingURL=Renderer.js.map","import ChangeSupport from './ChangeSupport';\nimport Components from './Components';\nimport Renderer from './Renderer';\nexport default {\n  __init__: ['changeSupport', 'components', 'renderer'],\n  changeSupport: ['type', ChangeSupport],\n  components: ['type', Components],\n  renderer: ['type', Renderer]\n};\n//# sourceMappingURL=index.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Sheet =\n/*#__PURE__*/\nfunction () {\n  function Sheet(elementRegistry, eventBus) {\n    var _this = this;\n\n    _classCallCheck(this, Sheet);\n\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n    this._root = null;\n    eventBus.on('table.clear', function () {\n      _this.setRoot(null);\n    });\n  }\n\n  _createClass(Sheet, [{\n    key: \"setRoot\",\n    value: function setRoot(root) {\n      if (this._root) {\n        var oldRoot = this._root;\n\n        this._eventBus.fire('root.remove', {\n          root: oldRoot\n        });\n\n        this._root = null;\n\n        this._eventBus.fire('root.removed', {\n          root: oldRoot\n        });\n      }\n\n      if (root) {\n        this._eventBus.fire('root.add', {\n          root: root\n        });\n      }\n\n      this._root = root;\n\n      if (root) {\n        this._eventBus.fire('root.added', {\n          root: root\n        });\n      }\n    }\n  }, {\n    key: \"getRoot\",\n    value: function getRoot() {\n      if (!this._root) {\n        this.setRoot({\n          id: '__implicitroot',\n          rows: [],\n          cols: []\n        });\n      }\n\n      return this._root;\n    }\n    /**\n     * Add row to sheet.\n     *\n     * @param {Object} row - Row.\n     */\n\n  }, {\n    key: \"addRow\",\n    value: function addRow(row, index) {\n      var _this2 = this;\n\n      var root = this.getRoot();\n\n      if (root.cols.length != row.cells.length) {\n        throw new Error('number of cells is not equal to number of cols');\n      }\n\n      if (typeof index === 'undefined') {\n        index = root.rows.length;\n      }\n\n      addAtIndex(index, root.rows, row);\n      row.root = root;\n\n      this._elementRegistry.add(row);\n\n      row.cells.forEach(function (cell, idx) {\n        _this2._elementRegistry.add(cell);\n\n        cell.row = row;\n        cell.col = root.cols[idx];\n        addAtIndex(index, root.cols[idx].cells, cell);\n      });\n\n      this._eventBus.fire('row.add', {\n        row: row\n      });\n\n      return row;\n    }\n    /**\n     * Remove row from sheet.\n     *\n     * @param {Object|string} row - Row or row ID.\n     */\n\n  }, {\n    key: \"removeRow\",\n    value: function removeRow(row) {\n      var _this3 = this;\n\n      var root = this.getRoot();\n\n      if (typeof row === 'string') {\n        row = this._elementRegistry.get(row);\n      }\n\n      var index = root.rows.indexOf(row);\n\n      if (index === -1) {\n        return;\n      }\n\n      removeAtIndex(index, root.rows);\n      row.root = undefined;\n\n      this._elementRegistry.remove(row);\n\n      row.cells.forEach(function (cell, idx) {\n        _this3._elementRegistry.remove(cell);\n\n        cell.col = undefined;\n        removeAtIndex(index, root.cols[idx].cells);\n      });\n\n      this._eventBus.fire('row.remove', {\n        row: row\n      });\n    }\n    /**\n     * Add col to sheet.\n     *\n     * @param {Object} col\n     * @param {Number} [index]\n     */\n\n  }, {\n    key: \"addCol\",\n    value: function addCol(col, index) {\n      var _this4 = this;\n\n      var root = this.getRoot();\n\n      this._elementRegistry.add(col);\n\n      if (root.rows.length != col.cells.length) {\n        throw new Error('number of cells is not equal to number of rows');\n      }\n\n      if (typeof index === 'undefined') {\n        index = root.cols.length;\n      }\n\n      addAtIndex(index, root.cols, col);\n      col.root = root;\n      col.cells.forEach(function (cell, idx) {\n        _this4._elementRegistry.add(cell);\n\n        cell.col = col;\n        cell.row = root.rows[idx];\n        addAtIndex(index, root.rows[idx].cells, cell);\n      });\n\n      this._eventBus.fire('col.add', {\n        col: col\n      });\n\n      return col;\n    }\n    /**\n     * Remove col from sheet.\n     *\n     * @param {Object|string} col - Col or col ID.\n     */\n\n  }, {\n    key: \"removeCol\",\n    value: function removeCol(col) {\n      var _this5 = this;\n\n      var root = this.getRoot();\n\n      if (typeof col === 'string') {\n        col = this._elementRegistry.get(col);\n      }\n\n      var index = root.cols.indexOf(col);\n\n      if (index === -1) {\n        return;\n      }\n\n      removeAtIndex(index, root.cols);\n      col.root = undefined;\n\n      this._elementRegistry.remove(col);\n\n      col.cells.forEach(function (cell, idx) {\n        _this5._elementRegistry.remove(cell);\n\n        cell.row = undefined;\n        removeAtIndex(index, root.rows[idx].cells);\n      });\n\n      this._eventBus.fire('col.remove', {\n        col: col\n      });\n    }\n  }, {\n    key: \"resized\",\n    value: function resized() {\n      this._eventBus.fire('sheet.resized');\n    }\n  }]);\n\n  return Sheet;\n}();\n\nexport { Sheet as default };\nSheet.$inject = ['elementRegistry', 'eventBus']; // helpers /////////////\n\n/**\n * Insert value\n *\n * @param {number} index - Index to insert value at.\n * @param {Array} array - Array to insert value into.\n * @param {*} value - Value to insert.\n */\n\nfunction addAtIndex(index, array, value) {\n  return array.splice(index, 0, value);\n}\n/**\n *\n * @param {number} index - Index to remove.\n * @param {Array} array - Array to remove from.\n */\n\n\nfunction removeAtIndex(index, array) {\n  return array.splice(index, 1);\n}\n//# sourceMappingURL=Sheet.js.map","import { throttle } from 'min-dash';\n/**\n * A factory to create a configurable throttler.\n *\n * @param {number|boolean} [config=true]\n */\n\nexport default function ThrottleFactory() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var timeout = typeof config === 'number' ? config : config ? 300 : 0;\n\n  if (timeout) {\n    return function (fn) {\n      return throttle(fn, timeout);\n    };\n  } else {\n    return function (fn) {\n      return fn;\n    };\n  }\n}\nThrottleFactory.$inject = ['config.throttle'];\n//# sourceMappingURL=Throttle.js.map","import ElementFactory from './ElementFactory';\nimport ElementRegistry from './ElementRegistry';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport renderModule from '../render';\nimport Sheet from './Sheet';\nimport Throttle from './Throttle';\nexport default {\n  __depends__: [renderModule],\n  __init__: ['elementFactory', 'sheet'],\n  elementFactory: ['type', ElementFactory],\n  elementRegistry: ['type', ElementRegistry],\n  eventBus: ['type', EventBus],\n  sheet: ['type', Sheet],\n  throttle: ['factory', Throttle]\n};\n//# sourceMappingURL=index.js.map","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { Injector } from 'didi';\nimport core from './core';\n\nvar Table =\n/*#__PURE__*/\nfunction () {\n  function Table() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Table);\n\n    var injector = options.injector;\n\n    if (!injector) {\n      var _this$_init = this._init(options),\n          modules = _this$_init.modules,\n          config = _this$_init.config;\n\n      injector = createInjector(config, modules);\n    }\n\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('table.init');\n    this.get('eventBus').fire('diagram.init');\n  }\n  /**\n   * Intialize table and return modules and config used for creation.\n   *\n   * @param  {Object} options\n   *\n   * @return {Object} { modules=[], config }\n   */\n\n\n  _createClass(Table, [{\n    key: \"_init\",\n    value: function _init(options) {\n      var modules = options.modules,\n          config = _objectWithoutProperties(options, [\"modules\"]);\n\n      return {\n        modules: modules,\n        config: config\n      };\n    }\n    /**\n     * Destroys the table. This results in removing the attachment from the container.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var eventBus = this.get('eventBus');\n      eventBus.fire('table.destroy');\n      eventBus.fire('diagram.destroy');\n    }\n    /**\n     * Clears the table. Should be used to reset the state of any stateful services.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var eventBus = this.get('eventBus');\n      eventBus.fire('table.clear');\n      eventBus.fire('diagram.clear');\n    }\n  }]);\n\n  return Table;\n}(); // helpers /////////////\n\n\nexport { Table as default };\n\nfunction bootstrap(bootstrapModules) {\n  var modules = [],\n      components = [];\n\n  function hasModule(m) {\n    return modules.indexOf(m) >= 0;\n  }\n\n  function addModule(m) {\n    modules.push(m);\n  }\n\n  function visit(m) {\n    if (hasModule(m)) {\n      return;\n    }\n\n    (m.__depends__ || []).forEach(visit);\n\n    if (hasModule(m)) {\n      return;\n    }\n\n    addModule(m);\n    (m.__init__ || []).forEach(function (c) {\n      components.push(c);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n  var injector = new Injector(modules);\n  components.forEach(function (c) {\n    try {\n      // eagerly resolve component (fn or string)\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\n    } catch (e) {\n      console.error('Failed to instantiate component');\n      console.error(e.stack);\n      throw e;\n    }\n  });\n  return injector;\n}\n\nfunction createInjector(config, modules) {\n  var bootstrapModules = [{\n    config: ['value', config]\n  }, core].concat(modules || []);\n  return bootstrap(bootstrapModules);\n}\n//# sourceMappingURL=Table.js.map","import Table from './Table';\nexport default Table;\n//# sourceMappingURL=index.js.map","export function elementToString(element) {\n  if (!element) {\n    return '<null>';\n  }\n\n  var id = element.id ? \" id=\\\"\".concat(element.id, \"\\\"\") : '';\n  return \"<\".concat(element.$type).concat(id, \" />\");\n}\n//# sourceMappingURL=Util.js.map","import { forEach } from 'min-dash';\nimport { elementToString } from './Util';\nexport default function TableTreeWalker(handler, options) {\n  function visit(element, ctx, definitions) {\n    var gfx = element.gfx; // avoid multiple rendering of elements\n\n    if (gfx) {\n      throw new Error(\"already rendered \".concat(elementToString(element)));\n    } // call handler\n\n\n    return handler.element(element, ctx, definitions);\n  }\n\n  function visitTable(element) {\n    return handler.table(element);\n  } // Semantic handling //////////////////////\n\n\n  function handleDecision(decision) {\n    if (!decision.id) {\n      decision.id = 'decision';\n    }\n\n    var table = decision.decisionLogic;\n\n    if (table) {\n      if (!table.output) {\n        throw new Error(\"missing output for \".concat(elementToString(table)));\n      }\n\n      var ctx = visitTable(table);\n\n      if (table.input) {\n        handleClauses(table.input, ctx, table);\n      }\n\n      handleClauses(table.output, ctx, table); // if any input or output clauses (columns) were added\n      // make sure that for each rule the according input/output entry is created\n\n      handleRules(table.rule, ctx, table);\n    } else {\n      throw new Error(\"no table for \".concat(elementToString(decision)));\n    }\n  }\n\n  function handleClauses(clauses, context, definitions) {\n    forEach(clauses, function (e) {\n      visit(e, context, definitions);\n    });\n  }\n\n  function handleRules(rules, context, definitions) {\n    forEach(rules, function (e) {\n      visit(e, context, definitions);\n      handleEntry(e.inputEntry, e);\n      handleEntry(e.outputEntry, e);\n    });\n  }\n\n  function handleEntry(entry, context, definitions) {\n    forEach(entry, function (e) {\n      visit(e, context, definitions);\n    });\n  } // API //////////////////////\n\n\n  return {\n    handleDecision: handleDecision\n  };\n}\n//# sourceMappingURL=TableTreeWalker.js.map","import translate from './translate';\n\nexport default {\n  translate: [ 'value', translate ]\n};","/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n *\n * @param {string} template to interpolate\n * @param {Object} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nexport default function translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nexport function inject(component) {\n  var Type = component.constructor;\n  return injectType(Type, component);\n}\nexport function injectType(Type, component) {\n  var annotation = Type.$inject;\n\n  if (!annotation) {\n    return;\n  }\n\n  var injector = component.context.injector;\n  var setupFn = [].concat(_toConsumableArray(annotation), [function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    for (var idx in args) {\n      var name = annotation[idx];\n      var value = args[idx];\n      component[name] = value;\n    }\n  }]);\n  injector.invoke(setupFn);\n}\n//# sourceMappingURL=inject.js.map","import compose from './compose';\nimport { injectType } from './inject';\n/**\n * A Component and injection aware mixin mechanism.\n *\n * @param {Component} component\n * @param {Object|Function} mixinDef\n */\n\nexport default function mixin(component, mixinDef) {\n  Object.keys(mixinDef).forEach(function (key) {\n    if (key === '$inject' || key === '__init') {\n      return;\n    }\n\n    var mixinFn = mixinDef[key];\n\n    if (key === 'constructor') {\n      mixinFn.call(component, component.props, component.context);\n    }\n\n    var componentFn = component[key];\n\n    if (typeof componentFn !== 'undefined') {\n      if (typeof componentFn !== 'function') {\n        throw new Error(\"failed to mixin <\".concat(key, \">: cannot combine with non-fn component value\"));\n      }\n\n      component[key] = compose(component, componentFn, mixinFn);\n    } else {\n      component[key] = mixinFn.bind(component);\n    }\n  });\n\n  if ('$inject' in mixinDef) {\n    injectType(mixinDef, component);\n  } // call initializer\n\n\n  if ('__init' in mixinDef) {\n    mixinDef.__init.call(component, component.props, component.context);\n  }\n}\n//# sourceMappingURL=mixin.js.map","/**\n * Composes a number of functions.\n *\n * All receive the the same arguments; the chain is interruped as soon\n * as one function returns a value.\n *\n * @param  {Object}    self\n * @param  {...Function} fns\n *\n * @return {Object}\n */\nexport default function compose(self) {\n  for (var _len = arguments.length, fns = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    fns[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var result;\n    fns.forEach(function (fn) {\n      result = fn.call.apply(fn, [self].concat(args));\n\n      if (typeof result !== 'undefined') {\n        return false;\n      }\n    });\n    return result;\n  }.bind(self);\n}\n//# sourceMappingURL=compose.js.map","var _excluded = [\"type\", \"context\"],\n    _excluded2 = [\"type\", \"context\"];\nimport { createComponentVNode, normalizeProps } from \"inferno\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/**\n * A simple slot extension, built upon the components service.\n *\n * @type {Object}\n */\nvar ComponentWithSlots = {\n  slotFill: function slotFill(slotProps, DefaultFill) {\n    var type = slotProps.type,\n        context = slotProps.context,\n        props = _objectWithoutProperties(slotProps, _excluded);\n\n    var Fill = this.components.getComponent(type, context) || DefaultFill;\n\n    if (Fill) {\n      return normalizeProps(createComponentVNode(2, Fill, _objectSpread(_objectSpread({}, context), props)));\n    }\n\n    return null;\n  },\n  slotFills: function slotFills(slotProps) {\n    var type = slotProps.type,\n        context = slotProps.context,\n        props = _objectWithoutProperties(slotProps, _excluded2);\n\n    var fills = this.components.getComponents(type, context);\n    return fills.map(function (Fill) {\n      return normalizeProps(createComponentVNode(2, Fill, _objectSpread(_objectSpread({}, context), props)));\n    });\n  }\n};\nexport default ComponentWithSlots;\nComponentWithSlots.$inject = ['components'];\n//# sourceMappingURL=ComponentWithSlots.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { inject, mixin } from 'table-js/lib/components';\nimport { ComponentWithSlots } from 'dmn-js-shared/lib/components/mixins';\nvar MIN_WIDTH = 400;\n\nvar AnnotationHeader = /*#__PURE__*/function (_Component) {\n  _inherits(AnnotationHeader, _Component);\n\n  var _super = _createSuper(AnnotationHeader);\n\n  function AnnotationHeader(props, context) {\n    var _this;\n\n    _classCallCheck(this, AnnotationHeader);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    mixin(_assertThisInitialized(_this), ComponentWithSlots);\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AnnotationHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.changeSupport.onElementsChanged(this.getRoot(), this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.changeSupport.offElementsChanged(this.getRoot(), this.onElementsChanged);\n    }\n  }, {\n    key: \"getRoot\",\n    value: function getRoot() {\n      return this.sheet.getRoot();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var decisionTable = this.getRoot();\n      var annotationsWidth = decisionTable.businessObject.get('annotationsWidth');\n      var width = (annotationsWidth || MIN_WIDTH) + 'px';\n      return createVNode(1, \"th\", \"annotation header\", [this.slotFills({\n        type: 'cell-inner',\n        context: {\n          cellType: 'annotations',\n          col: this.sheet.getRoot(),\n          minWidth: MIN_WIDTH\n        }\n      }), this.translate('Annotations')], 0, {\n        \"style\": {\n          width: width\n        }\n      });\n    }\n  }]);\n\n  return AnnotationHeader;\n}(Component);\n\nexport { AnnotationHeader as default };\nAnnotationHeader.$inject = ['changeSupport', 'sheet', 'translate'];\n//# sourceMappingURL=AnnotationHeader.js.map","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction newSet() {\n  return {\n    elements: [],\n    index: {}\n  };\n}\n\nfunction add(set, element) {\n  var elements = set.elements,\n      index = set.index;\n\n  if (index[element]) {\n    return set;\n  } else {\n    return {\n      elements: [].concat(_toConsumableArray(elements), [element]),\n      index: _objectSpread({}, index, _defineProperty({}, element, true))\n    };\n  }\n}\n\nfunction join(set, separator) {\n  return set.elements.join(separator);\n}\n\nexport default function classNames() {\n  var set = newSet();\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  args.forEach(function (item) {\n    var type = _typeof(item);\n\n    if (type === 'string' && item.length > 0) {\n      set = add(set, item);\n    } else if (type === 'object' && item !== null) {\n      Object.keys(item).forEach(function (key) {\n        var value = item[key];\n\n        if (value) {\n          set = add(set, key);\n        }\n      });\n    }\n  });\n  return join(set, ' ');\n}\n//# sourceMappingURL=classNames.js.map","import { classNames } from '../utils';\n/**\n * A mixin to make an element _selection aware_.\n */\n\nvar SelectionAware = {\n  getSelectionClasses: function getSelectionClasses() {\n    var _this$state = this.state,\n        selected = _this$state.selected,\n        selectedSecondary = _this$state.selectedSecondary,\n        focussed = _this$state.focussed;\n    return classNames({\n      'selected': selected,\n      'selected-secondary': selectedSecondary,\n      'focussed': focussed\n    });\n  },\n  selectionChanged: function selectionChanged(newSelection) {\n    // newSelection = { selected, selectedSecondary, focussed }\n    this.setState(newSelection);\n  },\n  componentWillUpdate: function componentWillUpdate(newProps) {\n    if (newProps.elementId !== this.props.elementId) {\n      this.updateSelectionSubscription(false);\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(oldProps) {\n    if (oldProps.elementId !== this.props.elementId) {\n      this.updateSelectionSubscription(true);\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    this.updateSelectionSubscription(true);\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.updateSelectionSubscription(false);\n  },\n  updateSelectionSubscription: function updateSelectionSubscription(enable) {\n    var elementId = this.props.elementId;\n\n    if (!elementId) {\n      return;\n    }\n\n    if (elementId) {\n      this.eventBus[enable ? 'on' : 'off'](\"selection.\".concat(elementId, \".changed\"), this.selectionChanged);\n    }\n  }\n};\nexport default SelectionAware;\nSelectionAware.$inject = ['eventBus'];\n//# sourceMappingURL=SelectionAware.js.map","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { Component } from 'inferno';\nimport { classNames, inject, mixin } from './utils';\nimport { SelectionAware } from './mixins';\n\nvar BaseCell =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BaseCell, _Component);\n\n  function BaseCell(props, context) {\n    var _this;\n\n    _classCallCheck(this, BaseCell);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BaseCell).call(this, props, context));\n    mixin(_assertThisInitialized(_this), SelectionAware);\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BaseCell, [{\n    key: \"getRenderProps\",\n    value: function getRenderProps() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          elementId = _this$props.elementId,\n          coords = _this$props.coords,\n          props = _objectWithoutProperties(_this$props, [\"className\", \"elementId\", \"coords\"]);\n\n      for (var _len = arguments.length, cls = new Array(_len), _key = 0; _key < _len; _key++) {\n        cls[_key] = arguments[_key];\n      }\n\n      var baseProps = {\n        className: classNames.apply(void 0, cls.concat([this.getSelectionClasses(), className]))\n      };\n\n      if (elementId) {\n        baseProps['data-element-id'] = elementId;\n      }\n\n      if (coords) {\n        baseProps['data-coords'] = coords;\n      }\n\n      return _objectSpread({}, baseProps, {}, props);\n    }\n  }]);\n\n  return BaseCell;\n}(Component);\n\nexport { BaseCell as default };\n//# sourceMappingURL=BaseCell.js.map","import { createVNode, normalizeProps } from \"inferno\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport BaseCell from './BaseCell';\n\nvar HeaderCell =\n/*#__PURE__*/\nfunction (_BaseCell) {\n  _inherits(HeaderCell, _BaseCell);\n\n  function HeaderCell(props, context) {\n    var _this;\n\n    _classCallCheck(this, HeaderCell);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HeaderCell).call(this, props, context));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(HeaderCell, [{\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var props = this.getRenderProps('cell');\n      return normalizeProps(createVNode(1, \"td\", null, children, 0, _objectSpread({}, props)));\n    }\n  }]);\n\n  return HeaderCell;\n}(BaseCell);\n\nexport { HeaderCell as default };\n//# sourceMappingURL=Cell.js.map","import { createComponentVNode } from \"inferno\";\nimport { Cell } from 'table-js/lib/components';\nexport default function AnnotationCell(props) {\n  var row = props.row;\n  var _row$businessObject = row.businessObject,\n      id = _row$businessObject.id,\n      description = _row$businessObject.description;\n  return createComponentVNode(2, Cell, {\n    \"className\": \"annotation\",\n    \"elementId\": id,\n    children: description || '-'\n  });\n}\n//# sourceMappingURL=AnnotationCell.js.map","import AnnotationHeader from './components/AnnotationHeader';\nimport AnnotationCell from './components/AnnotationCell';\nexport default function AnnotationsProvider(components) {\n  components.onGetComponent('cell', function (_ref) {\n    var cellType = _ref.cellType;\n\n    if (cellType === 'after-label-cells') {\n      return AnnotationHeader;\n    } else if (cellType === 'after-rule-cells') {\n      return AnnotationCell;\n    }\n  });\n}\nAnnotationsProvider.$inject = ['components'];\n//# sourceMappingURL=AnnotationsProvider.js.map","import AnnotationsProvider from './AnnotationsProvider';\nexport default {\n  __init__: ['annotationsProvider'],\n  annotationsProvider: ['type', AnnotationsProvider]\n};\n//# sourceMappingURL=index.js.map","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { assign } from 'min-dash';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nfunction elementData(semantic, attrs) {\n  return assign({\n    id: semantic.id,\n    type: semantic.$type,\n    businessObject: semantic\n  }, attrs);\n}\n\nvar TableImporter = /*#__PURE__*/function () {\n  function TableImporter(elementFactory, eventBus, sheet) {\n    _classCallCheck(this, TableImporter);\n\n    this._elementFactory = elementFactory;\n    this._eventBus = eventBus;\n    this._sheet = sheet;\n  }\n  /**\n   * Add DMN element.\n   */\n\n\n  _createClass(TableImporter, [{\n    key: \"add\",\n    value: function add(semantic) {\n      var _this = this;\n\n      var element; // decision table\n\n      if (is(semantic, 'dmn:DecisionTable')) {\n        element = this._elementFactory.createRoot(elementData(semantic));\n\n        this._sheet.setRoot(element);\n      } // input clause\n      else if (is(semantic, 'dmn:InputClause')) {\n        element = this._elementFactory.createCol(elementData(semantic));\n\n        this._sheet.addCol(element);\n      } // output clause\n      else if (is(semantic, 'dmn:OutputClause')) {\n        element = this._elementFactory.createCol(elementData(semantic));\n\n        this._sheet.addCol(element);\n      } // rule\n      else if (is(semantic, 'dmn:DecisionRule')) {\n        if (!semantic.inputEntry) {\n          semantic.inputEntry = [];\n        }\n\n        if (!semantic.outputEntry) {\n          semantic.outputEntry = [];\n        }\n\n        var cells = [].concat(_toConsumableArray(semantic.inputEntry), _toConsumableArray(semantic.outputEntry)).map(function (entry) {\n          return _this._elementFactory.createCell(elementData(entry));\n        });\n        element = this._elementFactory.createRow(assign(elementData(semantic), {\n          cells: cells\n        }));\n\n        this._sheet.addRow(element);\n      }\n\n      this._eventBus.fire('dmnElement.added', {\n        element: element\n      });\n\n      return element;\n    }\n  }]);\n\n  return TableImporter;\n}();\n\nexport { TableImporter as default };\nTableImporter.$inject = ['elementFactory', 'eventBus', 'sheet'];\n//# sourceMappingURL=TableImporter.js.map","import TableImporter from './TableImporter';\nimport DiagramTranslate from 'diagram-js/lib/i18n/translate';\nexport default {\n  __depends__: [DiagramTranslate],\n  tableImporter: ['type', TableImporter]\n};\n//# sourceMappingURL=index.js.map","import importModule from '../import';\nimport renderModule from 'table-js/lib/render';\nexport default {\n  __depends__: [importModule, renderModule]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { is, getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { Component } from 'inferno';\nimport { mixin } from 'table-js/lib/components';\nimport { ComponentWithSlots } from 'dmn-js-shared/lib/components/mixins';\n\nvar DecisionTableHead = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionTableHead, _Component);\n\n  var _super = _createSuper(DecisionTableHead);\n\n  function DecisionTableHead(props, context) {\n    var _this;\n\n    _classCallCheck(this, DecisionTableHead);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    mixin(_assertThisInitialized(_this), ComponentWithSlots);\n    _this._sheet = context.injector.get('sheet');\n    _this._changeSupport = context.changeSupport;\n    return _this;\n  }\n\n  _createClass(DecisionTableHead, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var root = this._sheet.getRoot();\n\n      this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var root = this._sheet.getRoot();\n\n      this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var root = this._sheet.getRoot();\n\n      if (!is(root, 'dmn:DMNElement')) {\n        return null;\n      }\n\n      var businessObject = getBusinessObject(root);\n      var inputs = businessObject.input,\n          outputs = businessObject.output;\n      return createVNode(1, \"thead\", null, createVNode(1, \"tr\", null, [createVNode(1, \"th\", \"index-column\"), this.slotFills({\n        type: 'cell',\n        context: {\n          cellType: 'before-label-cells'\n        }\n      }), inputs && inputs.map(function (input, index) {\n        var width = input.width || '192px';\n        return _this2.slotFill({\n          type: 'cell',\n          context: {\n            cellType: 'input-header',\n            input: input,\n            index: index,\n            inputsLength: inputs.length,\n            width: width\n          },\n          key: input.id\n        }, DefaultInputHeaderCell);\n      }), outputs.map(function (output, index) {\n        return _this2.slotFill({\n          type: 'cell',\n          context: {\n            cellType: 'output-header',\n            output: output,\n            index: index,\n            outputsLength: outputs.length\n          },\n          key: output.id\n        }, DefaultOutputHeaderCell);\n      }), this.slotFills({\n        type: 'cell',\n        context: {\n          cellType: 'after-label-cells'\n        }\n      })], 0), 2);\n    }\n  }]);\n\n  return DecisionTableHead;\n}(Component); // default components ///////////////////////\n\n\nexport { DecisionTableHead as default };\n\nfunction DefaultInputHeaderCell(props, context) {\n  var input = props.input,\n      className = props.className,\n      index = props.index;\n  var label = input.label,\n      inputExpression = input.inputExpression,\n      inputValues = input.inputValues;\n  var translate = context.injector.get('translate');\n  var actualClassName = (className || '') + ' input-cell';\n  return createVNode(1, \"th\", actualClassName, [createVNode(1, \"div\", \"clause\", index === 0 ? translate('When') : translate('And'), 0), label ? createVNode(1, \"div\", \"input-label\", label, 0, {\n    \"title\": translate('Input Label')\n  }) : createVNode(1, \"div\", \"input-expression\", inputExpression.text, 0, {\n    \"title\": translate('Input Expression')\n  }), createVNode(1, \"div\", \"input-variable\", inputValues && inputValues.text || inputExpression.typeRef, 0, {\n    \"title\": inputValues && inputValues.text ? translate('Input Values') : translate('Input Type')\n  })], 0, {\n    \"data-col-id\": input.id\n  }, input.id);\n}\n\nfunction DefaultOutputHeaderCell(props, context) {\n  var output = props.output,\n      className = props.className,\n      index = props.index;\n  var label = output.label,\n      name = output.name,\n      outputValues = output.outputValues,\n      typeRef = output.typeRef;\n  var translate = context.injector.get('translate');\n  var actualClassName = (className || '') + ' output-cell';\n  return createVNode(1, \"th\", actualClassName, [createVNode(1, \"div\", \"clause\", index === 0 ? translate('Then') : translate('And'), 0), label ? createVNode(1, \"div\", \"output-label\", label, 0, {\n    \"title\": translate('Output Label')\n  }) : createVNode(1, \"div\", \"output-name\", name, 0, {\n    \"title\": translate('Output Name')\n  }), createVNode(1, \"div\", \"output-variable\", outputValues && outputValues.text || typeRef, 0, {\n    \"title\": outputValues && outputValues.text ? translate('Output Values') : translate('Output Type')\n  })], 0, null, output.id);\n}\n//# sourceMappingURL=DecisionTableHead.js.map","import DecisionTableHead from './components/DecisionTableHead';\nexport default function DecisionTableHeadProvider(components) {\n  components.onGetComponent('table.head', function () {\n    return DecisionTableHead;\n  });\n}\nDecisionTableHeadProvider.$inject = ['components'];\n//# sourceMappingURL=DecisionTableHeadProvider.js.map","import DecisionTableHeadProvider from './DecisionTableHeadProvider';\nexport default {\n  __init__: ['decisionTableHeadProvider'],\n  decisionTableHeadProvider: ['type', DecisionTableHeadProvider]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { inject } from 'table-js/lib/components';\n\nvar DecisionTablePropertiesComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionTablePropertiesComponent, _Component);\n\n  var _super = _createSuper(DecisionTablePropertiesComponent);\n\n  function DecisionTablePropertiesComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, DecisionTablePropertiesComponent);\n\n    _this = _super.call(this, props, context);\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DecisionTablePropertiesComponent, [{\n    key: \"render\",\n    value: function render() {\n      var root = this.sheet.getRoot();\n\n      if (!is(root, 'dmn:DMNElement')) {\n        return null;\n      }\n\n      var name = root.businessObject.$parent.name;\n      var HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\n      return createVNode(1, \"div\", \"decision-table-properties\", [createVNode(1, \"div\", \"decision-table-name\", name, 0, {\n        \"title\": 'Decision Name: ' + name\n      }), createVNode(1, \"div\", \"decision-table-header-separator\"), createComponentVNode(2, HitPolicy)], 4);\n    }\n  }]);\n\n  return DecisionTablePropertiesComponent;\n}(Component);\n\nexport { DecisionTablePropertiesComponent as default };\nDecisionTablePropertiesComponent.$inject = ['sheet', 'components'];\n\nfunction NullComponent() {\n  return null;\n}\n//# sourceMappingURL=DecisionTablePropertiesComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport Component from './components/DecisionTablePropertiesComponent';\nvar LOW_PRIORITY = 500;\n\nvar DecisionTableProperties = /*#__PURE__*/_createClass(function DecisionTableProperties(components) {\n  _classCallCheck(this, DecisionTableProperties);\n\n  components.onGetComponent('table.before', LOW_PRIORITY, function () {\n    return Component;\n  });\n});\n\nexport { DecisionTableProperties as default };\nDecisionTableProperties.$inject = ['components'];\n//# sourceMappingURL=DecisionTableProperties.js.map","import DecisionTableProperties from './DecisionTableProperties';\nexport default {\n  __init__: ['decisionTableProperties'],\n  decisionTableProperties: ['type', DecisionTableProperties]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\n\nvar DecisionRulesIndexCellComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionRulesIndexCellComponent, _Component);\n\n  var _super = _createSuper(DecisionRulesIndexCellComponent);\n\n  function DecisionRulesIndexCellComponent() {\n    _classCallCheck(this, DecisionRulesIndexCellComponent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DecisionRulesIndexCellComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          row = _this$props.row,\n          rowIndex = _this$props.rowIndex;\n      var components = this.context.components;\n      var innerComponents = components.getComponents('cell-inner', {\n        cellType: 'rule-index',\n        row: row,\n        rowIndex: rowIndex\n      });\n      return createVNode(1, \"td\", \"rule-index\", [innerComponents && innerComponents.map(function (InnerComponent) {\n        return createComponentVNode(2, InnerComponent, {\n          \"row\": row,\n          \"rowIndex\": rowIndex\n        });\n      }), rowIndex + 1], 0, {\n        \"data-element-id\": row.id,\n        \"data-row-id\": row.id\n      });\n    }\n  }]);\n\n  return DecisionRulesIndexCellComponent;\n}(Component);\n\nexport { DecisionRulesIndexCellComponent as default };\n//# sourceMappingURL=DecisionRuleIndexCellComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport DecisionRuleIndexCellComponent from './components/DecisionRuleIndexCellComponent';\n\nvar DecisionRuleIndices = /*#__PURE__*/_createClass(function DecisionRuleIndices(components) {\n  _classCallCheck(this, DecisionRuleIndices);\n\n  components.onGetComponent('cell', function (_ref) {\n    var cellType = _ref.cellType;\n\n    if (cellType === 'before-rule-cells') {\n      return DecisionRuleIndexCellComponent;\n    }\n  });\n});\n\nexport { DecisionRuleIndices as default };\nDecisionRuleIndices.$inject = ['components'];\n//# sourceMappingURL=DecisionRuleIndices.js.map","import DecisionRuleIndices from './DecisionRuleIndices';\nexport default {\n  __init__: ['decisionRuleIndices'],\n  decisionRuleIndices: ['type', DecisionRuleIndices]\n};\n//# sourceMappingURL=index.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { assign, find } from 'min-dash';\nvar EXPRESSION_LANGUAGE_OPTIONS = [{\n  label: 'FEEL',\n  value: 'feel'\n}, {\n  label: 'JUEL',\n  value: 'juel'\n}, {\n  label: 'JavaScript',\n  value: 'javascript'\n}, {\n  label: 'Groovy',\n  value: 'groovy'\n}, {\n  label: 'Python',\n  value: 'python'\n}, {\n  label: 'JRuby',\n  value: 'jruby'\n}];\n/**\n * @typedef ExpressionLanguageDescriptor\n * @property {string} value - value inserted into XML\n * @property {string} label - human-readable label\n */\n\n/**\n * Provide options and defaults of expression languages via config.\n *\n * @example\n *\n * // there will be two languages available with FEEL as default\n * const editor = new DmnJS({\n *   expressionLanguages: {\n *     options: [{\n *       value: 'feel',\n *       label: 'FEEL'\n *     }, {\n *       value: 'juel',\n *       label: 'JUEL'\n *     }],\n *     defaults: {\n *       editor: 'feel'\n *     }\n *   }\n * })\n */\n\nvar ExpressionLanguages = /*#__PURE__*/function () {\n  function ExpressionLanguages(injector) {\n    _classCallCheck(this, ExpressionLanguages);\n\n    this._injector = injector;\n    var config = injector.get('config.expressionLanguages') || {};\n    this._config = {\n      options: EXPRESSION_LANGUAGE_OPTIONS,\n      defaults: {\n        editor: 'feel'\n      }\n    }; // first assign the list of languages as it might be required for the legacy defaults\n\n    if (config.options) {\n      this._config.options = config.options;\n    }\n\n    var legacyDefaults = this._getLegacyDefaults();\n\n    assign(this._config.defaults, legacyDefaults, config.defaults);\n  }\n  /**\n   * Get default expression language for a component or the editor if `componentName`\n   * is not provided.\n   *\n   * @param {string} [componentName]\n   * @returns {ExpressionLanguageDescriptor}\n   */\n\n\n  _createClass(ExpressionLanguages, [{\n    key: \"getDefault\",\n    value: function getDefault(componentName) {\n      var defaults = this._config.defaults;\n      var defaultFromConfig = defaults[componentName] || defaults.editor;\n      return this._getLanguageByValue(defaultFromConfig) || this.getAll()[0];\n    }\n    /**\n     * Get label for provided expression language.\n     *\n     * @param {string} expressionLanguageValue - value from XML\n     * @returns {string}\n     */\n\n  }, {\n    key: \"getLabel\",\n    value: function getLabel(expressionLanguageValue) {\n      var langauge = this._getLanguageByValue(expressionLanguageValue);\n\n      return langauge ? langauge.label : expressionLanguageValue;\n    }\n    /**\n     * Get list of configured expression languages.\n     *\n     * @returns {ExpressionLanguageDescriptor[]}\n     */\n\n  }, {\n    key: \"getAll\",\n    value: function getAll() {\n      return this._config.options;\n    }\n  }, {\n    key: \"_getLegacyDefaults\",\n    value: function _getLegacyDefaults() {\n      var defaults = {},\n          injector = this._injector;\n      var inputCellValue = injector.get('config.defaultInputExpressionLanguage');\n      var outputCellValue = injector.get('config.defaultOutputExpressionLanguage');\n\n      if (inputCellValue) {\n        defaults.inputCell = inputCellValue;\n      }\n\n      if (outputCellValue) {\n        defaults.outputCell = outputCellValue;\n      }\n\n      return defaults;\n    }\n  }, {\n    key: \"_getLanguageByValue\",\n    value: function _getLanguageByValue(value) {\n      return find(this.getAll(), function (language) {\n        return value === language.value;\n      });\n    }\n  }]);\n\n  return ExpressionLanguages;\n}();\n\nexport { ExpressionLanguages as default };\nExpressionLanguages.$inject = ['injector'];\n//# sourceMappingURL=ExpressionLanguages.js.map","import ExpressionLanguages from './ExpressionLanguages';\nexport default {\n  __init__: ['expressionLanguages'],\n  expressionLanguages: ['type', ExpressionLanguages]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\n\nvar DecisionRulesBodyComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionRulesBodyComponent, _Component);\n\n  var _super = _createSuper(DecisionRulesBodyComponent);\n\n  function DecisionRulesBodyComponent() {\n    _classCallCheck(this, DecisionRulesBodyComponent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DecisionRulesBodyComponent, [{\n    key: \"render\",\n    value: function render(_ref) {\n      var rows = _ref.rows,\n          cols = _ref.cols;\n      var components = this.context.components;\n      return createVNode(1, \"tbody\", null, rows.map(function (row, rowIndex) {\n        var RowComponent = components.getComponent('row', {\n          rowType: 'rule'\n        });\n        return RowComponent && createComponentVNode(2, RowComponent, {\n          \"row\": row,\n          \"rowIndex\": rowIndex,\n          \"cols\": cols\n        }, row.id);\n      }), 0);\n    }\n  }]);\n\n  return DecisionRulesBodyComponent;\n}(Component);\n\nexport { DecisionRulesBodyComponent as default };\n//# sourceMappingURL=DecisionRulesBodyComponent.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport { mixin } from 'table-js/lib/components';\nimport { ComponentWithSlots } from 'dmn-js-shared/lib/components/mixins';\n\nvar DecisionRulesRowComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionRulesRowComponent, _Component);\n\n  var _super = _createSuper(DecisionRulesRowComponent);\n\n  function DecisionRulesRowComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, DecisionRulesRowComponent);\n\n    _this = _super.call(this, props, context);\n    mixin(_assertThisInitialized(_this), ComponentWithSlots);\n    return _this;\n  }\n\n  _createClass(DecisionRulesRowComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          row = _this$props.row,\n          rowIndex = _this$props.rowIndex,\n          cols = _this$props.cols;\n      var cells = row.cells;\n      return createVNode(1, \"tr\", null, [this.slotFills({\n        type: 'cell',\n        context: {\n          cellType: 'before-rule-cells',\n          row: row,\n          rowIndex: rowIndex\n        }\n      }), cells.map(function (cell, colIndex) {\n        return _this2.slotFill({\n          type: 'cell',\n          context: {\n            cellType: 'rule',\n            cell: cell,\n            rowIndex: rowIndex,\n            colIndex: colIndex\n          },\n          key: cell.id,\n          row: row,\n          col: cols[colIndex]\n        });\n      }), this.slotFills({\n        type: 'cell',\n        context: {\n          cellType: 'after-rule-cells',\n          row: row,\n          rowIndex: rowIndex\n        }\n      })], 0);\n    }\n  }]);\n\n  return DecisionRulesRowComponent;\n}(Component);\n\nexport { DecisionRulesRowComponent as default };\n//# sourceMappingURL=DecisionRulesRowComponent.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport { Cell } from 'table-js/lib/components';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar DecisionRulesCellComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionRulesCellComponent, _Component);\n\n  var _super = _createSuper(DecisionRulesCellComponent);\n\n  function DecisionRulesCellComponent() {\n    _classCallCheck(this, DecisionRulesCellComponent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DecisionRulesCellComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          cell = _this$props.cell,\n          row = _this$props.row,\n          col = _this$props.col;\n\n      if (is(cell, 'dmn:UnaryTests')) {\n        return createComponentVNode(2, Cell, {\n          \"className\": \"input-cell\",\n          \"elementId\": cell.id,\n          \"data-row-id\": row.id,\n          \"data-col-id\": col.id,\n          children: cell.businessObject.text\n        });\n      } else {\n        return createComponentVNode(2, Cell, {\n          \"className\": \"output-cell\",\n          \"elementId\": cell.id,\n          \"data-row-id\": row.id,\n          \"data-col-id\": col.id,\n          children: cell.businessObject.text\n        });\n      }\n    }\n  }]);\n\n  return DecisionRulesCellComponent;\n}(Component);\n\nexport { DecisionRulesCellComponent as default };\n//# sourceMappingURL=DecisionRulesCellComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport DecisionRulesBodyComponent from './components/DecisionRulesBodyComponent';\nimport DecisionRulesRowComponent from './components/DecisionRulesRowComponent';\nimport DecisionRulesCellComponent from './components/DecisionRulesCellComponent';\n\nvar Rules = /*#__PURE__*/_createClass(function Rules(components) {\n  _classCallCheck(this, Rules);\n\n  components.onGetComponent('table.body', function () {\n    return DecisionRulesBodyComponent;\n  });\n  components.onGetComponent('row', function (_ref) {\n    var rowType = _ref.rowType;\n\n    if (rowType === 'rule') {\n      return DecisionRulesRowComponent;\n    }\n  });\n  components.onGetComponent('cell', function (_ref2) {\n    var cellType = _ref2.cellType;\n\n    if (cellType === 'rule') {\n      return DecisionRulesCellComponent;\n    }\n  });\n});\n\nexport { Rules as default };\nRules.$inject = ['components'];\n//# sourceMappingURL=DecisionRules.js.map","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport DecisionRules from './DecisionRules';\nexport default {\n  __depends__: [ExpressionLanguagesModule],\n  __init__: ['decisionRules'],\n  decisionRules: ['type', DecisionRules]\n};\n//# sourceMappingURL=index.js.map","/* eslint max-len: 0 */\nexport var HIT_POLICIES = [{\n  label: 'Unique',\n  value: {\n    hitPolicy: 'UNIQUE',\n    aggregation: undefined\n  },\n  explanation: 'No overlap is possible and all rules are disjoint. Only a single rule can be matched'\n}, {\n  label: 'First',\n  value: {\n    hitPolicy: 'FIRST',\n    aggregation: undefined\n  },\n  explanation: 'Rules may overlap. The first matching rule will be chosen'\n}, {\n  label: 'Priority',\n  value: {\n    hitPolicy: 'PRIORITY',\n    aggregation: undefined\n  },\n  explanation: 'Rules may overlap. The one with the highest priority will be chosen'\n}, {\n  label: 'Any',\n  value: {\n    hitPolicy: 'ANY',\n    aggregation: undefined\n  },\n  explanation: 'Rules may overlap. Their output have to match'\n}, {\n  label: 'Collect',\n  value: {\n    hitPolicy: 'COLLECT',\n    aggregation: undefined\n  },\n  explanation: 'Collects the values of all matching rules'\n}, {\n  label: 'Collect (Sum)',\n  value: {\n    hitPolicy: 'COLLECT',\n    aggregation: 'SUM'\n  },\n  explanation: 'Collects the values of all matching rules and sums up to a single value'\n}, {\n  label: 'Collect (Min)',\n  value: {\n    hitPolicy: 'COLLECT',\n    aggregation: 'MIN'\n  },\n  explanation: 'Collects the values of all matching rules and uses the lowest value'\n}, {\n  label: 'Collect (Max)',\n  value: {\n    hitPolicy: 'COLLECT',\n    aggregation: 'MAX'\n  },\n  explanation: 'Collects the values of all matching rules and uses the highest value'\n}, {\n  label: 'Collect (Count)',\n  value: {\n    hitPolicy: 'COLLECT',\n    aggregation: 'COUNT'\n  },\n  explanation: 'Collects the values of all matching rules and counts the number of them'\n}, {\n  label: 'Rule order',\n  value: {\n    hitPolicy: 'RULE ORDER',\n    aggregation: undefined\n  },\n  explanation: 'Collects the values of all matching rules in rule order'\n}, {\n  label: 'Output order',\n  value: {\n    hitPolicy: 'OUTPUT ORDER',\n    aggregation: undefined\n  },\n  explanation: 'Collects the values of all matching rules in decreasing output priority order'\n}];\n//# sourceMappingURL=HitPolicies.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport { inject } from 'table-js/lib/components';\nimport { HIT_POLICIES } from './../HitPolicies';\nimport { find } from 'min-dash';\n\nvar HitPolicy = /*#__PURE__*/function (_Component) {\n  _inherits(HitPolicy, _Component);\n\n  var _super = _createSuper(HitPolicy);\n\n  function HitPolicy(props, context) {\n    var _this;\n\n    _classCallCheck(this, HitPolicy);\n\n    _this = _super.call(this, props, context);\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(HitPolicy, [{\n    key: \"getRoot\",\n    value: function getRoot() {\n      return this.sheet.getRoot();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var root = this.getRoot(),\n          businessObject = root.businessObject;\n      var aggregation = businessObject.aggregation,\n          hitPolicy = businessObject.hitPolicy;\n      var hitPolicyEntry = find(HIT_POLICIES, function (entry) {\n        return isEqualHitPolicy(entry.value, {\n          aggregation: aggregation,\n          hitPolicy: hitPolicy\n        });\n      });\n      return createVNode(1, \"div\", \"hit-policy header\", [createVNode(1, \"label\", \"dms-label\", createTextVNode(\"Hit Policy:\"), 2), createVNode(1, \"span\", \"hit-policy-value\", hitPolicyEntry.label, 0)], 4, {\n        \"title\": hitPolicyEntry.explanation\n      });\n    }\n  }]);\n\n  return HitPolicy;\n}(Component);\n\nexport { HitPolicy as default };\nHitPolicy.$inject = ['sheet']; // helpers //////////////////////\n\nfunction isEqualHitPolicy(a, b) {\n  return a.hitPolicy === b.hitPolicy && a.aggregation === b.aggregation;\n}\n//# sourceMappingURL=HitPolicy.js.map","import HitPolicy from './components/HitPolicy';\nexport default function HitPolicyProvider(components) {\n  components.onGetComponent('hit-policy', function () {\n    return HitPolicy;\n  });\n}\nHitPolicyProvider.$inject = ['components'];\n//# sourceMappingURL=HitPolicyProvider.js.map","import HitPolicyProvider from './HitPolicyProvider';\nexport default {\n  __init__: ['hitPolicyProvider'],\n  hitPolicyProvider: ['type', HitPolicyProvider]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\n\nvar ViewDrdComponent = /*#__PURE__*/function (_Component) {\n  _inherits(ViewDrdComponent, _Component);\n\n  var _super = _createSuper(ViewDrdComponent);\n\n  function ViewDrdComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, ViewDrdComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function () {\n      _this._eventBus.fire('showDrd');\n    });\n\n    var injector = context.injector;\n    _this._eventBus = injector.get('eventBus');\n    return _this;\n  }\n\n  _createClass(ViewDrdComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return createVNode(1, \"div\", \"view-drd\", createVNode(1, \"button\", \"view-drd-button\", createTextVNode(\"View DRD\"), 2, {\n        \"onClick\": this.onClick\n      }), 2, null, null, function (node) {\n        return _this2.node = node;\n      });\n    }\n  }]);\n\n  return ViewDrdComponent;\n}(Component);\n\nexport { ViewDrdComponent as default };\n//# sourceMappingURL=ViewDrdComponent.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport ViewDrdComponent from './components/ViewDrdComponent';\n\nvar ViewDrd = /*#__PURE__*/function () {\n  function ViewDrd(components, eventBus, injector, sheet) {\n    var _this = this;\n\n    _classCallCheck(this, ViewDrd);\n\n    this._injector = injector;\n    this._sheet = sheet;\n    components.onGetComponent('table.before', function () {\n      if (_this.canViewDrd()) {\n        return ViewDrdComponent;\n      }\n    });\n    eventBus.on('showDrd', function () {\n      var parent = injector.get('_parent', false);\n      var root = sheet.getRoot();\n      var definitions = getDefinitions(root);\n\n      if (!definitions) {\n        return;\n      } // open definitions\n\n\n      var view = parent.getView(definitions);\n      parent.open(view);\n    });\n  }\n\n  _createClass(ViewDrd, [{\n    key: \"canViewDrd\",\n    value: function canViewDrd() {\n      var parent = this._injector.get('_parent', false);\n\n      if (!parent) {\n        return false;\n      }\n\n      var root = this._sheet.getRoot();\n\n      var definitions = getDefinitions(root);\n      return !!parent.getView(definitions);\n    }\n  }]);\n\n  return ViewDrd;\n}();\n\nexport { ViewDrd as default };\nViewDrd.$inject = ['components', 'eventBus', 'injector', 'sheet']; // helpers //////////////////////\n\nfunction getDefinitions(root) {\n  var businessObject = root.businessObject; // root might not have business object\n\n  if (!businessObject) {\n    return;\n  }\n\n  var decision = businessObject.$parent;\n  var definitions = decision.$parent;\n  return definitions;\n}\n//# sourceMappingURL=ViewDrd.js.map","import ViewDrd from './ViewDrd';\nexport default {\n  __init__: ['viewDrd'],\n  viewDrd: ['type', ViewDrd]\n};\n//# sourceMappingURL=index.js.map","import { createVNode } from \"inferno\";\nexport default function Logo() {\n  return createVNode(32, \"svg\", null, [createVNode(1, \"path\", null, null, 1, {\n    \"fill\": '#000000',\n    \"d\": 'M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z'\n  }), createVNode(1, \"path\", null, null, 1, {\n    \"fill\": '#000000',\n    \"d\": 'M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z'\n  })], 4, {\n    \"xmlns\": 'http://www.w3.org/2000/svg',\n    \"viewBox\": '0 0 14.02 5.57',\n    \"width\": '53',\n    \"height\": '21',\n    \"style\": 'vertical-align:middle'\n  });\n}\n//# sourceMappingURL=Logo.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport Logo from 'dmn-js-shared/lib/components/Logo';\n\nvar PoweredByLogoComponent = /*#__PURE__*/function (_Component) {\n  _inherits(PoweredByLogoComponent, _Component);\n\n  var _super = _createSuper(PoweredByLogoComponent);\n\n  function PoweredByLogoComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, PoweredByLogoComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function () {\n      _this._eventBus.fire('poweredBy.show');\n    });\n\n    var injector = context.injector;\n    _this._eventBus = injector.get('eventBus');\n    return _this;\n  }\n\n  _createClass(PoweredByLogoComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return createVNode(1, \"div\", 'powered-by', createVNode(1, \"div\", 'powered-by__logo', createComponentVNode(2, Logo), 2, {\n        \"title\": 'Powered by bpmn.io',\n        \"onClick\": this.onClick\n      }, null, function (node) {\n        return _this2.node = node;\n      }), 2);\n    }\n  }]);\n\n  return PoweredByLogoComponent;\n}(Component);\n\nexport { PoweredByLogoComponent as default };\n//# sourceMappingURL=PoweredByLogoComponent.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport Logo from 'dmn-js-shared/lib/components/Logo';\n\nvar PoweredByOverlayComponent = /*#__PURE__*/function (_Component) {\n  _inherits(PoweredByOverlayComponent, _Component);\n\n  var _super = _createSuper(PoweredByOverlayComponent);\n\n  function PoweredByOverlayComponent(props) {\n    var _this;\n\n    _classCallCheck(this, PoweredByOverlayComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      show: false\n    };\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.onShow = _this.onShow.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(PoweredByOverlayComponent, [{\n    key: \"onClick\",\n    value: function onClick() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"onShow\",\n    value: function onShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var eventBus = this._eventBus = this.context.injector.get('eventBus');\n      eventBus.on('poweredBy.show', this.onShow);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._eventBus.off('poweredBy.show', this.onShow);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var show = this.state.show;\n      return show && createVNode(1, \"div\", \"powered-by-overlay\", createVNode(1, \"div\", \"powered-by-overlay-content\", [createVNode(1, \"a\", \"logo\", createComponentVNode(2, Logo), 2, {\n        \"href\": \"https://bpmn.io\",\n        \"target\": \"_blank\",\n        \"rel\": \"noopener\"\n      }), createVNode(1, \"span\", null, [createTextVNode(\"Web-based tooling for BPMN, DMN and CMMN diagrams powered by \"), createVNode(1, \"a\", null, createTextVNode(\"bpmn.io\"), 2, {\n        \"href\": \"http://bpmn.io\",\n        \"target\": \"_blank\"\n      }), createTextVNode(\".\")], 4)], 4, {\n        \"onClick\": function onClick(e) {\n          return e.stopPropagation();\n        }\n      }), 2, {\n        \"onClick\": this.onClick\n      });\n    }\n  }]);\n\n  return PoweredByOverlayComponent;\n}(Component);\n\nexport { PoweredByOverlayComponent as default };\n//# sourceMappingURL=PoweredByOverlayComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport PoweredByLogoComponent from './components/PoweredByLogoComponent';\nimport PoweredByOverlayComponent from './components/PoweredByOverlayComponent';\n\nvar PoweredBy = /*#__PURE__*/_createClass(function PoweredBy(components, eventBus) {\n  _classCallCheck(this, PoweredBy);\n\n  components.onGetComponent('table.before', function () {\n    return PoweredByLogoComponent;\n  });\n  components.onGetComponent('table.before', function () {\n    return PoweredByOverlayComponent;\n  });\n});\n\nexport { PoweredBy as default };\nPoweredBy.$inject = ['components', 'eventBus'];\n//# sourceMappingURL=PoweredBy.js.map","import PoweredBy from './PoweredBy';\nexport default {\n  __init__: ['poweredBy'],\n  poweredBy: ['type', PoweredBy]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _excluded = [\"modules\", \"additionalModules\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport Table from 'table-js';\nimport { importDecision } from './import/Importer';\nimport { assign } from 'min-dash';\nimport { domify, remove as domRemove } from 'min-dom';\nimport TranslateModule from 'diagram-js/lib/i18n/translate';\nimport annotationsModule from './features/annotations';\nimport coreModule from './core';\nimport decisionTableHeadModule from './features/decision-table-head';\nimport decisionTablePropertiesModule from './features/decision-table-properties';\nimport decisionRuleIndicesModule from './features/decision-rule-indices';\nimport decisionRulesModule from './features/decision-rules';\nimport hitPolicyModule from './features/hit-policy';\nimport viewDrdModule from './features/view-drd';\nimport PoweredByModule from './features/powered-by';\n/**\n * @typedef {import('dmn-js-shared/lib/base/View).OpenResult} OpenResult\n */\n\n/**\n * @typedef {import('dmn-js-shared/lib/base/View).OpenError} OpenError\n */\n\nvar Viewer = /*#__PURE__*/function (_Table) {\n  _inherits(Viewer, _Table);\n\n  var _super = _createSuper(Viewer);\n\n  function Viewer() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Viewer);\n\n    var container = Viewer._createContainer();\n\n    _this = _super.call(this, assign(options, {\n      renderer: {\n        container: container\n      }\n    }));\n    _this._container = container;\n    return _this;\n  }\n  /**\n   * Open diagram element.\n   *\n   * @param  {ModdleElement} decision\n   * @returns {Promise} Resolves with {OpenResult} when successful\n   * or rejects with {OpenError}\n   */\n\n\n  _createClass(Viewer, [{\n    key: \"open\",\n    value: function open(decision) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var err; // use try/catch to not swallow synchronous exceptions\n        // that may be raised during model parsing\n\n        try {\n          if (self._decision) {\n            // clear existing rendered diagram\n            self.clear();\n          } // update decision\n\n\n          self._decision = decision; // perform import\n\n          return importDecision(self, decision, function (err, warnings) {\n            if (err) {\n              err.warnings = warnings || [];\n              reject(err);\n            } else {\n              resolve({\n                warnings: warnings || []\n              });\n            }\n          });\n        } catch (e) {\n          err = e;\n        } // handle synchronously thrown exception\n\n\n        if (err) {\n          err.warnings = err.warnings || [];\n          reject(err);\n        } else {\n          resolve({\n            warnings: []\n          });\n        }\n      });\n    }\n    /**\n     * Initialize the table, returning { modules: [], config }.\n     *\n     * @param  {Object} options\n     *\n     * @return {Object} init config\n     */\n\n  }, {\n    key: \"_init\",\n    value: function _init(options) {\n      var modules = options.modules,\n          additionalModules = options.additionalModules,\n          config = _objectWithoutProperties(options, _excluded);\n\n      var baseModules = modules || this.getModules();\n      var extraModules = additionalModules || [];\n      var staticModules = [{\n        decisionTable: ['value', this]\n      }];\n      var allModules = [PoweredByModule].concat(_toConsumableArray(baseModules), _toConsumableArray(extraModules), staticModules);\n      return {\n        modules: allModules,\n        config: config\n      };\n    }\n    /**\n     * Register an event listener\n     *\n     * Remove a previously added listener via {@link #off(event, callback)}.\n     *\n     * @param {string} event\n     * @param {number} [priority]\n     * @param {Function} callback\n     * @param {Object} [that]\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, priority, callback, target) {\n      return this.get('eventBus').on(event, priority, callback, target);\n    }\n    /**\n     * De-register an event listener\n     *\n     * @param {string} event\n     * @param {Function} callback\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      this.get('eventBus').off(event, callback);\n    }\n    /**\n     * Emit an event on the underlying {@link EventBus}\n     *\n     * @param  {string} type\n     * @param  {Object} event\n     *\n     * @return {Object} event processing result (if any)\n     */\n\n  }, {\n    key: \"_emit\",\n    value: function _emit(type, event) {\n      return this.get('eventBus').fire(type, event);\n    }\n    /**\n     * Attach viewer to given parent node.\n     *\n     * @param  {Element} parentNode\n     */\n\n  }, {\n    key: \"attachTo\",\n    value: function attachTo(parentNode) {\n      if (!parentNode) {\n        throw new Error('parentNode required');\n      } // ensure we detach from the\n      // previous, old parent\n\n\n      this.detach();\n      var container = this._container;\n      parentNode.appendChild(container);\n\n      this._emit('attach', {});\n    }\n    /**\n     * Detach viewer from parent node, if attached.\n     */\n\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var container = this._container,\n          parentNode = container.parentNode;\n\n      if (!parentNode) {\n        return;\n      }\n\n      this._emit('detach', {});\n\n      domRemove(container);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Viewer.prototype), \"destroy\", this).call(this);\n\n      this.detach();\n    }\n  }, {\n    key: \"getModules\",\n    value: function getModules() {\n      return Viewer._getModules();\n    }\n  }], [{\n    key: \"_getModules\",\n    value: function _getModules() {\n      return [annotationsModule, coreModule, TranslateModule, decisionTableHeadModule, decisionTablePropertiesModule, decisionRuleIndicesModule, decisionRulesModule, hitPolicyModule, viewDrdModule];\n    }\n  }, {\n    key: \"_createContainer\",\n    value: function _createContainer() {\n      return domify('<div class=\"dmn-decision-table-container\"></div>');\n    }\n  }]);\n\n  return Viewer;\n}(Table);\n\nexport { Viewer as default };\n//# sourceMappingURL=Viewer.js.map","import TableTreeWalker from './TableTreeWalker';\n/**\n * Import the decision table into a table.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {decisionTable} decisionTable instance of DecisionTable\n * @param  {ModdleElement} decision moddle element\n * @param  {Function} done\n *         the callback, invoked with (err, [ warning ]) once the import is done\n */\n\nexport function importDecision(decisionTable, decision, done) {\n  var importer = decisionTable.get('tableImporter'),\n      eventBus = decisionTable.get('eventBus'),\n      sheet = decisionTable.get('sheet');\n  var hasModeling = decisionTable.get('modeling', false);\n  var error,\n      warnings = [];\n\n  function render(decision) {\n    var visitor = {\n      create: function create(type, parent, clause, rule) {\n        return importer.create(type, parent, clause, rule);\n      },\n      table: function table(element) {\n        return importer.add(element);\n      },\n      element: function element(_element, parentShape, definitions) {\n        return importer.add(_element, parentShape, definitions);\n      },\n      error: function error(message, context) {\n        warnings.push({\n          message: message,\n          context: context\n        });\n      }\n    };\n    var walker = new TableTreeWalker(visitor, {\n      canAddMissingEntries: hasModeling\n    }); // import\n\n    walker.handleDecision(decision);\n  }\n\n  eventBus.fire('import.render.start', {\n    decision: decision\n  });\n\n  try {\n    render(decision);\n  } catch (e) {\n    error = e;\n  }\n\n  eventBus.fire('import.render.complete', {\n    error: error,\n    warnings: warnings\n  });\n  eventBus.fire('elements.changed', {\n    elements: [sheet.getRoot()]\n  });\n  done(error, warnings);\n}\n//# sourceMappingURL=Importer.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { inject } from 'table-js/lib/components';\n\nvar AddRuleFootComponent = /*#__PURE__*/function (_Component) {\n  _inherits(AddRuleFootComponent, _Component);\n\n  var _super = _createSuper(AddRuleFootComponent);\n\n  function AddRuleFootComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, AddRuleFootComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      e.stopPropagation();\n\n      _this.addRule(e.target.dataset.colIndex);\n    });\n\n    inject(_assertThisInitialized(_this));\n    _this.addRule = _this.addRule.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AddRuleFootComponent, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this._eventBus = this.context.injector.get('eventBus');\n    }\n  }, {\n    key: \"addRule\",\n    value: function addRule(colIndex) {\n      this._eventBus.fire('addRule', {\n        colIndex: colIndex\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cols = this.props.cols;\n      var cells = [createVNode(1, \"td\", \"add-rule-add\", createVNode(1, \"span\", \"dmn-icon-plus action-icon\", null, 1, {\n        \"title\": \"Add Rule\"\n      }), 2)];\n\n      var _this$sheet$getRoot = this.sheet.getRoot(),\n          businessObject = _this$sheet$getRoot.businessObject;\n\n      if (!businessObject.input || !businessObject.input.length) {\n        cells.push(createVNode(1, \"td\", \"input-cell\", createTextVNode(\"-\"), 2));\n      }\n\n      for (var i = 0; i < cols.length + 1; i++) {\n        var className = 'add-rule';\n\n        var _businessObject = cols[i] && cols[i].businessObject;\n\n        var placeholder = '';\n\n        if (_businessObject) {\n          if (_businessObject.$instanceOf('dmn:InputClause')) {\n            className += ' input-cell';\n            placeholder = '-';\n          }\n\n          if (_businessObject.$instanceOf('dmn:OutputClause')) {\n            className += ' output-cell';\n          }\n        } else {\n          className += ' annotation';\n        }\n\n        cells.push(createVNode(1, \"td\", className, placeholder, 0, {\n          \"data-col-index\": i\n        }));\n      }\n\n      return createVNode(1, \"tfoot\", \"actionable add-rule\", createVNode(1, \"tr\", null, cells, 0), 2, {\n        \"onClick\": this.handleClick\n      });\n    }\n  }]);\n\n  return AddRuleFootComponent;\n}(Component);\n\nexport { AddRuleFootComponent as default };\nAddRuleFootComponent.$inject = ['sheet'];\n//# sourceMappingURL=AddRuleFootComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport AddRuleFootComponent from './components/AddRuleFootComponent';\n\nvar AddRule = /*#__PURE__*/_createClass(function AddRule(components, editorActions, eventBus, selection) {\n  _classCallCheck(this, AddRule);\n\n  components.onGetComponent('table.foot', function () {\n    return AddRuleFootComponent;\n  });\n  eventBus.on('addRule', function (e, context) {\n    var rule = editorActions.trigger('addRule');\n    var colIndex = context.colIndex;\n\n    if (rule.cells[colIndex]) {\n      selection.select(rule.cells[colIndex]);\n    } else {\n      selection.select(rule.cells[0]);\n    }\n  });\n});\n\nexport { AddRule as default };\nAddRule.$inject = ['components', 'editorActions', 'eventBus', 'selection'];\n//# sourceMappingURL=AddRule.js.map","import AddRule from './AddRule';\nimport EditorActions from '../editor-actions';\nexport default {\n  __depends__: [EditorActions],\n  __init__: ['addRule'],\n  addRule: ['type', AddRule]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport escapeHtml from 'escape-html';\nimport { getRange, setRange, applyRange, getWindowSelection } from 'selection-ranges';\nimport selectionUpdate from 'selection-update';\n/**\n * A content ediable that performs proper selection updates on\n * editable changes. It normalizes editor operations by allowing\n * only <br/> and plain text to be inserted.\n *\n * The callback `onInput(text)` recieves text (including line breaks)\n * only. Updating the value via props will update the selection\n * if needed, too.\n *\n * @example\n *\n * class SomeComponent extends Component {\n *\n *   render() {\n *     return (\n *       <ContentEditable\n *         className=\"some classes\"\n *         value={ this.state.text }\n *         onInput={ this.handleInput }\n *         onFocus={ ... }\n *         onBlur={ ... } />\n *     );\n *   }\n *\n * }\n *\n */\n\nvar ContentEditable = /*#__PURE__*/function (_Component) {\n  _inherits(ContentEditable, _Component);\n\n  var _super = _createSuper(ContentEditable);\n\n  function ContentEditable(props, context) {\n    var _this;\n\n    _classCallCheck(this, ContentEditable);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var propsFocus = _this.props.onFocus;\n\n      _this.setState({\n        focussed: true\n      });\n\n      if (typeof propsFocus === 'function') {\n        propsFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      var propsBlur = _this.props.onBlur;\n\n      _this.setState({\n        focussed: false\n      });\n\n      if (typeof propsBlur === 'function') {\n        propsBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function (event) {\n      // enter\n      if (event.which === 13) {\n        // prevent default action (<br/> insert)\n        event.preventDefault();\n\n        if (_this.props.ctrlForNewline && !isCmd(event)) {\n          return;\n        }\n\n        if (_this.props.singleLine) {\n          return;\n        }\n\n        event.stopPropagation();\n        insertLineBreak();\n\n        _this.onInput(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onInput\", function (event) {\n      var propsInput = _this.props.onInput;\n\n      if (typeof propsInput !== 'function') {\n        return;\n      }\n\n      var text = innerText(_this.node);\n      propsInput(text);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyPress\", function (event) {\n      if (_this.onInputIEPolyfill) {\n        _this.onInputIEPolyfill(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPaste\", function (event) {\n      // TODO(barmac): remove once we drop IE 11 support\n      if (_this.onInputIEPolyfill) {\n        _this.onInputIEPolyfill(event);\n      }\n\n      if (_this.props.singleLine) {\n        var text = (event.clipboardData || window.clipboardData).getData('text'); // replace newline with space\n\n        document.execCommand('insertText', false, text.replace(/\\n/g, ' '));\n        event.preventDefault();\n      }\n    });\n\n    _this.state = {}; // TODO(nikku): remove once we drop IE 11 support\n\n    if (isIE()) {\n      // onInput shim for IE <= 11\n      _this.onInputIEPolyfill = function (event) {\n        var oldText = _this.node.innerHTML;\n        setTimeout(function () {\n          var text = _this.node.innerHTML;\n\n          if (oldText !== text) {\n            _this.onInput(event);\n          }\n        }, 0);\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(ContentEditable, [{\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(newProps, newState) {\n      // save old selection + text for later\n      var node = this.node;\n      var range = newState.focussed && getRange(node);\n      this.selected = range && {\n        range: range,\n        text: innerText(node)\n      };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var selected = this.selected;\n\n      if (!selected) {\n        return;\n      } // compute and restore selection based on\n      // (possibly new) text\n\n\n      var range = selected.range;\n      var text = selected.text;\n      var node = this.node;\n      var newText = innerText(node);\n      var newRange = newText !== text ? selectionUpdate(range, text, newText) : range;\n      setRange(node, newRange);\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          placeholder = _this$props.placeholder,\n          value = _this$props.value;\n      return [className || '', 'content-editable', !value && placeholder ? 'content-editable--with-placeholder' : ''].join(' ');\n    }\n  }, {\n    key: \"render\",\n    value: function render(props) {\n      var _this2 = this;\n\n      var value = props.value,\n          placeholder = props.placeholder; // QUIRK: must add trailing <br/> for line\n      // breaks to properly work\n\n      value = escapeHtml(value).replace(/\\r?\\n/g, '<br/>') + '<br/>';\n      return createVNode(1, \"div\", this.getClassName(), null, 1, {\n        \"contentEditable\": \"true\",\n        \"spellcheck\": \"false\",\n        \"data-placeholder\": placeholder || '',\n        \"onInput\": this.onInput,\n        \"onKeypress\": this.onKeypress,\n        \"onPaste\": this.onPaste,\n        \"onFocus\": this.onFocus,\n        \"onBlur\": this.onBlur,\n        \"onKeydown\": this.onKeydown,\n        \"dangerouslySetInnerHTML\": {\n          __html: value\n        }\n      }, null, function (node) {\n        return _this2.node = node;\n      });\n    }\n  }]);\n\n  return ContentEditable;\n}(Component);\n\nexport { ContentEditable as default };\n\nfunction brTag() {\n  return document.createElement('br');\n}\n\nfunction innerText(node) {\n  // QUIRK: we must remove the last trailing <br/>, if any\n  return node.innerText.replace(/\\n$/, '');\n}\n\nfunction insertLineBreak() {\n  // insert line break at current insertation\n  // point; this assumes that the correct element, i.e.\n  // a <ContentEditable /> is currently focussed\n  var selection = getWindowSelection();\n  var range = selection.getRangeAt(0);\n\n  if (!range) {\n    return;\n  }\n\n  var newRange = range.cloneRange();\n  var br = brTag();\n  newRange.deleteContents();\n  newRange.insertNode(br);\n  newRange.setStartAfter(br);\n  newRange.setEndAfter(br);\n  applyRange(newRange);\n}\n\nfunction isIE() {\n  var ua = window.navigator.userAgent;\n  return (// IE 10 or older\n    ua.indexOf('MSIE ') > 0 || // IE 11\n    ua.indexOf('Trident/') > 0\n  );\n}\n\nfunction isCmd(event) {\n  return event.metaKey || event.ctrlKey;\n}\n//# sourceMappingURL=ContentEditable.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport ContentEditable from './ContentEditable';\n/**\n * A base component for interactivity.\n *\n * @example\n *\n * class Foo extends EditableComponent {\n *\n *   render() {\n *     return (\n *       <div>{ this.getEditor() }</div>\n *     );\n *   }\n * }\n *\n * And in use:\n *\n * <Foo value={ blub }\n *      onChange={ (newValue) => { ... }\n *      onFocus={ () => { ... } }\n *      onBlur={ () => { ... } }\n *      validate={ (newValue) => { return 'some-error'; } }\n *      className=\"...\" } />\n *\n * Special classes added:\n *\n * * focused\n * * invalid\n *\n */\n\nvar EditableComponent = /*#__PURE__*/function (_Component) {\n  _inherits(EditableComponent, _Component);\n\n  var _super = _createSuper(EditableComponent);\n\n  function EditableComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, EditableComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      _this.setState({\n        focussed: true\n      });\n\n      var onFocus = _this.props.onFocus;\n\n      if (typeof onFocus === 'function') {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      _this.setState({\n        focussed: false\n      });\n\n      var invalid = _this.state.invalid;\n\n      if (invalid) {\n        _this.setState({\n          changing: false,\n          invalid: false\n        });\n      }\n\n      var onBlur = _this.props.onBlur;\n\n      if (typeof onBlur === 'function') {\n        onBlur(event);\n      }\n    });\n\n    _this.state = {\n      changing: false,\n      focussed: false\n    };\n    var injector = context.injector;\n    var debounceInput = injector.get('debounceInput');\n    _this.inputChanged = debounceInput(function (value) {\n      var onChange = _this.props.onChange;\n\n      if (typeof onChange === 'function') {\n        onChange(value);\n      } // only unset changed if user input and\n      // committed changed value equal. This prevents the\n      // input jumping back to the saved, good value.\n\n\n      var currentValue = _this.state.changing;\n\n      _this.setState({\n        changing: currentValue === value ? false : currentValue\n      });\n    });\n\n    _this.onInput = function (value) {\n      var validate = _this.props.validate || function () {};\n\n      var invalid = validate(value);\n\n      _this.setState({\n        changing: value,\n        invalid: invalid\n      });\n\n      if (!invalid) {\n        _this.inputChanged(value);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(EditableComponent, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          value = _this$props.value;\n      var _this$state = this.state,\n          changing = _this$state.changing,\n          focussed = _this$state.focussed,\n          invalid = _this$state.invalid;\n      className += ' editable';\n\n      if (focussed) {\n        className += ' focussed';\n      }\n\n      if (invalid) {\n        className += ' invalid';\n      }\n\n      if (!value && !changing) {\n        className += ' empty';\n      }\n\n      return className;\n    }\n  }, {\n    key: \"getDisplayValue\",\n    value: function getDisplayValue() {\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          placeholder = _this$props2.placeholder;\n      var _this$state2 = this.state,\n          focussed = _this$state2.focussed,\n          changing = _this$state2.changing;\n\n      if (typeof changing === 'string') {\n        value = changing;\n      }\n\n      if (!value) {\n        value = focussed ? '' : placeholder || '';\n      }\n\n      return value;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return createComponentVNode(2, ContentEditable, {\n        \"className\": props.className,\n        \"ctrlForNewline\": props.ctrlForNewline,\n        \"onFocus\": this.onFocus,\n        \"onBlur\": this.onBlur,\n        \"onInput\": this.onInput,\n        \"value\": this.getDisplayValue()\n      });\n    }\n  }]);\n\n  return EditableComponent;\n}(Component);\n\nexport { EditableComponent as default };\n//# sourceMappingURL=EditableComponent.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\nimport { Cell, inject } from 'table-js/lib/components';\n\nvar EditableAnnotationCell = /*#__PURE__*/function (_Component) {\n  _inherits(EditableAnnotationCell, _Component);\n\n  var _super = _createSuper(EditableAnnotationCell);\n\n  function EditableAnnotationCell(props, context) {\n    var _this;\n\n    _classCallCheck(this, EditableAnnotationCell);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAnnotationValue\", function (text) {\n      var row = _this.props.row;\n\n      _this.modeling.editAnnotation(row.businessObject, text);\n    });\n\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(EditableAnnotationCell, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var row = this.props.row;\n      this.changeSupport.onElementsChanged(row.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var row = this.props.row;\n      this.changeSupport.offElementsChanged(row.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          row = _this$props.row,\n          rowIndex = _this$props.rowIndex;\n      var _row$businessObject = row.businessObject,\n          description = _row$businessObject.description,\n          id = _row$businessObject.id;\n      return createComponentVNode(2, Cell, {\n        \"className\": \"annotation\",\n        \"onChange\": this.setAnnotationValue,\n        \"coords\": \"\".concat(rowIndex, \":annotation\"),\n        \"value\": description,\n        \"elementId\": id,\n        \"data-row-id\": row.id,\n        children: createComponentVNode(2, AnnotationEditor, {\n          \"ctrlForNewline\": true,\n          \"className\": \"annotation-editor\",\n          \"onChange\": this.setAnnotationValue,\n          \"value\": description\n        })\n      });\n    }\n  }]);\n\n  return EditableAnnotationCell;\n}(Component);\n\nexport { EditableAnnotationCell as default };\nEditableAnnotationCell.$inject = ['changeSupport', 'modeling'];\n\nvar AnnotationEditor = /*#__PURE__*/function (_EditableComponent) {\n  _inherits(AnnotationEditor, _EditableComponent);\n\n  var _super2 = _createSuper(AnnotationEditor);\n\n  function AnnotationEditor() {\n    _classCallCheck(this, AnnotationEditor);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(AnnotationEditor, [{\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"div\", this.getClassName(), this.getEditor(), 0);\n    }\n  }]);\n\n  return AnnotationEditor;\n}(EditableComponent);\n//# sourceMappingURL=AnnotationCell.js.map","import AnnotationHeader from '../components/AnnotationHeader';\nimport AnnotationCell from './components/AnnotationCell';\nexport default function AnnotationsEditingProvider(components) {\n  components.onGetComponent('cell', function (_ref) {\n    var cellType = _ref.cellType;\n\n    if (cellType === 'after-label-cells') {\n      return AnnotationHeader;\n    } else if (cellType === 'after-rule-cells') {\n      return AnnotationCell;\n    }\n  });\n}\nAnnotationsEditingProvider.$inject = ['components'];\n//# sourceMappingURL=AnnotationsEditingProvider.js.map","import { debounce, isNumber } from 'min-dash';\nvar DEFAULT_DEBOUNCE_TIME = 300;\nexport default function debounceInput(shouldDebounce) {\n  return function _debounceInput(fn) {\n    if (shouldDebounce !== false) {\n      var debounceTime = isNumber(shouldDebounce) ? shouldDebounce : DEFAULT_DEBOUNCE_TIME;\n      return debounce(fn, debounceTime);\n    } else {\n      return fn;\n    }\n  };\n}\ndebounceInput.$inject = ['config.debounceInput'];\n//# sourceMappingURL=debounceInput.js.map","import debounceInput from './debounceInput';\nexport default {\n  debounceInput: ['factory', debounceInput]\n};\n//# sourceMappingURL=index.js.map","import AnnotationsEditingProvider from './AnnotationsEditingProvider';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nexport default {\n  __depends__: [DebounceInput],\n  __init__: ['annotationsProvider'],\n  annotationsProvider: ['type', AnnotationsEditingProvider]\n};\n//# sourceMappingURL=index.js.map","import { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { assign, isFunction } from 'min-dash';\nimport { inject } from '../../../components';\nimport { closest as domClosest, query as domQuery } from 'min-dom';\nimport { setRange } from 'selection-ranges';\nvar DEFAULT_STYLE = {\n  position: 'absolute'\n};\n/**\r\n * @typedef ContextMenuPosition\r\n * @property {number} x\r\n * @property {number} y\r\n * @property {number} [width=0]\r\n * @property {number} [height=0]\r\n * @property {'bottom-left'|'bottom-right'|'top-left'|'top-right'} [align]\r\n */\n\nvar ContextMenuComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ContextMenuComponent, _Component);\n\n  function ContextMenuComponent(props, _context) {\n    var _this;\n\n    _classCallCheck(this, ContextMenuComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenuComponent).call(this, props, _context));\n\n    _defineProperty(_assertThisInitialized(_this), \"open\", function (_ref) {\n      var position = _ref.position,\n          context = _ref.context;\n\n      // always close first\n      _this.close();\n\n      _this.setState({\n        isOpen: true,\n        position: position || {\n          x: 0,\n          y: 0\n        },\n        context: context || {}\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function () {\n      if (_this.state.isOpen) {\n        _this.setState({\n          context: undefined,\n          isOpen: false,\n          position: {\n            x: 0,\n            y: 0\n          }\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerClose\", function () {\n      _this.eventBus.fire('contextMenu.close');\n    });\n\n    _this.state = {\n      isOpen: false,\n      position: {\n        x: 0,\n        y: 0\n      }\n    };\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\r\n   * Open the context menu with given position and context.\r\n   *\r\n   * The menu itself will figure out the best position, taking the optional\r\n   * positioning parameter into account. Position can also contain indicator\r\n   * in which direction to open context menu.\r\n   *\r\n   * @param {ContextMenuPosition} position\r\n   * @param {Object} [context]\r\n   */\n\n\n  _createClass(ContextMenuComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.eventBus.on('contextMenu.open', this.open);\n      this.eventBus.on('contextMenu.close', this.close);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.eventBus.off('contextMenu.open', this.open);\n      this.eventBus.off('contextMenu.close', this.close);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          isOpen = _this$state.isOpen,\n          context = _this$state.context,\n          position = _this$state.position;\n\n      if (!isOpen) {\n        return null;\n      }\n\n      var components = this.components.getComponents('context-menu', context);\n\n      if (!components.length) {\n        return null;\n      }\n\n      return createComponentVNode(2, ContextMenu, {\n        \"className\": \"context-menu no-deselect\",\n        \"context\": context,\n        \"position\": position,\n        \"offset\": context.offset || {\n          x: 0,\n          y: 0\n        },\n        \"autoFocus\": context.autoFocus !== false,\n        \"autoClose\": context.autoClose !== false,\n        \"components\": components,\n        \"onClose\": this.triggerClose\n      });\n    }\n  }]);\n\n  return ContextMenuComponent;\n}(Component);\n\nexport { ContextMenuComponent as default };\nContextMenuComponent.$inject = ['eventBus', 'components'];\n/**\r\n * Low-level, stateless context menu holder.\r\n */\n\nvar ContextMenu =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(ContextMenu, _Component2);\n\n  function ContextMenu(props, context) {\n    var _this2;\n\n    _classCallCheck(this, ContextMenu);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenu).call(this, props, context));\n\n    _defineProperty(_assertThisInitialized(_this2), \"onGlobalMouseDown\", function (event) {\n      _this2.checkClose(event.target);\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"onGlobalKey\", function (event) {\n      var keyCode = event.which; // ENTER or ESC\n\n      if (keyCode === 13 || keyCode === 27) {\n        event.stopPropagation();\n        event.preventDefault();\n\n        _this2.close();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"onFocusChanged\", function (event) {\n      _this2.checkClose(event.target);\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"setNode\", function (node) {\n      _this2.node = node;\n      var autoFocus = _this2.props.autoFocus;\n\n      if (node) {\n        _this2.updatePosition();\n\n        if (autoFocus) {\n          ensureFocus(node);\n        }\n      }\n    });\n\n    inject(_assertThisInitialized(_this2));\n    return _this2;\n  }\n\n  _createClass(ContextMenu, [{\n    key: \"close\",\n    value: function close() {\n      var onClose = this.props.onClose;\n\n      if (isFunction(onClose)) {\n        onClose();\n      }\n    }\n    /**\r\n     * Check whether closing the context menu is necessary\r\n     * after selecting the given element.\r\n     */\n\n  }, {\n    key: \"checkClose\",\n    value: function checkClose(focusTarget) {\n      var autoClose = this.props.autoClose;\n\n      if (!autoClose) {\n        return;\n      }\n\n      var node = this.node;\n\n      if (!node) {\n        return;\n      }\n\n      if (node === focusTarget) {\n        return;\n      }\n\n      if (node.contains(focusTarget)) {\n        return;\n      }\n\n      this.close();\n    }\n    /**\r\n     * Handle global (window) mousedown event.\r\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('focusin', this.onFocusChanged);\n      document.addEventListener('keydown', this.onGlobalKey);\n      document.addEventListener('mousedown', this.onGlobalMouseDown);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('focusin', this.onFocusChanged);\n      document.removeEventListener('keydown', this.onGlobalKey);\n      document.removeEventListener('mousedown', this.onGlobalMouseDown);\n    }\n  }, {\n    key: \"updatePosition\",\n\n    /**\r\n     * Find best context menu position and re-layout accordingly.\r\n     */\n    value: function updatePosition() {\n      var _this$props = this.props,\n          position = _this$props.position,\n          offset = _this$props.offset;\n      var node = this.node;\n      var bounds = node.getBoundingClientRect();\n\n      if (!position.width) {\n        position.width = 0;\n      }\n\n      if (!position.height) {\n        position.height = 0;\n      }\n\n      var container = this.renderer.getContainer(),\n          containerBounds = container.getBoundingClientRect();\n\n      if (containerBounds.width > containerBounds.height) {\n        this.node.classList.add('horizontal');\n        this.node.classList.remove('vertical');\n      } else {\n        this.node.classList.add('vertical');\n        this.node.classList.remove('horizontal');\n      }\n\n      var _getTableContainerScr = getTableContainerScroll(node),\n          scrollLeft = _getTableContainerScr.scrollLeft,\n          scrollTop = _getTableContainerScr.scrollTop;\n\n      var style = {};\n      var alignment;\n\n      if (position.align) {\n        alignment = position.align.split('-');\n      }\n\n      var left, top;\n      var horizontalAlignment = alignment && alignment[1] || (position.x + position.width / 2 > containerBounds.width / 2 ? 'left' : 'right');\n\n      if (horizontalAlignment === 'left') {\n        left = position.x - containerBounds.left - bounds.width + offset.x + scrollLeft;\n        node.classList.remove('right');\n        node.classList.add('left');\n      } else {\n        left = -containerBounds.left + position.x + position.width - offset.x + scrollLeft;\n        node.classList.remove('left');\n        node.classList.add('right');\n      }\n\n      left = alignment ? left : clampNumber(left, 0 + scrollLeft, containerBounds.width - bounds.width + scrollLeft);\n      style.left = left + 'px';\n      var verticalAlignment = alignment && alignment[0] || (position.y + position.height / 2 > containerBounds.height / 2 ? 'top' : 'bottom');\n\n      if (verticalAlignment === 'top') {\n        top = position.y - containerBounds.top - bounds.height + offset.y + scrollTop;\n        node.classList.remove('bottom');\n        node.classList.add('top');\n      } else {\n        top = -containerBounds.top + position.y - offset.y + scrollTop;\n        node.classList.remove('top');\n        node.classList.add('bottom');\n      }\n\n      top = alignment ? top : clampNumber(top, 0 + scrollTop, containerBounds.height - bounds.height + scrollTop);\n      style.top = top + 'px'; // ensure context menu will always be accessible\n\n      style.overflowY = 'auto';\n      style.maxHeight = containerBounds.height - top + scrollTop + 'px';\n      assign(this.node.style, DEFAULT_STYLE, style);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          context = _this$props2.context,\n          components = _this$props2.components,\n          className = _this$props2.className;\n      return createVNode(1, \"div\", className, components.map(function (Component, idx) {\n        return createComponentVNode(2, Component, {\n          \"context\": context\n        }, idx);\n      }), 0, {\n        \"onContextMenu\": function onContextMenu(e) {\n          return e.preventDefault();\n        }\n      }, null, this.setNode);\n    }\n  }]);\n\n  return ContextMenu;\n}(Component);\n\nContextMenu.$inject = ['renderer']; // helpers /////////////\n\nfunction clampNumber(number, min, max) {\n  return Math.max(min, Math.min(max, number));\n}\n\nvar SELECTABLE_ELEMENTS = \"\\n  input[type=text],\\n  input[type=number],\\n  input[type=button],\\n  input[type=submit],\\n  [contenteditable],\\n  [tabindex],\\n  a[href],\\n  textarea,\\n  button\\n\";\n\nfunction ensureFocus(el) {\n  var focusEl = domQuery(SELECTABLE_ELEMENTS, el);\n\n  if (focusEl) {\n    focusEl.focus(); // inputs\n\n    if (focusEl.selectionStart && focusEl.type === 'text') {\n      focusEl.selectionStart = 100000;\n    } else // content editable elements\n      if ('contentEditable' in focusEl) {\n        setRange(focusEl, {\n          start: 100000,\n          end: 100000\n        });\n      }\n  }\n}\n\nfunction getTableContainerScroll(node) {\n  var tableContainer = domClosest(node, '.tjs-container');\n\n  if (!tableContainer) {\n    return {\n      scrollTop: 0,\n      scrollLeft: 0\n    };\n  }\n\n  var scrollLeft = tableContainer.scrollLeft,\n      scrollTop = tableContainer.scrollTop;\n  return {\n    scrollTop: scrollTop,\n    scrollLeft: scrollLeft\n  };\n}\n//# sourceMappingURL=ContextMenuComponent.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport ContextMenuComponent from './components/ContextMenuComponent';\n\nvar ContextMenu =\n/*#__PURE__*/\nfunction () {\n  function ContextMenu(components, eventBus, renderer) {\n    _classCallCheck(this, ContextMenu);\n\n    this._eventBus = eventBus;\n    components.onGetComponent('table.before', function () {\n      return ContextMenuComponent;\n    });\n  }\n\n  _createClass(ContextMenu, [{\n    key: \"open\",\n    value: function open(position, context) {\n      this._eventBus.fire('contextMenu.open', {\n        position: position,\n        context: context\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this._eventBus.fire('contextMenu.close');\n    }\n  }]);\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu as default };\nContextMenu.$inject = ['components', 'eventBus', 'renderer'];\n//# sourceMappingURL=ContextMenu.js.map","import ContextMenu from './ContextMenu';\nexport default {\n  __init__: ['contextMenu'],\n  contextMenu: ['type', ContextMenu]\n};\n//# sourceMappingURL=index.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getRange } from 'selection-ranges';\nimport { event as domEvent } from 'min-dom';\nimport { getFocusableNode, getNodeById } from '../../cell-selection/CellSelectionUtil';\nimport { isCmd, isShift } from '../../keyboard/KeyboardUtil';\n/**\n * Keybindings for Copy + Paste\n */\n\nvar CopyPasteKeyBindings = /*#__PURE__*/function () {\n  function CopyPasteKeyBindings(injector, eventBus, clipboard, cellSelection, elementRegistry, editorActions, renderer) {\n    var _this = this;\n\n    _classCallCheck(this, CopyPasteKeyBindings);\n\n    _defineProperty(this, \"_clearClipboard\", function () {\n      _this._clipboard.clear();\n    });\n\n    _defineProperty(this, \"_registerBindings\", function () {\n      // copy\n      // CTRL/CMD + C\n      var copy = function copy(key, modifiers) {\n        if (isCmd(modifiers) && key === 67) {\n          var cell = _this._getSelectedCell();\n\n          if (!cell) {\n            return;\n          }\n\n          if (isShift(modifiers)) {\n            _this._editorActions.trigger('copy', {\n              element: cell.col\n            });\n          } else {\n            _this._editorActions.trigger('copy', {\n              element: cell.row\n            });\n          }\n\n          return true;\n        }\n      }; // cut\n      // CTRL/CMD + X\n\n\n      var cut = function cut(key, modifiers) {\n        if (isCmd(modifiers) && key === 88) {\n          var cell = _this._getSelectedCell();\n\n          if (!cell) {\n            return;\n          }\n\n          if (isShift(modifiers)) {\n            _this._editorActions.trigger('cut', {\n              element: cell.col\n            });\n          } else {\n            _this._editorActions.trigger('cut', {\n              element: cell.row\n            });\n          }\n\n          return true;\n        }\n      }; // paste\n      // CTRL/CMD + V\n\n\n      var paste = function paste(key, modifiers) {\n        var pasted;\n\n        if (isCmd(modifiers) && key === 86) {\n          var cell = _this._getSelectedCell();\n\n          if (!cell) {\n            return;\n          }\n\n          if (isShift(modifiers)) {\n            pasted = _this._editorActions.trigger('pasteAfter', {\n              element: cell.col\n            });\n\n            if (pasted) {\n              _this._cellSelection.selectCell('right');\n            }\n          } else {\n            pasted = _this._editorActions.trigger('pasteAfter', {\n              element: cell.row\n            });\n\n            if (pasted) {\n              _this._cellSelection.selectCell('below');\n            }\n          }\n        } // indicate, whether we could paste\n\n\n        return typeof pasted !== 'undefined';\n      }; // register listeners\n\n\n      [copy, cut, paste].forEach(function (l) {\n        _this._keyboard.addListener(l);\n      });\n    });\n\n    this._clipboard = clipboard;\n    this._cellSelection = cellSelection;\n    this._elementRegistry = elementRegistry;\n    this._editorActions = editorActions;\n    this._keyboard = injector.get('keyboard', false);\n    this._renderer = renderer;\n\n    if (!this._keyboard) {\n      return;\n    }\n\n    eventBus.on('keyboard.init', this._registerBindings);\n    eventBus.on('keyboard.bind', function () {\n      domEvent.bind(document, 'copy', _this._clearClipboard, true);\n      domEvent.bind(document, 'cut', _this._clearClipboard, true);\n    });\n    eventBus.on('keyboard.unbind', function () {\n      domEvent.unbind(document, 'copy', _this._clearClipboard, true);\n      domEvent.unbind(document, 'cut', _this._clearClipboard, true);\n    });\n  }\n\n  _createClass(CopyPasteKeyBindings, [{\n    key: \"_getSelectedCell\",\n    value:\n    /**\n     * Return the selected cell within the decision table.\n     *\n     * This verifies that a cell ready for copy-or-paste is\n     * actual selected by the user, in the Browser UI.\n     *\n     * @return {Cell}\n     */\n    function _getSelectedCell() {\n      var elementId = this._cellSelection.getCellSelection(); // we may have no selection\n\n\n      if (!elementId) {\n        return;\n      }\n\n      var cell = this._elementRegistry.get(elementId); // selection may not be a cell\n\n\n      if (!cell) {\n        return;\n      }\n\n      var container = this._renderer.getContainer();\n\n      var node = getNodeById(elementId, container);\n      var focusableNode = getFocusableNode(node); // focusable element in selection may not be actual\n      // browser focus, i.e. when a menu is open\n\n      if (document.activeElement !== focusableNode) {\n        return;\n      }\n\n      var range = getRange(node); // user may attempt native copy-paste operation right now\n      // don't interfere with normal text copying\n\n      if (range && range.start !== range.end) {\n        return;\n      }\n\n      return cell;\n    }\n  }]);\n\n  return CopyPasteKeyBindings;\n}();\n\nexport { CopyPasteKeyBindings as default };\nCopyPasteKeyBindings.$inject = ['injector', 'eventBus', 'clipboard', 'cellSelection', 'elementRegistry', 'editorActions', 'renderer'];\n//# sourceMappingURL=CopyCutPasteKeyBindings.js.map","import ClipboardModule from 'diagram-js/lib/features/clipboard';\nimport CellSelectionModule from '../../cell-selection';\nimport CopyCutPasteKeyBindings from './CopyCutPasteKeyBindings';\nexport default {\n  __depends__: [ClipboardModule, CellSelectionModule],\n  __init__: ['copyCutPasteKeyBindings'],\n  copyCutPasteKeyBindings: ['type', CopyCutPasteKeyBindings]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { inject } from 'table-js/lib/components';\n\nvar CreateInputsHeaderCell = /*#__PURE__*/function (_Component) {\n  _inherits(CreateInputsHeaderCell, _Component);\n\n  var _super = _createSuper(CreateInputsHeaderCell);\n\n  function CreateInputsHeaderCell(props, context) {\n    var _this;\n\n    _classCallCheck(this, CreateInputsHeaderCell);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      _this.editorActions.trigger('addInput');\n    });\n\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CreateInputsHeaderCell, [{\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"th\", \"input-cell create-inputs header actionable\", [this.translate('Input'), createTextVNode(\" \"), createVNode(1, \"span\", \"add-input dmn-icon-plus action-icon\", null, 1, {\n        \"title\": this.translate('Add Input')\n      })], 0, {\n        \"onClick\": this.onClick,\n        \"title\": this.translate('Add Input')\n      });\n    }\n  }]);\n\n  return CreateInputsHeaderCell;\n}(Component);\n\nexport { CreateInputsHeaderCell as default };\nCreateInputsHeaderCell.$inject = ['editorActions', 'translate'];\n//# sourceMappingURL=CreateInputHeaderCell.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { inject } from 'table-js/lib/components';\n\nvar CreateInputsCell = /*#__PURE__*/function (_Component) {\n  _inherits(CreateInputsCell, _Component);\n\n  var _super = _createSuper(CreateInputsCell);\n\n  function CreateInputsCell(props, context) {\n    var _this;\n\n    _classCallCheck(this, CreateInputsCell);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      _this.editorActions.trigger('addInput');\n    });\n\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CreateInputsCell, [{\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"td\", \"input-cell create-inputs\", createTextVNode(\"-\"), 2, {\n        \"onClick\": this.onClick,\n        \"title\": this.translate('Add Input')\n      });\n    }\n  }]);\n\n  return CreateInputsCell;\n}(Component);\n\nexport { CreateInputsCell as default };\nCreateInputsCell.$inject = ['editorActions', 'translate'];\n//# sourceMappingURL=CreateInputCell.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport CreateInputsHeaderCell from './components/CreateInputHeaderCell';\nimport CreateInputsCell from './components/CreateInputCell';\nvar LOW_PRIORITY = 500;\n\nvar CreateInputsProvider = /*#__PURE__*/_createClass(function CreateInputsProvider(components, sheet) {\n  _classCallCheck(this, CreateInputsProvider);\n\n  components.onGetComponent('cell', LOW_PRIORITY, function (_ref) {\n    var cellType = _ref.cellType;\n\n    var _sheet$getRoot = sheet.getRoot(),\n        businessObject = _sheet$getRoot.businessObject;\n\n    if (businessObject.input && businessObject.input.length) {\n      return;\n    }\n\n    if (cellType === 'before-label-cells') {\n      return CreateInputsHeaderCell;\n    } else if (cellType === 'before-rule-cells') {\n      return CreateInputsCell;\n    }\n  });\n});\n\nexport { CreateInputsProvider as default };\nCreateInputsProvider.$inject = ['components', 'sheet'];\n//# sourceMappingURL=CreateInputsProvider.js.map","import CreateInputsProvider from './CreateInputsProvider';\nimport EditorActions from '../editor-actions';\nexport default {\n  __depends__: [EditorActions],\n  __init__: ['createInputsProvider'],\n  createInputsProvider: ['type', CreateInputsProvider]\n};\n//# sourceMappingURL=index.js.map","import { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/* eslint-disable max-len */\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { Cell } from 'table-js/lib/model';\n\nvar ContextMenu = /*#__PURE__*/function () {\n  function ContextMenu(components, contextMenu, clipboard, editorActions, eventBus, elementRegistry, modeling, selection, sheet, rules, translate) {\n    var _this = this;\n\n    _classCallCheck(this, ContextMenu);\n\n    this._contextMenu = contextMenu;\n    this._clipboard = clipboard;\n    this._editorActions = editorActions;\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n    this._modeling = modeling;\n    this._selection = selection;\n    this._sheet = sheet;\n    this._rules = rules;\n    this._translate = translate;\n    this._getEntries = this._getEntries.bind(this);\n    components.onGetComponent('context-menu', function () {\n      var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (context.contextMenuType && context.contextMenuType === 'context-menu') {\n        var entries = _this._getEntries(context);\n\n        var element = _this._elementRegistry.get(context.id);\n\n        var additionalCellEntries = isCell(element) && components.getComponents('context-menu-cell-additional', context);\n\n        if (additionalCellEntries && additionalCellEntries.length) {\n          var cellEntriesGroup = createVNode(1, \"div\", \"context-menu-group context-menu-group-cell\", additionalCellEntries, 0);\n          return function () {\n            return createVNode(1, \"div\", \"context-menu-flex\", (entries || []).concat(cellEntriesGroup), 0);\n          };\n        } else {\n          return function () {\n            return createVNode(1, \"div\", \"context-menu-flex\", entries || [], 0);\n          };\n        }\n      }\n    });\n    eventBus.on('cell.contextmenu', function (_ref) {\n      var event = _ref.event,\n          id = _ref.id,\n          node = _ref.node;\n      event.preventDefault();\n      contextMenu.open({\n        x: event.pageX,\n        y: event.pageY\n      }, {\n        contextMenuType: 'context-menu',\n        event: event,\n        id: id\n      });\n    });\n  }\n\n  _createClass(ContextMenu, [{\n    key: \"_getEntries\",\n    value: function _getEntries(context) {\n      var _this2 = this;\n\n      var handlers = {\n        addRuleAbove: function addRuleAbove(rule) {\n          var selectedIndex = rule.cells.map(function (cell) {\n            return cell.id;\n          }).indexOf(context.id);\n\n          var newRule = _this2._editorActions.trigger('addRuleAbove', {\n            rule: rule\n          });\n\n          if (newRule.cells[selectedIndex]) {\n            _this2._selection.select(newRule.cells[selectedIndex]);\n          } else {\n            _this2._selection.select(newRule.cells[0]);\n          }\n\n          _this2._contextMenu.close();\n        },\n        addRuleBelow: function addRuleBelow(rule) {\n          var selectedIndex = rule.cells.map(function (cell) {\n            return cell.id;\n          }).indexOf(context.id);\n\n          var newRule = _this2._editorActions.trigger('addRuleBelow', {\n            rule: rule\n          });\n\n          if (newRule.cells[selectedIndex]) {\n            _this2._selection.select(newRule.cells[selectedIndex]);\n          } else {\n            _this2._selection.select(newRule.cells[0]);\n          }\n\n          _this2._contextMenu.close();\n        },\n        removeRule: function removeRule(rule) {\n          _this2._editorActions.trigger('removeRule', {\n            rule: rule\n          });\n\n          _this2._contextMenu.close();\n        },\n        addInputLeft: function addInputLeft(input) {\n          _this2._editorActions.trigger('addInputLeft', {\n            input: input\n          });\n\n          _this2._contextMenu.close();\n        },\n        addInputRight: function addInputRight(input) {\n          _this2._editorActions.trigger('addInputRight', {\n            input: input\n          });\n\n          _this2._contextMenu.close();\n        },\n        removeInput: function removeInput(input) {\n          _this2._editorActions.trigger('removeInput', {\n            input: input\n          });\n\n          _this2._contextMenu.close();\n        },\n        addOutputLeft: function addOutputLeft(output) {\n          _this2._editorActions.trigger('addOutputLeft', {\n            output: output\n          });\n\n          _this2._contextMenu.close();\n        },\n        addOutputRight: function addOutputRight(output) {\n          _this2._editorActions.trigger('addOutputRight', {\n            output: output\n          });\n\n          _this2._contextMenu.close();\n        },\n        removeOutput: function removeOutput(output) {\n          _this2._editorActions.trigger('removeOutput', {\n            output: output\n          });\n\n          _this2._contextMenu.close();\n        },\n        copy: function copy(element) {\n          _this2._editorActions.trigger('copy', {\n            element: element\n          });\n\n          _this2._contextMenu.close();\n        },\n        cut: function cut(element) {\n          _this2._editorActions.trigger('cut', {\n            element: element\n          });\n\n          _this2._contextMenu.close();\n        },\n        pasteBefore: function pasteBefore(element) {\n          _this2._editorActions.trigger('pasteBefore', {\n            element: element\n          });\n\n          _this2._contextMenu.close();\n        },\n        pasteAfter: function pasteAfter(element) {\n          _this2._editorActions.trigger('pasteAfter', {\n            element: element\n          });\n\n          _this2._contextMenu.close();\n        }\n      };\n      var id = context && context.id;\n\n      if (!id) {\n        return null;\n      }\n\n      var element = this._elementRegistry.get(id);\n\n      if (!element) {\n        return null;\n      }\n\n      var clipboardData = this._clipboard.get() || {};\n      var entries = [];\n      var row = element.row || element;\n\n      if (is(row, 'dmn:DecisionRule')) {\n        var canPaste = this._rules.allowed('paste', {\n          data: clipboardData.elements,\n          target: row\n        });\n\n        entries.push(createVNode(1, \"div\", \"context-menu-group\", [createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-copy-rule\", this._translate('Copy Rule'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.copy(row);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-cut-rule\", this._translate('Cut Rule'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.cut(row);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(canPaste ? '' : 'disabled', \" context-menu-entry-paste-rule-above\"), this._translate('Paste Rule Above'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.pasteBefore(row);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(canPaste ? '' : 'disabled', \" context-menu-entry-paste-rule-below\"), this._translate('Paste Rule Below'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.pasteAfter(row);\n          }\n        })], 4), createVNode(1, \"div\", \"context-menu-group\", [createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-add-rule-above\", this._translate('Add Rule Above'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.addRuleAbove(row);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-add-rule-below\", this._translate('Add Rule Below'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.addRuleBelow(row);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-remove-rule\", this._translate('Remove Rule'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.removeRule(row);\n          }\n        })], 4));\n      } else if (is(element, 'dmn:InputClause')) {\n        var actualElement = is(element, 'dmn:InputClause') ? element : element.col;\n\n        var canRemove = this._rules.allowed('col.remove', {\n          col: element.col || element\n        });\n\n        var _canPaste = this._rules.allowed('paste', {\n          data: clipboardData.elements,\n          target: element.col || element\n        });\n\n        entries.push(createVNode(1, \"div\", \"context-menu-group\", [createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-copy-input\", this._translate('Copy Input Column'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.copy(actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(canRemove ? '' : 'disabled', \" context-menu-entry-cut-input\"), this._translate('Cut Input Column'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.cut(actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(_canPaste ? '' : 'disabled', \" context-menu-entry-paste-input-left\"), this._translate('Paste Input Column Left'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.pasteBefore(actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(_canPaste ? '' : 'disabled', \" context-menu-entry-paste-input-right\"), this._translate('Paste Input Column Right'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.pasteAfter(actualElement);\n          }\n        })], 4), createVNode(1, \"div\", \"context-menu-group\", [createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-add-input-left\", this._translate('Add Input Column Left'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.addInputLeft(actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-add-input-right\", this._translate('Add Input Column Right'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.addInputRight(actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(canRemove ? '' : 'disabled', \" context-menu-entry-remove-input\"), this._translate('Remove Input Column'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.removeInput(actualElement);\n          }\n        })], 4));\n      } else if (is(element, 'dmn:OutputClause') || is(element.col, 'dmn:OutputClause')) {\n        var _actualElement = is(element, 'dmn:OutputClause') ? element : element.col;\n\n        var _canRemove = this._rules.allowed('col.remove', {\n          col: element.col || element\n        });\n\n        var _canPaste2 = this._rules.allowed('paste', {\n          data: clipboardData.elements,\n          target: element.col || element\n        });\n\n        entries.push(createVNode(1, \"div\", \"context-menu-group\", [createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-copy-output\", this._translate('Copy Output Column'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.copy(_actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(_canRemove ? '' : 'disabled', \" context-menu-entry-cut-output\"), this._translate('Cut Output Column'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.cut(_actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(_canPaste2 ? '' : 'disabled', \" context-menu-entry-paste-output-left\"), this._translate('Paste Output Column Left'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.pasteBefore(_actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(_canPaste2 ? '' : 'disabled', \" context-menu-entry-paste-output-right\"), this._translate('Paste Output Column Right'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.pasteAfter(_actualElement);\n          }\n        })], 4), createVNode(1, \"div\", \"context-menu-group\", [createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-add-output-left\", this._translate('Add Output Column Left'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.addOutputLeft(_actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-add-output-right\", this._translate('Add Output Column Right'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.addOutputRight(_actualElement);\n          }\n        }), createVNode(1, \"div\", \"context-menu-group-entry \".concat(_canRemove ? '' : 'disabled', \" context-menu-entry-remove-output\"), this._translate('Remove Output Column'), 0, {\n          \"onClick\": function onClick() {\n            return handlers.removeOutput(_actualElement);\n          }\n        })], 4));\n      }\n\n      return entries;\n    }\n  }]);\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu as default };\nContextMenu.$inject = ['components', 'contextMenu', 'clipboard', 'editorActions', 'eventBus', 'elementRegistry', 'modeling', 'selection', 'sheet', 'rules', 'translate']; // helpers ///////////\n\nfunction isCell(element) {\n  return element instanceof Cell;\n}\n//# sourceMappingURL=ContextMenu.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar COMMANDS = ['row.add', 'row.remove', 'col.add', 'col.remove'];\n\nvar ContextMenuCloseBehavior = /*#__PURE__*/_createClass(function ContextMenuCloseBehavior(contextMenu, eventBus) {\n  _classCallCheck(this, ContextMenuCloseBehavior);\n\n  eventBus.on('commandStack.executed', function (_ref) {\n    var command = _ref.command;\n\n    // close on certain modeling operations\n    if (COMMANDS.indexOf(command) !== -1) {\n      contextMenu.close();\n    }\n  }); // always close on undo\n\n  eventBus.on('commandStack.reverted', function () {\n    contextMenu.close();\n  });\n});\n\nexport { ContextMenuCloseBehavior as default };\nContextMenuCloseBehavior.$inject = ['contextMenu', 'eventBus'];\n//# sourceMappingURL=ContextMenuCloseBehavior.js.map","import ContextMenu from './ContextMenu';\nimport EditorActions from '../editor-actions';\nimport TableContextMenu from 'table-js/lib/features/context-menu';\nimport ModelingRules from '../rules';\nimport ContextMenuCloseBehavior from './ContextMenuCloseBehavior';\nexport default {\n  __depends__: [EditorActions, TableContextMenu, ModelingRules],\n  __init__: ['decisionTableContextMenu', 'contextMenuCloseBehavior'],\n  decisionTableContextMenu: ['type', ContextMenu],\n  contextMenuCloseBehavior: ['type', ContextMenuCloseBehavior]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { mixin } from 'table-js/lib/components';\nimport { ComponentWithSlots } from 'dmn-js-shared/lib/components/mixins';\n\nvar OutputCell = /*#__PURE__*/function (_Component) {\n  _inherits(OutputCell, _Component);\n\n  var _super = _createSuper(OutputCell);\n\n  function OutputCell(props, context) {\n    var _this;\n\n    _classCallCheck(this, OutputCell);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var output = _this.props.output;\n\n      _this._eventBus.fire('output.edit', {\n        event: event,\n        output: output\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onContextmenu\", function (event) {\n      var id = _this.props.output.id;\n\n      _this._eventBus.fire('cell.contextmenu', {\n        event: event,\n        id: id\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    mixin(_assertThisInitialized(_this), ComponentWithSlots);\n    _this._translate = context.injector.get('translate');\n    return _this;\n  }\n\n  _createClass(OutputCell, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var injector = this.context.injector;\n      this._changeSupport = this.context.changeSupport;\n      this._eventBus = injector.get('eventBus');\n      this._elementRegistry = injector.get('elementRegistry');\n      var output = this.props.output;\n\n      this._changeSupport.onElementsChanged(output.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var output = this.props.output;\n\n      this._changeSupport.offElementsChanged(output.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          output = _this$props.output,\n          index = _this$props.index,\n          outputsLength = _this$props.outputsLength;\n      var label = output.label,\n          name = output.name,\n          outputValues = output.outputValues,\n          typeRef = output.typeRef;\n      var width = output.width ? output.width + 'px' : '192px';\n      return createVNode(1, \"th\", \"output-cell output-editor\", [this.slotFills({\n        type: 'cell-inner',\n        context: {\n          cellType: 'output-cell',\n          col: this._elementRegistry.get(output.id),\n          index: index,\n          outputsLength: outputsLength\n        },\n        col: output\n      }), createVNode(1, \"div\", \"clause\", index === 0 ? this._translate('Then') : this._translate('And'), 0), label ? createVNode(1, \"div\", \"output-label\", label, 0, {\n        \"title\": this._translate('Output Label')\n      }) : createVNode(1, \"div\", \"output-name\", name, 0, {\n        \"title\": this._translate('Output Name')\n      }), createVNode(1, \"div\", \"output-variable\", outputValues && outputValues.text || typeRef, 0, {\n        \"title\": outputValues && outputValues.text ? this._translate('Output Values') : this._translate('Output Type')\n      })], 0, {\n        \"data-col-id\": output.id,\n        \"onDblClick\": this.onClick,\n        \"onContextmenu\": this.onContextmenu,\n        \"style\": {\n          width: width\n        }\n      });\n    }\n  }]);\n\n  return OutputCell;\n}(Component);\n\nexport { OutputCell as default };\n//# sourceMappingURL=OutputCell.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\n\nvar Input = /*#__PURE__*/function (_Component) {\n  _inherits(Input, _Component);\n\n  var _super = _createSuper(Input);\n\n  function Input(props, context) {\n    var _this;\n\n    _classCallCheck(this, Input);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onInput\", function (event) {\n      var onInput = _this.props.onInput;\n\n      if (typeof onInput !== 'function') {\n        return;\n      }\n\n      onInput(event.target.value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      var onKeyDown = _this.props.onKeyDown;\n\n      if (typeof onKeyDown !== 'function') {\n        return;\n      }\n\n      onKeyDown(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyUp\", function (event) {\n      var onKeyUp = _this.props.onKeyUp;\n\n      if (typeof onKeyUp !== 'function') {\n        return;\n      }\n\n      onKeyUp(event);\n    });\n\n    return _this;\n  }\n\n  _createClass(Input, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          placeholder = _this$props.placeholder,\n          type = _this$props.type,\n          value = _this$props.value;\n      return createVNode(64, \"input\", [className || '', 'dms-input'].join(' '), null, 1, {\n        \"placeholder\": placeholder || '',\n        \"onInput\": this.onInput,\n        \"onKeyDown\": this.onKeyDown,\n        \"onKeyUp\": this.onKeyUp,\n        \"spellcheck\": \"false\",\n        \"type\": type || 'text',\n        \"value\": value\n      });\n    }\n  }]);\n\n  return Input;\n}(Component);\n\nexport { Input as default };\n//# sourceMappingURL=Input.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport ContentEditable from 'dmn-js-shared/lib/components/ContentEditable';\nimport Input from 'dmn-js-shared/lib/components/Input';\n\nvar OutputEditor = /*#__PURE__*/function (_Component) {\n  _inherits(OutputEditor, _Component);\n\n  var _super = _createSuper(OutputEditor);\n\n  function OutputEditor(props, context) {\n    var _this;\n\n    _classCallCheck(this, OutputEditor);\n\n    _this = _super.call(this, props, context);\n    _this.translate = context.injector ? context.injector.get('translate') : noopTranslate;\n\n    _this.setName = function (name) {\n      name = name || undefined;\n\n      _this.handleChange({\n        name: name\n      });\n    };\n\n    _this.setLabel = function (label) {\n      label = label || undefined;\n\n      _this.handleChange({\n        label: label\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(OutputEditor, [{\n    key: \"handleChange\",\n    value: function handleChange(changes) {\n      var onChange = this.props.onChange;\n\n      if (typeof onChange === 'function') {\n        onChange(changes);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          name = _this$props.name,\n          label = _this$props.label;\n      return createVNode(1, \"div\", \"context-menu-container ref-output-editor output-edit\", [createVNode(1, \"div\", \"dms-form-control\", createComponentVNode(2, ContentEditable, {\n        \"className\": \"dms-output-label\",\n        \"value\": label || '',\n        \"placeholder\": this.translate('Output'),\n        \"singleLine\": true,\n        \"onInput\": this.setLabel\n      }), 2), createVNode(1, \"div\", \"dms-form-control\", [createVNode(1, \"label\", \"dms-label\", this.translate('Output Name'), 0), createComponentVNode(2, Input, {\n        \"className\": \"ref-output-name\",\n        \"value\": name || '',\n        \"onInput\": this.setName\n      })], 4)], 4);\n    }\n  }]);\n\n  return OutputEditor;\n}(Component);\n\nexport { OutputEditor as default };\n\nfunction noopTranslate(str) {\n  return str;\n}\n//# sourceMappingURL=OutputEditor.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createComponentVNode } from \"inferno\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport OutputEditor from './OutputEditor';\nimport { inject } from 'table-js/lib/components';\n\nvar OutputCellContextMenu = /*#__PURE__*/function (_Component) {\n  _inherits(OutputCellContextMenu, _Component);\n\n  var _super = _createSuper(OutputCellContextMenu);\n\n  function OutputCellContextMenu(props, context) {\n    var _this;\n\n    _classCallCheck(this, OutputCellContextMenu);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"persistChanges\", function () {\n      var output = _this.props.context.output;\n      var unsaved = _this.state.unsaved;\n\n      if (!unsaved) {\n        return;\n      }\n\n      _this.modeling.updateProperties(output, unsaved);\n\n      _this.setState({\n        unsaved: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (changes) {\n      _this.setState({\n        unsaved: _objectSpread(_objectSpread({}, _this.state.unsaved), changes)\n      }, _this.persistChanges);\n    });\n\n    _this.state = {};\n    inject(_assertThisInitialized(_this));\n    _this.persistChanges = _this.debounceInput(_this.persistChanges);\n    return _this;\n  }\n\n  _createClass(OutputCellContextMenu, [{\n    key: \"getValue\",\n    value: function getValue(attr) {\n      var output = this.props.context.output;\n      var unsaved = this.state.unsaved;\n      return unsaved && attr in unsaved ? unsaved[attr] : output.get(attr);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return createComponentVNode(2, OutputEditor, {\n        \"name\": this.getValue('name'),\n        \"label\": this.getValue('label'),\n        \"onChange\": this.handleChange\n      });\n    }\n  }]);\n\n  return OutputCellContextMenu;\n}(Component);\n\nexport { OutputCellContextMenu as default };\nOutputCellContextMenu.$inject = ['debounceInput', 'modeling'];\n//# sourceMappingURL=OutputCellContextMenu.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { closest as domClosest, matches as domMatches } from 'min-dom';\nimport OutputCell from './components/OutputCell';\nimport OutputCellContextMenu from './components/OutputCellContextMenu';\n\nvar OutputEditingProvider = /*#__PURE__*/_createClass(function OutputEditingProvider(components, contextMenu, eventBus, renderer) {\n  _classCallCheck(this, OutputEditingProvider);\n\n  components.onGetComponent('cell', function (_ref) {\n    var cellType = _ref.cellType;\n\n    if (cellType === 'output-header') {\n      return OutputCell;\n    }\n  });\n  components.onGetComponent('context-menu', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType === 'output-edit') {\n      return OutputCellContextMenu;\n    }\n  });\n  eventBus.on('output.edit', function (_ref2) {\n    var event = _ref2.event,\n        output = _ref2.output;\n    var target = event.target;\n    var node = domClosest(target, 'th', true);\n\n    var _node$getBoundingClie = node.getBoundingClientRect(),\n        left = _node$getBoundingClie.left,\n        top = _node$getBoundingClie.top;\n\n    var offset = getOffset(node);\n    contextMenu.open({\n      x: left,\n      y: top,\n      align: 'bottom-right'\n    }, {\n      contextMenuType: 'output-edit',\n      output: output,\n      offset: offset\n    });\n  });\n});\n\nexport { OutputEditingProvider as default };\nOutputEditingProvider.$inject = ['components', 'contextMenu', 'eventBus', 'renderer'];\n\nfunction getOffset(element) {\n  if (!domMatches(element, '.output-cell + .output-cell')) {\n    return {\n      x: -1,\n      y: 0\n    };\n  }\n}\n//# sourceMappingURL=OutputEditingProvider.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { mixin } from 'table-js/lib/components';\nimport { ComponentWithSlots } from 'dmn-js-shared/lib/components/mixins';\n\nvar InputCell = /*#__PURE__*/function (_Component) {\n  _inherits(InputCell, _Component);\n\n  var _super = _createSuper(InputCell);\n\n  function InputCell(props, context) {\n    var _this;\n\n    _classCallCheck(this, InputCell);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var input = _this.props.input;\n\n      _this._eventBus.fire('input.edit', {\n        event: event,\n        input: input\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onContextmenu\", function (event) {\n      var id = _this.props.input.id;\n\n      _this._eventBus.fire('cell.contextmenu', {\n        event: event,\n        id: id\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    mixin(_assertThisInitialized(_this), ComponentWithSlots);\n    _this._translate = context.injector.get('translate');\n    return _this;\n  }\n\n  _createClass(InputCell, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var injector = this.context.injector;\n      this._changeSupport = this.context.changeSupport;\n      this._sheet = injector.get('sheet');\n      this._eventBus = injector.get('eventBus');\n      this._elementRegistry = injector.get('elementRegistry');\n\n      var root = this._sheet.getRoot();\n\n      var input = this.props.input;\n\n      this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n\n      this._changeSupport.onElementsChanged(input.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var root = this._sheet.getRoot();\n\n      var input = this.props.input;\n\n      this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n\n      this._changeSupport.offElementsChanged(input.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          input = _this$props.input,\n          index = _this$props.index,\n          inputsLength = _this$props.inputsLength;\n      var inputExpression = input.inputExpression,\n          inputValues = input.inputValues;\n      var label = input.get('label');\n      var width = input.width ? input.width + 'px' : '192px';\n      return createVNode(1, \"th\", \"input-cell input-editor\", [this.slotFills({\n        type: 'cell-inner',\n        context: {\n          cellType: 'input-cell',\n          col: this._elementRegistry.get(input.id),\n          index: index,\n          inputsLength: inputsLength\n        },\n        col: input\n      }), createVNode(1, \"div\", \"clause\", index === 0 ? this._translate('When') : this._translate('And'), 0), label ? createVNode(1, \"div\", \"input-label\", label, 0, {\n        \"title\": this._translate('Input Label')\n      }) : createVNode(1, \"div\", \"input-expression\", inputExpression.text, 0, {\n        \"title\": this._translate('Input Expression')\n      }), createVNode(1, \"div\", \"input-variable\", inputValues && inputValues.text || inputExpression.typeRef, 0, {\n        \"title\": inputValues && inputValues.text ? this._translate('Input Values') : this._translate('Input Type')\n      })], 0, {\n        \"data-col-id\": input.id,\n        \"onDblClick\": this.onClick,\n        \"onContextmenu\": this.onContextmenu,\n        \"style\": {\n          width: width\n        }\n      });\n    }\n  }]);\n\n  return InputCell;\n}(Component);\n\nexport { InputCell as default };\n//# sourceMappingURL=InputCell.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component, createPortal } from 'inferno';\nimport { inject } from 'table-js/lib/components';\nimport { assign } from 'min-dash';\nimport { domify, remove as domRemove } from 'min-dom';\n\nvar InputSelect = /*#__PURE__*/function (_Component) {\n  _inherits(InputSelect, _Component);\n\n  var _super = _createSuper(InputSelect);\n\n  function InputSelect(props, context) {\n    var _this;\n\n    _classCallCheck(this, InputSelect);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (value) {\n      _this.setState({\n        value: value\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (typeof onChange !== 'function') {\n        return;\n      }\n\n      onChange(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onInputClick\", function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      _this.setOptionsVisible(!_this.state.optionsVisible);\n\n      _this.focusInput();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onInput\", function (event) {\n      var value = event.target.value;\n\n      _this.onChange(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionClick\", function (value, event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      _this.setOptionsVisible(false);\n\n      _this.onChange(value);\n\n      _this.focusInput();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocusChanged\", function (evt) {\n      _this.checkClose(evt.target);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onGlobalClick\", function (evt) {\n      _this.checkClose(evt.target);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (evt) {\n      var optionsVisible = _this.state.optionsVisible;\n      var code = evt.which; // DOWN or UP\n\n      if (code === 40 || code === 38) {\n        evt.stopPropagation();\n        evt.preventDefault();\n\n        if (!optionsVisible) {\n          _this.setOptionsVisible(true);\n        } else {\n          _this.select(code === 40 ? 1 : -1);\n        }\n      }\n\n      if (optionsVisible) {\n        // ENTER\n        // ESC\n        if (code === 13 || code === 27) {\n          evt.stopPropagation();\n          evt.preventDefault();\n\n          _this.setOptionsVisible(false);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyboard\", function (keycode) {\n      var optionsVisible = _this.state.optionsVisible;\n\n      if (!optionsVisible) {\n        return;\n      } // close on ESC\n\n\n      if (keycode === 27) {\n        _this.setOptionsVisible(false);\n\n        return true;\n      }\n    });\n\n    inject(_assertThisInitialized(_this));\n    var _value = props.value;\n    _this.state = {\n      value: _value,\n      optionsVisible: false\n    };\n    _this._portalEl = null;\n    return _this;\n  }\n\n  _createClass(InputSelect, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.onGlobalClick);\n      document.addEventListener('focusin', this.onFocusChanged);\n      this.keyboard.addListener(this.onKeyboard);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('focusin', this.onFocusChanged);\n      document.removeEventListener('mousedown', this.onGlobalClick);\n      this.keyboard.removeListener(this.onKeyboard);\n      this.removePortalEl();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var value = props.value;\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(nextProps, nextState) {\n      var optionsVisible = nextState.optionsVisible;\n\n      if (optionsVisible) {\n        if (!this._portalEl) {\n          this.addPortalEl();\n        }\n      } else {\n        if (this._portalEl) {\n          this.removePortalEl();\n        }\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var optionsVisible = this.state.optionsVisible;\n\n      if (!optionsVisible || !this.inputNode) {\n        return;\n      }\n\n      var optionsBounds = this.getOptionsBounds();\n      assign(this._portalEl.style, optionsBounds);\n    }\n  }, {\n    key: \"getOptionsBounds\",\n    value: function getOptionsBounds() {\n      var container = this.renderer.getContainer();\n\n      var _container$getBoundin = container.getBoundingClientRect(),\n          containerTop = _container$getBoundin.top,\n          containerLeft = _container$getBoundin.left;\n\n      var _this$inputNode$getBo = this.inputNode.getBoundingClientRect(),\n          inputTop = _this$inputNode$getBo.top,\n          inputLeft = _this$inputNode$getBo.left,\n          width = _this$inputNode$getBo.width,\n          height = _this$inputNode$getBo.height;\n\n      var top = inputTop + height - containerTop + container.scrollTop;\n      var left = inputLeft - containerLeft + container.scrollLeft;\n      return {\n        top: \"\".concat(top, \"px\"),\n        left: \"\".concat(left, \"px\"),\n        width: \"\".concat(width, \"px\")\n      };\n    }\n  }, {\n    key: \"addPortalEl\",\n    value: function addPortalEl() {\n      this._portalEl = domify('<div class=\"dms-select-options\"></div>');\n      var container = this.renderer.getContainer();\n      container.appendChild(this._portalEl); // suppress mousedown event propagation to handle click events inside the component\n\n      this._portalEl.addEventListener('mousedown', stopPropagation);\n    }\n  }, {\n    key: \"removePortalEl\",\n    value: function removePortalEl() {\n      if (this._portalEl) {\n        this._portalEl.removeEventListener('mousedown', stopPropagation);\n\n        domRemove(this._portalEl);\n        this._portalEl = null;\n      }\n    }\n  }, {\n    key: \"focusInput\",\n    value:\n    /**\r\n     * Focus input node\r\n     */\n    function focusInput() {\n      var node = this.inputNode;\n      node.focus(); // move cursor to end of input\n\n      if ('selectionStart' in node) {\n        node.selectionStart = 100000;\n      }\n    }\n  }, {\n    key: \"checkClose\",\n    value: function checkClose(focusTarget) {\n      if (this._portalEl && !this._portalEl.contains(focusTarget) && !this.parentNode.contains(focusTarget)) {\n        this.setOptionsVisible(false);\n      }\n    }\n  }, {\n    key: \"select\",\n    value: function select(direction) {\n      var options = this.props.options;\n      var value = this.state.value;\n\n      if (!options) {\n        return;\n      }\n\n      var option = options.filter(function (o) {\n        return o.value === value;\n      })[0];\n      var idx = option ? options.indexOf(option) : -1;\n      var nextIdx = idx === -1 ? direction === 1 ? 0 : options.length - 1 : (idx + direction) % options.length;\n      var nextOption = options[nextIdx < 0 ? options.length + nextIdx : nextIdx];\n      this.onChange(nextOption.value);\n    }\n  }, {\n    key: \"setOptionsVisible\",\n    value: function setOptionsVisible(optionsVisible) {\n      this.setState({\n        optionsVisible: optionsVisible\n      });\n    }\n  }, {\n    key: \"renderOptions\",\n    value: function renderOptions(options, activeOption) {\n      var _this2 = this;\n\n      return createVNode(1, \"div\", \"options\", options.map(function (option) {\n        return createVNode(1, \"div\", ['option', activeOption === option ? 'active' : ''].join(' '), option.label, 0, {\n          \"data-value\": option.value,\n          \"onClick\": function onClick(e) {\n            return _this2.onOptionClick(option.value, e);\n          }\n        });\n      }), 0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          options = _this$props.options,\n          noInput = _this$props.noInput,\n          title = _this$props.title;\n      var _this$state = this.state,\n          optionsVisible = _this$state.optionsVisible,\n          value = _this$state.value;\n      var option = options ? options.filter(function (o) {\n        return o.value === value;\n      })[0] : false;\n      var label = option ? option.label : value;\n      return createVNode(1, \"div\", [className || '', 'dms-input-select'].join(' '), [noInput ? createVNode(1, \"div\", \"dms-input\", label, 0, {\n        \"tabindex\": \"0\",\n        \"onKeyDown\": this.onKeyDown\n      }, null, function (node) {\n        return _this3.inputNode = node;\n      }) : createVNode(64, \"input\", \"dms-input\", null, 1, {\n        \"onInput\": this.onInput,\n        \"onKeyDown\": this.onKeyDown,\n        \"spellcheck\": \"false\",\n        \"type\": \"text\",\n        \"value\": value\n      }, null, function (node) {\n        return _this3.inputNode = node;\n      }), createVNode(1, \"span\", ['dms-input-select-icon', optionsVisible ? 'dmn-icon-up' : 'dmn-icon-down'].join(' ')), optionsVisible && createPortal(this.renderOptions(options, option), this._portalEl)], 0, {\n        \"title\": title,\n        \"onClick\": this.onInputClick\n      }, null, function (node) {\n        return _this3.parentNode = node;\n      });\n    }\n  }]);\n\n  return InputSelect;\n}(Component);\n\nexport { InputSelect as default };\nInputSelect.$inject = ['keyboard', 'renderer']; // helper ////\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n//# sourceMappingURL=InputSelect.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport ContentEditable from 'dmn-js-shared/lib/components/ContentEditable';\nimport Input from 'dmn-js-shared/lib/components/Input';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\n\nvar InputEditor = /*#__PURE__*/function (_Component) {\n  _inherits(InputEditor, _Component);\n\n  var _super = _createSuper(InputEditor);\n\n  function InputEditor(props, context) {\n    var _this;\n\n    _classCallCheck(this, InputEditor);\n\n    _this = _super.call(this, props, context);\n    _this.translate = context.injector ? context.injector.get('translate') : noopTranslate;\n    var defaultExpressionLanguage = props.defaultExpressionLanguage.value;\n\n    _this.setExpressionLanguage = function (expressionLanguage) {\n      _this.handleChange({\n        expressionLanguage: expressionLanguage\n      });\n    };\n\n    _this.handleValue = function (text) {\n      var expressionLanguage = _this.props.expressionLanguage;\n      var change = {\n        text: text\n      };\n\n      if (isMultiLine(text) && !expressionLanguage) {\n        change.expressionLanguage = defaultExpressionLanguage;\n      }\n\n      if (!isMultiLine(text) && expressionLanguage === defaultExpressionLanguage) {\n        change.expressionLanguage = undefined;\n      }\n\n      _this.handleChange(change);\n    };\n\n    _this.handleLanguageChange = function (language) {\n      _this.setExpressionLanguage(language);\n    };\n\n    _this.handleLabelChange = function (value) {\n      // default to <undefined> for empty string\n      var label = value || undefined;\n\n      _this.handleChange({\n        label: label\n      });\n    };\n\n    _this.handleInputVariableChange = function (value) {\n      // default to <undefined> for empty string\n      var inputVariable = value || undefined;\n\n      _this.handleChange({\n        inputVariable: inputVariable\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(InputEditor, [{\n    key: \"handleChange\",\n    value: function handleChange(changes) {\n      var onChange = this.props.onChange;\n\n      if (typeof onChange === 'function') {\n        onChange(changes);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          expressionLanguage = _this$props.expressionLanguage,\n          expressionLanguages = _this$props.expressionLanguages,\n          inputVariable = _this$props.inputVariable,\n          label = _this$props.label,\n          text = _this$props.text;\n      return createVNode(1, \"div\", \"context-menu-container ref-input-editor input-edit\", [createVNode(1, \"div\", \"dms-form-control\", createComponentVNode(2, ContentEditable, {\n        \"className\": \"dms-input-label\",\n        \"value\": label || '',\n        \"placeholder\": this.translate('Input'),\n        \"singleLine\": true,\n        \"onInput\": this.handleLabelChange\n      }), 2), createVNode(1, \"div\", \"dms-form-control\", [createVNode(1, \"label\", \"dms-label\", this.translate('Expression'), 0), createComponentVNode(2, ContentEditable, {\n        \"placeholder\": \"enter expression\",\n        \"className\": ['ref-text', 'dms-input'].join(' '),\n        \"onInput\": this.handleValue,\n        \"value\": text || ''\n      })], 4), createVNode(1, \"div\", \"dms-form-control\", [createVNode(1, \"label\", \"dms-label\", this.translate('Expression Language'), 0), createComponentVNode(2, InputSelect, {\n        \"className\": \"ref-language\",\n        \"value\": expressionLanguage || '',\n        \"onChange\": this.handleLanguageChange,\n        \"options\": expressionLanguages\n      })], 4), createVNode(1, \"div\", \"dms-form-control\", [createVNode(1, \"label\", \"dms-label\", this.translate('Input Variable'), 0), createComponentVNode(2, Input, {\n        \"className\": \"ref-input-variable\",\n        \"value\": inputVariable || '',\n        \"onInput\": this.handleInputVariableChange,\n        \"placeholder\": this.translate('cellInput')\n      })], 4)], 4);\n    }\n  }]);\n\n  return InputEditor;\n}(Component);\n\nexport { InputEditor as default };\n\nfunction isMultiLine(text) {\n  return text && text.split(/\\n/).length > 1;\n}\n\nfunction noopTranslate(str) {\n  return str;\n}\n//# sourceMappingURL=InputEditor.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _excluded = [\"inputVariable\", \"label\"];\nimport { createComponentVNode } from \"inferno\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport InputEditor from './InputEditor';\nimport { inject } from 'table-js/lib/components';\n\nvar InputCellContextMenu = /*#__PURE__*/function (_Component) {\n  _inherits(InputCellContextMenu, _Component);\n\n  var _super = _createSuper(InputCellContextMenu);\n\n  function InputCellContextMenu(props, context) {\n    var _this;\n\n    _classCallCheck(this, InputCellContextMenu);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"persistChanges\", function () {\n      var input = _this.props.context.input;\n      var unsaved = _this.state.unsaved;\n\n      if (!unsaved) {\n        return;\n      }\n\n      var inputVariable = unsaved.inputVariable,\n          label = unsaved.label,\n          inputExpressionProperties = _objectWithoutProperties(unsaved, _excluded);\n\n      var changes = {};\n\n      if ('inputVariable' in unsaved) {\n        changes.inputVariable = inputVariable;\n      }\n\n      if ('label' in unsaved) {\n        changes.label = label;\n      }\n\n      if (hasKeys(inputExpressionProperties)) {\n        changes.inputExpression = inputExpressionProperties;\n      }\n\n      _this.modeling.updateProperties(input, changes);\n\n      _this.setState({\n        unsaved: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (changes) {\n      _this.setState({\n        unsaved: _objectSpread(_objectSpread({}, _this.state.unsaved), changes)\n      }, _this.persistChanges);\n    });\n\n    _this.state = {};\n    inject(_assertThisInitialized(_this));\n    _this.persistChanges = _this.debounceInput(_this.persistChanges);\n    _this._expressionLanguages = context.injector.get('expressionLanguages');\n    return _this;\n  }\n\n  _createClass(InputCellContextMenu, [{\n    key: \"getValue\",\n    value: function getValue(attr) {\n      var input = this.props.context.input;\n      var unsaved = this.state.unsaved;\n      var target = input; // input variable stored in parent\n\n      if (attr === 'expressionLanguage' || attr === 'text') {\n        target = target.inputExpression;\n      }\n\n      return unsaved && attr in unsaved ? unsaved[attr] : target.get(attr);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var defaultLanguage = this._expressionLanguages.getDefault('inputHeadCell'),\n          expressionLanguages = this._expressionLanguages.getAll();\n\n      return createComponentVNode(2, InputEditor, {\n        \"expressionLanguage\": this.getValue('expressionLanguage') || defaultLanguage.value,\n        \"expressionLanguages\": expressionLanguages,\n        \"defaultExpressionLanguage\": defaultLanguage,\n        \"inputVariable\": this.getValue('inputVariable'),\n        \"label\": this.getValue('label'),\n        \"text\": this.getValue('text'),\n        \"onChange\": this.handleChange\n      });\n    }\n  }]);\n\n  return InputCellContextMenu;\n}(Component);\n\nexport { InputCellContextMenu as default };\nInputCellContextMenu.$inject = ['debounceInput', 'modeling', 'injector']; // helpers //////////////////////\n\nfunction hasKeys(obj) {\n  return Object.keys(obj).length;\n}\n//# sourceMappingURL=InputCellContextMenu.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { closest as domClosest } from 'min-dom';\nimport InputCell from './components/InputCell';\nimport InputCellContextMenu from './components/InputCellContextMenu';\n\nvar InputCellProvider = /*#__PURE__*/_createClass(function InputCellProvider(components, contextMenu, eventBus, renderer) {\n  _classCallCheck(this, InputCellProvider);\n\n  components.onGetComponent('cell', function (_ref) {\n    var cellType = _ref.cellType;\n\n    if (cellType === 'input-header') {\n      return InputCell;\n    }\n  });\n  components.onGetComponent('context-menu', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType === 'input-edit') {\n      return InputCellContextMenu;\n    }\n  });\n  eventBus.on('input.edit', function (_ref2) {\n    var event = _ref2.event,\n        input = _ref2.input;\n    var target = event.target;\n    var node = domClosest(target, 'th', true);\n\n    var _node$getBoundingClie = node.getBoundingClientRect(),\n        left = _node$getBoundingClie.left,\n        top = _node$getBoundingClie.top;\n\n    contextMenu.open({\n      x: left,\n      y: top,\n      align: 'bottom-right'\n    }, {\n      contextMenuType: 'input-edit',\n      input: input\n    });\n  });\n});\n\nexport { InputCellProvider as default };\nInputCellProvider.$inject = ['components', 'contextMenu', 'eventBus', 'renderer'];\n//# sourceMappingURL=InputEditingProvider.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { is, isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nvar TYPES = ['string', 'boolean', 'integer', 'long', 'double', 'date'];\n\nvar TypeRefCellContextMenu = /*#__PURE__*/function (_Component) {\n  _inherits(TypeRefCellContextMenu, _Component);\n\n  var _super = _createSuper(TypeRefCellContextMenu);\n\n  function TypeRefCellContextMenu(props, context) {\n    var _this;\n\n    _classCallCheck(this, TypeRefCellContextMenu);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onTypeChange\", function (value) {\n      var element = _this.getElement();\n\n      var actualElement = is(element, 'dmn:LiteralExpression') ? element.$parent : element;\n      var newProperties;\n\n      if (isInput(actualElement)) {\n        newProperties = {\n          inputExpression: {\n            typeRef: value\n          }\n        };\n      } else if (isOutput(actualElement)) {\n        newProperties = {\n          typeRef: value\n        };\n      }\n\n      _this._modeling.updateProperties(actualElement, newProperties);\n    });\n\n    _this._translate = context.injector.get('translate');\n    _this._modeling = context.injector.get('modeling');\n    return _this;\n  }\n\n  _createClass(TypeRefCellContextMenu, [{\n    key: \"getElement\",\n    value: function getElement() {\n      return this.props.context.input || this.props.context.output;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var element = this.getElement();\n      var typeRef = (is(element, 'dmn:InputClause') ? element.inputExpression : element).typeRef;\n      var typeRefOptions = TYPES.map(function (t) {\n        return {\n          label: t,\n          value: t\n        };\n      });\n      return createVNode(1, \"div\", \"type-ref-edit context-menu-container\", createVNode(1, \"div\", \"dms-form-control\", [createVNode(1, \"label\", \"dms-label\", [this._translate('Type'), createTextVNode(\":\")], 0), createComponentVNode(2, InputSelect, {\n        \"className\": \"type-ref-edit-select\",\n        \"onChange\": this.onTypeChange,\n        \"options\": typeRefOptions,\n        \"value\": typeRef\n      })], 4), 2);\n    }\n  }]);\n\n  return TypeRefCellContextMenu;\n}(Component);\n\nexport { TypeRefCellContextMenu as default };\n//# sourceMappingURL=TypeRefCellContextMenu.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport TypeRefCellContextMenu from './components/TypeRefCellContextMenu';\nvar LOW_PRIORITY = 750;\n\nvar TypeRef = /*#__PURE__*/_createClass(function TypeRef(components) {\n  _classCallCheck(this, TypeRef);\n\n  components.onGetComponent('context-menu', LOW_PRIORITY, function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var contextMenuType = context.contextMenuType;\n\n    if (contextMenuType === 'input-edit' || contextMenuType === 'output-edit') {\n      return TypeRefCellContextMenu;\n    }\n  });\n});\n\nexport { TypeRef as default };\nTypeRef.$inject = ['components'];\n//# sourceMappingURL=TypeRefEditingProvider.js.map","import ContextMenu from 'table-js/lib/features/context-menu';\nimport TypeRefEditingProvider from './TypeRefEditingProvider';\nexport default {\n  __depends__: [ContextMenu],\n  __init__: ['typeRefEditingProvider'],\n  typeRefEditingProvider: ['type', TypeRefEditingProvider]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { is, isInput } from 'dmn-js-shared/lib/util/ModelUtil';\n/**\n * Makes sure allowed values are removed if type is set to\n * something other than string.\n */\n\nvar AllowedValuesUpdateBehavior = /*#__PURE__*/function (_CommandInterceptor) {\n  _inherits(AllowedValuesUpdateBehavior, _CommandInterceptor);\n\n  var _super = _createSuper(AllowedValuesUpdateBehavior);\n\n  function AllowedValuesUpdateBehavior(eventBus, modeling) {\n    var _this;\n\n    _classCallCheck(this, AllowedValuesUpdateBehavior);\n\n    _this = _super.call(this, eventBus);\n\n    _this.postExecuted('element.updateProperties', function (event) {\n      var _event$context = event.context,\n          element = _event$context.element,\n          properties = _event$context.properties;\n      var actualProperties = isInput(element) ? properties.inputExpression : properties;\n\n      if (actualProperties && actualProperties.typeRef && actualProperties.typeRef !== 'string') {\n        var target = is(element, 'dmn:LiteralExpression') ? element.$parent : element; // delete allowed values\n\n        modeling.editAllowedValues(target, null);\n      }\n    });\n\n    return _this;\n  }\n\n  return _createClass(AllowedValuesUpdateBehavior);\n}(CommandInterceptor);\n\nexport { AllowedValuesUpdateBehavior as default };\nAllowedValuesUpdateBehavior.$inject = ['eventBus', 'modeling'];\n//# sourceMappingURL=AllowedValuesUpdateBehavior.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { groupBy } from 'min-dash';\nvar RADIO = 'radio';\nvar REMOVE_BTN_CLS = 'remove dmn-icon-clear';\n/**\n * Shows a list of grouped items that can be checked\n * (checkboxes or radio buttons), removed.\n *\n * Example list of items:\n *\n * [\n *   { value: 'foo', isChecked: true, isRemovable: false, group: 'foo' },\n *   { value: 'bar', isChecked: false, isRemovable: true, group: 'bar' },\n *   { value: 'baz', isCheckable: false, group: 'baz' }\n * ]\n */\n\nvar List = /*#__PURE__*/function (_Component) {\n  _inherits(List, _Component);\n\n  var _super = _createSuper(List);\n\n  function List(props, context) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"getRemoveClickHandler\", function (item) {\n      return function (e) {\n        e.stopPropagation();\n\n        _this.removeItem(item);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getToggleClickHandler\", function (item) {\n      return function (e) {\n        e.stopPropagation();\n\n        _this.toggleItem(item);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeItem\", function (item) {\n      var onChange = _this.props.onChange; // remove item\n\n      var newItems = _this.state.items.filter(function (i) {\n        return i !== item;\n      });\n\n      _this.setState({\n        items: newItems\n      });\n\n      onChange && onChange(newItems);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleItem\", function (item) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          type = _this$props.type; // toggle item\n\n      var newItems = _this.state.items.map(function (i) {\n        if (i === item) {\n          i.isChecked = !i.isChecked;\n        } else {\n          if (type === RADIO) {\n            i.isChecked = false;\n          }\n        }\n\n        return i;\n      });\n\n      _this.setState({\n        items: newItems\n      });\n\n      onChange && onChange(newItems);\n    });\n\n    var items = props.items;\n    _this.state = {\n      items: items\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var items = props.items;\n      this.setState({\n        items: items\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          className = _this$props2.className,\n          items = _this$props2.items,\n          type = _this$props2.type,\n          labelComponent = _this$props2.labelComponent;\n      var classes = ['dms-list-component'];\n\n      if (className) {\n        classes.push(className);\n      } // group items by group title\n\n\n      var groupedItems = groupBy(items, 'group');\n      var asPairs = toPairs(groupedItems);\n      return createVNode(1, \"div\", classes.join(' '), asPairs.map(function (pair) {\n        var groupTitle = pair[0],\n            groupItems = pair[1];\n        return createVNode(1, \"div\", \"group\", [labelComponent && labelComponent(groupTitle) || createVNode(1, \"h4\", \"dms-heading\", groupTitle, 0), createVNode(1, \"ul\", \"items no-wrap\", groupItems.map(function (item) {\n          return createVNode(1, \"li\", \"item\", [type && createVNode(64, \"input\", \"item-toggle\", null, 1, {\n            \"type\": type,\n            \"checked\": item.isChecked,\n            \"onClick\": _this2.getToggleClickHandler(item)\n          }), createTextVNode(\"\\xA0\"), item.value, item.isRemovable && createVNode(1, \"span\", REMOVE_BTN_CLS, null, 1, {\n            \"title\": \"Remove item\",\n            \"onClick\": _this2.getRemoveClickHandler(item)\n          })], 0);\n        }), 0)], 0);\n      }), 0);\n    }\n  }]);\n\n  return List;\n}(Component); // helpers ////////////\n\n\nexport { List as default };\n\nfunction toPairs(object) {\n  var entrys = [];\n\n  for (var key in object) {\n    entrys.push([key, object[key]]);\n  }\n\n  return entrys;\n}\n//# sourceMappingURL=List.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno'; // eslint-disable-next-line\n\nimport Input from './Input';\n/**\r\n * Input with optional validation.\r\n */\n\nvar ValidatedInput = /*#__PURE__*/function (_Component) {\n  _inherits(ValidatedInput, _Component);\n\n  var _super = _createSuper(ValidatedInput);\n\n  function ValidatedInput(props, context) {\n    var _this;\n\n    _classCallCheck(this, ValidatedInput);\n\n    _this = _super.call(this, props, context);\n    var validate = props.validate,\n        value = props.value;\n    var validationWarning = validate ? validate(value || '') : undefined;\n    _this.state = {\n      validationWarning: validationWarning,\n      value: value\n    };\n    _this.onInput = _this.onInput.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onKeyUp = _this.onKeyUp.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ValidatedInput, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var validate = props.validate,\n          value = props.value;\n      var validationWarning = validate ? validate(value || '') : undefined;\n      this.setState({\n        validationWarning: validationWarning,\n        value: value\n      });\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(value) {\n      var _this$props = this.props,\n          onInput = _this$props.onInput,\n          validate = _this$props.validate;\n      var validationWarning = validate ? validate(value) : undefined;\n      this.setState({\n        validationWarning: validationWarning,\n        value: value\n      });\n\n      if (typeof onInput !== 'function') {\n        return;\n      }\n\n      onInput && onInput({\n        isValid: !validationWarning,\n        value: value\n      });\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      var target = event.target,\n          value = target.value;\n      var _this$props2 = this.props,\n          onKeyDown = _this$props2.onKeyDown,\n          validate = _this$props2.validate;\n      var validationWarning = validate ? validate(value) : undefined;\n\n      if (typeof onKeyDown !== 'function') {\n        return;\n      }\n\n      onKeyDown({\n        isValid: !validationWarning,\n        value: value,\n        event: event\n      });\n    }\n  }, {\n    key: \"onKeyUp\",\n    value: function onKeyUp(event) {\n      var target = event.target,\n          value = target.value;\n      var _this$props3 = this.props,\n          onKeyUp = _this$props3.onKeyUp,\n          validate = _this$props3.validate;\n      var validationWarning = validate ? validate(value) : undefined;\n\n      if (typeof onKeyUp !== 'function') {\n        return;\n      }\n\n      onKeyUp({\n        isValid: !validationWarning,\n        value: value,\n        event: event\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          placeholder = _this$props4.placeholder,\n          type = _this$props4.type,\n          className = _this$props4.className;\n      var _this$state = this.state,\n          validationWarning = _this$state.validationWarning,\n          value = _this$state.value;\n      var parentClasses = ['dms-validated-input', className].join(' ');\n      var inputClasses = [];\n\n      if (validationWarning) {\n        inputClasses.push('invalid');\n      }\n\n      return createVNode(1, \"div\", parentClasses, [createComponentVNode(2, Input, {\n        \"className\": inputClasses,\n        \"onInput\": this.onInput,\n        \"onKeyDown\": this.onKeyDown,\n        \"onKeyUp\": this.onKeyUp,\n        \"placeholder\": placeholder || '',\n        \"type\": type,\n        \"value\": value || ''\n      }), validationWarning && createVNode(1, \"p\", \"dms-hint dms-validation-warning\", validationWarning, 0)], 0);\n    }\n  }]);\n\n  return ValidatedInput;\n}(Component);\n\nexport { ValidatedInput as default };\n//# sourceMappingURL=ValidatedInput.js.map","export function parseString(string) {\n  // empty string or no string at all\n  if (!string || isEmptyString(string.trim())) {\n    return {\n      values: []\n    };\n  } // disjunction\n\n\n  var values = string.split(',');\n  var result = {\n    values: []\n  };\n  var openString = '';\n  values.forEach(function (value) {\n    openString += value;\n\n    if (/^\"[^\"]*\"$/.test(openString.trim())) {\n      result.values.push(openString.trim());\n      openString = '';\n    } else {\n      openString += ',';\n    }\n  });\n\n  if (!openString) {\n    return result;\n  }\n}\n\nfunction isEmptyString(string) {\n  return string === '';\n}\n\nexport function getValuesArray(values) {\n  return values.map(function (value) {\n    return value.value;\n  });\n}\n//# sourceMappingURL=Utils.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport List from 'dmn-js-shared/lib/components/List';\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\nimport { getValuesArray, parseString } from '../Utils';\n\nvar AllowedValuesEditing = /*#__PURE__*/function (_Component) {\n  _inherits(AllowedValuesEditing, _Component);\n\n  var _super = _createSuper(AllowedValuesEditing);\n\n  function AllowedValuesEditing(props, context) {\n    var _this;\n\n    _classCallCheck(this, AllowedValuesEditing);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPredefinedValues\", function (values) {\n      // inputClause or outputClause\n      var target = _this.getAllowedValuesTarget();\n\n      _this.setState({\n        values: values\n      });\n\n      _this._modeling.editAllowedValues(target, values && getValuesArray(values));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onListChange\", function (values) {\n      _this.setPredefinedValues(values);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onInput\", function (_ref) {\n      var isValid = _ref.isValid,\n          value = _ref.value;\n\n      _this.setState({\n        inputValue: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (_ref2) {\n      var isValid = _ref2.isValid,\n          event = _ref2.event;\n\n      if (!isEnter(event.keyCode)) {\n        return;\n      }\n\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (isValid) {\n        var _this$state = _this.state,\n            inputValue = _this$state.inputValue,\n            values = _this$state.values;\n        var parsedString = parseString(inputValue);\n\n        _this.onListChange((values || []).concat(parsedString.values.map(function (value) {\n          return {\n            value: value,\n            isCheckable: false,\n            isRemovable: true,\n            group: 'Predefined Values'\n          };\n        })));\n\n        _this.setState({\n          inputValue: ''\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRemovePredifinedValuesClick\", function (e) {\n      e.stopPropagation();\n\n      _this.removePredefinedValues();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removePredefinedValues\", function () {\n      _this.setPredefinedValues(null);\n    });\n\n    _this._translate = context.injector.get('translate');\n    _this._modeling = context.injector.get('modeling');\n    _this._changeSupport = context.changeSupport;\n\n    var _target = _this.getAllowedValuesTarget();\n\n    var _parsedString = parseString(_target.inputValues && _target.inputValues.text || _target.outputValues && _target.outputValues.text || '');\n\n    if (_parsedString) {\n      _this.state = {\n        values: _parsedString.values.map(function (value) {\n          return {\n            value: value,\n            isCheckable: false,\n            isRemovable: true,\n            group: 'Predefined Values'\n          };\n        }),\n        inputValue: ''\n      };\n    } else {\n      _this.state = {\n        values: null,\n        inputValue: ''\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(AllowedValuesEditing, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var target = this.getAllowedValuesTarget();\n\n      this._changeSupport.onElementsChanged(target.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var target = this.getAllowedValuesTarget();\n\n      this._changeSupport.offElementsChanged(target.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"getAllowedValuesTarget\",\n    value: function getAllowedValuesTarget() {\n      var element = this.getElement();\n\n      if (is(element, 'dmn:LiteralExpression')) {\n        return element.$parent;\n      } else {\n        return element;\n      }\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement() {\n      return this.props.context.output || this.props.context.input.inputExpression;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var element = this.getElement();\n      var _this$state2 = this.state,\n          inputValue = _this$state2.inputValue,\n          values = _this$state2.values;\n      return element.typeRef === 'string' ? createVNode(1, \"div\", \"context-menu-container allowed-values-edit\", createVNode(1, \"div\", \"dms-form-control\", [!isNull(values) && values.length > 0 && createComponentVNode(2, List, {\n        \"labelComponent\": Label,\n        \"items\": values,\n        \"onChange\": this.onListChange\n      }), !isNull(values) && !values.length && createVNode(1, \"div\", null, [createVNode(1, \"label\", \"dms-label\", this._translate('Predefined Values'), 0), createVNode(1, \"span\", \"placeholder\", this._translate('No values'), 0)], 4), !isNull(values) && createVNode(1, \"p\", \"dms-hint\", createVNode(1, \"button\", \"del-values\", this._translate('Clear predefined values.'), 0, {\n        \"type\": \"button\",\n        \"onClick\": this.handleRemovePredifinedValuesClick\n      }), 2), createVNode(1, \"label\", \"dms-label\", this._translate('Add Predefined Values'), 0), createComponentVNode(2, ValidatedInput, {\n        \"onInput\": this.onInput,\n        \"onKeyDown\": this.onKeyDown,\n        \"placeholder\": '\"value\", \"value\", ...',\n        \"type\": \"text\",\n        \"validate\": function validate(value) {\n          if (!parseString(value)) {\n            return _this2._translate('Strings must be in double quotes.');\n          }\n        },\n        \"value\": inputValue\n      })], 0), 2) : null;\n    }\n  }]);\n\n  return AllowedValuesEditing;\n}(Component);\n\nexport { AllowedValuesEditing as default };\n\nfunction Label(label) {\n  return createVNode(1, \"label\", \"dms-label\", label, 0);\n} // helpers //////////////////////\n\n\nfunction isEnter(keyCode) {\n  return keyCode === 13;\n}\n\nfunction isNull(value) {\n  return value === null;\n}\n//# sourceMappingURL=AllowedValuesEditing.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport AllowedValuesEditing from './components/AllowedValuesEditing';\nvar LOW_PRIORITY = 500;\n\nvar InputOutputValues = /*#__PURE__*/_createClass(function InputOutputValues(components) {\n  _classCallCheck(this, InputOutputValues);\n\n  components.onGetComponent('context-menu', LOW_PRIORITY, function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var contextMenuType = context.contextMenuType;\n\n    if (contextMenuType === 'input-edit' || contextMenuType === 'output-edit') {\n      return AllowedValuesEditing;\n    }\n  });\n});\n\nexport { InputOutputValues as default };\nInputOutputValues.$inject = ['components'];\n//# sourceMappingURL=AllowedValuesEditingProvider.js.map","import AllowedValuesUpdateBehavior from './behavior/AllowedValuesUpdateBehavior';\nimport AllowedValuesEditingProvider from './AllowedValuesEditingProvider';\nexport default {\n  __init__: ['allowedValuesUpdateBehavior', 'allowedValuesEditingProvider'],\n  allowedValuesUpdateBehavior: ['type', AllowedValuesUpdateBehavior],\n  allowedValuesEditingProvider: ['type', AllowedValuesEditingProvider]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\n\nvar AddInput = /*#__PURE__*/function (_Component) {\n  _inherits(AddInput, _Component);\n\n  var _super = _createSuper(AddInput);\n\n  function AddInput(props, context) {\n    var _this;\n\n    _classCallCheck(this, AddInput);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      e.stopPropagation();\n\n      _this.add();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"add\", function () {\n      _this._eventBus.fire('addInput');\n    });\n\n    _this._sheet = context.injector.get('sheet');\n    _this._eventBus = context.injector.get('eventBus');\n    _this._changeSupport = context.changeSupport;\n    _this._translate = context.injector.get('translate');\n    return _this;\n  }\n\n  _createClass(AddInput, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var root = this.getRoot();\n\n      this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var root = this.getRoot();\n\n      this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"getRoot\",\n    value: function getRoot() {\n      return this._sheet.getRoot();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"div\", \"add-input actionable\", createVNode(1, \"span\", \"dmn-icon-plus action-icon\"), 2, {\n        \"onClick\": this.handleClick,\n        \"title\": this._translate('Add Input')\n      });\n    }\n  }]);\n\n  return AddInput;\n}(Component);\n\nexport { AddInput as default };\n//# sourceMappingURL=AddInput.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\n\nvar AddOutput = /*#__PURE__*/function (_Component) {\n  _inherits(AddOutput, _Component);\n\n  var _super = _createSuper(AddOutput);\n\n  function AddOutput(props, context) {\n    var _this;\n\n    _classCallCheck(this, AddOutput);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      e.stopPropagation();\n\n      _this.add();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"add\", function () {\n      _this._eventBus.fire('addOutput');\n    });\n\n    _this._sheet = context.injector.get('sheet');\n    _this._eventBus = context.injector.get('eventBus');\n    _this._changeSupport = context.changeSupport;\n    _this._translate = context.injector.get('translate');\n    return _this;\n  }\n\n  _createClass(AddOutput, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var root = this.getRoot();\n\n      this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var root = this.getRoot();\n\n      this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"getRoot\",\n    value: function getRoot() {\n      return this._sheet.getRoot();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"div\", \"add-output actionable\", createVNode(1, \"span\", \"dmn-icon-plus action-icon\"), 2, {\n        \"onClick\": this.handleClick,\n        \"title\": this._translate('Add Output')\n      });\n    }\n  }]);\n\n  return AddOutput;\n}(Component);\n\nexport { AddOutput as default };\n//# sourceMappingURL=AddOutput.js.map","import AddInput from './components/AddInput';\nimport AddOutput from './components/AddOutput';\nexport default function AddInputOutputProvider(components, editorActions, eventBus) {\n  components.onGetComponent('cell-inner', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var cellType = context.cellType,\n        index = context.index,\n        inputsLength = context.inputsLength,\n        outputsLength = context.outputsLength;\n\n    if (cellType === 'input-cell' && index === inputsLength - 1) {\n      return AddInput;\n    }\n\n    if (cellType === 'output-cell' && index === outputsLength - 1) {\n      return AddOutput;\n    }\n  });\n  eventBus.on('addInput', function () {\n    editorActions.trigger('addInput');\n  });\n  eventBus.on('addOutput', function () {\n    editorActions.trigger('addOutput');\n  });\n}\nAddInputOutputProvider.$inject = ['components', 'editorActions', 'eventBus'];\n//# sourceMappingURL=AddInputOutputProvider.js.map","import AddInputOutputProvider from './AddInputOutputProvider';\nimport EditorActions from '../editor-actions';\nexport default {\n  __depends__: [EditorActions],\n  __init__: ['addInputOutputProvider'],\n  addInputOutputProvider: ['type', AddInputOutputProvider]\n};\n//# sourceMappingURL=index.js.map","import EditorActions from '../editor-actions';\nimport Keyboard from './Keyboard';\nexport default {\n  __depends__: [EditorActions],\n  __init__: ['keyboard'],\n  keyboard: ['type', Keyboard]\n};\n//# sourceMappingURL=index.js.map","import ContextMenu from 'table-js/lib/features/context-menu';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nimport ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport OutputEditingProvider from './OutputEditingProvider';\nimport InputEditingProvider from './InputEditingProvider';\nimport TypeRefEditing from '../../type-ref';\nimport AllowedValuesEditing from '../../allowed-values';\nimport AddInputOutput from '../../add-input-output';\nimport KeyboardModule from '../../../features/keyboard';\nexport default {\n  __depends__: [AddInputOutput, AllowedValuesEditing, ContextMenu, DebounceInput, ExpressionLanguagesModule, KeyboardModule, TypeRefEditing],\n  __init__: ['inputEditingProvider', 'outputEditingProvider'],\n  inputEditingProvider: ['type', InputEditingProvider],\n  outputEditingProvider: ['type', OutputEditingProvider]\n};\n//# sourceMappingURL=index.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Row, Col } from '../../model';\nimport { closest as domClosest, event as domEvent } from 'min-dom';\nvar TARGET_SELECTOR = \".dmn-decision-table-container td,\\n   .dmn-decision-table-container th\";\n\nvar DragAndDrop =\n/*#__PURE__*/\nfunction () {\n  function DragAndDrop(eventBus, renderer, modeling, sheet) {\n    var _this = this;\n\n    _classCallCheck(this, DragAndDrop);\n\n    _defineProperty(this, \"handleDragOver\", function (event) {\n      // we're taking over (!)\n      stopEvent(event);\n      var targetEl = event.target;\n      var cellEl = domClosest(targetEl, TARGET_SELECTOR, true);\n      var allowed = !!cellEl;\n      var hoverEl = _this._dragContext.hoverEl; // drag leave\n\n      if (hoverEl && hoverEl !== cellEl) {\n        _this._emit('dragAndDrop.dragLeave', event); // unset target element\n\n\n        _this._dragContext.targetEl = null; // unset hover element\n\n        _this._dragContext.hoverEl = null;\n      }\n\n      if (cellEl) {\n        // drag enter\n        if (cellEl !== hoverEl) {\n          // new hover element\n          _this._dragContext.hoverEl = cellEl;\n          allowed = _this._emit('dragAndDrop.dragEnter', event);\n\n          if (allowed !== false) {\n            // new targetEl\n            _this._dragContext.targetEl = cellEl;\n          }\n        } // drag over\n\n\n        allowed = _this._emit('dragAndDrop.dragOver', event);\n      }\n\n      event.dataTransfer.dropEffect = allowed !== false ? 'move' : 'none';\n    });\n\n    _defineProperty(this, \"handleDrop\", function (event) {\n      // prevent default drop action\n      // QUIRK: Firefox will redirect if not prevented\n      stopEvent(event);\n\n      var target = _this._emit('dragAndDrop.drop', event);\n\n      if (target) {\n        var draggedElement = _this._dragContext.draggedElement;\n\n        if (draggedElement instanceof Row) {\n          var _this$_sheet$getRoot = _this._sheet.getRoot(),\n              rows = _this$_sheet$getRoot.rows;\n\n          var index = rows.indexOf(target);\n\n          _this._modeling.moveRow(draggedElement, index);\n        } else if (draggedElement instanceof Col) {\n          var _this$_sheet$getRoot2 = _this._sheet.getRoot(),\n              cols = _this$_sheet$getRoot2.cols;\n\n          var _index = cols.indexOf(target);\n\n          _this._modeling.moveCol(draggedElement, _index);\n        }\n      } // manually call to drag end needed, as we prevent the default\n      // browser behavior / drag end handling via\n      // event.preventDefault();\n\n\n      _this.handleDragEnd(event);\n    });\n\n    _defineProperty(this, \"handleDragEnd\", function (event) {\n      // prevent default drop action\n      stopEvent(event);\n\n      _this._unbindListeners();\n\n      _this._emit('dragAndDrop.dragEnd', event);\n\n      _this._dragContext = null;\n    });\n\n    this._eventBus = eventBus;\n    this._renderer = renderer;\n    this._modeling = modeling;\n    this._sheet = sheet;\n    this._dragContext = null;\n    eventBus.on('table.destroy', function () {\n      _this._unbindListeners();\n    });\n  }\n\n  _createClass(DragAndDrop, [{\n    key: \"_bindListeners\",\n    value: function _bindListeners() {\n      domEvent.bind(document, 'dragover', this.handleDragOver);\n      domEvent.bind(document, 'drop', this.handleDrop);\n      domEvent.bind(document, 'dragend', this.handleDragEnd);\n    }\n  }, {\n    key: \"_unbindListeners\",\n    value: function _unbindListeners() {\n      domEvent.unbind(document, 'dragover', this.handleDragOver);\n      domEvent.unbind(document, 'drop', this.handleDrop);\n      domEvent.unbind(document, 'dragend', this.handleDragEnd);\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(eventName, originalEvent) {\n      return this._eventBus.fire(eventName, {\n        dragContext: this._dragContext,\n        originalEvent: originalEvent\n      });\n    }\n  }, {\n    key: \"startDrag\",\n    value: function startDrag(element, event) {\n      stopEvent(event, true);\n      event.dataTransfer.effectAllowed = 'move'; // QUIRK: Firefox won't fire events unless data was set\n\n      if (event.dataTransfer.setData) {\n        event.dataTransfer.setData('text', '__DUMMY');\n      }\n\n      this._dragContext = {\n        draggedElement: element\n      };\n\n      this._bindListeners();\n\n      this._emit('dragAndDrop.dragStart', event);\n    }\n  }]);\n\n  return DragAndDrop;\n}();\n\nexport { DragAndDrop as default };\nDragAndDrop.$inject = ['eventBus', 'renderer', 'modeling', 'sheet']; // helpers /////////////////\n\nfunction stopEvent(event, preventDefault) {\n  event.stopPropagation();\n\n  if (preventDefault !== true) {\n    event.preventDefault();\n  }\n}\n//# sourceMappingURL=DragAndDrop.js.map","import DragAndDrop from './DragAndDrop';\nexport default {\n  __init__: ['dragAndDrop'],\n  dragAndDrop: ['type', DragAndDrop]\n};\n//# sourceMappingURL=index.js.map","import { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { classes as domClasses, domify, queryAll as domQueryAll, remove as domRemove } from 'min-dom';\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { Row, Col } from 'table-js/lib/model';\nimport { forEach } from 'min-dash';\nvar TOP = 'top',\n    RIGHT = 'right',\n    BOTTOM = 'bottom',\n    LEFT = 'left';\n\nvar DragAndDrop = /*#__PURE__*/function () {\n  function DragAndDrop(components, elementRegistry, eventBus, dragAndDrop, renderer, rules, sheet) {\n    var _this = this;\n\n    _classCallCheck(this, DragAndDrop);\n\n    _defineProperty(this, \"_cleanup\", function () {\n      var container = _this._renderer.getContainer();\n\n      removeHighlight(container);\n      removeFadeOut(container);\n\n      if (_this._dragImage) {\n        domRemove(_this._dragImage);\n        _this._dragImage = null;\n      }\n    });\n\n    this._elementRegistry = elementRegistry;\n    this._dragAndDrop = dragAndDrop;\n    this._renderer = renderer;\n    this._rules = rules;\n    this._sheet = sheet; // provide drag handle for drag and drop\n\n    components.onGetComponent('cell-inner', function (_ref) {\n      var cellType = _ref.cellType,\n          col = _ref.col,\n          row = _ref.row;\n\n      if (cellType === 'rule-index') {\n        return function () {\n          return createVNode(1, \"span\", \"dmn-icon-drag vertical\", createTextVNode(\"\\xA0\"), 2, {\n            \"draggable\": \"true\",\n            \"onDragStart\": function onDragStart(e) {\n              return _this.startDrag(row, e);\n            },\n            \"title\": \"Move rule\"\n          });\n        };\n      } else if (cellType === 'input-cell' || cellType === 'output-cell') {\n        var title = \"Move \".concat(isInput(col) ? 'Input' : 'Output');\n        return function () {\n          return createVNode(1, \"span\", \"dmn-icon-drag horizontal\", null, 1, {\n            \"draggable\": \"true\",\n            \"onDragStart\": function onDragStart(e) {\n              return _this.startDrag(col, e);\n            },\n            \"title\": title\n          });\n        };\n      }\n    }); // validate allowed rules\n\n    eventBus.on('dragAndDrop.dragEnter', function (event) {\n      var dragContext = event.dragContext;\n      var draggedElement = dragContext.draggedElement,\n          hoverEl = dragContext.hoverEl; // can always drag rows\n\n      if (draggedElement instanceof Row) {\n        return true;\n      }\n\n      if (draggedElement instanceof Col) {\n        var dropIndex = getTargetColIndex(hoverEl, _this._elementRegistry, _this._sheet); // cannot drop as we cannot compute the drop index\n\n        if (dropIndex === -1) {\n          return false;\n        }\n\n        var allowed = _this._rules.allowed('col.move', {\n          col: draggedElement,\n          index: dropIndex\n        });\n\n        return allowed;\n      }\n\n      return false;\n    }); // clear previous UI\n\n    eventBus.on('dragAndDrop.dragLeave', function (event) {\n      var dragContext = event.dragContext;\n      var targetEl = dragContext.targetEl;\n\n      if (!targetEl) {\n        return;\n      }\n\n      var container = _this._renderer.getContainer();\n\n      removeHighlight(container);\n    }); // update UI\n\n    eventBus.on('dragAndDrop.dragOver', function (event) {\n      var dragContext = event.dragContext,\n          originalEvent = event.originalEvent;\n      var draggedElement = dragContext.draggedElement,\n          lastPosition = dragContext.lastPosition,\n          targetEl = dragContext.targetEl;\n\n      var container = _this._renderer.getContainer();\n\n      if (!targetEl) {\n        return false;\n      }\n\n      var newPosition;\n\n      if (draggedElement instanceof Row) {\n        newPosition = getVerticalPosition(originalEvent, targetEl);\n      }\n\n      if (draggedElement instanceof Col) {\n        newPosition = getHorizontalPosition(originalEvent, targetEl);\n      } // nothing to do\n\n\n      if (lastPosition === newPosition) {\n        return true;\n      } // remove old highlight\n\n\n      removeHighlight(container);\n\n      if (draggedElement instanceof Row) {\n        if (newPosition === TOP) {\n          // drop above\n          highlightRow(targetEl, container, 'top');\n        } else {\n          // drop below\n          highlightRow(targetEl, container, 'bottom');\n        }\n      }\n\n      if (draggedElement instanceof Col) {\n        if (newPosition === LEFT) {\n          // drop left\n          highlightCol(targetEl, container, 'left');\n        } else {\n          // drop right\n          highlightCol(targetEl, container, 'right');\n        }\n      } // remember position\n\n\n      dragContext.lastPosition = newPosition; // allowed\n\n      return true;\n    }); // perform drop operation\n\n    eventBus.on('dragAndDrop.drop', function (event) {\n      var dragContext = event.dragContext,\n          originalEvent = event.originalEvent;\n      var draggedElement = dragContext.draggedElement,\n          targetEl = dragContext.targetEl;\n\n      if (!targetEl) {\n        return false;\n      }\n\n      if (draggedElement instanceof Row) {\n        var verticalPosition = getVerticalPosition(originalEvent, targetEl);\n\n        var rowId = targetEl.dataset.rowId,\n            row = _this._elementRegistry.get(rowId);\n\n        if (!row || row === draggedElement) {\n          return;\n        }\n\n        var targetRow = getTargetRow(draggedElement, row, verticalPosition, _this._sheet.getRoot().rows);\n\n        if (targetRow === draggedElement) {\n          return;\n        }\n\n        return targetRow;\n      }\n\n      if (draggedElement instanceof Col) {\n        var horizontalPosition = getHorizontalPosition(originalEvent, targetEl); // no need to check rules; we verified on\n        // dragEnter that dropping is O.K.\n\n        var colId = targetEl.dataset.colId,\n            col = _this._elementRegistry.get(colId);\n\n        if (!col || col === draggedElement) {\n          return;\n        }\n\n        var targetCol = getTargetCol(draggedElement, col, horizontalPosition, _this._sheet.getRoot().cols);\n\n        if (targetCol === draggedElement) {\n          return;\n        }\n\n        return targetCol;\n      }\n    });\n    eventBus.on('dragAndDrop.dragEnd', this._cleanup);\n  }\n\n  _createClass(DragAndDrop, [{\n    key: \"startDrag\",\n    value: function startDrag(element, event) {\n      var container = this._renderer.getContainer();\n\n      this._dragImage = domify(\"<span style=\\\"\\n          visibility: hidden;\\n          position: fixed;\\n          top: -10000px\\n      \\\"></span>\"); // needs to be present in DOM\n\n      document.body.appendChild(this._dragImage); // QUIRK: not supported by Edge and Internet Explorer\n\n      if (event.dataTransfer.setDragImage) {\n        event.dataTransfer.setDragImage(this._dragImage, 0, 0);\n      }\n\n      if (element instanceof Row) {\n        fadeOutRow(element, container);\n      } else if (element instanceof Col) {\n        fadeOutCol(element, container);\n      }\n\n      this._dragAndDrop.startDrag(element, event);\n    }\n  }]);\n\n  return DragAndDrop;\n}();\n\nexport { DragAndDrop as default };\nDragAndDrop.$inject = ['components', 'elementRegistry', 'eventBus', 'dragAndDrop', 'renderer', 'rules', 'sheet']; // helpers //////////\n\nfunction getTargetColIndex(cellEl, elementRegistry, sheet) {\n  var targetCol = elementRegistry.get(cellEl.dataset.colId);\n\n  if (!targetCol) {\n    return -1;\n  }\n\n  var _sheet$getRoot = sheet.getRoot(),\n      cols = _sheet$getRoot.cols;\n\n  return cols.indexOf(targetCol);\n}\n\nfunction highlightRow(dragOverCell, container, position) {\n  var rowId = dragOverCell.dataset.rowId;\n\n  if (!rowId) {\n    return;\n  }\n\n  var cells = domQueryAll(\"[data-row-id=\".concat(rowId, \"]\"), container);\n  forEach(cells, function (cell) {\n    // QUIRK: PhantomJS might return object instead of NodeList\n    if (isNode(cell)) {\n      domClasses(cell).add('dragover');\n      domClasses(cell).add(position);\n    }\n  });\n}\n\nfunction highlightCol(dragOverCell, container, position) {\n  var colId = dragOverCell.dataset.colId;\n\n  if (!colId) {\n    return;\n  }\n\n  var cells = domQueryAll(\"[data-col-id=\".concat(colId, \"]\"), container);\n  forEach(cells, function (cell) {\n    // QUIRK: PhantomJS might return object instead of NodeList\n    if (isNode(cell)) {\n      domClasses(cell).add('dragover');\n      domClasses(cell).add(position);\n    }\n  });\n}\n\nfunction removeHighlight(container) {\n  var cells = domQueryAll('.dragover', container);\n  forEach(cells, function (cell) {\n    // QUIRK: PhantomJS might return object instead of NodeList\n    if (isNode(cell)) {\n      domClasses(cell).remove('dragover');\n      domClasses(cell).remove('top');\n      domClasses(cell).remove('right');\n      domClasses(cell).remove('bottom');\n      domClasses(cell).remove('left');\n    }\n  });\n}\n\nfunction fadeOutRow(row, container) {\n  var cells = domQueryAll(\"[data-row-id=\".concat(row.id, \"]\"), container);\n  forEach(cells, function (cell) {\n    // QUIRK: PhantomJS might return object instead of NodeList\n    if (isNode(cell)) {\n      domClasses(cell).add('dragged');\n    }\n  });\n}\n\nfunction fadeOutCol(col, container) {\n  var cells = domQueryAll(\"[data-col-id=\".concat(col.id, \"]\"), container);\n  forEach(cells, function (cell) {\n    // QUIRK: PhantomJS might return object instead of NodeList\n    if (isNode(cell)) {\n      domClasses(cell).add('dragged');\n    }\n  });\n}\n\nfunction removeFadeOut(container) {\n  var cells = domQueryAll('.dragged', container);\n  forEach(cells, function (cell) {\n    // QUIRK: PhantomJS might return object instead of NodeList\n    if (isNode(cell)) {\n      domClasses(cell).remove('dragged');\n    }\n  });\n}\n\nfunction getHorizontalPosition(event, dragOverElement) {\n  var bounds = dragOverElement.getBoundingClientRect();\n  return event.clientX < bounds.left + bounds.width / 2 ? LEFT : RIGHT;\n}\n\nfunction getVerticalPosition(event, dragOverElement) {\n  var bounds = dragOverElement.getBoundingClientRect();\n  return event.clientY < bounds.top + bounds.height / 2 ? TOP : BOTTOM;\n}\n\nfunction getTargetRow(draggedRow, targetRow, verticalPosition, rows) {\n  if (rows.indexOf(draggedRow) > rows.indexOf(targetRow)) {\n    targetRow = getRowBelow(targetRow, rows);\n  }\n\n  if (verticalPosition === TOP) {\n    // return row above or row\n    return getRowAbove(targetRow, rows);\n  } else {\n    // return row\n    return targetRow;\n  }\n}\n\nfunction getTargetCol(draggedCol, targetCol, horizontalPosition, cols) {\n  if (cols.indexOf(draggedCol) > cols.indexOf(targetCol)) {\n    targetCol = getColRight(targetCol, cols);\n  }\n\n  if (horizontalPosition === LEFT) {\n    // return col left or col\n    return getColLeft(targetCol, cols);\n  } else {\n    // return col\n    return targetCol;\n  }\n}\n\nfunction getRowAbove(row, rows) {\n  var index = rows.indexOf(row);\n  return rows[Math.max(0, index - 1)];\n}\n\nfunction getRowBelow(row, rows) {\n  var index = rows.indexOf(row);\n  return rows[Math.min(rows.length - 1, index + 1)];\n}\n\nfunction getColLeft(col, cols) {\n  var index = cols.indexOf(col);\n\n  if (isOutput(col)) {\n    var firstOutput = cols.filter(function (col) {\n      return isOutput(col);\n    })[0];\n    var firstOutputIndex = cols.indexOf(firstOutput);\n    return cols[Math.max(firstOutputIndex, index - 1)];\n  }\n\n  return cols[Math.max(0, index - 1)];\n}\n\nfunction getColRight(col, cols) {\n  var index = cols.indexOf(col);\n\n  if (isInput(col)) {\n    var inputs = cols.filter(function (col) {\n      return isInput(col);\n    });\n    var lastInput = inputs[inputs.length - 1];\n    var lastInputIndex = cols.indexOf(lastInput);\n    return cols[Math.min(lastInputIndex, index + 1)];\n  }\n\n  return cols[Math.min(cols.length - 1, index + 1)];\n} // QUIRK: PhantomJS requires check if actual DOM node\n\n\nfunction isNode(node) {\n  return node && (node.nodeType === 1 || node.nodeType == 11);\n}\n//# sourceMappingURL=DragAndDrop.js.map","import DragAndDrop from 'table-js/lib/features/drag-and-drop';\nimport DmnDragAndDrop from './DragAndDrop';\nimport Rules from '../rules';\nexport default {\n  __depends__: [DragAndDrop, Rules],\n  __init__: ['dmnDragAndDrop'],\n  dmnDragAndDrop: ['type', DmnDragAndDrop]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { isString } from 'min-dash';\nimport { query as domQuery } from 'min-dom';\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\n\nvar DescriptionEditor = /*#__PURE__*/function (_Component) {\n  _inherits(DescriptionEditor, _Component);\n\n  var _super = _createSuper(DescriptionEditor);\n\n  function DescriptionEditor(props, context) {\n    var _this;\n\n    _classCallCheck(this, DescriptionEditor);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeDescription\", function (value) {\n      _this._modeling.updateProperties(_this._element, {\n        description: value\n      });\n    });\n\n    _this._elementRegistry = context.injector.get('elementRegistry');\n    _this._modeling = context.injector.get('modeling');\n    _this._changeSupport = _this.context.changeSupport;\n    var id = _this.props.context.id;\n    _this._element = _this._elementRegistry.get(id);\n    return _this;\n  }\n\n  _createClass(DescriptionEditor, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (this._element) {\n        this._changeSupport.onElementsChanged(this._element.id, this.onElementsChanged);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var autoFocus = this.props.context.autoFocus;\n\n      if (autoFocus && this.node) {\n        var editor = getEditor(this.node);\n        editor.focus();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._element) {\n        this._changeSupport.offElementsChanged(this._element.id, this.onElementsChanged);\n\n        var businessObject = this._element.businessObject;\n        var description = businessObject.description; // if empty description remove description\n\n        if (isString(description) && !description.length) {\n          this.changeDescription(null);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this._element) {\n        return;\n      }\n\n      var businessObject = this._element.businessObject;\n      var description = businessObject.description;\n\n      if (!isString(description)) {\n        return;\n      }\n\n      return createVNode(1, \"div\", \"context-menu-container description-editor\", createComponentVNode(2, Editor, {\n        \"className\": \"dms-input\",\n        \"onChange\": this.changeDescription,\n        \"value\": description\n      }), 2, null, null, function (node) {\n        return _this2.node = node;\n      });\n    }\n  }]);\n\n  return DescriptionEditor;\n}(Component);\n\nexport { DescriptionEditor as default };\n\nvar Editor = /*#__PURE__*/function (_EditableComponent) {\n  _inherits(Editor, _EditableComponent);\n\n  var _super2 = _createSuper(Editor);\n\n  function Editor() {\n    _classCallCheck(this, Editor);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Editor, [{\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"div\", this.getClassName(), this.getEditor(), 0);\n    }\n  }]);\n\n  return Editor;\n}(EditableComponent); // helpers //////////\n\n\nfunction getEditor(container) {\n  return domQuery('.content-editable', container);\n}\n//# sourceMappingURL=DescriptionEditor.js.map","import { createVNode } from \"inferno\";\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isString } from 'min-dash';\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { getNodeById } from '../cell-selection/CellSelectionUtil';\nimport DescriptionEditor from './components/DescriptionEditor';\nvar LOW_PRIORITY = 500;\nvar LOWER_PRIORITY = 750;\nvar OFFSET_X = 26;\n\nvar Description = /*#__PURE__*/_createClass(function Description(components, contextMenu, elementRegistry, eventBus, modeling, renderer, translate) {\n  var _this = this;\n\n  _classCallCheck(this, Description);\n\n  _defineProperty(this, \"addDescription\", function (cell) {\n    _this._modeling.updateProperties(cell, {\n      description: ''\n    });\n\n    var container = _this._renderer.getContainer();\n\n    var node = getNodeById(cell.id, container);\n    var bounds = node.getBoundingClientRect();\n    var position = getPosition(container, bounds);\n\n    _this._contextMenu.open(position, {\n      contextMenuType: 'cell-description',\n      id: cell.id,\n      autoFocus: true,\n      offset: {\n        x: 4,\n        y: 4\n      }\n    });\n  });\n\n  _defineProperty(this, \"removeDescription\", function (cell) {\n    _this._modeling.updateProperties(cell, {\n      description: null\n    });\n\n    _this._contextMenu.close();\n  });\n\n  this._contextMenu = contextMenu;\n  this._modeling = modeling;\n  this._renderer = renderer;\n  this._translate = translate;\n  eventBus.on('cell.click', LOWER_PRIORITY, function (event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    var target = event.target,\n        id = event.id;\n    var element = elementRegistry.get(id);\n\n    if (!isAny(element, ['dmn:UnaryTests', 'dmn:LiteralExpression'])) {\n      return;\n    }\n\n    var description = getDescription(element);\n\n    if (!description) {\n      // prevent focus\n      event.preventDefault();\n    }\n\n    var container = renderer.getContainer(),\n        bounds = target.getBoundingClientRect();\n    var position = getPosition(container, bounds);\n    contextMenu.open(position, {\n      contextMenuType: 'cell-description',\n      autoFocus: false,\n      id: id,\n      offset: {\n        x: 4,\n        y: 4\n      }\n    });\n  });\n  components.onGetComponent('context-menu', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType && context.contextMenuType === 'cell-description') {\n      var element = elementRegistry.get(context.id);\n      var description = getDescription(element);\n\n      if (isString(description)) {\n        return DescriptionEditor;\n      }\n    }\n  });\n  components.onGetComponent('context-menu-cell-additional', LOW_PRIORITY, function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType && context.contextMenuType === 'context-menu') {\n      var id = context.id;\n\n      if (!id) {\n        return;\n      }\n\n      var element = elementRegistry.get(id); // element might not be in element registry (e.g. cut)\n\n      if (!element) {\n        return;\n      }\n\n      var businessObject = element.businessObject;\n      var description = businessObject.description;\n      var existingDescription = isString(description);\n      var className = existingDescription ? 'remove-description' : 'add-description';\n      var onClick = existingDescription ? function () {\n        return _this.removeDescription(element);\n      } : function () {\n        return _this.addDescription(element);\n      };\n      return createVNode(1, \"div\", \"context-menu-group-entry \".concat(className), isString(description) ? _this._translate('Remove Cell Description') : _this._translate('Add Cell Description'), 0, {\n        \"onClick\": onClick\n      });\n    }\n  });\n});\n\nexport { Description as default };\nDescription.$inject = ['components', 'contextMenu', 'elementRegistry', 'eventBus', 'modeling', 'renderer', 'translate']; // helpers //////////\n\nfunction getPosition(container, bounds) {\n  var top = bounds.top,\n      left = bounds.left,\n      width = bounds.width,\n      height = bounds.height;\n  return {\n    x: left + container.parentNode.scrollLeft - OFFSET_X,\n    y: top + container.parentNode.scrollTop,\n    width: width + 2 * OFFSET_X,\n    height: height\n  };\n}\n\nfunction getDescription(element) {\n  return element && element.businessObject && element.businessObject.description;\n}\n//# sourceMappingURL=Description.js.map","import InteractionModule from 'table-js/lib/features/interaction-events';\nimport ContextMenuModule from 'table-js/lib/features/context-menu';\nimport Description from './Description';\nexport default {\n  __depends__: [ContextMenuModule, InteractionModule],\n  __init__: ['description'],\n  description: ['type', Description]\n};\n//# sourceMappingURL=index.js.map","import { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/* eslint-disable max-len */\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nimport { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar ExpressionLanguage = /*#__PURE__*/function () {\n  function ExpressionLanguage(components, elementRegistry, modeling, expressionLanguages, translate, contextMenu) {\n    var _this = this;\n\n    _classCallCheck(this, ExpressionLanguage);\n\n    this._modeling = modeling;\n    this._translate = translate;\n    components.onGetComponent('context-menu-cell-additional', function () {\n      var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (context.contextMenuType && context.contextMenuType === 'context-menu') {\n        var event = context.event,\n            id = context.id;\n\n        if (!id) {\n          return;\n        }\n\n        var element = elementRegistry.get(id); // element might not be in element registry (e.g. cut)\n\n        if (!element) {\n          return;\n        }\n\n        var openMenu = function openMenu(clickEvent) {\n          contextMenu.open({\n            x: (event || clickEvent).pageX,\n            y: (event || clickEvent).pageY\n          }, {\n            contextMenuType: 'expression-language',\n            id: id\n          });\n        };\n\n        return createVNode(1, \"div\", \"context-menu-group-entry\", _this._translate('Change Cell Expression Language'), 0, {\n          \"onClick\": openMenu\n        });\n      }\n    });\n    components.onGetComponent('context-menu', function () {\n      var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (context.contextMenuType && context.contextMenuType === 'expression-language') {\n        var id = context.id;\n\n        if (!id) {\n          return;\n        }\n\n        var element = elementRegistry.get(id); // element might not be in element registry (e.g. cut)\n\n        if (!element) {\n          return;\n        }\n\n        var expressionLanguage = element.businessObject.expressionLanguage || expressionLanguages.getDefault(isInput(element.col) ? 'inputCell' : 'outputCell').value;\n        var options = expressionLanguages.getAll();\n        return function () {\n          return createVNode(1, \"div\", \"context-menu-flex\", createVNode(1, \"div\", \"context-menu-group\", createVNode(1, \"div\", \"context-menu-group-entry context-menu-entry-set-expression-language\", [createVNode(1, \"div\", null, _this._translate('Expression Language'), 0), createComponentVNode(2, InputSelect, {\n            \"className\": \"expression-language\",\n            \"onChange\": function onChange(value) {\n              return _this.onChange(element, value);\n            },\n            \"options\": options,\n            \"value\": expressionLanguage\n          })], 4), 2), 2);\n        };\n      }\n    });\n  }\n\n  _createClass(ExpressionLanguage, [{\n    key: \"onChange\",\n    value: function onChange(cell, expressionLanguage) {\n      this._modeling.editExpressionLanguage(cell.businessObject, expressionLanguage);\n    }\n  }]);\n\n  return ExpressionLanguage;\n}();\n\nexport { ExpressionLanguage as default };\nExpressionLanguage.$inject = ['components', 'elementRegistry', 'modeling', 'expressionLanguages', 'translate', 'contextMenu'];\n//# sourceMappingURL=ExpressionLanguage.js.map","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport ExpressionLanguage from './ExpressionLanguage';\nexport default {\n  __depends__: [ExpressionLanguagesModule],\n  __init__: ['expressionLanguage'],\n  expressionLanguage: ['type', ExpressionLanguage]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\nimport { inject, mixin, classNames, SelectionAware } from 'table-js/lib/components';\n\nvar DecisionTablePropertiesComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionTablePropertiesComponent, _Component);\n\n  var _super = _createSuper(DecisionTablePropertiesComponent);\n\n  function DecisionTablePropertiesComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, DecisionTablePropertiesComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDecisionTableName\", function (name) {\n      _this.modeling.editDecisionTableName(name);\n    });\n\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DecisionTablePropertiesComponent, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setupChangeListeners({\n        bind: this.getBusinessObject().id\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setupChangeListeners({\n        unbind: this.getBusinessObject().id\n      });\n    }\n  }, {\n    key: \"setupChangeListeners\",\n    value: function setupChangeListeners(_ref) {\n      var bind = _ref.bind,\n          unbind = _ref.unbind;\n\n      if (typeof unbind === 'string') {\n        this.changeSupport.offElementsChanged(unbind, this.onElementsChanged);\n      }\n\n      if (typeof bind === 'string') {\n        this.changeSupport.onElementsChanged(bind, this.onElementsChanged);\n      }\n    }\n  }, {\n    key: \"getBusinessObject\",\n    value: function getBusinessObject() {\n      return this.sheet.getRoot().businessObject.$parent;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var bo = this.getBusinessObject();\n      var name = bo.name;\n      var HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\n      return createVNode(1, \"div\", \"decision-table-properties\", [createComponentVNode(2, DecisionTableName, {\n        \"className\": \"decision-table-name\",\n        \"value\": name,\n        \"ctrlForNewline\": true,\n        \"onBlur\": resetScroll,\n        \"onChange\": this.setDecisionTableName,\n        \"elementId\": '__decisionProperties_name',\n        \"coords\": '0:__decisionProperties'\n      }), createVNode(1, \"div\", \"decision-table-header-separator\"), createComponentVNode(2, HitPolicy)], 4);\n    }\n  }]);\n\n  return DecisionTablePropertiesComponent;\n}(Component);\n\nexport { DecisionTablePropertiesComponent as default };\nDecisionTablePropertiesComponent.$inject = ['sheet', 'modeling', 'changeSupport', 'components'];\n\nvar DecisionTableName = /*#__PURE__*/function (_EditableComponent) {\n  _inherits(DecisionTableName, _EditableComponent);\n\n  var _super2 = _createSuper(DecisionTableName);\n\n  function DecisionTableName(props, context) {\n    var _this2;\n\n    _classCallCheck(this, DecisionTableName);\n\n    _this2 = _super2.call(this, props, context);\n    mixin(_assertThisInitialized(_this2), SelectionAware);\n    return _this2;\n  }\n\n  _createClass(DecisionTableName, [{\n    key: \"render\",\n    value: function render() {\n      var name = this.props.value;\n      var className = classNames(this.getSelectionClasses(), this.getClassName());\n      return createVNode(1, \"div\", className, this.getEditor(), 0, {\n        \"data-element-id\": this.props.elementId,\n        \"data-coords\": this.props.coords,\n        \"title\": 'Decision Name: ' + name\n      });\n    }\n  }]);\n\n  return DecisionTableName;\n}(EditableComponent);\n\nfunction NullComponent() {\n  return null;\n}\n\nfunction resetScroll(event) {\n  event.target.scroll(0, 0);\n}\n//# sourceMappingURL=DecisionTablePropertiesEditorComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport Component from './components/DecisionTablePropertiesEditorComponent';\nvar LOW_PRIORITY = 500;\n\nvar DecisionTableProperties = /*#__PURE__*/_createClass(function DecisionTableProperties(components) {\n  _classCallCheck(this, DecisionTableProperties);\n\n  components.onGetComponent('table.before', LOW_PRIORITY, function () {\n    return Component;\n  });\n});\n\nexport { DecisionTableProperties as default };\nDecisionTableProperties.$inject = ['components'];\n//# sourceMappingURL=DecisionTablePropertiesEditor.js.map","import DecisionTablePropertiesEditor from './DecisionTablePropertiesEditor';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nexport default {\n  __depends__: [DebounceInput],\n  __init__: ['decisionTableProperties'],\n  decisionTableProperties: ['type', DecisionTablePropertiesEditor]\n};\n//# sourceMappingURL=editor.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { find } from 'min-dash';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nimport { inject } from 'table-js/lib/components';\nimport { HIT_POLICIES } from './../../HitPolicies';\n\nvar EditableHitPolicy = /*#__PURE__*/function (_Component) {\n  _inherits(EditableHitPolicy, _Component);\n\n  var _super = _createSuper(EditableHitPolicy);\n\n  function EditableHitPolicy(props, context) {\n    var _this;\n\n    _classCallCheck(this, EditableHitPolicy);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (_ref) {\n      var aggregation = _ref.aggregation,\n          hitPolicy = _ref.hitPolicy;\n\n      _this.modeling.editHitPolicy(hitPolicy, aggregation);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(EditableHitPolicy, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.changeSupport.onElementsChanged(this.getRoot().id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.changeSupport.offElementsChanged(this.getRoot().id, this.onElementsChanged);\n    }\n  }, {\n    key: \"getRoot\",\n    value: function getRoot() {\n      return this.sheet.getRoot();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var root = this.getRoot(),\n          businessObject = root.businessObject;\n      var aggregation = businessObject.aggregation,\n          hitPolicy = businessObject.hitPolicy;\n      var hitPolicyEntry = find(HIT_POLICIES, function (entry) {\n        return isEqualHitPolicy(entry.value, {\n          aggregation: aggregation,\n          hitPolicy: hitPolicy\n        });\n      });\n      return createVNode(1, \"div\", \"hit-policy\", [createVNode(1, \"label\", \"dms-label\", createTextVNode(\"Hit Policy:\"), 2), createComponentVNode(2, InputSelect, {\n        \"className\": \"hit-policy-edit-policy-select\",\n        \"onChange\": this.onChange,\n        \"options\": HIT_POLICIES,\n        \"value\": hitPolicyEntry.value,\n        \"data-hit-policy\": \"true\",\n        \"noInput\": true\n      })], 4, {\n        \"title\": hitPolicyEntry.explanation\n      });\n    }\n  }]);\n\n  return EditableHitPolicy;\n}(Component);\n\nexport { EditableHitPolicy as default };\nEditableHitPolicy.$inject = ['changeSupport', 'sheet', 'modeling']; // helpers //////////////////////\n\nfunction isEqualHitPolicy(a, b) {\n  return a.hitPolicy === b.hitPolicy && a.aggregation === b.aggregation;\n}\n//# sourceMappingURL=EditableHitPolicy.js.map","import EditableHitPolicy from './components/EditableHitPolicy';\nexport default function HitPolicyEditingProvider(components) {\n  components.onGetComponent('hit-policy', function () {\n    return EditableHitPolicy;\n  });\n}\nHitPolicyEditingProvider.$inject = ['components'];\n//# sourceMappingURL=HitPolicyEditingProvider.js.map","import ContextMenu from 'table-js/lib/features/context-menu';\nimport HitPolicyEditingProvider from './HitPolicyEditingProvider';\nexport default {\n  __depends__: [ContextMenu],\n  __init__: ['hitPolicyProvider'],\n  hitPolicyProvider: ['type', HitPolicyEditingProvider]\n};\n//# sourceMappingURL=index.js.map","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute` and `postExecute` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {Object}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {Array<Object>}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {Object}\n   * @property {Object[]} actions\n   * @property {Object[]} dirty\n   * @property { 'undo' | 'redo' | 'clear' | 'execute' | null } trigger the cause of the current excecution\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n\n  this._injector = injector;\n  this._eventBus = eventBus;\n\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command\n *\n * @param {string} command the command to execute\n * @param {Object} context the environment to execute the command in\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  var action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction(action);\n};\n\n\n/**\n * Ask whether a given command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param  {string} command the command to execute\n * @param  {Object} context the environment to execute the command in\n *\n * @return {boolean} true if the command can be executed\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  var action = { command: command, context: context };\n\n  var handler = this._getHandler(command);\n\n  var result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  var action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  var action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack\n *\n * @param {string} command\n * @param {CommandHandler} handler\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack\n * by instantiating it and injecting its dependencies.\n *\n * @param {string} command\n * @param {Function} a constructor for a {@link CommandHandler}\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  var handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n    self._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      self._markDirty(handler.revert(context));\n    }\n\n    self._revertedAction(action);\n\n    self._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  var names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ],\n      i, name, result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (i = 0; (name = names[i]); i++) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  var execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n\n    self._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      self._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    self._executedAction(action, redo);\n\n    self._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction(action);\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  var execution = this._currentExecution,\n      actions = execution.actions;\n\n  var baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  var execution = this._currentExecution,\n      trigger = execution.trigger,\n      actions = execution.actions,\n      dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  var execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  var stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n/**\n * A handler responsible for updating the underlying DMN\n * once changes on the table happen.\n */\n\nvar DmnUpdater = /*#__PURE__*/function (_CommandInterceptor) {\n  _inherits(DmnUpdater, _CommandInterceptor);\n\n  var _super = _createSuper(DmnUpdater);\n\n  function DmnUpdater(eventBus, sheet) {\n    var _this;\n\n    _classCallCheck(this, DmnUpdater);\n\n    _this = _super.call(this, eventBus);\n\n    _this.executed(['row.add', 'row.remove', 'col.add', 'col.remove'], ifDmn(function (e) {\n      var context = e.context;\n      var element = context.row || context.col;\n\n      _this.updateRoot(element, context.oldRoot);\n    }));\n\n    _this.reverted(['row.add', 'row.remove', 'col.add', 'col.remove'], ifDmn(function (e) {\n      var context = e.context;\n      var element = context.row || context.col;\n\n      _this.updateRoot(element, context.newRoot);\n    }));\n\n    return _this;\n  }\n\n  _createClass(DmnUpdater, [{\n    key: \"updateRoot\",\n    value: function updateRoot(element, oldRoot) {\n      var _this2 = this;\n\n      var newRoot = element.root;\n      var businessObject = element.businessObject;\n\n      if (is(element, 'dmn:DecisionRule')) {\n        // we're removing\n        if (oldRoot) {\n          var oldTable = oldRoot.businessObject;\n          var oldRules = oldTable.get('rule');\n          var oldIdx = oldRules.indexOf(businessObject); // unwire Row <-> Table\n\n          oldRules.splice(oldIdx, 1);\n          businessObject.$parent = null;\n        } // we're adding\n\n\n        if (newRoot) {\n          var newTable = newRoot.businessObject;\n          var newIdx = newRoot.rows.indexOf(element); // wire Row <-> Table\n\n          newTable.get('rule').splice(newIdx, 0, businessObject);\n          businessObject.$parent = newTable;\n          element.cells.forEach(function (cell, idx) {\n            // wire Cell <-> Row\n            _this2.wireCell(cell, element, idx);\n          });\n        }\n      }\n\n      if (is(element, 'dmn:InputClause') || is(element, 'dmn:OutputClause')) {\n        var collection, collectionIdx; // we're removing\n\n        if (oldRoot) {\n          var _oldTable = oldRoot.businessObject;\n\n          var inputs = _oldTable.get('input');\n\n          var outputs = _oldTable.get('output');\n\n          if (is(element, 'dmn:InputClause')) {\n            collection = inputs;\n            collectionIdx = inputs.indexOf(businessObject);\n          }\n\n          if (is(element, 'dmn:OutputClause')) {\n            collection = outputs;\n            collectionIdx = outputs.indexOf(businessObject);\n          }\n\n          if (collectionIdx === -1) {\n            throw new Error('inconsistent model: clause not in table');\n          } // unwire Col <-> Table\n\n\n          collection.splice(collectionIdx, 1);\n          businessObject.$parent = null;\n          element.cells.forEach(function (cel, rowIdx) {\n            // unwire Cell <-> Row\n            _this2.unwireCell(cel, oldRoot.rows[rowIdx]);\n          });\n        }\n\n        if (newRoot) {\n          var _newTable = newRoot.businessObject;\n\n          var _inputs = _newTable.get('input');\n\n          var _outputs = _newTable.get('output');\n\n          var colIdx = newRoot.cols.indexOf(element);\n\n          var _collectionIdx, _collection;\n\n          if (is(element, 'dmn:InputClause')) {\n            _collection = _inputs;\n            _collectionIdx = colIdx;\n          }\n\n          if (is(element, 'dmn:OutputClause')) {\n            _collection = _outputs;\n            _collectionIdx = colIdx - _inputs.length;\n          } // wire Col <-> Table\n\n\n          _collection.splice(_collectionIdx, 0, businessObject);\n\n          businessObject.$parent = _newTable;\n          element.cells.forEach(function (cell, rowIdx) {\n            // wire Cell <-> Row\n            _this2.wireCell(cell, newRoot.rows[rowIdx], colIdx);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"unwireCell\",\n    value: function unwireCell(cell, oldRow) {\n      var cellBo = cell.businessObject;\n      var oldRowBo = oldRow.businessObject;\n      var inputEntries = oldRowBo.get('inputEntry');\n      var outputEntries = oldRowBo.get('outputEntry');\n      var collection, collectionIdx; // remove from inputEntries\n\n      if (is(cell, 'dmn:UnaryTests')) {\n        collection = inputEntries;\n      } // remove from outputEntries\n\n\n      if (is(cell, 'dmn:LiteralExpression')) {\n        collection = outputEntries;\n      }\n\n      collectionIdx = collection.indexOf(cellBo);\n\n      if (collectionIdx === -1) {\n        throw new Error('cell not in row');\n      } // unwire Cell <-> Row relationship\n\n\n      collection.splice(collectionIdx, 1);\n      cellBo.$parent = null;\n    }\n  }, {\n    key: \"wireCell\",\n    value: function wireCell(cell, row, colIdx) {\n      var cellBo = cell.businessObject;\n      var rowBo = row.businessObject;\n      var inputEntries = rowBo.get('inputEntry');\n      var outputEntries = rowBo.get('outputEntry');\n      var collection, collectionIdx; // ensure we handle already wired cells\n\n      if (cellBo.$parent === rowBo) {\n        return;\n      } // add to inputEntries\n\n\n      if (is(cell, 'dmn:UnaryTests')) {\n        collection = inputEntries;\n        collectionIdx = colIdx;\n      } // add to outputEntries\n\n\n      if (is(cell, 'dmn:LiteralExpression')) {\n        collection = outputEntries;\n        collectionIdx = colIdx - inputEntries.length;\n      } // wire Cell <-> Row relationship\n\n\n      collection.splice(collectionIdx, 0, cellBo);\n      cellBo.$parent = rowBo;\n    }\n  }]);\n\n  return DmnUpdater;\n}(CommandInterceptor);\n\nexport { DmnUpdater as default };\nDmnUpdater.$inject = ['eventBus', 'sheet']; // helpers //////////////////////\n\n/**\n * Make sure the event listener is only called\n * if the touched element is a DMN element.\n *\n * @param  {Function} fn\n * @return {Function} guarded function\n */\n\nfunction ifDmn(fn) {\n  return function (event) {\n    var context = event.context,\n        element = context.row || context.col;\n\n    if (is(element, 'dmn:DMNElement')) {\n      fn(event);\n    }\n  };\n}\n//# sourceMappingURL=DmnUpdater.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar DmnFactory = /*#__PURE__*/function () {\n  function DmnFactory(moddle) {\n    _classCallCheck(this, DmnFactory);\n\n    this._model = moddle;\n  }\n\n  _createClass(DmnFactory, [{\n    key: \"create\",\n    value: function create(type) {\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var element = this._model.create(type, attrs || {});\n\n      if (is(element, 'dmn:InputClause')) {\n        if (attrs.inputExpression) {\n          element.inputExpression = attrs.inputExpression;\n        } else {\n          element.inputExpression = this.create('dmn:LiteralExpression', {\n            typeRef: 'string'\n          });\n          element.inputExpression.$parent = element;\n        }\n      }\n\n      if (is(element, 'dmn:OutputClause')) {\n        element.typeRef = attrs.typeRef || 'string';\n      }\n\n      if (is(element, 'dmn:UnaryTests') || is(element, 'dmn:LiteralExpression')) {\n        element.text = attrs.text || '';\n      }\n\n      this._ensureId(element);\n\n      return element;\n    }\n  }, {\n    key: \"_needsId\",\n    value: function _needsId(element) {\n      return is(element, 'dmn:DMNElement');\n    }\n  }, {\n    key: \"_ensureId\",\n    value: function _ensureId(element) {\n      // generate semantic ids for elements\n      // dmn:UnaryTests -> UnaryTests_ID\n      var prefix = (element.$type || '').replace(/^[^:]*:/g, '') + '_';\n\n      if (!element.id && this._needsId(element)) {\n        element.id = this._model.ids.nextPrefixed(prefix, element);\n      }\n    }\n  }]);\n\n  return DmnFactory;\n}();\n\nexport { DmnFactory as default };\nDmnFactory.$inject = ['moddle'];\n//# sourceMappingURL=DmnFactory.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _excluded = [\"businessObject\", \"type\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport BaseElementFactory from 'table-js/lib/core/ElementFactory';\n\nvar ElementFactory = /*#__PURE__*/function (_BaseElementFactory) {\n  _inherits(ElementFactory, _BaseElementFactory);\n\n  var _super = _createSuper(ElementFactory);\n\n  function ElementFactory(dmnFactory) {\n    var _this;\n\n    _classCallCheck(this, ElementFactory);\n\n    _this = _super.call(this);\n    _this._dmnFactory = dmnFactory;\n    return _this;\n  }\n\n  _createClass(ElementFactory, [{\n    key: \"create\",\n    value: function create(tType, attrs) {\n      var dmnFactory = this._dmnFactory;\n\n      var businessObject = attrs.businessObject,\n          type = attrs.type,\n          additionalAttrs = _objectWithoutProperties(attrs, _excluded);\n\n      if (!businessObject) {\n        if (!type) {\n          if (tType === 'root') {\n            type = 'dmn:DecisionTable';\n          } else if (tType === 'cell') {\n            var col = additionalAttrs.col;\n\n            if (is(col, 'dmn:OutputClause')) {\n              type = 'dmn:LiteralExpression';\n            }\n\n            if (is(col, 'dmn:InputClause')) {\n              type = 'dmn:UnaryTests';\n            }\n          }\n\n          if (!type) {\n            throw new Error('cannot guess <type>');\n          }\n        }\n\n        businessObject = dmnFactory.create(type);\n      }\n\n      return _get(_getPrototypeOf(ElementFactory.prototype), \"create\", this).call(this, tType, _objectSpread({\n        businessObject: businessObject,\n        id: businessObject.id\n      }, additionalAttrs));\n    }\n  }]);\n\n  return ElementFactory;\n}(BaseElementFactory);\n\nexport { ElementFactory as default };\nElementFactory.$inject = ['dmnFactory'];\n//# sourceMappingURL=ElementFactory.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A handler that implements row addition.\n */\nvar AddRowHandler =\n/*#__PURE__*/\nfunction () {\n  function AddRowHandler(sheet, elementFactory) {\n    _classCallCheck(this, AddRowHandler);\n\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n  /**\n   * <do>\n   */\n\n\n  _createClass(AddRowHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var sheet = this._sheet,\n          elementFactory = this._elementFactory,\n          root = sheet.getRoot();\n      var row = context.row,\n          index = context.index;\n\n      if (typeof index === 'undefined') {\n        index = context.index = root.rows.length;\n      }\n\n      context.newRoot = root;\n\n      if (!row.cells.length) {\n        root.cols.forEach(function (col, idx) {\n          var cell = elementFactory.create('cell', {\n            row: row,\n            col: col\n          });\n          row.cells[idx] = cell;\n        });\n      }\n\n      sheet.addRow(row, index);\n      return sheet.getRoot();\n    }\n    /**\n     * <undo>\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var row = context.row;\n      var sheet = this._sheet;\n      sheet.removeRow(row);\n      return sheet.getRoot();\n    }\n  }]);\n\n  return AddRowHandler;\n}();\n\nexport { AddRowHandler as default };\nAddRowHandler.$inject = ['sheet', 'elementFactory'];\n//# sourceMappingURL=AddRowHandler.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A handler that implements row deletion.\n */\nvar RemoveRowHandler =\n/*#__PURE__*/\nfunction () {\n  function RemoveRowHandler(sheet) {\n    _classCallCheck(this, RemoveRowHandler);\n\n    this._sheet = sheet;\n  }\n  /**\n   * <do>\n   */\n\n\n  _createClass(RemoveRowHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var sheet = this._sheet,\n          root = sheet.getRoot();\n      var row = context.row; // retrieve and remember previous row position\n\n      var oldIndex = context.oldIndex = root.rows.indexOf(row);\n      context.oldRoot = row.root;\n\n      if (oldIndex === -1) {\n        throw new Error(\"row#\".concat(row.id, \" not in sheet\"));\n      }\n\n      sheet.removeRow(row);\n      return sheet.getRoot();\n    }\n    /**\n     * <undo>\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var row = context.row,\n          oldIndex = context.oldIndex;\n      var sheet = this._sheet;\n      sheet.addRow(row, oldIndex);\n      return sheet.getRoot();\n    }\n  }]);\n\n  return RemoveRowHandler;\n}();\n\nexport { RemoveRowHandler as default };\nRemoveRowHandler.$inject = ['sheet'];\n//# sourceMappingURL=RemoveRowHandler.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A handler that implements row movement.\n */\nvar MoveRowHandler =\n/*#__PURE__*/\nfunction () {\n  function MoveRowHandler(modeling) {\n    _classCallCheck(this, MoveRowHandler);\n\n    this._modeling = modeling;\n  }\n  /**\n   * <preexecute>\n   */\n\n\n  _createClass(MoveRowHandler, [{\n    key: \"preExecute\",\n    value: function preExecute(context) {\n      var row = context.row;\n\n      this._modeling.removeRow(row);\n    }\n    /**\n     * <postexecute>\n     */\n\n  }, {\n    key: \"postExecute\",\n    value: function postExecute(context) {\n      var row = context.row,\n          index = context.index;\n\n      this._modeling.addRow(row, index);\n    }\n  }]);\n\n  return MoveRowHandler;\n}();\n\nexport { MoveRowHandler as default };\nMoveRowHandler.$inject = ['modeling'];\n//# sourceMappingURL=MoveRowHandler.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A handler that implements column addition.\n */\nvar AddColHandler =\n/*#__PURE__*/\nfunction () {\n  function AddColHandler(sheet, elementFactory) {\n    _classCallCheck(this, AddColHandler);\n\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n  /**\n   * <do>\n   */\n\n\n  _createClass(AddColHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var sheet = this._sheet,\n          elementFactory = this._elementFactory,\n          root = sheet.getRoot();\n      var col = context.col,\n          index = context.index;\n\n      if (typeof index === 'undefined') {\n        index = context.index = root.cols.length;\n      }\n\n      context.newRoot = root;\n\n      if (!col.cells.length) {\n        root.rows.forEach(function (row, idx) {\n          var cell = elementFactory.create('cell', {\n            row: row,\n            col: col\n          });\n          col.cells[idx] = cell;\n        });\n      }\n\n      sheet.addCol(col, index);\n      return sheet.getRoot();\n    }\n    /**\n     * <undo>\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var col = context.col;\n      var sheet = this._sheet;\n      sheet.removeCol(col);\n      return sheet.getRoot();\n    }\n  }]);\n\n  return AddColHandler;\n}();\n\nexport { AddColHandler as default };\nAddColHandler.$inject = ['sheet', 'elementFactory'];\n//# sourceMappingURL=AddColHandler.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A handler that implements column deletion.\n */\nvar RemoveColHandler =\n/*#__PURE__*/\nfunction () {\n  function RemoveColHandler(sheet, elementFactory) {\n    _classCallCheck(this, RemoveColHandler);\n\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n  /**\n   * <do>\n   */\n\n\n  _createClass(RemoveColHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var sheet = this._sheet;\n      var col = context.col;\n      var root = context.oldRoot = col.root; // retrieve and remember previous col position\n\n      var oldIndex = context.oldIndex = root.cols.indexOf(col);\n\n      if (oldIndex === -1) {\n        throw new Error(\"col#\".concat(col.id, \" not in sheet\"));\n      }\n\n      sheet.removeCol(col);\n      return sheet.getRoot();\n    }\n    /**\n     * <undo>\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var col = context.col,\n          oldIndex = context.oldIndex;\n      var sheet = this._sheet;\n      sheet.addCol(col, oldIndex);\n      return sheet.getRoot();\n    }\n  }]);\n\n  return RemoveColHandler;\n}();\n\nexport { RemoveColHandler as default };\nRemoveColHandler.$inject = ['sheet', 'elementFactory'];\n//# sourceMappingURL=RemoveColHandler.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A handler that implements col movement.\n */\nvar MoveColHandler =\n/*#__PURE__*/\nfunction () {\n  function MoveColHandler(modeling) {\n    _classCallCheck(this, MoveColHandler);\n\n    this._modeling = modeling;\n  }\n  /**\n   * <preexecute>\n   */\n\n\n  _createClass(MoveColHandler, [{\n    key: \"preExecute\",\n    value: function preExecute(context) {\n      var col = context.col;\n\n      this._modeling.removeCol(col);\n    }\n    /**\n     * <postexecute>\n     */\n\n  }, {\n    key: \"postExecute\",\n    value: function postExecute(context) {\n      var col = context.col,\n          index = context.index;\n\n      this._modeling.addCol(col, index);\n    }\n  }]);\n\n  return MoveColHandler;\n}();\n\nexport { MoveColHandler as default };\nMoveColHandler.$inject = ['modeling'];\n//# sourceMappingURL=MoveColHandler.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A handler that implements cell editing.\n *\n * Per default, this handler does nothing.\n * Interested parties may hook into the edit commands\n * `preExecute` or `postExecute` phases to carry out\n * the actual editing.\n */\nvar EditCellHandler =\n/*#__PURE__*/\nfunction () {\n  function EditCellHandler() {\n    _classCallCheck(this, EditCellHandler);\n  }\n\n  _createClass(EditCellHandler, [{\n    key: \"execute\",\n\n    /**\n     * <do>\n     */\n    value: function execute(context) {\n      var cell = context.cell;\n      return cell;\n    }\n    /**\n     * <undo>\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var cell = context.cell;\n      return cell;\n    }\n  }]);\n\n  return EditCellHandler;\n}();\n\nexport { EditCellHandler as default };\n//# sourceMappingURL=EditCellHandler.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { forEach } from 'min-dash';\nimport { Base } from '../../model';\nimport AddRowHandler from './cmd/AddRowHandler';\nimport RemoveRowHandler from './cmd/RemoveRowHandler';\nimport MoveRowHandler from './cmd/MoveRowHandler';\nimport AddColHandler from './cmd/AddColHandler';\nimport RemoveColHandler from './cmd/RemoveColHandler';\nimport MoveColHandler from './cmd/MoveColHandler';\nimport EditCellHandler from './cmd/EditCellHandler';\n/**\n * The basic modeling entry point.\n *\n * @param {EventBus} eventBus\n * @param {ElementFactory} elementFactory\n * @param {CommandStack} commandStack\n */\n\nvar Modeling =\n/*#__PURE__*/\nfunction () {\n  function Modeling(eventBus, elementFactory, commandStack) {\n    var _this = this;\n\n    _classCallCheck(this, Modeling);\n\n    this._eventBus = eventBus;\n    this._elementFactory = elementFactory;\n    this._commandStack = commandStack;\n    eventBus.on('table.init', function () {\n      // register modeling handlers\n      registerHandlers(_this.getHandlers(), commandStack);\n    });\n  }\n\n  _createClass(Modeling, [{\n    key: \"getHandlers\",\n    value: function getHandlers() {\n      return Modeling._getHandlers();\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(type, attrs) {\n      if (attrs instanceof Base) {\n        return attrs;\n      } else {\n        return this._elementFactory.create(type, attrs);\n      }\n    } // public API\n\n  }, {\n    key: \"addRow\",\n    value: function addRow(attrs, index) {\n      var row = this._create('row', attrs);\n\n      var context = {\n        row: row,\n        index: index\n      };\n\n      this._commandStack.execute('row.add', context);\n\n      return row;\n    }\n  }, {\n    key: \"removeRow\",\n    value: function removeRow(row) {\n      this._commandStack.execute('row.remove', {\n        row: row\n      });\n    }\n  }, {\n    key: \"moveRow\",\n    value: function moveRow(row, index) {\n      var context = {\n        row: row,\n        index: index\n      };\n\n      this._commandStack.execute('row.move', context);\n    }\n  }, {\n    key: \"addCol\",\n    value: function addCol(attrs, index) {\n      var col = this._create('col', attrs);\n\n      var context = {\n        col: col,\n        index: index\n      };\n\n      this._commandStack.execute('col.add', context);\n\n      return col;\n    }\n  }, {\n    key: \"removeCol\",\n    value: function removeCol(col) {\n      this._commandStack.execute('col.remove', {\n        col: col\n      });\n    }\n  }, {\n    key: \"moveCol\",\n    value: function moveCol(col, index) {\n      var context = {\n        col: col,\n        index: index\n      };\n\n      this._commandStack.execute('col.move', context);\n    }\n  }, {\n    key: \"editCell\",\n    value: function editCell(cell, changedAttrs) {\n      var context = _objectSpread({\n        cell: cell\n      }, changedAttrs);\n\n      this._commandStack.execute('cell.edit', context);\n    }\n  }], [{\n    key: \"_getHandlers\",\n    value: function _getHandlers() {\n      return {\n        'row.add': AddRowHandler,\n        'row.remove': RemoveRowHandler,\n        'row.move': MoveRowHandler,\n        'col.add': AddColHandler,\n        'col.remove': RemoveColHandler,\n        'col.move': MoveColHandler,\n        'cell.edit': EditCellHandler\n      };\n    }\n  }]);\n\n  return Modeling;\n}();\n\nexport { Modeling as default };\nModeling.$inject = ['eventBus', 'elementFactory', 'commandStack']; // helpers /////////////\n\n/**\n * Register handlers with the command stack\n *\n * @param {Object} handlers { id -> Handler } map\n * @param {CommandStack} commandStack\n */\n\nfunction registerHandlers(handlers, commandStack) {\n  forEach(handlers, function (handler, id) {\n    commandStack.registerHandler(id, handler);\n  });\n}\n//# sourceMappingURL=Modeling.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n/**\n * A handler that implements adding/removing allowed values.\n */\n\nvar UpdateAllowedValuesHandler = /*#__PURE__*/function () {\n  function UpdateAllowedValuesHandler(dmnFactory, moddle, modeling) {\n    _classCallCheck(this, UpdateAllowedValuesHandler);\n\n    this._dmnFactory = dmnFactory;\n    this._moddle = moddle;\n    this._modeling = modeling;\n  }\n  /**\n   * <do>\n   */\n\n\n  _createClass(UpdateAllowedValuesHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var element = context.element,\n          allowedValues = context.allowedValues;\n      var isInput = is(element, 'dmn:InputClause');\n\n      if (isInput) {\n        if (element.inputValues) {\n          context.oldAllowedValues = element.inputValues.text;\n        } else {\n          if (!isNull(allowedValues)) {\n            element.inputValues = this._dmnFactory.create('dmn:UnaryTests', {\n              text: ''\n            });\n          }\n        }\n\n        if (isNull(allowedValues)) {\n          if (element.inputValues) {\n            delete element.inputValues;\n          }\n        } else {\n          element.inputValues.text = allowedValues.join(',');\n        }\n      } else {\n        if (element.outputValues && element) {\n          context.oldAllowedValues = element.outputValues.text;\n        } else {\n          if (!isNull(allowedValues)) {\n            element.outputValues = this._dmnFactory.create('dmn:UnaryTests', {\n              text: ''\n            });\n          }\n        }\n\n        if (isNull(allowedValues)) {\n          if (element.outputValues) {\n            delete element.outputValues;\n          }\n        } else {\n          element.outputValues.text = allowedValues.join(',');\n        }\n      }\n\n      return element;\n    }\n    /**\n     * <undo>\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var element = context.element,\n          oldAllowedValues = context.oldAllowedValues;\n      var isInput = is(element, 'dmn:InputClause');\n\n      if (isInput) {\n        if (oldAllowedValues) {\n          if (!element.inputValues) {\n            element.inputValues = this._dmnFactory.create('dmn:UnaryTests', {\n              text: ''\n            });\n          }\n\n          element.inputValues.text = oldAllowedValues;\n        } else {\n          delete element.inputValues;\n        }\n      } else {\n        if (oldAllowedValues) {\n          if (!element.outputValues) {\n            element.outputValues = this._dmnFactory.create('dmn:UnaryTests', {\n              text: ''\n            });\n          }\n\n          element.outputValues.text = oldAllowedValues;\n        } else {\n          delete element.outputValues;\n        }\n      }\n\n      return element;\n    }\n  }]);\n\n  return UpdateAllowedValuesHandler;\n}();\n\nexport { UpdateAllowedValuesHandler as default };\nUpdateAllowedValuesHandler.$inject = ['dmnFactory', 'moddle', 'modeling']; // helpers //////////////////////\n\nfunction isNull(value) {\n  return value === null;\n}\n//# sourceMappingURL=UpdateAllowedValuesHandler.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { isObject, isDefined, reduce } from 'min-dash';\nimport { getBusinessObject } from '../../../util/ModelUtil';\nvar ID = 'id';\n/**\n * A generic handler that implements property editing.\n */\n\nvar EditPropertiesHandler = /*#__PURE__*/function () {\n  function EditPropertiesHandler(elementRegistry, moddle) {\n    _classCallCheck(this, EditPropertiesHandler);\n\n    this._elementRegistry = elementRegistry;\n    this._moddle = moddle;\n  }\n  /**\n   * <do>\n   */\n\n\n  _createClass(EditPropertiesHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var element = context.element,\n          properties = context.properties;\n      var bo = getBusinessObject(element);\n\n      var _this$updatePropertie = this.updateProperties(bo, properties),\n          changed = _this$updatePropertie.changed,\n          oldProperties = _this$updatePropertie.oldProperties;\n\n      context.oldProperties = oldProperties;\n      return [].concat(_toConsumableArray(changed), [element]);\n    }\n    /**\n     * <undo>\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var element = context.element,\n          oldProperties = context.oldProperties;\n      var bo = getBusinessObject(element);\n\n      var _this$updatePropertie2 = this.updateProperties(bo, oldProperties),\n          changed = _this$updatePropertie2.changed;\n\n      return [].concat(_toConsumableArray(changed), [element]);\n    }\n    /**\n     * Update properties of the given business object\n     * and return { changed, oldProperties }.\n     */\n\n  }, {\n    key: \"updateProperties\",\n    value: function updateProperties(bo, newProps) {\n      var _this = this;\n\n      var ids = this._moddle.ids; // Reduce over all new properties and return\n      //\n      // {\n      //  changed,\n      //  oldProperties\n      // }\n\n      return reduce(newProps, function (result, value, key) {\n        var propertyValue = bo.get(key); // handle nested update\n\n        if (isContainer(value)) {\n          if (!isContainer(propertyValue)) {\n            throw new Error(\"non-existing property <\".concat(key, \">: cannot update values\"));\n          }\n\n          var _this$updatePropertie3 = _this.updateProperties(propertyValue, value),\n              changed = _this$updatePropertie3.changed,\n              oldProperties = _this$updatePropertie3.oldProperties;\n\n          return {\n            changed: [].concat(_toConsumableArray(result.changed), _toConsumableArray(changed), [propertyValue]),\n            oldProperties: _objectSpread(_objectSpread({}, result.oldProperties), {}, _defineProperty({}, key, oldProperties))\n          };\n        } // handle ID change\n\n\n        if (key === ID && isIdChange(bo, value)) {\n          ids.unclaim(bo[ID]);\n\n          _this._elementRegistry.updateId(bo, value);\n\n          ids.claim(value, bo);\n        } // handle plain update\n\n\n        bo.set(key, value);\n        return {\n          changed: result.changed,\n          oldProperties: _objectSpread(_objectSpread({}, result.oldProperties), {}, _defineProperty({}, key, propertyValue))\n        };\n      }, {\n        changed: [],\n        oldProperties: {}\n      });\n    }\n  }]);\n\n  return EditPropertiesHandler;\n}();\n\nexport { EditPropertiesHandler as default };\nEditPropertiesHandler.$inject = ['elementRegistry', 'moddle']; // helpers //////////////////////\n\nfunction isIdChange(element, newId) {\n  return element[ID] !== newId;\n}\n\nfunction isContainer(o) {\n  return isDefined(o) && isObject(o);\n}\n//# sourceMappingURL=UpdatePropertiesHandler.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar IdClaimHandler = /*#__PURE__*/function () {\n  function IdClaimHandler(moddle) {\n    _classCallCheck(this, IdClaimHandler);\n\n    this._moddle = moddle;\n  }\n  /**\r\n   * <do>\r\n   */\n\n\n  _createClass(IdClaimHandler, [{\n    key: \"execute\",\n    value: function execute(context) {\n      var ids = this._moddle.ids,\n          id = context.id,\n          element = context.element,\n          claiming = context.claiming;\n\n      if (claiming) {\n        ids.claim(id, element);\n      } else {\n        ids.unclaim(id);\n      }\n    }\n    /**\r\n     * <undo>\r\n     */\n\n  }, {\n    key: \"revert\",\n    value: function revert(context) {\n      var ids = this._moddle.ids,\n          id = context.id,\n          element = context.element,\n          claiming = context.claiming;\n\n      if (claiming) {\n        ids.unclaim(id);\n      } else {\n        ids.claim(id, element);\n      }\n    }\n  }]);\n\n  return IdClaimHandler;\n}();\n\nexport { IdClaimHandler as default };\nIdClaimHandler.$inject = ['moddle'];\n//# sourceMappingURL=IdClaimHandler.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { assign } from 'min-dash';\nimport BaseModeling from 'table-js/lib/features/modeling/Modeling';\nimport UpdateAllowedValuesHandler from './cmd/UpdateAllowedValuesHandler';\nimport UpdatePropertiesHandler from 'dmn-js-shared/lib/features/modeling/cmd/UpdatePropertiesHandler';\nimport IdClaimHandler from './cmd/IdClaimHandler';\n\nvar Modeling = /*#__PURE__*/function (_BaseModeling) {\n  _inherits(Modeling, _BaseModeling);\n\n  var _super = _createSuper(Modeling);\n\n  function Modeling(eventBus, elementFactory, commandStack, sheet) {\n    var _this;\n\n    _classCallCheck(this, Modeling);\n\n    _this = _super.call(this, eventBus, elementFactory, commandStack);\n    _this._eventBus = eventBus;\n    _this._elementFactory = elementFactory;\n    _this._commandStack = commandStack;\n    _this._sheet = sheet;\n    return _this;\n  }\n\n  _createClass(Modeling, [{\n    key: \"getHandlers\",\n    value: function getHandlers() {\n      return Modeling._getHandlers();\n    }\n  }, {\n    key: \"editDecisionTableName\",\n    value: function editDecisionTableName(name) {\n      var root = this._sheet.getRoot(),\n          businessObject = root.businessObject,\n          parentBusinessObject = businessObject.$parent;\n\n      var context = {\n        element: parentBusinessObject,\n        properties: {\n          name: name\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editDecisionTableId\",\n    value: function editDecisionTableId(id) {\n      var root = this._sheet.getRoot(),\n          businessObject = root.businessObject,\n          parentBusinessObject = businessObject.$parent;\n\n      var context = {\n        element: parentBusinessObject,\n        properties: {\n          id: id\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editHitPolicy\",\n    value: function editHitPolicy(hitPolicy, aggregation) {\n      var root = this._sheet.getRoot(),\n          businessObject = root.businessObject;\n\n      var context = {\n        element: businessObject,\n        properties: {\n          hitPolicy: hitPolicy,\n          aggregation: aggregation\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"updateProperties\",\n    value: function updateProperties(el, props) {\n      var context = {\n        element: el,\n        properties: props\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editInputExpression\",\n    value: function editInputExpression(inputExpression, props) {\n      var context = {\n        element: inputExpression,\n        properties: props\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editOutputName\",\n    value: function editOutputName(output, name) {\n      var context = {\n        element: output,\n        properties: {\n          name: name\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editInputExpressionTypeRef\",\n    value: function editInputExpressionTypeRef(inputExpression, typeRef) {\n      var context = {\n        element: inputExpression,\n        properties: {\n          typeRef: typeRef\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editOutputTypeRef\",\n    value: function editOutputTypeRef(output, typeRef) {\n      var context = {\n        element: output,\n        properties: {\n          typeRef: typeRef\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editCell\",\n    value: function editCell(cell, text) {\n      var context = {\n        element: cell,\n        properties: {\n          text: text\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editAnnotation\",\n    value: function editAnnotation(rule, description) {\n      var context = {\n        element: rule,\n        properties: {\n          description: description\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editAllowedValues\",\n    value: function editAllowedValues(element, allowedValues) {\n      var context = {\n        element: element,\n        allowedValues: allowedValues\n      };\n\n      this._commandStack.execute('editAllowedValues', context);\n    }\n  }, {\n    key: \"editExpressionLanguage\",\n    value: function editExpressionLanguage(element, expressionLanguage) {\n      var context = {\n        element: element,\n        properties: {\n          expressionLanguage: expressionLanguage\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"claimId\",\n    value: function claimId(id, moddleElement) {\n      var context = {\n        id: id,\n        element: moddleElement,\n        claiming: true\n      };\n\n      this._commandStack.execute('id.updateClaim', context);\n    }\n  }, {\n    key: \"unclaimId\",\n    value: function unclaimId(id, moddleElement) {\n      var context = {\n        id: id,\n        element: moddleElement\n      };\n\n      this._commandStack.execute('id.updateClaim', context);\n    }\n  }], [{\n    key: \"_getHandlers\",\n    value: function _getHandlers() {\n      return assign({}, _get(_getPrototypeOf(Modeling), \"_getHandlers\", this).call(this), {\n        'editAllowedValues': UpdateAllowedValuesHandler,\n        'element.updateProperties': UpdatePropertiesHandler,\n        'id.updateClaim': IdClaimHandler\n      });\n    }\n  }]);\n\n  return Modeling;\n}(BaseModeling);\n\nexport { Modeling as default };\nModeling.$inject = ['eventBus', 'elementFactory', 'commandStack', 'sheet'];\n//# sourceMappingURL=Modeling.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { isArray } from 'min-dash';\n\nvar IdClaimBehavior = /*#__PURE__*/function (_CommandInterceptor) {\n  _inherits(IdClaimBehavior, _CommandInterceptor);\n\n  var _super = _createSuper(IdClaimBehavior);\n\n  function IdClaimBehavior(eventBus, moddle, modeling) {\n    var _this;\n\n    _classCallCheck(this, IdClaimBehavior);\n\n    _this = _super.call(this, eventBus);\n    _this._ids = moddle.ids;\n    _this._modeling = modeling;\n\n    _this.preExecute(['row.add', 'col.add'], function (event) {\n      var context = event.context,\n          element = context.row || context.col;\n\n      _this.claimId(element.businessObject);\n\n      if (element.cells) {\n        element.cells.forEach(function (cell) {\n          return _this.claimId(cell.businessObject);\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(IdClaimBehavior, [{\n    key: \"claimId\",\n    value: function claimId(businessObject) {\n      var _this2 = this;\n\n      if (businessObject.id && !this._ids.assigned(businessObject.id)) {\n        this._modeling.claimId(businessObject.id, businessObject);\n      }\n\n      businessObject.$descriptor.properties.forEach(function (property) {\n        var value = businessObject[property.name]; // not set\n\n        if (!value) {\n          return;\n        } // array of moddle elements\n\n\n        if (isArray(value)) {\n          value.forEach(function (v) {\n            return _this2.claimId(v);\n          });\n        } // moddle element\n\n\n        if (value.$type) {\n          _this2.claimId(value);\n        }\n      });\n    }\n  }]);\n\n  return IdClaimBehavior;\n}(CommandInterceptor);\n\nexport { IdClaimBehavior as default };\nIdClaimBehavior.$inject = ['eventBus', 'moddle', 'modeling'];\n//# sourceMappingURL=IdClaimBehavior.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { isArray } from 'min-dash';\n\nvar IdUnclaimBehavior = /*#__PURE__*/function (_CommandInterceptor) {\n  _inherits(IdUnclaimBehavior, _CommandInterceptor);\n\n  var _super = _createSuper(IdUnclaimBehavior);\n\n  function IdUnclaimBehavior(eventBus, modeling) {\n    var _this;\n\n    _classCallCheck(this, IdUnclaimBehavior);\n\n    _this = _super.call(this, eventBus);\n    _this._modeling = modeling;\n\n    _this.preExecute(['row.remove', 'col.remove'], function (event) {\n      var context = event.context,\n          element = context.row || context.col;\n\n      _this.unclaimId(element.businessObject);\n\n      if (element.cells) {\n        element.cells.forEach(function (cell) {\n          return _this.unclaimId(cell.businessObject);\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(IdUnclaimBehavior, [{\n    key: \"unclaimId\",\n    value: function unclaimId(businessObject) {\n      var _this2 = this;\n\n      if (businessObject.id) {\n        this._modeling.unclaimId(businessObject.id, businessObject);\n      }\n\n      businessObject.$descriptor.properties.forEach(function (property) {\n        var value = businessObject[property.name]; // not set\n\n        if (!value) {\n          return;\n        } // array of moddle elements\n\n\n        if (isArray(value)) {\n          value.forEach(function (v) {\n            return _this2.unclaimId(v);\n          });\n        } // moddle element\n\n\n        if (value.$type) {\n          _this2.unclaimId(value);\n        }\n      });\n    }\n  }]);\n\n  return IdUnclaimBehavior;\n}(CommandInterceptor);\n\nexport { IdUnclaimBehavior as default };\nIdUnclaimBehavior.$inject = ['eventBus', 'modeling'];\n//# sourceMappingURL=IdUnclaimBehavior.js.map","import IdClaimBehavior from './IdClaimBehavior';\nimport IdUnclaimBehavior from './IdUnclaimBehavior';\nexport default {\n  __init__: ['idClaimBehavior', 'idUnclaimBehavior'],\n  idClaimBehavior: ['type', IdClaimBehavior],\n  idUnclaimBehavior: ['type', IdUnclaimBehavior]\n};\n//# sourceMappingURL=index.js.map","import CommandStack from 'table-js/lib/command';\nimport DmnUpdater from './DmnUpdater';\nimport DmnFactory from './DmnFactory';\nimport ElementFactory from './ElementFactory';\nimport IdChangeBehavior from 'dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior';\nimport Modeling from './Modeling';\nimport Behavior from './behavior';\nexport default {\n  __init__: ['dmnUpdater', 'idChangeBehavior', 'modeling'],\n  __depends__: [Behavior, CommandStack],\n  dmnUpdater: ['type', DmnUpdater],\n  dmnFactory: ['type', DmnFactory],\n  elementFactory: ['type', ElementFactory],\n  idChangeBehavior: ['type', IdChangeBehavior],\n  modeling: ['type', Modeling]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport { isString } from 'min-dash';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\nimport { Cell } from 'table-js/lib/components';\n\nvar DecisionRulesCellEditorComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionRulesCellEditorComponent, _Component);\n\n  var _super = _createSuper(DecisionRulesCellEditorComponent);\n\n  function DecisionRulesCellEditorComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, DecisionRulesCellEditorComponent);\n\n    _this = _super.call(this, props, context);\n    _this.state = {\n      isFocussed: false\n    };\n    _this.changeCellValue = _this.changeCellValue.bind(_assertThisInitialized(_this));\n    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_this));\n    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));\n    _this.onElementsChanged = _this.onElementsChanged.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DecisionRulesCellEditorComponent, [{\n    key: \"onElementsChanged\",\n    value: function onElementsChanged() {\n      this.forceUpdate();\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var injector = this.context.injector;\n      var cell = this.props.cell;\n      var changeSupport = this._changeSupport = this.context.changeSupport;\n      this._modeling = injector.get('modeling');\n      changeSupport.onElementsChanged(cell.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var cell = this.props.cell;\n\n      this._changeSupport.offElementsChanged(cell.id, this.onElementsChanged);\n    }\n  }, {\n    key: \"changeCellValue\",\n    value: function changeCellValue(value) {\n      var cell = this.props.cell;\n\n      this._modeling.editCell(cell.businessObject, value);\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      this.setState({\n        isFocussed: true\n      });\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      this.setState({\n        isFocussed: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          cell = _this$props.cell,\n          rowIndex = _this$props.rowIndex,\n          row = _this$props.row,\n          col = _this$props.col,\n          colIndex = _this$props.colIndex;\n      var isFocussed = this.state.isFocussed;\n      var isUnaryTest = is(cell, 'dmn:UnaryTests');\n      var businessObject = cell.businessObject;\n      return createComponentVNode(2, Cell, {\n        \"className\": isUnaryTest ? 'input-cell' : 'output-cell',\n        \"elementId\": cell.id,\n        \"coords\": \"\".concat(rowIndex, \":\").concat(colIndex),\n        \"data-row-id\": row.id,\n        \"data-col-id\": col.id,\n        children: createComponentVNode(2, TableCellEditor, {\n          \"className\": \"cell-editor\",\n          \"placeholder\": isUnaryTest ? '-' : '',\n          \"ctrlForNewline\": true,\n          \"onFocus\": this.onFocus,\n          \"onBlur\": this.onBlur,\n          \"isFocussed\": isFocussed,\n          \"onChange\": this.changeCellValue,\n          \"value\": businessObject.text,\n          \"businessObject\": businessObject\n        })\n      });\n    }\n  }]);\n\n  return DecisionRulesCellEditorComponent;\n}(Component);\n\nexport { DecisionRulesCellEditorComponent as default };\n\nvar TableCellEditor = /*#__PURE__*/function (_EditableComponent) {\n  _inherits(TableCellEditor, _EditableComponent);\n\n  var _super2 = _createSuper(TableCellEditor);\n\n  function TableCellEditor(props, context) {\n    var _this2;\n\n    _classCallCheck(this, TableCellEditor);\n\n    _this2 = _super2.call(this, props, context);\n    _this2._expressionLanguages = context.injector.get('expressionLanguages');\n    _this2._translate = context.injector.get('translate');\n    return _this2;\n  }\n\n  _createClass(TableCellEditor, [{\n    key: \"isDefaultExpressionLanguage\",\n    value: function isDefaultExpressionLanguage(businessObject) {\n      var expressionLanguage = businessObject.expressionLanguage;\n      var defaultExpressionLanguage = this.getDefaultExpressionLanguage(businessObject).value;\n      return !expressionLanguage || expressionLanguage === defaultExpressionLanguage;\n    }\n  }, {\n    key: \"getDescription\",\n    value: function getDescription(businessObject) {\n      return businessObject.description;\n    }\n  }, {\n    key: \"getExpressionLanguageLabel\",\n    value: function getExpressionLanguageLabel(businessObject) {\n      var expressionLanguage = businessObject.expressionLanguage;\n      var defaultExpressionLanguage = this.getDefaultExpressionLanguage(businessObject);\n      return this._expressionLanguages.getLabel(expressionLanguage) || defaultExpressionLanguage.label;\n    }\n  }, {\n    key: \"isScript\",\n    value: function isScript(businessObject) {\n      var defaultExpressionLanguage = this.getDefaultExpressionLanguage(businessObject);\n      var isInputCell = is(businessObject, 'dmn:UnaryTests');\n\n      if (!isInputCell) {\n        return false;\n      }\n\n      if (businessObject.text.indexOf('\\n') !== -1) {\n        return true;\n      }\n\n      return businessObject.expressionLanguage && businessObject.expressionLanguage !== defaultExpressionLanguage;\n    }\n  }, {\n    key: \"getDefaultExpressionLanguage\",\n    value: function getDefaultExpressionLanguage(businessObject) {\n      var elementType = is(businessObject, 'dmn:UnaryTests') ? 'inputCell' : 'outputCell';\n      return this._expressionLanguages.getDefault(elementType);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          businessObject = _this$props2.businessObject,\n          isFocussed = _this$props2.isFocussed;\n      var description = this.getDescription(businessObject);\n      var isDefaultExpressionLanguage = this.isDefaultExpressionLanguage(businessObject);\n      var expressionLanguageLabel = this.getExpressionLanguageLabel(businessObject);\n      var isScript = this.isScript(businessObject);\n      return createVNode(1, \"div\", this.getClassName(), [isString(description) && !isFocussed && createVNode(1, \"div\", \"description-indicator\"), this.getEditor({\n        className: isScript ? 'script-editor' : null\n      }), !isDefaultExpressionLanguage && !isFocussed && createVNode(1, \"span\", \"dms-badge dmn-expression-language\", [createVNode(1, \"span\", \"dms-badge-icon dmn-icon-file-code\"), createVNode(1, \"span\", \"dms-badge-label\", expressionLanguageLabel, 0)], 4, {\n        \"title\": this._translate('Expression Language = {expressionLanguageLabel}', {\n          expressionLanguageLabel: expressionLanguageLabel\n        })\n      })], 0);\n    }\n  }]);\n\n  return TableCellEditor;\n}(EditableComponent);\n//# sourceMappingURL=DecisionRulesCellEditorComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport DecisionRulesCellEditorComponent from './components/DecisionRulesCellEditorComponent';\nvar HIGH_PRIORITY = 1500;\n\nvar RulesEditor = /*#__PURE__*/_createClass(function RulesEditor(components) {\n  _classCallCheck(this, RulesEditor);\n\n  components.onGetComponent('cell', HIGH_PRIORITY, function (_ref) {\n    var cellType = _ref.cellType;\n\n    if (cellType === 'rule') {\n      return DecisionRulesCellEditorComponent;\n    }\n  });\n});\n\nexport { RulesEditor as default };\nRulesEditor.$inject = ['components'];\n//# sourceMappingURL=DecisionRulesEditor.js.map","import DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nimport DecisionRulesEditor from './DecisionRulesEditor';\nimport Rules from './index';\nexport default {\n  __depends__: [DebounceInput, Rules],\n  __init__: ['decisionRulesEditor'],\n  decisionRulesEditor: ['type', DecisionRulesEditor]\n};\n//# sourceMappingURL=editor.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport { assign } from 'min-dash';\nimport { closest as domClosest } from 'min-dom';\nimport { inject } from 'table-js/lib/components';\nimport { getNodeById } from '../../cell-selection/CellSelectionUtil';\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\nvar OFFSET = 4;\n\nvar SimpleModeButtonComponent = /*#__PURE__*/function (_Component) {\n  _inherits(SimpleModeButtonComponent, _Component);\n\n  var _super = _createSuper(SimpleModeButtonComponent);\n\n  function SimpleModeButtonComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, SimpleModeButtonComponent);\n\n    _this = _super.call(this, props, context);\n    _this.state = {\n      top: 0,\n      left: 0,\n      isVisible: false,\n      isDisabled: false,\n      selection: null\n    };\n    inject(_assertThisInitialized(_this));\n\n    var _assertThisInitialize = _assertThisInitialized(_this),\n        debounceInput = _assertThisInitialize.debounceInput;\n\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.handleSelectionChanged = _this.handleSelectionChanged.bind(_assertThisInitialized(_this));\n    _this.hideAndShowDebounced = _this.hideAndShowDebounced.bind(_assertThisInitialized(_this));\n    _this.showDebounced = debounceInput(_this.showDebounced.bind(_assertThisInitialized(_this)));\n    _this.updatePosition = _this.updatePosition.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SimpleModeButtonComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var eventBus = this.eventBus;\n      eventBus.on('cellSelection.changed', this.handleSelectionChanged);\n      eventBus.on('commandStack.changed', this.updatePosition);\n      eventBus.on('sheet.scroll', this.hideAndShowDebounced);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var eventBus = this.eventBus;\n      eventBus.off('cellSelection.changed', this.handleSelectionChanged);\n      eventBus.off('commandStack.changed', this.updatePosition);\n      eventBus.off('sheet.scroll', this.hideAndShowDebounced);\n    }\n  }, {\n    key: \"hideAndShowDebounced\",\n    value: function hideAndShowDebounced() {\n      this.hide();\n      this.showDebounced();\n    }\n  }, {\n    key: \"showDebounced\",\n    value: function showDebounced() {\n      this.show();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.setState(_objectSpread(_objectSpread({}, state), {}, {\n        isVisible: false\n      }));\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.setState(_objectSpread(_objectSpread({}, state), {}, {\n        isVisible: true\n      }));\n      this.updatePosition();\n    }\n  }, {\n    key: \"handleSelectionChanged\",\n    value: function handleSelectionChanged(_ref) {\n      var elementId = _ref.elementId;\n      var elementRegistry = this.elementRegistry,\n          expressionLanguages = this.expressionLanguages,\n          simpleMode = this.simpleMode;\n      var selection = elementRegistry.get(elementId);\n\n      if (!selection || !simpleMode.canSimpleEdit(selection)) {\n        this.hide({\n          isDisabled: false,\n          selection: null\n        });\n        return;\n      }\n\n      var expressionLanguage = getExpressionLanguage(selection);\n      var isDisabled = !isDefaultExpressionLanguage(selection, expressionLanguage, expressionLanguages);\n      this.show({\n        isDisabled: isDisabled,\n        selection: selection\n      });\n    } // position button always on opposite site of context menu\n\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      var selection = this.state.selection;\n      var node = this.node;\n\n      if (!selection || !node) {\n        return;\n      }\n\n      var renderer = this.renderer;\n      var container = renderer.getContainer(),\n          containerBounds = container.getBoundingClientRect();\n      var cellNode = getNodeById(selection.id, container);\n      var cellBounds = cellNode.getBoundingClientRect();\n      var nodeBounds = this.node.getBoundingClientRect();\n\n      var _getTableContainerScr = getTableContainerScroll(node),\n          scrollLeft = _getTableContainerScr.scrollLeft,\n          scrollTop = _getTableContainerScr.scrollTop;\n\n      var nodePosition = {};\n\n      if (cellBounds.left + cellBounds.width / 2 > containerBounds.width / 2) {\n        // left\n        nodePosition.left = -containerBounds.left + cellBounds.left - nodeBounds.width + OFFSET + scrollLeft + 'px';\n        node.classList.remove('right');\n        node.classList.add('left');\n      } else {\n        // right\n        nodePosition.left = -containerBounds.left + cellBounds.left + cellBounds.width - OFFSET + scrollLeft + 'px';\n        node.classList.remove('left');\n        node.classList.add('right');\n      }\n\n      if (cellBounds.top + cellBounds.height / 2 > containerBounds.height / 2) {\n        // bottom\n        nodePosition.top = -containerBounds.top + cellBounds.top - nodeBounds.height + OFFSET + scrollTop + 'px';\n        node.classList.remove('top');\n        node.classList.add('bottom');\n      } else {\n        // top\n        nodePosition.top = -containerBounds.top + cellBounds.top - OFFSET + scrollTop + 'px';\n        node.classList.remove('bottom');\n        node.classList.add('top');\n      }\n\n      assign(this.node.style, nodePosition);\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick() {\n      var eventBus = this.eventBus;\n      var isDisabled = this.state.isDisabled;\n\n      if (isDisabled) {\n        return;\n      }\n\n      var selection = this.selection;\n      var element = selection.get();\n\n      if (!element) {\n        return;\n      }\n\n      eventBus.fire('simpleMode.open', {\n        element: element,\n        node: getNodeById(element.id, this._container)\n      });\n      this.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          isDisabled = _this$state.isDisabled,\n          isVisible = _this$state.isVisible,\n          top = _this$state.top,\n          left = _this$state.left;\n      var classes = ['simple-mode-button', 'no-deselect'];\n\n      if (isDisabled) {\n        classes.push('disabled');\n      }\n\n      return isVisible ? createVNode(1, \"div\", classes.join(' '), createVNode(1, \"span\", \"dmn-icon-edit\"), 2, {\n        \"onClick\": this.onClick,\n        \"style\": {\n          top: top,\n          left: left\n        },\n        \"title\": isDisabled ? 'Editing not supported for set expression language' : 'Edit'\n      }, null, function (node) {\n        return _this2.node = node;\n      }) : null;\n    }\n  }]);\n\n  return SimpleModeButtonComponent;\n}(Component);\n\nexport { SimpleModeButtonComponent as default };\nSimpleModeButtonComponent.$inject = ['debounceInput', 'elementRegistry', 'eventBus', 'expressionLanguages', 'renderer', 'selection', 'simpleMode']; // helpers //////////////////////\n\n/**\r\n * Return set expression language if found.\r\n *\r\n * @param {Cell} cell - Cell.\r\n */\n\nfunction getExpressionLanguage(cell) {\n  return cell.businessObject.expressionLanguage;\n}\n\nfunction isDefaultExpressionLanguage(cell, expressionLanguage, expressionLanguages) {\n  return !expressionLanguage || expressionLanguage === getDefaultExpressionLanguage(cell, expressionLanguages);\n}\n\nfunction getDefaultExpressionLanguage(cell, expressionLanguages) {\n  if (isInput(cell.col)) {\n    return expressionLanguages.getDefault('inputCell').value;\n  } else if (isOutput(cell.col)) {\n    return expressionLanguages.getDefault('outputCell').value;\n  }\n}\n\nfunction getTableContainerScroll(node) {\n  var tableContainer = domClosest(node, '.tjs-table-container');\n\n  if (!tableContainer) {\n    return {\n      scrollTop: 0,\n      scrollLeft: 0\n    };\n  }\n\n  var scrollLeft = tableContainer.scrollLeft,\n      scrollTop = tableContainer.scrollTop;\n  return {\n    scrollTop: scrollTop,\n    scrollLeft: scrollLeft\n  };\n}\n//# sourceMappingURL=SimpleModeButtonComponent.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport SimpleModeButtonComponent from './components/SimpleModeButtonComponent';\n\nvar SimpleMode = /*#__PURE__*/function () {\n  function SimpleMode(components, contextMenu, elementRegistry, eventBus, renderer) {\n    _classCallCheck(this, SimpleMode);\n\n    this._providers = [];\n    components.onGetComponent('table.before', function () {\n      return SimpleModeButtonComponent;\n    });\n    eventBus.on('simpleMode.open', function (_ref) {\n      var element = _ref.element,\n          node = _ref.node;\n\n      var _node$getBoundingClie = node.getBoundingClientRect(),\n          left = _node$getBoundingClie.left,\n          top = _node$getBoundingClie.top,\n          width = _node$getBoundingClie.width,\n          height = _node$getBoundingClie.height;\n\n      var container = renderer.getContainer();\n      contextMenu.open({\n        x: left + container.parentNode.scrollLeft,\n        y: top + container.parentNode.scrollTop,\n        width: width,\n        height: height\n      }, {\n        contextMenuType: 'simple-mode-edit',\n        element: element,\n        offset: {\n          x: 4,\n          y: 4\n        }\n      });\n    });\n    eventBus.on('cell.click', function (e) {\n      var event = e.event,\n          node = e.node,\n          id = e.id;\n\n      if (isCmd(event)) {\n        var element = elementRegistry.get(id);\n\n        if (element) {\n          eventBus.fire('simpleMode.open', {\n            node: node,\n            element: element\n          });\n        } // prevent focus\n\n\n        e.preventDefault();\n      }\n    });\n  }\n\n  _createClass(SimpleMode, [{\n    key: \"registerProvider\",\n    value: function registerProvider(provider) {\n      this._providers.push(provider);\n    }\n  }, {\n    key: \"canSimpleEdit\",\n    value: function canSimpleEdit(element) {\n      return this._providers.reduce(function (canSimpleEdit, provider) {\n        return canSimpleEdit || provider(element);\n      }, false);\n    }\n  }]);\n\n  return SimpleMode;\n}();\n\nexport { SimpleMode as default };\nSimpleMode.$inject = ['components', 'contextMenu', 'elementRegistry', 'eventBus', 'renderer']; // helpers //////////\n\nexport function isCmd(event) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (event.altKey) {\n    return false;\n  }\n\n  return event.ctrlKey || event.metaKey;\n}\n//# sourceMappingURL=SimpleMode.js.map","import ContextMenu from 'table-js/lib/features/context-menu';\nimport CellSelection from '../cell-selection';\nimport ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport SimpleMode from './SimpleMode';\nexport default {\n  __depends__: [ContextMenu, CellSelection, ExpressionLanguagesModule],\n  __init__: ['simpleMode'],\n  simpleMode: ['type', SimpleMode]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nimport { parseString } from '../Utils';\nvar TRUE = 'true',\n    FALSE = 'false',\n    NONE = 'none';\n\nvar BooleanEdit = /*#__PURE__*/function (_Component) {\n  _inherits(BooleanEdit, _Component);\n\n  var _super = _createSuper(BooleanEdit);\n\n  function BooleanEdit(props, context) {\n    var _this;\n\n    _classCallCheck(this, BooleanEdit);\n\n    _this = _super.call(this, props, context);\n    _this._modeling = context.injector.get('modeling');\n    var element = _this.props.context.element;\n    var parsedString = parseString(element.businessObject.text);\n    _this.state = {\n      value: parsedString || NONE\n    };\n    _this.editCell = _this.editCell.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BooleanEdit, [{\n    key: \"editCell\",\n    value: function editCell(cell, text) {\n      this._modeling.editCell(cell, text);\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      var element = this.props.context.element;\n      this.editCell(element.businessObject, value === NONE ? '' : value);\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var value = this.state.value;\n      var options = [{\n        label: '-',\n        value: NONE\n      }, {\n        label: 'Yes',\n        value: TRUE\n      }, {\n        label: 'No',\n        value: FALSE\n      }];\n      return createVNode(1, \"div\", \"simple-boolean-edit context-menu-container\", [createVNode(1, \"h3\", \"dms-heading\", createTextVNode(\"Edit Boolean\"), 2), createVNode(1, \"h4\", \"dms-heading\", createTextVNode(\"Set Value\"), 2), createComponentVNode(2, InputSelect, {\n        \"noInput\": true,\n        \"className\": \"dms-block\",\n        \"onChange\": this.onChange,\n        \"options\": options,\n        \"value\": value\n      })], 4);\n    }\n  }]);\n\n  return BooleanEdit;\n}(Component);\n\nexport { BooleanEdit as default };\n//# sourceMappingURL=BooleanEdit.js.map","export function parseString(string) {\n  if (!string || isEmptyString(string)) {\n    return 'none';\n  } else if (string.trim() === 'true') {\n    return 'true';\n  } else if (string.trim() === 'false') {\n    return 'false';\n  }\n}\n\nfunction isEmptyString(string) {\n  return string === '';\n}\n//# sourceMappingURL=Utils.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport BooleanEdit from './components/BooleanEdit';\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar SimpleBooleanEdit = /*#__PURE__*/_createClass(function SimpleBooleanEdit(components, simpleMode) {\n  _classCallCheck(this, SimpleBooleanEdit);\n\n  simpleMode.registerProvider(function (element) {\n    return (isInput(element.col) || isOutput(element.col)) && getTypeRef(element) === 'boolean';\n  });\n  components.onGetComponent('context-menu', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\n      if (!context.element) {\n        return;\n      }\n\n      var typeRef = getTypeRef(context.element);\n\n      if (typeRef === 'boolean') {\n        return BooleanEdit;\n      }\n    }\n  });\n});\n\nexport { SimpleBooleanEdit as default };\nSimpleBooleanEdit.$inject = ['components', 'simpleMode']; // helpers //////////////////////\n\nfunction getTypeRef(element) {\n  if (isInput(element.col)) {\n    return element.col && element.col.businessObject.inputExpression.typeRef;\n  } else {\n    return element.col && element.col.businessObject.typeRef;\n  }\n}\n//# sourceMappingURL=SimpleBooleanEdit.js.map","import SimpleMode from '../simple-mode';\nimport SimpleBooleanEdit from './SimpleBooleanEdit';\nimport Keyboard from '../keyboard';\nexport default {\n  __depends__: [Keyboard, SimpleMode],\n  __init__: ['simpleBooleanEdit'],\n  simpleBooleanEdit: ['type', SimpleBooleanEdit]\n};\n//# sourceMappingURL=index.js.map","var ISO_DATE_REGEX = /^\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d$/; // eslint-disable-next-line\n\nvar BETWEEN_DATE_REGEX = /^\\[date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)..date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"/; // eslint-disable-next-line\n\nvar BEFORE_AFTER_DATE_REGEX = /^(<|>)\\s*date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)/;\nvar EXACT_DATE_REGEX = /^date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)$/;\nvar EXACT = 'exact',\n    BEFORE = 'before',\n    AFTER = 'after',\n    BETWEEN = 'between';\nexport function validateISOString(string) {\n  if (!ISO_DATE_REGEX.test(string.trim())) {\n    return 'Date must match pattern yyyy-MM-ddTHH:mm:ss.';\n  }\n}\nexport function getDateString(type, dates) {\n  if (type === EXACT) {\n    return \"date and time(\\\"\".concat(dates[0], \"\\\")\");\n  } else if (type === BEFORE) {\n    return \"< date and time(\\\"\".concat(dates[0], \"\\\")\");\n  } else if (type === AFTER) {\n    return \"> date and time(\\\"\".concat(dates[0], \"\\\")\");\n  } else if (type === BETWEEN) {\n    return \"[date and time(\\\"\".concat(dates[0], \"\\\")..date and time(\\\"\").concat(dates[1], \"\\\")]\");\n  }\n}\nexport function getSampleDate() {\n  var date = new Date();\n  date.setUTCHours(0, 0, 0, 0);\n  return date.toISOString().slice(0, -5);\n}\nexport function parseString(string) {\n  // emtpy\n  if (!string || string.trim() === '') {\n    return {\n      type: 'exact',\n      date: ''\n    };\n  } // between\n\n\n  var matches = string.match(BETWEEN_DATE_REGEX);\n\n  if (matches) {\n    return {\n      type: 'between',\n      dates: [matches[1], matches[2]]\n    };\n  } // before or after\n\n\n  matches = string.match(BEFORE_AFTER_DATE_REGEX);\n\n  if (matches) {\n    return {\n      type: matches[1] === '<' ? 'before' : 'after',\n      date: matches[2]\n    };\n  } // exact\n\n\n  matches = string.match(EXACT_DATE_REGEX);\n\n  if (matches) {\n    return {\n      type: 'exact',\n      date: matches[1]\n    };\n  }\n}\n//# sourceMappingURL=Utils.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nimport { getDateString, getSampleDate, validateISOString, parseString } from '../Utils';\nvar EXACT = 'exact',\n    BEFORE = 'before',\n    AFTER = 'after',\n    BETWEEN = 'between';\n\nvar InputDateEdit = /*#__PURE__*/function (_Component) {\n  _inherits(InputDateEdit, _Component);\n\n  var _super = _createSuper(InputDateEdit);\n\n  function InputDateEdit(props, context) {\n    var _this;\n\n    _classCallCheck(this, InputDateEdit);\n\n    _this = _super.call(this, props, context);\n    _this._modeling = context.injector.get('modeling');\n    var element = _this.props.context.element;\n    var parsedString = parseString(element.businessObject.text);\n\n    if (parsedString) {\n      var dates;\n\n      if (parsedString.date) {\n        dates = [parsedString.date, ''];\n      } else if (parsedString.dates) {\n        dates = parsedString.dates;\n      } else {\n        dates = ['', ''];\n      }\n\n      _this.state = {\n        type: parsedString.type,\n        dates: dates\n      };\n    } else {\n      _this.state = {\n        type: EXACT,\n        dates: ['', '']\n      };\n    }\n\n    var debounceInput = context.injector.get('debounceInput');\n    _this.debouncedEditCell = debounceInput(_this.editCell.bind(_assertThisInitialized(_this)));\n    _this.editCell = _this.editCell.bind(_assertThisInitialized(_this));\n    _this.onTypeChange = _this.onTypeChange.bind(_assertThisInitialized(_this));\n    _this.onSetStartDateTodayClick = _this.onSetStartDateTodayClick.bind(_assertThisInitialized(_this));\n    _this.onSetEndDateTodayClick = _this.onSetEndDateTodayClick.bind(_assertThisInitialized(_this));\n    _this.onStartDateInput = _this.onStartDateInput.bind(_assertThisInitialized(_this));\n    _this.onEndDateInput = _this.onEndDateInput.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(InputDateEdit, [{\n    key: \"editCell\",\n    value: function editCell(cell, text) {\n      this._modeling.editCell(cell, text);\n    }\n  }, {\n    key: \"onTypeChange\",\n    value: function onTypeChange(value) {\n      var element = this.props.context.element;\n      var dates = this.state.dates;\n      this.setState({\n        type: value\n      });\n\n      if (parseString(getDateString(value, dates))) {\n        this.editCell(element.businessObject, getDateString(value, dates));\n      }\n    }\n  }, {\n    key: \"onSetStartDateTodayClick\",\n    value: function onSetStartDateTodayClick() {\n      var element = this.props.context.element;\n      var _this$state = this.state,\n          dates = _this$state.dates,\n          type = _this$state.type;\n      var date = getSampleDate();\n      this.setState({\n        dates: [date, dates[1]]\n      });\n\n      if (parseString(getDateString(type, [date, dates[1]]))) {\n        this.editCell(element.businessObject, getDateString(type, [date, dates[1]]));\n      }\n    }\n  }, {\n    key: \"onSetEndDateTodayClick\",\n    value: function onSetEndDateTodayClick() {\n      var element = this.props.context.element;\n      var _this$state2 = this.state,\n          dates = _this$state2.dates,\n          type = _this$state2.type;\n      var date = getSampleDate();\n      this.setState({\n        dates: [dates[0], date]\n      });\n\n      if (parseString(getDateString(type, [dates[0], date]))) {\n        this.editCell(element.businessObject, getDateString(type, [dates[0], date]));\n      }\n    }\n  }, {\n    key: \"onStartDateInput\",\n    value: function onStartDateInput(_ref) {\n      var isValid = _ref.isValid,\n          value = _ref.value;\n\n      if (isValid) {\n        var element = this.props.context.element;\n        var _this$state3 = this.state,\n            dates = _this$state3.dates,\n            type = _this$state3.type;\n        this.setState({\n          dates: [value, dates[1]]\n        });\n        this.debouncedEditCell(element.businessObject, getDateString(type, [value, dates[1]]));\n      }\n    }\n  }, {\n    key: \"onEndDateInput\",\n    value: function onEndDateInput(_ref2) {\n      var isValid = _ref2.isValid,\n          value = _ref2.value;\n\n      if (isValid) {\n        var element = this.props.context.element;\n        var _this$state4 = this.state,\n            dates = _this$state4.dates,\n            type = _this$state4.type;\n        this.setState({\n          dates: [dates[0], value]\n        });\n        this.debouncedEditCell(element.businessObject, getDateString(type, [dates[0], value]));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state5 = this.state,\n          dates = _this$state5.dates,\n          type = _this$state5.type;\n      var options = [{\n        label: 'Exactly',\n        value: EXACT\n      }, {\n        label: 'Before',\n        value: BEFORE\n      }, {\n        label: 'After',\n        value: AFTER\n      }, {\n        label: 'Between',\n        value: BETWEEN\n      }];\n      return createVNode(1, \"div\", \"context-menu-container simple-date-edit\", [createVNode(1, \"h3\", \"dms-heading\", createTextVNode(\"Edit Date\"), 2), createVNode(1, \"div\", \"dms-fill-row\", createComponentVNode(2, InputSelect, {\n        \"noInput\": true,\n        \"onChange\": this.onTypeChange,\n        \"options\": options,\n        \"value\": type\n      }), 2), createVNode(1, \"h4\", \"dms-heading\", type === BETWEEN ? 'Edit Start Date' : 'Set Date', 0), createVNode(1, \"div\", null, [createComponentVNode(2, ValidatedInput, {\n        \"className\": \"start-date-input dms-block\",\n        \"onInput\": this.onStartDateInput,\n        \"placeholder\": \"e.g. \".concat(getSampleDate()),\n        \"validate\": validateISOString,\n        \"value\": dates[0]\n      }), createVNode(1, \"p\", \"dms-hint\", [createVNode(1, \"button\", \"use-today\", createTextVNode(\"Use today\"), 2, {\n        \"type\": \"button\",\n        \"onClick\": this.onSetStartDateTodayClick\n      }), createTextVNode(\".\")], 4)], 4), type === BETWEEN && createVNode(1, \"h4\", \"dms-heading\", createTextVNode(\"Edit End Date\"), 2), type === BETWEEN && createVNode(1, \"div\", null, [createComponentVNode(2, ValidatedInput, {\n        \"className\": \"end-date-input dms-block\",\n        \"onInput\": this.onEndDateInput,\n        \"placeholder\": \"e.g. \".concat(getSampleDate()),\n        \"validate\": validateISOString,\n        \"value\": dates[1]\n      }), createVNode(1, \"p\", \"dms-hint\", [createVNode(1, \"button\", \"use-today\", createTextVNode(\"Use today\"), 2, {\n        \"type\": \"button\",\n        \"onClick\": this.onSetEndDateTodayClick\n      }), createTextVNode(\".\")], 4)], 4)], 0);\n    }\n  }]);\n\n  return InputDateEdit;\n}(Component);\n\nexport { InputDateEdit as default };\n//# sourceMappingURL=InputDateEdit.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\nimport { getSampleDate, validateISOString, parseString } from '../Utils';\n\nvar OutputDateEdit = /*#__PURE__*/function (_Component) {\n  _inherits(OutputDateEdit, _Component);\n\n  var _super = _createSuper(OutputDateEdit);\n\n  function OutputDateEdit(props, context) {\n    var _this;\n\n    _classCallCheck(this, OutputDateEdit);\n\n    _this = _super.call(this, props, context);\n    _this._modeling = context.injector.get('modeling');\n    var element = _this.props.context.element;\n    var parsedString = parseString(element.businessObject.text);\n    _this.state = {\n      date: parsedString ? parsedString.date : ''\n    };\n    var debounceInput = context.injector.get('debounceInput');\n    _this.debouncedEditCell = debounceInput(_this.editCell.bind(_assertThisInitialized(_this)));\n    _this.editCell = _this.editCell.bind(_assertThisInitialized(_this));\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.onInput = _this.onInput.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(OutputDateEdit, [{\n    key: \"editCell\",\n    value: function editCell(cell, text) {\n      this._modeling.editCell(cell, text);\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick() {\n      var element = this.props.context.element;\n      var date = getSampleDate();\n      this.setState({\n        date: date\n      });\n      this.editCell(element.businessObject, \"date and time(\\\"\".concat(date, \"\\\")\"));\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(_ref) {\n      var isValid = _ref.isValid,\n          value = _ref.value;\n\n      if (isValid) {\n        var element = this.props.context.element;\n        this.setState({\n          date: value\n        });\n        this.debouncedEditCell(element.businessObject, \"date and time(\\\"\".concat(value, \"\\\")\"));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var date = this.state.date;\n      return createVNode(1, \"div\", \"context-menu-container simple-date-edit\", [createVNode(1, \"h3\", \"dms-heading\", createTextVNode(\"Edit Date\"), 2), createVNode(1, \"h4\", \"dms-heading\", createTextVNode(\"Set Date\"), 2), createVNode(1, \"div\", null, [createComponentVNode(2, ValidatedInput, {\n        \"onInput\": this.onInput,\n        \"placeholder\": \"e.g. \".concat(getSampleDate()),\n        \"validate\": validateISOString,\n        \"value\": date,\n        \"className\": \"dms-block\"\n      }), createVNode(1, \"p\", \"dms-hint\", [createTextVNode(\"Set date \"), createVNode(1, \"button\", \"use-today\", createTextVNode(\"to today\"), 2, {\n        \"type\": \"button\",\n        \"onClick\": this.onClick\n      }), createTextVNode(\".\")], 4)], 4)], 4);\n    }\n  }]);\n\n  return OutputDateEdit;\n}(Component);\n\nexport { OutputDateEdit as default };\n//# sourceMappingURL=OutputDateEdit.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport InputDateEdit from './components/InputDateEdit';\nimport OutputDateEdit from './components/OutputDateEdit';\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar SimpleDateEdit = /*#__PURE__*/_createClass(function SimpleDateEdit(components, simpleMode) {\n  _classCallCheck(this, SimpleDateEdit);\n\n  simpleMode.registerProvider(function (element) {\n    var typeRef = getTypeRef(element);\n    return (isInput(element.col) || isOutput(element.col)) && isDate(typeRef);\n  });\n  components.onGetComponent('context-menu', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\n      if (!context.element) {\n        return;\n      }\n\n      var typeRef = getTypeRef(context.element);\n\n      if (isDate(typeRef)) {\n        if (isInput(context.element.col)) {\n          return InputDateEdit;\n        } else if (isOutput(context.element.col)) {\n          return OutputDateEdit;\n        }\n      }\n    }\n  });\n});\n\nexport { SimpleDateEdit as default };\nSimpleDateEdit.$inject = ['components', 'simpleMode']; // helpers //////////////////////\n\nfunction getTypeRef(element) {\n  if (isInput(element.col)) {\n    return element.col && element.col.businessObject.inputExpression.typeRef;\n  } else {\n    return element.col && element.col.businessObject.typeRef;\n  }\n}\n\nfunction isDate(typeRef) {\n  return typeRef === 'date';\n}\n//# sourceMappingURL=SimpleDateEdit.js.map","import SimpleMode from '../simple-mode';\nimport SimpleDateEdit from './SimpleDateEdit';\nimport Keyboard from '../keyboard';\nexport default {\n  __depends__: [Keyboard, SimpleMode],\n  __init__: ['simpleDateEdit'],\n  simpleDateEdit: ['type', SimpleDateEdit]\n};\n//# sourceMappingURL=index.js.map","import { keys } from 'min-dash'; // eslint-disable-next-line\n\nvar COMPARISON_REGULAR_EXPRESSION = /^(-?(?:[0-9]|\\.[0-9])+)$|^((?:<|>|=){0,2})\\s*(-?(?:[0-9]|\\.[0-9])+)$/; // eslint-disable-next-line\n\nvar RANGE_REGULAR_EXPRESSION = /^(\\[|\\]){1}(-?(?:[0-9]|\\.[0-9])+){1,}\\.\\.(-?(?:[0-9]|\\.[0-9])+){1,}(\\[|\\]){1}$/;\nexport var operators = {\n  equals: '=',\n  less: '<',\n  lessEquals: '<=',\n  greater: '>',\n  greaterEquals: '>='\n};\n\nfunction getOperatorName(string) {\n  return keys(operators).filter(function (key) {\n    return string === operators[key];\n  })[0];\n}\n\nexport function parseString(string) {\n  if (!string || isEmptyString(string.trim())) {\n    return {\n      type: 'comparison'\n    };\n  }\n\n  var comparisonMatches = string.match(COMPARISON_REGULAR_EXPRESSION),\n      rangeMatches = string.match(RANGE_REGULAR_EXPRESSION);\n\n  if (comparisonMatches) {\n    if (isNumber(comparisonMatches)) {\n      return {\n        type: 'comparison',\n        value: parseFloat(comparisonMatches[1]),\n        operator: 'equals'\n      };\n    } else if (isComparison(comparisonMatches)) {\n      return {\n        type: 'comparison',\n        value: parseFloat(comparisonMatches[3]),\n        operator: getOperatorName(comparisonMatches[2])\n      };\n    }\n  } else if (rangeMatches) {\n    return {\n      type: 'range',\n      values: [rangeMatches[2], rangeMatches[3]].map(function (value) {\n        return parseFloat(value);\n      }),\n      start: rangeMatches[1] === ']' ? 'exclude' : 'include',\n      end: rangeMatches[4] === '[' ? 'exclude' : 'include'\n    };\n  }\n}\nexport function isEmptyString(string) {\n  return string === '';\n}\n\nfunction isNumber(matches) {\n  return matches[0] && matches[1] && !matches[2] && !matches[3];\n}\n\nfunction isComparison(matches) {\n  return matches[0] && !matches[1] && matches[2] && matches[3];\n}\n\nexport function getComparisonString(comparisonOperator, comparisonValue) {\n  if (comparisonOperator === 'equals') {\n    return \"\".concat(comparisonValue);\n  } else {\n    return \"\".concat(operators[comparisonOperator], \" \").concat(comparisonValue);\n  }\n}\nexport function getRangeString(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType) {\n  var rangeStartChar = rangeStartType === 'exclude' ? ']' : '[',\n      rangeEndChar = rangeEndType === 'exclude' ? '[' : ']';\n  return \"\".concat(rangeStartChar).concat(rangeStartValue, \"..\").concat(rangeEndValue).concat(rangeEndChar);\n}\n//# sourceMappingURL=Utils.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport Input from 'dmn-js-shared/lib/components/Input';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nimport { getComparisonString, getRangeString, parseString } from '../Utils';\nvar COMPARISON = 'comparison',\n    RANGE = 'range';\n\nvar InputNumberEdit = /*#__PURE__*/function (_Component) {\n  _inherits(InputNumberEdit, _Component);\n\n  var _super = _createSuper(InputNumberEdit);\n\n  function InputNumberEdit(props, context) {\n    var _this;\n\n    _classCallCheck(this, InputNumberEdit);\n\n    _this = _super.call(this, props, context);\n    _this._modeling = context.injector.get('modeling');\n    var element = _this.props.context.element;\n    var parsedString = parseString(element.businessObject.text);\n\n    if (parsedString) {\n      _this.state = {\n        type: parsedString.type,\n        comparisonOperator: parsedString.operator || 'equals',\n        comparisonValue: parsedString.value || 0,\n        rangeStartValue: parsedString.values ? parsedString.values[0] : 0,\n        rangeEndValue: parsedString.values ? parsedString.values[1] : 0,\n        rangeStartType: parsedString.start || 'include',\n        rangeEndType: parsedString.end || 'include'\n      };\n    } else {\n      _this.state = {\n        type: COMPARISON,\n        comparisonOperator: 'equals',\n        comparisonValue: 0,\n        rangeStartValue: 0,\n        rangeEndValue: 0,\n        rangeStartType: 'include',\n        rangeEndType: 'include'\n      };\n    }\n\n    var debounceInput = context.injector.get('debounceInput');\n    _this.debouncedEditCell = debounceInput(_this.editCell.bind(_assertThisInitialized(_this)));\n    _this.editCell = _this.editCell.bind(_assertThisInitialized(_this));\n    _this.onComparisonOperatorChange = _this.onComparisonOperatorChange.bind(_assertThisInitialized(_this));\n    _this.onComparisonValueChange = _this.onComparisonValueChange.bind(_assertThisInitialized(_this));\n    _this.onTypeChange = _this.onTypeChange.bind(_assertThisInitialized(_this));\n    _this.onRangeStartTypeChange = _this.onRangeStartTypeChange.bind(_assertThisInitialized(_this));\n    _this.onRangeStartValueChange = _this.onRangeStartValueChange.bind(_assertThisInitialized(_this));\n    _this.onRangeEndTypeChange = _this.onRangeEndTypeChange.bind(_assertThisInitialized(_this));\n    _this.onRangeEndValueChange = _this.onRangeEndValueChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(InputNumberEdit, [{\n    key: \"editCell\",\n    value: function editCell(cell, text) {\n      this._modeling.editCell(cell, text);\n    }\n  }, {\n    key: \"onTypeChange\",\n    value: function onTypeChange(value) {\n      var element = this.props.context.element;\n      var _this$state = this.state,\n          comparisonOperator = _this$state.comparisonOperator,\n          comparisonValue = _this$state.comparisonValue,\n          rangeStartValue = _this$state.rangeStartValue,\n          rangeEndValue = _this$state.rangeEndValue,\n          rangeStartType = _this$state.rangeStartType,\n          rangeEndType = _this$state.rangeEndType;\n\n      if (value === COMPARISON) {\n        this.editCell(element.businessObject, getComparisonString(comparisonOperator, comparisonValue));\n      } else {\n        this.editCell(element.businessObject, getRangeString(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType));\n      }\n\n      this.setState({\n        type: value\n      });\n    }\n  }, {\n    key: \"onComparisonOperatorChange\",\n    value: function onComparisonOperatorChange(value) {\n      var element = this.props.context.element;\n      var _this$state2 = this.state,\n          type = _this$state2.type,\n          comparisonValue = _this$state2.comparisonValue;\n\n      if (type === COMPARISON) {\n        this.editCell(element.businessObject, getComparisonString(value, comparisonValue));\n        this.setState({\n          comparisonOperator: value\n        });\n      }\n    }\n  }, {\n    key: \"onComparisonValueChange\",\n    value: function onComparisonValueChange(comparisonValue) {\n      var element = this.props.context.element;\n      var _this$state3 = this.state,\n          type = _this$state3.type,\n          comparisonOperator = _this$state3.comparisonOperator;\n\n      if (type === COMPARISON) {\n        this.debouncedEditCell(element.businessObject, getComparisonString(comparisonOperator, comparisonValue));\n        this.setState({\n          comparisonValue: comparisonValue\n        });\n      }\n    }\n  }, {\n    key: \"onRangeStartTypeChange\",\n    value: function onRangeStartTypeChange(value) {\n      var element = this.props.context.element;\n      var _this$state4 = this.state,\n          type = _this$state4.type,\n          rangeStartValue = _this$state4.rangeStartValue,\n          rangeEndValue = _this$state4.rangeEndValue,\n          rangeEndType = _this$state4.rangeEndType;\n\n      if (type === RANGE) {\n        this.editCell(element.businessObject, getRangeString(rangeStartValue, rangeEndValue, value, rangeEndType));\n        this.setState({\n          rangeStartType: value\n        });\n      }\n    }\n  }, {\n    key: \"onRangeStartValueChange\",\n    value: function onRangeStartValueChange(value) {\n      var element = this.props.context.element;\n      var _this$state5 = this.state,\n          type = _this$state5.type,\n          rangeEndValue = _this$state5.rangeEndValue,\n          rangeStartType = _this$state5.rangeStartType,\n          rangeEndType = _this$state5.rangeEndType;\n\n      if (type === RANGE) {\n        this.editCell(element.businessObject, getRangeString(value, rangeEndValue, rangeStartType, rangeEndType));\n        this.setState({\n          rangeStartValue: value\n        });\n      }\n    }\n  }, {\n    key: \"onRangeEndTypeChange\",\n    value: function onRangeEndTypeChange(value) {\n      var element = this.props.context.element;\n      var _this$state6 = this.state,\n          type = _this$state6.type,\n          rangeStartValue = _this$state6.rangeStartValue,\n          rangeEndValue = _this$state6.rangeEndValue,\n          rangeStartType = _this$state6.rangeStartType;\n\n      if (type === RANGE) {\n        this.editCell(element.businessObject, getRangeString(rangeStartValue, rangeEndValue, rangeStartType, value));\n        this.setState({\n          rangeEndType: value\n        });\n      }\n    }\n  }, {\n    key: \"onRangeEndValueChange\",\n    value: function onRangeEndValueChange(value) {\n      var element = this.props.context.element;\n      var _this$state7 = this.state,\n          type = _this$state7.type,\n          rangeStartValue = _this$state7.rangeStartValue,\n          rangeStartType = _this$state7.rangeStartType,\n          rangeEndType = _this$state7.rangeEndType;\n\n      if (type === RANGE) {\n        this.editCell(element.businessObject, getRangeString(rangeStartValue, value, rangeStartType, rangeEndType));\n        this.setState({\n          rangeEndValue: value\n        });\n      }\n    }\n  }, {\n    key: \"renderComparison\",\n    value: function renderComparison(comparisonOperator, comparisonValue) {\n      var comparisonOperatorOptions = [{\n        label: 'Equals',\n        value: 'equals'\n      }, {\n        label: 'Less',\n        value: 'less'\n      }, {\n        label: 'Less or equals',\n        value: 'lessEquals'\n      }, {\n        label: 'Greater',\n        value: 'greater'\n      }, {\n        label: 'Greater or equals',\n        value: 'greaterEquals'\n      }];\n      return createVNode(1, \"div\", \"comparison\", [createVNode(1, \"h4\", \"dms-heading\", createTextVNode(\"Value\"), 2), createVNode(1, \"div\", \"dms-fill-row\", [createComponentVNode(2, InputSelect, {\n        \"noInput\": true,\n        \"onChange\": this.onComparisonOperatorChange,\n        \"options\": comparisonOperatorOptions,\n        \"value\": comparisonOperator\n      }), createTextVNode(\"\\xA0\"), createComponentVNode(2, Input, {\n        \"className\": \"comparison-number-input\",\n        \"onInput\": this.onComparisonValueChange,\n        \"type\": \"number\",\n        \"value\": comparisonValue\n      })], 4)], 4);\n    }\n  }, {\n    key: \"renderRange\",\n    value: function renderRange(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType) {\n      var rangeTypeOptions = [{\n        label: 'Include',\n        value: 'include'\n      }, {\n        label: 'Exclude',\n        value: 'exclude'\n      }];\n      return createVNode(1, \"div\", \"range\", [createVNode(1, \"h4\", \"dms-heading\", createTextVNode(\"Start Value\"), 2), createVNode(1, \"div\", \"dms-fill-row\", [createComponentVNode(2, InputSelect, {\n        \"noInput\": true,\n        \"onChange\": this.onRangeStartTypeChange,\n        \"options\": rangeTypeOptions,\n        \"value\": rangeStartType\n      }), createTextVNode(\"\\xA0\"), createComponentVNode(2, Input, {\n        \"className\": \"range-start-number-input\",\n        \"onInput\": this.onRangeStartValueChange,\n        \"type\": \"number\",\n        \"value\": rangeStartValue\n      })], 4), createVNode(1, \"h4\", \"dms-heading\", createTextVNode(\"End Value\"), 2), createVNode(1, \"div\", \"dms-fill-row\", [createComponentVNode(2, InputSelect, {\n        \"noInput\": true,\n        \"onChange\": this.onRangeEndTypeChange,\n        \"options\": rangeTypeOptions,\n        \"value\": rangeEndType\n      }), createTextVNode(\"\\xA0\"), createComponentVNode(2, Input, {\n        \"className\": \"range-end-number-input\",\n        \"onInput\": this.onRangeEndValueChange,\n        \"type\": \"number\",\n        \"value\": rangeEndValue\n      })], 4)], 4);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state8 = this.state,\n          type = _this$state8.type,\n          comparisonOperator = _this$state8.comparisonOperator,\n          comparisonValue = _this$state8.comparisonValue,\n          rangeStartValue = _this$state8.rangeStartValue,\n          rangeEndValue = _this$state8.rangeEndValue,\n          rangeStartType = _this$state8.rangeStartType,\n          rangeEndType = _this$state8.rangeEndType;\n      var typeOptions = [{\n        label: 'Comparison',\n        value: COMPARISON\n      }, {\n        label: 'Range',\n        value: RANGE\n      }];\n      return createVNode(1, \"div\", \"context-menu-container simple-number-edit\", [createVNode(1, \"h3\", \"dms-heading\", createTextVNode(\"Edit Number\"), 2), createVNode(1, \"div\", \"dms-fill-row\", createComponentVNode(2, InputSelect, {\n        \"noInput\": true,\n        \"onChange\": this.onTypeChange,\n        \"options\": typeOptions,\n        \"value\": type\n      }), 2), type === COMPARISON && this.renderComparison(comparisonOperator, comparisonValue), type === RANGE && this.renderRange(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType)], 0);\n    }\n  }]);\n\n  return InputNumberEdit;\n}(Component);\n\nexport { InputNumberEdit as default };\n//# sourceMappingURL=InputNumberEdit.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport Input from 'dmn-js-shared/lib/components/Input';\nimport { parseString } from '../Utils';\n\nvar OutputNumberEdit = /*#__PURE__*/function (_Component) {\n  _inherits(OutputNumberEdit, _Component);\n\n  var _super = _createSuper(OutputNumberEdit);\n\n  function OutputNumberEdit(props, context) {\n    var _this;\n\n    _classCallCheck(this, OutputNumberEdit);\n\n    _this = _super.call(this, props, context);\n    _this._modeling = context.injector.get('modeling');\n    var element = _this.props.context.element;\n    var parsedString = parseString(element.businessObject.text);\n\n    if (parsedString) {\n      _this.state = {\n        value: parsedString.value\n      };\n    } else {\n      _this.state = {\n        value: ''\n      };\n    }\n\n    var debounceInput = context.injector.get('debounceInput');\n    _this.debouncedEditCell = debounceInput(_this.editCell.bind(_assertThisInitialized(_this)));\n    _this.editCell = _this.editCell.bind(_assertThisInitialized(_this));\n    _this.onInput = _this.onInput.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(OutputNumberEdit, [{\n    key: \"editCell\",\n    value: function editCell(cell, text) {\n      this._modeling.editCell(cell, text);\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(value) {\n      var element = this.props.context.element;\n      this.debouncedEditCell(element.businessObject, value);\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var value = this.state.value;\n      return createVNode(1, \"div\", \"context-menu-container simple-number-edit\", [createVNode(1, \"h3\", \"dms-heading\", createTextVNode(\"Edit Number\"), 2), createVNode(1, \"h4\", \"dms-heading\", createTextVNode(\"Set Value\"), 2), createComponentVNode(2, Input, {\n        \"onInput\": this.onInput,\n        \"type\": \"number\",\n        \"value\": value\n      })], 4);\n    }\n  }]);\n\n  return OutputNumberEdit;\n}(Component);\n\nexport { OutputNumberEdit as default };\n//# sourceMappingURL=OutputNumberEdit.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport InputNumberEdit from './components/InputNumberEdit';\nimport OutputNumberEdit from './components/OutputNumberEdit';\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar SimpleNumberEdit = /*#__PURE__*/_createClass(function SimpleNumberEdit(components, simpleMode) {\n  _classCallCheck(this, SimpleNumberEdit);\n\n  simpleMode.registerProvider(function (element) {\n    var typeRef = getTypeRef(element);\n    return (isInput(element.col) || isOutput(element.col)) && (typeRef === 'integer' || typeRef === 'long' || typeRef === 'double');\n  });\n  components.onGetComponent('context-menu', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\n      if (!context.element) {\n        return;\n      }\n\n      var typeRef = getTypeRef(context.element);\n\n      if (isNumber(typeRef)) {\n        if (isInput(context.element.col)) {\n          return InputNumberEdit;\n        } else if (isOutput(context.element.col)) {\n          return OutputNumberEdit;\n        }\n      }\n    }\n  });\n});\n\nexport { SimpleNumberEdit as default };\nSimpleNumberEdit.$inject = ['components', 'simpleMode']; // helpers //////////////////////\n\nfunction getTypeRef(element) {\n  if (isInput(element.col)) {\n    return element.col && element.col.businessObject.inputExpression.typeRef;\n  } else {\n    return element.col && element.col.businessObject.typeRef;\n  }\n}\n\nfunction isNumber(typeRef) {\n  return typeRef === 'integer' || typeRef === 'long' || typeRef === 'double';\n}\n//# sourceMappingURL=SimpleNumberEdit.js.map","import SimpleMode from '../simple-mode';\nimport SimpleNumberEdit from './SimpleNumberEdit';\nimport Keyboard from '../keyboard';\nexport default {\n  __depends__: [Keyboard, SimpleMode],\n  __init__: ['simpleNumberEdit'],\n  simpleNumberEdit: ['type', SimpleNumberEdit]\n};\n//# sourceMappingURL=index.js.map","import { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\n/**\r\n * Parse input/output entry string to unary tests and type of unary tests.\r\n *\r\n * Example:\r\n *\r\n * not(\"foo\", \"bar\")\r\n *\r\n * returns\r\n *\r\n * {\r\n *   type: 'negation',\r\n *   values: [ \"foo\", \"bar, baz\" ]\r\n * }\r\n *\r\n * @param {string} string - Input/Output entry as string e.g. \"foo\", \"bar\".\r\n */\n\nexport function parseString(string) {\n  // empty string or no string at all\n  if (!string || isEmptyString(string.trim())) {\n    return {\n      type: 'disjunction',\n      values: []\n    };\n  } // disjunction\n\n\n  var values = string.split(',');\n  var result = {\n    type: 'disjunction',\n    values: []\n  };\n  var openString = '';\n  values.forEach(function (value) {\n    openString += value;\n\n    if (/^\"[^\"]*\"$/.test(openString.trim())) {\n      result.values.push(openString.trim());\n      openString = '';\n    } else {\n      openString += ',';\n    }\n  });\n\n  if (!openString) {\n    return result;\n  } // negation\n\n\n  result.type = 'negation';\n  result.values = [];\n  openString = '';\n  var matches = string.match(/^\\s*not\\((.*)\\)\\s*$/);\n\n  if (matches) {\n    values = matches[1].split(',');\n    values.forEach(function (value) {\n      openString += value;\n\n      if (/^\"[^\"]*\"$/.test(openString.trim())) {\n        result.values.push(openString.trim());\n        openString = '';\n      } else {\n        openString += ',';\n      }\n    });\n\n    if (!openString) {\n      return result;\n    }\n  }\n} // TODO(philippfromme): seperate when refactoring component\n\nexport function getInputOrOutputValues(inputOrOutput) {\n  var inputOrOutputValues = isInput(inputOrOutput) ? inputOrOutput.inputValues : inputOrOutput.outputValues;\n\n  if (!inputOrOutputValues || isEmptyString(inputOrOutputValues.text)) {\n    return [];\n  } else {\n    return inputOrOutputValues.text.split(',').map(function (value) {\n      return value.trim();\n    });\n  }\n}\n\nfunction isEmptyString(string) {\n  return string === '';\n}\n//# sourceMappingURL=Utils.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nimport List from 'dmn-js-shared/lib/components/List';\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\nimport { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { getInputOrOutputValues, parseString } from '../Utils';\nvar DISJUNCTION = 'disjunction',\n    NEGATION = 'negation';\nvar INPUT_VALUES_LABEL = 'Predefined Values',\n    OUTPUT_VALUES_LABEL = 'Predefined Values',\n    INPUT_ENTRY_VALUES_LABEL = 'Custom Values';\n\nvar SimpleStringEditContextMenuComponent = /*#__PURE__*/function (_Component) {\n  _inherits(SimpleStringEditContextMenuComponent, _Component);\n\n  var _super = _createSuper(SimpleStringEditContextMenuComponent);\n\n  function SimpleStringEditContextMenuComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, SimpleStringEditContextMenuComponent);\n\n    _this = _super.call(this, props, context);\n    _this._translate = context.injector.get('translate');\n    _this._modeling = context.injector.get('modeling');\n    var parsedString = parseString(props.context.element.businessObject.text); // could not parse\n\n    if (!parsedString) {\n      parsedString = {\n        values: [],\n        type: DISJUNCTION\n      };\n    }\n\n    var inputOrOutputValues = getInputOrOutputValues(props.context.element.col.businessObject);\n    var filteredValues = parsedString.values.filter(function (value) {\n      return !includes(inputOrOutputValues, value);\n    });\n    var isInputClause = isInput(props.context.element.col);\n    var items = inputOrOutputValues.map(function (value) {\n      return {\n        value: value,\n        isChecked: includes(parsedString.values, value),\n        isRemovable: false,\n        group: isInputClause ? INPUT_VALUES_LABEL : OUTPUT_VALUES_LABEL\n      };\n    });\n\n    if (isInputClause) {\n      items = items.concat(filteredValues.map(function (value) {\n        return {\n          value: value,\n          isChecked: true,\n          isRemovable: true,\n          group: INPUT_ENTRY_VALUES_LABEL\n        };\n      }));\n    }\n\n    var inputValue = '';\n\n    if (!isInputClause && parsedString.values.length && !includes(inputOrOutputValues, parsedString.values[0])) {\n      inputValue = parsedString.values[0];\n    }\n\n    _this.state = {\n      items: items,\n      unaryTestsType: parsedString.type,\n      inputValue: inputValue,\n      isOutputValueInputChecked: inputValue !== ''\n    };\n    var debounceInput = context.injector.get('debounceInput');\n    _this.debouncedEditCell = debounceInput(_this.editCell.bind(_assertThisInitialized(_this)));\n    _this.editCell = _this.editCell.bind(_assertThisInitialized(_this));\n    _this.addUnaryTestsListItem = _this.addUnaryTestsListItem.bind(_assertThisInitialized(_this));\n    _this.onInput = _this.onInput.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onOutputValueInputClick = _this.onOutputValueInputClick.bind(_assertThisInitialized(_this));\n    _this.onUnaryTestsListChanged = _this.onUnaryTestsListChanged.bind(_assertThisInitialized(_this));\n    _this.onUnaryTestsTypeChange = _this.onUnaryTestsTypeChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SimpleStringEditContextMenuComponent, [{\n    key: \"editCell\",\n    value: function editCell(cell, text) {\n      this._modeling.editCell(cell, text);\n    }\n    /**\r\n     * Change type of unary tests.\r\n     */\n\n  }, {\n    key: \"onUnaryTestsTypeChange\",\n    value: function onUnaryTestsTypeChange(value) {\n      var items = this.state.items;\n      var values = getValues(items);\n      var element = this.props.context.element;\n\n      if (value === DISJUNCTION) {\n        this.editCell(element.businessObject, values.join(','));\n        this.setState({\n          unaryTestsType: DISJUNCTION\n        });\n      } else {\n        this.editCell(element.businessObject, \"not(\".concat(values.join(','), \")\"));\n        this.setState({\n          unaryTestsType: NEGATION\n        });\n      }\n    }\n    /**\r\n     * Change list of unary tests.\r\n     */\n\n  }, {\n    key: \"onUnaryTestsListChanged\",\n    value: function onUnaryTestsListChanged(items) {\n      // get checked items\n      var values = getValues(items);\n      var element = this.props.context.element;\n      var unaryTestsType = this.state.unaryTestsType;\n\n      if (unaryTestsType === DISJUNCTION) {\n        this.editCell(element.businessObject, values.join(','));\n      } else {\n        this.editCell(element.businessObject, \"not(\".concat(values.join(','), \")\"));\n      }\n\n      this.setState({\n        items: items,\n        isOutputValueInputChecked: false\n      });\n    }\n    /**\r\n     * Set output value to input value.\r\n     */\n\n  }, {\n    key: \"onOutputValueInputClick\",\n    value: function onOutputValueInputClick() {\n      var element = this.props.context.element;\n      var _this$state = this.state,\n          inputValue = _this$state.inputValue,\n          items = _this$state.items;\n      var parsedString = parseString(inputValue);\n\n      if (!parsedString || parsedString.values.length > 1) {\n        return;\n      }\n\n      this.editCell(element.businessObject, \"\".concat(parsedString.values.join(''))); // uncheck all other values\n\n      this.setState({\n        items: items.map(function (item) {\n          item.isChecked = false;\n          return item;\n        }),\n        isOutputValueInputChecked: true\n      });\n    }\n    /**\r\n     * Set output value if valid.\r\n     */\n\n  }, {\n    key: \"onInput\",\n    value: function onInput(_ref) {\n      var isValid = _ref.isValid,\n          value = _ref.value;\n      var isOutputValueInputChecked = this.state.isOutputValueInputChecked;\n      this.setState({\n        inputValue: value\n      });\n      var element = this.props.context.element;\n\n      if (!isInput(element) && isValid && isOutputValueInputChecked) {\n        this.debouncedEditCell(element.businessObject, value);\n      }\n    }\n    /**\r\n     * Add new value on ENTER.\r\n     */\n\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(_ref2) {\n      var isValid = _ref2.isValid,\n          event = _ref2.event;\n\n      if (!isEnter(event.keyCode)) {\n        return;\n      }\n\n      var element = this.props.context.element;\n      var isInputClause = isInput(element.col); // stop ENTER propagation (and ContextMenu close)\n\n      if (isInputClause || !isValid) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n\n      if (isValid) {\n        if (isInputClause) {\n          this.addUnaryTestsListItem();\n        } else {\n          this.onOutputValueInputClick();\n        }\n      }\n    }\n    /**\r\n     * Add unary tests to list.\r\n     */\n\n  }, {\n    key: \"addUnaryTestsListItem\",\n    value: function addUnaryTestsListItem() {\n      var _this$state2 = this.state,\n          inputValue = _this$state2.inputValue,\n          items = _this$state2.items,\n          unaryTestsType = _this$state2.unaryTestsType;\n      var parsedInput = parseString(inputValue);\n\n      if (!parsedInput) {\n        return;\n      }\n\n      var element = this.props.context.element;\n      var values = getValues(items);\n      var newValues = [].concat(values, parsedInput.values);\n\n      if (unaryTestsType === DISJUNCTION) {\n        this.editCell(element.businessObject, newValues.join(','));\n      } else {\n        this.editCell(element.businessObject, \"not(\".concat(newValues.join(','), \")\"));\n      }\n\n      var newItems = items.concat(parsedInput.values.map(function (value) {\n        return {\n          value: value,\n          isChecked: true,\n          isRemovable: true,\n          group: 'Custom Values'\n        };\n      }));\n      this.setState({\n        items: newItems,\n        inputValue: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var element = this.props.context.element;\n      var _this$state3 = this.state,\n          inputValue = _this$state3.inputValue,\n          isOutputValueInputChecked = _this$state3.isOutputValueInputChecked,\n          items = _this$state3.items,\n          unaryTestsType = _this$state3.unaryTestsType;\n      var options = [{\n        label: 'Match one',\n        value: DISJUNCTION\n      }, {\n        label: 'Match none',\n        value: NEGATION\n      }];\n      var isInputClause = isInput(element.col);\n      var isNegation = unaryTestsType === NEGATION;\n      var showRadio = !isInputClause && items.length > 0;\n      return createVNode(1, \"div\", \"simple-string-edit context-menu-container\", [createVNode(1, \"h3\", \"dms-heading\", this._translate('Edit String'), 0), isInputClause && createVNode(1, \"p\", null, createComponentVNode(2, InputSelect, {\n        \"noInput\": true,\n        \"onChange\": this.onUnaryTestsTypeChange,\n        \"options\": options,\n        \"value\": isNegation ? NEGATION : DISJUNCTION\n      }, null, function (node) {\n        return _this2.selectNode = node;\n      }), 2), createComponentVNode(2, List, {\n        \"onChange\": this.onUnaryTestsListChanged,\n        \"items\": items,\n        \"type\": isInputClause ? 'checkbox' : 'radio'\n      }), isInputClause ? createVNode(1, \"h4\", \"dms-heading\", this._translate('Add Values'), 0) : createVNode(1, \"h4\", \"dms-heading\", this._translate('Set Value'), 0), createVNode(1, \"div\", \"dms-fill-row\", [showRadio && createVNode(64, \"input\", \"cursor-pointer\", null, 1, {\n        \"checked\": isOutputValueInputChecked,\n        \"onClick\": this.onOutputValueInputClick,\n        \"type\": \"radio\",\n        \"style\": {\n          marginRight: '8px'\n        }\n      }), createComponentVNode(2, ValidatedInput, {\n        \"className\": \"dms-block\",\n        \"onKeyDown\": this.onKeyDown,\n        \"onInput\": this.onInput,\n        \"placeholder\": isInputClause ? '\"value\", \"value\", ...' : '\"value\"',\n        \"type\": \"text\",\n        \"validate\": function validate(value) {\n          if (!parseString(value)) {\n            return _this2._translate('Strings must be in double quotes.');\n          }\n        },\n        \"value\": inputValue\n      })], 0)], 0);\n    }\n  }]);\n\n  return SimpleStringEditContextMenuComponent;\n}(Component); // helpers //////////////////////\n\n\nexport { SimpleStringEditContextMenuComponent as default };\n\nfunction isEnter(keyCode) {\n  return keyCode === 13;\n}\n/**\r\n * Get array of actual values from array of items.\r\n *\r\n * @param {Array} items - Array of items.\r\n */\n\n\nfunction getValues(items) {\n  return items.filter(function (item) {\n    return item.isChecked;\n  }).map(function (item) {\n    return item.value;\n  });\n}\n\nfunction includes(array, value) {\n  return array.indexOf(value) !== -1;\n}\n//# sourceMappingURL=SimpleStringEditContextMenuComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport ContextMenuComponent from './components/SimpleStringEditContextMenuComponent';\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar SimpleStringEdit = /*#__PURE__*/_createClass(function SimpleStringEdit(components, simpleMode) {\n  _classCallCheck(this, SimpleStringEdit);\n\n  simpleMode.registerProvider(function (element) {\n    return (isInput(element.col) || isOutput(element.col)) && getTypeRef(element) === 'string';\n  });\n  components.onGetComponent('context-menu', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\n      if (!context.element) {\n        return;\n      }\n\n      var typeRef = getTypeRef(context.element);\n\n      if (typeRef === 'string') {\n        return ContextMenuComponent;\n      }\n    }\n  });\n});\n\nexport { SimpleStringEdit as default };\nSimpleStringEdit.$inject = ['components', 'simpleMode']; // helpers //////////////////////\n\nfunction getTypeRef(element) {\n  if (isInput(element.col)) {\n    return element.col && element.col.businessObject.inputExpression.typeRef;\n  } else {\n    return element.col && element.col.businessObject.typeRef;\n  }\n}\n//# sourceMappingURL=SimpleStringEdit.js.map","import SimpleMode from '../simple-mode';\nimport SimpleStringEdit from './SimpleStringEdit';\nimport Keyboard from '../keyboard';\nexport default {\n  __depends__: [Keyboard, SimpleMode],\n  __init__: ['simpleStringEdit'],\n  simpleStringEdit: ['type', SimpleStringEdit]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport { inject } from 'table-js/lib/components';\nimport { closest as domClosest } from 'min-dom';\nimport { is, getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\n\nvar ResizeColumn = /*#__PURE__*/function (_Component) {\n  _inherits(ResizeColumn, _Component);\n\n  var _super = _createSuper(ResizeColumn);\n\n  function ResizeColumn(props, context) {\n    var _this;\n\n    _classCallCheck(this, ResizeColumn);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (event) {\n      var cell = domClosest(event.target, 'th', false);\n      startResize({\n        node: cell,\n        event: event,\n        minWidth: _this.props.minWidth || 150,\n        onEnd: _this.saveWidth\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveWidth\", function (newWidth) {\n      var col = _this.props.col;\n      var update = {};\n\n      if (is(col, 'dmn:DecisionTable')) {\n        update.annotationsWidth = newWidth;\n      } else {\n        update.width = newWidth;\n      }\n\n      _this.modeling.updateProperties(col, update);\n    });\n\n    inject(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ResizeColumn, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var root = this.getRoot();\n      this.changeSupport.onElementsChanged(root, this.onElementsChanged);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var root = this.getRoot();\n      this.changeSupport.offElementsChanged(root, this.onElementsChanged);\n    }\n  }, {\n    key: \"getRoot\",\n    value: function getRoot() {\n      return this.sheet.getRoot();\n    }\n  }, {\n    key: \"isLastInputOrOutput\",\n    value: function isLastInputOrOutput() {\n      var col = this.props.col,\n          root = this.getRoot(),\n          bo = getBusinessObject(root);\n\n      if (is(col, 'dmn:InputClause')) {\n        var inputs = bo.get('input');\n        return inputs.indexOf(col) === inputs.length - 1;\n      } else if (is(col, 'dmn:OutputClause')) {\n        var outputs = bo.get('output');\n        return outputs.indexOf(col) === outputs.length - 1;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var style = this.isLastInputOrOutput() ? {\n        right: '-7px',\n        width: '27px'\n      } : null;\n      return createVNode(1, \"div\", \"resize-column-handle\", null, 1, {\n        \"onMouseDown\": this.handleMouseDown,\n        \"title\": this.translate('Resize'),\n        \"style\": style\n      });\n    }\n  }]);\n\n  return ResizeColumn;\n}(Component);\n\nexport { ResizeColumn as default };\nResizeColumn.$inject = ['sheet', 'changeSupport', 'translate', 'modeling']; // helper\n\nfunction startResize(_ref) {\n  var node = _ref.node,\n      event = _ref.event,\n      minWidth = _ref.minWidth,\n      _ref$onEnd = _ref.onEnd,\n      onEnd = _ref$onEnd === void 0 ? noop : _ref$onEnd;\n  event.preventDefault();\n  var initialWidth = node.getBoundingClientRect().width;\n  var initialX = event.clientX;\n  var currentUpdate;\n  document.addEventListener('mousemove', handleMouseMove);\n  document.addEventListener('mouseup', handleMouseUp);\n\n  function handleMouseMove(event) {\n    event.preventDefault();\n    var currentWidth = getResizedWidth(event.clientX);\n\n    if (currentUpdate) {\n      cancelAnimationFrame(currentUpdate);\n    }\n\n    currentUpdate = requestAnimationFrame(function () {\n      node.style.width = currentWidth + 'px';\n    });\n  }\n\n  function handleMouseUp(event) {\n    event.preventDefault();\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n    var currentWidth = getResizedWidth(event.clientX);\n    onEnd(currentWidth);\n  }\n\n  function getResizedWidth(currentX) {\n    var delta = currentX - initialX;\n    return Math.max(initialWidth + delta, minWidth);\n  }\n}\n\nfunction noop() {}\n//# sourceMappingURL=ResizeColumn.js.map","import ResizeColumn from './components/ResizeColumn';\nexport default function ColumnResizeProvider(components) {\n  components.onGetComponent('cell-inner', function () {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var cellType = context.cellType;\n\n    if (cellType === 'input-cell' || cellType === 'output-cell' || cellType === 'annotations') {\n      return ResizeColumn;\n    }\n  });\n}\nColumnResizeProvider.$inject = ['components'];\n//# sourceMappingURL=ColumnResizeProvider.js.map","import ColumnResizeProvider from './ColumnResizeProvider';\nexport default {\n  __init__: ['columnResizeProvider'],\n  columnResizeProvider: ['type', ColumnResizeProvider]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport Viewer from './Viewer';\nimport addRuleModule from './features/add-rule';\nimport annotationsEditorModule from './features/annotations/editor';\nimport contextMenuModule from 'table-js/lib/features/context-menu';\nimport copyCutPasteModule from './features/copy-cut-paste';\nimport copyCutPasteKeybindingsModule from './features/copy-cut-paste/key-bindings';\nimport createInputsModule from './features/create-inputs';\nimport decisionTableContextMenu from './features/context-menu';\nimport decisionTableEditorActionsModule from './features/editor-actions';\nimport decisionTableHeadEditorModule from './features/decision-table-head/editor';\nimport dragAndDropModule from './features/drag-and-drop';\nimport descriptionModule from './features/description';\nimport expressionLanguageModule from './features/expression-language';\nimport expressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport tablePropertiesEditorModule from './features/decision-table-properties/editor';\nimport editorActionsModule from 'table-js/lib/features/editor-actions';\nimport hitPolicyEditorModule from './features/hit-policy/editor';\nimport interactionEventsModule from 'table-js/lib/features/interaction-events';\nimport keyboardModule from './features/keyboard';\nimport modelingModule from './features/modeling';\nimport decisionRulesEditorModule from './features/decision-rules/editor';\nimport selectionModule from 'table-js/lib/features/selection';\nimport simpleModeModule from './features/simple-mode';\nimport simpleBooleanEditModule from './features/simple-boolean-edit';\nimport simpleDateEditModule from './features/simple-date-edit';\nimport simpleNumberEditModule from './features/simple-number-edit';\nimport simpleStringEditModule from './features/simple-string-edit';\nimport cellSelectionModule from './features/cell-selection';\nimport columnResizeModule from './features/column-resize';\n\nvar Editor = /*#__PURE__*/function (_Viewer) {\n  _inherits(Editor, _Viewer);\n\n  var _super = _createSuper(Editor);\n\n  function Editor() {\n    _classCallCheck(this, Editor);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Editor, [{\n    key: \"getModules\",\n    value: function getModules() {\n      return [].concat(_toConsumableArray(Viewer._getModules()), _toConsumableArray(Editor._getModules()));\n    }\n  }], [{\n    key: \"_getModules\",\n    value: function _getModules() {\n      return [addRuleModule, annotationsEditorModule, cellSelectionModule, contextMenuModule, copyCutPasteModule, copyCutPasteKeybindingsModule, createInputsModule, decisionTableContextMenu, decisionTableEditorActionsModule, decisionTableHeadEditorModule, columnResizeModule, dragAndDropModule, descriptionModule, expressionLanguageModule, expressionLanguagesModule, keyboardModule, tablePropertiesEditorModule, editorActionsModule, hitPolicyEditorModule, interactionEventsModule, modelingModule, decisionRulesEditorModule, selectionModule, simpleModeModule, simpleBooleanEditModule, simpleDateEditModule, simpleNumberEditModule, simpleStringEditModule];\n    }\n  }]);\n\n  return Editor;\n}(Viewer);\n\nexport { Editor as default };\n//# sourceMappingURL=Editor.js.map","var CLASS_PATTERN = /^class /;\n\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nfunction annotate() {\n  var args = Array.prototype.slice.call(arguments);\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  var fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nvar CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARGS = /^(?:async )?(?:function\\s*)?[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\nfunction parseAnnotations(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error('Cannot annotate \"' + fn + '\". Expected a function!');\n  }\n\n  var match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  return match[1] && match[1].split(',').map(function(arg) {\n    match = arg.match(FN_ARG);\n    return match ? match[1].trim() : arg.trim();\n  }) || [];\n}\n\nfunction Module() {\n  var providers = [];\n\n  this.factory = function(name, factory) {\n    providers.push([name, 'factory', factory]);\n    return this;\n  };\n\n  this.value = function(name, value) {\n    providers.push([name, 'value', value]);\n    return this;\n  };\n\n  this.type = function(name, type) {\n    providers.push([name, 'type', type]);\n    return this;\n  };\n\n  this.forEach = function(iterator) {\n    providers.forEach(iterator);\n  };\n\n}\n\nfunction Injector(modules, parent) {\n  parent = parent || {\n    get: function(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error('No provider for \"' + name + '\"!');\n      }\n    }\n  };\n\n  var currentlyResolving = [];\n  var providers = this._providers = Object.create(parent._providers || null);\n  var instances = this._instances = Object.create(null);\n\n  var self = instances.injector = this;\n\n  var error = function(msg) {\n    var stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? msg + ' (Resolving: ' + stack + ')' : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {String} name\n   * @param {Boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {Object}\n   */\n  var get = function(name, strict) {\n    if (!providers[name] && name.indexOf('.') !== -1) {\n      var parts = name.split('.');\n      var pivot = get(parts.shift());\n\n      while (parts.length) {\n        pivot = pivot[parts.shift()];\n      }\n\n      return pivot;\n    }\n\n    if (hasOwnProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasOwnProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  };\n\n  var fnDef = function(fn, locals) {\n\n    if (typeof locals === 'undefined') {\n      locals = {};\n    }\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw new Error('Cannot invoke \"' + fn + '\". Expected a function!');\n      }\n    }\n\n    var inject = fn.$inject || parseAnnotations(fn);\n    var dependencies = inject.map(function(dep) {\n      if (hasOwnProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies: dependencies\n    };\n  };\n\n  var instantiate = function(Type) {\n    var def = fnDef(Type);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    // instantiate var args constructor\n    var Constructor = Function.prototype.bind.apply(fn, [ null ].concat(dependencies));\n\n    return new Constructor();\n  };\n\n  var invoke = function(func, context, locals) {\n    var def = fnDef(func, locals);\n\n    var fn = def.fn,\n        dependencies = def.dependencies;\n\n    return fn.apply(context, dependencies);\n  };\n\n\n  var createPrivateInjectorFactory = function(privateChildInjector) {\n    return annotate(function(key) {\n      return privateChildInjector.get(key);\n    });\n  };\n\n  var createChild = function(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      var fromParentModule = Object.create(null);\n      var matchedScopes = Object.create(null);\n\n      var privateInjectorsCache = [];\n      var privateChildInjectors = [];\n      var privateChildFactories = [];\n\n      var provider;\n      var cacheIdx;\n      var privateChildInjector;\n      var privateChildInjectorFactory;\n      for (var name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [privateChildInjectorFactory, name, 'private', privateChildInjector];\n            } else {\n              fromParentModule[name] = [privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx]];\n            }\n          } else {\n            fromParentModule[name] = [provider[2], provider[1]];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(function(scope) {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [provider[2], provider[1]];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(function(scope) {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  };\n\n  var factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function(value) {\n      return value;\n    }\n  };\n\n  modules.forEach(function(module) {\n\n    function arrayUnwrap(type, value) {\n      if (type !== 'value' && isArray(value)) {\n        value = annotate(value.slice());\n      }\n\n      return value;\n    }\n\n    // TODO(vojta): handle wrong inputs (modules)\n    if (module instanceof Module) {\n      module.forEach(function(provider) {\n        var name = provider[0];\n        var type = provider[1];\n        var value = provider[2];\n\n        providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n      });\n    } else if (typeof module === 'object') {\n      if (module.__exports__) {\n        var clonedModule = Object.keys(module).reduce(function(m, key) {\n          if (key.substring(0, 2) !== '__') {\n            m[key] = module[key];\n          }\n          return m;\n        }, Object.create(null));\n\n        var privateInjector = new Injector((module.__modules__ || []).concat([clonedModule]), self);\n        var getFromPrivateInjector = annotate(function(key) {\n          return privateInjector.get(key);\n        });\n        module.__exports__.forEach(function(key) {\n          providers[key] = [getFromPrivateInjector, key, 'private', privateInjector];\n        });\n      } else {\n        Object.keys(module).forEach(function(name) {\n          if (module[name][2] === 'private') {\n            providers[name] = module[name];\n            return;\n          }\n\n          var type = module[name][0];\n          var value = module[name][1];\n\n          providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n        });\n      }\n    }\n  });\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n}\n\nexport { annotate, parseAnnotations, Module, Injector };\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar ChangeSupport = /*#__PURE__*/function () {\n  function ChangeSupport(eventBus) {\n    var _this = this;\n\n    _classCallCheck(this, ChangeSupport);\n\n    this._listeners = {};\n    eventBus.on('elements.changed', function (_ref) {\n      var elements = _ref.elements;\n\n      _this.elementsChanged(elements);\n    });\n    eventBus.on('element.updateId', function (_ref2) {\n      var element = _ref2.element,\n          newId = _ref2.newId;\n\n      _this.updateId(element.id, newId);\n    });\n  }\n\n  _createClass(ChangeSupport, [{\n    key: \"elementsChanged\",\n    value: function elementsChanged(elements) {\n      var invoked = {};\n      var elementsLength = elements.length;\n\n      for (var i = 0; i < elementsLength; i++) {\n        var id = elements[i].id;\n\n        if (invoked[id]) {\n          return;\n        }\n\n        invoked[id] = true;\n        var listenersLength = this._listeners[id] && this._listeners[id].length;\n\n        if (listenersLength) {\n          for (var j = 0; j < listenersLength; j++) {\n            // listeners might remove themselves before they get called\n            this._listeners[id][j] && this._listeners[id][j]();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onElementsChanged\",\n    value: function onElementsChanged(id, listener) {\n      if (!this._listeners[id]) {\n        this._listeners[id] = [];\n      } // avoid push for better performance\n\n\n      this._listeners[id][this._listeners[id].length] = listener;\n    }\n  }, {\n    key: \"offElementsChanged\",\n    value: function offElementsChanged(id, listener) {\n      if (!this._listeners[id]) {\n        return;\n      }\n\n      if (listener) {\n        var idx = this._listeners[id].indexOf(listener);\n\n        if (idx !== -1) {\n          this._listeners[id].splice(idx, 1);\n        }\n      } else {\n        this._listeners[id].length = 0;\n      }\n    }\n  }, {\n    key: \"updateId\",\n    value: function updateId(oldId, newId) {\n      if (this._listeners[oldId]) {\n        this._listeners[newId] = this._listeners[oldId];\n        delete this._listeners[oldId];\n      }\n    }\n  }]);\n\n  return ChangeSupport;\n}();\n\nexport { ChangeSupport as default };\nChangeSupport.$inject = ['eventBus'];\n//# sourceMappingURL=ChangeSupport.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { isFunction, isNumber } from 'min-dash';\nvar DEFAULT_PRIORITY = 1000;\n\nvar Components = /*#__PURE__*/function () {\n  function Components() {\n    _classCallCheck(this, Components);\n\n    this._listeners = {};\n  }\n\n  _createClass(Components, [{\n    key: \"getComponent\",\n    value: function getComponent(type, context) {\n      var listeners = this._listeners[type];\n\n      if (!listeners) {\n        return;\n      }\n\n      var component;\n\n      for (var i = 0; i < listeners.length; i++) {\n        component = listeners[i].callback(context);\n\n        if (component) {\n          break;\n        }\n      }\n\n      return component;\n    }\n  }, {\n    key: \"getComponents\",\n    value: function getComponents(type, context) {\n      var listeners = this._listeners[type];\n\n      if (!listeners) {\n        return;\n      }\n\n      var components = [];\n\n      for (var i = 0; i < listeners.length; i++) {\n        var component = listeners[i].callback(context);\n\n        if (component) {\n          components.push(component);\n        }\n      }\n\n      if (!components.length) {\n        return;\n      }\n\n      return components;\n    }\n  }, {\n    key: \"onGetComponent\",\n    value: function onGetComponent(type, priority, callback) {\n      if (isFunction(priority)) {\n        callback = priority;\n        priority = DEFAULT_PRIORITY;\n      }\n\n      if (!isNumber(priority)) {\n        throw new Error('priority must be a number');\n      }\n\n      var listeners = this._getListeners(type);\n\n      var existingListener, idx;\n      var newListener = {\n        priority: priority,\n        callback: callback\n      };\n\n      for (idx = 0; existingListener = listeners[idx]; idx++) {\n        if (existingListener.priority < priority) {\n          // prepend newListener at before existingListener\n          listeners.splice(idx, 0, newListener);\n          return;\n        }\n      }\n\n      listeners.push(newListener);\n    }\n  }, {\n    key: \"offGetComponent\",\n    value: function offGetComponent(type, callback) {\n      var listeners = this._getListeners(type);\n\n      var listener, listenerCallback, idx;\n\n      if (callback) {\n        // move through listeners from back to front\n        // and remove matching listeners\n        for (idx = listeners.length - 1; listener = listeners[idx]; idx--) {\n          listenerCallback = listener.callback;\n\n          if (listenerCallback === callback) {\n            listeners.splice(idx, 1);\n          }\n        }\n      } else {\n        // clear listeners\n        listeners.length = 0;\n      }\n    }\n  }, {\n    key: \"_getListeners\",\n    value: function _getListeners(type) {\n      var listeners = this._listeners[type];\n\n      if (!listeners) {\n        this._listeners[type] = listeners = [];\n      }\n\n      return listeners;\n    }\n  }]);\n\n  return Components;\n}();\n\nexport { Components as default };\n//# sourceMappingURL=Components.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\n\nvar ViewerComponent = /*#__PURE__*/function (_Component) {\n  _inherits(ViewerComponent, _Component);\n\n  var _super = _createSuper(ViewerComponent);\n\n  function ViewerComponent(props) {\n    var _this;\n\n    _classCallCheck(this, ViewerComponent);\n\n    _this = _super.call(this, props);\n    var injector = _this._injector = props.injector;\n    _this._changeSupport = injector.get('changeSupport');\n    _this._components = injector.get('components');\n    _this._renderer = injector.get('renderer');\n    return _this;\n  }\n\n  _createClass(ViewerComponent, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        changeSupport: this._changeSupport,\n        components: this._components,\n        renderer: this._renderer,\n        injector: this._injector\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var components = this._components.getComponents('viewer');\n\n      return createVNode(1, \"div\", \"viewer-container\", components && components.map(function (Component, index) {\n        return createComponentVNode(2, Component, null, index);\n      }), 0);\n    }\n  }]);\n\n  return ViewerComponent;\n}(Component);\n\nexport { ViewerComponent as default };\n//# sourceMappingURL=ViewerComponent.js.map","import { createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { render } from 'inferno';\nimport ViewerComponent from './components/ViewerComponent';\n\nvar Renderer = /*#__PURE__*/function () {\n  function Renderer(changeSupport, components, config, eventBus, injector) {\n    _classCallCheck(this, Renderer);\n\n    var container = config.container;\n    this._container = container;\n    eventBus.on('renderer.mount', function () {\n      render(createComponentVNode(2, ViewerComponent, {\n        \"injector\": injector\n      }), container);\n    });\n    eventBus.on('renderer.unmount', function () {\n      render(null, container);\n    });\n  }\n\n  _createClass(Renderer, [{\n    key: \"getContainer\",\n    value: function getContainer() {\n      return this._container;\n    }\n  }]);\n\n  return Renderer;\n}();\n\nexport { Renderer as default };\nRenderer.$inject = ['changeSupport', 'components', 'config.renderer', 'eventBus', 'injector'];\n//# sourceMappingURL=Renderer.js.map","import ChangeSupport from './ChangeSupport';\nimport Components from './Components';\nimport EventBus from 'diagram-js/lib/core/EventBus';\nimport Renderer from './Renderer';\nexport default {\n  __init__: ['changeSupport', 'components', 'renderer'],\n  changeSupport: ['type', ChangeSupport],\n  components: ['type', Components],\n  eventBus: ['type', EventBus],\n  renderer: ['type', Renderer]\n};\n//# sourceMappingURL=index.js.map","var _excluded = [\"modules\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { Injector } from 'didi';\nimport core from './core';\n/**\r\n * A base for React-style viewers.\r\n */\n\nvar Viewer = /*#__PURE__*/function () {\n  function Viewer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Viewer);\n\n    var injector = options.injector;\n\n    if (!injector) {\n      var _this$_init = this._init(options),\n          modules = _this$_init.modules,\n          config = _this$_init.config;\n\n      injector = createInjector(config, modules);\n    }\n\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('viewer.init');\n  }\n  /**\r\n   * Intialize and return modules and config used for creation.\r\n   *\r\n   * @param  {Object} options\r\n   *\r\n   * @return {Object} { modules=[], config }\r\n   */\n\n\n  _createClass(Viewer, [{\n    key: \"_init\",\n    value: function _init(options) {\n      var modules = options.modules,\n          config = _objectWithoutProperties(options, _excluded);\n\n      return {\n        modules: modules,\n        config: config\n      };\n    }\n    /**\r\n     * Destroy. This results in removing the attachment from the container.\r\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var eventBus = this.get('eventBus');\n      eventBus.fire('viewer.destroy');\n    }\n    /**\r\n     * Clear. Should be used to reset the state of any stateful services.\r\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var eventBus = this.get('eventBus');\n      eventBus.fire('viewer.clear');\n    }\n  }]);\n\n  return Viewer;\n}(); // helpers //////////////////////\n\n\nexport { Viewer as default };\n\nfunction bootstrap(bootstrapModules) {\n  var modules = [],\n      components = [];\n\n  function hasModule(m) {\n    return modules.indexOf(m) >= 0;\n  }\n\n  function addModule(m) {\n    modules.push(m);\n  }\n\n  function visit(m) {\n    if (hasModule(m)) {\n      return;\n    }\n\n    (m.__depends__ || []).forEach(visit);\n\n    if (hasModule(m)) {\n      return;\n    }\n\n    addModule(m);\n    (m.__init__ || []).forEach(function (c) {\n      components.push(c);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n  var injector = new Injector(modules);\n  components.forEach(function (c) {\n    try {\n      // eagerly resolve component (fn or string)\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\n    } catch (e) {\n      console.error('Failed to instantiate component');\n      console.error(e.stack);\n      throw e;\n    }\n  });\n  return injector;\n}\n\nfunction createInjector(config, modules) {\n  var bootstrapModules = [{\n    config: ['value', config]\n  }, core].concat(modules || []);\n  return bootstrap(bootstrapModules);\n}\n//# sourceMappingURL=Viewer.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/**\n * A single decision element registry.\n *\n * The sole purpose of this service is to provide the necessary API\n * to serve shared components, i.e. the UpdatePropertiesHandler.\n */\nvar ElementRegistry = /*#__PURE__*/function () {\n  function ElementRegistry(viewer, eventBus) {\n    _classCallCheck(this, ElementRegistry);\n\n    this._eventBus = eventBus;\n    this._viewer = viewer;\n  }\n\n  _createClass(ElementRegistry, [{\n    key: \"getDecision\",\n    value: function getDecision() {\n      return this._viewer.getDecision();\n    }\n  }, {\n    key: \"updateId\",\n    value: function updateId(element, newId) {\n      var decision = this.getDecision();\n\n      if (element !== decision) {\n        throw new Error('element !== decision');\n      }\n\n      this._eventBus.fire('element.updateId', {\n        element: element,\n        newId: newId\n      });\n\n      element.id = newId;\n    }\n  }]);\n\n  return ElementRegistry;\n}();\n\nexport { ElementRegistry as default };\nElementRegistry.$inject = ['viewer', 'eventBus'];\n//# sourceMappingURL=ElementRegistry.js.map","import ElementRegistry from './ElementRegistry';\nexport default {\n  __init__: ['elementRegistry'],\n  elementRegistry: ['type', ElementRegistry]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\n\nvar DecisionPropertiesComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionPropertiesComponent, _Component);\n\n  var _super = _createSuper(DecisionPropertiesComponent);\n\n  function DecisionPropertiesComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, DecisionPropertiesComponent);\n\n    _this = _super.call(this, props, context);\n    _this._viewer = context.injector.get('viewer');\n    return _this;\n  }\n\n  _createClass(DecisionPropertiesComponent, [{\n    key: \"render\",\n    value: function render() {\n      // there is only one single element\n      var _this$_viewer$getDeci = this._viewer.getDecision(),\n          name = _this$_viewer$getDeci.name;\n\n      return createVNode(1, \"div\", \"decision-properties\", createVNode(1, \"h3\", \"decision-name\", name, 0), 2);\n    }\n  }]);\n\n  return DecisionPropertiesComponent;\n}(Component);\n\nexport { DecisionPropertiesComponent as default };\n//# sourceMappingURL=DecisionPropertiesComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport DecisionPropertiesComponent from './components/DecisionPropertiesComponent';\nvar HIGH_PRIORITY = 1500;\n\nvar DecisionProperties = /*#__PURE__*/_createClass(function DecisionProperties(components) {\n  _classCallCheck(this, DecisionProperties);\n\n  components.onGetComponent('viewer', HIGH_PRIORITY, function () {\n    return DecisionPropertiesComponent;\n  });\n});\n\nexport { DecisionProperties as default };\nDecisionProperties.$inject = ['components'];\n//# sourceMappingURL=DecisionProperties.js.map","import DecisionProperties from './DecisionProperties';\nexport default {\n  __init__: ['decisionProperties'],\n  decisionProperties: ['type', DecisionProperties]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\n\nvar LiteralExpressionPropertiesComponent = /*#__PURE__*/function (_Component) {\n  _inherits(LiteralExpressionPropertiesComponent, _Component);\n\n  var _super = _createSuper(LiteralExpressionPropertiesComponent);\n\n  function LiteralExpressionPropertiesComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, LiteralExpressionPropertiesComponent);\n\n    _this = _super.call(this, props, context);\n    _this._viewer = context.injector.get('viewer');\n    return _this;\n  }\n\n  _createClass(LiteralExpressionPropertiesComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this$_viewer$getDeci = this._viewer.getDecision(),\n          literalExpression = _this$_viewer$getDeci.decisionLogic,\n          variable = _this$_viewer$getDeci.variable;\n\n      return createVNode(1, \"div\", \"literal-expression-properties\", createVNode(1, \"table\", null, [createVNode(1, \"tr\", null, [createVNode(1, \"td\", null, createTextVNode(\"Variable Name:\"), 2), createVNode(1, \"td\", null, createVNode(1, \"span\", null, variable.name || '-', 0), 2)], 4), createVNode(1, \"tr\", null, [createVNode(1, \"td\", null, createTextVNode(\"Variable Type:\"), 2), createVNode(1, \"td\", null, createVNode(1, \"span\", null, variable.typeRef || '-', 0), 2)], 4), createVNode(1, \"tr\", null, [createVNode(1, \"td\", null, createTextVNode(\"Expression Language:\"), 2), createVNode(1, \"td\", null, createVNode(1, \"span\", null, literalExpression.expressionLanguage || '-', 0), 2)], 4)], 4), 2);\n    }\n  }]);\n\n  return LiteralExpressionPropertiesComponent;\n}(Component);\n\nexport { LiteralExpressionPropertiesComponent as default };\n//# sourceMappingURL=LiteralExpressionPropertiesComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport LiteralExpressionPropertiesComponent from './components/LiteralExpressionPropertiesComponent';\nvar LOW_PRIORITY = 500;\n\nvar DecisionProperties = /*#__PURE__*/_createClass(function DecisionProperties(components) {\n  _classCallCheck(this, DecisionProperties);\n\n  components.onGetComponent('viewer', LOW_PRIORITY, function () {\n    return LiteralExpressionPropertiesComponent;\n  });\n});\n\nexport { DecisionProperties as default };\nDecisionProperties.$inject = ['components'];\n//# sourceMappingURL=LiteralExpressionProperties.js.map","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport LiteralExpressionProperties from './LiteralExpressionProperties';\nexport default {\n  __depends__: [ExpressionLanguagesModule],\n  __init__: ['literalExpressionProperties'],\n  literalExpressionProperties: ['type', LiteralExpressionProperties]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport Logo from 'dmn-js-shared/lib/components/Logo';\n\nvar PoweredByLogoComponent = /*#__PURE__*/function (_Component) {\n  _inherits(PoweredByLogoComponent, _Component);\n\n  var _super = _createSuper(PoweredByLogoComponent);\n\n  function PoweredByLogoComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, PoweredByLogoComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function () {\n      _this._eventBus.fire('poweredBy.show');\n    });\n\n    var injector = context.injector;\n    _this._eventBus = injector.get('eventBus');\n    return _this;\n  }\n\n  _createClass(PoweredByLogoComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return createVNode(1, \"div\", \"powered-by\", createVNode(1, \"div\", \"powered-by__logo\", createComponentVNode(2, Logo), 2), 2, {\n        \"onClick\": this.onClick,\n        \"title\": \"Powered by bpmn.io\"\n      }, null, function (node) {\n        return _this2.node = node;\n      });\n    }\n  }]);\n\n  return PoweredByLogoComponent;\n}(Component);\n\nexport { PoweredByLogoComponent as default };\n//# sourceMappingURL=PoweredByLogoComponent.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport Logo from 'dmn-js-shared/lib/components/Logo';\n\nvar PoweredByOverlayComponent = /*#__PURE__*/function (_Component) {\n  _inherits(PoweredByOverlayComponent, _Component);\n\n  var _super = _createSuper(PoweredByOverlayComponent);\n\n  function PoweredByOverlayComponent(props) {\n    var _this;\n\n    _classCallCheck(this, PoweredByOverlayComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      show: false\n    };\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.onShow = _this.onShow.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(PoweredByOverlayComponent, [{\n    key: \"onClick\",\n    value: function onClick() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"onShow\",\n    value: function onShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var eventBus = this._eventBus = this.context.injector.get('eventBus');\n      eventBus.on('poweredBy.show', this.onShow);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._eventBus.off('poweredBy.show', this.onShow);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var show = this.state.show;\n      return show && createVNode(1, \"div\", \"powered-by-overlay\", createVNode(1, \"div\", \"powered-by-overlay-content\", [createVNode(1, \"a\", \"logo\", createComponentVNode(2, Logo), 2, {\n        \"href\": \"https://bpmn.io\",\n        \"target\": \"_blank\",\n        \"rel\": \"noopener\"\n      }), createVNode(1, \"span\", null, [createTextVNode(\"Web-based tooling for BPMN, DMN and CMMN diagrams powered by \"), createVNode(1, \"a\", null, createTextVNode(\"bpmn.io\"), 2, {\n        \"href\": \"http://bpmn.io\",\n        \"target\": \"_blank\"\n      }), createTextVNode(\".\")], 4)], 4, {\n        \"onClick\": function onClick(e) {\n          return e.stopPropagation();\n        }\n      }), 2, {\n        \"onClick\": this.onClick\n      });\n    }\n  }]);\n\n  return PoweredByOverlayComponent;\n}(Component);\n\nexport { PoweredByOverlayComponent as default };\n//# sourceMappingURL=PoweredByOverlayComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport PoweredByLogoComponent from './components/PoweredByLogoComponent';\nimport PoweredByOverlayComponent from './components/PoweredByOverlayComponent';\nvar HIGHER_PRIORITY = 2000;\n\nvar PoweredBy = /*#__PURE__*/_createClass(function PoweredBy(components, eventBus) {\n  _classCallCheck(this, PoweredBy);\n\n  components.onGetComponent('viewer', HIGHER_PRIORITY, function () {\n    return PoweredByLogoComponent;\n  });\n  components.onGetComponent('viewer', function () {\n    return PoweredByOverlayComponent;\n  });\n});\n\nexport { PoweredBy as default };\nPoweredBy.$inject = ['components', 'eventBus'];\n//# sourceMappingURL=PoweredBy.js.map","import PoweredBy from './PoweredBy';\nexport default {\n  __init__: ['poweredBy'],\n  poweredBy: ['type', PoweredBy]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\n\nvar TextareaComponent = /*#__PURE__*/function (_Component) {\n  _inherits(TextareaComponent, _Component);\n\n  var _super = _createSuper(TextareaComponent);\n\n  function TextareaComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, TextareaComponent);\n\n    _this = _super.call(this, props, context);\n    _this._viewer = context.injector.get('viewer');\n    return _this;\n  }\n\n  _createClass(TextareaComponent, [{\n    key: \"render\",\n    value: function render() {\n      var text = this._viewer.getDecision().decisionLogic.text;\n\n      return createVNode(1, \"div\", \"textarea\", createVNode(1, \"div\", \"content\", text, 0), 2);\n    }\n  }]);\n\n  return TextareaComponent;\n}(Component);\n\nexport { TextareaComponent as default };\n//# sourceMappingURL=TextareaComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport TextareaComponent from './components/TextareaComponent';\n\nvar Textarea = /*#__PURE__*/_createClass(function Textarea(components) {\n  _classCallCheck(this, Textarea);\n\n  components.onGetComponent('viewer', function () {\n    return TextareaComponent;\n  });\n});\n\nexport { Textarea as default };\nTextarea.$inject = ['components'];\n//# sourceMappingURL=Textarea.js.map","import Textarea from './Textarea';\nexport default {\n  __init__: ['textarea'],\n  textarea: ['type', Textarea]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\n\nvar ViewDrdComponent = /*#__PURE__*/function (_Component) {\n  _inherits(ViewDrdComponent, _Component);\n\n  var _super = _createSuper(ViewDrdComponent);\n\n  function ViewDrdComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, ViewDrdComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function () {\n      _this._eventBus.fire('showDrd');\n    });\n\n    var injector = context.injector;\n    _this._eventBus = injector.get('eventBus');\n    return _this;\n  }\n\n  _createClass(ViewDrdComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return createVNode(1, \"div\", \"view-drd\", createVNode(1, \"button\", \"view-drd-button\", createTextVNode(\"View DRD\"), 2, {\n        \"onClick\": this.onClick\n      }), 2, null, null, function (node) {\n        return _this2.node = node;\n      });\n    }\n  }]);\n\n  return ViewDrdComponent;\n}(Component);\n\nexport { ViewDrdComponent as default };\n//# sourceMappingURL=ViewDrdComponent.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport ViewDrdComponent from './components/ViewDrdComponent';\nvar VERY_HIGH_PRIORITY = 2000;\n\nvar ViewDrd = /*#__PURE__*/function () {\n  function ViewDrd(components, viewer, eventBus, injector) {\n    var _this = this;\n\n    _classCallCheck(this, ViewDrd);\n\n    this._injector = injector;\n    this._viewer = viewer;\n    components.onGetComponent('viewer', VERY_HIGH_PRIORITY, function () {\n      if (_this.canViewDrd()) {\n        return ViewDrdComponent;\n      }\n    });\n    eventBus.on('showDrd', function () {\n      var parent = injector.get('_parent', false); // there is only one single element\n\n      var definitions = _this.getDefinitions(); // open definitions\n\n\n      var view = parent.getView(definitions);\n      parent.open(view);\n    });\n  }\n\n  _createClass(ViewDrd, [{\n    key: \"canViewDrd\",\n    value: function canViewDrd() {\n      var parent = this._injector.get('_parent', false);\n\n      if (!parent) {\n        return;\n      } // there is only one single element\n\n\n      var definitions = this.getDefinitions();\n      return !!parent.getView(definitions);\n    }\n  }, {\n    key: \"getDefinitions\",\n    value: function getDefinitions() {\n      return _getDefinitions(this._viewer.getDecision());\n    }\n  }]);\n\n  return ViewDrd;\n}();\n\nexport { ViewDrd as default };\nViewDrd.$inject = ['components', 'viewer', 'eventBus', 'injector']; // helpers //////////////////////\n\nfunction _getDefinitions(decision) {\n  var definitions = decision.$parent;\n  return definitions;\n}\n//# sourceMappingURL=ViewDrd.js.map","import ViewDrd from './ViewDrd';\nexport default {\n  __init__: ['viewDrd'],\n  viewDrd: ['type', ViewDrd]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _excluded = [\"modules\", \"additionalModules\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport BaseViewer from 'dmn-js-shared/lib/base/viewer/Viewer';\nimport { assign } from 'min-dash';\nimport { domify, remove as domRemove } from 'min-dom';\nimport CoreModule from './core';\nimport DecisionPropertiesModule from './features/decision-properties';\nimport LiteralExpressionPropertiesModule from './features/literal-expression-properties';\nimport PoweredByModule from './features/powered-by';\nimport TextareaModule from './features/textarea';\nimport ViewDrdModule from './features/view-drd';\n/**\r\n * @typedef {import('dmn-js-shared/lib/base/View).OpenResult} OpenResult\r\n */\n\n/**\r\n * @typedef {import('dmn-js-shared/lib/base/View).OpenError} OpenError\r\n */\n\nvar Viewer = /*#__PURE__*/function (_BaseViewer) {\n  _inherits(Viewer, _BaseViewer);\n\n  var _super = _createSuper(Viewer);\n\n  function Viewer() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Viewer);\n\n    var container = Viewer._createContainer();\n\n    _this = _super.call(this, assign(options, {\n      renderer: {\n        container: container\n      }\n    }));\n    _this._container = container;\n    return _this;\n  }\n  /**\r\n   * Open diagram element.\r\n   *\r\n   * @param  {ModdleElement} decision\r\n   * @returns {Promise} Resolves with {OpenResult} when successful\r\n   * or rejects with {OpenError}\r\n   */\n\n\n  _createClass(Viewer, [{\n    key: \"open\",\n    value: function open(decision) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var err; // use try/catch to not swallow synchronous exceptions\n        // that may be raised during model parsing\n\n        try {\n          if (self._decision) {\n            // clear existing literal expression\n            self.clear(); // unmount first\n\n            self.get('eventBus').fire('renderer.unmount');\n          } // update literal expression\n\n\n          self._decision = decision; // let others know about import\n\n          self.get('eventBus').fire('import', decision);\n          self.get('eventBus').fire('renderer.mount');\n        } catch (e) {\n          err = e;\n        } // handle synchronously thrown exception\n\n\n        if (err) {\n          err.warnings = err.warnings || [];\n          reject(err);\n        } else {\n          resolve({\n            warnings: []\n          });\n        }\n      });\n    }\n    /**\r\n     * Initialize the literal expression, returning { modules: [], config }.\r\n     *\r\n     * @param  {Object} options\r\n     *\r\n     * @return {Object} init config\r\n     */\n\n  }, {\n    key: \"_init\",\n    value: function _init(options) {\n      var modules = options.modules,\n          additionalModules = options.additionalModules,\n          config = _objectWithoutProperties(options, _excluded);\n\n      var baseModules = modules || this.getModules();\n      var extraModules = additionalModules || [];\n      var staticModules = [{\n        viewer: ['value', this]\n      }];\n      var allModules = [].concat(_toConsumableArray(baseModules), _toConsumableArray(extraModules), staticModules);\n      return {\n        modules: allModules,\n        config: config\n      };\n    }\n    /**\r\n     * Register an event listener\r\n     *\r\n     * Remove a previously added listener via {@link #off(event, callback)}.\r\n     *\r\n     * @param {string} event\r\n     * @param {number} [priority]\r\n     * @param {Function} callback\r\n     * @param {Object} [that]\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, priority, callback, target) {\n      return this.get('eventBus').on(event, priority, callback, target);\n    }\n    /**\r\n     * De-register an event listener\r\n     *\r\n     * @param {string} event\r\n     * @param {Function} callback\r\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      this.get('eventBus').off(event, callback);\n    }\n    /**\r\n     * Emit an event on the underlying {@link EventBus}\r\n     *\r\n     * @param  {string} type\r\n     * @param  {Object} event\r\n     *\r\n     * @return {Object} event processing result (if any)\r\n     */\n\n  }, {\n    key: \"_emit\",\n    value: function _emit(type, event) {\n      return this.get('eventBus').fire(type, event);\n    }\n    /**\r\n     * Returns the currently displayed decision.\r\n     *\r\n     * @return {ModdleElement}\r\n     */\n\n  }, {\n    key: \"getDecision\",\n    value: function getDecision() {\n      return this._decision;\n    }\n    /**\r\n     * Attach viewer to given parent node.\r\n     *\r\n     * @param  {Element} parentNode\r\n     */\n\n  }, {\n    key: \"attachTo\",\n    value: function attachTo(parentNode) {\n      if (!parentNode) {\n        throw new Error('parentNode required');\n      } // ensure we detach from the\n      // previous, old parent\n\n\n      this.detach();\n      parentNode.appendChild(this._container);\n\n      this._emit('attach', {});\n    }\n    /**\r\n     * Detach viewer from parent node, if attached.\r\n     */\n\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var container = this._container,\n          parentNode = container.parentNode;\n\n      if (!parentNode) {\n        return;\n      }\n\n      this._emit('detach', {});\n\n      domRemove(container);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Viewer.prototype), \"destroy\", this).call(this);\n\n      this.detach();\n    }\n  }, {\n    key: \"getModules\",\n    value: function getModules() {\n      return Viewer._getModules();\n    }\n  }], [{\n    key: \"_getModules\",\n    value: function _getModules() {\n      return [CoreModule, DecisionPropertiesModule, LiteralExpressionPropertiesModule, PoweredByModule, TextareaModule, ViewDrdModule];\n    }\n  }, {\n    key: \"_createContainer\",\n    value: function _createContainer() {\n      return domify('<div class=\"dmn-literal-expression-container\"></div>');\n    }\n  }]);\n\n  return Viewer;\n}(BaseViewer);\n\nexport { Viewer as default };\n//# sourceMappingURL=Viewer.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'inferno';\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\n\nvar DecisionPropertiesEditorComponent = /*#__PURE__*/function (_Component) {\n  _inherits(DecisionPropertiesEditorComponent, _Component);\n\n  var _super = _createSuper(DecisionPropertiesEditorComponent);\n\n  function DecisionPropertiesEditorComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, DecisionPropertiesEditorComponent);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"onElementsChanged\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDecisionName\", function (name) {\n      _this._modeling.editDecisionName(name);\n    });\n\n    _this._viewer = context.injector.get('viewer');\n    _this._modeling = context.injector.get('modeling');\n\n    _this.setupChangeListeners({\n      bind: _this.getDecision().id\n    });\n\n    return _this;\n  }\n\n  _createClass(DecisionPropertiesEditorComponent, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setupChangeListeners({\n        unbind: this.getDecision().id\n      });\n    }\n  }, {\n    key: \"getDecision\",\n    value: function getDecision() {\n      return this._viewer.getDecision();\n    }\n  }, {\n    key: \"setupChangeListeners\",\n    value: function setupChangeListeners(_ref) {\n      var bind = _ref.bind,\n          unbind = _ref.unbind;\n      var changeSupport = this.context.changeSupport;\n\n      if (typeof unbind === 'string') {\n        changeSupport.offElementsChanged(unbind, this.onElementsChanged);\n      }\n\n      if (typeof bind === 'string') {\n        changeSupport.onElementsChanged(bind, this.onElementsChanged);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$getDecision = this.getDecision(),\n          name = _this$getDecision.name;\n\n      return createVNode(1, \"header\", \"decision-properties\", createComponentVNode(2, DecisionName, {\n        \"className\": \"decision-name editor\",\n        \"value\": name,\n        \"onBlur\": resetScroll,\n        \"onChange\": this.setDecisionName\n      }), 2);\n    }\n  }]);\n\n  return DecisionPropertiesEditorComponent;\n}(Component);\n\nexport { DecisionPropertiesEditorComponent as default };\n\nvar DecisionName = /*#__PURE__*/function (_EditableComponent) {\n  _inherits(DecisionName, _EditableComponent);\n\n  var _super2 = _createSuper(DecisionName);\n\n  function DecisionName() {\n    _classCallCheck(this, DecisionName);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(DecisionName, [{\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"h3\", this.getClassName(), this.getEditor(), 0);\n    }\n  }]);\n\n  return DecisionName;\n}(EditableComponent);\n\nfunction resetScroll(event) {\n  event.target.scroll(0, 0);\n}\n//# sourceMappingURL=DecisionPropertiesEditorComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport DecisionPropertiesEditorComponent from './components/DecisionPropertiesEditorComponent';\nvar HIGH_PRIORITY = 1500;\n\nvar DecisionPropertiesEditor = /*#__PURE__*/_createClass(function DecisionPropertiesEditor(components) {\n  _classCallCheck(this, DecisionPropertiesEditor);\n\n  components.onGetComponent('viewer', HIGH_PRIORITY, function () {\n    return DecisionPropertiesEditorComponent;\n  });\n});\n\nexport { DecisionPropertiesEditor as default };\nDecisionPropertiesEditor.$inject = ['components'];\n//# sourceMappingURL=DecisionPropertiesEditor.js.map","import DecisionPropertiesEditor from './DecisionPropertiesEditor';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nexport default {\n  __depends__: [DebounceInput],\n  __init__: ['decisionProperties'],\n  decisionProperties: ['type', DecisionPropertiesEditor]\n};\n//# sourceMappingURL=editor.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { forEach } from 'min-dash';\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n    IS_REGISTERED_ERROR = 'is already registered';\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction and likewise\n * unregister existing ones with unregisterAction.\n *\n */\n\nvar EditorActions = /*#__PURE__*/function () {\n  function EditorActions(commandStack, eventBus) {\n    _classCallCheck(this, EditorActions);\n\n    this._actions = {\n      undo: function undo() {\n        commandStack.undo();\n      },\n      redo: function redo() {\n        commandStack.redo();\n      }\n    };\n  }\n  /**\n   * Triggers a registered action\n   *\n   * @param  {string} action\n   * @param  {Object} opts\n   *\n   * @return {Unknown} Returns what the registered listener returns\n   */\n\n\n  _createClass(EditorActions, [{\n    key: \"trigger\",\n    value: function trigger(action, opts) {\n      if (!this._actions[action]) {\n        throw error(action, NOT_REGISTERED_ERROR);\n      }\n\n      return this._actions[action](opts);\n    }\n    /**\n     * Registers a collections of actions.\n     * The key of the object will be the name of the action.\n     *\n     * @param  {Object} actions\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(actions, listener) {\n      var _this = this;\n\n      if (typeof actions === 'string') {\n        return this._registerAction(actions, listener);\n      }\n\n      forEach(actions, function (listener, action) {\n        _this._registerAction(action, listener);\n      }, this);\n    }\n    /**\n     * Registers a listener to an action key\n     *\n     * @param  {string} action\n     * @param  {Function} listener\n     */\n\n  }, {\n    key: \"_registerAction\",\n    value: function _registerAction(action, listener) {\n      if (this.isRegistered(action)) {\n        throw error(action, IS_REGISTERED_ERROR);\n      }\n\n      this._actions[action] = listener;\n    }\n    /**\n     * Unregister an existing action\n     *\n     * @param {string} action\n     */\n\n  }, {\n    key: \"unregister\",\n    value: function unregister(action) {\n      if (!this.isRegistered(action)) {\n        throw error(action, NOT_REGISTERED_ERROR);\n      }\n\n      this._actions[action] = undefined;\n    }\n    /**\n     * Checks wether the given action is registered\n     *\n     * @param {string} action\n     *\n     * @return {boolean}\n     */\n\n  }, {\n    key: \"isRegistered\",\n    value: function isRegistered(action) {\n      return !!this._actions[action];\n    }\n  }]);\n\n  return EditorActions;\n}();\n\nexport { EditorActions as default };\nEditorActions.$inject = ['commandStack', 'eventBus']; // helpers /////////////\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n//# sourceMappingURL=EditorActions.js.map","import EditorActions from './EditorActions';\nexport default {\n  __init__: ['editorActions'],\n  editorActions: ['type', EditorActions]\n};\n//# sourceMappingURL=index.js.map","export function hasModifier(modifiers) {\n  return modifiers.ctrlKey || modifiers.metaKey || modifiers.shiftKey || modifiers.altKey;\n}\nexport function isCmd(modifiers) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (modifiers.altKey) {\n    return false;\n  }\n\n  return modifiers.ctrlKey || modifiers.metaKey;\n}\nexport function isShift(modifiers) {\n  return modifiers.shiftKey;\n}\n//# sourceMappingURL=KeyboardUtil.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { event as domEvent } from 'min-dom';\nimport { isCmd, isShift } from './KeyboardUtil';\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain the fields (node, listeners).\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n * @param {EditorActions} editorActions\n */\n\nvar Keyboard = /*#__PURE__*/function () {\n  function Keyboard(config, eventBus, editorActions) {\n    var _this = this;\n\n    _classCallCheck(this, Keyboard);\n\n    _defineProperty(this, \"_init\", function () {\n      _this._registerDefaultBindings();\n\n      _this._fire('init');\n    });\n\n    _defineProperty(this, \"_destroy\", function () {\n      _this._fire('destroy');\n\n      _this.unbind();\n\n      _this._listeners = null;\n    });\n\n    _defineProperty(this, \"_keyHandler\", function (event) {\n      var i,\n          l,\n          listeners = _this._listeners,\n          code = event.keyCode || event.charCode || -1;\n\n      for (i = 0; l = listeners[i]; i++) {\n        if (l(code, event)) {\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      }\n    });\n\n    _defineProperty(this, \"unbind\", function () {\n      var node = _this._node;\n\n      if (node) {\n        _this._fire('unbind'); // unbind key events\n\n\n        domEvent.unbind(node, 'keydown', _this._keyHandler, true);\n      }\n\n      _this._node = null;\n    });\n\n    this._config = config || {};\n    this._eventBus = eventBus;\n    this._editorActions = editorActions;\n    this._listeners = [];\n    eventBus.on('viewer.destroy', this._destroy);\n    eventBus.on('viewer.init', this._init);\n    eventBus.on('attach', function () {\n      if (_this._config.bindTo) {\n        _this.bind(config.bindTo);\n      }\n    });\n    eventBus.on('detach', this.unbind);\n  }\n\n  _createClass(Keyboard, [{\n    key: \"bind\",\n    value: function bind(node) {\n      // make sure that the keyboard is only bound once to the DOM\n      this.unbind();\n      this._node = node; // bind key events\n\n      domEvent.bind(node, 'keydown', this._keyHandler, true);\n\n      this._fire('bind');\n    }\n  }, {\n    key: \"getBinding\",\n    value: function getBinding() {\n      return this._node;\n    }\n  }, {\n    key: \"_fire\",\n    value: function _fire(event) {\n      this._eventBus.fire('keyboard.' + event, {\n        node: this._node,\n        listeners: this._listeners\n      });\n    }\n  }, {\n    key: \"_registerDefaultBindings\",\n    value: function _registerDefaultBindings() {\n      var listeners = this._listeners;\n      var editorActions = this._editorActions; // init default listeners\n      // undo\n      // (CTRL|CMD) + Z\n\n      function undo(key, modifiers) {\n        if (isCmd(modifiers) && !isShift(modifiers) && key === 90) {\n          editorActions.trigger('undo');\n          return true;\n        }\n      } // redo\n      // CTRL + Y\n      // CMD + SHIFT + Z\n\n\n      function redo(key, modifiers) {\n        if (isCmd(modifiers) && (key === 89 || key === 90 && isShift(modifiers))) {\n          editorActions.trigger('redo');\n          return true;\n        }\n      }\n\n      listeners.push(undo);\n      listeners.push(redo);\n    }\n    /**\n     * Add a listener function that is notified with (key, modifiers) whenever\n     * the keyboard is bound and the user presses a key.\n     *\n     * @param {Function} listenerFn\n     */\n\n  }, {\n    key: \"addListener\",\n    value: function addListener(listenerFn) {\n      this._listeners.unshift(listenerFn);\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(listenerFn) {\n      this._listeners = this._listeners.filter(function (l) {\n        return l !== listenerFn;\n      });\n    }\n  }]);\n\n  return Keyboard;\n}();\n\nexport { Keyboard as default };\nKeyboard.$inject = ['config.keyboard', 'eventBus', 'editorActions'];\n//# sourceMappingURL=Keyboard.js.map","import EditorActions from '../editor-actions';\nimport Keyboard from './Keyboard';\nexport default {\n  __depends__: [EditorActions],\n  __init__: ['keyboard'],\n  keyboard: ['type', Keyboard]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode, createTextVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport Input from 'dmn-js-shared/lib/components/Input';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\nvar TYPE_REF_OPTIONS = [{\n  label: 'string',\n  value: 'string'\n}, {\n  label: 'boolean',\n  value: 'boolean'\n}, {\n  label: 'integer',\n  value: 'integer'\n}, {\n  label: 'long',\n  value: 'long'\n}, {\n  label: 'double',\n  value: 'double'\n}, {\n  label: 'date',\n  value: 'date'\n}];\n\nvar LiteralExpressionPropertiesComponent = /*#__PURE__*/function (_Component) {\n  _inherits(LiteralExpressionPropertiesComponent, _Component);\n\n  var _super = _createSuper(LiteralExpressionPropertiesComponent);\n\n  function LiteralExpressionPropertiesComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, LiteralExpressionPropertiesComponent);\n\n    _this = _super.call(this, props, context);\n    _this._viewer = context.injector.get('viewer');\n    _this._modeling = context.injector.get('modeling');\n    _this._expressionLanguages = context.injector.get('expressionLanguages');\n\n    var decision = _this._viewer.getDecision();\n\n    _this.state = {\n      name: decision.variable.name,\n      typeRef: decision.variable.typeRef,\n      expressionLanguage: getExpressionLanguage(decision.decisionLogic)\n    };\n    _this.setVariableName = _this.setVariableName.bind(_assertThisInitialized(_this));\n    _this.setVariableType = _this.setVariableType.bind(_assertThisInitialized(_this));\n    _this.setExpressionLanguage = _this.setExpressionLanguage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(LiteralExpressionPropertiesComponent, [{\n    key: \"setVariableName\",\n    value: function setVariableName(name) {\n      this._modeling.editVariableName(name);\n\n      this.setState({\n        name: name\n      });\n    }\n  }, {\n    key: \"setVariableType\",\n    value: function setVariableType(typeRef) {\n      if (typeRef === '') {\n        this._modeling.editVariableType(undefined);\n\n        this.setState({\n          typeRef: undefined\n        });\n      } else {\n        this._modeling.editVariableType(typeRef);\n\n        this.setState({\n          typeRef: typeRef\n        });\n      }\n    }\n  }, {\n    key: \"setExpressionLanguage\",\n    value: function setExpressionLanguage(expressionLanguage) {\n      if (expressionLanguage === '') {\n        this._modeling.editExpressionLanguage(undefined);\n\n        this.setState({\n          expressionLanguage: undefined\n        });\n      } else {\n        this._modeling.editExpressionLanguage(expressionLanguage);\n\n        this.setState({\n          expressionLanguage: expressionLanguage\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          expressionLanguage = _this$state.expressionLanguage,\n          name = _this$state.name,\n          typeRef = _this$state.typeRef;\n\n      var languageOptions = this._expressionLanguages.getAll();\n\n      return createVNode(1, \"div\", \"literal-expression-properties\", createVNode(1, \"table\", null, [createVNode(1, \"tr\", null, [createVNode(1, \"td\", null, createTextVNode(\"Variable Name:\"), 2), createVNode(1, \"td\", null, createComponentVNode(2, Input, {\n        \"className\": \"variable-name-input\",\n        \"onInput\": this.setVariableName,\n        \"placeholder\": 'name',\n        \"value\": name || ''\n      }), 2)], 4), createVNode(1, \"tr\", null, [createVNode(1, \"td\", null, createTextVNode(\"Variable Type:\"), 2), createVNode(1, \"td\", null, createVNode(1, \"div\", \"dms-fill-row\", createComponentVNode(2, InputSelect, {\n        \"onChange\": this.setVariableType,\n        \"options\": TYPE_REF_OPTIONS,\n        \"value\": typeRef,\n        \"className\": \"variable-type-select dms-block\"\n      }), 2), 2)], 4), createVNode(1, \"tr\", null, [createVNode(1, \"td\", null, createTextVNode(\"Expression Language:\"), 2), createVNode(1, \"td\", null, createVNode(1, \"div\", \"dms-fill-row\", createComponentVNode(2, InputSelect, {\n        \"onChange\": this.setExpressionLanguage,\n        \"options\": languageOptions,\n        \"value\": expressionLanguage,\n        \"className\": \"expression-language-select dms-block\"\n      }), 2), 2)], 4)], 4), 2);\n    }\n  }]);\n\n  return LiteralExpressionPropertiesComponent;\n}(Component); // helpers //////////////////////\n\n\nexport { LiteralExpressionPropertiesComponent as default };\n\nfunction getExpressionLanguage(literalExpression) {\n  return literalExpression && literalExpression.expressionLanguage ? literalExpression.expressionLanguage.toLowerCase() : undefined;\n}\n//# sourceMappingURL=LiteralExpressionPropertiesEditorComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport LiteralExpressionPropertiesEditorComponent from './components/LiteralExpressionPropertiesEditorComponent';\nvar LOW_PRIORITY = 500;\n\nvar LiteralExpressionPropertiesEditor = /*#__PURE__*/_createClass(function LiteralExpressionPropertiesEditor(components) {\n  _classCallCheck(this, LiteralExpressionPropertiesEditor);\n\n  components.onGetComponent('viewer', LOW_PRIORITY, function () {\n    return LiteralExpressionPropertiesEditorComponent;\n  });\n});\n\nexport { LiteralExpressionPropertiesEditor as default };\nLiteralExpressionPropertiesEditor.$inject = ['components'];\n//# sourceMappingURL=LiteralExpressionPropertiesEditor.js.map","import LiteralExpressionPropertiesEditor from './LiteralExpressionPropertiesEditor';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nimport Keyboard from '../keyboard';\nexport default {\n  __depends__: [DebounceInput, Keyboard],\n  __init__: ['literalExpressionProperties'],\n  literalExpressionProperties: ['type', LiteralExpressionPropertiesEditor]\n};\n//# sourceMappingURL=editor.js.map","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute` and `postExecute` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {Object}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {Array<Object>}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {Object}\n   * @property {Object[]} actions\n   * @property {Object[]} dirty\n   * @property { 'undo' | 'redo' | 'clear' | 'execute' | null } trigger the cause of the current excecution\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n\n  this._injector = injector;\n  this._eventBus = eventBus;\n\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command\n *\n * @param {string} command the command to execute\n * @param {Object} context the environment to execute the command in\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  var action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction(action);\n};\n\n\n/**\n * Ask whether a given command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param  {string} command the command to execute\n * @param  {Object} context the environment to execute the command in\n *\n * @return {boolean} true if the command can be executed\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  var action = { command: command, context: context };\n\n  var handler = this._getHandler(command);\n\n  var result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  var action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  var action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack\n *\n * @param {string} command\n * @param {CommandHandler} handler\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack\n * by instantiating it and injecting its dependencies.\n *\n * @param {string} command\n * @param {Function} a constructor for a {@link CommandHandler}\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  var handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n    self._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      self._markDirty(handler.revert(context));\n    }\n\n    self._revertedAction(action);\n\n    self._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  var names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ],\n      i, name, result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (i = 0; (name = names[i]); i++) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  var execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n\n    self._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      self._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    self._executedAction(action, redo);\n\n    self._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction(action);\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  var execution = this._currentExecution,\n      actions = execution.actions;\n\n  var baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  var execution = this._currentExecution,\n      trigger = execution.trigger,\n      actions = execution.actions,\n      dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  var execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  var stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { forEach } from 'min-dash';\nimport UpdatePropertiesHandler from 'dmn-js-shared/lib/features/modeling/cmd/UpdatePropertiesHandler';\n\nvar Modeling = /*#__PURE__*/function () {\n  function Modeling(commandStack, viewer, eventBus) {\n    var _this = this;\n\n    _classCallCheck(this, Modeling);\n\n    this._commandStack = commandStack;\n    this._viewer = viewer;\n    this._eventBus = eventBus;\n    eventBus.on('viewer.init', function () {\n      // register modeling handlers\n      registerHandlers(_this.getHandlers(), commandStack);\n    });\n  }\n\n  _createClass(Modeling, [{\n    key: \"getHandlers\",\n    value: function getHandlers() {\n      return Modeling._getHandlers();\n    }\n  }, {\n    key: \"getDecision\",\n    value: function getDecision() {\n      return this._viewer.getDecision();\n    }\n  }, {\n    key: \"editDecisionName\",\n    value: function editDecisionName(name) {\n      var decision = this.getDecision();\n      var context = {\n        element: decision,\n        properties: {\n          name: name\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editDecisionId\",\n    value: function editDecisionId(id) {\n      var decision = this.getDecision();\n      var context = {\n        element: decision,\n        properties: {\n          id: id\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editLiteralExpressionText\",\n    value: function editLiteralExpressionText(text) {\n      var decision = this.getDecision(),\n          literalExpression = decision.decisionLogic;\n      var context = {\n        element: literalExpression,\n        properties: {\n          text: text\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editExpressionLanguage\",\n    value: function editExpressionLanguage(expressionLanguage) {\n      var decision = this.getDecision(),\n          literalExpression = decision.decisionLogic;\n      var context = {\n        element: literalExpression,\n        properties: {\n          expressionLanguage: expressionLanguage\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editVariableName\",\n    value: function editVariableName(name) {\n      var decision = this.getDecision(),\n          variable = decision.variable;\n      var context = {\n        element: variable,\n        properties: {\n          name: name\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }, {\n    key: \"editVariableType\",\n    value: function editVariableType(typeRef) {\n      var decision = this.getDecision(),\n          variable = decision.variable;\n      var context = {\n        element: variable,\n        properties: {\n          typeRef: typeRef\n        }\n      };\n\n      this._commandStack.execute('element.updateProperties', context);\n    }\n  }], [{\n    key: \"_getHandlers\",\n    value: function _getHandlers() {\n      return {\n        'element.updateProperties': UpdatePropertiesHandler\n      };\n    }\n  }]);\n\n  return Modeling;\n}();\n\nexport { Modeling as default };\nModeling.$inject = ['commandStack', 'viewer', 'eventBus']; // helpers //////////////////////\n\n/**\r\n * Register handlers with the command stack\r\n *\r\n * @param {Object} handlers { id -> Handler } map\r\n * @param {CommandStack} commandStack\r\n */\n\nfunction registerHandlers(handlers, commandStack) {\n  forEach(handlers, function (handler, id) {\n    commandStack.registerHandler(id, handler);\n  });\n}\n//# sourceMappingURL=Modeling.js.map","import CommandStack from 'diagram-js/lib/command/CommandStack';\nimport IdChangeBehavior from 'dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior';\nimport Modeling from './Modeling';\nexport default {\n  __init__: ['idChangeBehavior', 'modeling'],\n  commandStack: ['type', CommandStack],\n  idChangeBehavior: ['type', IdChangeBehavior],\n  modeling: ['type', Modeling]\n};\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { createVNode, createComponentVNode } from \"inferno\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'inferno';\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\n\nvar TextareaEditorComponent = /*#__PURE__*/function (_Component) {\n  _inherits(TextareaEditorComponent, _Component);\n\n  var _super = _createSuper(TextareaEditorComponent);\n\n  function TextareaEditorComponent(props, context) {\n    var _this;\n\n    _classCallCheck(this, TextareaEditorComponent);\n\n    _this = _super.call(this, props, context);\n    _this._modeling = context.injector.get('modeling');\n    _this._viewer = context.injector.get('viewer');\n    _this.editLiteralExpressionText = _this.editLiteralExpressionText.bind(_assertThisInitialized(_this));\n    _this.onElementsChanged = _this.onElementsChanged.bind(_assertThisInitialized(_this)); // there is only one single element\n\n    var _this$getLiteralExpre = _this.getLiteralExpression(),\n        id = _this$getLiteralExpre.id;\n\n    context.changeSupport.onElementsChanged(id, _this.onElementsChanged);\n    return _this;\n  }\n\n  _createClass(TextareaEditorComponent, [{\n    key: \"getLiteralExpression\",\n    value: function getLiteralExpression() {\n      return this._viewer.getDecision().decisionLogic;\n    }\n  }, {\n    key: \"onElementsChanged\",\n    value: function onElementsChanged() {\n      this.forceUpdate();\n    }\n  }, {\n    key: \"editLiteralExpressionText\",\n    value: function editLiteralExpressionText(text) {\n      this._modeling.editLiteralExpressionText(text);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // there is only one single element\n      var _this$getLiteralExpre2 = this.getLiteralExpression(),\n          text = _this$getLiteralExpre2.text;\n\n      return createComponentVNode(2, Editor, {\n        \"className\": \"textarea editor\",\n        \"value\": text,\n        \"onChange\": this.editLiteralExpressionText\n      });\n    }\n  }]);\n\n  return TextareaEditorComponent;\n}(Component);\n\nexport { TextareaEditorComponent as default };\n\nvar Editor = /*#__PURE__*/function (_EditableComponent) {\n  _inherits(Editor, _EditableComponent);\n\n  var _super2 = _createSuper(Editor);\n\n  function Editor() {\n    _classCallCheck(this, Editor);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Editor, [{\n    key: \"render\",\n    value: function render() {\n      return createVNode(1, \"div\", this.getClassName(), this.getEditor(), 0);\n    }\n  }]);\n\n  return Editor;\n}(EditableComponent);\n//# sourceMappingURL=TextareaEditorComponent.js.map","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport TextareaEditorComponent from './components/TextareaEditorComponent';\n\nvar Textarea = /*#__PURE__*/_createClass(function Textarea(components) {\n  _classCallCheck(this, Textarea);\n\n  components.onGetComponent('viewer', function () {\n    return TextareaEditorComponent;\n  });\n});\n\nexport { Textarea as default };\nTextarea.$inject = ['components'];\n//# sourceMappingURL=TextareaEditor.js.map","import TextareaEditor from './TextareaEditor';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nexport default {\n  __depends__: [DebounceInput],\n  __init__: ['textarea'],\n  textarea: ['type', TextareaEditor]\n};\n//# sourceMappingURL=editor.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport Viewer from './Viewer';\nimport DecisionPropertiesEditorModule from './features/decision-properties/editor';\nimport KeyboardModule from './features/keyboard';\nimport LiteralExpressionPropertiesEditorModule from './features/literal-expression-properties/editor';\nimport ModelingModule from './features/modeling';\nimport TextareaEditorComponent from './features/textarea/editor';\n\nvar Editor = /*#__PURE__*/function (_Viewer) {\n  _inherits(Editor, _Viewer);\n\n  var _super = _createSuper(Editor);\n\n  function Editor() {\n    _classCallCheck(this, Editor);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Editor, [{\n    key: \"getModules\",\n    value: function getModules() {\n      return [].concat(_toConsumableArray(Viewer._getModules()), _toConsumableArray(Editor._getModules()));\n    }\n  }], [{\n    key: \"_getModules\",\n    value: function _getModules() {\n      return [DecisionPropertiesEditorModule, KeyboardModule, LiteralExpressionPropertiesEditorModule, ModelingModule, ExpressionLanguagesModule, TextareaEditorComponent];\n    }\n  }]);\n\n  return Editor;\n}(Viewer);\n\nexport { Editor as default };\n//# sourceMappingURL=Editor.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport EditingManager from 'dmn-js-shared/lib/base/EditingManager';\nimport DrdModeler from 'dmn-js-drd/lib/Modeler';\nimport DecisionTableEditor from 'dmn-js-decision-table/lib/Editor';\nimport LiteralExpressionEditor from 'dmn-js-literal-expression/lib/Editor';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { containsDi } from 'dmn-js-shared/lib/util/DiUtil';\n/**\n * The dmn editor.\n */\n\nvar Modeler = /*#__PURE__*/function (_EditingManager) {\n  _inherits(Modeler, _EditingManager);\n\n  var _super = _createSuper(Modeler);\n\n  function Modeler() {\n    _classCallCheck(this, Modeler);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Modeler, [{\n    key: \"_getViewProviders\",\n    value: function _getViewProviders() {\n      return [{\n        id: 'drd',\n        constructor: DrdModeler,\n        opens: 'dmn:Definitions'\n      }, {\n        id: 'decisionTable',\n        constructor: DecisionTableEditor,\n        opens: function opens(element) {\n          return is(element, 'dmn:Decision') && is(element.decisionLogic, 'dmn:DecisionTable');\n        }\n      }, {\n        id: 'literalExpression',\n        constructor: LiteralExpressionEditor,\n        opens: function opens(element) {\n          return is(element, 'dmn:Decision') && is(element.decisionLogic, 'dmn:LiteralExpression');\n        }\n      }];\n    }\n  }, {\n    key: \"_getInitialView\",\n    value: function _getInitialView(views) {\n      var definitionsView;\n\n      for (var i = 0; i < views.length; i++) {\n        var view = views[i];\n        var el = view.element;\n\n        if (is(el, 'dmn:Decision')) {\n          return view;\n        }\n\n        if (is(el, 'dmn:Definitions')) {\n          definitionsView = view;\n\n          if (containsDi(el)) {\n            return view;\n          }\n        }\n      }\n\n      return definitionsView || views[0];\n    }\n  }]);\n\n  return Modeler;\n}(EditingManager);\n\nexport { Modeler as default };\n//# sourceMappingURL=Modeler.js.map","'use strict';\r\n\r\nvar DEFAULT_PRIORITY = 1000;\r\n\r\n\r\n/**\r\n * A component that decides upon the visibility / editable\r\n * state of properties in the properties panel.\r\n *\r\n * Implementors must subclass this component and override\r\n * {@link PropertiesActivator#isEntryVisible} and\r\n * {@link PropertiesActivator#isPropertyEditable} to provide\r\n * custom behavior.\r\n *\r\n * @class\r\n * @constructor\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Number} [priority] at which priority to hook into the activation\r\n */\r\nfunction PropertiesActivator(eventBus, priority) {\r\n  var self = this;\r\n\r\n  priority = priority || DEFAULT_PRIORITY;\r\n\r\n  eventBus.on('propertiesPanel.isEntryVisible', priority, function(e) {\r\n    return self.isEntryVisible(e.entry, e.element);\r\n  });\r\n\r\n  eventBus.on('propertiesPanel.isPropertyEditable', priority, function(e) {\r\n    return self.isPropertyEditable(e.entry, e.propertyName, e.element);\r\n  });\r\n}\r\n\r\nPropertiesActivator.$inject = [ 'eventBus' ];\r\n\r\nexport default PropertiesActivator;\r\n\r\n\r\n/**\r\n * Should the given entry be visible for the specified element.\r\n *\r\n * @method  PropertiesActivator#isEntryVisible\r\n *\r\n * @param {EntryDescriptor} entry\r\n * @param {ModdleElement} element\r\n *\r\n * @returns {Boolean}\r\n */\r\nPropertiesActivator.prototype.isEntryVisible = function(entry, element) {\r\n  return true;\r\n};\r\n\r\n/**\r\n * Should the given property be editable for the specified element\r\n *\r\n * @method  PropertiesActivator#isPropertyEditable\r\n *\r\n * @param {EntryDescriptor} entry\r\n * @param {String} propertyName\r\n * @param {ModdleElement} element\r\n *\r\n * @returns {Boolean}\r\n */\r\nPropertiesActivator.prototype.isPropertyEditable = function(entry, propertyName, element) {\r\n  return true;\r\n};","import { escapeHTML } from '../Utils';\n\n\n/**\n * Create a linkified and HTML escaped entry field description.\n *\n * As a special feature, this description may contain both markdown\n * and plain <a href> links.\n *\n * @param {String} description\n */\nexport default function entryFieldDescription(description) {\n\n  // we tokenize the description to extract text, HTML and markdown links\n  // text and links are handled seperately\n\n  var escaped = [];\n\n  // match markdown [{TEXT}]({URL}) and HTML links <a href=\"{URL}\">{TEXT}</a>\n  var pattern = /(?:\\[([^\\]]+)\\]\\((https?:\\/\\/[^)]+)\\))|(?:<a href=\"(https?:\\/\\/[^\"]+)\">(.+?(?=<\\/))<\\/a>)/gi;\n\n  var index = 0;\n  var match;\n  var link, text;\n\n  while ((match = pattern.exec(description))) {\n\n    // escape + insert text before match\n    if (match.index > index) {\n      escaped.push(escapeText(description.substring(index, match.index)));\n    }\n\n    link = match[2] && encodeURI(match[2]) || match[3];\n    text = match[1] || match[4];\n\n    // insert safe link\n    escaped.push('<a href=\"' + link + '\" target=\"_blank\">' + escapeText(text) + '</a>');\n\n    index = match.index + match[0].length;\n  }\n\n  // escape and insert text after last match\n  if (index < description.length) {\n    escaped.push(escapeText(description.substring(index)));\n  }\n\n  return '<div class=\"dpp-field-description\">' + escaped.join('') + '</div>';\n}\n\nfunction escapeText(text) {\n  var match, index = 0, escaped = [];\n\n  // match new line <br/> <br /> <br.... /> etc.\n  var pattern = /<br\\s*\\/?>/gi;\n\n  while ((match = pattern.exec(text))) {\n\n    if (match.index > index) {\n      escaped.push(escapeHTML(text.substring(index, match.index)));\n    }\n\n    escaped.push('<br />');\n\n    index = match.index + match[0].length;\n  }\n\n  if (index < text.length) {\n    escaped.push(escapeHTML(text.substring(index)));\n  }\n\n  return escaped.join('');\n}\n","import { escapeHTML } from '../Utils';\n\nimport { query as domQuery } from 'min-dom';\n\nimport entryFieldDescription from './EntryFieldDescription';\n\n\nvar textField = function(options, defaultParameters) {\n\n  // Default action for the button next to the input-field\n  var defaultButtonAction = function(element, inputNode) {\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\n    input.value = '';\n\n    return true;\n  };\n\n  // default method to determine if the button should be visible\n  var defaultButtonShow = function(element, inputNode) {\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\n\n    return input.value !== '';\n  };\n\n\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      dataValueLabel = options.dataValueLabel,\n      buttonLabel = (options.buttonLabel || 'X'),\n      actionName = (typeof options.buttonAction != 'undefined') ? options.buttonAction.name : 'clear',\n      actionMethod = (typeof options.buttonAction != 'undefined') ? options.buttonAction.method : defaultButtonAction,\n      showName = (typeof options.buttonShow != 'undefined') ? options.buttonShow.name : 'canClear',\n      showMethod = (typeof options.buttonShow != 'undefined') ? options.buttonShow.method : defaultButtonShow,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n  resource.html =\n    '<label for=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n      (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n      (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n      (dataValueLabel ? 'data-value=\"' + escapeHTML(dataValueLabel) + '\"' : '') + '>'+ escapeHTML(label) +'</label>' +\n    '<div class=\"dpp-field-wrapper\" ' +\n      (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n      (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n      '>' +\n      '<input id=\"camunda-' + escapeHTML(resource.id) + '\" type=\"text\" name=\"' + escapeHTML(options.modelProperty) + '\" ' +\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n        (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n        ' />' +\n      '<button class=\"' + escapeHTML(actionName) + '\" data-action=\"' + escapeHTML(actionName) + '\" data-show=\"' + escapeHTML(showName) + '\" ' +\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n        (canBeHidden ? ' data-show=\"isHidden\"' : '') + '>' +\n        '<span>' + escapeHTML(buttonLabel) + '</span>' +\n      '</button>' +\n    '</div>';\n\n  // add description below text input entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  resource[actionName] = actionMethod;\n  resource[showName] = showMethod;\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['dpp-textfield'];\n\n  return resource;\n};\n\nexport default textField;\n","'use strict';\n\nvar CmdHelper = {};\nexport default CmdHelper;\n\nCmdHelper.updateProperties = function(element, properties) {\n  return {\n    cmd: 'element.updateProperties',\n    context: { element: element, properties: properties }\n  };\n};","import { escapeHTML } from '../Utils';\n\nimport { getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\nimport cmdHelper from '../helper/CmdHelper';\n\nimport entryFieldDescription from './EntryFieldDescription';\n\n\nvar checkbox = function(options, defaultParameters) {\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n  resource.html =\n    '<input id=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n         'type=\"checkbox\" ' +\n         'name=\"' + escapeHTML(options.modelProperty) + '\" ' +\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n         ' />' +\n    '<label for=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n         '>' + escapeHTML(label) + '</label>';\n\n  // add description below checkbox entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  resource.get = function(element) {\n    var bo = getBusinessObject(element),\n        res = {};\n\n    res[options.modelProperty] = bo.get(options.modelProperty);\n\n    return res;\n  };\n\n  resource.set = function(element, values) {\n    var res = {};\n\n    res[options.modelProperty] = !!values[options.modelProperty];\n\n    return cmdHelper.updateProperties(element, res);\n  };\n\n  if (typeof options.set === 'function') {\n    resource.set = options.set;\n  }\n\n  if (typeof options.get === 'function') {\n    resource.get = options.get;\n  }\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['dpp-checkbox'];\n\n  return resource;\n};\n\nexport default checkbox;\n","'use strict';\n\nimport { escapeHTML } from '../Utils';\n\nimport { domify } from 'min-dom';\n\nimport forEach from 'lodash/forEach';\n\nimport entryFieldDescription from './EntryFieldDescription';\n\n\nvar isList = function(list) {\n  return !(!list || Object.prototype.toString.call(list) !== '[object Array]');\n};\n\nvar addEmptyParameter = function(list) {\n  return list.concat([ { name: '', value: '' } ]);\n};\n\nvar createOption = function(option) {\n  return '<option value=\"' + escapeHTML(option.value) + '\">' + escapeHTML(option.name) + '</option>';\n};\n\n/**\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} [options.label]\n * @param  {Array<Object>} options.selectOptions\n * @param  {string} options.modelProperty\n * @param  {boolean} options.emptyParameter\n * @param  {function} options.disabled\n * @param  {function} options.hidden\n * @param  {Object} defaultParameters\n *\n * @return {Object}\n */\nvar selectbox = function(options, defaultParameters) {\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      selectOptions = options.selectOptions || [ { name: '', value: '' } ],\n      modelProperty = options.modelProperty,\n      emptyParameter = options.emptyParameter,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n\n  if (emptyParameter) {\n    selectOptions = addEmptyParameter(selectOptions);\n  }\n\n\n  resource.html =\n    '<label for=\"camunda-' + escapeHTML(resource.id) + '\"' +\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n    '>' + label + '</label>' +\n    '<select id=\"camunda-' + escapeHTML(resource.id) + '-select\" name=\"' + escapeHTML(modelProperty) + '\"' +\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n    ' data-value>';\n\n  if (isList(selectOptions)) {\n    forEach(selectOptions, function(option) {\n      resource.html += '<option value=\"' + escapeHTML(option.value) + '\">' + (option.name ? escapeHTML(option.name) : '') + '</option>';\n    });\n  }\n\n  resource.html += '</select>';\n\n  // add description below select box entry field\n  if (description && typeof options.showCustomInput !== 'function') {\n    resource.html += entryFieldDescription(description);\n  }\n\n  /**\n   * Fill the select box options dynamically.\n   *\n   * Calls the defined function #selectOptions in the entry to get the\n   * values for the options and set the value to the inputNode.\n   *\n   * @param {djs.model.Base} element\n   * @param {HTMLElement} entryNode\n   * @param {EntryDescriptor} inputNode\n   * @param {Object} inputName\n   * @param {Object} newValue\n   */\n  resource.setControlValue = function(element, entryNode, inputNode, inputName, newValue) {\n    if (typeof selectOptions === 'function') {\n\n      var options = selectOptions(element, inputNode);\n\n      if (options) {\n\n        // remove existing options\n        while (inputNode.firstChild) {\n          inputNode.removeChild(inputNode.firstChild);\n        }\n\n        // add options\n        forEach(options, function(option) {\n          var template = domify(createOption(option));\n\n          inputNode.appendChild(template);\n        });\n\n\n      }\n    }\n\n    // set select value\n    if (newValue !== undefined) {\n      inputNode.value = newValue;\n    }\n\n  };\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['dpp-dropdown'];\n\n  return resource;\n};\n\nexport default selectbox;\n","import { escapeHTML } from '../Utils';\n\nimport assign from 'lodash/assign';\nimport find from 'lodash/find';\n\nimport { query as domQuery } from 'min-dom';\n\nimport selectEntryFactory from './SelectEntryFactory';\nimport entryFieldDescription from './EntryFieldDescription';\n\n\n/**\n * The combo box is a special implementation of the select entry and adds the option 'custom' to the\n * select box. If 'custom' is selected, an additional text input field is shown which allows to define\n * a custom value.\n *\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} options.label\n * @param  {Array<Object>} options.selectOptions list of name/value pairs\n * @param  {string} options.modelProperty\n * @param  {function} options.get\n * @param  {function} options.set\n * @param  {string} [options.customValue] custom select option value (default: 'custom')\n * @param  {string} [options.customName] custom select option name visible in the select box (default: 'custom')\n *\n * @return {Object}\n */\nvar comboBox = function(options) {\n\n  var selectOptions = options.selectOptions,\n      modelProperty = options.modelProperty,\n      customValue = options.customValue || 'custom',\n      customName = options.customName || 'custom ' + modelProperty,\n      description = options.description;\n\n  // check if a value is not a built in value\n  var isCustomValue = function(value) {\n    if (typeof value[modelProperty] === 'undefined') {\n      return false;\n    }\n\n    var isCustom = !find(selectOptions, function(option) {\n      return value[modelProperty] === option.value;\n    });\n\n    return isCustom;\n  };\n\n  var comboOptions = assign({}, options);\n\n  // true if the selected value in the select box is customValue\n  comboOptions.showCustomInput = function(element, node) {\n    var selectBox = domQuery('[data-entry=\"'+ options.id +'\"] select', node.parentNode);\n\n    if (selectBox) {\n      return selectBox.value === customValue;\n    }\n\n    return false;\n  };\n\n  comboOptions.get = function(element, node) {\n    var value = options.get(element, node);\n\n    var modifiedValues = {};\n\n    if (!isCustomValue(value)) {\n      modifiedValues[modelProperty] = value[modelProperty] || '';\n\n      return modifiedValues;\n    }\n\n    modifiedValues[modelProperty] = customValue;\n    modifiedValues['custom-'+modelProperty] = value[modelProperty];\n\n    return modifiedValues;\n  };\n\n  comboOptions.set = function(element, values, node) {\n    var modifiedValues = {};\n\n    // if the custom select option has been selected\n    // take the value from the text input field\n    if (values[modelProperty] === customValue) {\n      modifiedValues[modelProperty] = values['custom-' + modelProperty] || '';\n    }\n    else if (options.emptyParameter && values[modelProperty] === '') {\n      modifiedValues[modelProperty] = undefined;\n    } else {\n      modifiedValues[modelProperty] = values[modelProperty];\n    }\n    return options.set(element, modifiedValues, node);\n  };\n\n  comboOptions.selectOptions.push({ name: customName, value: customValue });\n\n  var comboBoxEntry = assign({}, selectEntryFactory(comboOptions, comboOptions));\n\n  comboBoxEntry.html += '<div class=\"dpp-field-wrapper dpp-combo-input\" ' +\n    'data-show=\"showCustomInput\"' +\n    '>' +\n    '<input id=\"camunda-' + escapeHTML(options.id) + '-input\" type=\"text\" name=\"custom-' + escapeHTML(modelProperty) + '\" ' +\n      ' />' +\n  '</div>';\n\n  // add description below combo box entry field\n  if (description) {\n    comboBoxEntry.html += entryFieldDescription(description);\n  }\n\n  return comboBoxEntry;\n};\n\nexport default comboBox;\n","import { escapeHTML } from '../Utils';\n\nimport entryFieldDescription from './EntryFieldDescription';\n\n\nvar textBox = function(options, defaultParameters) {\n\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      canBeShown = !!options.show && typeof options.show === 'function',\n      description = options.description;\n\n  resource.html =\n    '<label for=\"camunda-' + resource.id + '\" ' +\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\n    '>' + escapeHTML(label) + '</label>' +\n    '<div class=\"dpp-field-wrapper\" ' +\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\n    '>' +\n      '<div contenteditable=\"true\" id=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n            'name=\"' + escapeHTML(options.modelProperty) + '\" />' +\n    '</div>';\n\n  // add description below text box entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  if (canBeShown) {\n    resource.isShown = function() {\n      return options.show.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['dpp-textbox'];\n\n  return resource;\n};\n\nexport default textBox;\n","'use strict';\n\nimport textField from './TextInputEntryFactory';\n\n/**\n * This function is a wrapper around TextInputEntryFactory.\n * It adds functionality to cache an invalid value entered in the\n * text input, instead of setting it on the business object.\n */\nvar validationAwareTextField = function(options, defaultParameters) {\n\n  var modelProperty = options.modelProperty;\n\n  defaultParameters.get = function(element, node) {\n    var value = this.__lastInvalidValue;\n\n    delete this.__lastInvalidValue;\n\n    var properties = {};\n\n    properties[modelProperty] = value !== undefined ? value : options.getProperty(element, node);\n\n    return properties;\n  };\n\n  defaultParameters.set = function(element, values, node) {\n    var validationErrors = validate.apply(this, [ element, values, node ]),\n        propertyValue = values[modelProperty];\n\n    // make sure we do not update the id\n    if (validationErrors && validationErrors[modelProperty]) {\n      this.__lastInvalidValue = propertyValue;\n\n      return options.setProperty(element, {}, node);\n    } else {\n      var properties = {};\n\n      properties[modelProperty] = propertyValue;\n\n      return options.setProperty(element, properties, node);\n    }\n  };\n\n  var validate = defaultParameters.validate = function(element, values, node) {\n    var value = values[modelProperty] || this.__lastInvalidValue;\n\n    var property = {};\n    property[modelProperty] = value;\n\n    return options.validate(element, property, node);\n  };\n\n  return textField(options, defaultParameters);\n};\n\nexport default validationAwareTextField;\n","'use strict';\n\nimport cmdHelper from '../helper/CmdHelper';\n\nimport { escapeHTML } from '../Utils';\n\nimport {\n  query as domQuery,\n  attr as domAttr,\n  closest as domClosest,\n  domify\n} from 'min-dom';\n\nimport filter from 'lodash/filter';\nimport forEach from 'lodash/forEach';\nimport keys from 'lodash/keys';\n\nimport entryFieldDescription from './EntryFieldDescription';\n\nimport updateSelection from 'selection-update';\n\nvar TABLE_ROW_DIV_SNIPPET = '<div class=\"dpp-field-wrapper dpp-table-row\">';\nvar DELETE_ROW_BUTTON_SNIPPET = '<button class=\"clear\" data-action=\"deleteElement\">' +\n                                  '<span>X</span>' +\n                                '</button>';\n\nfunction createInputRowTemplate(properties, canRemove) {\n  var template = TABLE_ROW_DIV_SNIPPET;\n  template += createInputTemplate(properties, canRemove);\n  template += canRemove ? DELETE_ROW_BUTTON_SNIPPET : '';\n  template += '</div>';\n\n  return template;\n}\n\nfunction createInputTemplate(properties, canRemove) {\n  var columns = properties.length;\n  var template = '';\n  forEach(properties, function(prop) {\n    template += '<input class=\"dpp-table-row-columns-' + columns + ' ' +\n                               (canRemove ? 'dpp-table-row-removable' : '') + '\" ' +\n                       'id=\"camunda-table-row-cell-input-value\" ' +\n                       'type=\"text\" ' +\n                       'name=\"' + escapeHTML(prop) + '\" />';\n  });\n  return template;\n}\n\nfunction createLabelRowTemplate(labels) {\n  var template = TABLE_ROW_DIV_SNIPPET;\n  template += createLabelTemplate(labels);\n  template += '</div>';\n\n  return template;\n}\n\nfunction createLabelTemplate(labels) {\n  var columns = labels.length;\n  var template = '';\n  forEach(labels, function(label) {\n    template += '<label class=\"dpp-table-row-columns-' + columns + '\">' + escapeHTML(label) + '</label>';\n  });\n  return template;\n}\n\nfunction pick(elements, properties) {\n  return (elements || []).map(function(elem) {\n    var newElement = {};\n    forEach(properties, function(prop) {\n      newElement[prop] = elem[prop] || '';\n    });\n    return newElement;\n  });\n}\n\nfunction diff(element, node, values, oldValues, editable) {\n  return filter(values, function(value, idx) {\n    return !valueEqual(element, node, value, oldValues[idx], editable, idx);\n  });\n}\n\nfunction valueEqual(element, node, value, oldValue, editable, idx) {\n  if (value && !oldValue) {\n    return false;\n  }\n  var allKeys = keys(value).concat(keys(oldValue));\n\n  return allKeys.every(function(key) {\n    var n = value[key] || undefined;\n    var o = oldValue[key] || undefined;\n    return !editable(element, node, key, idx) || n === o;\n  });\n}\n\nfunction getEntryNode(node) {\n  return domClosest(node, '[data-entry]', true);\n}\n\nfunction getContainer(node) {\n  return domQuery('div[data-list-entry-container]', node);\n}\n\nfunction getSelection(node) {\n  return {\n    start: node.selectionStart,\n    end: node.selectionEnd\n  };\n}\n\nfunction setSelection(node, selection) {\n  node.selectionStart = selection.start;\n  node.selectionEnd = selection.end;\n}\n\n/**\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} options.description\n * @param  {Array<string>} options.modelProperties\n * @param  {Array<string>} options.labels\n * @param  {Function} options.getElements - this callback function must return a list of business object items\n * @param  {Function} options.removeElement\n * @param  {Function} options.addElement\n * @param  {Function} options.updateElement\n * @param  {Function} options.editable\n * @param  {Function} options.setControlValue\n * @param  {Function} options.show\n *\n * @return {Object}\n */\nexport default function(options) {\n\n  var id = options.id,\n      modelProperties = options.modelProperties,\n      labels = options.labels,\n      description = options.description;\n\n  var labelRow = createLabelRowTemplate(labels);\n\n  var getElements = options.getElements;\n\n  var removeElement = options.removeElement,\n      canRemove = typeof removeElement === 'function';\n\n  var addElement = options.addElement,\n      canAdd = typeof addElement === 'function',\n      addLabel = options.addLabel || 'Add Value';\n\n  var updateElement = options.updateElement,\n      canUpdate = typeof updateElement === 'function';\n\n  var editable = options.editable || function() { return true; },\n      setControlValue = options.setControlValue;\n\n  var show = options.show,\n      canBeShown = typeof show === 'function';\n\n  var elements = function(element, node) {\n    return pick(getElements(element, node), modelProperties);\n  };\n\n  var factory = {\n    id: id,\n    html: (canAdd ?\n      '<div class=\"dpp-table-add-row\" ' + (canBeShown ? 'data-show=\"show\"' : '') + '>' +\n        '<label>' + escapeHTML(addLabel) + '</label>' +\n        '<button class=\"add\" data-action=\"addElement\"><span>+</span></button>' +\n      '</div>' : '') +\n      '<div class=\"dpp-table\" data-show=\"showTable\">' +\n        '<div class=\"dpp-field-wrapper dpp-table-row\">' +\n            labelRow +\n        '</div>' +\n        '<div data-list-entry-container>' +\n        '</div>' +\n      '</div>' +\n\n      // add description below table entry field\n      (description ? entryFieldDescription(description) : ''),\n\n    get: function(element, node) {\n      var boElements = elements(element, node, this.__invalidValues);\n\n      var invalidValues = this.__invalidValues;\n\n      delete this.__invalidValues;\n\n      forEach(invalidValues, function(value, idx) {\n        var element = boElements[idx];\n\n        forEach(modelProperties, function(prop) {\n          element[prop] = value[prop];\n        });\n      });\n\n      return boElements;\n    },\n\n    set: function(element, values, node) {\n      var action = this.__action || {};\n      delete this.__action;\n\n      if (action.id === 'delete-element') {\n        return removeElement(element, node, action.idx);\n      }\n      else if (action.id === 'add-element') {\n        return addElement(element, node);\n      }\n      else if (canUpdate) {\n        var commands = [],\n            valuesToValidate = values;\n\n        if (typeof options.validate !== 'function') {\n          valuesToValidate = diff(element, node, values, elements(element, node), editable);\n        }\n\n        var self = this;\n\n        forEach(valuesToValidate, function(value) {\n          var validationError,\n              idx = values.indexOf(value);\n\n          if (typeof options.validate === 'function') {\n            validationError = options.validate(element, value, node, idx);\n          }\n\n          if (!validationError) {\n            var cmd = updateElement(element, value, node, idx);\n\n            if (cmd) {\n              commands.push(cmd);\n            }\n          } else {\n\n            // cache invalid value in an object by index as key\n            self.__invalidValues = self.__invalidValues || {};\n            self.__invalidValues[idx] = value;\n\n            // execute a command, which does not do anything\n            commands.push(cmdHelper.updateProperties(element, {}));\n          }\n        });\n\n        return commands;\n      }\n    },\n    createListEntryTemplate: function(value, index, selectBox) {\n      return createInputRowTemplate(modelProperties, canRemove);\n    },\n\n    addElement: function(element, node, event, scopeNode) {\n      var template = domify(createInputRowTemplate(modelProperties, canRemove));\n\n      var container = getContainer(node);\n      container.appendChild(template);\n\n      this.__action = {\n        id: 'add-element'\n      };\n\n      return true;\n    },\n\n    deleteElement: function(element, node, event, scopeNode) {\n      var container = getContainer(node);\n      var rowToDelete = event.delegateTarget.parentNode;\n      var idx = parseInt(domAttr(rowToDelete, 'data-index'), 10);\n\n      container.removeChild(rowToDelete);\n\n      this.__action = {\n        id: 'delete-element',\n        idx: idx\n      };\n\n      return true;\n    },\n\n    editable: function(element, rowNode, input, prop, value, idx) {\n      var entryNode = domClosest(rowNode, '[data-entry]');\n      return editable(element, entryNode, prop, idx);\n    },\n\n    show: function(element, entryNode, node, scopeNode) {\n      entryNode = getEntryNode(entryNode);\n      return show(element, entryNode, node, scopeNode);\n    },\n\n    showTable: function(element, entryNode, node, scopeNode) {\n      entryNode = getEntryNode(entryNode);\n      var elems = elements(element, entryNode);\n      return elems && elems.length && (!canBeShown || show(element, entryNode, node, scopeNode));\n    },\n\n    validateListItem: function(element, value, node, idx) {\n      if (typeof options.validate === 'function') {\n        return options.validate(element, value, node, idx);\n      }\n    }\n\n  };\n\n  // Update/set the selection on the correct position.\n  // It's the same code like for an input value in the PropertiesPanel.js.\n  if (setControlValue) {\n    factory.setControlValue = function(element, rowNode, input, prop, value, idx) {\n      var entryNode = getEntryNode(rowNode);\n\n      var isReadOnly = domAttr(input, 'readonly');\n      var oldValue = input.value;\n\n      var selection;\n\n      // prevents input fields from having the value 'undefined'\n      if (value === undefined) {\n        value = '';\n      }\n\n      // when the attribute 'readonly' exists, ignore the comparison\n      // with 'oldValue' and 'value'\n      if (!!isReadOnly && oldValue === value) {\n        return;\n      }\n\n      // update selection on undo/redo\n      if (document.activeElement === input) {\n        selection = updateSelection(getSelection(input), oldValue, value);\n      }\n\n      setControlValue(element, entryNode, input, prop, value, idx);\n\n      if (selection) {\n        setSelection(input, selection);\n      }\n\n    };\n  }\n\n  return factory;\n\n}\n","'use strict';\n\n/**\n * The label factory provides a label entry. For the label text\n * it expects either a string provided by the options.labelText\n * parameter or it could be generated programmatically using a\n * function passed as the options.get parameter.\n *\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} [options.labelText]\n * @param  {Function} [options.get]\n * @param  {Function} [options.showLabel]\n * @param  {Boolean} [options.divider] adds a divider at the top of the label if true; default: false\n */\nvar label = function(options) {\n  return {\n    id: options.id,\n    html: '<label data-value=\"label\" ' +\n            'data-show=\"showLabel\" ' +\n            'class=\"entry-label' + (options.divider ? ' divider' : '') + '\">' +\n          '</label>',\n    get: function(element, node) {\n      if (typeof options.get === 'function') {\n        return options.get(element, node);\n      }\n      return { label: options.labelText };\n    },\n    showLabel: function(element, node) {\n      if (typeof options.showLabel === 'function') {\n        return options.showLabel(element, node);\n      }\n      return true;\n    }\n  };\n};\n\nexport default label;\n","'use strict';\n\nimport { escapeHTML } from '../Utils';\n\nimport entryFieldDescription from './EntryFieldDescription';\n\nimport bind from 'lodash/bind';\n\n/**\n * An entry that renders a clickable link.\n *\n * A passed {@link options#handleClick} handler is responsible\n * to process the click.\n *\n * The link may be conditionally shown or hidden. This can be\n * controlled via the {@link options.showLink}.\n *\n * @param {Object} options\n * @param {String} options.id\n * @param {String} [options.label]\n * @param {Function} options.handleClick\n * @param {Function} [options.showLink] returning false to hide link\n * @param {String} [options.description]\n *\n * @example\n *\n * var linkEntry = link({\n *   id: 'foo',\n *   description: 'Some Description',\n *   handleClick: function(element, node, event) { ... },\n *   showLink: function(element, node) { ... }\n * });\n *\n * @return {Entry} the newly created entry\n */\nfunction link(options) {\n\n  var id = options.id,\n      label = options.label || id,\n      showLink = options.showLink,\n      handleClick = options.handleClick,\n      description = options.description;\n\n  if (showLink && typeof showLink !== 'function') {\n    throw new Error('options.showLink must be a function');\n  }\n\n  if (typeof handleClick !== 'function') {\n    throw new Error('options.handleClick must be a function');\n  }\n\n  var resource = {\n    id: id\n  };\n\n  resource.html =\n    '<a data-action=\"handleClick\" ' +\n    (showLink ? 'data-show=\"showLink\" ' : '') +\n    'class=\"dpp-entry-link' + (options.cssClasses ? ' ' + escapeHTML(options.cssClasses) : '') +\n    '\">' + escapeHTML(label) + '</a>';\n\n  // add description below link entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  resource.handleClick = bind(handleClick, resource);\n\n  if (typeof showLink === 'function') {\n    resource.showLink = function() {\n      return showLink.apply(resource, arguments);\n    };\n  }\n\n  return resource;\n}\n\nexport default link;\n","'use strict';\n\nimport { getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\n\n// input entities\nimport textInputField from './TextInputEntryFactory';\nimport checkboxField from './CheckboxEntryFactory';\nimport selectBoxField from './SelectEntryFactory';\nimport comboBoxField from './ComboEntryFactory';\nimport textBoxField from './TextBoxEntryFactory';\nimport validationAwareTextInputField from './ValidationAwareTextInput';\nimport tableField from './TableEntryFactory';\nimport labelEntry from './LabelFactory';\nimport link from './LinkEntryFactory';\n\nimport cmdHelper from '../helper/CmdHelper';\n\n// helpers ////////////////////////////////////////\n\nfunction ensureNotNull(prop) {\n  if (!prop) {\n    throw new Error(prop + ' must be set.');\n  }\n\n  return prop;\n}\n\n/**\n * sets the default parameters which are needed to create an entry\n *\n * @param options\n * @returns {{id: *, description: (*|string), get: (*|Function), set: (*|Function),\n *            validate: (*|Function), html: string}}\n */\nvar setDefaultParameters = function(options) {\n\n  // default method to fetch the current value of the input field\n  var defaultGet = function(element) {\n    var bo = getBusinessObject(element),\n        res = {},\n        prop = ensureNotNull(options.modelProperty);\n    res[prop] = bo.get(prop);\n\n    return res;\n  };\n\n  // default method to set a new value to the input field\n  var defaultSet = function(element, values) {\n    var res = {},\n        prop = ensureNotNull(options.modelProperty);\n    if (values[prop] !== '') {\n      res[prop] = values[prop];\n    } else {\n      res[prop] = undefined;\n    }\n\n    return cmdHelper.updateProperties(element, res);\n  };\n\n  // default validation method\n  var defaultValidate = function() {\n    return {};\n  };\n\n  return {\n    id: options.id,\n    description: (options.description || ''),\n    get: (options.get || defaultGet),\n    set: (options.set || defaultSet),\n    validate: (options.validate || defaultValidate),\n    html: ''\n  };\n};\n\nfunction EntryFactory() {\n\n}\n\n/**\n * Generates an text input entry object for a property panel.\n * options are:\n * - id: id of the entry - String\n *\n * - description: description of the property - String\n *\n * - label: label for the input field - String\n *\n * - set: setter method - Function\n *\n * - get: getter method - Function\n *\n * - validate: validation mehtod - Function\n *\n * - modelProperty: name of the model property - String\n *\n * - buttonAction: Object which contains the following properties: - Object\n * ---- name: name of the [data-action] callback - String\n * ---- method: callback function for [data-action] - Function\n *\n * - buttonShow: Object which contains the following properties: - Object\n * ---- name: name of the [data-show] callback - String\n * ---- method: callback function for [data-show] - Function\n *\n * @param options\n * @returns the propertyPanel entry resource object\n */\nEntryFactory.textField = function(options) {\n  return textInputField(options, setDefaultParameters(options));\n};\n\nEntryFactory.validationAwareTextField = function(options) {\n  return validationAwareTextInputField(options, setDefaultParameters(options));\n};\n\n/**\n * Generates a checkbox input entry object for a property panel.\n * options are:\n * - id: id of the entry - String\n *\n * - description: description of the property - String\n *\n * - label: label for the input field - String\n *\n * - set: setter method - Function\n *\n * - get: getter method - Function\n *\n * - validate: validation mehtod - Function\n *\n * - modelProperty: name of the model property - String\n *\n * @param options\n * @returns the propertyPanel entry resource object\n */\nEntryFactory.checkbox = function(options) {\n  return checkboxField(options, setDefaultParameters(options));\n};\n\nEntryFactory.textBox = function(options) {\n  return textBoxField(options, setDefaultParameters(options));\n};\n\nEntryFactory.selectBox = function(options) {\n  return selectBoxField(options, setDefaultParameters(options));\n};\n\nEntryFactory.comboBox = function(options) {\n  return comboBoxField(options);\n};\n\nEntryFactory.table = function(options) {\n  return tableField(options);\n};\n\nEntryFactory.label = function(options) {\n  return labelEntry(options);\n};\n\nEntryFactory.link = function(options) {\n  return link(options);\n};\n\nexport default EntryFactory;\n","'use strict';\n\nimport nameEntryFactory from './implementation/Name';\n\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\n\nexport default function(group, element, translate) {\n\n  if (isAny(element, [ 'dmn:DRGElement', 'dmn:Definitions' ])) {\n    group.entries = group.entries.concat(nameEntryFactory(element, translate));\n  }\n\n}\n","'use strict';\n\nimport entryFactory from '../../../../factory/EntryFactory';\n\n/**\n * Create an entry to modify the name of an an element.\n *\n * @param  {djs.model.Base} element\n * @param  {Object} options\n * @param  {string} options.id the id of the entry\n * @param  {string} options.label the label of the entry\n *\n * @return {Array<Object>} return an array containing\n *                         the entry to modify the name\n */\nexport default function(element, translate) {\n\n  var id = 'name',\n      label = translate('Name'),\n      modelProperty = 'name';\n\n  var nameEntry = entryFactory.textBox({\n    id: id,\n    label: label,\n    modelProperty: modelProperty\n  });\n\n  return [ nameEntry ];\n\n}\n","'use strict';\n\nimport inherits from 'inherits';\n\nimport PropertiesActivator from '../../PropertiesActivator';\n\n// bpmn properties\nimport idProps from '../dmn/parts/IdProps';\nimport nameProps from '../dmn/parts/NameProps';\n\n// camunda properties\nimport versionTag from './parts/VersionTagProps';\n\n// history time to live\nimport historyTimeToLive from './parts/HistoryTimeToLiveProps';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n// helpers ////////////////////////////////////////\n\nvar DECISION_KEY_HINT = 'This maps to the decision definition key.';\n\nfunction createGeneralTabGroups(element, translate) {\n\n  // refer to target element for external labels\n  element = element.labelTarget || element;\n\n  var generalGroup = {\n    id: 'general',\n    label: translate('General'),\n    entries: []\n  };\n\n  var idOptions;\n  if (is(element, 'dmn:Decision')) {\n    idOptions = { description: DECISION_KEY_HINT };\n  }\n  idProps(generalGroup, element, translate, idOptions);\n  nameProps(generalGroup, element, translate);\n  versionTag(generalGroup, element, translate);\n\n  var historyTimeToLiveGroup = {\n    id: 'historyConfiguration',\n    label: translate('History Configuration'),\n    entries: []\n  };\n  historyTimeToLive(historyTimeToLiveGroup, element, translate);\n\n  var groups = [];\n  groups.push(generalGroup);\n  groups.push(historyTimeToLiveGroup);\n\n  return groups;\n}\n\n// Camunda Properties Provider /////////////////////////////////////\n\n\n/**\n * A properties provider for Camunda related properties.\n *\n * @param {EventBus} eventBus\n * @param {Function} translate\n */\nfunction CamundaPropertiesProvider(eventBus, translate) {\n\n  PropertiesActivator.call(this, eventBus);\n\n  this.getTabs = function(element) {\n\n    var generalTab = {\n      id: 'general',\n      label: translate('General'),\n      groups: createGeneralTabGroups(element, translate)\n    };\n\n    return [\n      generalTab\n    ];\n  };\n\n}\n\nCamundaPropertiesProvider.$inject = [\n  'eventBus',\n  'translate'\n];\n\ninherits(CamundaPropertiesProvider, PropertiesActivator);\n\nexport default CamundaPropertiesProvider;\n","'use strict';\n\nimport entryFactory from '../../../factory/EntryFactory';\nimport { getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { isIdValid } from '../../../Utils';\nimport cmdHelper from '../../../helper/CmdHelper';\n\nexport default function(group, element, translate, options) {\n\n  var description = options && options.description;\n\n  // Id\n  group.entries.push(entryFactory.validationAwareTextField({\n    id: 'id',\n    label: translate('Id'),\n    description: description && translate(description),\n    modelProperty: 'id',\n    getProperty: function(element) {\n      return getBusinessObject(element).id;\n    },\n    setProperty: function(element, properties) {\n      return cmdHelper.updateProperties(element, properties);\n    },\n    validate: function(element, values) {\n      var idValue = values.id;\n\n      var bo = getBusinessObject(element);\n\n      var idError = isIdValid(bo, idValue, translate);\n\n      return idError ? { id: idError } : {};\n    }\n  }));\n\n}\n","'use strict';\n\nimport entryFactory from '../../../factory/EntryFactory';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nexport default function(group, element, translate) {\n\n  if (is(element, 'dmn:Decision')) {\n    var versionTagEntry = entryFactory.textField({\n      id: 'versionTag',\n      label: translate('Version Tag'),\n      modelProperty: 'versionTag'\n    });\n\n    group.entries.push(versionTagEntry);\n  }\n\n}\n","'use strict';\n\nimport entryFactory from '../../../factory/EntryFactory';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nexport default function(group, element, translate) {\n\n  if (is(element, 'dmn:Decision')) {\n    var historyTimeToLiveEntry = entryFactory.textField({\n      id: 'historyTimeToLive',\n      label: translate('History Time To Live'),\n      modelProperty: 'historyTimeToLive',\n    });\n\n    group.entries.push(historyTimeToLiveEntry);\n  }\n\n}\n","import translate from 'diagram-js/lib/i18n/translate';\n\nimport CamundaPropertiesProvider from './CamundaPropertiesProvider';\n\nexport default {\n  __depends__: [\n    translate\n  ],\n  __init__: [ 'propertiesProvider' ],\n  propertiesProvider: [ 'type', CamundaPropertiesProvider ]\n};\n","import { forEach, bind, pick, assign, isString, isObject } from 'min-dash';\n\n/**\n * Moddle base element.\n */\nfunction Base() { }\n\nBase.prototype.get = function(name) {\n  return this.$model.properties.get(this, name);\n};\n\nBase.prototype.set = function(name, value) {\n  this.$model.properties.set(this, name, value);\n};\n\n/**\n * A model element factory.\n *\n * @param {Moddle} model\n * @param {Properties} properties\n */\nfunction Factory(model, properties) {\n  this.model = model;\n  this.properties = properties;\n}\n\n\nFactory.prototype.createType = function(descriptor) {\n\n  var model = this.model;\n\n  var props = this.properties,\n      prototype = Object.create(Base.prototype);\n\n  // initialize default values\n  forEach(descriptor.properties, function(p) {\n    if (!p.isMany && p.default !== undefined) {\n      prototype[p.name] = p.default;\n    }\n  });\n\n  props.defineModel(prototype, model);\n  props.defineDescriptor(prototype, descriptor);\n\n  var name = descriptor.ns.name;\n\n  /**\n   * The new type constructor\n   */\n  function ModdleElement(attrs) {\n    props.define(this, '$type', { value: name, enumerable: true });\n    props.define(this, '$attrs', { value: {} });\n    props.define(this, '$parent', { writable: true });\n\n    forEach(attrs, bind(function(val, key) {\n      this.set(key, val);\n    }, this));\n  }\n\n  ModdleElement.prototype = prototype;\n\n  ModdleElement.hasType = prototype.$instanceOf = this.model.hasType;\n\n  // static links\n  props.defineModel(ModdleElement, model);\n  props.defineDescriptor(ModdleElement, descriptor);\n\n  return ModdleElement;\n};\n\n/**\n * Built-in moddle types\n */\nvar BUILTINS = {\n  String: true,\n  Boolean: true,\n  Integer: true,\n  Real: true,\n  Element: true\n};\n\n/**\n * Converters for built in types from string representations\n */\nvar TYPE_CONVERTERS = {\n  String: function(s) { return s; },\n  Boolean: function(s) { return s === 'true'; },\n  Integer: function(s) { return parseInt(s, 10); },\n  Real: function(s) { return parseFloat(s, 10); }\n};\n\n/**\n * Convert a type to its real representation\n */\nfunction coerceType(type, value) {\n\n  var converter = TYPE_CONVERTERS[type];\n\n  if (converter) {\n    return converter(value);\n  } else {\n    return value;\n  }\n}\n\n/**\n * Return whether the given type is built-in\n */\nfunction isBuiltIn(type) {\n  return !!BUILTINS[type];\n}\n\n/**\n * Return whether the given type is simple\n */\nfunction isSimple(type) {\n  return !!TYPE_CONVERTERS[type];\n}\n\n/**\n * Parses a namespaced attribute name of the form (ns:)localName to an object,\n * given a default prefix to assume in case no explicit namespace is given.\n *\n * @param {String} name\n * @param {String} [defaultPrefix] the default prefix to take, if none is present.\n *\n * @return {Object} the parsed name\n */\nfunction parseName(name, defaultPrefix) {\n  var parts = name.split(/:/),\n      localName, prefix;\n\n  // no prefix (i.e. only local name)\n  if (parts.length === 1) {\n    localName = name;\n    prefix = defaultPrefix;\n  } else\n  // prefix + local name\n  if (parts.length === 2) {\n    localName = parts[1];\n    prefix = parts[0];\n  } else {\n    throw new Error('expected <prefix:localName> or <localName>, got ' + name);\n  }\n\n  name = (prefix ? prefix + ':' : '') + localName;\n\n  return {\n    name: name,\n    prefix: prefix,\n    localName: localName\n  };\n}\n\n/**\n * A utility to build element descriptors.\n */\nfunction DescriptorBuilder(nameNs) {\n  this.ns = nameNs;\n  this.name = nameNs.name;\n  this.allTypes = [];\n  this.allTypesByName = {};\n  this.properties = [];\n  this.propertiesByName = {};\n}\n\n\nDescriptorBuilder.prototype.build = function() {\n  return pick(this, [\n    'ns',\n    'name',\n    'allTypes',\n    'allTypesByName',\n    'properties',\n    'propertiesByName',\n    'bodyProperty',\n    'idProperty'\n  ]);\n};\n\n/**\n * Add property at given index.\n *\n * @param {Object} p\n * @param {Number} [idx]\n * @param {Boolean} [validate=true]\n */\nDescriptorBuilder.prototype.addProperty = function(p, idx, validate) {\n\n  if (typeof idx === 'boolean') {\n    validate = idx;\n    idx = undefined;\n  }\n\n  this.addNamedProperty(p, validate !== false);\n\n  var properties = this.properties;\n\n  if (idx !== undefined) {\n    properties.splice(idx, 0, p);\n  } else {\n    properties.push(p);\n  }\n};\n\n\nDescriptorBuilder.prototype.replaceProperty = function(oldProperty, newProperty, replace) {\n  var oldNameNs = oldProperty.ns;\n\n  var props = this.properties,\n      propertiesByName = this.propertiesByName,\n      rename = oldProperty.name !== newProperty.name;\n\n  if (oldProperty.isId) {\n    if (!newProperty.isId) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be id property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    this.setIdProperty(newProperty, false);\n  }\n\n  if (oldProperty.isBody) {\n\n    if (!newProperty.isBody) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be body property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    // TODO: Check compatibility\n    this.setBodyProperty(newProperty, false);\n  }\n\n  // validate existence and get location of old property\n  var idx = props.indexOf(oldProperty);\n  if (idx === -1) {\n    throw new Error('property <' + oldNameNs.name + '> not found in property list');\n  }\n\n  // remove old property\n  props.splice(idx, 1);\n\n  // replacing the named property is intentional\n  //\n  //  * validate only if this is a \"rename\" operation\n  //  * add at specific index unless we \"replace\"\n  //\n  this.addProperty(newProperty, replace ? undefined : idx, rename);\n\n  // make new property available under old name\n  propertiesByName[oldNameNs.name] = propertiesByName[oldNameNs.localName] = newProperty;\n};\n\n\nDescriptorBuilder.prototype.redefineProperty = function(p, targetPropertyName, replace) {\n\n  var nsPrefix = p.ns.prefix;\n  var parts = targetPropertyName.split('#');\n\n  var name = parseName(parts[0], nsPrefix);\n  var attrName = parseName(parts[1], name.prefix).name;\n\n  var redefinedProperty = this.propertiesByName[attrName];\n  if (!redefinedProperty) {\n    throw new Error('refined property <' + attrName + '> not found');\n  } else {\n    this.replaceProperty(redefinedProperty, p, replace);\n  }\n\n  delete p.redefines;\n};\n\nDescriptorBuilder.prototype.addNamedProperty = function(p, validate) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  if (validate) {\n    this.assertNotDefined(p, ns.name);\n    this.assertNotDefined(p, ns.localName);\n  }\n\n  propsByName[ns.name] = propsByName[ns.localName] = p;\n};\n\nDescriptorBuilder.prototype.removeNamedProperty = function(p) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  delete propsByName[ns.name];\n  delete propsByName[ns.localName];\n};\n\nDescriptorBuilder.prototype.setBodyProperty = function(p, validate) {\n\n  if (validate && this.bodyProperty) {\n    throw new Error(\n      'body property defined multiple times ' +\n      '(<' + this.bodyProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.bodyProperty = p;\n};\n\nDescriptorBuilder.prototype.setIdProperty = function(p, validate) {\n\n  if (validate && this.idProperty) {\n    throw new Error(\n      'id property defined multiple times ' +\n      '(<' + this.idProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.idProperty = p;\n};\n\nDescriptorBuilder.prototype.assertNotDefined = function(p, name) {\n  var propertyName = p.name,\n      definedProperty = this.propertiesByName[propertyName];\n\n  if (definedProperty) {\n    throw new Error(\n      'property <' + propertyName + '> already defined; ' +\n      'override of <' + definedProperty.definedBy.ns.name + '#' + definedProperty.ns.name + '> by ' +\n      '<' + p.definedBy.ns.name + '#' + p.ns.name + '> not allowed without redefines');\n  }\n};\n\nDescriptorBuilder.prototype.hasProperty = function(name) {\n  return this.propertiesByName[name];\n};\n\nDescriptorBuilder.prototype.addTrait = function(t, inherited) {\n\n  var typesByName = this.allTypesByName,\n      types = this.allTypes;\n\n  var typeName = t.name;\n\n  if (typeName in typesByName) {\n    return;\n  }\n\n  forEach(t.properties, bind(function(p) {\n\n    // clone property to allow extensions\n    p = assign({}, p, {\n      name: p.ns.localName,\n      inherited: inherited\n    });\n\n    Object.defineProperty(p, 'definedBy', {\n      value: t\n    });\n\n    var replaces = p.replaces,\n        redefines = p.redefines;\n\n    // add replace/redefine support\n    if (replaces || redefines) {\n      this.redefineProperty(p, replaces || redefines, replaces);\n    } else {\n      if (p.isBody) {\n        this.setBodyProperty(p);\n      }\n      if (p.isId) {\n        this.setIdProperty(p);\n      }\n      this.addProperty(p);\n    }\n  }, this));\n\n  types.push(t);\n  typesByName[typeName] = t;\n};\n\n/**\n * A registry of Moddle packages.\n *\n * @param {Array<Package>} packages\n * @param {Properties} properties\n */\nfunction Registry(packages, properties) {\n  this.packageMap = {};\n  this.typeMap = {};\n\n  this.packages = [];\n\n  this.properties = properties;\n\n  forEach(packages, bind(this.registerPackage, this));\n}\n\n\nRegistry.prototype.getPackage = function(uriOrPrefix) {\n  return this.packageMap[uriOrPrefix];\n};\n\nRegistry.prototype.getPackages = function() {\n  return this.packages;\n};\n\n\nRegistry.prototype.registerPackage = function(pkg) {\n\n  // copy package\n  pkg = assign({}, pkg);\n\n  var pkgMap = this.packageMap;\n\n  ensureAvailable(pkgMap, pkg, 'prefix');\n  ensureAvailable(pkgMap, pkg, 'uri');\n\n  // register types\n  forEach(pkg.types, bind(function(descriptor) {\n    this.registerType(descriptor, pkg);\n  }, this));\n\n  pkgMap[pkg.uri] = pkgMap[pkg.prefix] = pkg;\n  this.packages.push(pkg);\n};\n\n\n/**\n * Register a type from a specific package with us\n */\nRegistry.prototype.registerType = function(type, pkg) {\n\n  type = assign({}, type, {\n    superClass: (type.superClass || []).slice(),\n    extends: (type.extends || []).slice(),\n    properties: (type.properties || []).slice(),\n    meta: assign((type.meta || {}))\n  });\n\n  var ns = parseName(type.name, pkg.prefix),\n      name = ns.name,\n      propertiesByName = {};\n\n  // parse properties\n  forEach(type.properties, bind(function(p) {\n\n    // namespace property names\n    var propertyNs = parseName(p.name, ns.prefix),\n        propertyName = propertyNs.name;\n\n    // namespace property types\n    if (!isBuiltIn(p.type)) {\n      p.type = parseName(p.type, propertyNs.prefix).name;\n    }\n\n    assign(p, {\n      ns: propertyNs,\n      name: propertyName\n    });\n\n    propertiesByName[propertyName] = p;\n  }, this));\n\n  // update ns + name\n  assign(type, {\n    ns: ns,\n    name: name,\n    propertiesByName: propertiesByName\n  });\n\n  forEach(type.extends, bind(function(extendsName) {\n    var extended = this.typeMap[extendsName];\n\n    extended.traits = extended.traits || [];\n    extended.traits.push(name);\n  }, this));\n\n  // link to package\n  this.definePackage(type, pkg);\n\n  // register\n  this.typeMap[name] = type;\n};\n\n\n/**\n * Traverse the type hierarchy from bottom to top,\n * calling iterator with (type, inherited) for all elements in\n * the inheritance chain.\n *\n * @param {Object} nsName\n * @param {Function} iterator\n * @param {Boolean} [trait=false]\n */\nRegistry.prototype.mapTypes = function(nsName, iterator, trait) {\n\n  var type = isBuiltIn(nsName.name) ? { name: nsName.name } : this.typeMap[nsName.name];\n\n  var self = this;\n\n  /**\n   * Traverse the selected trait.\n   *\n   * @param {String} cls\n   */\n  function traverseTrait(cls) {\n    return traverseSuper(cls, true);\n  }\n\n  /**\n   * Traverse the selected super type or trait\n   *\n   * @param {String} cls\n   * @param {Boolean} [trait=false]\n   */\n  function traverseSuper(cls, trait) {\n    var parentNs = parseName(cls, isBuiltIn(cls) ? '' : nsName.prefix);\n    self.mapTypes(parentNs, iterator, trait);\n  }\n\n  if (!type) {\n    throw new Error('unknown type <' + nsName.name + '>');\n  }\n\n  forEach(type.superClass, trait ? traverseTrait : traverseSuper);\n\n  // call iterator with (type, inherited=!trait)\n  iterator(type, !trait);\n\n  forEach(type.traits, traverseTrait);\n};\n\n\n/**\n * Returns the effective descriptor for a type.\n *\n * @param  {String} type the namespaced name (ns:localName) of the type\n *\n * @return {Descriptor} the resulting effective descriptor\n */\nRegistry.prototype.getEffectiveDescriptor = function(name) {\n\n  var nsName = parseName(name);\n\n  var builder = new DescriptorBuilder(nsName);\n\n  this.mapTypes(nsName, function(type, inherited) {\n    builder.addTrait(type, inherited);\n  });\n\n  var descriptor = builder.build();\n\n  // define package link\n  this.definePackage(descriptor, descriptor.allTypes[descriptor.allTypes.length - 1].$pkg);\n\n  return descriptor;\n};\n\n\nRegistry.prototype.definePackage = function(target, pkg) {\n  this.properties.define(target, '$pkg', { value: pkg });\n};\n\n\n\n///////// helpers ////////////////////////////\n\nfunction ensureAvailable(packageMap, pkg, identifierKey) {\n\n  var value = pkg[identifierKey];\n\n  if (value in packageMap) {\n    throw new Error('package with ' + identifierKey + ' <' + value + '> already defined');\n  }\n}\n\n/**\n * A utility that gets and sets properties of model elements.\n *\n * @param {Model} model\n */\nfunction Properties(model) {\n  this.model = model;\n}\n\n\n/**\n * Sets a named property on the target element.\n * If the value is undefined, the property gets deleted.\n *\n * @param {Object} target\n * @param {String} name\n * @param {Object} value\n */\nProperties.prototype.set = function(target, name, value) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  var propertyName = property && property.name;\n\n  if (isUndefined(value)) {\n    // unset the property, if the specified value is undefined;\n    // delete from $attrs (for extensions) or the target itself\n    if (property) {\n      delete target[propertyName];\n    } else {\n      delete target.$attrs[name];\n    }\n  } else {\n    // set the property, defining well defined properties on the fly\n    // or simply updating them in target.$attrs (for extensions)\n    if (property) {\n      if (propertyName in target) {\n        target[propertyName] = value;\n      } else {\n        defineProperty(target, property, value);\n      }\n    } else {\n      target.$attrs[name] = value;\n    }\n  }\n};\n\n/**\n * Returns the named property of the given element\n *\n * @param  {Object} target\n * @param  {String} name\n *\n * @return {Object}\n */\nProperties.prototype.get = function(target, name) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  if (!property) {\n    return target.$attrs[name];\n  }\n\n  var propertyName = property.name;\n\n  // check if access to collection property and lazily initialize it\n  if (!target[propertyName] && property.isMany) {\n    defineProperty(target, property, []);\n  }\n\n  return target[propertyName];\n};\n\n\n/**\n * Define a property on the target element\n *\n * @param  {Object} target\n * @param  {String} name\n * @param  {Object} options\n */\nProperties.prototype.define = function(target, name, options) {\n  Object.defineProperty(target, name, options);\n};\n\n\n/**\n * Define the descriptor for an element\n */\nProperties.prototype.defineDescriptor = function(target, descriptor) {\n  this.define(target, '$descriptor', { value: descriptor });\n};\n\n/**\n * Define the model for an element\n */\nProperties.prototype.defineModel = function(target, model) {\n  this.define(target, '$model', { value: model });\n};\n\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\nfunction defineProperty(target, property, value) {\n  Object.defineProperty(target, property.name, {\n    enumerable: !property.isReference,\n    writable: true,\n    value: value,\n    configurable: true\n  });\n}\n\n//// Moddle implementation /////////////////////////////////////////////////\n\n/**\n * @class Moddle\n *\n * A model that can be used to create elements of a specific type.\n *\n * @example\n *\n * var Moddle = require('moddle');\n *\n * var pkg = {\n *   name: 'mypackage',\n *   prefix: 'my',\n *   types: [\n *     { name: 'Root' }\n *   ]\n * };\n *\n * var moddle = new Moddle([pkg]);\n *\n * @param {Array<Package>} packages the packages to contain\n */\nfunction Moddle(packages) {\n\n  this.properties = new Properties(this);\n\n  this.factory = new Factory(this, this.properties);\n  this.registry = new Registry(packages, this.properties);\n\n  this.typeCache = {};\n}\n\n\n/**\n * Create an instance of the specified type.\n *\n * @method Moddle#create\n *\n * @example\n *\n * var foo = moddle.create('my:Foo');\n * var bar = moddle.create('my:Bar', { id: 'BAR_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @param  {Object} attrs   a number of attributes to initialize the model instance with\n * @return {Object}         model instance\n */\nModdle.prototype.create = function(descriptor, attrs) {\n  var Type = this.getType(descriptor);\n\n  if (!Type) {\n    throw new Error('unknown type <' + descriptor + '>');\n  }\n\n  return new Type(attrs);\n};\n\n\n/**\n * Returns the type representing a given descriptor\n *\n * @method Moddle#getType\n *\n * @example\n *\n * var Foo = moddle.getType('my:Foo');\n * var foo = new Foo({ 'id' : 'FOO_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @return {Object}         the type representing the descriptor\n */\nModdle.prototype.getType = function(descriptor) {\n\n  var cache = this.typeCache;\n\n  var name = isString(descriptor) ? descriptor : descriptor.ns.name;\n\n  var type = cache[name];\n\n  if (!type) {\n    descriptor = this.registry.getEffectiveDescriptor(name);\n    type = cache[name] = this.factory.createType(descriptor);\n  }\n\n  return type;\n};\n\n\n/**\n * Creates an any-element type to be used within model instances.\n *\n * This can be used to create custom elements that lie outside the meta-model.\n * The created element contains all the meta-data required to serialize it\n * as part of meta-model elements.\n *\n * @method Moddle#createAny\n *\n * @example\n *\n * var foo = moddle.createAny('vendor:Foo', 'http://vendor', {\n *   value: 'bar'\n * });\n *\n * var container = moddle.create('my:Container', 'http://my', {\n *   any: [ foo ]\n * });\n *\n * // go ahead and serialize the stuff\n *\n *\n * @param  {String} name  the name of the element\n * @param  {String} nsUri the namespace uri of the element\n * @param  {Object} [properties] a map of properties to initialize the instance with\n * @return {Object} the any type instance\n */\nModdle.prototype.createAny = function(name, nsUri, properties) {\n\n  var nameNs = parseName(name);\n\n  var element = {\n    $type: name,\n    $instanceOf: function(type) {\n      return type === this.$type;\n    }\n  };\n\n  var descriptor = {\n    name: name,\n    isGeneric: true,\n    ns: {\n      prefix: nameNs.prefix,\n      localName: nameNs.localName,\n      uri: nsUri\n    }\n  };\n\n  this.properties.defineDescriptor(element, descriptor);\n  this.properties.defineModel(element, this);\n  this.properties.define(element, '$parent', { enumerable: false, writable: true });\n\n  forEach(properties, function(a, key) {\n    if (isObject(a) && a.value !== undefined) {\n      element[a.name] = a.value;\n    } else {\n      element[key] = a;\n    }\n  });\n\n  return element;\n};\n\n/**\n * Returns a registered package by uri or prefix\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackage = function(uriOrPrefix) {\n  return this.registry.getPackage(uriOrPrefix);\n};\n\n/**\n * Returns a snapshot of all known packages\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackages = function() {\n  return this.registry.getPackages();\n};\n\n/**\n * Returns the descriptor for an element\n */\nModdle.prototype.getElementDescriptor = function(element) {\n  return element.$descriptor;\n};\n\n/**\n * Returns true if the given descriptor or instance\n * represents the given type.\n *\n * May be applied to this, if element is omitted.\n */\nModdle.prototype.hasType = function(element, type) {\n  if (type === undefined) {\n    type = element;\n    element = this;\n  }\n\n  var descriptor = element.$model.getElementDescriptor(element);\n\n  return (type in descriptor.allTypesByName);\n};\n\n/**\n * Returns the descriptor of an elements named property\n */\nModdle.prototype.getPropertyDescriptor = function(element, property) {\n  return this.getElementDescriptor(element).propertiesByName[property];\n};\n\n/**\n * Returns a mapped type's descriptor\n */\nModdle.prototype.getTypeDescriptor = function(type) {\n  return this.registry.typeMap[type];\n};\n\nexport { Moddle, coerceType, isBuiltIn as isBuiltInType, isSimple as isSimpleType, parseName as parseNameNS };\n","import { forEach, assign, find, filter, isString, map } from 'min-dash';\nimport { Parser } from 'saxen';\nimport { coerceType, parseNameNS, isSimpleType, Moddle } from 'moddle';\n\nfunction hasLowerCaseAlias(pkg) {\n  return pkg.xml && pkg.xml.tagAlias === 'lowerCase';\n}\n\nvar DEFAULT_NS_MAP = {\n  'xsi': 'http://www.w3.org/2001/XMLSchema-instance'\n};\n\nvar XSI_TYPE = 'xsi:type';\n\nfunction serializeFormat(element) {\n  return element.xml && element.xml.serialize;\n}\n\nfunction serializeAsType(element) {\n  return serializeFormat(element) === XSI_TYPE;\n}\n\nfunction serializeAsProperty(element) {\n  return serializeFormat(element) === 'property';\n}\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction aliasToName(aliasNs, pkg) {\n\n  if (!hasLowerCaseAlias(pkg)) {\n    return aliasNs.name;\n  }\n\n  return aliasNs.prefix + ':' + capitalize(aliasNs.localName);\n}\n\nfunction prefixedToName(nameNs, pkg) {\n\n  var name = nameNs.name,\n      localName = nameNs.localName;\n\n  var typePrefix = pkg.xml && pkg.xml.typePrefix;\n\n  if (typePrefix && localName.indexOf(typePrefix) === 0) {\n    return nameNs.prefix + ':' + localName.slice(typePrefix.length);\n  } else {\n    return name;\n  }\n}\n\nfunction normalizeXsiTypeName(name, model) {\n\n  var nameNs = parseNameNS(name);\n  var pkg = model.getPackage(nameNs.prefix);\n\n  return prefixedToName(nameNs, pkg);\n}\n\nfunction error(message) {\n  return new Error(message);\n}\n\n/**\n * Get the moddle descriptor for a given instance or type.\n *\n * @param  {ModdleElement|Function} element\n *\n * @return {Object} the moddle descriptor\n */\nfunction getModdleDescriptor(element) {\n  return element.$descriptor;\n}\n\nfunction defer(fn) {\n  setTimeout(fn, 0);\n}\n\n/**\n * A parse context.\n *\n * @class\n *\n * @param {Object} options\n * @param {ElementHandler} options.rootHandler the root handler for parsing a document\n * @param {boolean} [options.lax=false] whether or not to ignore invalid elements\n */\nfunction Context(options) {\n\n  /**\n   * @property {ElementHandler} rootHandler\n   */\n\n  /**\n   * @property {Boolean} lax\n   */\n\n  assign(this, options);\n\n  this.elementsById = {};\n  this.references = [];\n  this.warnings = [];\n\n  /**\n   * Add an unresolved reference.\n   *\n   * @param {Object} reference\n   */\n  this.addReference = function(reference) {\n    this.references.push(reference);\n  };\n\n  /**\n   * Add a processed element.\n   *\n   * @param {ModdleElement} element\n   */\n  this.addElement = function(element) {\n\n    if (!element) {\n      throw error('expected element');\n    }\n\n    var elementsById = this.elementsById;\n\n    var descriptor = getModdleDescriptor(element);\n\n    var idProperty = descriptor.idProperty,\n        id;\n\n    if (idProperty) {\n      id = element.get(idProperty.name);\n\n      if (id) {\n        // for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\n        if (!/^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i.test(id)) {\n          throw new Error('illegal ID <' + id + '>');\n        }\n\n        if (elementsById[id]) {\n          throw error('duplicate ID <' + id + '>');\n        }\n\n        elementsById[id] = element;\n      }\n    }\n  };\n\n  /**\n   * Add an import warning.\n   *\n   * @param {Object} warning\n   * @param {String} warning.message\n   * @param {Error} [warning.error]\n   */\n  this.addWarning = function(warning) {\n    this.warnings.push(warning);\n  };\n}\n\nfunction BaseHandler() {}\n\nBaseHandler.prototype.handleEnd = function() {};\nBaseHandler.prototype.handleText = function() {};\nBaseHandler.prototype.handleNode = function() {};\n\n\n/**\n * A simple pass through handler that does nothing except for\n * ignoring all input it receives.\n *\n * This is used to ignore unknown elements and\n * attributes.\n */\nfunction NoopHandler() { }\n\nNoopHandler.prototype = Object.create(BaseHandler.prototype);\n\nNoopHandler.prototype.handleNode = function() {\n  return this;\n};\n\nfunction BodyHandler() {}\n\nBodyHandler.prototype = Object.create(BaseHandler.prototype);\n\nBodyHandler.prototype.handleText = function(text) {\n  this.body = (this.body || '') + text;\n};\n\nfunction ReferenceHandler(property, context) {\n  this.property = property;\n  this.context = context;\n}\n\nReferenceHandler.prototype = Object.create(BodyHandler.prototype);\n\nReferenceHandler.prototype.handleNode = function(node) {\n\n  if (this.element) {\n    throw error('expected no sub nodes');\n  } else {\n    this.element = this.createReference(node);\n  }\n\n  return this;\n};\n\nReferenceHandler.prototype.handleEnd = function() {\n  this.element.id = this.body;\n};\n\nReferenceHandler.prototype.createReference = function(node) {\n  return {\n    property: this.property.ns.name,\n    id: ''\n  };\n};\n\nfunction ValueHandler(propertyDesc, element) {\n  this.element = element;\n  this.propertyDesc = propertyDesc;\n}\n\nValueHandler.prototype = Object.create(BodyHandler.prototype);\n\nValueHandler.prototype.handleEnd = function() {\n\n  var value = this.body || '',\n      element = this.element,\n      propertyDesc = this.propertyDesc;\n\n  value = coerceType(propertyDesc.type, value);\n\n  if (propertyDesc.isMany) {\n    element.get(propertyDesc.name).push(value);\n  } else {\n    element.set(propertyDesc.name, value);\n  }\n};\n\n\nfunction BaseElementHandler() {}\n\nBaseElementHandler.prototype = Object.create(BodyHandler.prototype);\n\nBaseElementHandler.prototype.handleNode = function(node) {\n  var parser = this,\n      element = this.element;\n\n  if (!element) {\n    element = this.element = this.createElement(node);\n\n    this.context.addElement(element);\n  } else {\n    parser = this.handleChild(node);\n  }\n\n  return parser;\n};\n\n/**\n * @class Reader.ElementHandler\n *\n */\nfunction ElementHandler(model, typeName, context) {\n  this.model = model;\n  this.type = model.getType(typeName);\n  this.context = context;\n}\n\nElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nElementHandler.prototype.addReference = function(reference) {\n  this.context.addReference(reference);\n};\n\nElementHandler.prototype.handleText = function(text) {\n\n  var element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (!bodyProperty) {\n    throw error('unexpected body text <' + text + '>');\n  }\n\n  BodyHandler.prototype.handleText.call(this, text);\n};\n\nElementHandler.prototype.handleEnd = function() {\n\n  var value = this.body,\n      element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (bodyProperty && value !== undefined) {\n    value = coerceType(bodyProperty.type, value);\n    element.set(bodyProperty.name, value);\n  }\n};\n\n/**\n * Create an instance of the model from the given node.\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.createElement = function(node) {\n  var attributes = node.attributes,\n      Type = this.type,\n      descriptor = getModdleDescriptor(Type),\n      context = this.context,\n      instance = new Type({}),\n      model = this.model,\n      propNameNs;\n\n  forEach(attributes, function(value, name) {\n\n    var prop = descriptor.propertiesByName[name],\n        values;\n\n    if (prop && prop.isReference) {\n\n      if (!prop.isMany) {\n        context.addReference({\n          element: instance,\n          property: prop.ns.name,\n          id: value\n        });\n      } else {\n        // IDREFS: parse references as whitespace-separated list\n        values = value.split(' ');\n\n        forEach(values, function(v) {\n          context.addReference({\n            element: instance,\n            property: prop.ns.name,\n            id: v\n          });\n        });\n      }\n\n    } else {\n      if (prop) {\n        value = coerceType(prop.type, value);\n      } else\n      if (name !== 'xmlns') {\n        propNameNs = parseNameNS(name, descriptor.ns.prefix);\n\n        // check whether attribute is defined in a well-known namespace\n        // if that is the case we emit a warning to indicate potential misuse\n        if (model.getPackage(propNameNs.prefix)) {\n\n          context.addWarning({\n            message: 'unknown attribute <' + name + '>',\n            element: instance,\n            property: name,\n            value: value\n          });\n        }\n      }\n\n      instance.set(name, value);\n    }\n  });\n\n  return instance;\n};\n\nElementHandler.prototype.getPropertyForNode = function(node) {\n\n  var name = node.name;\n  var nameNs = parseNameNS(name);\n\n  var type = this.type,\n      model = this.model,\n      descriptor = getModdleDescriptor(type);\n\n  var propertyName = nameNs.name,\n      property = descriptor.propertiesByName[propertyName],\n      elementTypeName,\n      elementType;\n\n  // search for properties by name first\n\n  if (property && !property.isAttr) {\n\n    if (serializeAsType(property)) {\n      elementTypeName = node.attributes[XSI_TYPE];\n\n      // xsi type is optional, if it does not exists the\n      // default type is assumed\n      if (elementTypeName) {\n\n        // take possible type prefixes from XML\n        // into account, i.e.: xsi:type=\"t{ActualType}\"\n        elementTypeName = normalizeXsiTypeName(elementTypeName, model);\n\n        elementType = model.getType(elementTypeName);\n\n        return assign({}, property, {\n          effectiveType: getModdleDescriptor(elementType).name\n        });\n      }\n    }\n\n    // search for properties by name first\n    return property;\n  }\n\n  var pkg = model.getPackage(nameNs.prefix);\n\n  if (pkg) {\n    elementTypeName = aliasToName(nameNs, pkg);\n    elementType = model.getType(elementTypeName);\n\n    // search for collection members later\n    property = find(descriptor.properties, function(p) {\n      return !p.isVirtual && !p.isReference && !p.isAttribute && elementType.hasType(p.type);\n    });\n\n    if (property) {\n      return assign({}, property, {\n        effectiveType: getModdleDescriptor(elementType).name\n      });\n    }\n  } else {\n    // parse unknown element (maybe extension)\n    property = find(descriptor.properties, function(p) {\n      return !p.isReference && !p.isAttribute && p.type === 'Element';\n    });\n\n    if (property) {\n      return property;\n    }\n  }\n\n  throw error('unrecognized element <' + nameNs.name + '>');\n};\n\nElementHandler.prototype.toString = function() {\n  return 'ElementDescriptor[' + getModdleDescriptor(this.type).name + ']';\n};\n\nElementHandler.prototype.valueHandler = function(propertyDesc, element) {\n  return new ValueHandler(propertyDesc, element);\n};\n\nElementHandler.prototype.referenceHandler = function(propertyDesc) {\n  return new ReferenceHandler(propertyDesc, this.context);\n};\n\nElementHandler.prototype.handler = function(type) {\n  if (type === 'Element') {\n    return new GenericElementHandler(this.model, type, this.context);\n  } else {\n    return new ElementHandler(this.model, type, this.context);\n  }\n};\n\n/**\n * Handle the child element parsing\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.handleChild = function(node) {\n  var propertyDesc, type, element, childHandler;\n\n  propertyDesc = this.getPropertyForNode(node);\n  element = this.element;\n\n  type = propertyDesc.effectiveType || propertyDesc.type;\n\n  if (isSimpleType(type)) {\n    return this.valueHandler(propertyDesc, element);\n  }\n\n  if (propertyDesc.isReference) {\n    childHandler = this.referenceHandler(propertyDesc).handleNode(node);\n  } else {\n    childHandler = this.handler(type).handleNode(node);\n  }\n\n  var newElement = childHandler.element;\n\n  // child handles may decide to skip elements\n  // by not returning anything\n  if (newElement !== undefined) {\n\n    if (propertyDesc.isMany) {\n      element.get(propertyDesc.name).push(newElement);\n    } else {\n      element.set(propertyDesc.name, newElement);\n    }\n\n    if (propertyDesc.isReference) {\n      assign(newElement, {\n        element: element\n      });\n\n      this.context.addReference(newElement);\n    } else {\n      // establish child -> parent relationship\n      newElement.$parent = element;\n    }\n  }\n\n  return childHandler;\n};\n\n/**\n * An element handler that performs special validation\n * to ensure the node it gets initialized with matches\n * the handlers type (namespace wise).\n *\n * @param {Moddle} model\n * @param {String} typeName\n * @param {Context} context\n */\nfunction RootElementHandler(model, typeName, context) {\n  ElementHandler.call(this, model, typeName, context);\n}\n\nRootElementHandler.prototype = Object.create(ElementHandler.prototype);\n\nRootElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      nameNs = parseNameNS(name),\n      model = this.model,\n      type = this.type,\n      pkg = model.getPackage(nameNs.prefix),\n      typeName = pkg && aliasToName(nameNs, pkg) || name;\n\n  // verify the correct namespace if we parse\n  // the first element in the handler tree\n  //\n  // this ensures we don't mistakenly import wrong namespace elements\n  if (!type.hasType(typeName)) {\n    throw error('unexpected element <' + node.originalName + '>');\n  }\n\n  return ElementHandler.prototype.createElement.call(this, node);\n};\n\n\nfunction GenericElementHandler(model, typeName, context) {\n  this.model = model;\n  this.context = context;\n}\n\nGenericElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nGenericElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      ns = parseNameNS(name),\n      prefix = ns.prefix,\n      uri = node.ns[prefix + '$uri'],\n      attributes = node.attributes;\n\n  return this.model.createAny(name, uri, attributes);\n};\n\nGenericElementHandler.prototype.handleChild = function(node) {\n\n  var handler = new GenericElementHandler(this.model, 'Element', this.context).handleNode(node),\n      element = this.element;\n\n  var newElement = handler.element,\n      children;\n\n  if (newElement !== undefined) {\n    children = element.$children = element.$children || [];\n    children.push(newElement);\n\n    // establish child -> parent relationship\n    newElement.$parent = element;\n  }\n\n  return handler;\n};\n\nGenericElementHandler.prototype.handleEnd = function() {\n  if (this.body) {\n    this.element.$body = this.body;\n  }\n};\n\n/**\n * A reader for a meta-model\n *\n * @param {Object} options\n * @param {Model} options.model used to read xml files\n * @param {Boolean} options.lax whether to make parse errors warnings\n */\nfunction Reader(options) {\n\n  if (options instanceof Moddle) {\n    options = {\n      model: options\n    };\n  }\n\n  assign(this, { lax: false }, options);\n}\n\n\n/**\n * Parse the given XML into a moddle document tree.\n *\n * @param {String} xml\n * @param {ElementHandler|Object} options or rootHandler\n * @param  {Function} done\n */\nReader.prototype.fromXML = function(xml, options, done) {\n\n  var rootHandler = options.rootHandler;\n\n  if (options instanceof ElementHandler) {\n    // root handler passed via (xml, { rootHandler: ElementHandler }, ...)\n    rootHandler = options;\n    options = {};\n  } else {\n    if (typeof options === 'string') {\n      // rootHandler passed via (xml, 'someString', ...)\n      rootHandler = this.handler(options);\n      options = {};\n    } else if (typeof rootHandler === 'string') {\n      // rootHandler passed via (xml, { rootHandler: 'someString' }, ...)\n      rootHandler = this.handler(rootHandler);\n    }\n  }\n\n  var model = this.model,\n      lax = this.lax;\n\n  var context = new Context(assign({}, options, { rootHandler: rootHandler })),\n      parser = new Parser({ proxy: true }),\n      stack = createStack();\n\n  rootHandler.context = context;\n\n  // push root handler\n  stack.push(rootHandler);\n\n\n  /**\n   * Handle error.\n   *\n   * @param  {Error} err\n   * @param  {Function} getContext\n   * @param  {boolean} lax\n   *\n   * @return {boolean} true if handled\n   */\n  function handleError(err, getContext, lax) {\n\n    var ctx = getContext();\n\n    var line = ctx.line,\n        column = ctx.column,\n        data = ctx.data;\n\n    // we receive the full context data here,\n    // for elements trim down the information\n    // to the tag name, only\n    if (data.charAt(0) === '<' && data.indexOf(' ') !== -1) {\n      data = data.slice(0, data.indexOf(' ')) + '>';\n    }\n\n    var message =\n      'unparsable content ' + (data ? data + ' ' : '') + 'detected\\n\\t' +\n        'line: ' + line + '\\n\\t' +\n        'column: ' + column + '\\n\\t' +\n        'nested error: ' + err.message;\n\n    if (lax) {\n      context.addWarning({\n        message: message,\n        error: err\n      });\n\n      return true;\n    } else {\n      throw error(message);\n    }\n  }\n\n  function handleWarning(err, getContext) {\n    // just like handling errors in <lax=true> mode\n    return handleError(err, getContext, true);\n  }\n\n  /**\n   * Resolve collected references on parse end.\n   */\n  function resolveReferences() {\n\n    var elementsById = context.elementsById;\n    var references = context.references;\n\n    var i, r;\n\n    for (i = 0; (r = references[i]); i++) {\n      var element = r.element;\n      var reference = elementsById[r.id];\n      var property = getModdleDescriptor(element).propertiesByName[r.property];\n\n      if (!reference) {\n        context.addWarning({\n          message: 'unresolved reference <' + r.id + '>',\n          element: r.element,\n          property: r.property,\n          value: r.id\n        });\n      }\n\n      if (property.isMany) {\n        var collection = element.get(property.name),\n            idx = collection.indexOf(r);\n\n        // we replace an existing place holder (idx != -1) or\n        // append to the collection instead\n        if (idx === -1) {\n          idx = collection.length;\n        }\n\n        if (!reference) {\n          // remove unresolvable reference\n          collection.splice(idx, 1);\n        } else {\n          // add or update reference in collection\n          collection[idx] = reference;\n        }\n      } else {\n        element.set(property.name, reference);\n      }\n    }\n  }\n\n  function handleClose() {\n    stack.pop().handleEnd();\n  }\n\n  var PREAMBLE_START_PATTERN = /^<\\?xml /i;\n\n  var ENCODING_PATTERN = / encoding=\"([^\"]+)\"/i;\n\n  var UTF_8_PATTERN = /^utf-8$/i;\n\n  function handleQuestion(question) {\n\n    if (!PREAMBLE_START_PATTERN.test(question)) {\n      return;\n    }\n\n    var match = ENCODING_PATTERN.exec(question);\n    var encoding = match && match[1];\n\n    if (!encoding || UTF_8_PATTERN.test(encoding)) {\n      return;\n    }\n\n    context.addWarning({\n      message:\n        'unsupported document encoding <' + encoding + '>, ' +\n        'falling back to UTF-8'\n    });\n  }\n\n  function handleOpen(node, getContext) {\n    var handler = stack.peek();\n\n    try {\n      stack.push(handler.handleNode(node));\n    } catch (err) {\n\n      if (handleError(err, getContext, lax)) {\n        stack.push(new NoopHandler());\n      }\n    }\n  }\n\n  function handleCData(text, getContext) {\n\n    try {\n      stack.peek().handleText(text);\n    } catch (err) {\n      handleWarning(err, getContext);\n    }\n  }\n\n  function handleText(text, getContext) {\n    // strip whitespace only nodes, i.e. before\n    // <!CDATA[ ... ]> sections and in between tags\n    text = text.trim();\n\n    if (!text) {\n      return;\n    }\n\n    handleCData(text, getContext);\n  }\n\n  var uriMap = model.getPackages().reduce(function(uriMap, p) {\n    uriMap[p.uri] = p.prefix;\n\n    return uriMap;\n  }, {});\n\n  parser\n    .ns(uriMap)\n    .on('openTag', function(obj, decodeStr, selfClosing, getContext) {\n\n      // gracefully handle unparsable attributes (attrs=false)\n      var attrs = obj.attrs || {};\n\n      var decodedAttrs = Object.keys(attrs).reduce(function(d, key) {\n        var value = decodeStr(attrs[key]);\n\n        d[key] = value;\n\n        return d;\n      }, {});\n\n      var node = {\n        name: obj.name,\n        originalName: obj.originalName,\n        attributes: decodedAttrs,\n        ns: obj.ns\n      };\n\n      handleOpen(node, getContext);\n    })\n    .on('question', handleQuestion)\n    .on('closeTag', handleClose)\n    .on('cdata', handleCData)\n    .on('text', function(text, decodeEntities, getContext) {\n      handleText(decodeEntities(text), getContext);\n    })\n    .on('error', handleError)\n    .on('warn', handleWarning);\n\n  // deferred parse XML to make loading really ascnchronous\n  // this ensures the execution environment (node or browser)\n  // is kept responsive and that certain optimization strategies\n  // can kick in\n  defer(function() {\n    var err;\n\n    try {\n      parser.parse(xml);\n\n      resolveReferences();\n    } catch (e) {\n      err = e;\n    }\n\n    var element = rootHandler.element;\n\n    // handle the situation that we could not extract\n    // the desired root element from the document\n    if (!err && !element) {\n      err = error('failed to parse document as <' + rootHandler.type.$descriptor.name + '>');\n    }\n\n    done(err, err ? undefined : element, context);\n  });\n};\n\nReader.prototype.handler = function(name) {\n  return new RootElementHandler(this.model, name);\n};\n\n\n// helpers //////////////////////////\n\nfunction createStack() {\n  var stack = [];\n\n  Object.defineProperty(stack, 'peek', {\n    value: function() {\n      return this[this.length - 1];\n    }\n  });\n\n  return stack;\n}\n\nvar XML_PREAMBLE = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n\nvar ESCAPE_ATTR_CHARS = /<|>|'|\"|&|\\n\\r|\\n/g;\nvar ESCAPE_CHARS = /<|>|&/g;\n\n\nfunction Namespaces(parent) {\n\n  var prefixMap = {};\n  var uriMap = {};\n  var used = {};\n\n  var wellknown = [];\n  var custom = [];\n\n  // API\n\n  this.byUri = function(uri) {\n    return uriMap[uri] || (\n      parent && parent.byUri(uri)\n    );\n  };\n\n  this.add = function(ns, isWellknown) {\n\n    uriMap[ns.uri] = ns;\n\n    if (isWellknown) {\n      wellknown.push(ns);\n    } else {\n      custom.push(ns);\n    }\n\n    this.mapPrefix(ns.prefix, ns.uri);\n  };\n\n  this.uriByPrefix = function(prefix) {\n    return prefixMap[prefix || 'xmlns'];\n  };\n\n  this.mapPrefix = function(prefix, uri) {\n    prefixMap[prefix || 'xmlns'] = uri;\n  };\n\n  this.logUsed = function(ns) {\n    var uri = ns.uri;\n\n    used[uri] = this.byUri(uri);\n  };\n\n  this.getUsed = function(ns) {\n\n    function isUsed(ns) {\n      return used[ns.uri];\n    }\n\n    var allNs = [].concat(wellknown, custom);\n\n    return allNs.filter(isUsed);\n  };\n\n}\n\nfunction lower(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\nfunction nameToAlias(name, pkg) {\n  if (hasLowerCaseAlias(pkg)) {\n    return lower(name);\n  } else {\n    return name;\n  }\n}\n\nfunction inherits(ctor, superCtor) {\n  ctor.super_ = superCtor;\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nfunction nsName(ns) {\n  if (isString(ns)) {\n    return ns;\n  } else {\n    return (ns.prefix ? ns.prefix + ':' : '') + ns.localName;\n  }\n}\n\nfunction getNsAttrs(namespaces) {\n\n  return map(namespaces.getUsed(), function(ns) {\n    var name = 'xmlns' + (ns.prefix ? ':' + ns.prefix : '');\n    return { name: name, value: ns.uri };\n  });\n\n}\n\nfunction getElementNs(ns, descriptor) {\n  if (descriptor.isGeneric) {\n    return assign({ localName: descriptor.ns.localName }, ns);\n  } else {\n    return assign({ localName: nameToAlias(descriptor.ns.localName, descriptor.$pkg) }, ns);\n  }\n}\n\nfunction getPropertyNs(ns, descriptor) {\n  return assign({ localName: descriptor.ns.localName }, ns);\n}\n\nfunction getSerializableProperties(element) {\n  var descriptor = element.$descriptor;\n\n  return filter(descriptor.properties, function(p) {\n    var name = p.name;\n\n    if (p.isVirtual) {\n      return false;\n    }\n\n    // do not serialize defaults\n    if (!element.hasOwnProperty(name)) {\n      return false;\n    }\n\n    var value = element[name];\n\n    // do not serialize default equals\n    if (value === p.default) {\n      return false;\n    }\n\n    // do not serialize null properties\n    if (value === null) {\n      return false;\n    }\n\n    return p.isMany ? value.length : true;\n  });\n}\n\nvar ESCAPE_ATTR_MAP = {\n  '\\n': '#10',\n  '\\n\\r': '#10',\n  '\"': '#34',\n  '\\'': '#39',\n  '<': '#60',\n  '>': '#62',\n  '&': '#38'\n};\n\nvar ESCAPE_MAP = {\n  '<': 'lt',\n  '>': 'gt',\n  '&': 'amp'\n};\n\nfunction escape(str, charPattern, replaceMap) {\n\n  // ensure we are handling strings here\n  str = isString(str) ? str : '' + str;\n\n  return str.replace(charPattern, function(s) {\n    return '&' + replaceMap[s] + ';';\n  });\n}\n\n/**\n * Escape a string attribute to not contain any bad values (line breaks, '\"', ...)\n *\n * @param {String} str the string to escape\n * @return {String} the escaped string\n */\nfunction escapeAttr(str) {\n  return escape(str, ESCAPE_ATTR_CHARS, ESCAPE_ATTR_MAP);\n}\n\nfunction escapeBody(str) {\n  return escape(str, ESCAPE_CHARS, ESCAPE_MAP);\n}\n\nfunction filterAttributes(props) {\n  return filter(props, function(p) { return p.isAttr; });\n}\n\nfunction filterContained(props) {\n  return filter(props, function(p) { return !p.isAttr; });\n}\n\n\nfunction ReferenceSerializer(tagName) {\n  this.tagName = tagName;\n}\n\nReferenceSerializer.prototype.build = function(element) {\n  this.element = element;\n  return this;\n};\n\nReferenceSerializer.prototype.serializeTo = function(writer) {\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>' + this.element.id + '</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction BodySerializer() {}\n\nBodySerializer.prototype.serializeValue =\nBodySerializer.prototype.serializeTo = function(writer) {\n  writer.append(\n    this.escape\n      ? escapeBody(this.value)\n      : this.value\n  );\n};\n\nBodySerializer.prototype.build = function(prop, value) {\n  this.value = value;\n\n  if (prop.type === 'String' && value.search(ESCAPE_CHARS) !== -1) {\n    this.escape = true;\n  }\n\n  return this;\n};\n\nfunction ValueSerializer(tagName) {\n  this.tagName = tagName;\n}\n\ninherits(ValueSerializer, BodySerializer);\n\nValueSerializer.prototype.serializeTo = function(writer) {\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>');\n\n  this.serializeValue(writer);\n\n  writer\n    .append('</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction ElementSerializer(parent, propertyDescriptor) {\n  this.body = [];\n  this.attrs = [];\n\n  this.parent = parent;\n  this.propertyDescriptor = propertyDescriptor;\n}\n\nElementSerializer.prototype.build = function(element) {\n  this.element = element;\n\n  var elementDescriptor = element.$descriptor,\n      propertyDescriptor = this.propertyDescriptor;\n\n  var otherAttrs,\n      properties;\n\n  var isGeneric = elementDescriptor.isGeneric;\n\n  if (isGeneric) {\n    otherAttrs = this.parseGeneric(element);\n  } else {\n    otherAttrs = this.parseNsAttributes(element);\n  }\n\n  if (propertyDescriptor) {\n    this.ns = this.nsPropertyTagName(propertyDescriptor);\n  } else {\n    this.ns = this.nsTagName(elementDescriptor);\n  }\n\n  // compute tag name\n  this.tagName = this.addTagName(this.ns);\n\n  if (!isGeneric) {\n    properties = getSerializableProperties(element);\n\n    this.parseAttributes(filterAttributes(properties));\n    this.parseContainments(filterContained(properties));\n  }\n\n  this.parseGenericAttributes(element, otherAttrs);\n\n  return this;\n};\n\nElementSerializer.prototype.nsTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getElementNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.nsPropertyTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getPropertyNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === this.ns.uri;\n};\n\n/**\n * Get the actual ns attribute name for the given element.\n *\n * @param {Object} element\n * @param {Boolean} [element.inherited=false]\n *\n * @return {Object} nsName\n */\nElementSerializer.prototype.nsAttributeName = function(element) {\n\n  var ns;\n\n  if (isString(element)) {\n    ns = parseNameNS(element);\n  } else {\n    ns = element.ns;\n  }\n\n  // return just local name for inherited attributes\n  if (element.inherited) {\n    return { localName: ns.localName };\n  }\n\n  // parse + log effective ns\n  var effectiveNs = this.logNamespaceUsed(ns);\n\n  // LOG ACTUAL namespace use\n  this.getNamespaces().logUsed(effectiveNs);\n\n  // strip prefix if same namespace like parent\n  if (this.isLocalNs(effectiveNs)) {\n    return { localName: ns.localName };\n  } else {\n    return assign({ localName: ns.localName }, effectiveNs);\n  }\n};\n\nElementSerializer.prototype.parseGeneric = function(element) {\n\n  var self = this,\n      body = this.body;\n\n  var attributes = [];\n\n  forEach(element, function(val, key) {\n\n    var nonNsAttr;\n\n    if (key === '$body') {\n      body.push(new BodySerializer().build({ type: 'String' }, val));\n    } else\n    if (key === '$children') {\n      forEach(val, function(child) {\n        body.push(new ElementSerializer(self).build(child));\n      });\n    } else\n    if (key.indexOf('$') !== 0) {\n      nonNsAttr = self.parseNsAttribute(element, key, val);\n\n      if (nonNsAttr) {\n        attributes.push({ name: key, value: val });\n      }\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseNsAttribute = function(element, name, value) {\n  var model = element.$model;\n\n  var nameNs = parseNameNS(name);\n\n  var ns;\n\n  // parse xmlns:foo=\"http://foo.bar\"\n  if (nameNs.prefix === 'xmlns') {\n    ns = { prefix: nameNs.localName, uri: value };\n  }\n\n  // parse xmlns=\"http://foo.bar\"\n  if (!nameNs.prefix && nameNs.localName === 'xmlns') {\n    ns = { uri: value };\n  }\n\n  if (!ns) {\n    return {\n      name: name,\n      value: value\n    };\n  }\n\n  if (model && model.getPackage(value)) {\n    // register well known namespace\n    this.logNamespace(ns, true, true);\n  } else {\n    // log custom namespace directly as used\n    var actualNs = this.logNamespaceUsed(ns, true);\n\n    this.getNamespaces().logUsed(actualNs);\n  }\n};\n\n\n/**\n * Parse namespaces and return a list of left over generic attributes\n *\n * @param  {Object} element\n * @return {Array<Object>}\n */\nElementSerializer.prototype.parseNsAttributes = function(element, attrs) {\n  var self = this;\n\n  var genericAttrs = element.$attrs;\n\n  var attributes = [];\n\n  // parse namespace attributes first\n  // and log them. push non namespace attributes to a list\n  // and process them later\n  forEach(genericAttrs, function(value, name) {\n\n    var nonNsAttr = self.parseNsAttribute(element, name, value);\n\n    if (nonNsAttr) {\n      attributes.push(nonNsAttr);\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseGenericAttributes = function(element, attributes) {\n\n  var self = this;\n\n  forEach(attributes, function(attr) {\n\n    // do not serialize xsi:type attribute\n    // it is set manually based on the actual implementation type\n    if (attr.name === XSI_TYPE) {\n      return;\n    }\n\n    try {\n      self.addAttribute(self.nsAttributeName(attr.name), attr.value);\n    } catch (e) {\n      console.warn(\n        'missing namespace information for ',\n        attr.name, '=', attr.value, 'on', element,\n        e);\n    }\n  });\n};\n\nElementSerializer.prototype.parseContainments = function(properties) {\n\n  var self = this,\n      body = this.body,\n      element = this.element;\n\n  forEach(properties, function(p) {\n    var value = element.get(p.name),\n        isReference = p.isReference,\n        isMany = p.isMany;\n\n    if (!isMany) {\n      value = [ value ];\n    }\n\n    if (p.isBody) {\n      body.push(new BodySerializer().build(p, value[0]));\n    } else\n    if (isSimpleType(p.type)) {\n      forEach(value, function(v) {\n        body.push(new ValueSerializer(self.addTagName(self.nsPropertyTagName(p))).build(p, v));\n      });\n    } else\n    if (isReference) {\n      forEach(value, function(v) {\n        body.push(new ReferenceSerializer(self.addTagName(self.nsPropertyTagName(p))).build(v));\n      });\n    } else {\n      // allow serialization via type\n      // rather than element name\n      var asType = serializeAsType(p),\n          asProperty = serializeAsProperty(p);\n\n      forEach(value, function(v) {\n        var serializer;\n\n        if (asType) {\n          serializer = new TypeSerializer(self, p);\n        } else\n        if (asProperty) {\n          serializer = new ElementSerializer(self, p);\n        } else {\n          serializer = new ElementSerializer(self);\n        }\n\n        body.push(serializer.build(v));\n      });\n    }\n  });\n};\n\nElementSerializer.prototype.getNamespaces = function(local) {\n\n  var namespaces = this.namespaces,\n      parent = this.parent,\n      parentNamespaces;\n\n  if (!namespaces) {\n    parentNamespaces = parent && parent.getNamespaces();\n\n    if (local || !parentNamespaces) {\n      this.namespaces = namespaces = new Namespaces(parentNamespaces);\n    } else {\n      namespaces = parentNamespaces;\n    }\n  }\n\n  return namespaces;\n};\n\nElementSerializer.prototype.logNamespace = function(ns, wellknown, local) {\n  var namespaces = this.getNamespaces(local);\n\n  var nsUri = ns.uri,\n      nsPrefix = ns.prefix;\n\n  var existing = namespaces.byUri(nsUri);\n\n  if (!existing) {\n    namespaces.add(ns, wellknown);\n  }\n\n  namespaces.mapPrefix(nsPrefix, nsUri);\n\n  return ns;\n};\n\nElementSerializer.prototype.logNamespaceUsed = function(ns, local) {\n  var element = this.element,\n      model = element.$model,\n      namespaces = this.getNamespaces(local);\n\n  // ns may be\n  //\n  //   * prefix only\n  //   * prefix:uri\n  //   * localName only\n\n  var prefix = ns.prefix,\n      uri = ns.uri,\n      newPrefix, idx,\n      wellknownUri;\n\n  // handle anonymous namespaces (elementForm=unqualified), cf. #23\n  if (!prefix && !uri) {\n    return { localName: ns.localName };\n  }\n\n  wellknownUri = DEFAULT_NS_MAP[prefix] || model && (model.getPackage(prefix) || {}).uri;\n\n  uri = uri || wellknownUri || namespaces.uriByPrefix(prefix);\n\n  if (!uri) {\n    throw new Error('no namespace uri given for prefix <' + prefix + '>');\n  }\n\n  ns = namespaces.byUri(uri);\n\n  if (!ns) {\n    newPrefix = prefix;\n    idx = 1;\n\n    // find a prefix that is not mapped yet\n    while (namespaces.uriByPrefix(newPrefix)) {\n      newPrefix = prefix + '_' + idx++;\n    }\n\n    ns = this.logNamespace({ prefix: newPrefix, uri: uri }, wellknownUri === uri);\n  }\n\n  if (prefix) {\n    namespaces.mapPrefix(prefix, uri);\n  }\n\n  return ns;\n};\n\nElementSerializer.prototype.parseAttributes = function(properties) {\n  var self = this,\n      element = this.element;\n\n  forEach(properties, function(p) {\n\n    var value = element.get(p.name);\n\n    if (p.isReference) {\n\n      if (!p.isMany) {\n        value = value.id;\n      }\n      else {\n        var values = [];\n        forEach(value, function(v) {\n          values.push(v.id);\n        });\n        // IDREFS is a whitespace-separated list of references.\n        value = values.join(' ');\n      }\n\n    }\n\n    self.addAttribute(self.nsAttributeName(p), value);\n  });\n};\n\nElementSerializer.prototype.addTagName = function(nsTagName) {\n  var actualNs = this.logNamespaceUsed(nsTagName);\n\n  this.getNamespaces().logUsed(actualNs);\n\n  return nsName(nsTagName);\n};\n\nElementSerializer.prototype.addAttribute = function(name, value) {\n  var attrs = this.attrs;\n\n  if (isString(value)) {\n    value = escapeAttr(value);\n  }\n\n  attrs.push({ name: name, value: value });\n};\n\nElementSerializer.prototype.serializeAttributes = function(writer) {\n  var attrs = this.attrs,\n      namespaces = this.namespaces;\n\n  if (namespaces) {\n    attrs = getNsAttrs(namespaces).concat(attrs);\n  }\n\n  forEach(attrs, function(a) {\n    writer\n      .append(' ')\n      .append(nsName(a.name)).append('=\"').append(a.value).append('\"');\n  });\n};\n\nElementSerializer.prototype.serializeTo = function(writer) {\n  var firstBody = this.body[0],\n      indent = firstBody && firstBody.constructor !== BodySerializer;\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName);\n\n  this.serializeAttributes(writer);\n\n  writer.append(firstBody ? '>' : ' />');\n\n  if (firstBody) {\n\n    if (indent) {\n      writer\n        .appendNewLine()\n        .indent();\n    }\n\n    forEach(this.body, function(b) {\n      b.serializeTo(writer);\n    });\n\n    if (indent) {\n      writer\n        .unindent()\n        .appendIndent();\n    }\n\n    writer.append('</' + this.tagName + '>');\n  }\n\n  writer.appendNewLine();\n};\n\n/**\n * A serializer for types that handles serialization of data types\n */\nfunction TypeSerializer(parent, propertyDescriptor) {\n  ElementSerializer.call(this, parent, propertyDescriptor);\n}\n\ninherits(TypeSerializer, ElementSerializer);\n\nTypeSerializer.prototype.parseNsAttributes = function(element) {\n\n  // extracted attributes\n  var attributes = ElementSerializer.prototype.parseNsAttributes.call(this, element);\n\n  var descriptor = element.$descriptor;\n\n  // only serialize xsi:type if necessary\n  if (descriptor.name === this.propertyDescriptor.type) {\n    return attributes;\n  }\n\n  var typeNs = this.typeNs = this.nsTagName(descriptor);\n  this.getNamespaces().logUsed(this.typeNs);\n\n  // add xsi:type attribute to represent the elements\n  // actual type\n\n  var pkg = element.$model.getPackage(typeNs.uri),\n      typePrefix = (pkg.xml && pkg.xml.typePrefix) || '';\n\n  this.addAttribute(\n    this.nsAttributeName(XSI_TYPE),\n    (typeNs.prefix ? typeNs.prefix + ':' : '') + typePrefix + descriptor.ns.localName\n  );\n\n  return attributes;\n};\n\nTypeSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === (this.typeNs || this.ns).uri;\n};\n\nfunction SavingWriter() {\n  this.value = '';\n\n  this.write = function(str) {\n    this.value += str;\n  };\n}\n\nfunction FormatingWriter(out, format) {\n\n  var indent = [''];\n\n  this.append = function(str) {\n    out.write(str);\n\n    return this;\n  };\n\n  this.appendNewLine = function() {\n    if (format) {\n      out.write('\\n');\n    }\n\n    return this;\n  };\n\n  this.appendIndent = function() {\n    if (format) {\n      out.write(indent.join('  '));\n    }\n\n    return this;\n  };\n\n  this.indent = function() {\n    indent.push('');\n    return this;\n  };\n\n  this.unindent = function() {\n    indent.pop();\n    return this;\n  };\n}\n\n/**\n * A writer for meta-model backed document trees\n *\n * @param {Object} options output options to pass into the writer\n */\nfunction Writer(options) {\n\n  options = assign({ format: false, preamble: true }, options || {});\n\n  function toXML(tree, writer) {\n    var internalWriter = writer || new SavingWriter();\n    var formatingWriter = new FormatingWriter(internalWriter, options.format);\n\n    if (options.preamble) {\n      formatingWriter.append(XML_PREAMBLE);\n    }\n\n    new ElementSerializer().build(tree).serializeTo(formatingWriter);\n\n    if (!writer) {\n      return internalWriter.value;\n    }\n  }\n\n  return {\n    toXML: toXML\n  };\n}\n\nexport { Reader, Writer };\n","import { isString, isFunction, assign } from 'min-dash';\nimport { Moddle } from 'moddle';\nimport { Reader, Writer } from 'moddle-xml';\n\n/**\n * A sub class of {@link Moddle} with support for import and export of DMN xml files.\n *\n * @class DmnModdle\n * @extends Moddle\n *\n * @param {Object|Array} packages to use for instantiating the model\n * @param {Object} [options] additional options to pass over\n */\nfunction DmnModdle(packages, options) {\n  Moddle.call(this, packages, options);\n}\n\nDmnModdle.prototype = Object.create(Moddle.prototype);\n\n\n/**\n * Instantiates a DMN model tree from a given xml string.\n *\n * @param {String}   xmlStr\n * @param {String}   [typeName='dmn:Definitions'] name of the root element\n * @param {Object}   [options]  options to pass to the underlying reader\n * @param {Function} done       callback that is invoked with (err, result, parseContext)\n *                              once the import completes\n */\nDmnModdle.prototype.fromXML = function(xmlStr, typeName, options, done) {\n\n  if (!isString(typeName)) {\n    done = options;\n    options = typeName;\n    typeName = 'dmn:Definitions';\n  }\n\n  if (isFunction(options)) {\n    done = options;\n    options = {};\n  }\n\n  var reader = new Reader(assign({ model: this, lax: true }, options));\n  var rootHandler = reader.handler(typeName);\n\n  reader.fromXML(xmlStr, rootHandler, done);\n};\n\n\n/**\n * Serializes a DMN object tree to XML.\n *\n * @param {String}   element    the root element, typically an instance of `Definitions`\n * @param {Object}   [options]  to pass to the underlying writer\n * @param {Function} done       callback invoked with (err, xmlStr) once the import completes\n */\nDmnModdle.prototype.toXML = function(element, options, done) {\n\n  if (isFunction(options)) {\n    done = options;\n    options = {};\n  }\n\n  var writer = new Writer(options);\n\n  var result;\n  var err;\n\n  try {\n    result = writer.toXML(element);\n  } catch (e) {\n    err = e;\n  }\n\n  return done(err, result);\n};\n\nvar name = \"DC\";\nvar prefix = \"dc\";\nvar uri = \"http://www.omg.org/spec/DMN/20180521/DC/\";\nvar types = [\n\t{\n\t\tname: \"Dimension\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Bounds\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Point\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Color\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"red\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"green\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"blue\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations = [\n];\nvar enumerations = [\n\t{\n\t\tname: \"AlignmentKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"center\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"end\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar DcPackage = {\n\tname: name,\n\tprefix: prefix,\n\turi: uri,\n\ttypes: types,\n\tassociations: associations,\n\tenumerations: enumerations\n};\n\nvar name$1 = \"DI\";\nvar prefix$1 = \"di\";\nvar uri$1 = \"http://www.omg.org/spec/DMN/20180521/DI/\";\nvar types$1 = [\n\t{\n\t\tname: \"DiagramElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"style\",\n\t\t\t\tisReference: true,\n\t\t\t\ttype: \"Style\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\tisReference: true,\n\t\t\t\tisVirtual: true,\n\t\t\t\ttype: \"Style\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Diagram\",\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"documentation\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"resolution\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Shape\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"bounds\",\n\t\t\t\ttype: \"dc:Bounds\"\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Edge\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"waypoint\",\n\t\t\t\ttype: \"dc:Point\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Style\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$1 = [\n];\nvar enumerations$1 = [\n];\nvar xml = {\n\ttagAlias: \"lowerCase\"\n};\nvar DiPackage = {\n\tname: name$1,\n\tprefix: prefix$1,\n\turi: uri$1,\n\ttypes: types$1,\n\tassociations: associations$1,\n\tenumerations: enumerations$1,\n\txml: xml\n};\n\nvar name$2 = \"DMN\";\nvar prefix$2 = \"dmn\";\nvar uri$2 = \"https://www.omg.org/spec/DMN/20191111/MODEL/\";\nvar types$2 = [\n\t{\n\t\tname: \"AuthorityRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredAuthority\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bkm\",\n\t\t\t\ttype: \"BusinessKnowledgeModel\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decision\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeSource\",\n\t\t\t\ttype: \"KnowledgeSource\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ItemDefinition\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"definitions\",\n\t\t\t\ttype: \"Definitions\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemComponent\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"containingDefinition\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollection\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Definitions\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"import\",\n\t\t\t\ttype: \"Import\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemDefinition\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DRGElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"artifact\",\n\t\t\t\ttype: \"Artifact\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elementCollection\",\n\t\t\t\ttype: \"ElementCollection\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"businessContextElement\",\n\t\t\t\ttype: \"BusinessContextElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"performanceIndicator\",\n\t\t\t\ttype: \"PerformanceIndicator\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"organizationUnit\",\n\t\t\t\ttype: \"OrganizationUnit\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporter\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporterVersion\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"dmnDI\",\n\t\t\t\ttype: \"dmndi:DMNDI\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeSource\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"type\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"owner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionRule\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputEntry\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotationEntry\",\n\t\t\t\ttype: \"RuleAnnotation\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Expression\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"binding\",\n\t\t\t\ttype: \"Binding\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decision\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"contextEntry\",\n\t\t\t\ttype: \"ContextEntry\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"caller\",\n\t\t\t\ttype: \"Invocation\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"type\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationItem\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"decisionOutput\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"binding\",\n\t\t\t\ttype: \"Binding\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bkm\",\n\t\t\t\ttype: \"BusinessKnowledgeModel\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"contextEntry\",\n\t\t\t\ttype: \"ContextEntry\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"relation\",\n\t\t\t\ttype: \"Relation\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputData\",\n\t\t\t\ttype: \"InputData\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"valueExpression\",\n\t\t\t\ttype: \"Expression\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"type\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"literalExpression\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"invocation\",\n\t\t\t\ttype: \"Invocation\",\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\",\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"context\",\n\t\t\t\ttype: \"Context\",\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\",\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Decision\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"question\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedAnswers\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"informationRequirement\",\n\t\t\t\ttype: \"InformationRequirement\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"supportedObjective\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"impactedPerformanceIndicator\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionMaker\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingProcess\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingTask\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"literalExpression\",\n\t\t\t\ttype: \"LiteralExpression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"invocation\",\n\t\t\t\ttype: \"Invocation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"context\",\n\t\t\t\ttype: \"Context\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"relation\",\n\t\t\t\ttype: \"Relation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionLogic\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiresInformation\",\n\t\t\t\ttype: \"InformationRequirement\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"literalExpression\",\n\t\t\t\ttype: \"LiteralExpression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"invocation\",\n\t\t\t\ttype: \"Invocation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"context\",\n\t\t\t\ttype: \"Context\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"relation\",\n\t\t\t\ttype: \"Relation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"binding\",\n\t\t\t\ttype: \"Binding\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"calledFunction\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OrganisationalUnit\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"decisionMade\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwned\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Import\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importType\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"definitions\",\n\t\t\t\ttype: \"Definitions\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decision\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ElementCollection\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"definitions\",\n\t\t\t\ttype: \"Definitions\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DRGElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"definitions\",\n\t\t\t\ttype: \"Definitions\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputData\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiresInformation\",\n\t\t\t\ttype: \"InformationRequirement\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"description\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionElements\",\n\t\t\t\ttype: \"ExtensionElements\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputExpression\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTable\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"input\",\n\t\t\t\ttype: \"InputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"output\",\n\t\t\t\ttype: \"OutputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotation\",\n\t\t\t\ttype: \"RuleAnnotationClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"rule\",\n\t\t\t\ttype: \"DecisionRule\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"hitPolicy\",\n\t\t\t\ttype: \"HitPolicy\",\n\t\t\t\tisAttr: true,\n\t\t\t\t\"default\": \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"aggregation\",\n\t\t\t\ttype: \"BuiltinAggregator\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"preferredOrientation\",\n\t\t\t\ttype: \"DecisionTableOrientation\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputLabel\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"LiteralExpression\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"ruleOutput\",\n\t\t\t\ttype: \"DecisionRule\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"output\",\n\t\t\t\ttype: \"OutputClause\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionInput\",\n\t\t\t\ttype: \"InputClause\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"importedValues\",\n\t\t\t\ttype: \"ImportedValues\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Binding\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"parameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"invocation\",\n\t\t\t\ttype: \"Invocation\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"literalExpression\",\n\t\t\t\ttype: \"LiteralExpression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"context\",\n\t\t\t\ttype: \"Context\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"relation\",\n\t\t\t\ttype: \"Relation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bindingFormula\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredKnowledge\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bkm\",\n\t\t\t\ttype: \"BusinessKnowledgeModel\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decision\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessKnowledgeModel\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"encapsulatedLogic\",\n\t\t\t\ttype: \"FunctionDefinition\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"parameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"encapsulatedDecisions\",\n\t\t\t\ttype: \"ElementCollection\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessContextElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"URI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"definitions\",\n\t\t\t\ttype: \"Definitions\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"PerformanceIndicator\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"impactingDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionDefinition\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"formalParameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"literalExpression\",\n\t\t\t\ttype: \"LiteralExpression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"invocation\",\n\t\t\t\ttype: \"Invocation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"context\",\n\t\t\t\ttype: \"Context\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"relation\",\n\t\t\t\ttype: \"Relation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"body\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bkm\",\n\t\t\t\ttype: \"BusinessKnowledgeModel\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"kind\",\n\t\t\t\ttype: \"FunctionKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Context\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"contextEnrty\",\n\t\t\t\ttype: \"ContextEntry\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ContextEntry\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"context\",\n\t\t\t\ttype: \"Context\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"literalExpression\",\n\t\t\t\ttype: \"LiteralExpression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"invocation\",\n\t\t\t\ttype: \"Invocation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"relation\",\n\t\t\t\ttype: \"Relation\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"List\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"relation\",\n\t\t\t\ttype: \"Relation\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"literalExpression\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"invocation\",\n\t\t\t\ttype: \"Invocation\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionTable\",\n\t\t\t\ttype: \"DecisionTable\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"context\",\n\t\t\t\ttype: \"Context\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionDefinition\",\n\t\t\t\ttype: \"FunctionDefinition\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"list\",\n\t\t\t\ttype: \"List\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"element\",\n\t\t\t\ttype: \"Expression\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Relation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"column\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"row\",\n\t\t\t\ttype: \"List\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OutputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"defaultOutputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputDefinition\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"UnaryTests\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"ruleInput\",\n\t\t\t\ttype: \"DecisionRule\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedInItemDefinition\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"input\",\n\t\t\t\ttype: \"InputClause\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"output\",\n\t\t\t\ttype: \"OutputClause\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"NamedElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ImportedValues\",\n\t\tsuperClass: [\n\t\t\t\"Import\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importedElement\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionService\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"encapsulatedDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputData\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionElements\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"element\",\n\t\t\t\ttype: \"DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"values\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionAttribute\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"element\",\n\t\t\t\ttype: \"DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Element\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"valueRef\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Element\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elements\",\n\t\t\t\ttype: \"ExtensionElements\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Artifact\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"definitions\",\n\t\t\t\ttype: \"Definitions\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Association\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"associationDirection\",\n\t\t\t\ttype: \"AssociationDirection\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"TextAnnotation\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"textFormat\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\",\n\t\t\t\t\"default\": \"text/plain\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotationClause\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotation\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"ruleAnnotation\",\n\t\t\t\ttype: \"DecisionRule\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocable\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Group\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionItem\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputTypeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputType\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElementReference\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tisAttr: true,\n\t\t\t\tname: \"href\",\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar enumerations$2 = [\n\t{\n\t\tname: \"HitPolicy\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"FIRST\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PRIORITY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"ANY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COLLECT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"RULE ORDER\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"OUTPUT ORDER\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BuiltinAggregator\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"SUM\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COUNT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MIN\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MAX\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTableOrientation\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Row\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Column\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"CrossTable\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"AssociationDirection\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"None\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"One\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Both\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"FEEL\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Java\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PMML\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$2 = [\n];\nvar xml$1 = {\n\ttagAlias: \"lowerCase\"\n};\nvar DmnPackage = {\n\tname: name$2,\n\tprefix: prefix$2,\n\turi: uri$2,\n\ttypes: types$2,\n\tenumerations: enumerations$2,\n\tassociations: associations$2,\n\txml: xml$1\n};\n\nvar name$3 = \"DMNDI\";\nvar prefix$3 = \"dmndi\";\nvar uri$3 = \"https://www.omg.org/spec/DMN/20191111/DMNDI/\";\nvar types$3 = [\n\t{\n\t\tname: \"DMNDI\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"diagrams\",\n\t\t\t\ttype: \"DMNDiagram\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"styles\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNStyle\",\n\t\tsuperClass: [\n\t\t\t\"di:Style\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"fillColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"strokeColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontSize\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontFamily\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontItalic\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontBold\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontUnderline\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontStrikeThrough\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelHorizontalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelVerticalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagram\",\n\t\tsuperClass: [\n\t\t\t\"di:Diagram\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"DMN:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"size\",\n\t\t\t\ttype: \"Size\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"diagramElements\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagramElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"di:DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"DMN:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\ttype: \"DMNLabel\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNLabel\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"Text\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNShape\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"isListedInputData\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionServiceDividerLine\",\n\t\t\t\ttype: \"DMNDecisionServiceDividerLine\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollapsed\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNEdge\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDecisionServiceDividerLine\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Text\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\tisBody: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Size\",\n\t\tsuperClass: [\n\t\t\t\"dc:Dimension\"\n\t\t]\n\t}\n];\nvar associations$3 = [\n];\nvar enumerations$3 = [\n];\nvar DmnDiPackage = {\n\tname: name$3,\n\tprefix: prefix$3,\n\turi: uri$3,\n\ttypes: types$3,\n\tassociations: associations$3,\n\tenumerations: enumerations$3\n};\n\nvar packages = {\n  dc: DcPackage,\n  di: DiPackage,\n  dmn: DmnPackage,\n  dmndi: DmnDiPackage,\n};\n\nfunction simple(additionalPackages, options) {\n  var pks = assign({}, packages, additionalPackages);\n\n  return new DmnModdle(pks, options);\n}\n\nexport default simple;\n","function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar hat_1 = createCommonjsModule(function (module) {\nvar hat = module.exports = function (bits, base) {\n    if (!base) base = 16;\n    if (bits === undefined) bits = 128;\n    if (bits <= 0) return '0';\n    \n    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n    for (var i = 2; digits === Infinity; i *= 2) {\n        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n    }\n    \n    var rem = digits - Math.floor(digits);\n    \n    var res = '';\n    \n    for (var i = 0; i < Math.floor(digits); i++) {\n        var x = Math.floor(Math.random() * base).toString(base);\n        res = x + res;\n    }\n    \n    if (rem) {\n        var b = Math.pow(base, rem);\n        var x = Math.floor(Math.random() * b).toString(base);\n        res = x + res;\n    }\n    \n    var parsed = parseInt(res, base);\n    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n        return hat(bits, base)\n    }\n    else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n    var fn = function (data) {\n        var iters = 0;\n        do {\n            if (iters ++ > 10) {\n                if (expandBy) bits += expandBy;\n                else throw new Error('too many ID collisions, use more bits')\n            }\n            \n            var id = hat(bits, base);\n        } while (Object.hasOwnProperty.call(hats, id));\n        \n        hats[id] = data;\n        return id;\n    };\n    var hats = fn.hats = {};\n    \n    fn.get = function (id) {\n        return fn.hats[id];\n    };\n    \n    fn.set = function (id, value) {\n        fn.hats[id] = value;\n        return fn;\n    };\n    \n    fn.bits = bits || 128;\n    fn.base = base || 16;\n    return fn;\n};\n});\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} seed\n */\n\nfunction Ids(seed) {\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [128, 36, 1];\n  this._seed = seed.length ? hat_1.rack(seed[0], seed[1], seed[2]) : seed;\n}\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\n\nIds.prototype.next = function (element) {\n  return this._seed(element || true);\n};\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\n\n\nIds.prototype.nextPrefixed = function (prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id)); // claim {prefix}{random}\n\n\n  this.claim(id, element); // return\n\n  return id;\n};\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\n\n\nIds.prototype.claim = function (id, element) {\n  this._seed.set(id, element || true);\n};\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\n\n\nIds.prototype.assigned = function (id) {\n  return this._seed.get(id) || false;\n};\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\n\n\nIds.prototype.unclaim = function (id) {\n  delete this._seed.hats[id];\n};\n/**\n * Clear all claimed ids.\n */\n\n\nIds.prototype.clear = function () {\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};\n\nexport default Ids;\n//# sourceMappingURL=index.esm.js.map\n","/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nvar nativeToString = Object.prototype.toString;\nvar nativeHasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\nfunction isNil(obj) {\n  return obj == null;\n}\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\nfunction isFunction(obj) {\n  var tag = nativeToString.call(obj);\n  return tag === '[object Function]' || tag === '[object AsyncFunction]' || tag === '[object GeneratorFunction]' || tag === '[object AsyncGeneratorFunction]' || tag === '[object Proxy]';\n}\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\n\nfunction ensureArray(obj) {\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\n\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function|Object} matcher\n *\n * @return {Object}\n */\n\nfunction find(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var match;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      match = val;\n      return false;\n    }\n  });\n  return match;\n}\n/**\n * Find element index in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Object}\n */\n\nfunction findIndex(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var idx = isArray(collection) ? -1 : undefined;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      idx = key;\n      return false;\n    }\n  });\n  return idx;\n}\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Array} result\n */\n\nfunction filter(collection, matcher) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      result.push(val);\n    }\n  });\n  return result;\n}\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\n\nfunction forEach(collection, iterator) {\n  var val, result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  var convertKey = isArray(collection) ? toNum : identity;\n\n  for (var key in collection) {\n    if (has(collection, key)) {\n      val = collection[key];\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n/**\n * Return collection without element.\n *\n * @param  {Array} arr\n * @param  {Function} matcher\n *\n * @return {Array}\n */\n\nfunction without(arr, matcher) {\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n  matcher = toMatcher(matcher);\n  return arr.filter(function (el, idx) {\n    return !matcher(el, idx);\n  });\n}\n/**\n * Reduce collection, returning a single result.\n *\n * @param  {Object|Array} collection\n * @param  {Function} iterator\n * @param  {Any} result\n *\n * @return {Any} result returned from last iterator\n */\n\nfunction reduce(collection, iterator, result) {\n  forEach(collection, function (value, idx) {\n    result = iterator(result, value, idx);\n  });\n  return result;\n}\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction every(collection, matcher) {\n  return !!reduce(collection, function (matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction some(collection, matcher) {\n  return !!find(collection, matcher);\n}\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\n\nfunction map(collection, fn) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    result.push(fn(val, key));\n  });\n  return result;\n}\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\n\nfunction size(collection) {\n  return keys(collection).length;\n}\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction values(collection) {\n  return map(collection, function (val) {\n    return val;\n  });\n}\n/**\n * Group collection members by attribute.\n *\n * @param  {Object|Array} collection\n * @param  {Function} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\n\nfunction groupBy(collection, extractor) {\n  var grouped = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  extractor = toExtractor(extractor);\n  forEach(collection, function (val) {\n    var discriminator = extractor(val) || '_';\n    var group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n  return grouped;\n}\nfunction uniqueBy(extractor) {\n  extractor = toExtractor(extractor);\n  var grouped = {};\n\n  for (var _len = arguments.length, collections = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    collections[_key - 1] = arguments[_key];\n  }\n\n  forEach(collections, function (c) {\n    return groupBy(c, extractor, grouped);\n  });\n  var result = map(grouped, function (val, key) {\n    return val[0];\n  });\n  return result;\n}\nvar unionBy = uniqueBy;\n/**\n * Sort collection by criteria.\n *\n * @param  {Object|Array} collection\n * @param  {String|Function} extractor\n *\n * @return {Array}\n */\n\nfunction sortBy(collection, extractor) {\n  extractor = toExtractor(extractor);\n  var sorted = [];\n  forEach(collection, function (value, key) {\n    var disc = extractor(value, key);\n    var entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      var d = sorted[idx].d;\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    } // not inserted, append (!)\n\n\n    sorted.push(entry);\n  });\n  return map(sorted, function (e) {\n    return e.v;\n  });\n}\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n *\n * @param  {Object} pattern\n *\n * @return {Function} matcherFn\n */\n\nfunction matchPattern(pattern) {\n  return function (el) {\n    return every(pattern, function (val, key) {\n      return el[key] === val;\n    });\n  };\n}\n\nfunction toExtractor(extractor) {\n  return isFunction(extractor) ? extractor : function (e) {\n    return e[extractor];\n  };\n}\n\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : function (e) {\n    return e === matcher;\n  };\n}\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {Function} debounced function\n */\nfunction debounce(fn, timeout) {\n  var timer;\n  var lastArgs;\n  var lastThis;\n  var lastNow;\n\n  function fire(force) {\n    var now = Date.now();\n    var scheduledDiff = force ? 0 : lastNow + timeout - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  function callback() {\n    lastNow = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n    lastThis = this; // ensure an execution is scheduled\n\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n  return callback;\n}\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\n\nfunction throttle(fn, interval) {\n  var throttling = false;\n  return function () {\n    if (throttling) {\n      return;\n    }\n\n    fn.apply(void 0, arguments);\n    throttling = true;\n    setTimeout(function () {\n      throttling = false;\n    }, interval);\n  };\n}\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\n\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\n\nfunction assign(target) {\n  for (var _len = arguments.length, others = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    others[_key - 1] = arguments[_key];\n  }\n\n  return _extends.apply(void 0, [target].concat(others));\n}\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @param {Object} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n */\n\nfunction set(target, path, value) {\n  var currentTarget = target;\n  forEach(path, function (key, idx) {\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + _typeof(key) + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    var nextKey = path[idx + 1];\n    var nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n  return target;\n}\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n */\n\nfunction get(target, path, defaultValue) {\n  var currentTarget = target;\n  forEach(path, function (key) {\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n/**\n * Pick given properties from the target object.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction pick(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(properties, function (prop) {\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n  return result;\n}\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction omit(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(obj, function (prop, key) {\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n  return result;\n}\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\n\nfunction merge(target) {\n  for (var _len2 = arguments.length, sources = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    sources[_key2 - 1] = arguments[_key2];\n  }\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function (source) {\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function (sourceVal, key) {\n      if (key === '__proto__') {\n        return;\n      }\n\n      var targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n        if (!isObject(targetVal)) {\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n    });\n  });\n  return target;\n}\n\nexport { assign, bind, debounce, ensureArray, every, filter, find, findIndex, flatten, forEach, get, groupBy, has, isArray, isDefined, isFunction, isNil, isNumber, isObject, isString, isUndefined, keys, map, matchPattern, merge, omit, pick, reduce, set, size, some, sortBy, throttle, unionBy, uniqueBy, values, without };\n","import DmnModdle from 'dmn-moddle';\nimport Ids from 'ids';\nimport { isString, isArray, isFunction, some } from 'min-dash';\n\nvar name = \"bpmn.io DI for DMN\";\nvar uri = \"http://bpmn.io/schema/dmn/biodi/1.0\";\nvar prefix = \"biodi\";\nvar xml = {\n\ttagAlias: \"lowerCase\"\n};\nvar types = [\n\t{\n\t\tname: \"Bounds\",\n\t\tsuperClass: [\n\t\t\t\"dc:Bounds\",\n\t\t\t\"Element\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Edge\",\n\t\tsuperClass: [\n\t\t\t\"Element\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"source\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"waypoints\",\n\t\t\t\ttype: \"Waypoint\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Waypoint\",\n\t\tsuperClass: [\n\t\t\t\"dc:Point\"\n\t\t]\n\t}\n];\nvar BiodiPackage = {\n\tname: name,\n\turi: uri,\n\tprefix: prefix,\n\txml: xml,\n\ttypes: types\n};\n\nconst ids = new Ids([ 32, 36, 1 ]);\r\n\r\nconst moddle = new DmnModdle({\r\n  biodi: BiodiPackage\r\n});\r\n\r\nconst DMN11URI = '\"http://www.omg.org/spec/DMN/20151101/dmn.xsd\"';\r\nconst DMN12URI = '\"http://www.omg.org/spec/DMN/20180521/MODEL/\"';\r\nconst DMN13URI = '\"https://www.omg.org/spec/DMN/20191111/MODEL/\"';\r\n\r\n/**\r\n * Migrate DMN 1.1 XML to 1.3.\r\n *\r\n * @param {string} xml\r\n *\r\n * @returns {Promise<string>}\r\n */\r\nfunction migrateDiagram(xml) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!isString(xml)) {\r\n\r\n      // return XML without migrating\r\n      return resolve(xml);\r\n    }\r\n\r\n    try {\r\n      if (hasNamespace(DMN11URI, xml)) {\r\n        return resolve(migrateFrom11To13(xml));\r\n      } else if (hasNamespace(DMN12URI, xml)) {\r\n        return resolve(migrateFrom12To13(xml));\r\n      } else if (hasNamespace(DMN13URI, xml)) {\r\n        return resolve(xml);\r\n      }\r\n    } catch (err) {\r\n      return reject(err);\r\n    }\r\n\r\n    // return XML without migrating\r\n    return resolve(xml);\r\n  });\r\n}\r\n\r\n/**\r\n * Check if XML has namespace.\r\n *\r\n * @param {string} namespace\r\n * @param {string} xml\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction hasNamespace(namespace, xml) {\r\n  return xml.includes(namespace);\r\n}\r\n\r\n/**\r\n * Migrate DMN 1.1 XML to 1.3.\r\n *\r\n * @param {string} xml\r\n *\r\n * @returns {string}\r\n */\r\nfunction migrateFrom12To13(xml) {\r\n  return new Promise(resolve => resolve(\r\n    xml\r\n      .replace(DMN12URI, DMN13URI)\r\n      .replace('\"http://www.omg.org/spec/DMN/20180521/DMNDI/\"', '\"https://www.omg.org/spec/DMN/20191111/DMNDI/\"')\r\n  ));\r\n}\r\n\r\n/**\r\n * Migrate DMN 1.1 XML to 1.3.\r\n *\r\n * @param {string} xml\r\n *\r\n * @returns {string}\r\n */\r\nfunction migrateFrom11To13(xml) {\r\n  return new Promise((resolve, reject) => {\r\n    const namespaceReplacedXML = xml.replace(DMN11URI, DMN13URI);\r\n\r\n    moddle.fromXML(namespaceReplacedXML, 'dmn:Definitions', (parsingError, definitions) => {\r\n      if (parsingError) {\r\n\r\n        // return XML without migrating\r\n        return resolve(xml);\r\n      }\r\n\r\n      try {\r\n        addIds(definitions);\r\n\r\n        addNames(definitions);\r\n\r\n        migrateDI(definitions, moddle);\r\n      } catch (migrationError) {\r\n        return reject(migrationError);\r\n      }\r\n\r\n      moddle.toXML(definitions, { format: true }, (serializationError, migratedXML) => {\r\n        if (serializationError) {\r\n          return reject(serializationError);\r\n        } else {\r\n          return resolve(migratedXML);\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nconst TARGET_DMN_VERSION = '1.3';\r\n\r\n/**\r\n * Add ID to element if required.\r\n *\r\n * @param {Object} element\r\n */\r\nfunction addId(element) {\r\n\r\n  if (element.id) {\r\n    return;\r\n  }\r\n\r\n  if (isAny(element, [\r\n    'dmn:DMNElement',\r\n    'dmndi:DMNDiagram',\r\n    'dmndi:DMNDiagramElement'\r\n  ])) {\r\n    element.id = ids.nextPrefixed(element.$type.split(':')[1] + '_', element);\r\n  }\r\n}\r\n\r\n/**\r\n * Add ID to all elements that have to have ID but don't.\r\n *\r\n * @param {Object} element\r\n */\r\nfunction addIds(element) {\r\n  addId(element);\r\n\r\n  Object.values(element).forEach(value => {\r\n    if (value.$type) {\r\n      addId(value);\r\n\r\n      addIds(value);\r\n    }\r\n\r\n    if (isArray(value)) {\r\n      value.forEach(addIds);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Add name to element if required.\r\n *\r\n * @param {Object} element\r\n */\r\nfunction addName(element) {\r\n  if (is(element, 'dmn:NamedElement') && !element.name) {\r\n    element.name = element.id;\r\n  }\r\n}\r\n\r\n/**\r\n * Add names to all elements that have to have names but don't.\r\n *\r\n * @param {Object} element\r\n */\r\nfunction addNames(element) {\r\n  addName(element);\r\n\r\n  Object.values(element).forEach(value => {\r\n    if (value.$type) {\r\n      addName(value);\r\n\r\n      addNames(value);\r\n    }\r\n\r\n    if (isArray(value)) {\r\n      value.forEach(addNames);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Create and return `dmndi:DMNDI`.\r\n *\r\n * @param {Object} moddle\r\n *\r\n * @returns {Object}\r\n */\r\nfunction createDMNDI(moddle) {\r\n  const dmnDiagram = moddle.create('dmndi:DMNDiagram', {\r\n    diagramElements: []\r\n  });\r\n\r\n  addId(dmnDiagram);\r\n\r\n  const dmnDI = moddle.create('dmndi:DMNDI', {\r\n    diagrams: [ dmnDiagram ]\r\n  });\r\n\r\n  dmnDiagram.$parent = dmnDI;\r\n\r\n  return dmnDI;\r\n}\r\n\r\n/**\r\n * Check if element is type.\r\n *\r\n * @param {Object} element\r\n * @param {string} type\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction is(element, type) {\r\n  return isFunction(element.$instanceOf) && element.$instanceOf(type);\r\n}\r\n\r\n/**\r\n * Check if element is any type.\r\n *\r\n * @param {Object} element\r\n * @param {Array<string>} types\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction isAny(element, types) {\r\n  return some(types, type => is(element, type));\r\n}\r\n\r\n/**\r\n * Get referenced DMN element.\r\n *\r\n * @param {Object} drgElement\r\n * @param {string} source\r\n *\r\n * @returns {Object}\r\n */\r\nfunction getDMNElementRef(drgElement, source) {\r\n  if (is(drgElement, 'dmn:Association')) {\r\n    return drgElement;\r\n  }\r\n\r\n  return Object.values(drgElement).reduce((dmnElementRef, dmnElements) => {\r\n    if (isArray(dmnElements)) {\r\n      return dmnElementRef || dmnElements.find(dmnElement => {\r\n        if (is(dmnElement, 'dmn:DMNElement')) {\r\n          return Object.values(dmnElement).find(dmnElementReference => {\r\n            if (is(dmnElementReference, 'dmn:DMNElementReference')) {\r\n              const { href } = dmnElementReference;\r\n\r\n              return href.replace('#', '').includes(source);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    return dmnElementRef;\r\n  }, null);\r\n}\r\n\r\n/**\r\n * Migrate custom DI to DMN 1.3 DI.\r\n *\r\n * @param {Object} definitions\r\n * @param {Object} moddle\r\n *\r\n * @returns {Object}\r\n */\r\nfunction migrateDI(definitions, moddle) {\r\n  const diagramElements = [];\r\n\r\n  const semanticElements = [].concat(\r\n    definitions.get('drgElement'),\r\n    definitions.get('artifact')\r\n  );\r\n\r\n  semanticElements.forEach(semantic => {\r\n    const extensionElements = semantic.get('extensionElements');\r\n\r\n    if (!extensionElements) {\r\n      return;\r\n    }\r\n\r\n    extensionElements.get('values').forEach(extensionElement => {\r\n      if (is(extensionElement, 'biodi:Bounds')) {\r\n        const bounds = moddle.create('dc:Bounds', {\r\n          height: extensionElement.get('height'),\r\n          width: extensionElement.get('width'),\r\n          x: extensionElement.get('x'),\r\n          y: extensionElement.get('y')\r\n        });\r\n\r\n        const shape = moddle.create('dmndi:DMNShape', {\r\n          bounds,\r\n          dmnElementRef: semantic\r\n        });\r\n\r\n        bounds.$parent = shape;\r\n\r\n        addId(shape);\r\n\r\n        diagramElements.push(shape);\r\n\r\n        shape.$parent = diagramElements;\r\n      }\r\n\r\n      if (is(extensionElement, 'biodi:Edge')) {\r\n        const dmnElementRef = getDMNElementRef(semantic, extensionElement.get('source'));\r\n\r\n        // referenced DMN element does not exist,\r\n        // we can happily ignore this: https://github.com/bpmn-io/dmn-migrate/issues/18\r\n        if (!dmnElementRef) {\r\n          return;\r\n        }\r\n\r\n        const waypoints = extensionElement.get('waypoints').map(waypoint => {\r\n          return moddle.create('dc:Point', {\r\n            x: waypoint.get('x'),\r\n            y: waypoint.get('y')\r\n          });\r\n        });\r\n\r\n        const edge = moddle.create('dmndi:DMNEdge', {\r\n          dmnElementRef,\r\n          waypoint: waypoints\r\n        });\r\n\r\n        dmnElementRef.$parent = edge;\r\n\r\n        addId(edge);\r\n\r\n        waypoints.forEach(wayPoint => wayPoint.$parent = edge);\r\n\r\n        diagramElements.push(edge);\r\n\r\n        edge.$parent = diagramElements;\r\n      }\r\n    });\r\n\r\n    extensionElements.set('values', extensionElements.get('values').filter(extensionElement => {\r\n      return !isAny(extensionElement, [ 'biodi:Bounds', 'biodi:Edge' ]);\r\n    }));\r\n\r\n    if (!extensionElements.get('values').length) {\r\n      semantic.set('extensionElements', undefined);\r\n    }\r\n  });\r\n\r\n  if (diagramElements.length) {\r\n    const dmnDI = createDMNDI(moddle);\r\n\r\n    definitions.set('dmnDI', dmnDI);\r\n\r\n    dmnDI.$parent = definitions;\r\n\r\n    const diagrams = dmnDI.get('diagrams')[ 0 ];\r\n\r\n    diagrams.set('diagramElements', diagramElements);\r\n\r\n    diagramElements.forEach(diagramElement => diagramElement.$parent = diagrams);\r\n  }\r\n\r\n  return definitions;\r\n}\n\nexport { TARGET_DMN_VERSION, migrateDiagram };\n","'use strict';\r\n\r\nimport reduce from 'lodash/reduce';\r\nimport keys from 'lodash/keys';\r\nimport forEach from 'lodash/forEach';\r\n\r\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\n/**\r\n * A handler that implements a BPMN 2.0 property update\r\n * for business objects which are not represented in the\r\n * diagram.\r\n *\r\n * This is useful in the context of the properties panel in\r\n * order to update child elements of elements visible in\r\n * the diagram.\r\n *\r\n * Example: perform an update of a specific event definition\r\n * of an intermediate event.\r\n *\r\n * @class\r\n * @constructor\r\n */\r\nfunction UpdateBusinessObjectHandler(elementRegistry) {\r\n  this._elementRegistry = elementRegistry;\r\n}\r\n\r\nUpdateBusinessObjectHandler.$inject = [ 'elementRegistry' ];\r\n\r\nexport default UpdateBusinessObjectHandler;\r\n\r\n/**\r\n * returns the root element\r\n */\r\nfunction getRoot(businessObject) {\r\n  var parent = businessObject;\r\n  while (parent.$parent) {\r\n    parent = parent.$parent;\r\n  }\r\n  return parent;\r\n}\r\n\r\nfunction getProperties(businessObject, propertyNames) {\r\n  return reduce(propertyNames, function(result, key) {\r\n    result[key] = businessObject.get(key);\r\n    return result;\r\n  }, {});\r\n}\r\n\r\n\r\nfunction setProperties(businessObject, properties) {\r\n  forEach(properties, function(value, key) {\r\n    businessObject.set(key, value);\r\n  });\r\n}\r\n\r\n\r\n// api //////////\r\n\r\n/**\r\n * Updates a business object with a list of new properties\r\n *\r\n * @method  UpdateBusinessObjectHandler#execute\r\n *\r\n * @param {Object} context\r\n * @param {djs.model.Base} context.element the element which has a child business object updated\r\n * @param {moddle.businessObject} context.businessObject the businessObject to update\r\n * @param {Object} context.properties a list of properties to set on the businessObject\r\n *\r\n * @return {Array<djs.mode.Base>} the updated element\r\n */\r\nUpdateBusinessObjectHandler.prototype.execute = function(context) {\r\n\r\n  var element = context.element,\r\n      businessObject = context.businessObject,\r\n      rootElements = getRoot(businessObject).rootElements,\r\n      referenceType = context.referenceType,\r\n      referenceProperty = context.referenceProperty,\r\n      changed = [ element ]; // this will not change any diagram-js elements\r\n\r\n  if (!element) {\r\n    throw new Error('element required');\r\n  }\r\n\r\n  if (!businessObject) {\r\n    throw new Error('businessObject required');\r\n  }\r\n\r\n  var properties = context.properties,\r\n      oldProperties = context.oldProperties || getProperties(businessObject, keys(properties));\r\n\r\n  // check if there the update needs an external element for reference\r\n  if (typeof referenceType !== 'undefined' && typeof referenceProperty !== 'undefined') {\r\n    forEach(rootElements, function(rootElement) {\r\n      if (is(rootElement, referenceType)) {\r\n        if (rootElement.id === properties[referenceProperty]) {\r\n          properties[referenceProperty] = rootElement;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // update properties\r\n  setProperties(businessObject, properties);\r\n\r\n  // store old values\r\n  context.oldProperties = oldProperties;\r\n  context.changed = changed;\r\n\r\n  // indicate changed on objects affected by the update\r\n  return changed;\r\n};\r\n\r\n/**\r\n * Reverts the update\r\n *\r\n * @method  UpdateBusinessObjectHandler#revert\r\n *\r\n * @param {Object} context\r\n *\r\n * @return {djs.mode.Base} the updated element\r\n */\r\nUpdateBusinessObjectHandler.prototype.revert = function(context) {\r\n\r\n  var oldProperties = context.oldProperties,\r\n      businessObject = context.businessObject;\r\n\r\n  // update properties\r\n  setProperties(businessObject, oldProperties);\r\n\r\n  return context.changed;\r\n};\r\n","'use strict';\r\n\r\nimport forEach from 'lodash/forEach';\r\n\r\nimport UpdateBusinessObjectHandler from './UpdateBusinessObjectHandler';\r\n\r\nvar HANDLERS = {\r\n  'properties-panel.update-businessobject': UpdateBusinessObjectHandler\r\n};\r\n\r\n\r\nfunction CommandInitializer(eventBus, commandStack) {\r\n\r\n  eventBus.on('diagram.init', function() {\r\n    forEach(HANDLERS, function(handler, id) {\r\n      commandStack.registerHandler(id, handler);\r\n    });\r\n  });\r\n}\r\n\r\nCommandInitializer.$inject = [ 'eventBus', 'commandStack' ];\r\n\r\nexport default {\r\n  __init__: [ CommandInitializer ]\r\n};","'use strict';\r\n\r\nimport { escapeHTML } from './Utils';\r\n\r\nimport {\r\n  domify,\r\n  query as domQuery,\r\n  queryAll as domQueryAll,\r\n  remove as domRemove,\r\n  classes as domClasses,\r\n  closest as domClosest,\r\n  attr as domAttr,\r\n  delegate as domDelegate,\r\n  matches as domMatches\r\n} from 'min-dom';\r\n\r\nimport forEach from 'lodash/forEach';\r\nimport filter from 'lodash/filter';\r\nimport get from 'lodash/get';\r\nimport keys from 'lodash/keys';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport isArray from 'lodash/isArray';\r\nimport xor from 'lodash/xor';\r\nimport debounce from 'lodash/debounce';\r\nimport flattenDeep from 'lodash/flattenDeep';\r\nimport keyBy from 'lodash/keyBy';\r\nimport map from 'lodash/map';\r\n\r\nimport updateSelection from 'selection-update';\r\n\r\nimport scrollTabs from 'scroll-tabs';\r\n\r\nimport { getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nvar HIDE_CLASS = 'dpp-hidden';\r\nvar DEBOUNCE_DELAY = 300;\r\n\r\n\r\nfunction isToggle(node) {\r\n  return node.type === 'checkbox' || node.type === 'radio';\r\n}\r\n\r\nfunction isSelect(node) {\r\n  return node.type === 'select-one';\r\n}\r\n\r\nfunction isContentEditable(node) {\r\n  return domAttr(node, 'contenteditable');\r\n}\r\n\r\nfunction getPropertyPlaceholders(node) {\r\n  var selector = 'input[name], textarea[name], [data-value], [contenteditable]';\r\n  var placeholders = domQueryAll(selector, node);\r\n  if ((!placeholders || !placeholders.length) && domMatches(node, selector)) {\r\n    placeholders = [ node ];\r\n  }\r\n  return placeholders;\r\n}\r\n\r\n/**\r\n * Return all active form controls.\r\n * This excludes the invisible controls unless all is true\r\n *\r\n * @param {Element} node\r\n * @param {Boolean} [all=false]\r\n */\r\nfunction getFormControls(node, all) {\r\n  var controls = domQueryAll('input[name], textarea[name], select[name], [contenteditable]', node);\r\n\r\n  if (!controls || !controls.length) {\r\n    controls = domMatches(node, 'option') ? [ node ] : controls;\r\n  }\r\n\r\n  if (!all) {\r\n    controls = filter(controls, function(node) {\r\n      return !domClosest(node, '.' + HIDE_CLASS);\r\n    });\r\n  }\r\n\r\n  return controls;\r\n}\r\n\r\nfunction getFormControlValuesInScope(entryNode) {\r\n  var values = {};\r\n\r\n  var controlNodes = getFormControls(entryNode);\r\n\r\n  forEach(controlNodes, function(controlNode) {\r\n    var value = controlNode.value;\r\n\r\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\r\n\r\n    // take toggle state into account for radio / checkboxes\r\n    if (isToggle(controlNode)) {\r\n      if (controlNode.checked) {\r\n        if (!domAttr(controlNode, 'value')) {\r\n          value = true;\r\n        } else {\r\n          value = controlNode.value;\r\n        }\r\n      } else {\r\n        value = null;\r\n      }\r\n    } else\r\n    if (isContentEditable(controlNode)) {\r\n      value = controlNode.innerText;\r\n    }\r\n\r\n    if (value !== null) {\r\n\r\n      // return the actual value\r\n      // handle serialization in entry provider\r\n      // (ie. if empty string should be serialized or not)\r\n      values[name] = value;\r\n    }\r\n  });\r\n\r\n  return values;\r\n\r\n}\r\n\r\n/**\r\n * Extract input values from entry node\r\n *\r\n * @param  {DOMElement} entryNode\r\n * @returns {Object}\r\n */\r\nfunction getFormControlValues(entryNode) {\r\n\r\n  var values;\r\n\r\n  var listContainer = domQuery('[data-list-entry-container]', entryNode);\r\n  if (listContainer) {\r\n    values = [];\r\n    var listNodes = listContainer.children || [];\r\n    forEach(listNodes, function(listNode) {\r\n      values.push(getFormControlValuesInScope(listNode));\r\n    });\r\n  } else {\r\n    values = getFormControlValuesInScope(entryNode);\r\n  }\r\n\r\n  return values;\r\n}\r\n\r\n/**\r\n * Return true if the given form extracted value equals\r\n * to an old cached version.\r\n *\r\n * @param {Object} value\r\n * @param {Object} oldValue\r\n * @return {Boolean}\r\n */\r\nfunction valueEqual(value, oldValue) {\r\n\r\n  if (value && !oldValue) {\r\n    return false;\r\n  }\r\n\r\n  var allKeys = keys(value).concat(keys(oldValue));\r\n\r\n  return allKeys.every(function(key) {\r\n    return value[key] === oldValue[key];\r\n  });\r\n}\r\n\r\n/**\r\n * Return true if the given form extracted value(s)\r\n * equal an old cached version.\r\n *\r\n * @param {Array<Object>|Object} values\r\n * @param {Array<Object>|Object} oldValues\r\n * @return {Boolean}\r\n */\r\nfunction valuesEqual(values, oldValues) {\r\n\r\n  if (isArray(values)) {\r\n\r\n    if (values.length !== oldValues.length) {\r\n      return false;\r\n    }\r\n\r\n    return values.every(function(v, idx) {\r\n      return valueEqual(v, oldValues[idx]);\r\n    });\r\n  }\r\n\r\n  return valueEqual(values, oldValues);\r\n}\r\n\r\n/**\r\n * Return a mapping of { id: entry } for all entries in the given groups in the given tabs.\r\n *\r\n * @param {Object} tabs\r\n * @return {Object}\r\n */\r\nfunction extractEntries(tabs) {\r\n  return keyBy(flattenDeep(map(flattenDeep(map(tabs, 'groups')), 'entries')), 'id');\r\n}\r\n\r\n/**\r\n * Return a mapping of { id: group } for all groups in the given tabs.\r\n *\r\n * @param {Object} tabs\r\n * @return {Object}\r\n */\r\nfunction extractGroups(tabs) {\r\n  return keyBy(flattenDeep(map(tabs, 'groups')), 'id');\r\n}\r\n\r\n/**\r\n * A properties panel implementation.\r\n *\r\n * To use it provide a `propertiesProvider` component that knows\r\n * about which properties to display.\r\n *\r\n * Properties edit state / visibility can be intercepted\r\n * via a custom {@link PropertiesActivator}.\r\n *\r\n * @class\r\n * @constructor\r\n *\r\n * @param {CommandStack} commandStack\r\n * @param {Object} config\r\n * @param {EventBus} eventBus\r\n * @param {Modeling} modeling\r\n * @param {PropertiesProvider} propertiesProvider\r\n */\r\nfunction PropertiesPanel(\r\n    commandStack,\r\n    config,\r\n    eventBus,\r\n    modeling,\r\n    propertiesProvider\r\n) {\r\n  this._commandStack = commandStack;\r\n  this._eventBus = eventBus;\r\n  this._modeling = modeling;\r\n  this._propertiesProvider = propertiesProvider;\r\n\r\n  this._init(config);\r\n}\r\n\r\nPropertiesPanel.$inject = [\r\n  'commandStack',\r\n  'config.propertiesPanel',\r\n  'eventBus',\r\n  'modeling',\r\n  'propertiesProvider'\r\n];\r\n\r\nexport default PropertiesPanel;\r\n\r\n\r\nPropertiesPanel.prototype._init = function(config) {\r\n\r\n  var eventBus = this._eventBus;\r\n\r\n  var self = this;\r\n\r\n  // add / update tab-bar scrolling\r\n  eventBus.on([\r\n    'propertiesPanel.changed',\r\n    'propertiesPanel.resized'\r\n  ], function(event) {\r\n\r\n    var tabBarNode = domQuery('.dpp-properties-tab-bar', self._container);\r\n\r\n    if (!tabBarNode) {\r\n      return;\r\n    }\r\n\r\n    var scroller = scrollTabs.get(tabBarNode);\r\n\r\n    if (!scroller) {\r\n\r\n      // we did not initialize yet, do that\r\n      // now and make sure we select the active\r\n      // tab on scroll update\r\n      scroller = scrollTabs(tabBarNode, {\r\n        selectors: {\r\n          tabsContainer: '.dpp-properties-tabs-links',\r\n          tab: '.dpp-properties-tabs-links li',\r\n          ignore: '.dpp-hidden',\r\n          active: '.dpp-active'\r\n        }\r\n      });\r\n\r\n\r\n      scroller.on('scroll', function(newActiveNode, oldActiveNode, direction) {\r\n\r\n        var linkNode = domQuery('[data-tab-target]', newActiveNode);\r\n\r\n        var tabId = domAttr(linkNode, 'data-tab-target');\r\n\r\n        self.activateTab(tabId);\r\n      });\r\n    }\r\n\r\n    // react on tab changes and or tabContainer resize\r\n    // and make sure the active tab is shown completely\r\n    scroller.update();\r\n  });\r\n\r\n  this._container = domify('<div class=\"dpp-properties-panel\" input-handle-modified-keys=\"z,y\"></div>');\r\n\r\n  this._bindListeners(this._container);\r\n\r\n  if (config && config.parent) {\r\n    this.attachTo(config.parent);\r\n  }\r\n};\r\n\r\n\r\nPropertiesPanel.prototype.attachTo = function(parentNode) {\r\n\r\n  if (!parentNode) {\r\n    throw new Error('parentNode required');\r\n  }\r\n\r\n  // ensure we detach from the\r\n  // previous, old parent\r\n  this.detach();\r\n\r\n  // unwrap jQuery if provided\r\n  if (parentNode.get && parentNode.constructor.prototype.jquery) {\r\n    parentNode = parentNode.get(0);\r\n  }\r\n\r\n  if (typeof parentNode === 'string') {\r\n    parentNode = domQuery(parentNode);\r\n  }\r\n\r\n  var container = this._container;\r\n\r\n  parentNode.appendChild(container);\r\n\r\n  this._emit('attach');\r\n};\r\n\r\nPropertiesPanel.prototype.detach = function() {\r\n\r\n  var container = this._container,\r\n      parentNode = container.parentNode;\r\n\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n\r\n  this._emit('detach');\r\n\r\n  parentNode.removeChild(container);\r\n};\r\n\r\n\r\n/**\r\n * Select the given tab within the properties panel.\r\n *\r\n * @param {Object|String} tab\r\n */\r\nPropertiesPanel.prototype.activateTab = function(tab) {\r\n  var tabId = typeof tab === 'string' ? tab : tab.id;\r\n\r\n  var current = this._current;\r\n\r\n  var panelNode = current.panel;\r\n\r\n  var allTabNodes = domQueryAll('.dpp-properties-tab', panelNode),\r\n      allTabLinkNodes = domQueryAll('.dpp-properties-tab-link', panelNode);\r\n\r\n  forEach(allTabNodes, function(tabNode) {\r\n\r\n    var currentTabId = domAttr(tabNode, 'data-tab');\r\n\r\n    domClasses(tabNode).toggle('dpp-active', tabId === currentTabId);\r\n  });\r\n\r\n  forEach(allTabLinkNodes, function(tabLinkNode) {\r\n\r\n    var tabLink = domQuery('[data-tab-target]', tabLinkNode),\r\n        currentTabId = domAttr(tabLink, 'data-tab-target');\r\n\r\n    domClasses(tabLinkNode).toggle('dpp-active', tabId === currentTabId);\r\n  });\r\n};\r\n\r\n/**\r\n * Update the DOM representation of the properties panel\r\n */\r\nPropertiesPanel.prototype.update = function(element) {\r\n  var current = this._current;\r\n\r\n  // no actual selection change\r\n  var needsCreate = true;\r\n\r\n  var newTabs = this._propertiesProvider.getTabs(element);\r\n\r\n  if (current && current.element === element) {\r\n\r\n    // see if we can reuse the existing panel\r\n\r\n    needsCreate = this._entriesChanged(current, newTabs);\r\n  }\r\n\r\n  if (needsCreate) {\r\n\r\n    if (current) {\r\n\r\n      // get active tab from the existing panel before remove it\r\n      var activeTabNode = domQuery('.dpp-properties-tab.dpp-active', current.panel);\r\n\r\n      var activeTabId;\r\n      if (activeTabNode) {\r\n        activeTabId = domAttr(activeTabNode, 'data-tab');\r\n      }\r\n\r\n      // remove old panel\r\n      domRemove(current.panel);\r\n    }\r\n\r\n    this._current = this._create(element, newTabs);\r\n\r\n    var newActiveTab = !!this._current.tabs.filter(function(tab) {\r\n      return tab.id === activeTabId;\r\n    }).length;\r\n\r\n    // activate the saved active tab from the remove panel or the first tab\r\n    if (activeTabId && newActiveTab) {\r\n      this.activateTab(activeTabId);\r\n    } else {\r\n      this.activateTab(this._current.tabs[0]);\r\n    }\r\n\r\n  }\r\n\r\n  if (this._current) {\r\n\r\n    // make sure correct tab contents are visible\r\n    this._updateActivation(this._current);\r\n\r\n  }\r\n\r\n  this._emit('changed');\r\n};\r\n\r\nPropertiesPanel.prototype.getCurrentElement = function() {\r\n  return this._current && this._current.element;\r\n};\r\n\r\n/**\r\n * Returns true if one of two groups has different entries than the other.\r\n *\r\n * @param  {Object} current\r\n * @param  {Object} newTabs\r\n * @return {Booelan}\r\n */\r\nPropertiesPanel.prototype._entriesChanged = function(current, newTabs) {\r\n\r\n  var oldEntryIds = keys(current.entries),\r\n      newEntryIds = keys(extractEntries(newTabs));\r\n\r\n  return !isEmpty(xor(oldEntryIds, newEntryIds));\r\n};\r\n\r\nPropertiesPanel.prototype._emit = function(event) {\r\n  this._eventBus.fire('propertiesPanel.' + event, { panel: this, current: this._current });\r\n};\r\n\r\nPropertiesPanel.prototype._bindListeners = function(container) {\r\n\r\n  var self = this;\r\n\r\n  // handles a change for a given event\r\n  var handleChange = function handleChange(event) {\r\n\r\n    // see if we handle a change inside a [data-entry] element.\r\n    // if not, drop out\r\n    var node = domClosest(event.delegateTarget, '[data-entry]'),\r\n        entryId, entry;\r\n\r\n    // change from outside a [data-entry] element, simply ignore\r\n    if (!node) {\r\n      return;\r\n    }\r\n\r\n    entryId = domAttr(node, 'data-entry');\r\n    entry = self.getEntry(entryId);\r\n\r\n    var values = getFormControlValues(node);\r\n\r\n    if (event.type === 'change') {\r\n\r\n      // - if the \"data-on-change\" attribute is present and a value is changed,\r\n      //   then the associated action is performed.\r\n      // - if the associated action returns \"true\" then an update to the business\r\n      //   object is done\r\n      // - if it does not return \"true\", then only the DOM content is updated\r\n      var onChangeAction = event.delegateTarget.getAttribute('data-on-change');\r\n\r\n      if (onChangeAction) {\r\n        var isEntryDirty = self.executeAction(entry, node, onChangeAction, event);\r\n\r\n        if (!isEntryDirty) {\r\n          return self.update(self._current.element);\r\n        }\r\n      }\r\n    }\r\n    self.applyChanges(entry, values, node);\r\n    self.updateState(entry, node);\r\n  };\r\n\r\n  // debounce update only elements that are target of key events,\r\n  // i.e. INPUT and TEXTAREA. SELECTs will trigger an immediate update anyway.\r\n  domDelegate.bind(container, 'input, textarea, [contenteditable]', 'input', debounce(handleChange, DEBOUNCE_DELAY));\r\n  domDelegate.bind(container, 'input, textarea, select, [contenteditable]', 'change', handleChange);\r\n\r\n  // paste as plain text only\r\n  domDelegate.bind(container, '[contenteditable]', 'paste', handlePaste);\r\n\r\n  function handlePaste(event) {\r\n    var text = (event.clipboardData || window.clipboardData).getData('text');\r\n\r\n    text = normalizeEndOfLineSequences(text);\r\n\r\n    document.execCommand('insertText', false, text);\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  // handle key events\r\n  domDelegate.bind(container, 'select', 'keydown', function(e) {\r\n\r\n    // DEL\r\n    if (e.keyCode === 46) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n  });\r\n\r\n  domDelegate.bind(container, '[data-action]', 'click', function onClick(event) {\r\n\r\n    // triggers on all inputs\r\n    var inputNode = event.delegateTarget;\r\n    var entryNode = domClosest(inputNode, '[data-entry]');\r\n\r\n    var actionId = domAttr(inputNode, 'data-action'),\r\n        entryId = domAttr(entryNode, 'data-entry');\r\n\r\n    var entry = self.getEntry(entryId);\r\n\r\n    var isEntryDirty = self.executeAction(entry, entryNode, actionId, event);\r\n\r\n    if (isEntryDirty) {\r\n      var values = getFormControlValues(entryNode);\r\n\r\n      self.applyChanges(entry, values, entryNode);\r\n    }\r\n\r\n    self.updateState(entry, entryNode);\r\n  });\r\n\r\n  function handleInput(event, element) {\r\n\r\n    // triggers on all inputs\r\n    var inputNode = event.delegateTarget;\r\n\r\n    var entryNode = domClosest(inputNode, '[data-entry]');\r\n\r\n    // only work on data entries\r\n    if (!entryNode) {\r\n      return;\r\n    }\r\n\r\n    var eventHandlerId = domAttr(inputNode, 'data-blur'),\r\n        entryId = domAttr(entryNode, 'data-entry');\r\n\r\n    var entry = self.getEntry(entryId);\r\n\r\n    var isEntryDirty = self.executeAction(entry, entryNode, eventHandlerId, event);\r\n\r\n    if (isEntryDirty) {\r\n      var values = getFormControlValues(entryNode);\r\n\r\n      self.applyChanges(entry, values, entryNode);\r\n    }\r\n\r\n    self.updateState(entry, entryNode);\r\n  }\r\n\r\n  domDelegate.bind(container, '[data-blur]', 'blur', handleInput, true);\r\n\r\n  // make tab links interactive\r\n  domDelegate.bind(container, '.dpp-properties-tabs-links [data-tab-target]', 'click', function(event) {\r\n    event.preventDefault();\r\n\r\n    var delegateTarget = event.delegateTarget;\r\n\r\n    var tabId = domAttr(delegateTarget, 'data-tab-target');\r\n\r\n    // activate tab on link click\r\n    self.activateTab(tabId);\r\n  });\r\n\r\n};\r\n\r\nPropertiesPanel.prototype.updateState = function(entry, entryNode) {\r\n  this.updateShow(entry, entryNode);\r\n  this.updateDisable(entry, entryNode);\r\n};\r\n\r\n/**\r\n * Update the visibility of the entry node in the DOM\r\n */\r\nPropertiesPanel.prototype.updateShow = function(entry, node) {\r\n\r\n  var current = this._current;\r\n\r\n  if (!current) {\r\n    return;\r\n  }\r\n\r\n  var showNodes = domQueryAll('[data-show]', node) || [];\r\n\r\n  forEach(showNodes, function(showNode) {\r\n\r\n    var expr = domAttr(showNode, 'data-show');\r\n    var fn = get(entry, expr);\r\n    if (fn) {\r\n      var scope = domClosest(showNode, '[data-scope]') || node;\r\n      var shouldShow = fn(current.element, node, showNode, scope) || false;\r\n      if (shouldShow) {\r\n        domClasses(showNode).remove(HIDE_CLASS);\r\n      } else {\r\n        domClasses(showNode).add(HIDE_CLASS);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Evaluates a given function. If it returns true, then the\r\n * node is marked as \"disabled\".\r\n */\r\nPropertiesPanel.prototype.updateDisable = function(entry, node) {\r\n  var current = this._current;\r\n\r\n  if (!current) {\r\n    return;\r\n  }\r\n\r\n  var nodes = domQueryAll('[data-disable]', node) || [];\r\n\r\n  forEach(nodes, function(currentNode) {\r\n    var expr = domAttr(currentNode, 'data-disable');\r\n    var fn = get(entry, expr);\r\n    if (fn) {\r\n      var scope = domClosest(currentNode, '[data-scope]') || node;\r\n      var shouldDisable = fn(current.element, node, currentNode, scope) || false;\r\n      domAttr(currentNode, 'disabled', shouldDisable ? '' : null);\r\n    }\r\n  });\r\n};\r\n\r\nPropertiesPanel.prototype.executeAction = function(entry, entryNode, actionId, event) {\r\n  var current = this._current;\r\n\r\n  if (!current) {\r\n    return;\r\n  }\r\n\r\n  var fn = get(entry, actionId);\r\n  if (fn) {\r\n    var scopeNode = domClosest(event.target, '[data-scope]') || entryNode;\r\n    return fn.apply(entry, [ current.element, entryNode, event, scopeNode ]);\r\n  }\r\n};\r\n\r\n/**\r\n * Apply changes to the business object by executing a command\r\n */\r\nPropertiesPanel.prototype.applyChanges = function(entry, values, containerElement) {\r\n\r\n  var element = this._current.element;\r\n\r\n  // ensure we only update the model if we got dirty changes\r\n  if (valuesEqual(values, entry.oldValues)) {\r\n    return;\r\n  }\r\n\r\n  var command = entry.set(element, values, containerElement);\r\n\r\n  var commandToExecute;\r\n\r\n  if (isArray(command)) {\r\n    if (command.length) {\r\n      commandToExecute = {\r\n        cmd: 'properties-panel.multi-command-executor',\r\n        context: flattenDeep(command)\r\n      };\r\n    }\r\n  } else {\r\n    commandToExecute = command;\r\n  }\r\n\r\n  if (commandToExecute) {\r\n    this._commandStack.execute(commandToExecute.cmd, commandToExecute.context || { element : element });\r\n  } else {\r\n    this.update(element);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * apply validation errors in the DOM and show or remove an error message near the entry node.\r\n */\r\nPropertiesPanel.prototype.applyValidationErrors = function(validationErrors, entryNode) {\r\n\r\n  var valid = true;\r\n\r\n  var controlNodes = getFormControls(entryNode, true);\r\n\r\n  forEach(controlNodes, function(controlNode) {\r\n\r\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\r\n\r\n    var error = validationErrors && validationErrors[name];\r\n\r\n    var errorMessageNode = domQuery('.dpp-error-message', controlNode.parentNode);\r\n\r\n    if (error) {\r\n      valid = false;\r\n\r\n      if (!errorMessageNode) {\r\n        errorMessageNode = domify('<div></div>');\r\n\r\n        domClasses(errorMessageNode).add('dpp-error-message');\r\n\r\n        // insert errorMessageNode after controlNode\r\n        controlNode.parentNode.insertBefore(errorMessageNode, controlNode.nextSibling);\r\n      }\r\n\r\n      errorMessageNode.textContent = error;\r\n\r\n      domClasses(controlNode).add('invalid');\r\n    } else {\r\n      domClasses(controlNode).remove('invalid');\r\n\r\n      if (errorMessageNode) {\r\n        controlNode.parentNode.removeChild(errorMessageNode);\r\n      }\r\n    }\r\n  });\r\n\r\n  return valid;\r\n};\r\n\r\n\r\n/**\r\n * Check if the entry contains valid input\r\n */\r\nPropertiesPanel.prototype.validate = function(entry, values, entryNode) {\r\n  var self = this;\r\n\r\n  var current = this._current;\r\n\r\n  var valid = true;\r\n\r\n  entryNode = entryNode || domQuery('[data-entry=\"' + entry.id + '\"]', current.panel);\r\n\r\n  if (values instanceof Array) {\r\n    var listContainer = domQuery('[data-list-entry-container]', entryNode),\r\n        listEntryNodes = listContainer.children || [];\r\n\r\n    // create new elements\r\n    for (var i = 0; i < values.length; i++) {\r\n      var listValue = values[i];\r\n\r\n      if (entry.validateListItem) {\r\n\r\n        var validationErrors = entry.validateListItem(current.element, listValue, entryNode, i),\r\n            listEntryNode = listEntryNodes[i];\r\n\r\n        valid = self.applyValidationErrors(validationErrors, listEntryNode) && valid;\r\n      }\r\n    }\r\n  } else {\r\n    if (entry.validate) {\r\n      this.validationErrors = entry.validate(current.element, values, entryNode);\r\n\r\n      valid = self.applyValidationErrors(this.validationErrors, entryNode) && valid;\r\n    }\r\n  }\r\n\r\n  return valid;\r\n};\r\n\r\nPropertiesPanel.prototype.getEntry = function(id) {\r\n  return this._current && this._current.entries[id];\r\n};\r\n\r\nPropertiesPanel.prototype._create = function(element, tabs) {\r\n\r\n  if (!element) {\r\n    return null;\r\n  }\r\n\r\n  var containerNode = this._container;\r\n\r\n  var panelNode = this._createPanel(element, tabs);\r\n\r\n  containerNode.appendChild(panelNode);\r\n\r\n  var entries = extractEntries(tabs);\r\n  var groups = extractGroups(tabs);\r\n\r\n  return {\r\n    tabs: tabs,\r\n    groups: groups,\r\n    entries: entries,\r\n    element: element,\r\n    panel: panelNode\r\n  };\r\n};\r\n\r\n/**\r\n * Update variable parts of the entry node on element changes.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {EntryDescriptor} entry\r\n * @param {Object} values\r\n * @param {HTMLElement} entryNode\r\n * @param {Number} idx\r\n */\r\nPropertiesPanel.prototype._bindTemplate = function(element, entry, values, entryNode, idx) {\r\n\r\n  var eventBus = this._eventBus;\r\n\r\n  function isPropertyEditable(entry, propertyName) {\r\n    return eventBus.fire('propertiesPanel.isPropertyEditable', {\r\n      entry: entry,\r\n      propertyName: propertyName,\r\n      element: element\r\n    });\r\n  }\r\n\r\n  var inputNodes = getPropertyPlaceholders(entryNode);\r\n\r\n  forEach(inputNodes, function(node) {\r\n\r\n    var name,\r\n        newValue,\r\n        editable;\r\n\r\n    // we deal with an input element\r\n    if ('value' in node || isContentEditable(node) === 'true') {\r\n      name = domAttr(node, 'name') || domAttr(node, 'data-name');\r\n      newValue = values[name];\r\n\r\n      editable = isPropertyEditable(entry, name);\r\n      if (editable && entry.editable) {\r\n        editable = entry.editable(element, entryNode, node, name, newValue, idx);\r\n      }\r\n\r\n      domAttr(node, 'readonly', editable ? null : '');\r\n      domAttr(node, 'disabled', editable ? null : '');\r\n\r\n      // take full control over setting the value\r\n      // and possibly updating the input in entry#setControlValue\r\n      if (entry.setControlValue) {\r\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\r\n      } else if (isToggle(node)) {\r\n        setToggleValue(node, newValue);\r\n      } else if (isSelect(node)) {\r\n        setSelectValue(node, newValue);\r\n      } else {\r\n        setInputValue(node, newValue);\r\n      }\r\n    }\r\n\r\n    // we deal with some non-editable html element\r\n    else {\r\n      name = domAttr(node, 'data-value');\r\n      newValue = values[name];\r\n      if (entry.setControlValue) {\r\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\r\n      } else {\r\n        setTextValue(node, newValue);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n// TODO(nikku): WTF freaking name? Change / clarify.\r\nPropertiesPanel.prototype._updateActivation = function(current) {\r\n  var self = this;\r\n\r\n  var eventBus = this._eventBus;\r\n\r\n  var element = current.element;\r\n\r\n  function isEntryVisible(entry) {\r\n    return eventBus.fire('propertiesPanel.isEntryVisible', {\r\n      entry: entry,\r\n      element: element\r\n    });\r\n  }\r\n\r\n  function isGroupVisible(group, element, groupNode) {\r\n    if (typeof group.enabled === 'function') {\r\n      return group.enabled(element, groupNode);\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function isTabVisible(tab, element) {\r\n    if (typeof tab.enabled === 'function') {\r\n      return tab.enabled(element);\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function toggleVisible(node, visible) {\r\n    domClasses(node).toggle(HIDE_CLASS, !visible);\r\n  }\r\n\r\n  // check whether the active tab is visible\r\n  // if not: set the first tab as active tab\r\n  function checkActiveTabVisibility(node, visible) {\r\n    var isActive = domClasses(node).has('dpp-active');\r\n\r\n    if (!visible && isActive) {\r\n      self.activateTab(current.tabs[0]);\r\n    }\r\n  }\r\n\r\n  function updateLabel(element, selector, text) {\r\n    var labelNode = domQuery(selector, element);\r\n\r\n    if (!labelNode) {\r\n      return;\r\n    }\r\n\r\n    labelNode.textContent = text;\r\n  }\r\n\r\n  var panelNode = current.panel;\r\n\r\n  forEach(current.tabs, function(tab) {\r\n\r\n    var tabNode = domQuery('[data-tab=' + tab.id + ']', panelNode);\r\n    var tabLinkNode = domQuery('[data-tab-target=' + tab.id + ']', panelNode).parentNode;\r\n\r\n    var tabVisible = false;\r\n\r\n    forEach(tab.groups, function(group) {\r\n\r\n      var groupVisible = false;\r\n\r\n      var groupNode = domQuery('[data-group=' + group.id + ']', tabNode);\r\n\r\n      forEach(group.entries, function(entry) {\r\n\r\n        var entryNode = domQuery('[data-entry=\"' + entry.id + '\"]', groupNode);\r\n\r\n        var entryVisible = isEntryVisible(entry);\r\n\r\n        groupVisible = groupVisible || entryVisible;\r\n\r\n        toggleVisible(entryNode, entryVisible);\r\n\r\n        var values = 'get' in entry ? entry.get(element, entryNode) : {};\r\n\r\n        if (values instanceof Array) {\r\n          var listEntryContainer = domQuery('[data-list-entry-container]', entryNode);\r\n          var existingElements = listEntryContainer.children || [];\r\n\r\n          for (var i = 0; i < values.length; i++) {\r\n            var listValue = values[i];\r\n            var listItemNode = existingElements[i];\r\n            if (!listItemNode) {\r\n              listItemNode = domify(entry.createListEntryTemplate(listValue, i, listEntryContainer));\r\n              listEntryContainer.appendChild(listItemNode);\r\n            }\r\n            domAttr(listItemNode, 'data-index', i);\r\n\r\n            self._bindTemplate(element, entry, listValue, listItemNode, i);\r\n          }\r\n\r\n          var entriesToRemove = existingElements.length - values.length;\r\n\r\n          for (var j = 0; j < entriesToRemove; j++) {\r\n\r\n            // remove orphaned element\r\n            listEntryContainer.removeChild(listEntryContainer.lastChild);\r\n          }\r\n\r\n        } else {\r\n          self._bindTemplate(element, entry, values, entryNode);\r\n        }\r\n\r\n        // update conditionally visible elements\r\n        self.updateState(entry, entryNode);\r\n        self.validate(entry, values, entryNode);\r\n\r\n        // remember initial state for later dirty checking\r\n        entry.oldValues = getFormControlValues(entryNode);\r\n      });\r\n\r\n      if (typeof group.label === 'function') {\r\n        updateLabel(groupNode, '.group-label', group.label(element, groupNode));\r\n      }\r\n\r\n      groupVisible = groupVisible && isGroupVisible(group, element, groupNode);\r\n\r\n      tabVisible = tabVisible || groupVisible;\r\n\r\n      toggleVisible(groupNode, groupVisible);\r\n    });\r\n\r\n    tabVisible = tabVisible && isTabVisible(tab, element);\r\n\r\n    toggleVisible(tabNode, tabVisible);\r\n    toggleVisible(tabLinkNode, tabVisible);\r\n\r\n    checkActiveTabVisibility(tabNode, tabVisible);\r\n  });\r\n\r\n  // inject elements id into header\r\n  updateLabel(panelNode, '[data-label-id]', getBusinessObject(element).id || '');\r\n};\r\n\r\nPropertiesPanel.prototype._createPanel = function(element, tabs) {\r\n  var self = this;\r\n\r\n  var panelNode = domify('<div class=\"dpp-properties\"></div>'),\r\n      headerNode = domify('<div class=\"dpp-properties-header\">' +\r\n        '<div class=\"label\" data-label-id></div>' +\r\n        '<div class=\"search\">' +\r\n          '<input type=\"search\" placeholder=\"Search for property\" />' +\r\n          '<button><span>Search</span></button>' +\r\n        '</div>' +\r\n      '</div>'),\r\n      tabBarNode = domify('<div class=\"dpp-properties-tab-bar\"></div>'),\r\n      tabLinksNode = domify('<ul class=\"dpp-properties-tabs-links\"></ul>'),\r\n      tabContainerNode = domify('<div class=\"dpp-properties-tabs-container\"></div>');\r\n\r\n  panelNode.appendChild(headerNode);\r\n\r\n  forEach(tabs, function(tab, tabIndex) {\r\n\r\n    if (!tab.id) {\r\n      throw new Error('tab must have an id');\r\n    }\r\n\r\n    var tabNode = domify('<div class=\"dpp-properties-tab\" data-tab=\"' + escapeHTML(tab.id) + '\"></div>'),\r\n        tabLinkNode = domify('<li class=\"dpp-properties-tab-link\">' +\r\n          '<a href data-tab-target=\"' + escapeHTML(tab.id) + '\">' + escapeHTML(tab.label) + '</a>' +\r\n        '</li>');\r\n\r\n    var groups = tab.groups;\r\n\r\n    forEach(groups, function(group) {\r\n\r\n      if (!group.id) {\r\n        throw new Error('group must have an id');\r\n      }\r\n\r\n      var groupNode = domify('<div class=\"dpp-properties-group\" data-group=\"' + group.id + '\">' +\r\n          '<span class=\"group-toggle\"></span>' +\r\n          '<span class=\"group-label\">' + group.label + '</span>' +\r\n        '</div>');\r\n\r\n      // TODO(nre): use event delegation to handle that...\r\n      groupNode.querySelector('.group-toggle').addEventListener('click', function(evt) {\r\n        domClasses(groupNode).toggle('group-closed');\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n      });\r\n      groupNode.addEventListener('click', function(evt) {\r\n        if (!evt.defaultPrevented && domClasses(groupNode).has('group-closed')) {\r\n          domClasses(groupNode).remove('group-closed');\r\n        }\r\n      });\r\n\r\n      forEach(group.entries, function(entry) {\r\n\r\n        if (!entry.id) {\r\n          throw new Error('entry must have an id');\r\n        }\r\n\r\n        var html = entry.html;\r\n\r\n        if (typeof html === 'string') {\r\n          html = domify(html);\r\n        }\r\n\r\n        // unwrap jquery\r\n        if (html.get && html.constructor.prototype.jquery) {\r\n          html = html.get(0);\r\n        }\r\n\r\n        var entryNode = domify('<div class=\"dpp-properties-entry\" data-entry=\"' + escapeHTML(entry.id) + '\"></div>');\r\n\r\n        forEach(entry.cssClasses || [], function(cssClass) {\r\n          domClasses(entryNode).add(cssClass);\r\n        });\r\n\r\n        entryNode.appendChild(html);\r\n\r\n        groupNode.appendChild(entryNode);\r\n\r\n        // update conditionally visible elements\r\n        self.updateState(entry, entryNode);\r\n      });\r\n\r\n      tabNode.appendChild(groupNode);\r\n    });\r\n\r\n    tabLinksNode.appendChild(tabLinkNode);\r\n    tabContainerNode.appendChild(tabNode);\r\n  });\r\n\r\n  tabBarNode.appendChild(tabLinksNode);\r\n\r\n  panelNode.appendChild(tabBarNode);\r\n  panelNode.appendChild(tabContainerNode);\r\n\r\n  return panelNode;\r\n};\r\n\r\n\r\n\r\nfunction setInputValue(node, value) {\r\n\r\n  var contentEditable = isContentEditable(node);\r\n\r\n  var oldValue = contentEditable ? node.innerText : node.value;\r\n\r\n  var selection;\r\n\r\n  // prevents input fields from having the value 'undefined'\r\n  if (value === undefined) {\r\n    value = '';\r\n  }\r\n\r\n  if (oldValue === value) {\r\n    return;\r\n  }\r\n\r\n  // update selection on undo/redo\r\n  if (document.activeElement === node) {\r\n    selection = updateSelection(getSelection(node), oldValue, value);\r\n  }\r\n\r\n  if (contentEditable) {\r\n    node.innerText = value;\r\n  } else {\r\n    node.value = value;\r\n  }\r\n\r\n  if (selection) {\r\n    setSelection(node, selection);\r\n  }\r\n}\r\n\r\nfunction setSelectValue(node, value) {\r\n  if (value !== undefined) {\r\n    node.value = value;\r\n  }\r\n}\r\n\r\nfunction setToggleValue(node, value) {\r\n  var nodeValue = node.value;\r\n\r\n  node.checked = (value === nodeValue) || (!domAttr(node, 'value') && value);\r\n}\r\n\r\nfunction setTextValue(node, value) {\r\n  node.textContent = value;\r\n}\r\n\r\nfunction getSelection(node) {\r\n\r\n  return isContentEditable(node) ? getContentEditableSelection(node) : {\r\n    start: node.selectionStart,\r\n    end: node.selectionEnd\r\n  };\r\n}\r\n\r\nfunction getContentEditableSelection(node) {\r\n\r\n  var selection = window.getSelection();\r\n\r\n  var focusNode = selection.focusNode,\r\n      focusOffset = selection.focusOffset,\r\n      anchorOffset = selection.anchorOffset;\r\n\r\n  if (!focusNode) {\r\n    throw new Error('not selected');\r\n  }\r\n\r\n  // verify we have selection on the current element\r\n  if (!node.contains(focusNode)) {\r\n    throw new Error('not selected');\r\n  }\r\n\r\n  return {\r\n    start: Math.min(focusOffset, anchorOffset),\r\n    end: Math.max(focusOffset, anchorOffset)\r\n  };\r\n}\r\n\r\nfunction setSelection(node, selection) {\r\n\r\n  if (isContentEditable(node)) {\r\n    setContentEditableSelection(node, selection);\r\n  } else {\r\n    node.selectionStart = selection.start;\r\n    node.selectionEnd = selection.end;\r\n  }\r\n}\r\n\r\nfunction setContentEditableSelection(node, selection) {\r\n\r\n  var focusNode,\r\n      domRange,\r\n      domSelection;\r\n\r\n  focusNode = node.firstChild || node,\r\n  domRange = document.createRange();\r\n  domRange.setStart(focusNode, selection.start);\r\n  domRange.setEnd(focusNode, selection.end);\r\n\r\n  domSelection = window.getSelection();\r\n  domSelection.removeAllRanges();\r\n  domSelection.addRange(domRange);\r\n}\r\n\r\nfunction normalizeEndOfLineSequences(string) {\r\n  return string.replace(/\\r\\n|\\r|\\n/g, '\\n');\r\n}","import cmd from './cmd';\r\nimport translate from 'diagram-js/lib/i18n/translate';\r\n\r\nimport PropertiesPanel from './PropertiesPanel';\r\n\r\nexport default {\r\n  __depends__: [\r\n    cmd,\r\n    translate\r\n  ],\r\n  __init__: [ 'propertiesPanel' ],\r\n  propertiesPanel: [ 'type', PropertiesPanel ]\r\n};\r\n","export { default } from './lib';","function DrdAdapter(\r\n    canvas,\r\n    config,\r\n    eventBus,\r\n    propertiesPanel\r\n) {\r\n\r\n  eventBus.on('root.added', function(e) {\r\n    var element = e.element;\r\n\r\n    if (isImplicitRoot(element)) {\r\n      return;\r\n    }\r\n\r\n    propertiesPanel.update(element);\r\n  });\r\n\r\n  eventBus.on('selection.changed', function(e) {\r\n    var newElement = e.newSelection[0];\r\n\r\n    var rootElement = canvas.getRootElement();\r\n\r\n    if (!newElement) {\r\n      newElement = canvas.getRootElement();\r\n    }\r\n\r\n    if (isImplicitRoot(rootElement)) {\r\n      return;\r\n    }\r\n\r\n    propertiesPanel.update(newElement);\r\n  });\r\n\r\n  eventBus.on('elements.changed', function(e) {\r\n    var element = propertiesPanel.getCurrentElement();\r\n\r\n    if (element) {\r\n      if (e.elements.indexOf(element) !== -1) {\r\n        propertiesPanel.update(element);\r\n      }\r\n    }\r\n  });\r\n\r\n  eventBus.on('diagram.destroy', function() {\r\n    propertiesPanel.detach();\r\n  });\r\n\r\n  eventBus.on('attach', function() {\r\n\r\n    if (config.propertiesPanel && config.propertiesPanel.parent) {\r\n      propertiesPanel.attachTo(config.propertiesPanel.parent);\r\n    }\r\n  });\r\n\r\n  eventBus.on('detach', function() {\r\n    propertiesPanel.detach();\r\n  });\r\n}\r\n\r\nDrdAdapter.$inject = [\r\n  'canvas',\r\n  'config',\r\n  'eventBus',\r\n  'propertiesPanel'\r\n];\r\n\r\nexport default DrdAdapter;\r\n\r\n// helpers //////////\r\n\r\nfunction isImplicitRoot(element) {\r\n  return element && (element.isImplicit || element.id === '__implicitroot');\r\n}","import DrdAdapter from './DrdAdapter';\r\n\r\nexport default {\r\n  __init__: [ 'drdAdapter' ],\r\n  drdAdapter: [ 'type', DrdAdapter ]\r\n};"],"sourceRoot":""}