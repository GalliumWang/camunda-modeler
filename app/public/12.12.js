(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{288:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return u})),n.d(t,"f",(function(){return m}));var r=n(9);const o=[{title:"Default",fill:void 0,stroke:void 0},{title:"Blue",fill:"rgb(187, 222, 251)",stroke:"rgb(30, 136, 229)"},{title:"Orange",fill:"rgb(255, 224, 178)",stroke:"rgb(251, 140, 0)"},{title:"Green",fill:"rgb(200, 230, 201)",stroke:"rgb(67, 160, 71)"},{title:"Red",fill:"rgb(255, 205, 210)",stroke:"rgb(229, 57, 53)"},{title:"Purple",fill:"rgb(225, 190, 231)",stroke:"rgb(142, 36, 170)"}];function i({align:e,distribute:t}){return[{label:"Align Elements",enabled:e,submenu:["Left","Right","Center","Top","Bottom","Middle"].map(t=>({label:"Align "+t,enabled:e,action:"alignElements",options:{type:t.toLowerCase()}}))},{label:"Distribute Elements",enabled:t,submenu:[{label:"Distribute Horizontally",enabled:t,action:"distributeElements",options:{type:"horizontal"}},{label:"Distribute Vertically",enabled:t,action:"distributeElements",options:{type:"vertical"}}]}]}function a({setColor:e}){return[{label:"Set Color",enabled:e,submenu:o.map(t=>({label:""+t.title,enabled:e,action:"setColor",options:{fill:t.fill,stroke:t.stroke},icon:`resources/icons/${t.title.toLowerCase()}-circle.png`}))}]}function s({moveCanvas:e,moveToOrigin:t,moveSelection:n}){const o=[];return g(t)&&r.o.get(r.a)&&o.push({label:"Move Elements To Origin",accelerator:"CommandOrControl+Shift+O",enabled:t,action:"moveToOrigin"}),[...o,{label:"Move Canvas",enabled:e,submenu:["Up","Left","Down","Right"].reduce((t,n)=>[...t,{label:""+n,accelerator:"CommandOrControl + "+n,enabled:e,action:"moveCanvas",options:{direction:n.toLowerCase(),speed:50}},{label:n+" (Accelerated)",accelerator:"CommandOrControl + Shift + "+n,enabled:e,action:"moveCanvas",options:{direction:n.toLowerCase(),speed:200}}],[])},{label:"Move Selection",enabled:n,submenu:["Up","Left","Down","Right"].reduce((e,t)=>[...e,{label:""+t,accelerator:t,enabled:n,action:"moveSelection",options:{direction:t.toLowerCase()}},{label:t+" (Accelerated)",accelerator:"Shift + "+t,enabled:n,action:"moveSelection",options:{direction:t.toLowerCase(),accelerated:!0}}],[])}]}function c({copy:e,cut:t,paste:n}){return[{label:"Copy",accelerator:"CommandOrControl + C",enabled:e,action:"copy"},{label:"Cut",accelerator:"CommandOrControl + X",enabled:t,action:"cut"},{label:"Paste",accelerator:"CommandOrControl + V",enabled:n,action:"paste"}]}function l(e){return[{label:"Copy",role:"copy",enabled:e},{label:"Cut",role:"cut",enabled:e},{label:"Paste",role:"paste",enabled:e}]}function d({find:e}){return[{label:"Find",accelerator:"CommandOrControl+F",enabled:e,action:"find"}]}function h({inputActive:e,removeSelected:t,selectAll:n}){const r=[];return g(n)&&r.push({label:"Select All",accelerator:"CommandOrControl + A",enabled:n,action:"selectElements",role:e&&"selectAll"}),g(t)&&r.push({label:"Remove Selected",accelerator:"Delete",enabled:t,action:"removeSelection",role:e&&"delete"}),r}function p({bpmn:e,editLabel:t,globalConnectTool:n,handTool:r,lassoTool:o,spaceTool:i}){const a=[];return g(r)&&(a.push({label:"Hand Tool",accelerator:"H",enabled:r,action:"handTool"}),e&&r&&a.push({visible:!1,label:"I'm invisible!",custom:{key:" ",keypress:"activateHandtool",keyup:"deactivateHandtool"}})),g(o)&&a.push({label:"Lasso Tool",accelerator:"L",enabled:o,action:"lassoTool"}),g(i)&&a.push({label:"Space Tool",accelerator:"S",enabled:i,action:"spaceTool"}),g(n)&&a.push({label:"Global Connect Tool",accelerator:"C",enabled:n,action:"globalConnectTool"}),g(t)&&a.push({label:"Edit Label",accelerator:"E",enabled:t,action:"directEditing"}),a}function u({redo:e,undo:t}){return[{label:"Undo",accelerator:"CommandOrControl+Z",enabled:t,action:"undo"},{label:"Redo",accelerator:"CommandOrControl+Y",enabled:e,action:"redo"}]}function m(e){return[{label:"Undo",role:"undo",enabled:e},{label:"Redo",role:"redo",enabled:e}]}function g(e){return void 0!==e}},298:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(8),a=n.n(i),s=n(3),c=n(84),l=n(313),d=n.n(l);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=({styles:e={},...t})=>o.a.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:"9",height:"64"},t),o.a.createElement("path",{fillRule:"evenodd",d:"M.343 32L6 26.343V1.5a1.5 1.5 0 113 0v61a1.5 1.5 0 11-3 0V37.657L.343 32z"})),u=n(24);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return f}));const f={open:!1,width:280};class v extends r.PureComponent{constructor(e){super(e),g(this,"getStartWidth",()=>((this.props.layout||{}).propertiesPanel||f).width||f.width),g(this,"handleResizeStart",e=>{w(this.resizeHandlerRef.current,{dragging:!0});Object(c.a)(this.handlePanelResize)(e);const{open:t,width:n,fullWidth:r}=b(this.props);this.context={open:t,startWidth:n,fullWidth:r}}),g(this,"handleResize",()=>{if(this.containerRef.current.getBoundingClientRect().width>=C()){const e=y();this.containerRef.current.style.width=e+"px",this.changeLayout({propertiesPanel:{open:!0,width:e,fullWidth:!0}})}}),g(this,"handlePanelResize",(e,t)=>{const{x:n}=t;if(0===n)return;const{startWidth:r}=this.context,{open:o,width:i,fullWidth:a}=function(e,t){let n=t-e;const r=C();let o=n>280,i=n>r;o||(t<280&&e<-40?(n=280,o=!0):n=0);i&&(t>r&&e>40?(n=r,i=!1):n=y());return{open:o,fullWidth:i,width:n}}(n,r);this.context={...this.context,open:o,width:0===i?this.state.lastSetWidth:i,fullWidth:a};const s=o?i+"px":0;this.containerRef.current&&(this.containerRef.current.classList.toggle("open",o),this.containerRef.current.style.width=s),this.resizeHandlerRef.current&&function(e,t){const{open:n,fullWidth:r}=t;e.classList.remove("snapped-right"),e.classList.remove("snapped-left"),n||e.classList.add("snapped-right");r&&e.classList.add("snapped-left")}(this.resizeHandlerRef.current,this.context)}),g(this,"handleResizeEnd",()=>{w(this.resizeHandlerRef.current,{dragging:!1});const{open:e,width:t,fullWidth:n}=this.context;this.context={},e&&this.setState({lastSetWidth:t}),this.changeLayout({propertiesPanel:{open:e,width:t,fullWidth:n}})}),g(this,"handleToggle",()=>{const{layout:e={}}=this.props,{propertiesPanel:t={}}=e;this.changeLayout({propertiesPanel:{...f,...t,open:!t.open,width:this.state.lastSetWidth}})}),g(this,"changeLayout",(e={})=>{const{onLayoutChanged:t}=this.props;Object(s.isFunction)(t)&&t(e)}),this.handlePanelResize=Object(u.d)(this.handlePanelResize),this.containerRef=new o.a.createRef,this.resizeHandlerRef=new o.a.createRef,this.context={},this.state={lastSetWidth:this.getStartWidth()}}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{className:e,forwardedRef:t}=this.props,{open:n,width:r,fullWidth:i}=b(this.props);return o.a.createElement("div",{ref:this.containerRef,className:a()(d.a.PropertiesContainer,e,{open:n}),style:{width:r}},o.a.createElement("div",{className:"toggle",onClick:this.handleToggle,draggable:!0,onDragStart:this.handleResizeStart,onDragEnd:this.handleResizeEnd},!n&&o.a.createElement(p,null)),o.a.createElement("div",{ref:this.resizeHandlerRef,className:a()("resize-area",{"snapped-right":!n},{"snapped-left":i}),draggable:!0,onDragStart:this.handleResizeStart,onDragEnd:this.handleResizeEnd},o.a.createElement("div",{className:"resize-handle"})),o.a.createElement("div",{className:"properties-container",ref:t}))}}t.b=o.a.forwardRef((function(e,t){return o.a.createElement(v,m({},e,{forwardedRef:t}))}));function b(e){const t=(e.layout||{}).propertiesPanel||f,{open:n,fullWidth:r}=t;return{open:n,width:n?t.width:0,fullWidth:r}}function w(e,t){Object.keys(t).forEach(n=>{t[n]?e.classList.add(n):e.classList.remove(n)})}function y(){return window.innerWidth}function C(){return.8*y()}},307:function(e,t,n){"use strict";function r(e){return(e=e||document.activeElement)||(e=document.getSelection().focusNode),function(e){return"TEXTAREA"===e.tagName||"INPUT"===e.tagName||"true"===e.contentEditable}(e)}n.d(t,"a",(function(){return r}))},311:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(319),a=n.n(i),s=n(33);class c extends r.PureComponent{triggerAction(e){if("save"===e)return this.props.xml}render(){return o.a.createElement(s.c,{className:"content tab"},o.a.createElement("div",{className:a.a.ErrorTab},o.a.createElement("h1",null,"Ooops, this should not have happened."),o.a.createElement("p",null,"This tab crashed due to an unexpected error."),o.a.createElement("p",null,o.a.createElement("a",{href:"https://github.com/camunda/camunda-modeler/issues/new?template=BUG_REPORT.md"},"Report bug"))))}}var l=n(81),d=n(321),h=n.n(d),p=n(13);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends l.a{constructor(e){super(e),u(this,"sheetsChanged",(e,t)=>{let{activeSheet:n,sheets:r}=this.getCached();r||(r=[]);const o=n.provider,i=e.map(e=>({...e,provider:o}));r=r.filter(e=>e.provider!==o).concat(i).map(e=>({...e,order:e.order||0})).sort((e,t)=>e.order-t.order),t&&(n=r.find(e=>e.id===t.id)),this.setCached({sheets:r,activeSheet:n})}),u(this,"handleChanged",(e={})=>{const{onChanged:t}=this.props,n=this.isDirty(e);t({...e,dirty:n})}),u(this,"handleError",e=>{const{onError:t}=this.props;t(e)}),u(this,"handleWarning",e=>{const{onWarning:t}=this.props;t(e)}),u(this,"handleImport",(e,t)=>{t&&t.length&&(t.forEach(e=>{this.handleWarning(e)}),e||this.displayImportWarningsNotification(t)),e&&(this.openFallback(),this.showImportErrorDialog(e),this.handleError(e))}),u(this,"handleContentUpdated",e=>{this.setCached({lastXML:e})}),u(this,"handleContextMenu",(e,t)=>{const{activeSheet:n}=this.getCached(),{onContextMenu:r}=this.props;"function"==typeof r&&r(e,n.type,t)}),u(this,"handleLayoutChanged",e=>{const{onLayoutChanged:t}=this.props;t(e)}),u(this,"triggerAction",async(e,t)=>{const n=this.editorRef.current;if("save"===e){const e=await n.getXML();return this.setCached({lastXML:e}),e}if("export-as"===e){const{fileType:e}=t;return await n.exportAs(e)}return n.triggerAction(e,t)}),u(this,"switchSheet",async e=>{const{activeSheet:t}=this.getCached();if(e===t)return;if(e.provider===t.provider)return this.setCached({activeSheet:e});const n=await this.editorRef.current.getXML();this.setCached({activeSheet:e,lastXML:n}),this.props.onAction("emit-event",{type:"tab.activeSheetChanged",payload:{activeSheet:e}})}),u(this,"getDefaultSheets",()=>{const{providers:e}=this.props;return e.map(e=>{const{defaultName:t,type:n}=e;return{id:n,name:t,isDefault:!0,provider:e,type:n}})}),u(this,"isUnsaved",e=>{const{file:t}=e;return t&&!t.path}),u(this,"onAction",(e,t)=>{const{onAction:n,tab:r}=this.props;if("close-tab"===e)return n("close-tab",{tabId:r.id});if("lint-tab"===e){const{contents:e}=t;return n("lint-tab",{contents:e,tab:r})}return n(e,t)}),this.editorRef=o.a.createRef();let{sheets:t}=this.getCached();t||(t=this.getDefaultSheets(),this.setCached({sheets:t,activeSheet:t[0]}))}isDirty(e={}){const{dirty:t}=e;if(t)return!0;const{xml:n}=this.props,{lastXML:r}=this.getCached();return!!r&&v(r,n)}async showImportErrorDialog(e){const{onAction:t,tab:n}=this.props,{name:r,type:o}=n,{button:i}=await t("show-dialog",function({error:e,name:t,type:n}){return{type:"error",title:"Import Error",message:"Ooops!",buttons:[{id:"close",label:"Close"},{id:"ask-in-forum",label:"Ask in Forum"}],detail:[e.message,"",'Do you believe "'+t+'" is valid '+n.toUpperCase()+" diagram?","","Post this error with your diagram in our forum for help."].join("\n")}}({error:e,name:r,type:o}));"ask-in-forum"===i&&t("open-external-url",{url:"https://forum.camunda.org/c/modeler"})}displayImportWarningsNotification(e){this.props.onAction("display-notification",{type:"warning",title:`Imported with ${e.length} warning${1!==e.length?"s":""}`,content:"See further details in the log.",duration:0})}openFallback(){let{sheets:e}=this.getCached();e||(e=this.getDefaultSheets());const t=e.find(e=>{const{provider:t}=e;return t.isFallback});t&&this.setCached({activeSheet:t})}componentDidUpdate(e){const{xml:t}=this.props;v(e.xml,t)&&this.setCached({lastXML:t})}render(){let{activeSheet:e,sheets:t,lastXML:n}=this.getCached(),{id:r,xml:i,layout:a,tab:c}=this.props;t||(t=this.getDefaultSheets()),e||(e=t[0]);const l=e.provider.editor,d=this.isUnsaved(c);return o.a.createElement("div",{className:h.a.MultiSheetTab},o.a.createElement(s.c,{className:"content tab"},o.a.createElement(l,{ref:this.editorRef,id:`${r}-${e.provider.type}`,xml:n||i,isNew:d,layout:a,activeSheet:e,onSheetsChanged:this.sheetsChanged,onContextMenu:this.handleContextMenu,onAction:this.onAction,onChanged:this.handleChanged,onContentUpdated:this.handleContentUpdated,onError:this.handleError,onImport:this.handleImport,onLayoutChanged:this.handleLayoutChanged,onModal:this.props.onModal,getConfig:this.props.getConfig,setConfig:this.props.setConfig,getPlugins:this.props.getPlugins,onWarning:this.handleWarning,linting:c.linting})),o.a.createElement(f,{sheets:t,activeSheet:e,onSelect:this.switchSheet}))}}var g=Object(l.b)(Object(l.c)(m));function f(e){const{sheets:t,activeSheet:n,onSelect:r}=e;if(t.length<2)return null;const i=t.map(e=>e.provider).find(e=>e.isFallback),a=n.provider===i;return o.a.createElement(p.a,{slot:"status-bar__file",group:"0_sheet"},o.a.createElement("button",{className:"btn"+(a?" btn--active":""),onClick:()=>r(t.find(e=>e!==n)),title:"Toggle "+i.defaultName},i.defaultName))}function v(e,t){return e!==t}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){class n extends r.PureComponent{static getDerivedStateFromError(e){return{hasError:!0}}constructor(e){super(e),this.state={},this.tabRef=o.a.createRef()}triggerAction(e,t){return this.tabRef.current.triggerAction(e,t)}componentDidCatch(e,t){this.props.onError(e,t)}componentDidMount(){this.props.onShown()}render(){const{tab:e,...n}=this.props,{hasError:r}=this.state,i=r?c:g;return o.a.createElement(i,b({id:e.id,tab:e},n,{xml:e.file.contents,ref:this.tabRef,providers:t}))}}return n.displayName=e,n}n.d(t,"a",(function(){return w}))},313:function(e,t,n){var r=n(314);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,o);r.locals&&(e.exports=r.locals)},314:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,".pVOHa42lryRKQkEnU7GYd {\n  position: relative;\n  outline: none;\n  background: var(--color-grey-225-10-97);\n}\n.pVOHa42lryRKQkEnU7GYd.open {\n  outline: solid 1px var(--color-grey-225-10-75);\n}\n.pVOHa42lryRKQkEnU7GYd.open > .toggle {\n  display: none;\n}\n.pVOHa42lryRKQkEnU7GYd .toggle {\n  position: absolute;\n  left: -23px;\n  top: calc(50% - 31px);\n  padding: 7px 10px;\n  transform-origin: top left;\n  z-index: 12;\n  fill: var(--color-grey-225-10-85);\n}\n.pVOHa42lryRKQkEnU7GYd .toggle:hover {\n  fill: var(--color-grey-225-10-75);\n}\n.pVOHa42lryRKQkEnU7GYd .toggle:hover + .resize-area .resize-handle {\n  background-color: var(--color-blue-205-100-50);\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area {\n  cursor: ew-resize;\n  z-index: 11;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  transform: translateX(-50%);\n  width: 16px;\n  user-select: none;\n  transition: 0s border;\n  display: flex;\n  justify-content: center;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-right {\n  transform: translateX(-100%);\n  cursor: w-resize;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-right > .resize-handle {\n  margin-left: auto;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-left {\n  transform: translateX(-6px);\n  cursor: e-resize;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.snapped-left > .resize-handle {\n  margin-right: auto;\n  transform: translateX(6px);\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area:hover > .resize-handle {\n  background-color: var(--color-blue-205-100-50);\n  transition-delay: 200ms;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.dragging > .resize-handle {\n  background-color: var(--color-blue-205-100-50);\n}\n.pVOHa42lryRKQkEnU7GYd .resize-area.dragging + .toggle {\n  opacity: 0;\n}\n.pVOHa42lryRKQkEnU7GYd .resize-handle {\n  width: 3px;\n}\n.pVOHa42lryRKQkEnU7GYd .properties-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-y: auto;\n}\n.pVOHa42lryRKQkEnU7GYd .bio-properties-panel {\n  --font-family: inherit;\n  --font-family-monospace: inherit;\n  background: var(--color-white);\n}\n",""]),t.locals={PropertiesContainer:"pVOHa42lryRKQkEnU7GYd"}},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(359),o=n.n(r);const i=["image/png","image/jpeg"],a=/^data:((?:\w+\/(?:(?!;).)+)?)((?:;[\w\W]*?[^;])*),(.+)$/;function s(e,t){const n="image/"+e;if(-1===i.indexOf(n))throw new Error("<"+e+"> is an unknown type for converting svg to image");const r=t;let s="";for(let e=3;e>=1;e-=1){let i=document.createElement("canvas");t=r.replace(/width="([^"]+)" height="([^"]+)"/,(function(t,n,r){return`width="${parseInt(n,10)*e}" height="${parseInt(r,10)*e}"`})),o()(i,t);let c=i.getContext("2d");if(c.globalCompositeOperation="destination-over",c.fillStyle="white",c.fillRect(0,0,i.width,i.height),s=i.toDataURL(n),a.test(s))return s}throw new Error("Error happened generating image. Diagram size is too big.")}},317:function(e,t,n){var r=n(318);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,o);r.locals&&(e.exports=r.locals)},318:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._1ChtJhegF-Ztl9BVDqk_y9 {\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  overflow: auto;\n}\n._1ChtJhegF-Ztl9BVDqk_y9 .content {\n  flex: 1;\n  position: relative;\n}\n._1ChtJhegF-Ztl9BVDqk_y9 .CodeMirror {\n  height: 100%;\n  font-size: 13px;\n  font-family: var(--font-family-monospace);\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n",""]),t.locals={XMLEditor:"_1ChtJhegF-Ztl9BVDqk_y9"}},319:function(e,t,n){var r=n(320);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,o);r.locals&&(e.exports=r.locals)},320:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._2k62kv7m_TXPihE3sHxqHw {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  flex: 1;\n}\n._2k62kv7m_TXPihE3sHxqHw h1 {\n  font-size: 36px;\n  font-weight: normal;\n  color: var(--color-grey-225-10-15);\n}\n._2k62kv7m_TXPihE3sHxqHw p {\n  font-size: 16px;\n  max-width: 60%;\n  text-align: justify;\n}\n",""]),t.locals={ErrorTab:"_2k62kv7m_TXPihE3sHxqHw"}},321:function(e,t,n){var r=n(322);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,o);r.locals&&(e.exports=r.locals)},322:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._1VwBlzHvgd7iFQohndhgcr {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  border: none;\n}\n._1VwBlzHvgd7iFQohndhgcr > .links {\n  flex: initial;\n}\n",""]),t.locals={MultiSheetTab:"_1VwBlzHvgd7iFQohndhgcr"}},329:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(81),a=n(290),s=n.n(a);n(363),n(341),n(342),n(343),n(334),n(335),n(344),n(345);var c=n(317),l=n.n(c),d=n(288);var h=n(3);class p extends i.a{constructor(e){var t,n,r;super(e),r=()=>{const{onChanged:e}=this.props,{editor:t}=this.getCached(),n=t.doc.historySize(),r=(o={canRedo:!!n.redo,canUndo:!!n.undo},[Object(d.j)(o),[{label:"Cut",accelerator:"CmdOrCtrl+X",role:"cut"},{label:"Copy",accelerator:"CmdOrCtrl+C",role:"copy"},{label:"Paste",accelerator:"CmdOrCtrl+V",role:"paste"}],[{label:"Find",accelerator:"CommandOrControl+F",action:"find"},{label:"Find Next",accelerator:"Shift+CommandOrControl+N",action:"findNext"},{label:"Find Previous",accelerator:"Shift+CommandOrControl+P",action:"findPrev"},{label:"Replace",accelerator:"Shift+CommandOrControl+F",action:"replace"}]]);var o;const i={canExport:!1,dirty:this.isDirty(),redo:!!n.redo,undo:!!n.undo,editable:!0,searchable:!0},a=[];"function"==typeof e&&e({...i,editMenu:r,windowMenu:a}),this.setState({...i})},(n="handleChanged")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.state={},this.ref=o.a.createRef()}componentDidMount(){const{editor:e}=this.getCached();e.attachTo(this.ref.current),e.on("change",this.handleChanged),this.handleChanged(),this.checkImport()}componentWillUnmount(){const{editor:e}=this.getCached();e.detach(),e.off("change",this.handleChanged)}componentDidUpdate(e){m(e.xml,this.props.xml)&&this.checkImport(),function(e,t){return e.cachedState!==t.cachedState}(e,this.props)&&this.handleChanged()}triggerAction(e){const{editor:t}=this.getCached();"undo"===e&&t.doc.undo(),"redo"===e&&t.doc.redo(),"find"===e&&t.execCommand("findPersistent"),"findNext"===e&&t.execCommand("findNext"),"findPrev"===e&&t.execCommand("findPrev"),"replace"===e&&t.execCommand("replace")}checkImport(){const{xml:e}=this.props,{editor:t,lastXML:n}=this.getCached();if(m(n,e)){t.importXML(e);const n=t._stackIdx;this.setCached({lastXML:e,stackIdx:n})}t.refresh()}isDirty(){const{editor:e,stackIdx:t}=this.getCached();return e._stackIdx!==t}getXML(){const{editor:e}=this.getCached(),t=e._stackIdx,n=e.getValue();return this.setCached({lastXML:n,stackIdx:t}),n}render(){return o.a.createElement("div",{className:l.a.XMLEditor},o.a.createElement("div",{className:"content",ref:this.ref}))}static createCachedState(){const e=function(e){var t=this,n=s()((function(e){t=e}),{autoCloseTags:!0,dragDrop:!0,allowDropFileTypes:["text/plain"],lineWrapping:!0,lineNumbers:!0,mode:{name:"application/xml",htmlMode:!1},tabSize:2});return n.attachTo=function(e){e.appendChild(t),this.refresh()},n.detach=function(){t.parentNode&&t.parentNode.removeChild(t)},n.importXML=function(e){this.setValue(e),this.doc.clearHistory()},n.destroy=function(){},Object.defineProperty(n,"_stackIdx",{get(){return this.doc.historySize().undo}}),n}(),t=e._stackIdx;return{__destroy:()=>{e.destroy()},editor:e,lastXML:null,stackIdx:t}}}var u=Object(i.b)(Object(i.c)(p));function m(e,t){return g(e)!==g(t)}function g(e){return Object(h.isString)(e)?e.trim():e}n.d(t,"a",(function(){return u}))},330:function(e,t,n){"use strict";function r(e,t){e.register("saveTab.start",(function(){var e=t.get("directEditing",!1);e&&e.isActive()&&e.complete()}))}r.$inject=["editorActions","injector"];t.a={__init__:["completeDirectEditing"],completeDirectEditing:["type",r]}},331:function(e,t,n){"use strict";var r=n(18);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i{constructor(e,t,n){o(this,"_addEventListeners",()=>{const e=this._getContainer();e.addEventListener("focusin",this.handleFocusin),e.addEventListener("focusout",this.handleFocusout),e.addEventListener("keydown",this.handleKeydown)}),o(this,"_removeEventListeners",()=>{const e=this._getContainer();e.removeEventListener("focusin",this.handleFocusin),e.removeEventListener("focusout",this.handleFocusout),e.removeEventListener("keydown",this.handleKeydown)}),o(this,"handleFocusin",()=>{this._eventBus.fire("propertiesPanel.focusin")}),o(this,"handleFocusout",()=>{this._eventBus.fire("propertiesPanel.focusout")}),o(this,"handleKeydown",e=>{const t=this._commandStack;(function(e){return Object(r.a)(e)&&!Object(r.c)(e)&&Object(r.b)(["z","Z"],e)})(e)&&(t.canUndo()&&t.undo(),e.preventDefault()),function(e){return Object(r.a)(e)&&(Object(r.b)(["y","Y"],e)||Object(r.b)(["z","Z"],e)&&Object(r.c)(e))}(e)&&(t.canRedo()&&t.redo(),e.preventDefault())}),this._commandStack=e,this._eventBus=t,this._propertiesPanel=n,t.on("propertiesPanel.attach",this._addEventListeners),t.on("propertiesPanel.detach",this._removeEventListeners)}_getContainer(){return this._propertiesPanel._container}}i.$inject=["commandStack","eventBus","propertiesPanel"];t.a={__init__:["propertiesPanelKeyboardBindings"],propertiesPanelKeyboardBindings:["type",i]}},831:function(e,t,n){var r=n(832);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,o);r.locals&&(e.exports=r.locals)},832:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,".KmMTZSKn_rFM2wpaZW72K {\n  margin: 0 10px 10px 10px;\n  position: relative;\n  background-color: var(--color-grey-225-10-97);\n  border: solid 1px var(--color-grey-225-10-75);\n  border-radius: 3px;\n}\n.KmMTZSKn_rFM2wpaZW72K:not(.open) {\n  width: 0;\n  visibility: hidden;\n  margin-right: 0;\n}\n.KmMTZSKn_rFM2wpaZW72K .resize-handle {\n  cursor: ew-resize;\n  z-index: 11;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: -3px;\n  width: 6px;\n  user-select: none;\n}\n.KmMTZSKn_rFM2wpaZW72K .toggle {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 11;\n  opacity: 0.5;\n}\n.KmMTZSKn_rFM2wpaZW72K .toggle:before {\n  content: '\\E80A';\n  font-family: 'app';\n  font-size: 14px;\n}\n.KmMTZSKn_rFM2wpaZW72K .toggle:hover {\n  opacity: 1;\n  color: var(--color-blue-205-100-45);\n}\n.KmMTZSKn_rFM2wpaZW72K .overview-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element .djs-outline {\n  display: none;\n}\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.open .djs-visual rect,\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.can-open:hover .djs-visual rect {\n  stroke: var(--color-blue-205-100-50) !important;\n  fill: var(--color-blue-205-100-95) !important;\n}\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.open .djs-visual text,\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-element.can-open:hover .djs-visual text {\n  fill: var(--color-blue-205-100-50) !important;\n}\n.KmMTZSKn_rFM2wpaZW72K .overview-container .dmn-drd-container .djs-overlay .drill-down-overlay {\n  color: var(--color-grey-225-10-15);\n  background: transparent;\n  pointer-events: none;\n}\n",""]),t.locals={OverviewContainer:"KmMTZSKn_rFM2wpaZW72K"}},881:function(e,t,n){var r=n(882);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,o);r.locals&&(e.exports=r.locals)},882:function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"._2aFR7jbykokuW2p96jM1_s {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  flex-direction: column;\n  /**\n   * Fix properties tabbing\n   */\n}\n._2aFR7jbykokuW2p96jM1_s .dmn-drd-container {\n  --drd-font-family-monospace: var(--font-family-monospace);\n}\n._2aFR7jbykokuW2p96jM1_s .dmn-decision-table-container {\n  --decision-table-font-family: var(--font-family);\n}\n._2aFR7jbykokuW2p96jM1_s .dmn-literal-expression-container {\n  --literal-expression-font-family: var(--font-family);\n  --literal-expression-font-family-monospace: var(--font-family-monospace);\n}\n._2aFR7jbykokuW2p96jM1_s :not(.top) + .bottom .dmn-decision-table-container,\n._2aFR7jbykokuW2p96jM1_s :not(.top) + .bottom .dmn-literal-expression-container {\n  display: none;\n}\n._2aFR7jbykokuW2p96jM1_s > .top {\n  padding: 10px;\n}\n._2aFR7jbykokuW2p96jM1_s > .top .button {\n  background: var(--color-white);\n  padding: 8px;\n  border: solid 1px var(--color-grey-225-10-75);\n  border-radius: 2px;\n  font-size: 14px;\n  color: var(--color-grey-225-10-15);\n  font-weight: bold;\n  font-family: inherit;\n  outline: none;\n  margin-right: 10px;\n}\n._2aFR7jbykokuW2p96jM1_s > .top .button:last-child {\n  margin-right: 0;\n}\n._2aFR7jbykokuW2p96jM1_s > .top .button:hover {\n  background-color: var(--color-grey-225-10-97);\n}\n._2aFR7jbykokuW2p96jM1_s > .bottom {\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n}\n._2aFR7jbykokuW2p96jM1_s .diagram {\n  flex: 1;\n  position: relative;\n}\n._2aFR7jbykokuW2p96jM1_s .diagram:not(.drd) {\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n._2aFR7jbykokuW2p96jM1_s .djs-overlay .drill-down-overlay {\n  padding: 0px 5px 2px;\n}\n._2aFR7jbykokuW2p96jM1_s .djs-container > .dmn-definitions {\n  display: none;\n}\n._2aFR7jbykokuW2p96jM1_s .properties {\n  flex: none;\n}\n._2aFR7jbykokuW2p96jM1_s .properties .toggle {\n  top: 350px;\n}\n._2aFR7jbykokuW2p96jM1_s .bpp-properties-tabs-links > .bpp-active a {\n  position: relative;\n}\n._2aFR7jbykokuW2p96jM1_s .bpp-properties-tabs-links > .bpp-active a:before {\n  content: '';\n  z-index: 5;\n  bottom: -2px;\n  left: 0;\n  right: 0;\n  border-bottom: solid 3px var(--color-grey-225-10-95);\n  position: absolute;\n}\n",""]),t.locals={DmnEditor:"_2aFR7jbykokuW2p96jM1_s"}},938:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(3),a=n(8),s=n.n(a),c=n(33),l=n(24);var d=n(81),h=n(84),p=n(831),u=n.n(p);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={open:!0,width:350};class v extends r.PureComponent{constructor(e){super(e),g(this,"handleResizeStart",e=>{Object(h.a)(this.handleResize)(e);const{open:t,width:n}=w(this.props);this.context={open:t,startWidth:n}}),g(this,"handleResize",(e,t)=>{const{x:n}=t;if(0===n)return;const{startWidth:r}=this.context,{open:o,width:i}=function(e,t){let n=Math.min(t+e,650);const r=n>=150;r||(n=f.width);return{open:r,width:n}}(n,r);this.context={...this.context,open:o,width:i},this.ref.current&&(this.ref.current.classList.toggle("open",o),this.ref.current.style.width=(o?i:0)+"px")}),g(this,"handleResizeEnd",()=>{const{open:e,width:t}=this.context;this.context={},this.changeLayout({dmnOverview:{open:e,width:t}})}),g(this,"handleToggle",()=>{const{layout:e}=this.props||{},t=e.dmnOverview||f;this.changeLayout({dmnOverview:{...t,open:!1}})}),g(this,"changeLayout",(e={})=>{const{onLayoutChanged:t}=this.props;Object(i.isFunction)(t)&&t(e)}),this.handleResize=Object(l.d)(this.handleResize),this.ref=new o.a.createRef,this.context={}}render(){const{className:e,forwardedRef:t}=this.props,{open:n,width:r}=w(this.props);return o.a.createElement("div",{ref:this.ref,className:s()(u.a.OverviewContainer,e,{open:n}),style:{width:r}},n&&o.a.createElement("div",{className:"resize-handle",draggable:!0,onDragStart:this.handleResizeStart,onDragEnd:this.handleResizeEnd}),n&&o.a.createElement("div",{className:"toggle",onClick:this.handleToggle}),o.a.createElement("div",{className:"overview-container",ref:t}))}}var b=o.a.forwardRef((function(e,t){return o.a.createElement(v,m({},e,{forwardedRef:t}))}));function w(e){const t=(e.layout||{}).dmnOverview||f,{open:n}=t;return{open:n,width:n?t.width:0}}var y=n(298),C=n(904),O=n(555),x=n(552),k=n(265),j=n(445);class E extends O.a{_getViewProviders(){return[{id:"drd",constructor:x.a,opens:e=>Object(k.c)(e,"dmn:Definitions")&&Object(j.a)(e)}]}}var _=n(561),M=n(562),S=n(394),R=n(330),L=n(911),P=n(906),D=n(916),z=n(331),W=n(332),A=n(860),T=n(537);function F(e,t){e.invoke(T.a,this,{"config.keyboard":K(t)})}function K(e){return{get bindTo(){return e._container}}}Object(A.inherits)(F,T.a),F.$inject=["injector","decisionTable"];var V={__depends__:[W.a],__init__:["keyboard"],keyboard:["type",F]},I=n(9),N=n(527),X=n(862);function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z{constructor(e,t,n){let r;U(this,"canOpenDrgElement",e=>{const{businessObject:t}=e,n=!!t.decisionLogic;return Object(k.d)(e,["dmn:Decision","dmn:LiteralExpression"])&&n}),U(this,"centerViewbox",e=>{const t=this._canvas.viewbox(),n=Object(X.a)(e),r={x:n.x+n.width/2-t.outer.width/2,y:n.y+n.height/2-t.outer.height/2,width:t.outer.width,height:t.outer.height};this._canvas.viewbox(r),this._canvas.zoom(t.scale)}),this._canvas=e,n.on("import.done",()=>{if(t.forEach(t=>{this.canOpenDrgElement(t)&&e.addMarker(t,"can-open")}),r){const n=t.get(r);n&&e.addMarker(n,"open")}}),n.on("overviewOpen",()=>{if(r){const e=t.get(r);e&&this.centerViewbox(e)}}),n.on("drgElementOpened",({id:n})=>{let o;r&&(o=t.get(r),o&&e.removeMarker(o,"open")),r=n,o=t.get(r),o&&e.addMarker(o,"open")}),n.on("element.click",({element:e})=>{if(!this.canOpenDrgElement(e))return;const{id:t}=e;n.fire("openDrgElement",{id:t})})}}Z.$inject=["canvas","elementRegistry","eventBus"];var H={__init__:["openDrgElement"],openDrgElement:["type",Z]},B=n(266),G=n.n(B),Y=n(25),q=n(269),Q=n(863),$=n(480);function J(e,t,n,r){Q.a.call(this,e);var o={};function a(e){return"url(#"+o[e].id+")"}function s(e){function t(t,n){var r=Object(i.assign)({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none",fill:"#666"},n.attrs),a=n.ref||{x:0,y:0},s=n.scale||1;"none"===r.strokeDasharray&&(r.strokeDasharray=[1e4,1]);var c=Object(q.create)("marker");Object(q.attr)(n.element,r),Object(q.append)(c,n.element),Object(q.attr)(c,{id:t,viewBox:"0 0 20 20",refX:a.x,refY:a.y,markerWidth:20*s,markerHeight:20*s,orient:"auto"});var l=Object(Y.query)("defs",e);return l||(l=Object(q.create)("defs"),Object(q.append)(e,l)),Object(q.append)(l,c),function(e,t){o[e]=t}(t,c)}var n=Object(q.create)("path");Object(q.attr)(n,{d:"M 11 5 L 1 10 L 11 15"}),t("association-start",{element:n,attrs:{fill:"none",stroke:"#666",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var r=Object(q.create)("path");Object(q.attr)(r,{d:"M 1 5 L 11 10 L 1 15"}),t("association-end",{element:r,attrs:{fill:"none",stroke:"#666",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var a=Object(q.create)("path");Object(q.attr)(a,{d:"M 1 5 L 11 10 L 1 15 Z"}),t("information-requirement-end",{element:a,ref:{x:11,y:10},scale:1});var s=Object(q.create)("path");Object(q.attr)(s,{d:"M 1 3 L 11 10 L 1 17"}),t("knowledge-requirement-end",{element:s,attrs:{fill:"none",stroke:"#666",strokeWidth:2},ref:{x:11,y:10},scale:.8});var c=Object(q.create)("circle");Object(q.attr)(c,{cx:3,cy:3,r:3}),t("authority-requirement-end",{element:c,ref:{x:3,y:3},scale:.9})}function c(e,t,r){return Object(i.isArray)(t)||(r=t,t=[]),n.style(t||[],Object(i.assign)(r,e||{}))}function l(e,t,n,r,o,a){Object(i.isObject)(o)&&(a=o,o=0),o=o||0,a=c(a,{stroke:"#666",strokeWidth:2,fill:"#fafafa"});var s=Object(q.create)("rect");return Object(q.attr)(s,{x:o,y:o,width:t-2*o,height:n-2*o,rx:r,ry:r}),Object(q.attr)(s,a),Object(q.append)(e,s),s}function d(e,t,n){var o=r.createText(t||"",Object(i.assign)({style:{fill:"#666"}},n||{}));return Object(Y.attr)(o,"class","djs-label"),Object(q.append)(e,o),o}function h(e,t,n){return d(e,Object(k.b)(t),Object(i.assign)({box:t,padding:5},n||{}))}function p(e,t,n){n=c(n,["no-fill"],{strokeWidth:2,stroke:"#666"});var r=Object(q.create)("path");return Object(q.attr)(r,{d:t}),Object(q.attr)(r,n),Object(q.append)(e,r),r}var u={"dmn:Decision":function(e,t,n){n=n||{};const{businessObject:r}=t,{decisionLogic:o}=r;o&&(n.stroke="#000");var i=l(e,t.width,t.height,0,n);return h(e,t,{align:"center-middle",style:{fill:n.stroke}}),i},"dmn:KnowledgeSource":function(e,n,r){var o=p(e,t.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:.075}}),{strokeWidth:2,fill:"#fafafa",stroke:"#666"});return h(e,n,{align:"center-middle"}),o},"dmn:BusinessKnowledgeModel":function(e,n,r){var o=p(e,t.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:.3}}),{strokeWidth:2,fill:"#fafafa",stroke:"#666"});return h(e,n,{align:"center-middle"}),o},"dmn:InputData":function(e,t,n){var r=l(e,t.width,t.height,22,n);return h(e,t,{align:"center-middle"}),r},"dmn:TextAnnotation":function(e,n,r){var o=l(e,n.width,n.height,0,0,{fill:"none",stroke:"none"});return p(e,t.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:0}})),d(e,ee(n).text||"",{box:n,align:"left-top",padding:5}),o},"dmn:Association":function(e,t,n){var r=ee(t);return n=Object(i.assign)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},n||{}),"One"!==r.associationDirection&&"Both"!==r.associationDirection||(n.markerEnd=a("association-end")),"Both"===r.associationDirection&&(n.markerStart=a("association-start")),m(e,t.waypoints,n)},"dmn:InformationRequirement":function(e,t,n){return n=Object(i.assign)({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:a("information-requirement-end")},n||{}),m(e,t.waypoints,n)},"dmn:KnowledgeRequirement":function(e,t,n){return n=Object(i.assign)({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:a("knowledge-requirement-end")},n||{}),m(e,t.waypoints,n)},"dmn:AuthorityRequirement":function(e,t,n){return n=Object(i.assign)({strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:a("authority-requirement-end")},n||{}),m(e,t.waypoints,n)}};function m(e,t,n){n=c(n,["no-fill"],{stroke:"#666",strokeWidth:2,fill:"none"});var r=Object($.a)(t,n);return Object(q.append)(e,r),r}this.canRender=function(e){return Object(k.c)(e,"dmn:DMNElement")||Object(k.c)(e,"dmn:InformationRequirement")||Object(k.c)(e,"dmn:KnowledgeRequirement")||Object(k.c)(e,"dmn:AuthorityRequirement")},this.drawShape=function(e,t){var n=u[t.type];return n?n(e,t):Q.a.prototype.drawShape.apply(this,[e,t])},this.drawConnection=function(e,t){var n=t.type,r=u[n];return r?r(e,t):Q.a.prototype.drawConnection.apply(this,[e,t])},e.on("canvas.init",(function(e){s(e.svg)}))}function ee(e){return e.businessObject}G()(J,Q.a),J.$inject=["eventBus","pathMap","styles","textRenderer"];var te={__init__:["drdRenderer"],drdRenderer:["type",J]};n(864),n(866),n(869),n(871),n(873),n(875),n(877),n(879);function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=["value",null],oe={poweredBy:re};class ie extends C.a{constructor(e={}){const{moddleExtensions:t,drd:n,decisionTable:r,literalExpression:o,exporter:i,overview:a,...s}=e;super({...s,drd:ae(n,[I.o.get(I.a)?_.a:M.a,L.a,P.a,D.a,z.a]),decisionTable:ae(r,[V,oe,{viewDrd:re}]),literalExpression:ae(o,[oe,{viewDrd:re}]),moddleExtensions:{camunda:N,...t||{}}}),ne(this,"_updateOverview",()=>{if(this._overview)return this.once("saveXML.start",2500,()=>!1),this.saveXML().then(({xml:e})=>this.showOverview(e)).catch(e=>{console.error(e)})}),ne(this,"_handleOverviewImport",e=>{this._overview&&this._overview.getActiveViewer()&&(e?console.error(e):this._overview.getActiveViewer().get("canvas").zoom(.66))}),ne(this,"attachOverviewTo",e=>{this.detachOverview();const t=this._overview.getActiveViewer();t&&(this._emit("attachOverview"),e.appendChild(t._container),t.get("canvas").resized())}),ne(this,"detachOverview",()=>{const e=this._overview.getActiveViewer();if(!e)return;const t=e._container;t.parentNode&&(this._emit("detachOverview"),t.parentNode.removeChild(t))}),this.on("viewer.created",({viewer:e})=>{e.on("commandStack.changed",e=>{this._emit("view.contentChanged",e)}),e.on("selection.changed",e=>{this._emit("view.selectionChanged",e)}),e.on(["directEditing.activate","directEditing.deactivate"],e=>{this._emit("view.directEditingChanged",e)}),e.on("error",({error:t})=>{this._emit("error",{viewer:e,error:t})}),e.on("propertiesPanel.focusin",e=>{this._emit("propertiesPanel.focusin",e)}),e.on("propertiesPanel.focusout",e=>{this._emit("propertiesPanel.focusout",e)})}),Object(S.a)(i,this),this._addOverview(a)}showOverview(e){return this._overview.importXML(e).then(()=>{},e=>e).then(e=>this._handleOverviewImport(e))}getStackIdx(){const e=this.getActiveViewer();if(!e)return null;const t=e.get("commandStack",!1);return t?t._stackIdx:null}_addOverview(e={}){const{layout:t}=e,n=this._overview=new E({drd:{additionalModules:[H,te],openDrgElement:{layout:t}}});let r,o;this.on("import.parse.start",({xml:e})=>{this.showOverview(e)}),this.on("views.changed",500,({activeView:e})=>{r=e.type}),this.on("views.changed",({activeView:e})=>{if(r===e.type)return;o&&o();const t=()=>{o(),this.once("saveXML.done",i),this._updateOverview()},n=this._viewers[e.type].get("eventBus",!1),i=()=>{n.on("commandStack.changed",t)};o=()=>{n.off("commandStack.changed",t)},i()}),this.on("views.changed",({activeView:e})=>{if("drd"!==e.type){const t=n.getActiveViewer();t&&t.get("eventBus").fire("drgElementOpened",{id:e.element.id})}}),this.on("overviewOpen",()=>{const e=this._overview.getActiveViewer();e&&e.get("eventBus").fire("overviewOpen")}),n.once("import.done",()=>{const e=n.getActiveViewer();e&&e.on("openDrgElement",({id:e})=>{const t=this.getViews().find(({element:t})=>t.id===e);t&&"drd"!==t.type&&this.open(t)})})}}function ae(e={},t){const n=e.additionalModules||[];return{...e,additionalModules:[R.a,...n,...t]}}var se=n(307),ce=n(288);function le({hasSelection:e,inputActive:t}){return[[{label:"Select Cell Above",accelerator:"Shift + Enter",enabled:e,action:"selectCellAbove",role:t&&"selectCellAbove"},{label:"Select Cell Below",accelerator:"Enter",enabled:e,action:"selectCellBelow",role:t&&"selectCellBelow"}]]}function de({zoom:e}){return e?[{label:"Zoom In",accelerator:"CommandOrControl+=",action:"zoomIn"},{label:"Zoom Out",accelerator:"CommandOrControl+-",action:"zoomOut"},{label:"Zoom to Actual Size",accelerator:"CommandOrControl+0",action:"resetZoom"},{label:"Zoom to Fit Diagram",accelerator:"CommandOrControl+1",action:"zoomFit"},{type:"separator"}]:[]}function he({propertiesPanel:e}){return e?[{label:"Toggle Properties Panel",accelerator:"CommandOrControl+P",action:"toggleProperties"},{label:"Reset Properties Panel",accelerator:"CommandOrControl+Shift+P",action:"resetProperties"}]:[]}function pe({overview:e}){return e?[{label:"Toggle Overview",accelerator:"CommandOrControl+P",action:"toggleOverview"},{label:"Reset Overview",accelerator:"CommandOrControl+Shift+P",action:"resetOverview"}]:[]}var ue=n(881),me=n.n(ue),ge=n(316),fe=n(19),ve=n(88),be=n(910),we=n(82),ye=n(14);function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oe=["png","jpeg","svg"],xe={executionPlatform:ye.a.PLATFORM};class ke extends d.a{constructor(e){super(e),Ce(this,"ifMounted",e=>(...t)=>{this._isMounted&&e(...t)}),Ce(this,"isDirty",()=>{let{dirty:e,modeler:t,stackIdx:n}=this.getCached();return e||t.getStackIdx()!==n}),Ce(this,"viewContentChanged",()=>{this.handleChanged()}),Ce(this,"viewsChanged",({activeView:e})=>{const{activeSheet:t,onSheetsChanged:n}=this.props,{dirty:r,stackIdx:o}=this.getCached(),i=this.getCached().activeView,a=this.getModeler(),{element:s}=e,c={...e,id:s.id,name:"Diagram",order:-1};t.id!==c.id&&n([c],c);const l=a.getActiveViewer();let d;!l||i&&i.element===e.element||(d=l.get("propertiesPanel",!1),d&&d.attachTo(this.propertiesPanelRef.current)),"drd"===e.type?a.detachOverview():i&&"drd"===i.type&&(a.attachOverviewTo(this.overviewRef.current),Ee(this.props)&&a._emit("overviewOpen")),this.setCached({activeView:e,dirty:r||a.getStackIdx()!==o}),this.handleChanged()}),Ce(this,"undo",()=>{this.getModeler().getActiveViewer().get("commandStack").undo()}),Ce(this,"redo",()=>{this.getModeler().getActiveViewer().get("commandStack").redo()}),Ce(this,"handleChanged",()=>{const e=this.getModeler(),{onChanged:t}=this.props,n=e.getActiveViewer(),r=e.getActiveView();if(!n)return;const o=this.isDirty(),a=n.get("commandStack"),s=!!n.get("propertiesPanel",!1),c="drd"!==r.type,l=Object(se.a)(),d={close:!0,copy:!1,cut:!1,dirty:o,exportAs:"saveSVG"in n&&Oe,inputActive:l,overview:c,paste:!1,propertiesPanel:s,redo:a.canRedo(),save:!0,undo:a.canUndo()},h=n.get("selection",!1),p=h&&!!h.get()?h.get().length:0;let u;"drd"===r.type?(Object(i.assign)(d,{align:p>1,defaultCopyCutPaste:l,defaultUndoRedo:l,distribute:p>2,editLabel:!l&&!!p,lassoTool:!l,moveCanvas:!l,moveSelection:!l&&!!p,removeSelected:l||!!p,selectAll:!0,zoom:!0}),u=function(e){const{defaultCopyCutPaste:t}=e,n=t?Object(ce.e)(!0):Object(ce.d)(e);return[Object(ce.j)(e),n,Object(ce.i)(e),Object(ce.a)(e),Object(ce.b)(e),Object(ce.h)(e)]}(d)):"decisionTable"===r.type?(Object(i.assign)(d,{defaultCopyCutPaste:!0,defaultUndoRedo:!1,hasSelection:n.get("selection").hasSelection(),removeSelected:l,selectAll:l}),d.dmnRuleEditing=!!p,d.dmnClauseEditing=!!p,u=function(e){const{defaultCopyCutPaste:t}=e,n=t?Object(ce.e)(!0):Object(ce.d)(e);return[Object(ce.j)(e),n,Object(ce.h)(e),...le(e)]}(d)):"literalExpression"===r.type&&(Object(i.assign)(d,{defaultCopyCutPaste:!0,defaultUndoRedo:!0,removeSelected:!0,selectAll:!0}),d.inputActive=!0,u=function(e){const{defaultCopyCutPaste:t}=e,n=t?Object(ce.e)(!0):Object(ce.d)(e);return[Object(ce.j)(e),n,Object(ce.h)(e)]}(d)),d.activeEditor=r.type,d.dmn=!0,d.editable=!0,d.elementsSelected=!!p,d.inactiveInput=!l;const m=[...de(g=d),...he(g),...pe(g)];var g;"function"==typeof t&&t({...d,editMenu:u,windowMenu:m}),this.setState(d)}),Ce(this,"handleError",e=>{const{error:t}=e,{onError:n}=this.props;n(t)}),Ce(this,"handleDistributeElements",e=>{this.triggerAction("distributeElements",{type:e})}),Ce(this,"handleAlignElements",e=>{this.triggerAction("alignElements",{type:e})}),Ce(this,"handleMigration",async e=>{if(!(Object(ve.a)(e,"http://www.omg.org/spec/DMN/20151101/dmn.xsd")||Object(ve.a)(e,"http://www.omg.org/spec/DMN/20180521/MODEL/")))return e;if(!1!==await this.props.getConfig("editor.askDmnMigration")){if(!await this.shouldMigrate())return null}const{onContentUpdated:t}=this.props;let n;try{n=await Object(be.a)(e)}catch(e){return this.handleError({error:e}),null}return t(n),n}),Ce(this,"open",e=>{const{activeView:t,dirty:n,modeler:r,stackIdx:o}=this.getCached();let i=r.getView(e);i||(i=r.getViews().find(t=>t.element.id===e.id)),i&&(t&&t.element===e||(this.setCached({dirty:n||this.getModeler().getStackIdx()!==o}),r.open(i),this.setCached({stackIdx:this.getModeler().getStackIdx()})))}),Ce(this,"triggerAction",(e,t)=>{const{layout:n={},onLayoutChanged:r}=this.props,{propertiesPanel:o={}}=n,i=this.getModeler();if("resize"===e)return this.handleResize();if("toggleProperties"===e){return r({propertiesPanel:{...y.a,...o,open:!o.open}})}if("resetProperties"===e){return r({propertiesPanel:{...y.a,open:!0}})}return"zoomIn"===e&&(e="stepZoom",t={value:1}),"zoomOut"===e&&(e="stepZoom",t={value:-1}),"resetZoom"===e&&(e="zoom",t={value:1}),"zoomFit"===e&&(e="zoom",t={value:"fit-viewport"}),"toggleOverview"===e?this.toggleOverview():"resetOverview"===e?this.resetOverview():i.getActiveViewer().get("editorActions").trigger(e,t)}),Ce(this,"handleResize",()=>{const{modeler:e}=this.getCached(),t=e.getActiveView();if("drd"!==(t&&t.type))return;const n=e.getActiveViewer(),r=n.get("canvas"),o=n.get("eventBus");r.resized(),o.fire("propertiesPanel.resized")}),Ce(this,"handleEditDrdClick",()=>{const e=this.getModeler(),t=e._views.find(({type:e})=>"drd"===e);t&&e.open(t)}),Ce(this,"toggleOverview",()=>{const{layout:e,onLayoutChanged:t}=this.props,n=e.dmnOverview||f;t({dmnOverview:{...n,open:!n.open}})}),this.state={},this.ref=o.a.createRef(),this.overviewRef=o.a.createRef(),this.propertiesPanelRef=o.a.createRef(),this.handleResize=Object(l.a)(this.handleResize)}componentDidMount(){this._isMounted=!0;const e=this.getModeler();this.listen("on"),e.attachTo(this.ref.current);const t=e.getActiveViewer();let n;t&&(n=t.get("propertiesPanel",!1),n&&n.attachTo(this.propertiesPanelRef.current),this.overviewRef.current&&(e.attachOverviewTo(this.overviewRef.current),Ee(this.props)&&e._emit("overviewOpen"))),this.checkImport()}componentWillUnmount(){this._isMounted=!1;const e=this.getModeler();this.listen("off"),e.detach()}componentDidUpdate(e){if(this.checkImport(e),function(e,t){return!1===Ee(t)&&!0===Ee(e)}(this.props,e)){this.getModeler()._emit("overviewOpen")}(function(e,t){return e.cachedState!==t.cachedState})(e,this.props)&&this.handleChanged()}listen(e){const t=this.getModeler();["saveXML.done","attach","view.selectionChanged","view.directEditingChanged","propertiesPanel.focusin","propertiesPanel.focusout"].forEach(n=>{t[e](n,this.handleChanged)}),t[e]("views.changed",this.viewsChanged),t[e]("view.contentChanged",this.viewContentChanged),t[e]("error",this.handleError)}handleImport(e,t){const{activeSheet:n,onImport:r,xml:o}=this.props,i=this.getModeler(),a=i.getStackIdx();if(r(e,t),e)this.setCached({dirty:!1,lastXML:null});else{if(this.setCached({dirty:!1,lastXML:o,stackIdx:a}),this.setState({importing:!1}),n&&n.element)return this.open(n.element);const e=i._getInitialView(i._views);this.open(e.element)}}checkImport(e){if(!this.isImportNeeded(e))return this.checkSheetChange(e);const{xml:t}=this.props;this.importXML(t)}isImportNeeded(e){const{importing:t}=this.state;if(t)return!1;const{xml:n}=this.props;if(e&&e.xml===n)return!1;const{lastXML:r}=this.getCached();return n!==r}async importXML(e){const{modeler:t}=this.getCached();this.setState({importing:!0});const n=await this.handleMigration(e);if(n)return t.importXML(n).then(this.ifMounted(({warnings:e})=>this.handleImport(null,e)),this.ifMounted(e=>this.handleImport(e,e.warnings)));this.props.onAction("close-tab")}async shouldMigrate(){const{onAction:e}=this.props,{button:t,checkboxChecked:n}=await e("show-dialog",{type:"warning",title:"Deprecated DMN 1.1 Diagram Detected",buttons:[{id:"cancel",label:"Cancel"},{id:"yes",label:"Yes"}],defaultId:1,message:"Would you like to migrate your diagram to DMN 1.3?",detail:["Only DMN 1.3 diagrams can be opened with Camunda Modeler v4.0.0 or later."].join("\n"),checkboxChecked:!0,checkboxLabel:"Do not ask again."});return"yes"===t&&n&&this.props.setConfig("editor.askDmnMigration",!1),"yes"===t}checkSheetChange(e){this.shouldOpenActiveSheet(e)&&this.open(this.props.activeSheet.element)}shouldOpenActiveSheet(e){return!e||e.activeSheet.id!==this.props.activeSheet.id}getModeler(){const{modeler:e}=this.getCached();return e}async getXML(){const{lastXML:e,modeler:t}=this.getCached();if(!this.isDirty())return e||this.props.xml;try{const{xml:e}=await t.saveXML({format:!0}),n=t.getStackIdx();return this.setCached({dirty:!1,lastXML:e,stackIdx:n}),e}catch(e){return this.handleError({error:e}),Promise.reject(e)}}async exportAs(e){let t;try{t=await this.exportSVG()}catch(e){return this.handleError({error:e}),Promise.reject(e)}return"svg"===e?t:Object(ge.a)(e,t)}async exportSVG(){const e=this.getModeler().getActiveViewer();if(!e.saveSVG)return Promise.reject(new Error("SVG export not supported in current view"));try{const{svg:t}=await e.saveSVG();return t}catch(e){return Promise.reject(e)}}resetOverview(){const{onLayoutChanged:e}=this.props;e({dmnOverview:{...f}})}render(){const{layout:e,onLayoutChanged:t}=this.props,n=this.getModeler().getDefinitions(),{importing:r}=this.state,i=this.getModeler(),a=i.getActiveView(),l=a&&"drd"===a.type,d=i.getActiveViewer(),h=Ee(this.props),p=!r&&d&&!!d.get("propertiesPanel",!1);return o.a.createElement("div",{className:me.a.DmnEditor},o.a.createElement(c.a,{hidden:n&&!r}),!l&&o.a.createElement("div",{className:"top"},o.a.createElement("button",{id:"button-edit-drd",className:"button",onClick:this.handleEditDrdClick},"Edit DRD"),o.a.createElement("button",{id:"button-toggle-overview",className:"button",onClick:this.toggleOverview},h?"Close":"Open"," Overview")),o.a.createElement("div",{className:"bottom"},!l&&o.a.createElement(b,{className:"overview",layout:e,ref:this.overviewRef,onLayoutChanged:t}),o.a.createElement("div",{className:s()("diagram",{drd:l}),ref:this.ref}),p&&o.a.createElement(y.b,{className:"properties",layout:e,ref:this.propertiesPanelRef,onLayoutChanged:t})),o.a.createElement(we.a,{engineProfile:xe}))}static createCachedState(e){const{name:t,version:n}=fe.a,{getPlugins:r,onAction:o,onError:a}=e,{options:s,warnings:c}=function(e,t={},n){const r=[];function o(e){"string"==typeof e&&(e=new Error(e)),r.push(e)}function i(t){return function(n){const r=e(`dmn.modeler.${t}.additionalModules`);return r.length?{...n,[t]:{...n[t],additionalModules:[...(n[t]||{}).additionalModules||[],...r]}}:n}}const a=[function(t,n){const r=e("dmn.modeler.moddleExtension").reduce((e,t)=>{let{name:r}=t;return"string"!=typeof r?(n("dmn.modeler.moddleExtension is missing <name> property"),e):(r in(e=e||{})&&n("dmn.modeler.moddleExtension overrides moddle extension with name <"+r+">"),{...e,[r]:t})},t.moddleExtensions);return r?{...t,moddleExtensions:r}:t},i("drd"),i("decisionTable"),i("literalExpression")];let s={...t};return"function"==typeof n&&n(a),a.forEach(e=>{s=e(s,o)}),{options:s,warnings:r}}(r,{exporter:{name:t,version:n}},e=>{o("emit-event",{type:"dmn.modeler.configure",payload:{middlewares:e}})});c.length&&Object(i.isFunction)(a)&&a("Problem(s) configuring DMN editor: \n\t"+c.map(e=>e.message).join("\n\t")+"\n");const l=new ie({...s,position:"absolute"}),d=l.getStackIdx();return o("emit-event",{type:"dmn.modeler.created",payload:{modeler:l}}),{__destroy:()=>{l.destroy()},dirty:!1,lastXML:null,modeler:l,stackIdx:d}}}var je=Object(d.b)(Object(d.c)(ke));function Ee(e){const t=(e.layout||{}).dmnOverview;return!t||t.open}var _e=n(329),Me=n(311);var Se=Object(Me.a)("DmnTab",[{type:"dmn",editor:je,defaultName:"Diagram (Camunda Platform)"},{type:"xml",editor:_e.a,isFallback:!0,defaultName:"XML"}]);n.d(t,"default",(function(){return Se}))}}]);
//# sourceMappingURL=12.12.js.map